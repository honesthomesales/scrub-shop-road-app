function DI(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function PI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var PN={exports:{}},xp={},MN={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=Symbol.for("react.element"),MI=Symbol.for("react.portal"),RI=Symbol.for("react.fragment"),II=Symbol.for("react.strict_mode"),$I=Symbol.for("react.profiler"),LI=Symbol.for("react.provider"),FI=Symbol.for("react.context"),BI=Symbol.for("react.forward_ref"),UI=Symbol.for("react.suspense"),HI=Symbol.for("react.memo"),zI=Symbol.for("react.lazy"),kS=Symbol.iterator;function WI(t){return t===null||typeof t!="object"?null:(t=kS&&t[kS]||t["@@iterator"],typeof t=="function"?t:null)}var RN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IN=Object.assign,$N={};function ol(t,e,r){this.props=t,this.context=e,this.refs=$N,this.updater=r||RN}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LN(){}LN.prototype=ol.prototype;function Ox(t,e,r){this.props=t,this.context=e,this.refs=$N,this.updater=r||RN}var Dx=Ox.prototype=new LN;Dx.constructor=Ox;IN(Dx,ol.prototype);Dx.isPureReactComponent=!0;var OS=Array.isArray,FN=Object.prototype.hasOwnProperty,Px={current:null},BN={key:!0,ref:!0,__self:!0,__source:!0};function UN(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)FN.call(e,n)&&!BN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Uu,type:t,key:a,ref:s,props:i,_owner:Px.current}}function VI(t,e){return{$$typeof:Uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uu}function GI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var DS=/\/+/g;function Vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GI(""+t.key):e.toString(36)}function Xd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Uu:case MI:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Vm(s,0):n,OS(i)?(r="",t!=null&&(r=t.replace(DS,"$&/")+"/"),Xd(i,e,r,"",function(u){return u})):i!=null&&(Mx(i)&&(i=VI(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(DS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",OS(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Vm(a,o);s+=Xd(a,e,r,l,i)}else if(l=WI(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Vm(a,o++),s+=Xd(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ad(t,e,r){if(t==null)return t;var n=[],i=0;return Xd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function qI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fr={current:null},Zd={transition:null},YI={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Zd,ReactCurrentOwner:Px};function HN(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:ad,forEach:function(t,e,r){ad(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ad(t,function(){e++}),e},toArray:function(t){return ad(t,function(e){return e})||[]},only:function(t){if(!Mx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ol;Pe.Fragment=RI;Pe.Profiler=$I;Pe.PureComponent=Ox;Pe.StrictMode=II;Pe.Suspense=UI;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YI;Pe.act=HN;Pe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=IN({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Px.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)FN.call(e,l)&&!BN.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Uu,type:t.type,key:i,ref:a,props:n,_owner:s}};Pe.createContext=function(t){return t={$$typeof:FI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LI,_context:t},t.Consumer=t};Pe.createElement=UN;Pe.createFactory=function(t){var e=UN.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:BI,render:t}};Pe.isValidElement=Mx;Pe.lazy=function(t){return{$$typeof:zI,_payload:{_status:-1,_result:t},_init:qI}};Pe.memo=function(t,e){return{$$typeof:HI,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Zd.transition;Zd.transition={};try{t()}finally{Zd.transition=e}};Pe.unstable_act=HN;Pe.useCallback=function(t,e){return fr.current.useCallback(t,e)};Pe.useContext=function(t){return fr.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return fr.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return fr.current.useEffect(t,e)};Pe.useId=function(){return fr.current.useId()};Pe.useImperativeHandle=function(t,e,r){return fr.current.useImperativeHandle(t,e,r)};Pe.useInsertionEffect=function(t,e){return fr.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return fr.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return fr.current.useMemo(t,e)};Pe.useReducer=function(t,e,r){return fr.current.useReducer(t,e,r)};Pe.useRef=function(t){return fr.current.useRef(t)};Pe.useState=function(t){return fr.current.useState(t)};Pe.useSyncExternalStore=function(t,e,r){return fr.current.useSyncExternalStore(t,e,r)};Pe.useTransition=function(){return fr.current.useTransition()};Pe.version="18.3.1";MN.exports=Pe;var C=MN.exports;const I=Ze(C),KI=DI({__proto__:null,default:I},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI=C,XI=Symbol.for("react.element"),ZI=Symbol.for("react.fragment"),JI=Object.prototype.hasOwnProperty,e$=QI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t$={key:!0,ref:!0,__self:!0,__source:!0};function zN(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)JI.call(e,n)&&!t$.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:XI,type:t,key:a,ref:s,props:i,_owner:e$.current}}xp.Fragment=ZI;xp.jsx=zN;xp.jsxs=zN;PN.exports=xp;var c=PN.exports,Ev={},WN={exports:{}},$r={},VN={exports:{}},GN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var U=$.length;$.push(B);e:for(;0<U;){var H=U-1>>>1,V=$[H];if(0<i(V,B))$[H]=B,$[U]=V,U=H;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var B=$[0],U=$.pop();if(U!==B){$[0]=U;e:for(var H=0,V=$.length,q=V>>>1;H<q;){var re=2*(H+1)-1,se=$[re],fe=re+1,_e=$[fe];if(0>i(se,U))fe<V&&0>i(_e,se)?($[H]=_e,$[fe]=U,H=fe):($[H]=se,$[re]=U,H=re);else if(fe<V&&0>i(_e,U))$[H]=_e,$[fe]=U,H=fe;else break e}}return B}function i($,B){var U=$.sortIndex-B.sortIndex;return U!==0?U:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=$)n(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(u)}}function S($){if(g=!1,b($),!m)if(r(l)!==null)m=!0,G(w);else{var B=r(u);B!==null&&M(S,B.startTime-$)}}function w($,B){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var U=h;try{for(b(B),f=r(l);f!==null&&(!(f.expirationTime>B)||$&&!D());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=B);B=t.unstable_now(),typeof V=="function"?f.callback=V:f===r(l)&&n(l),b(B)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var re=r(u);re!==null&&M(S,re.startTime-B),q=!1}return q}finally{f=null,h=U,p=!1}}var _=!1,j=null,E=-1,A=5,k=-1;function D(){return!(t.unstable_now()-k<A)}function P(){if(j!==null){var $=t.unstable_now();k=$;var B=!0;try{B=j(!0,$)}finally{B?O():(_=!1,j=null)}}else _=!1}var O;if(typeof y=="function")O=function(){y(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=P,O=function(){W.postMessage(null)}}else O=function(){v(P,0)};function G($){j=$,_||(_=!0,O())}function M($,B){E=v(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,G(w))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var U=h;h=B;try{return $()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var U=h;h=$;try{return B()}finally{h=U}},t.unstable_scheduleCallback=function($,B,U){var H=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,$={id:d++,callback:B,priorityLevel:$,startTime:U,expirationTime:V,sortIndex:-1},U>H?($.sortIndex=U,e(u,$),r(l)===null&&$===r(u)&&(g?(x(E),E=-1):g=!0,M(S,U-H))):($.sortIndex=V,e(l,$),m||p||(m=!0,G(w))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var B=h;return function(){var U=h;h=B;try{return $.apply(this,arguments)}finally{h=U}}}})(GN);VN.exports=GN;var r$=VN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n$=C,Ir=r$;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qN=new Set,Ic={};function xs(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Ic[t]=e,t=0;t<e.length;t++)qN.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jv=Object.prototype.hasOwnProperty,i$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PS={},MS={};function a$(t){return jv.call(MS,t)?!0:jv.call(PS,t)?!1:i$.test(t)?MS[t]=!0:(PS[t]=!0,!1)}function s$(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function o$(t,e,r,n){if(e===null||typeof e>"u"||s$(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rx=/[\-:]([a-z])/g;function Ix(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rx,Ix);Qt[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rx,Ix);Qt[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rx,Ix);Qt[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function $x(t,e,r,n){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o$(e,r,i,n)&&(r=null),n||i===null?a$(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vi=n$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sd=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Gs=Symbol.for("react.fragment"),Lx=Symbol.for("react.strict_mode"),Av=Symbol.for("react.profiler"),YN=Symbol.for("react.provider"),KN=Symbol.for("react.context"),Fx=Symbol.for("react.forward_ref"),Tv=Symbol.for("react.suspense"),Nv=Symbol.for("react.suspense_list"),Bx=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),QN=Symbol.for("react.offscreen"),RS=Symbol.iterator;function Pl(t){return t===null||typeof t!="object"?null:(t=RS&&t[RS]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Gm;function ic(t){if(Gm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gm=e&&e[1]||""}return`
`+Gm+t}var qm=!1;function Ym(t,e){if(!t||qm)return"";qm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{qm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ic(t):""}function l$(t){switch(t.tag){case 5:return ic(t.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return t=Ym(t.type,!1),t;case 11:return t=Ym(t.type.render,!1),t;case 1:return t=Ym(t.type,!0),t;default:return""}}function Cv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case Vs:return"Portal";case Av:return"Profiler";case Lx:return"StrictMode";case Tv:return"Suspense";case Nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KN:return(t.displayName||"Context")+".Consumer";case YN:return(t._context.displayName||"Context")+".Provider";case Fx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bx:return e=t.displayName||null,e!==null?e:Cv(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return Cv(t(e))}catch{}}return null}function c$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cv(e);case 8:return e===Lx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function u$(t){var e=XN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=u$(t))}function ZN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=XN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kv(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function IS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=sa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JN(t,e){e=e.checked,e!=null&&$x(t,"checked",e,!1)}function Ov(t,e){JN(t,e);var r=sa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dv(t,e.type,r):e.hasOwnProperty("defaultValue")&&Dv(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $S(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Dv(t,e,r){(e!=="number"||bf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ac=Array.isArray;function oo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+sa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function LS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(ac(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:sa(r)}}function eC(t,e){var r=sa(e.value),n=sa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function FS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ld,rC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ld.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $c(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d$=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(t){d$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pc[e]=pc[t]})});function nC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pc.hasOwnProperty(t)&&pc[t]?(""+e).trim():e+"px"}function iC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=nC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var f$=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rv(t,e){if(e){if(f$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Iv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=null;function Ux(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lv=null,lo=null,co=null;function BS(t){if(t=Wu(t)){if(typeof Lv!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Ep(e),Lv(t.stateNode,t.type,e))}}function aC(t){lo?co?co.push(t):co=[t]:lo=t}function sC(){if(lo){var t=lo,e=co;if(co=lo=null,BS(t),e)for(t=0;t<e.length;t++)BS(e[t])}}function oC(t,e){return t(e)}function lC(){}var Km=!1;function cC(t,e,r){if(Km)return t(e,r);Km=!0;try{return oC(t,e,r)}finally{Km=!1,(lo!==null||co!==null)&&(lC(),sC())}}function Lc(t,e){var r=t.stateNode;if(r===null)return null;var n=Ep(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var Fv=!1;if(li)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){Fv=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Fv=!1}function h$(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var mc=!1,wf=null,Sf=!1,Bv=null,p$={onError:function(t){mc=!0,wf=t}};function m$(t,e,r,n,i,a,s,o,l){mc=!1,wf=null,h$.apply(p$,arguments)}function g$(t,e,r,n,i,a,s,o,l){if(m$.apply(this,arguments),mc){if(mc){var u=wf;mc=!1,wf=null}else throw Error(te(198));Sf||(Sf=!0,Bv=u)}}function bs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function uC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function US(t){if(bs(t)!==t)throw Error(te(188))}function v$(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return US(i),t;if(a===n)return US(i),e;a=a.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function dC(t){return t=v$(t),t!==null?fC(t):null}function fC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fC(t);if(e!==null)return e;t=t.sibling}return null}var hC=Ir.unstable_scheduleCallback,HS=Ir.unstable_cancelCallback,y$=Ir.unstable_shouldYield,x$=Ir.unstable_requestPaint,St=Ir.unstable_now,b$=Ir.unstable_getCurrentPriorityLevel,Hx=Ir.unstable_ImmediatePriority,pC=Ir.unstable_UserBlockingPriority,_f=Ir.unstable_NormalPriority,w$=Ir.unstable_LowPriority,mC=Ir.unstable_IdlePriority,bp=null,Dn=null;function S$(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(bp,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:j$,_$=Math.log,E$=Math.LN2;function j$(t){return t>>>=0,t===0?32:31-(_$(t)/E$|0)|0}var cd=64,ud=4194304;function sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=sc(o):(a&=s,a!==0&&(n=sc(a)))}else s=r&~i,s!==0?n=sc(s):a!==0&&(n=sc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vn(e),i=1<<r,n|=t[r],e&=~i;return n}function A$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T$(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-vn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=A$(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Uv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gC(){var t=cd;return cd<<=1,!(cd&4194240)&&(cd=64),t}function Qm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=r}function N$(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-vn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function zx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ge=0;function vC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yC,Wx,xC,bC,wC,Hv=!1,dd=[],qi=null,Yi=null,Ki=null,Fc=new Map,Bc=new Map,Mi=[],C$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zS(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(e.pointerId)}}function Rl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Wu(e),e!==null&&Wx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function k$(t,e,r,n,i){switch(e){case"focusin":return qi=Rl(qi,t,e,r,n,i),!0;case"dragenter":return Yi=Rl(Yi,t,e,r,n,i),!0;case"mouseover":return Ki=Rl(Ki,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Fc.set(a,Rl(Fc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Bc.set(a,Rl(Bc.get(a)||null,t,e,r,n,i)),!0}return!1}function SC(t){var e=Ha(t.target);if(e!==null){var r=bs(e);if(r!==null){if(e=r.tag,e===13){if(e=uC(r),e!==null){t.blockedOn=e,wC(t.priority,function(){xC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=zv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$v=n,r.target.dispatchEvent(n),$v=null}else return e=Wu(r),e!==null&&Wx(e),t.blockedOn=r,!1;e.shift()}return!0}function WS(t,e,r){Jd(t)&&r.delete(e)}function O$(){Hv=!1,qi!==null&&Jd(qi)&&(qi=null),Yi!==null&&Jd(Yi)&&(Yi=null),Ki!==null&&Jd(Ki)&&(Ki=null),Fc.forEach(WS),Bc.forEach(WS)}function Il(t,e){t.blockedOn===e&&(t.blockedOn=null,Hv||(Hv=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,O$)))}function Uc(t){function e(i){return Il(i,t)}if(0<dd.length){Il(dd[0],t);for(var r=1;r<dd.length;r++){var n=dd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qi!==null&&Il(qi,t),Yi!==null&&Il(Yi,t),Ki!==null&&Il(Ki,t),Fc.forEach(e),Bc.forEach(e),r=0;r<Mi.length;r++)n=Mi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Mi.length&&(r=Mi[0],r.blockedOn===null);)SC(r),r.blockedOn===null&&Mi.shift()}var uo=vi.ReactCurrentBatchConfig,jf=!0;function D$(t,e,r,n){var i=Ge,a=uo.transition;uo.transition=null;try{Ge=1,Vx(t,e,r,n)}finally{Ge=i,uo.transition=a}}function P$(t,e,r,n){var i=Ge,a=uo.transition;uo.transition=null;try{Ge=4,Vx(t,e,r,n)}finally{Ge=i,uo.transition=a}}function Vx(t,e,r,n){if(jf){var i=zv(t,e,r,n);if(i===null)sg(t,e,n,Af,r),zS(t,n);else if(k$(i,t,e,r,n))n.stopPropagation();else if(zS(t,n),e&4&&-1<C$.indexOf(t)){for(;i!==null;){var a=Wu(i);if(a!==null&&yC(a),a=zv(t,e,r,n),a===null&&sg(t,e,n,Af,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else sg(t,e,n,null,r)}}var Af=null;function zv(t,e,r,n){if(Af=null,t=Ux(n),t=Ha(t),t!==null)if(e=bs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=uC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Af=t,null}function _C(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b$()){case Hx:return 1;case pC:return 4;case _f:case w$:return 16;case mC:return 536870912;default:return 16}default:return 16}}var Li=null,Gx=null,ef=null;function EC(){if(ef)return ef;var t,e=Gx,r=e.length,n,i="value"in Li?Li.value:Li.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return ef=i.slice(t,1<n?1-n:void 0)}function tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fd(){return!0}function VS(){return!1}function Lr(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fd:VS,this.isPropagationStopped=VS,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qx=Lr(ll),zu=yt({},ll,{view:0,detail:0}),M$=Lr(zu),Xm,Zm,$l,wp=yt({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(Xm=t.screenX-$l.screenX,Zm=t.screenY-$l.screenY):Zm=Xm=0,$l=t),Xm)},movementY:function(t){return"movementY"in t?t.movementY:Zm}}),GS=Lr(wp),R$=yt({},wp,{dataTransfer:0}),I$=Lr(R$),$$=yt({},zu,{relatedTarget:0}),Jm=Lr($$),L$=yt({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),F$=Lr(L$),B$=yt({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U$=Lr(B$),H$=yt({},ll,{data:0}),qS=Lr(H$),z$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=V$[t])?!!e[t]:!1}function Yx(){return G$}var q$=yt({},zu,{key:function(t){if(t.key){var e=z$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yx,charCode:function(t){return t.type==="keypress"?tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y$=Lr(q$),K$=yt({},wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YS=Lr(K$),Q$=yt({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yx}),X$=Lr(Q$),Z$=yt({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),J$=Lr(Z$),eL=yt({},wp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tL=Lr(eL),rL=[9,13,27,32],Kx=li&&"CompositionEvent"in window,gc=null;li&&"documentMode"in document&&(gc=document.documentMode);var nL=li&&"TextEvent"in window&&!gc,jC=li&&(!Kx||gc&&8<gc&&11>=gc),KS=String.fromCharCode(32),QS=!1;function AC(t,e){switch(t){case"keyup":return rL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function iL(t,e){switch(t){case"compositionend":return TC(e);case"keypress":return e.which!==32?null:(QS=!0,KS);case"textInput":return t=e.data,t===KS&&QS?null:t;default:return null}}function aL(t,e){if(qs)return t==="compositionend"||!Kx&&AC(t,e)?(t=EC(),ef=Gx=Li=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jC&&e.locale!=="ko"?null:e.data;default:return null}}var sL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sL[t.type]:e==="textarea"}function NC(t,e,r,n){aC(n),e=Tf(e,"onChange"),0<e.length&&(r=new qx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vc=null,Hc=null;function oL(t){FC(t,0)}function Sp(t){var e=Qs(t);if(ZN(e))return t}function lL(t,e){if(t==="change")return e}var CC=!1;if(li){var eg;if(li){var tg="oninput"in document;if(!tg){var ZS=document.createElement("div");ZS.setAttribute("oninput","return;"),tg=typeof ZS.oninput=="function"}eg=tg}else eg=!1;CC=eg&&(!document.documentMode||9<document.documentMode)}function JS(){vc&&(vc.detachEvent("onpropertychange",kC),Hc=vc=null)}function kC(t){if(t.propertyName==="value"&&Sp(Hc)){var e=[];NC(e,Hc,t,Ux(t)),cC(oL,e)}}function cL(t,e,r){t==="focusin"?(JS(),vc=e,Hc=r,vc.attachEvent("onpropertychange",kC)):t==="focusout"&&JS()}function uL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sp(Hc)}function dL(t,e){if(t==="click")return Sp(e)}function fL(t,e){if(t==="input"||t==="change")return Sp(e)}function hL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:hL;function zc(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!jv.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function e_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t_(t,e){var r=e_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=e_(r)}}function OC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DC(){for(var t=window,e=bf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=bf(t.document)}return e}function Qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pL(t){var e=DC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&OC(r.ownerDocument.documentElement,r)){if(n!==null&&Qx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=t_(r,a);var s=t_(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mL=li&&"documentMode"in document&&11>=document.documentMode,Ys=null,Wv=null,yc=null,Vv=!1;function r_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vv||Ys==null||Ys!==bf(n)||(n=Ys,"selectionStart"in n&&Qx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yc&&zc(yc,n)||(yc=n,n=Tf(Wv,"onSelect"),0<n.length&&(e=new qx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ys)))}function hd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ks={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},rg={},PC={};li&&(PC=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function _p(t){if(rg[t])return rg[t];if(!Ks[t])return t;var e=Ks[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in PC)return rg[t]=e[r];return t}var MC=_p("animationend"),RC=_p("animationiteration"),IC=_p("animationstart"),$C=_p("transitionend"),LC=new Map,n_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){LC.set(t,e),xs(e,[t])}for(var ng=0;ng<n_.length;ng++){var ig=n_[ng],gL=ig.toLowerCase(),vL=ig[0].toUpperCase()+ig.slice(1);ha(gL,"on"+vL)}ha(MC,"onAnimationEnd");ha(RC,"onAnimationIteration");ha(IC,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha($C,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yL=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function i_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,g$(n,e,void 0,t),t.currentTarget=null}function FC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;i_(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;i_(i,o,u),a=l}}}if(Sf)throw t=Bv,Sf=!1,Bv=null,t}function lt(t,e){var r=e[Qv];r===void 0&&(r=e[Qv]=new Set);var n=t+"__bubble";r.has(n)||(BC(e,t,2,!1),r.add(n))}function ag(t,e,r){var n=0;e&&(n|=4),BC(r,t,n,e)}var pd="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[pd]){t[pd]=!0,qN.forEach(function(r){r!=="selectionchange"&&(yL.has(r)||ag(r,!1,t),ag(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pd]||(e[pd]=!0,ag("selectionchange",!1,e))}}function BC(t,e,r,n){switch(_C(e)){case 1:var i=D$;break;case 4:i=P$;break;default:i=Vx}r=i.bind(null,e,r,t),i=void 0,!Fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function sg(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ha(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}cC(function(){var u=a,d=Ux(r),f=[];e:{var h=LC.get(t);if(h!==void 0){var p=qx,m=t;switch(t){case"keypress":if(tf(r)===0)break e;case"keydown":case"keyup":p=Y$;break;case"focusin":m="focus",p=Jm;break;case"focusout":m="blur",p=Jm;break;case"beforeblur":case"afterblur":p=Jm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=GS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=I$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=X$;break;case MC:case RC:case IC:p=F$;break;case $C:p=J$;break;case"scroll":p=M$;break;case"wheel":p=tL;break;case"copy":case"cut":case"paste":p=U$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YS}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=Lc(y,x),S!=null&&g.push(Vc(y,S,b)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==$v&&(m=r.relatedTarget||r.fromElement)&&(Ha(m)||m[ci]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Ha(m):null,m!==null&&(v=bs(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=GS,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=YS,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:Qs(p),b=m==null?h:Qs(m),h=new g(S,y+"leave",p,r,d),h.target=v,h.relatedTarget=b,S=null,Ha(d)===u&&(g=new g(x,y+"enter",m,r,d),g.target=b,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,x=m,y=0,b=g;b;b=Ps(b))y++;for(b=0,S=x;S;S=Ps(S))b++;for(;0<y-b;)g=Ps(g),y--;for(;0<b-y;)x=Ps(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ps(g),x=Ps(x)}g=null}else g=null;p!==null&&a_(f,h,p,g,!1),m!==null&&v!==null&&a_(f,v,m,g,!0)}}e:{if(h=u?Qs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=lL;else if(XS(h))if(CC)w=fL;else{w=uL;var _=cL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=dL);if(w&&(w=w(t,u))){NC(f,w,r,d);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Dv(h,"number",h.value)}switch(_=u?Qs(u):window,t){case"focusin":(XS(_)||_.contentEditable==="true")&&(Ys=_,Wv=u,yc=null);break;case"focusout":yc=Wv=Ys=null;break;case"mousedown":Vv=!0;break;case"contextmenu":case"mouseup":case"dragend":Vv=!1,r_(f,r,d);break;case"selectionchange":if(mL)break;case"keydown":case"keyup":r_(f,r,d)}var j;if(Kx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qs?AC(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(jC&&r.locale!=="ko"&&(qs||E!=="onCompositionStart"?E==="onCompositionEnd"&&qs&&(j=EC()):(Li=d,Gx="value"in Li?Li.value:Li.textContent,qs=!0)),_=Tf(u,E),0<_.length&&(E=new qS(E,t,null,r,d),f.push({event:E,listeners:_}),j?E.data=j:(j=TC(r),j!==null&&(E.data=j)))),(j=nL?iL(t,r):aL(t,r))&&(u=Tf(u,"onBeforeInput"),0<u.length&&(d=new qS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}FC(f,e)})}function Vc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Tf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Lc(t,r),a!=null&&n.unshift(Vc(t,a,i)),a=Lc(t,e),a!=null&&n.push(Vc(t,a,i))),t=t.return}return n}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a_(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Lc(r,a),l!=null&&s.unshift(Vc(r,l,o))):i||(l=Lc(r,a),l!=null&&s.push(Vc(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var xL=/\r\n?/g,bL=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(xL,`
`).replace(bL,"")}function md(t,e,r){if(e=s_(e),s_(t)!==e&&r)throw Error(te(425))}function Nf(){}var Gv=null,qv=null;function Yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kv=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,SL=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(_L)}:Kv;function _L(t){setTimeout(function(){throw t})}function og(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Uc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Uc(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Nn="__reactFiber$"+cl,Gc="__reactProps$"+cl,ci="__reactContainer$"+cl,Qv="__reactEvents$"+cl,EL="__reactListeners$"+cl,jL="__reactHandles$"+cl;function Ha(t){var e=t[Nn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ci]||r[Nn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=l_(t);t!==null;){if(r=t[Nn])return r;t=l_(t)}return e}t=r,r=t.parentNode}return null}function Wu(t){return t=t[Nn]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Ep(t){return t[Gc]||null}var Xv=[],Xs=-1;function pa(t){return{current:t}}function dt(t){0>Xs||(t.current=Xv[Xs],Xv[Xs]=null,Xs--)}function it(t,e){Xs++,Xv[Xs]=t.current,t.current=e}var oa={},or=pa(oa),wr=pa(!1),is=oa;function _o(t,e){var r=t.type.contextTypes;if(!r)return oa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(t){return t=t.childContextTypes,t!=null}function Cf(){dt(wr),dt(or)}function c_(t,e,r){if(or.current!==oa)throw Error(te(168));it(or,e),it(wr,r)}function UC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,c$(t)||"Unknown",i));return yt({},r,n)}function kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oa,is=or.current,it(or,t),it(wr,wr.current),!0}function u_(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=UC(t,e,is),n.__reactInternalMemoizedMergedChildContext=t,dt(wr),dt(or),it(or,t)):dt(wr),it(wr,r)}var Kn=null,jp=!1,lg=!1;function HC(t){Kn===null?Kn=[t]:Kn.push(t)}function AL(t){jp=!0,HC(t)}function ma(){if(!lg&&Kn!==null){lg=!0;var t=0,e=Ge;try{var r=Kn;for(Ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Kn=null,jp=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),hC(Hx,ma),i}finally{Ge=e,lg=!1}}return null}var Zs=[],Js=0,Of=null,Df=0,Vr=[],Gr=0,as=null,Xn=1,Zn="";function ka(t,e){Zs[Js++]=Df,Zs[Js++]=Of,Of=t,Df=e}function zC(t,e,r){Vr[Gr++]=Xn,Vr[Gr++]=Zn,Vr[Gr++]=as,as=t;var n=Xn;t=Zn;var i=32-vn(n)-1;n&=~(1<<i),r+=1;var a=32-vn(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Xn=1<<32-vn(e)+i|r<<i|n,Zn=a+t}else Xn=1<<a|r<<i|n,Zn=t}function Xx(t){t.return!==null&&(ka(t,1),zC(t,1,0))}function Zx(t){for(;t===Of;)Of=Zs[--Js],Zs[Js]=null,Df=Zs[--Js],Zs[Js]=null;for(;t===as;)as=Vr[--Gr],Vr[Gr]=null,Zn=Vr[--Gr],Vr[Gr]=null,Xn=Vr[--Gr],Vr[Gr]=null}var Pr=null,Or=null,ft=!1,hn=null;function WC(t,e){var r=Yr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function d_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Or=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=as!==null?{id:Xn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Yr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pr=t,Or=null,!0):!1;default:return!1}}function Zv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jv(t){if(ft){var e=Or;if(e){var r=e;if(!d_(t,e)){if(Zv(t))throw Error(te(418));e=Qi(r.nextSibling);var n=Pr;e&&d_(t,e)?WC(n,r):(t.flags=t.flags&-4097|2,ft=!1,Pr=t)}}else{if(Zv(t))throw Error(te(418));t.flags=t.flags&-4097|2,ft=!1,Pr=t}}}function f_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function gd(t){if(t!==Pr)return!1;if(!ft)return f_(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yv(t.type,t.memoizedProps)),e&&(e=Or)){if(Zv(t))throw VC(),Error(te(418));for(;e;)WC(t,e),e=Qi(e.nextSibling)}if(f_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Or=Qi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Or=null}}else Or=Pr?Qi(t.stateNode.nextSibling):null;return!0}function VC(){for(var t=Or;t;)t=Qi(t.nextSibling)}function Eo(){Or=Pr=null,ft=!1}function Jx(t){hn===null?hn=[t]:hn.push(t)}var TL=vi.ReactCurrentBatchConfig;function Ll(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function vd(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h_(t){var e=t._init;return e(t._payload)}function GC(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=ea(x,y),x.index=0,x.sibling=null,x}function a(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,S){return y===null||y.tag!==6?(y=mg(b,x.mode,S),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,S){var w=b.type;return w===Gs?d(x,y,b.props.children,S,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ci&&h_(w)===y.type)?(S=i(y,b.props),S.ref=Ll(x,y,b),S.return=x,S):(S=cf(b.type,b.key,b.props,null,x.mode,S),S.ref=Ll(x,y,b),S.return=x,S)}function u(x,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=gg(b,x.mode,S),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function d(x,y,b,S,w){return y===null||y.tag!==7?(y=Za(b,x.mode,S,w),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=mg(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sd:return b=cf(y.type,y.key,y.props,null,x.mode,b),b.ref=Ll(x,null,y),b.return=x,b;case Vs:return y=gg(y,x.mode,b),y.return=x,y;case Ci:var S=y._init;return f(x,S(y._payload),b)}if(ac(y)||Pl(y))return y=Za(y,x.mode,b,null),y.return=x,y;vd(x,y)}return null}function h(x,y,b,S){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(x,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sd:return b.key===w?l(x,y,b,S):null;case Vs:return b.key===w?u(x,y,b,S):null;case Ci:return w=b._init,h(x,y,w(b._payload),S)}if(ac(b)||Pl(b))return w!==null?null:d(x,y,b,S,null);vd(x,b)}return null}function p(x,y,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,o(y,x,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sd:return x=x.get(S.key===null?b:S.key)||null,l(y,x,S,w);case Vs:return x=x.get(S.key===null?b:S.key)||null,u(y,x,S,w);case Ci:var _=S._init;return p(x,y,b,_(S._payload),w)}if(ac(S)||Pl(S))return x=x.get(b)||null,d(y,x,S,w,null);vd(y,S)}return null}function m(x,y,b,S){for(var w=null,_=null,j=y,E=y=0,A=null;j!==null&&E<b.length;E++){j.index>E?(A=j,j=null):A=j.sibling;var k=h(x,j,b[E],S);if(k===null){j===null&&(j=A);break}t&&j&&k.alternate===null&&e(x,j),y=a(k,y,E),_===null?w=k:_.sibling=k,_=k,j=A}if(E===b.length)return r(x,j),ft&&ka(x,E),w;if(j===null){for(;E<b.length;E++)j=f(x,b[E],S),j!==null&&(y=a(j,y,E),_===null?w=j:_.sibling=j,_=j);return ft&&ka(x,E),w}for(j=n(x,j);E<b.length;E++)A=p(j,x,E,b[E],S),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?E:A.key),y=a(A,y,E),_===null?w=A:_.sibling=A,_=A);return t&&j.forEach(function(D){return e(x,D)}),ft&&ka(x,E),w}function g(x,y,b,S){var w=Pl(b);if(typeof w!="function")throw Error(te(150));if(b=w.call(b),b==null)throw Error(te(151));for(var _=w=null,j=y,E=y=0,A=null,k=b.next();j!==null&&!k.done;E++,k=b.next()){j.index>E?(A=j,j=null):A=j.sibling;var D=h(x,j,k.value,S);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(x,j),y=a(D,y,E),_===null?w=D:_.sibling=D,_=D,j=A}if(k.done)return r(x,j),ft&&ka(x,E),w;if(j===null){for(;!k.done;E++,k=b.next())k=f(x,k.value,S),k!==null&&(y=a(k,y,E),_===null?w=k:_.sibling=k,_=k);return ft&&ka(x,E),w}for(j=n(x,j);!k.done;E++,k=b.next())k=p(j,x,E,k.value,S),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?E:k.key),y=a(k,y,E),_===null?w=k:_.sibling=k,_=k);return t&&j.forEach(function(P){return e(x,P)}),ft&&ka(x,E),w}function v(x,y,b,S){if(typeof b=="object"&&b!==null&&b.type===Gs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case sd:e:{for(var w=b.key,_=y;_!==null;){if(_.key===w){if(w=b.type,w===Gs){if(_.tag===7){r(x,_.sibling),y=i(_,b.props.children),y.return=x,x=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ci&&h_(w)===_.type){r(x,_.sibling),y=i(_,b.props),y.ref=Ll(x,_,b),y.return=x,x=y;break e}r(x,_);break}else e(x,_);_=_.sibling}b.type===Gs?(y=Za(b.props.children,x.mode,S,b.key),y.return=x,x=y):(S=cf(b.type,b.key,b.props,null,x.mode,S),S.ref=Ll(x,y,b),S.return=x,x=S)}return s(x);case Vs:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=gg(b,x.mode,S),y.return=x,x=y}return s(x);case Ci:return _=b._init,v(x,y,_(b._payload),S)}if(ac(b))return m(x,y,b,S);if(Pl(b))return g(x,y,b,S);vd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,b),y.return=x,x=y):(r(x,y),y=mg(b,x.mode,S),y.return=x,x=y),s(x)):r(x,y)}return v}var jo=GC(!0),qC=GC(!1),Pf=pa(null),Mf=null,eo=null,eb=null;function tb(){eb=eo=Mf=null}function rb(t){var e=Pf.current;dt(Pf),t._currentValue=e}function ey(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function fo(t,e){Mf=t,eb=eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yr=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(eb!==t)if(t={context:t,memoizedValue:e,next:null},eo===null){if(Mf===null)throw Error(te(308));eo=t,Mf.dependencies={lanes:0,firstContext:t}}else eo=eo.next=t;return e}var za=null;function nb(t){za===null?za=[t]:za.push(t)}function YC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,nb(e)):(r.next=i.next,i.next=r),e.interleaved=r,ui(t,n)}function ui(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ki=!1;function ib(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ui(t,r)}return i=n.interleaved,i===null?(e.next=e,nb(n)):(e.next=i.next,i.next=e),n.interleaved=e,ui(t,r)}function rf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zx(t,r)}}function p_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Rf(t,e,r,n){var i=t.updateQueue;ki=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=yt({},f,h);break e;case 2:ki=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);os|=s,t.lanes=s,t.memoizedState=f}}function m_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var Vu={},Pn=pa(Vu),qc=pa(Vu),Yc=pa(Vu);function Wa(t){if(t===Vu)throw Error(te(174));return t}function ab(t,e){switch(it(Yc,e),it(qc,t),it(Pn,Vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mv(e,t)}dt(Pn),it(Pn,e)}function Ao(){dt(Pn),dt(qc),dt(Yc)}function QC(t){Wa(Yc.current);var e=Wa(Pn.current),r=Mv(e,t.type);e!==r&&(it(qc,t),it(Pn,r))}function sb(t){qc.current===t&&(dt(Pn),dt(qc))}var mt=pa(0);function If(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cg=[];function ob(){for(var t=0;t<cg.length;t++)cg[t]._workInProgressVersionPrimary=null;cg.length=0}var nf=vi.ReactCurrentDispatcher,ug=vi.ReactCurrentBatchConfig,ss=0,vt=null,Dt=null,Bt=null,$f=!1,xc=!1,Kc=0,NL=0;function Zt(){throw Error(te(321))}function lb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!bn(t[r],e[r]))return!1;return!0}function cb(t,e,r,n,i,a){if(ss=a,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nf.current=t===null||t.memoizedState===null?DL:PL,t=r(n,i),xc){a=0;do{if(xc=!1,Kc=0,25<=a)throw Error(te(301));a+=1,Bt=Dt=null,e.updateQueue=null,nf.current=ML,t=r(n,i)}while(xc)}if(nf.current=Lf,e=Dt!==null&&Dt.next!==null,ss=0,Bt=Dt=vt=null,$f=!1,e)throw Error(te(300));return t}function ub(){var t=Kc!==0;return Kc=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?vt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Jr(){if(Dt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Bt===null?vt.memoizedState:Bt.next;if(e!==null)Bt=e,Dt=t;else{if(t===null)throw Error(te(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Bt===null?vt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Qc(t,e){return typeof e=="function"?e(t):e}function dg(t){var e=Jr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Dt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((ss&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,vt.lanes|=d,os|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,bn(n,e.memoizedState)||(yr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,vt.lanes|=a,os|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function fg(t){var e=Jr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);bn(a,e.memoizedState)||(yr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function XC(){}function ZC(t,e){var r=vt,n=Jr(),i=e(),a=!bn(n.memoizedState,i);if(a&&(n.memoizedState=i,yr=!0),n=n.queue,db(tk.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,Xc(9,ek.bind(null,r,n,i,e),void 0,null),Ut===null)throw Error(te(349));ss&30||JC(r,e,i)}return i}function JC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ek(t,e,r,n){e.value=r,e.getSnapshot=n,rk(e)&&nk(t)}function tk(t,e,r){return r(function(){rk(e)&&nk(t)})}function rk(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bn(t,r)}catch{return!0}}function nk(t){var e=ui(t,1);e!==null&&yn(e,t,1,-1)}function g_(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:t},e.queue=t,t=t.dispatch=OL.bind(null,vt,t),[e.memoizedState,t]}function Xc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ik(){return Jr().memoizedState}function af(t,e,r,n){var i=jn();vt.flags|=t,i.memoizedState=Xc(1|e,r,void 0,n===void 0?null:n)}function Ap(t,e,r,n){var i=Jr();n=n===void 0?null:n;var a=void 0;if(Dt!==null){var s=Dt.memoizedState;if(a=s.destroy,n!==null&&lb(n,s.deps)){i.memoizedState=Xc(e,r,a,n);return}}vt.flags|=t,i.memoizedState=Xc(1|e,r,a,n)}function v_(t,e){return af(8390656,8,t,e)}function db(t,e){return Ap(2048,8,t,e)}function ak(t,e){return Ap(4,2,t,e)}function sk(t,e){return Ap(4,4,t,e)}function ok(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lk(t,e,r){return r=r!=null?r.concat([t]):null,Ap(4,4,ok.bind(null,e,t),r)}function fb(){}function ck(t,e){var r=Jr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lb(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function uk(t,e){var r=Jr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lb(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function dk(t,e,r){return ss&21?(bn(r,e)||(r=gC(),vt.lanes|=r,os|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=r)}function CL(t,e){var r=Ge;Ge=r!==0&&4>r?r:4,t(!0);var n=ug.transition;ug.transition={};try{t(!1),e()}finally{Ge=r,ug.transition=n}}function fk(){return Jr().memoizedState}function kL(t,e,r){var n=Ji(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hk(t))pk(e,r);else if(r=YC(t,e,r,n),r!==null){var i=ur();yn(r,t,n,i),mk(r,e,n)}}function OL(t,e,r){var n=Ji(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hk(t))pk(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,bn(o,s)){var l=e.interleaved;l===null?(i.next=i,nb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=YC(t,e,i,n),r!==null&&(i=ur(),yn(r,t,n,i),mk(r,e,n))}}function hk(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function pk(t,e){xc=$f=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function mk(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zx(t,r)}}var Lf={readContext:Zr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},DL={readContext:Zr,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:v_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,af(4194308,4,ok.bind(null,e,t),r)},useLayoutEffect:function(t,e){return af(4194308,4,t,e)},useInsertionEffect:function(t,e){return af(4,2,t,e)},useMemo:function(t,e){var r=jn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=kL.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:g_,useDebugValue:fb,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=g_(!1),e=t[0];return t=CL.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=jn();if(ft){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Ut===null)throw Error(te(349));ss&30||JC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,v_(tk.bind(null,n,a,t),[t]),n.flags|=2048,Xc(9,ek.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=jn(),e=Ut.identifierPrefix;if(ft){var r=Zn,n=Xn;r=(n&~(1<<32-vn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=NL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PL={readContext:Zr,useCallback:ck,useContext:Zr,useEffect:db,useImperativeHandle:lk,useInsertionEffect:ak,useLayoutEffect:sk,useMemo:uk,useReducer:dg,useRef:ik,useState:function(){return dg(Qc)},useDebugValue:fb,useDeferredValue:function(t){var e=Jr();return dk(e,Dt.memoizedState,t)},useTransition:function(){var t=dg(Qc)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:XC,useSyncExternalStore:ZC,useId:fk,unstable_isNewReconciler:!1},ML={readContext:Zr,useCallback:ck,useContext:Zr,useEffect:db,useImperativeHandle:lk,useInsertionEffect:ak,useLayoutEffect:sk,useMemo:uk,useReducer:fg,useRef:ik,useState:function(){return fg(Qc)},useDebugValue:fb,useDeferredValue:function(t){var e=Jr();return Dt===null?e.memoizedState=t:dk(e,Dt.memoizedState,t)},useTransition:function(){var t=fg(Qc)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:XC,useSyncExternalStore:ZC,useId:fk,unstable_isNewReconciler:!1};function ln(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ty(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Tp={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ur(),i=Ji(t),a=ni(n,i);a.payload=e,r!=null&&(a.callback=r),e=Xi(t,a,i),e!==null&&(yn(e,t,i,n),rf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ur(),i=Ji(t),a=ni(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Xi(t,a,i),e!==null&&(yn(e,t,i,n),rf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ur(),n=Ji(t),i=ni(r,n);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,n),e!==null&&(yn(e,t,n,r),rf(e,t,n))}};function y_(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!zc(r,n)||!zc(i,a):!0}function gk(t,e,r){var n=!1,i=oa,a=e.contextType;return typeof a=="object"&&a!==null?a=Zr(a):(i=Sr(e)?is:or.current,n=e.contextTypes,a=(n=n!=null)?_o(t,i):oa),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function x_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Tp.enqueueReplaceState(e,e.state,null)}function ry(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ib(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Zr(a):(a=Sr(e)?is:or.current,i.context=_o(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ty(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tp.enqueueReplaceState(i,i.state,null),Rf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e){try{var r="",n=e;do r+=l$(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function hg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ny(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var RL=typeof WeakMap=="function"?WeakMap:Map;function vk(t,e,r){r=ni(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Bf||(Bf=!0,hy=n),ny(t,e)},r}function yk(t,e,r){r=ni(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ny(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ny(t,e),typeof n!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function b_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new RL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=KL.bind(null,t,e,r),e.then(t,t))}function w_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ni(-1,1),e.tag=2,Xi(r,e,1))),r.lanes|=1),t)}var IL=vi.ReactCurrentOwner,yr=!1;function lr(t,e,r,n){e.child=t===null?qC(e,null,r,n):jo(e,t.child,r,n)}function __(t,e,r,n,i){r=r.render;var a=e.ref;return fo(e,i),n=cb(t,e,r,n,a,i),r=ub(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(ft&&r&&Xx(e),e.flags|=1,lr(t,e,n,i),e.child)}function E_(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!bb(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,xk(t,e,a,n,i)):(t=cf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:zc,r(s,n)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=ea(a,n),t.ref=e.ref,t.return=e,e.child=t}function xk(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(zc(a,n)&&t.ref===e.ref)if(yr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(yr=!0);else return e.lanes=t.lanes,di(t,e,i)}return iy(t,e,r,n,i)}function bk(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ro,Nr),Nr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(ro,Nr),Nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,it(ro,Nr),Nr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,it(ro,Nr),Nr|=n;return lr(t,e,i,r),e.child}function wk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function iy(t,e,r,n,i){var a=Sr(r)?is:or.current;return a=_o(e,a),fo(e,i),r=cb(t,e,r,n,a,i),n=ub(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(ft&&n&&Xx(e),e.flags|=1,lr(t,e,r,i),e.child)}function j_(t,e,r,n,i){if(Sr(r)){var a=!0;kf(e)}else a=!1;if(fo(e,i),e.stateNode===null)sf(t,e),gk(e,r,n),ry(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zr(u):(u=Sr(r)?is:or.current,u=_o(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&x_(e,s,n,u),ki=!1;var h=e.memoizedState;s.state=h,Rf(e,n,s,i),l=e.memoizedState,o!==n||h!==l||wr.current||ki?(typeof d=="function"&&(ty(e,r,d,n),l=e.memoizedState),(o=ki||y_(e,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,KC(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ln(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Zr(l):(l=Sr(r)?is:or.current,l=_o(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&x_(e,s,n,l),ki=!1,h=e.memoizedState,s.state=h,Rf(e,n,s,i);var m=e.memoizedState;o!==f||h!==m||wr.current||ki?(typeof p=="function"&&(ty(e,r,p,n),m=e.memoizedState),(u=ki||y_(e,r,u,n,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return ay(t,e,r,n,a,i)}function ay(t,e,r,n,i,a){wk(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&u_(e,r,!1),di(t,e,a);n=e.stateNode,IL.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=jo(e,t.child,null,a),e.child=jo(e,null,o,a)):lr(t,e,o,a),e.memoizedState=n.state,i&&u_(e,r,!0),e.child}function Sk(t){var e=t.stateNode;e.pendingContext?c_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c_(t,e.context,!1),ab(t,e.containerInfo)}function A_(t,e,r,n,i){return Eo(),Jx(i),e.flags|=256,lr(t,e,r,n),e.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function oy(t){return{baseLanes:t,cachePool:null,transitions:null}}function _k(t,e,r){var n=e.pendingProps,i=mt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(mt,i&1),t===null)return Jv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=kp(s,n,0,null),t=Za(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=oy(r),e.memoizedState=sy,t):hb(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return $L(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ea(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ea(o,a):(a=Za(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?oy(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=sy,n}return a=t.child,t=a.sibling,n=ea(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hb(t,e){return e=kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,r,n){return n!==null&&Jx(n),jo(e,t.child,null,r),t=hb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $L(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=hg(Error(te(422))),yd(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=kp({mode:"visible",children:n.children},i,0,null),a=Za(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&jo(e,t.child,null,s),e.child.memoizedState=oy(s),e.memoizedState=sy,a);if(!(e.mode&1))return yd(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(te(419)),n=hg(a,n,void 0),yd(t,e,s,n)}if(o=(s&t.childLanes)!==0,yr||o){if(n=Ut,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ui(t,i),yn(n,t,i,-1))}return xb(),n=hg(Error(te(421))),yd(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QL.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Or=Qi(i.nextSibling),Pr=e,ft=!0,hn=null,t!==null&&(Vr[Gr++]=Xn,Vr[Gr++]=Zn,Vr[Gr++]=as,Xn=t.id,Zn=t.overflow,as=e),e=hb(e,n.children),e.flags|=4096,e)}function T_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ey(t.return,e,r)}function pg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Ek(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(lr(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T_(t,r,e);else if(t.tag===19)T_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(it(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&If(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),pg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&If(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}pg(e,!0,r,null,a);break;case"together":pg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),os|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=ea(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ea(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function LL(t,e,r){switch(e.tag){case 3:Sk(e),Eo();break;case 5:QC(e);break;case 1:Sr(e.type)&&kf(e);break;case 4:ab(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;it(Pf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(it(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?_k(t,e,r):(it(mt,mt.current&1),t=di(t,e,r),t!==null?t.sibling:null);it(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ek(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,bk(t,e,r)}return di(t,e,r)}var jk,ly,Ak,Tk;jk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ly=function(){};Ak=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wa(Pn.current);var a=null;switch(r){case"input":i=kv(t,i),n=kv(t,n),a=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),a=[];break;case"textarea":i=Pv(t,i),n=Pv(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Nf)}Rv(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ic.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Tk=function(t,e,r,n){r!==n&&(e.flags|=4)};function Fl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function FL(t,e,r){var n=e.pendingProps;switch(Zx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Sr(e.type)&&Cf(),Jt(e),null;case 3:return n=e.stateNode,Ao(),dt(wr),dt(or),ob(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(gy(hn),hn=null))),ly(t,e),Jt(e),null;case 5:sb(e);var i=Wa(Yc.current);if(r=e.type,t!==null&&e.stateNode!=null)Ak(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Jt(e),null}if(t=Wa(Pn.current),gd(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Nn]=e,n[Gc]=a,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<oc.length;i++)lt(oc[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":IS(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":LS(n,a),lt("invalid",n)}Rv(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&md(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&md(n.textContent,o,t),i=["children",""+o]):Ic.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&lt("scroll",n)}switch(r){case"input":od(n),$S(n,a,!0);break;case"textarea":od(n),FS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Nf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Nn]=e,t[Gc]=n,jk(t,e,!1,!1),e.stateNode=t;e:{switch(s=Iv(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<oc.length;i++)lt(oc[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":IS(t,n),i=kv(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":LS(t,n),i=Pv(t,n),lt("invalid",t);break;default:i=n}Rv(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?iC(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rC(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$c(t,l):typeof l=="number"&&$c(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ic.hasOwnProperty(a)?l!=null&&a==="onScroll"&&lt("scroll",t):l!=null&&$x(t,a,l,s))}switch(r){case"input":od(t),$S(t,n,!1);break;case"textarea":od(t),FS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sa(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?oo(t,!!n.multiple,a,!1):n.defaultValue!=null&&oo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)Tk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Wa(Yc.current),Wa(Pn.current),gd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Nn]=e,(a=n.nodeValue!==r)&&(t=Pr,t!==null))switch(t.tag){case 3:md(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&md(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nn]=e,e.stateNode=n}return Jt(e),null;case 13:if(dt(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Or!==null&&e.mode&1&&!(e.flags&128))VC(),Eo(),e.flags|=98560,a=!1;else if(a=gd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[Nn]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),a=!1}else hn!==null&&(gy(hn),hn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Pt===0&&(Pt=3):xb())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Ao(),ly(t,e),t===null&&Wc(e.stateNode.containerInfo),Jt(e),null;case 10:return rb(e.type._context),Jt(e),null;case 17:return Sr(e.type)&&Cf(),Jt(e),null;case 19:if(dt(mt),a=e.memoizedState,a===null)return Jt(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Fl(a,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=If(t),s!==null){for(e.flags|=128,Fl(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return it(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&St()>No&&(e.flags|=128,n=!0,Fl(a,!1),e.lanes=4194304)}else{if(!n)if(t=If(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Fl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ft)return Jt(e),null}else 2*St()-a.renderingStartTime>No&&r!==1073741824&&(e.flags|=128,n=!0,Fl(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=St(),e.sibling=null,r=mt.current,it(mt,n?r&1|2:r&1),e):(Jt(e),null);case 22:case 23:return yb(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Nr&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function BL(t,e){switch(Zx(e),e.tag){case 1:return Sr(e.type)&&Cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),dt(wr),dt(or),ob(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sb(e),null;case 13:if(dt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(mt),null;case 4:return Ao(),null;case 10:return rb(e.type._context),null;case 22:case 23:return yb(),null;case 24:return null;default:return null}}var xd=!1,tr=!1,UL=typeof WeakSet=="function"?WeakSet:Set,ge=null;function to(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(t,e,n)}else r.current=null}function cy(t,e,r){try{r()}catch(n){bt(t,e,n)}}var N_=!1;function HL(t,e){if(Gv=jf,t=DC(),Qx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(qv={focusedElem:t,selectionRange:r},jf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:ln(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){bt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return m=N_,N_=!1,m}function bc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&cy(e,r,a)}i=i.next}while(i!==n)}}function Np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function uy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Nk(t){var e=t.alternate;e!==null&&(t.alternate=null,Nk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Gc],delete e[Qv],delete e[EL],delete e[jL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ck(t){return t.tag===5||t.tag===3||t.tag===4}function C_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ck(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Nf));else if(n!==4&&(t=t.child,t!==null))for(dy(t,e,r),t=t.sibling;t!==null;)dy(t,e,r),t=t.sibling}function fy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fy(t,e,r),t=t.sibling;t!==null;)fy(t,e,r),t=t.sibling}var Gt=null,cn=!1;function ji(t,e,r){for(r=r.child;r!==null;)kk(t,e,r),r=r.sibling}function kk(t,e,r){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(bp,r)}catch{}switch(r.tag){case 5:tr||to(r,e);case 6:var n=Gt,i=cn;Gt=null,ji(t,e,r),Gt=n,cn=i,Gt!==null&&(cn?(t=Gt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Gt.removeChild(r.stateNode));break;case 18:Gt!==null&&(cn?(t=Gt,r=r.stateNode,t.nodeType===8?og(t.parentNode,r):t.nodeType===1&&og(t,r),Uc(t)):og(Gt,r.stateNode));break;case 4:n=Gt,i=cn,Gt=r.stateNode.containerInfo,cn=!0,ji(t,e,r),Gt=n,cn=i;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&cy(r,e,s),i=i.next}while(i!==n)}ji(t,e,r);break;case 1:if(!tr&&(to(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){bt(r,e,o)}ji(t,e,r);break;case 21:ji(t,e,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,ji(t,e,r),tr=n):ji(t,e,r);break;default:ji(t,e,r)}}function k_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new UL),e.forEach(function(n){var i=XL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function nn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Gt=o.stateNode,cn=!1;break e;case 3:Gt=o.stateNode.containerInfo,cn=!0;break e;case 4:Gt=o.stateNode.containerInfo,cn=!0;break e}o=o.return}if(Gt===null)throw Error(te(160));kk(a,s,i),Gt=null,cn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ok(e,t),e=e.sibling}function Ok(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),En(t),n&4){try{bc(3,t,t.return),Np(3,t)}catch(g){bt(t,t.return,g)}try{bc(5,t,t.return)}catch(g){bt(t,t.return,g)}}break;case 1:nn(e,t),En(t),n&512&&r!==null&&to(r,r.return);break;case 5:if(nn(e,t),En(t),n&512&&r!==null&&to(r,r.return),t.flags&32){var i=t.stateNode;try{$c(i,"")}catch(g){bt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&JN(i,a),Iv(o,s);var u=Iv(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?iC(i,f):d==="dangerouslySetInnerHTML"?rC(i,f):d==="children"?$c(i,f):$x(i,d,f,u)}switch(o){case"input":Ov(i,a);break;case"textarea":eC(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?oo(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?oo(i,!!a.multiple,a.defaultValue,!0):oo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Gc]=a}catch(g){bt(t,t.return,g)}}break;case 6:if(nn(e,t),En(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){bt(t,t.return,g)}}break;case 3:if(nn(e,t),En(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uc(e.containerInfo)}catch(g){bt(t,t.return,g)}break;case 4:nn(e,t),En(t);break;case 13:nn(e,t),En(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(gb=St())),n&4&&k_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(tr=(u=tr)||d,nn(e,t),tr=u):nn(e,t),En(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(f=ge=d;ge!==null;){switch(h=ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:bc(4,h,h.return);break;case 1:to(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){bt(n,r,g)}}break;case 5:to(h,h.return);break;case 22:if(h.memoizedState!==null){D_(f);continue}}p!==null?(p.return=h,ge=p):D_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=nC("display",s))}catch(g){bt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){bt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nn(e,t),En(t),n&4&&k_(t);break;case 21:break;default:nn(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ck(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&($c(i,""),n.flags&=-33);var a=C_(t);fy(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=C_(t);dy(t,o,s);break;default:throw Error(te(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zL(t,e,r){ge=t,Dk(t)}function Dk(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||xd;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||tr;o=xd;var u=tr;if(xd=s,(tr=l)&&!u)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?P_(i):l!==null?(l.return=s,ge=l):P_(i);for(;a!==null;)ge=a,Dk(a),a=a.sibling;ge=i,xd=o,tr=u}O_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ge=a):O_(t)}}function O_(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||Np(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ln(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&m_(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}m_(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Uc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}tr||e.flags&512&&uy(e)}catch(h){bt(e,e.return,h)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function D_(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function P_(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Np(4,e)}catch(l){bt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){bt(e,i,l)}}var a=e.return;try{uy(e)}catch(l){bt(e,a,l)}break;case 5:var s=e.return;try{uy(e)}catch(l){bt(e,s,l)}}}catch(l){bt(e,e.return,l)}if(e===t){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var WL=Math.ceil,Ff=vi.ReactCurrentDispatcher,pb=vi.ReactCurrentOwner,Qr=vi.ReactCurrentBatchConfig,$e=0,Ut=null,Tt=null,Kt=0,Nr=0,ro=pa(0),Pt=0,Zc=null,os=0,Cp=0,mb=0,wc=null,gr=null,gb=0,No=1/0,qn=null,Bf=!1,hy=null,Zi=null,bd=!1,Fi=null,Uf=0,Sc=0,py=null,of=-1,lf=0;function ur(){return $e&6?St():of!==-1?of:of=St()}function Ji(t){return t.mode&1?$e&2&&Kt!==0?Kt&-Kt:TL.transition!==null?(lf===0&&(lf=gC()),lf):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:_C(t.type)),t):1}function yn(t,e,r,n){if(50<Sc)throw Sc=0,py=null,Error(te(185));Hu(t,r,n),(!($e&2)||t!==Ut)&&(t===Ut&&(!($e&2)&&(Cp|=r),Pt===4&&Ri(t,Kt)),_r(t,n),r===1&&$e===0&&!(e.mode&1)&&(No=St()+500,jp&&ma()))}function _r(t,e){var r=t.callbackNode;T$(t,e);var n=Ef(t,t===Ut?Kt:0);if(n===0)r!==null&&HS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&HS(r),e===1)t.tag===0?AL(M_.bind(null,t)):HC(M_.bind(null,t)),SL(function(){!($e&6)&&ma()}),r=null;else{switch(vC(n)){case 1:r=Hx;break;case 4:r=pC;break;case 16:r=_f;break;case 536870912:r=mC;break;default:r=_f}r=Bk(r,Pk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Pk(t,e){if(of=-1,lf=0,$e&6)throw Error(te(327));var r=t.callbackNode;if(ho()&&t.callbackNode!==r)return null;var n=Ef(t,t===Ut?Kt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hf(t,n);else{e=n;var i=$e;$e|=2;var a=Rk();(Ut!==t||Kt!==e)&&(qn=null,No=St()+500,Xa(t,e));do try{qL();break}catch(o){Mk(t,o)}while(1);tb(),Ff.current=a,$e=i,Tt!==null?e=0:(Ut=null,Kt=0,e=Pt)}if(e!==0){if(e===2&&(i=Uv(t),i!==0&&(n=i,e=my(t,i))),e===1)throw r=Zc,Xa(t,0),Ri(t,n),_r(t,St()),r;if(e===6)Ri(t,n);else{if(i=t.current.alternate,!(n&30)&&!VL(i)&&(e=Hf(t,n),e===2&&(a=Uv(t),a!==0&&(n=a,e=my(t,a))),e===1))throw r=Zc,Xa(t,0),Ri(t,n),_r(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:Oa(t,gr,qn);break;case 3:if(Ri(t,n),(n&130023424)===n&&(e=gb+500-St(),10<e)){if(Ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kv(Oa.bind(null,t,gr,qn),e);break}Oa(t,gr,qn);break;case 4:if(Ri(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-vn(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*WL(n/1960))-n,10<n){t.timeoutHandle=Kv(Oa.bind(null,t,gr,qn),n);break}Oa(t,gr,qn);break;case 5:Oa(t,gr,qn);break;default:throw Error(te(329))}}}return _r(t,St()),t.callbackNode===r?Pk.bind(null,t):null}function my(t,e){var r=wc;return t.current.memoizedState.isDehydrated&&(Xa(t,e).flags|=256),t=Hf(t,e),t!==2&&(e=gr,gr=r,e!==null&&gy(e)),t}function gy(t){gr===null?gr=t:gr.push.apply(gr,t)}function VL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~mb,e&=~Cp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vn(e),n=1<<r;t[r]=-1,e&=~n}}function M_(t){if($e&6)throw Error(te(327));ho();var e=Ef(t,0);if(!(e&1))return _r(t,St()),null;var r=Hf(t,e);if(t.tag!==0&&r===2){var n=Uv(t);n!==0&&(e=n,r=my(t,n))}if(r===1)throw r=Zc,Xa(t,0),Ri(t,e),_r(t,St()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,gr,qn),_r(t,St()),null}function vb(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(No=St()+500,jp&&ma())}}function ls(t){Fi!==null&&Fi.tag===0&&!($e&6)&&ho();var e=$e;$e|=1;var r=Qr.transition,n=Ge;try{if(Qr.transition=null,Ge=1,t)return t()}finally{Ge=n,Qr.transition=r,$e=e,!($e&6)&&ma()}}function yb(){Nr=ro.current,dt(ro)}function Xa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,wL(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(Zx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cf();break;case 3:Ao(),dt(wr),dt(or),ob();break;case 5:sb(n);break;case 4:Ao();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:rb(n.type._context);break;case 22:case 23:yb()}r=r.return}if(Ut=t,Tt=t=ea(t.current,null),Kt=Nr=e,Pt=0,Zc=null,mb=Cp=os=0,gr=wc=null,za!==null){for(e=0;e<za.length;e++)if(r=za[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}za=null}return t}function Mk(t,e){do{var r=Tt;try{if(tb(),nf.current=Lf,$f){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$f=!1}if(ss=0,Bt=Dt=vt=null,xc=!1,Kc=0,pb.current=null,r===null||r.return===null){Pt=1,Zc=e,Tt=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Kt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=w_(s);if(p!==null){p.flags&=-257,S_(p,s,o,a,e),p.mode&1&&b_(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){b_(a,u,e),xb();break e}l=Error(te(426))}}else if(ft&&o.mode&1){var v=w_(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),S_(v,s,o,a,e),Jx(To(l,o));break e}}a=l=To(l,o),Pt!==4&&(Pt=2),wc===null?wc=[a]:wc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=vk(a,l,e);p_(a,x);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Zi===null||!Zi.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=yk(a,o,e);p_(a,S);break e}}a=a.return}while(a!==null)}$k(r)}catch(w){e=w,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(1)}function Rk(){var t=Ff.current;return Ff.current=Lf,t===null?Lf:t}function xb(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ut===null||!(os&268435455)&&!(Cp&268435455)||Ri(Ut,Kt)}function Hf(t,e){var r=$e;$e|=2;var n=Rk();(Ut!==t||Kt!==e)&&(qn=null,Xa(t,e));do try{GL();break}catch(i){Mk(t,i)}while(1);if(tb(),$e=r,Ff.current=n,Tt!==null)throw Error(te(261));return Ut=null,Kt=0,Pt}function GL(){for(;Tt!==null;)Ik(Tt)}function qL(){for(;Tt!==null&&!y$();)Ik(Tt)}function Ik(t){var e=Fk(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,e===null?$k(t):Tt=e,pb.current=null}function $k(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=BL(r,e),r!==null){r.flags&=32767,Tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Tt=null;return}}else if(r=FL(r,e,Nr),r!==null){Tt=r;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Pt===0&&(Pt=5)}function Oa(t,e,r){var n=Ge,i=Qr.transition;try{Qr.transition=null,Ge=1,YL(t,e,r,n)}finally{Qr.transition=i,Ge=n}return null}function YL(t,e,r,n){do ho();while(Fi!==null);if($e&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(N$(t,a),t===Ut&&(Tt=Ut=null,Kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bd||(bd=!0,Bk(_f,function(){return ho(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Qr.transition,Qr.transition=null;var s=Ge;Ge=1;var o=$e;$e|=4,pb.current=null,HL(t,r),Ok(r,t),pL(qv),jf=!!Gv,qv=Gv=null,t.current=r,zL(r),x$(),$e=o,Ge=s,Qr.transition=a}else t.current=r;if(bd&&(bd=!1,Fi=t,Uf=i),a=t.pendingLanes,a===0&&(Zi=null),S$(r.stateNode),_r(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,t=hy,hy=null,t;return Uf&1&&t.tag!==0&&ho(),a=t.pendingLanes,a&1?t===py?Sc++:(Sc=0,py=t):Sc=0,ma(),null}function ho(){if(Fi!==null){var t=vC(Uf),e=Qr.transition,r=Ge;try{if(Qr.transition=null,Ge=16>t?16:t,Fi===null)var n=!1;else{if(t=Fi,Fi=null,Uf=0,$e&6)throw Error(te(331));var i=$e;for($e|=4,ge=t.current;ge!==null;){var a=ge,s=a.child;if(ge.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:bc(8,d,a)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var h=d.sibling,p=d.return;if(Nk(d),d===u){ge=null;break}if(h!==null){h.return=p,ge=h;break}ge=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ge=s;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ge=x;break e}ge=a.return}}var y=t.current;for(ge=y;ge!==null;){s=ge;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ge=b;else e:for(s=y;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Np(9,o)}}catch(w){bt(o,o.return,w)}if(o===s){ge=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ge=S;break e}ge=o.return}}if($e=i,ma(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(bp,t)}catch{}n=!0}return n}finally{Ge=r,Qr.transition=e}}return!1}function R_(t,e,r){e=To(r,e),e=vk(t,e,1),t=Xi(t,e,1),e=ur(),t!==null&&(Hu(t,1,e),_r(t,e))}function bt(t,e,r){if(t.tag===3)R_(t,t,r);else for(;e!==null;){if(e.tag===3){R_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zi===null||!Zi.has(n))){t=To(r,t),t=yk(e,t,1),e=Xi(e,t,1),t=ur(),e!==null&&(Hu(e,1,t),_r(e,t));break}}e=e.return}}function KL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&r,Ut===t&&(Kt&r)===r&&(Pt===4||Pt===3&&(Kt&130023424)===Kt&&500>St()-gb?Xa(t,0):mb|=r),_r(t,e)}function Lk(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var r=ur();t=ui(t,e),t!==null&&(Hu(t,e,r),_r(t,r))}function QL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Lk(t,r)}function XL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),Lk(t,r)}var Fk;Fk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wr.current)yr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return yr=!1,LL(t,e,r);yr=!!(t.flags&131072)}else yr=!1,ft&&e.flags&1048576&&zC(e,Df,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;sf(t,e),t=e.pendingProps;var i=_o(e,or.current);fo(e,r),i=cb(null,e,n,t,i,r);var a=ub();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(n)?(a=!0,kf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ib(e),i.updater=Tp,e.stateNode=i,i._reactInternals=e,ry(e,n,t,r),e=ay(null,e,n,!0,a,r)):(e.tag=0,ft&&a&&Xx(e),lr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(sf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=JL(n),t=ln(n,t),i){case 0:e=iy(null,e,n,t,r);break e;case 1:e=j_(null,e,n,t,r);break e;case 11:e=__(null,e,n,t,r);break e;case 14:e=E_(null,e,n,ln(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ln(n,i),iy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ln(n,i),j_(t,e,n,i,r);case 3:e:{if(Sk(e),t===null)throw Error(te(387));n=e.pendingProps,a=e.memoizedState,i=a.element,KC(t,e),Rf(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=To(Error(te(423)),e),e=A_(t,e,n,r,i);break e}else if(n!==i){i=To(Error(te(424)),e),e=A_(t,e,n,r,i);break e}else for(Or=Qi(e.stateNode.containerInfo.firstChild),Pr=e,ft=!0,hn=null,r=qC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Eo(),n===i){e=di(t,e,r);break e}lr(t,e,n,r)}e=e.child}return e;case 5:return QC(e),t===null&&Jv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Yv(n,i)?s=null:a!==null&&Yv(n,a)&&(e.flags|=32),wk(t,e),lr(t,e,s,r),e.child;case 6:return t===null&&Jv(e),null;case 13:return _k(t,e,r);case 4:return ab(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=jo(e,null,n,r):lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ln(n,i),__(t,e,n,i,r);case 7:return lr(t,e,e.pendingProps,r),e.child;case 8:return lr(t,e,e.pendingProps.children,r),e.child;case 12:return lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,it(Pf,n._currentValue),n._currentValue=s,a!==null)if(bn(a.value,s)){if(a.children===i.children&&!wr.current){e=di(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ni(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ey(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(te(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),ey(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,fo(e,r),i=Zr(i),n=n(i),e.flags|=1,lr(t,e,n,r),e.child;case 14:return n=e.type,i=ln(n,e.pendingProps),i=ln(n.type,i),E_(t,e,n,i,r);case 15:return xk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ln(n,i),sf(t,e),e.tag=1,Sr(n)?(t=!0,kf(e)):t=!1,fo(e,r),gk(e,n,i),ry(e,n,i,r),ay(null,e,n,!0,t,r);case 19:return Ek(t,e,r);case 22:return bk(t,e,r)}throw Error(te(156,e.tag))};function Bk(t,e){return hC(t,e)}function ZL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(t,e,r,n){return new ZL(t,e,r,n)}function bb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JL(t){if(typeof t=="function")return bb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fx)return 11;if(t===Bx)return 14}return 2}function ea(t,e){var r=t.alternate;return r===null?(r=Yr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function cf(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")bb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Gs:return Za(r.children,i,a,e);case Lx:s=8,i|=8;break;case Av:return t=Yr(12,r,e,i|2),t.elementType=Av,t.lanes=a,t;case Tv:return t=Yr(13,r,e,i),t.elementType=Tv,t.lanes=a,t;case Nv:return t=Yr(19,r,e,i),t.elementType=Nv,t.lanes=a,t;case QN:return kp(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YN:s=10;break e;case KN:s=9;break e;case Fx:s=11;break e;case Bx:s=14;break e;case Ci:s=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Yr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Za(t,e,r,n){return t=Yr(7,t,n,e),t.lanes=r,t}function kp(t,e,r,n){return t=Yr(22,t,n,e),t.elementType=QN,t.lanes=r,t.stateNode={isHidden:!1},t}function mg(t,e,r){return t=Yr(6,t,null,e),t.lanes=r,t}function gg(t,e,r){return e=Yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qm(0),this.expirationTimes=Qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wb(t,e,r,n,i,a,s,o,l){return t=new e4(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Yr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ib(a),t}function t4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Uk(t){if(!t)return oa;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Sr(r))return UC(t,r,e)}return e}function Hk(t,e,r,n,i,a,s,o,l){return t=wb(r,n,!0,t,i,a,s,o,l),t.context=Uk(null),r=t.current,n=ur(),i=Ji(r),a=ni(n,i),a.callback=e??null,Xi(r,a,i),t.current.lanes=i,Hu(t,i,n),_r(t,n),t}function Op(t,e,r,n){var i=e.current,a=ur(),s=Ji(i);return r=Uk(r),e.context===null?e.context=r:e.pendingContext=r,e=ni(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xi(i,e,s),t!==null&&(yn(t,i,s,a),rf(t,i,s)),s}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Sb(t,e){I_(t,e),(t=t.alternate)&&I_(t,e)}function r4(){return null}var zk=typeof reportError=="function"?reportError:function(t){console.error(t)};function _b(t){this._internalRoot=t}Dp.prototype.render=_b.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Op(t,e,null,null)};Dp.prototype.unmount=_b.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ls(function(){Op(null,t,null,null)}),e[ci]=null}};function Dp(t){this._internalRoot=t}Dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=bC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Mi.length&&e!==0&&e<Mi[r].priority;r++);Mi.splice(r,0,t),r===0&&SC(t)}};function Eb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $_(){}function n4(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=zf(s);a.call(u)}}var s=Hk(e,n,t,0,null,!1,!1,"",$_);return t._reactRootContainer=s,t[ci]=s.current,Wc(t.nodeType===8?t.parentNode:t),ls(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=zf(l);o.call(u)}}var l=wb(t,0,!1,null,null,!1,!1,"",$_);return t._reactRootContainer=l,t[ci]=l.current,Wc(t.nodeType===8?t.parentNode:t),ls(function(){Op(e,l,r,n)}),l}function Mp(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=zf(s);o.call(l)}}Op(e,s,t,i)}else s=n4(r,e,t,i,n);return zf(s)}yC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=sc(e.pendingLanes);r!==0&&(zx(e,r|1),_r(e,St()),!($e&6)&&(No=St()+500,ma()))}break;case 13:ls(function(){var n=ui(t,1);if(n!==null){var i=ur();yn(n,t,1,i)}}),Sb(t,1)}};Wx=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var r=ur();yn(e,t,134217728,r)}Sb(t,134217728)}};xC=function(t){if(t.tag===13){var e=Ji(t),r=ui(t,e);if(r!==null){var n=ur();yn(r,t,e,n)}Sb(t,e)}};bC=function(){return Ge};wC=function(t,e){var r=Ge;try{return Ge=t,e()}finally{Ge=r}};Lv=function(t,e,r){switch(e){case"input":if(Ov(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ep(n);if(!i)throw Error(te(90));ZN(n),Ov(n,i)}}}break;case"textarea":eC(t,r);break;case"select":e=r.value,e!=null&&oo(t,!!r.multiple,e,!1)}};oC=vb;lC=ls;var i4={usingClientEntryPoint:!1,Events:[Wu,Qs,Ep,aC,sC,vb]},Bl={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a4={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dC(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||r4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{bp=wd.inject(a4),Dn=wd}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i4;$r.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eb(e))throw Error(te(200));return t4(t,e,null,r)};$r.createRoot=function(t,e){if(!Eb(t))throw Error(te(299));var r=!1,n="",i=zk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wb(t,1,!1,null,null,r,!1,n,i),t[ci]=e.current,Wc(t.nodeType===8?t.parentNode:t),new _b(e)};$r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=dC(e),t=t===null?null:t.stateNode,t};$r.flushSync=function(t){return ls(t)};$r.hydrate=function(t,e,r){if(!Pp(e))throw Error(te(200));return Mp(null,t,e,!0,r)};$r.hydrateRoot=function(t,e,r){if(!Eb(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=zk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=Hk(e,null,t,1,r??null,i,!1,a,s),t[ci]=e.current,Wc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Dp(e)};$r.render=function(t,e,r){if(!Pp(e))throw Error(te(200));return Mp(null,t,e,!1,r)};$r.unmountComponentAtNode=function(t){if(!Pp(t))throw Error(te(40));return t._reactRootContainer?(ls(function(){Mp(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};$r.unstable_batchedUpdates=vb;$r.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Pp(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Mp(t,e,r,!1,n)};$r.version="18.3.1-next-f1338f8080-20240426";function Wk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wk)}catch(t){console.error(t)}}Wk(),WN.exports=$r;var Wf=WN.exports,L_=Wf;Ev.createRoot=L_.createRoot,Ev.hydrateRoot=L_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jc.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const F_="popstate";function s4(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return vy("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Vf(i)}return l4(e,r,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o4(){return Math.random().toString(36).substr(2,8)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function vy(t,e,r,n){return r===void 0&&(r=null),Jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:r,key:e&&e.key||n||o4()})}function Vf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ul(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function l4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Bi.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Jc({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Bi.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:x})}function h(v,x){o=Bi.Push;let y=vy(g.location,v,x);r&&r(y,v),u=d()+1;let b=B_(y,u),S=g.createHref(y);try{s.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}a&&l&&l({action:o,location:g.location,delta:1})}function p(v,x){o=Bi.Replace;let y=vy(g.location,v,x);r&&r(y,v),u=d();let b=B_(y,u),S=g.createHref(y);s.replaceState(b,"",S),a&&l&&l({action:o,location:g.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Vf(v);return y=y.replace(/ $/,"%20"),Et(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(F_,f),l=v,()=>{i.removeEventListener(F_,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var U_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(U_||(U_={}));function c4(t,e,r){return r===void 0&&(r="/"),u4(t,e,r,!1)}function u4(t,e,r,n){let i=typeof e=="string"?ul(e):e,a=jb(i.pathname||"/",r);if(a==null)return null;let s=Gk(t);d4(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=S4(a);o=b4(s[l],u,n)}return o}function Gk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Et(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ta([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(Et(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gk(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:y4(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of qk(a.path))i(a,s,l)}),e}function qk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=qk(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function d4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:x4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const f4=/^:[\w-]+$/,h4=3,p4=2,m4=1,g4=10,v4=-2,H_=t=>t==="*";function y4(t,e){let r=t.split("/"),n=r.length;return r.some(H_)&&(n+=v4),e&&(n+=p4),r.filter(i=>!H_(i)).reduce((i,a)=>i+(f4.test(a)?h4:a===""?m4:g4),n)}function x4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function b4(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=z_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=z_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ta([a,f.pathname]),pathnameBase:A4(ta([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ta([a,f.pathnameBase]))}return s}function z_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=w4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function w4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Vk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function S4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function _4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ul(t):t;return{pathname:r?r.startsWith("/")?r:E4(r,e):e,search:T4(n),hash:N4(i)}}function E4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ab(t,e){let r=j4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Tb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ul(t):(i=Jc({},t),Et(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=_4(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ta=t=>t.join("/").replace(/\/\/+/g,"/"),A4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function C4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Yk=["post","put","patch","delete"];new Set(Yk);const k4=["get",...Yk];new Set(k4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}const Nb=C.createContext(null),O4=C.createContext(null),ga=C.createContext(null),Rp=C.createContext(null),va=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Kk=C.createContext(null);function D4(t,e){let{relative:r}=e===void 0?{}:e;dl()||Et(!1);let{basename:n,navigator:i}=C.useContext(ga),{hash:a,pathname:s,search:o}=Zk(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:ta([n,s])),i.createHref({pathname:l,search:o,hash:a})}function dl(){return C.useContext(Rp)!=null}function fl(){return dl()||Et(!1),C.useContext(Rp).location}function Qk(t){C.useContext(ga).static||C.useLayoutEffect(t)}function Xk(){let{isDataRoute:t}=C.useContext(va);return t?V4():P4()}function P4(){dl()||Et(!1);let t=C.useContext(Nb),{basename:e,future:r,navigator:n}=C.useContext(ga),{matches:i}=C.useContext(va),{pathname:a}=fl(),s=JSON.stringify(Ab(i,r.v7_relativeSplatPath)),o=C.useRef(!1);return Qk(()=>{o.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Tb(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ta([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function Zk(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(ga),{matches:i}=C.useContext(va),{pathname:a}=fl(),s=JSON.stringify(Ab(i,n.v7_relativeSplatPath));return C.useMemo(()=>Tb(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function M4(t,e){return R4(t,e)}function R4(t,e,r,n){dl()||Et(!1);let{navigator:i}=C.useContext(ga),{matches:a}=C.useContext(va),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=fl(),d;if(e){var f;let v=typeof e=="string"?ul(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Et(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=c4(t,{pathname:p}),g=B4(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:ta([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ta([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&g?C.createElement(Rp.Provider,{value:{location:eu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bi.Pop}},g):g}function I4(){let t=W4(),e=C4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,a)}const $4=C.createElement(I4,null);class L4 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(va.Provider,{value:this.props.routeContext},C.createElement(Kk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F4(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(Nb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(va.Provider,{value:e},n)}function B4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Et(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||$4,l&&(u<0&&h===0?(G4("route-fallback",!1),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return p?b=g:m?b=v:f.route.Component?b=C.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,C.createElement(F4,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(L4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var Jk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jk||{}),Gf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gf||{});function U4(t){let e=C.useContext(Nb);return e||Et(!1),e}function H4(t){let e=C.useContext(O4);return e||Et(!1),e}function z4(t){let e=C.useContext(va);return e||Et(!1),e}function eO(t){let e=z4(),r=e.matches[e.matches.length-1];return r.route.id||Et(!1),r.route.id}function W4(){var t;let e=C.useContext(Kk),r=H4(Gf.UseRouteError),n=eO(Gf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function V4(){let{router:t}=U4(Jk.UseNavigateStable),e=eO(Gf.UseNavigateStable),r=C.useRef(!1);return Qk(()=>{r.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,eu({fromRouteId:e},a)))},[t,e])}const W_={};function G4(t,e,r){!e&&!W_[t]&&(W_[t]=!0)}function q4(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Y4(t){let{to:e,replace:r,state:n,relative:i}=t;dl()||Et(!1);let{future:a,static:s}=C.useContext(ga),{matches:o}=C.useContext(va),{pathname:l}=fl(),u=Xk(),d=Tb(e,Ab(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function mr(t){Et(!1)}function K4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Bi.Pop,navigator:a,static:s=!1,future:o}=t;dl()&&Et(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:a,static:s,future:eu({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=ul(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=C.useMemo(()=>{let v=jb(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:C.createElement(ga.Provider,{value:u},C.createElement(Rp.Provider,{children:r,value:g}))}function Q4(t){let{children:e,location:r}=t;return M4(yy(e),r)}new Promise(()=>{});function yy(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let a=[...e,i];if(n.type===C.Fragment){r.push.apply(r,yy(n.props.children,a));return}n.type!==mr&&Et(!1),!n.props.index||!n.props.children||Et(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=yy(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xy.apply(this,arguments)}function X4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Z4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J4(t,e){return t.button===0&&(!e||e==="_self")&&!Z4(t)}const e3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t3="6";try{window.__reactRouterVersion=t3}catch{}const r3="startTransition",V_=KI[r3];function n3(t){let{basename:e,children:r,future:n,window:i}=t,a=C.useRef();a.current==null&&(a.current=s4({window:i,v5Compat:!0}));let s=a.current,[o,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=C.useCallback(f=>{u&&V_?V_(()=>l(f)):l(f)},[l,u]);return C.useLayoutEffect(()=>s.listen(d),[s,d]),C.useEffect(()=>q4(n),[n]),C.createElement(K4,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const i3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=X4(e,e3),{basename:p}=C.useContext(ga),m,g=!1;if(typeof u=="string"&&a3.test(u)&&(m=u,i3))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=jb(S.pathname,p);S.origin===b.origin&&w!=null?u=w+S.search+S.hash:g=!0}catch{}let v=D4(u,{relative:i}),x=s3(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||x(b)}return C.createElement("a",xy({},h,{href:m||v,onClick:g||a?n:y,ref:r,target:l}))});var G_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(G_||(G_={}));var q_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(q_||(q_={}));function s3(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Xk(),u=fl(),d=Zk(t,{relative:s});return C.useCallback(f=>{if(J4(f,r)){f.preventDefault();let h=n!==void 0?n:Vf(u)===Vf(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}const o3="modulepreload",l3=function(t){return"/scrub-shop-road-app/"+t},Y_={},ra=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=l3(a),a in Y_)return;Y_[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":o3,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},c3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ra(()=>Promise.resolve().then(()=>hl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ip extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class tO extends Ip{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class by extends Ip{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wy extends Ip{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qf||(qf={}));var u3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class d3{constructor(e,{headers:r={},customFetch:n,region:i=qf.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=c3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return u3(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new tO(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new by(f);if(!f.ok)throw new wy(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof wy||i instanceof by?i.context:void 0}}})}}var vr={},Cb={},$p={},Gu={},Lp={},Fp={},f3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Co=f3();const h3=Co.fetch,rO=Co.fetch.bind(Co),nO=Co.Headers,p3=Co.Request,m3=Co.Response,hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:nO,Request:p3,Response:m3,default:rO,fetch:h3},Symbol.toStringTag,{value:"Module"})),g3=PI(hl);var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});let v3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Bp.default=v3;var iO=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fp,"__esModule",{value:!0});const y3=iO(g3),x3=iO(Bp);let b3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=y3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new x3.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Fp.default=b3;var w3=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lp,"__esModule",{value:!0});const S3=w3(Fp);let _3=class extends S3.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lp.default=_3;var E3=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gu,"__esModule",{value:!0});const j3=E3(Lp);let A3=class extends j3.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Gu.default=A3;var T3=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($p,"__esModule",{value:!0});const Ul=T3(Gu);let N3=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new Ul.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ul.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ul.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Ul.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ul.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$p.default=N3;var Up={},Hp={};Object.defineProperty(Hp,"__esModule",{value:!0});Hp.version=void 0;Hp.version="0.0.0-automated";Object.defineProperty(Up,"__esModule",{value:!0});Up.DEFAULT_HEADERS=void 0;const C3=Hp;Up.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${C3.version}`};var aO=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cb,"__esModule",{value:!0});const k3=aO($p),O3=aO(Gu),D3=Up;let P3=class sO{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},D3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new k3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sO(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new O3.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Cb.default=P3;var pl=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});vr.PostgrestError=vr.PostgrestBuilder=vr.PostgrestTransformBuilder=vr.PostgrestFilterBuilder=vr.PostgrestQueryBuilder=vr.PostgrestClient=void 0;const oO=pl(Cb);vr.PostgrestClient=oO.default;const lO=pl($p);vr.PostgrestQueryBuilder=lO.default;const cO=pl(Gu);vr.PostgrestFilterBuilder=cO.default;const uO=pl(Lp);vr.PostgrestTransformBuilder=uO.default;const dO=pl(Fp);vr.PostgrestBuilder=dO.default;const fO=pl(Bp);vr.PostgrestError=fO.default;var M3=vr.default={PostgrestClient:oO.default,PostgrestQueryBuilder:lO.default,PostgrestFilterBuilder:cO.default,PostgrestTransformBuilder:uO.default,PostgrestBuilder:dO.default,PostgrestError:fO.default};const{PostgrestClient:R3,PostgrestQueryBuilder:z0e,PostgrestFilterBuilder:W0e,PostgrestTransformBuilder:V0e,PostgrestBuilder:G0e,PostgrestError:I3}=M3;function $3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const L3=$3(),F3="2.11.15",B3=`realtime-js/${F3}`,U3="1.0.0",hO=1e4,H3=1e3;var _c;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_c||(_c={}));var Wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wt||(Wt={}));var un;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(un||(un={}));var Sy;(function(t){t.websocket="websocket"})(Sy||(Sy={}));var Ba;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ba||(Ba={}));class z3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class pO{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(rt||(rt={}));const K_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=W3(s,t,e,i),a),{})},W3=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?mO(a,s):_y(s)},mO=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Y3(e,r)}switch(t){case rt.bool:return V3(e);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return G3(e);case rt.json:case rt.jsonb:return q3(e);case rt.timestamp:return K3(e);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return _y(e);default:return _y(e)}},_y=t=>t,V3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},G3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},q3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Y3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>mO(e,o))}return t},K3=t=>typeof t=="string"?t.replace(" ","T"):t,gO=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class yg{constructor(e,r,n={},i=hO){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ey;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ey||(Ey={}));class po{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=po.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=po.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=po.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jy||(jy={}));var Ay;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ay||(Ay={}));var An;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));const Q3=Wt;class zp{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yg(this,un.join,this.params,this.timeout),this.rejoinTimer=new pO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new po(this),this.broadcastEndpointURL=gO(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(An.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(An.CLOSED));const l={},u={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(An.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:x,schema:y,table:b,filter:S}}=v,w=d&&d[g];if(w&&w.event===x&&w.schema===y&&w.table===b&&w.filter===S)m.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Wt.errored,e==null||e(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(An.SUBSCRIBED);return}}).receive("error",d=>{this.state=Wt.errored,e==null||e(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new yg(this,un.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yg(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=un;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const S=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:x,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&zp.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(un.close,{},e)}_onError(e){this._on(un.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=K_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=K_(e.columns,e.old_record)),r}}const Q_=()=>{},X3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vO{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hO,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Q_,this.ref=0,this.logger=Q_,this.conn=null,this.sendBuffer=[],this.serializer=new z3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>ra(()=>Promise.resolve().then(()=>hl),void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${Sy.websocket}`,this.httpEndpoint=gO(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pO(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=L3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U3}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _c.connecting:return Ba.Connecting;case _c.open:return Ba.Open;case _c.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new zp(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:B3};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(un.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(H3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(un.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([X3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class kb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Z3 extends kb{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ty extends kb{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var J3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const yO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ra(()=>Promise.resolve().then(()=>hl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},eF=()=>J3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ra(()=>Promise.resolve().then(()=>hl),void 0)).Response:Response}),Ny=t=>{if(Array.isArray(t))return t.map(r=>Ny(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Ny(n)}),e};var ws=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const xg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tF=(t,e,r)=>ws(void 0,void 0,void 0,function*(){const n=yield eF();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new Z3(xg(i),t.status||500))}).catch(i=>{e(new Ty(xg(i),i))}):e(new Ty(xg(t),t))}),rF=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function qu(t,e,r,n,i,a){return ws(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,rF(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>tF(l,o,n))})})}function Yf(t,e,r,n){return ws(this,void 0,void 0,function*(){return qu(t,"GET",e,r,n)})}function Oi(t,e,r,n,i){return ws(this,void 0,void 0,function*(){return qu(t,"POST",e,n,i,r)})}function nF(t,e,r,n,i){return ws(this,void 0,void 0,function*(){return qu(t,"PUT",e,n,i,r)})}function iF(t,e,r,n){return ws(this,void 0,void 0,function*(){return qu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xO(t,e,r,n,i){return ws(this,void 0,void 0,function*(){return qu(t,"DELETE",e,n,i,r)})}var pr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const aF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sF{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=yO(i)}uploadOrUpdate(e,r,n,i){return pr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},X_),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Lt(a))return{data:null,error:a};throw a}})}upload(e,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return pr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:X_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return pr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Oi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new kb("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}update(e,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return pr(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Oi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Oi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return pr(this,void 0,void 0,function*(){try{const i=yield Oi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}download(e,r){return pr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Yf(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}info(e){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Yf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ny(n),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}exists(e){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield iF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Lt(n)&&n instanceof Ty){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return pr(this,void 0,void 0,function*(){try{return{data:yield xO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}list(e,r,n){return pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},aF),r),{prefix:e||""});return{data:yield Oi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Lt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const oF="2.7.1",lF={"X-Client-Info":`storage-js/${oF}`};var Rs=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class cF{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},lF),r),this.fetch=yO(n)}listBuckets(){return Rs(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Lt(e))return{data:null,error:e};throw e}})}getBucket(e){return Rs(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Rs(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Rs(this,void 0,void 0,function*(){try{return{data:yield nF(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Rs(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Rs(this,void 0,void 0,function*(){try{return{data:yield xO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}}class uF extends cF{constructor(e,r={},n){super(e,r,n)}from(e){return new sF(this.url,this.headers,e,this.fetch)}}const dF="2.50.5";let lc="";typeof Deno<"u"?lc="deno":typeof document<"u"?lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lc="react-native":lc="node";const fF={"X-Client-Info":`supabase-js-${lc}/${dF}`},hF={headers:fF},pF={schema:"public"},mF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gF={};var vF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const yF=t=>{let e;return t?e=t:typeof fetch>"u"?e=rO:e=fetch,(...r)=>e(...r)},xF=()=>typeof Headers>"u"?nO:Headers,bF=(t,e,r)=>{const n=yF(r),i=xF();return(a,s)=>vF(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var wF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function SF(t){return t.endsWith("/")?t:t+"/"}function _F(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>wF(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const bO="2.70.0",zs=30*1e3,Cy=3,bg=Cy*zs,EF="http://localhost:9999",jF="supabase.auth.token",AF={"X-Client-Info":`gotrue-js/${bO}`},ky="X-Supabase-Api-Version",wO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NF=6e5;class Wp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class SO extends Wp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _O(t){return Te(t)&&t.name==="AuthApiError"}class Ob extends Wp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yi extends Wp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Yn extends yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EO(t){return Te(t)&&t.name==="AuthSessionMissingError"}class cc extends yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uc extends yi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dc extends yi{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jO(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}class Oy extends yi{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kf extends yi{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function uf(t){return Te(t)&&t.name==="AuthRetryableFetchError"}class Dy extends yi{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}function CF(t){return Te(t)&&t.name==="AuthWeakPasswordError"}class mo extends yi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Z_=` 	
\r=`.split(""),kF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Z_.length;e+=1)t[Z_[e].charCodeAt(0)]=-2;for(let e=0;e<Qf.length;e+=1)t[Qf[e].charCodeAt(0)]=e;return t})();function J_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qf[n]),e.queuedBits-=6}}function AO(t,e,r){const n=kF[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function e1(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{PF(s,n,r)};for(let s=0;s<t.length;s+=1)AO(t.charCodeAt(s),i,a);return e.join("")}function OF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DF(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}OF(n,e)}}function PF(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function MF(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)AO(t.charCodeAt(i),r,n);return new Uint8Array(e)}function RF(t){const e=[];return DF(t,r=>e.push(r)),new Uint8Array(e)}function IF(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>J_(i,r,n)),J_(null,r,n),e.join("")}function $F(t){return Math.round(Date.now()/1e3)+t}function LF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const on=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},Ec=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function FF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const TO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ra(()=>Promise.resolve().then(()=>hl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},BF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",NO=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Sd=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_d=async(t,e)=>{await t.removeItem(e)};class Vp{constructor(){this.promise=new Vp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Vp.promiseConstructor=Promise;function wg(t){const e=t.split(".");if(e.length!==3)throw new mo("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!TF.test(e[n]))throw new mo("JWT not in base64url format");return{header:JSON.parse(e1(e[0])),payload:JSON.parse(e1(e[1])),signature:MF(e[2]),raw:{header:e[0],payload:e[1]}}}async function UF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function HF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function zF(t){return("0"+t.toString(16)).substr(-2)}function WF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,zF).join("")}async function VF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function GF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await VF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Is(t,e,r=!1){const n=WF();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await NO(t,`${e}-code-verifier`,i);const a=await GF(n);return[a,n===a?"plain":"s256"]}const qF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YF(t){const e=t.headers.get(ky);if(!e||!e.match(qF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function KF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(t){if(!XF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ZF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JF=[502,503,504];async function t1(t){var e;if(!BF(t))throw new Kf(Da(t),0);if(JF.includes(t.status))throw new Kf(Da(t),t.status);let r;try{r=await t.json()}catch(a){throw new Ob(Da(a),a)}let n;const i=YF(t);if(i&&i.getTime()>=wO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Dy(Da(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Dy(Da(r),t.status,r.weak_password.reasons);throw new SO(Da(r),t.status||500,n)}const eB=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function De(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[ky]||(a[ky]=wO["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await tB(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function tB(t,e,r,n,i,a){const s=eB(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new Kf(Da(l),0)}if(o.ok||await t1(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await t1(l)}}function Gn(t){var e;let r=null;aB(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=$F(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function r1(t){const e=Gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ii(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function rB(t){return{data:t,error:null}}function nB(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=ZF(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function iB(t){return t}function aB(t){return t.access_token&&t.refresh_token&&t.expires_in}const df=["global","local","others"];var sB=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class Db{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=TO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=df[0]){if(df.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${df.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ii})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sB(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ii})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:iB});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$s(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ii})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){$s(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ii})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){$s(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ii})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){$s(e.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(e){$s(e.userId),$s(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}const oB={getItem:t=>Ec()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ec()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ec()&&globalThis.localStorage.removeItem(t)}};function n1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function lB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pa={debug:!!(globalThis&&Ec()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class CO extends Pb{}class cB extends Pb{}async function kO(t,e,r){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new CO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const i1={};async function uB(t,e,r){var n;const i=(n=i1[t])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),e>=0?new Promise((s,o)=>{setTimeout(()=>{o(new cB(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await r());return i1[t]=a.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await a}lB();const dB={url:EF,storageKey:jF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function a1(t,e,r){return await r()}class ko{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ko.nextInstanceID,ko.nextInstanceID+=1,this.instanceID>0&&on()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},dB),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Db({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=TO(i.fetch),this.lock=i.lock||a1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:on()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kO:this.lock=a1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Ec()?this.storage=oB:(this.memoryStorage={},this.storage=n1(this.memoryStorage)):(this.memoryStorage={},this.storage=n1(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=FF(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),on()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),jO(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new Ob("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gn}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Is(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Gn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gn})}else throw new uc("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:r1})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:r1})}else throw new uc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,s,o,l,u,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:b}=e;let S;if(on())if(typeof x=="object")S=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:v,error:x}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:IF(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gn});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new cc}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Te(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await Sd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Gn});if(await _d(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new cc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Te(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gn}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Is(this.storage,this.storageKey));const{error:f}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new uc("You must provide either an email or phone number.")}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Gn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Is(this.storage,this.storageKey)),await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:rB})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Yn;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new uc("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Sd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<bg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ii}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ii})})}catch(r){if(Te(r))return EO(r)&&(await this._removeSession(),await _d(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Yn;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Is(this.storage,this.storageKey));const{data:u,error:d}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ii});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=wg(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Yn;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!on())throw new dc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Oy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Oy("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new dc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Sd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(_O(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await _d(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=LF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Is(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return on()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Te(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await HF(async i=>(i>0&&await UF(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&uf(a)&&Date.now()+s-n<zs})}catch(n){if(this._debug(r,"error",n),Te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),on()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Sd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<bg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${bg}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),uf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vp;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Yn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Te(a)){const s={session:null,error:a};return uf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await NO(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await _d(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zs}ms, refresh threshold is ${Cy} ticks`),i<=Cy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Is(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await De(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=wg(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+NF>Date.now()))return n;const{data:i,error:a}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new mo("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===e),!n)throw new mo("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=wg(n);if(KF(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const u=QF(i.alg),d=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,RF(`${o}.${l}`)))throw new mo("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}ko.nextInstanceID=0;const fB=Db,OO=ko;class hB extends OO{constructor(e){super(e)}}var pB=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class DO{constructor(e,r,n){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=SF(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:pF,realtime:gF,auth:Object.assign(Object.assign({},mF),{storageKey:u}),global:hF},f=_F(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=bF(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new R3(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new d3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uF(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return pB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hB({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PO=(t,e,r)=>new DO(t,e,r),Sg=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:fB,AuthApiError:SO,AuthClient:OO,AuthError:Wp,AuthImplicitGrantRedirectError:dc,AuthInvalidCredentialsError:uc,AuthInvalidJwtError:mo,AuthInvalidTokenResponseError:cc,AuthPKCEGrantCodeExchangeError:Oy,AuthRetryableFetchError:Kf,AuthSessionMissingError:Yn,AuthUnknownError:Ob,AuthWeakPasswordError:Dy,CustomAuthError:yi,get FunctionRegion(){return qf},FunctionsError:Ip,FunctionsFetchError:tO,FunctionsHttpError:wy,FunctionsRelayError:by,GoTrueAdminApi:Db,GoTrueClient:ko,NavigatorLockAcquireTimeoutError:CO,PostgrestError:I3,REALTIME_CHANNEL_STATES:Q3,get REALTIME_LISTEN_TYPES(){return Ay},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return jy},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ey},get REALTIME_SUBSCRIBE_STATES(){return An},RealtimeChannel:zp,RealtimeClient:vO,RealtimePresence:po,SIGN_OUT_SCOPES:df,SupabaseClient:DO,createClient:PO,isAuthApiError:_O,isAuthError:Te,isAuthImplicitGrantRedirectError:jO,isAuthRetryableFetchError:uf,isAuthSessionMissingError:EO,isAuthWeakPasswordError:CF,lockInternals:Pa,navigatorLock:kO,processLock:uB},Symbol.toStringTag,{value:"Module"})),_g="https://kvsbrrmzedadyffqtcdq.supabase.co",Eg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw";let J=null;try{_g&&_g!=="https://placeholder.supabase.co"&&Eg&&Eg!=="placeholder-key"&&(J=PO(_g,Eg))}catch(t){console.error("Failed to create Supabase client:",t)}class Di{constructor(){this.isAuthenticated=!0,Di.mockMessages||(Di.mockMessages=[])}async init(){try{if(!J)return!0;const{data:e,error:r}=await J.from("venues").select("count").limit(1);return r?(console.error("Supabase connection failed:",r),!1):!0}catch(e){return console.error("Failed to initialize Supabase API:",e),!1}}getMockData(e){return{venues:[],trailer_history:[],camper_history:[],staff:[]}[e]||[]}async readTable(e,r={}){try{if(!J)return{success:!0,data:this.getMockData(e)};let n=[],i=0;const a=1e3;let s=!0;for(;s;){let o=J.from(e).select("*");r.filters&&Object.entries(r.filters).forEach(([d,f])=>{o=o.eq(d,f)}),r.dateFrom&&r.dateTo&&(o=o.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?o=o.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):e.includes("history")?o=o.order("date",{ascending:!1}):o=o.order("id",{ascending:!1}),o=o.range(i*a,(i+1)*a-1);const{data:l,error:u}=await o;if(u)throw new Error(u.message);l&&l.length>0?(n=n.concat(l),i++,l.length<a&&(s=!1),i>50&&(console.warn(`[readTable] Stopping pagination after 50 pages to prevent infinite loop for ${e}`),s=!1)):s=!1}return{success:!0,data:n}}catch(n){return console.error(`Failed to read from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async addRow(e,r){try{if(!J)return{success:!0,data:{...r,id:Date.now()},message:"Row added successfully (mock mode)"};const{data:n,error:i}=await J.from(e).insert([r]).select();if(i)throw new Error(i.message);return{success:!0,data:n[0],message:"Row added successfully"}}catch(n){return console.error(`Failed to add row to ${e}:`,n),{success:!1,error:n.message}}}async updateRow(e,r,n){try{if(!J)return{success:!0,data:{id:r,...n},message:"Row updated successfully (mock mode)"};const{data:i,error:a}=await J.from(e).update(n).eq("id",r).select();if(a)throw new Error(a.message);return{success:!0,data:i[0],message:"Row updated successfully"}}catch(i){return console.error(`Failed to update row in ${e}:`,i),{success:!1,error:i.message}}}async deleteRow(e,r){try{if(!J)return{success:!0,message:"Row deleted successfully (mock mode)"};const{error:n}=await J.from(e).delete().eq("id",r);if(n)throw new Error(n.message);return{success:!0,message:"Row deleted successfully"}}catch(n){return console.error(`Failed to delete row from ${e}:`,n),{success:!1,error:n.message}}}async getTableInfo(e){try{if(!J){const i=this.getMockData(e);return{success:!0,data:{title:e,rowCount:i.length,columnCount:i.length>0?Object.keys(i[0]).length:0}}}const{count:r,error:n}=await J.from(e).select("*",{count:"exact",head:!0});if(n)throw new Error(n.message);return{success:!0,data:{title:e,rowCount:r||0,columnCount:10}}}catch(r){return console.error(`Failed to get table info for ${e}:`,r),{success:!1,error:r.message}}}async searchData(e,r,n=null){try{if(!J){const o=this.getMockData(e);return r?{success:!0,data:o.filter(u=>n?u[n]&&u[n].toString().toLowerCase().includes(r.toLowerCase()):Object.values(u).some(d=>d&&d.toString().toLowerCase().includes(r.toLowerCase())))}:{success:!0,data:o}}let i=J.from(e).select("*");r&&(n?i=i.ilike(n,`%${r}%`):i=i.or(`name.ilike.%${r}%,email.ilike.%${r}%,promo.ilike.%${r}%`));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error(`Failed to search data in ${e}:`,i),{success:!1,error:i.message,data:[]}}}async getSalesWithVenues(e,r={}){try{if(!J){const s=this.getMockData(e),o=this.getMockData("venues");return{success:!0,data:s.map(u=>({...u,venues:o.find(d=>d.id===u.venue_id)||{}}))}}let n=J.from(e).select(`
          *,
          venues (
            id,
            promo,
            address_city,
            contact,
            phone,
            email
          )
        `);r.dateFrom&&r.dateTo&&(n=n.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?n=n.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):n=n.order("date",{ascending:!1});const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error(`Failed to get sales with venues from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async getDashboardStats(){try{if(!J){const u=this.getMockData("trailer_history"),d=this.getMockData("camper_history"),f=this.getMockData("venues"),h=this.getMockData("staff");return{success:!0,data:{trailerHistory:u,camperHistory:d,venueCount:f.length,staffCount:h.length}}}const{data:e,error:r}=await J.from("trailer_history").select("gross_sales, net_sales, sales_tax, date");if(r)throw new Error(r.message);const{data:n,error:i}=await J.from("camper_history").select("gross_sales, net_sales, sales_tax, date");if(i)throw new Error(i.message);const{count:a,error:s}=await J.from("venues").select("*",{count:"exact",head:!0});if(s)throw new Error(s.message);const{count:o,error:l}=await J.from("staff").select("*",{count:"exact",head:!0});if(l)throw new Error(l.message);return{success:!0,data:{trailerHistory:e||[],camperHistory:n||[],venueCount:a||0,staffCount:o||0}}}catch(e){return console.error("Failed to get dashboard stats:",e),{success:!1,error:e.message}}}async getCurrentUser(){var e;try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:{user:r},error:n}=await J.auth.getUser();if(n)return{success:!1,error:n.message};if(!r)return{success:!1,error:"No user found"};const{data:i,error:a}=await J.from("users").select("*").eq("email",r.email).single();return a&&a.code!=="PGRST116"&&console.warn("Could not fetch user profile:",a),{success:!0,data:{id:r.id,email:r.email,name:(i==null?void 0:i.name)||((e=r.user_metadata)==null?void 0:e.name)||r.email,role:(i==null?void 0:i.role)||"user",created_at:r.created_at,last_sign_in:r.last_sign_in_at}}}catch(r){return console.error("Failed to get current user:",r),{success:!1,error:r.message}}}async signIn(e,r){var n;try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await J.auth.signInWithPassword({email:e,password:r});if(a)return{success:!1,error:a.message};const s={id:i.user.id,email:i.user.email,name:((n=i.user.user_metadata)==null?void 0:n.name)||i.user.email,role:"user",created_at:i.user.created_at,last_sign_in:i.user.last_sign_in_at},{data:o}=await J.from("users").select("*").eq("email",i.user.email).single();if(o&&(s.name=o.name,s.role=o.role,s.staff_id=o.staff_id),o!=null&&o.staff_id){const{data:l}=await J.from("staff").select("*").eq("id",o.staff_id).single();l&&(s.staffMember=l,s.name=l.name||s.name)}return{success:!0,data:s}}catch(i){return console.error("Failed to sign in:",i),{success:!1,error:i.message}}}async signUp(e,r,n){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await J.auth.signUp({email:e,password:r,options:{data:{name:n}}});if(a)return{success:!1,error:a.message};if(i.user)try{const{error:s}=await J.from("users").insert([{id:i.user.id,email:i.user.email,name:n,role:"user",is_active:!0}]);s&&s.code!=="23505"&&console.warn("Could not create user profile:",s)}catch(s){console.warn("Profile creation failed, but auth succeeded:",s)}return{success:!0,data:i.user}}catch(i){return console.error("Failed to sign up:",i),{success:!1,error:i.message}}}async signOut(){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:e}=await J.auth.signOut();return e?{success:!1,error:e.message}:{success:!0}}catch(e){return console.error("Failed to sign out:",e),{success:!1,error:e.message}}}async resetPassword(e){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:r}=await J.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to reset password:",r),{success:!1,error:r.message}}}async resendConfirmationEmail(e){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:r}=await J.auth.resend({type:"signup",email:e});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to resend confirmation email:",r),{success:!1,error:r.message}}}async updateProfile(e,r){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await J.from("users").update(r).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to update profile:",n),{success:!1,error:n.message}}}async linkUserToStaff(e,r){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await J.from("users").update({staff_id:r}).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to link user to staff:",n),{success:!1,error:n.message}}}async getUnlinkedUsers(){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:e,error:r}=await J.from("users").select("*").is("staff_id",null).order("created_at",{ascending:!1});return r?{success:!1,error:r.message}:{success:!0,data:e||[]}}catch(e){return console.error("Failed to get unlinked users:",e),{success:!1,error:e.message}}}async authenticate(){return(await this.getCurrentUser()).success}async getUsers(){try{if(!J)return{success:!0,data:[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}]};const{data:{user:e}}=await J.auth.getUser();if(!e)return{success:!0,data:[]};const{data:r}=await J.from("users").select("role").eq("email",e.email).single();let n=J.from("users").select("*");(r==null?void 0:r.role)==="admin"?n=n.eq("is_active",!0).order("name"):n=n.eq("email",e.email);const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(e){return console.error("Failed to get users:",e),{success:!1,error:e.message,data:[]}}}async addUser(e){try{if(!J)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}};const{data:r,error:n}=await J.from("users").insert([e]).select().single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to add user:",r),{success:!1,error:r.message}}}async updateUser(e,r){try{if(!J)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await J.from("users").update(r).eq("id",e).select().single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update user:",n),{success:!1,error:n.message}}}async getMessageGroups(){try{if(!J)return{success:!0,data:[{id:1,group_name:"General",created_by:1,is_active:!0}]};const{data:e,error:r}=await J.from("message_groups").select("*").eq("is_active",!0).order("group_name");if(r)throw new Error(r.message);return{success:!0,data:e||[]}}catch(e){return console.error("Failed to get message groups:",e),{success:!1,error:e.message,data:[]}}}async getGroupMembers(e){try{if(!J)return{success:!0,data:[{id:1,group_id:1,user_id:1,role:"admin"},{id:2,group_id:1,user_id:2,role:"member"},{id:3,group_id:1,user_id:3,role:"member"},{id:4,group_id:1,user_id:4,role:"member"},{id:5,group_id:1,user_id:5,role:"admin"},{id:6,group_id:1,user_id:6,role:"member"}]};const{data:r,error:n}=await J.from("group_members").select(`
          *,
          staff (id, name, email, role)
        `).eq("group_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get group members:",r),{success:!1,error:r.message,data:[]}}}async getMessages(e=null,r=null,n=50){try{if(!J){let o=Di.mockMessages||[];return e&&(o=o.filter(l=>l.group_id===e)),o.sort((l,u)=>new Date(l.created_at)-new Date(u.created_at)),n&&(o=o.slice(0,n)),{success:!0,data:o}}let i=J.from("team_messages").select("*").eq("is_deleted",!1).order("created_at",{ascending:!0}).limit(n);e?i=i.eq("group_id",e):r&&(i=i.eq("recipient_id",r));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error("Failed to get messages:",i),{success:!1,error:i.message,data:[]}}}async sendMessage(e){try{if(!J){const a=[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}].find(o=>o.id===e.sender_id)||{id:e.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"},s={id:Date.now(),...e,created_at:new Date().toISOString(),sender:{id:a.id,name:a.name,email:a.email}};return Di.mockMessages||(Di.mockMessages=[]),Di.mockMessages.push(s),{success:!0,data:s}}const{data:r,error:n}=await J.from("team_messages").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to send message:",r),{success:!1,error:r.message}}}async getTasks(e=null,r=null){try{if(!J)return{success:!0,data:[]};let n=J.from("tasks").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("assigned_to",e)),r&&(n=n.eq("status",r));const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error("Failed to get tasks:",n),{success:!1,error:n.message,data:[]}}}async createTask(e){try{if(!J)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};const{data:r,error:n}=await J.from("tasks").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to create task:",r),{success:!1,error:r.message}}}async updateTask(e,r){try{if(!J)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await J.from("tasks").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update task:",n),{success:!1,error:n.message}}}async deleteTask(e){try{if(!J)return{success:!0};const{error:r}=await J.from("tasks").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete task:",r),{success:!1,error:r.message}}}async getTaskComments(e){try{return{success:!0,data:[]}}catch(r){return console.error("Failed to get task comments:",r),{success:!1,error:r.message,data:[]}}}async addTaskComment(e){try{return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}}}catch(r){return console.error("Failed to add task comment:",r),{success:!1,error:r.message}}}async getStoreHours(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("store_hours").select("*").eq("store_id",e).order("day_of_week");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store hours:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHours(e,r){try{if(!J)return console.log("Mock: Saving store hours:",r),{success:!0};const{error:n}=await J.from("store_hours").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("store_hours").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store hours:",n),{success:!1,error:n.message}}}async getStoreHolidays(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("store_holidays").select("*").eq("store_id",e).order("date");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store holidays:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHolidays(e,r){try{if(!J)return console.log("Mock: Saving store holidays:",r),{success:!0};const{error:n}=await J.from("store_holidays").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("store_holidays").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store holidays:",n),{success:!1,error:n.message}}}async getCommissionTiers(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("commission_tiers").select("*").eq("store_id",e).order("sales_target");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get commission tiers:",r),{success:!1,error:r.message,data:[]}}}async saveCommissionTiers(e,r){try{if(!J)return console.log("Mock: Saving commission tiers:",r),{success:!0};console.log("saveCommissionTiers called with storeId:",e,"tiersData:",r);const{error:n}=await J.from("commission_tiers").delete().eq("store_id",e);if(n)throw new Error(n.message);const i=r.filter(s=>s.sales_target>0&&s.bonus_amount>0).map(s=>{const o=s.tier_name&&s.tier_name.trim()||`Bonus for $${s.sales_target.toLocaleString()}+ sales`;return{store_id:s.store_id,tier_name:o,sales_target:s.sales_target,commission_rate:s.commission_rate||0,bonus_amount:s.bonus_amount}});console.log("Final insertData to send to database:",i);const{error:a}=await J.from("commission_tiers").insert(i);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save commission tiers:",n),{success:!1,error:n.message}}}async getStaffCommissionRates(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("staff_commission_rates").select("*").eq("store_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get staff commission rates:",r),{success:!1,error:r.message,data:[]}}}async saveStaffCommissionRates(e,r){try{if(!J)return console.log("Mock: Saving staff commission rates:",r),{success:!0};const{error:n}=await J.from("staff_commission_rates").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("staff_commission_rates").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save staff commission rates:",n),{success:!1,error:n.message}}}async getScheduleSlots(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("schedule_slots").select("*").eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(i){return console.error("Failed to get schedule slots:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleSlot(e){try{if(!J)return console.log("Mock: Saving schedule slot:",e),{success:!0};const{error:r}=await J.from("schedule_slots").upsert(e,{onConflict:"store_id,date,start_time"});if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to save schedule slot:",r),{success:!1,error:r.message}}}async deleteScheduleSlot(e){try{if(!J)return console.log("Mock: Deleting schedule slot:",e),{success:!0};const{error:r}=await J.from("schedule_slots").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule slot:",r),{success:!1,error:r.message}}}async getScheduleAssignments(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("schedule_assignments").select(`
          *,
          staff:staff_id(name, role)
        `).eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:(i||[]).map(o=>({id:o.id,storeId:o.store_id,staffId:o.staff_id,date:o.date,startTime:o.start_time,endTime:o.end_time,notes:o.notes,staff:o.staff}))}}catch(i){return console.error("Failed to get schedule assignments:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleAssignment(e){try{if(!J)return console.log("Mock: Saving schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const r={store_id:e.storeId,staff_id:e.staffId,date:e.date,start_time:e.startTime,end_time:e.endTime,notes:e.notes},{data:n,error:i}=await J.from("schedule_assignments").upsert(r,{onConflict:"staff_id,date,start_time"}).select();if(i)throw new Error(i.message);return{success:!0,data:n!=null&&n[0]?{id:n[0].id,storeId:n[0].store_id,staffId:n[0].staff_id,date:n[0].date,startTime:n[0].start_time,endTime:n[0].end_time,notes:n[0].notes}:e}}catch(r){return console.error("Failed to save schedule assignment:",r),{success:!1,error:r.message}}}async createScheduleAssignment(e){try{if(!J)return console.log("Mock: Creating schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const{data:r,error:n}=await J.from("schedule_assignments").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:(r==null?void 0:r[0])||e}}catch(r){return console.error("Failed to create schedule assignment:",r),{success:!1,error:r.message}}}async deleteScheduleAssignment(e){try{if(!J)return console.log("Mock: Deleting schedule assignment:",e),{success:!0};const{error:r}=await J.from("schedule_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule assignment:",r),{success:!1,error:r.message}}}async importTrailerHistory(e){if(!Array.isArray(e)||e.length===0)return{success:!1,error:"No data to import",processed:0,failed:0};if(!J)return{success:!0,processed:e.length,failed:0};const r={};for(const a of e){const s=`${a.date}_${a.store}`;r[s]||(r[s]={date:a.date,Store:a.store,sales_tax:0,net_sales:0,gross_sales:0}),r[s].sales_tax+=parseFloat(a.sales_tax||0),r[s].net_sales+=parseFloat(a.net_sales||0),r[s].gross_sales+=parseFloat(a.gross_sales||0)}let n=0,i=0;for(const a of Object.values(r))try{const{error:s}=await J.from("trailer_history").upsert([a],{onConflict:["date","Store"]});s?(i++,console.error("Upsert error:",s)):n++}catch(s){i++,console.error("Exception during upsert:",s)}return{success:i===0,processed:n,failed:i}}async getSalesForPeriod(e,r,n){try{if(!J)return{success:!0,data:[{date:r,store:e,total_sales:15e3},{date:n,store:e,total_sales:18e3}]};const{data:i,error:a}=await J.from("trailer_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n),{data:s,error:o}=await J.from("camper_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n);if(a)throw a;if(o)throw o;const u=[...i||[],...s||[]].reduce((d,f)=>{const h=f.date;return d[h]||(d[h]={date:h,store:e,total_sales:0}),d[h].total_sales+=parseFloat(f.gross_sales||0),d},{});return{success:!0,data:Object.values(u)}}catch(i){return console.error("Error fetching sales data:",i),{success:!1,error:i.message}}}async getSalesByStaff(e,r,n){try{return J?{success:!0,data:[{date:r,staff_id:e,sales_amount:5e3},{date:n,staff_id:e,sales_amount:6e3}]}:{success:!0,data:[]}}catch(i){return console.error("Error fetching staff sales:",i),{success:!1,error:i.message}}}async getPayrollHistory(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("payroll_history").select("*").eq("store_id",e).gte("pay_period_start",r).lte("pay_period_end",n).order("pay_period_start",{ascending:!1});if(a)throw a;return{success:!0,data:i||[]}}catch(i){return console.error("Error fetching payroll history:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{if(!J)return{success:!0,data:{id:Date.now()}};const{data:r,error:n}=await J.from("payroll_history").insert([e]).select();if(n)throw n;return{success:!0,data:r[0]}}catch(r){return console.error("Error saving payroll record:",r),{success:!1,error:r.message}}}async getStores(){try{if(!J)return{success:!0,data:[{id:1,name:"Spartanburg",number:"1"},{id:2,name:"Greenville",number:"3"},{id:3,name:"Columbia",number:"4"},{id:4,name:"Trailer",number:"5"},{id:5,name:"Camper",number:"7"}]};const{data:e,error:r}=await J.from("stores").select("*").eq("is_active",!0).order("number");if(r)throw r;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching stores:",e),{success:!1,error:e.message}}}async getStaffBonusTiers(e){try{console.log("🔍 Getting staff bonus tiers for staffId:",e);const{data:r,error:n}=await J.from("staff_bonus_tiers").select("*").eq("staff_id",e).order("sales_target",{ascending:!0});return n?(console.error("❌ Error fetching staff bonus tiers:",n),{success:!1,error:n.message}):(console.log("✅ Staff bonus tiers fetched successfully:",r),{success:!0,data:r})}catch(r){return console.error("❌ Exception in getStaffBonusTiers:",r),{success:!1,error:r.message}}}async saveStaffBonusTiers(e,r){try{if(console.log("💾 Saving staff bonus tiers for staffId:",e,"tiersData:",r),!J)return console.log("❌ Supabase not available, returning mock success"),{success:!0,data:r};console.log("🗑️ Deleting existing tiers for staff:",e);const{error:n}=await J.from("staff_bonus_tiers").delete().eq("staff_id",e);if(n)return console.error("❌ Error deleting existing staff bonus tiers:",n),{success:!1,error:n.message};if(console.log("✅ Successfully deleted existing tiers"),!r||r.length===0)return console.log("✅ No tiers to save, deletion completed"),{success:!0,data:[]};console.log("📝 Inserting new tiers:",r);const{data:i,error:a}=await J.from("staff_bonus_tiers").insert(r).select();return a?(console.error("❌ Error saving staff bonus tiers:",a),console.error("❌ Error details:",{code:a.code,message:a.message,details:a.details,hint:a.hint}),{success:!1,error:a.message}):(console.log("✅ Staff bonus tiers saved successfully:",i),{success:!0,data:i})}catch(n){return console.error("❌ Exception in saveStaffBonusTiers:",n),{success:!1,error:n.message}}}async calculateStaffBonus(e,r){try{console.log("🧮 Calculating staff bonus for staffId:",e,"salesAmount:",r);const{data:n,error:i}=await J.from("staff_bonus_tiers").select("*").eq("staff_id",e).eq("is_active",!0).order("sales_target",{ascending:!1});if(i)return console.error("❌ Error calculating staff bonus:",i),{success:!1,error:i.message};let a=0;for(const s of n||[])if(r>=s.sales_target){a=s.bonus_amount;break}return console.log("✅ Staff bonus calculated:",a),{success:!0,data:a}}catch(n){return console.error("❌ Exception in calculateStaffBonus:",n),{success:!1,error:n.message}}}async getScheduleAssignmentsForDateRange(e,r,n){try{console.log("📅 Getting schedule assignments for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await J.from("schedule_assignments").select(`
          *,
          slot:schedule_slots(*)
        `).eq("slot.store_id",e).gte("slot.slot_date",r).lte("slot.slot_date",n);return a?(console.error("❌ Error fetching schedule assignments:",a),{success:!1,error:a.message}):(console.log("✅ Schedule assignments fetched:",i),{success:!0,data:i||[]})}catch(i){return console.error("❌ Exception in getScheduleAssignmentsForDateRange:",i),{success:!1,error:i.message}}}async getSalesForDateRange(e,r,n){try{console.log("💰 Getting sales for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await J.from("trailer_history").select("date, Store, gross_sales").order("date",{ascending:!1}).limit(5);a?console.error("❌ Error fetching sample data:",a):console.log("📅 Sample dates from trailer_history:",i);const{data:s,error:o}=await J.from("trailer_history").select("*").gte("date",r).lte("date",n);if(o)return console.error("❌ Error fetching sales data:",o),{success:!1,error:o.message};console.log("📊 Raw data for date range:",(s==null?void 0:s.length)||0,"records");const l=(s||[]).filter(u=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"}[u.Store]||u.Store)===e);return console.log("✅ Sales fetched for store:",e,l),{success:!0,data:l}}catch(i){return console.error("❌ Exception in getSalesForDateRange:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{console.log("💾 Saving payroll record:",e);const{data:r,error:n}=await J.from("payroll_records").insert(e).select();return n?(console.error("❌ Error saving payroll record:",n),{success:!1,error:n.message}):(console.log("✅ Payroll record saved:",r),{success:!0,data:r})}catch(r){return console.error("❌ Exception in savePayrollRecord:",r),{success:!1,error:r.message}}}}const de=new Di,fc=(t,e)=>{const r=a=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"})[a]||`Store ${a}`;let n="Trailer";return t.Store?n=r(String(t.Store)):t.store?n=r(String(t.store)):t.promo&&t.promo.includes("Trailer")?n="Trailer":t.promo&&t.promo.includes("Camper")&&(n="Camper"),{id:t.id||null,date:t.date||"",status:t.status||"",salesTax:parseFloat(t.sales_tax||0)||0,netSales:parseFloat(t.net_sales||0)||0,grossSales:parseFloat(t.gross_sales||0)||0,store:n,venue:t.common_venue_name||t.venue_name||"",sheetType:e}},mB=t=>{const e={};return t.forEach((n,i)=>{const a=String(n.store||"Unknown Store"),s=n.date||"";if(!s)return;const o=parseFloat(n.salesTax||0)||0,l=parseFloat(n.netSales||0)||0,u=parseFloat(n.grossSales||0)||0;if(l<=0||u<=0)return;let d=s;s.includes(" ")&&(d=s.split(" ")[0]);const f=`${a}_${d}`;e[f]||(e[f]={store:a,venue:n.venue||"",date:d,salesTax:0,netSales:0,grossSales:0,count:0}),e[f].salesTax+=o,e[f].netSales+=l,e[f].grossSales+=u,e[f].count+=1}),Object.values(e).sort((n,i)=>{const a=new Date(n.date),s=new Date(i.date);return a.getTime()!==s.getTime()?a-s:String(n.store).localeCompare(String(i.store))})},Ed=t=>({id:t.id||null,promo:t.promo||"",promoSend:t.promo_to_send||"",addressCity:t.address_city||"",contact:t.contact||"",phone:t.phone||"",email:t.email||"",times:t.times||"",showInfo:t.show_info||"",forecastWill:t.forecast||""}),s1=t=>({id:t.id||null,name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hireDate:t.hire_date||"",notes:t.notes||"",store_id:t.store_id||null,payType:t.pay_type||"hourly",hourlyRate:parseFloat(t.hourly_rate||0)||0,salaryAmount:parseFloat(t.salary_amount||0)||0,preferredHoursPerWeek:parseFloat(t.preferred_hours_per_week||0)||0,maxHoursPerWeek:parseFloat(t.max_hours_per_week||0)||0}),o1=(t,e=!1)=>{const r={name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hire_date:t.hireDate||"",notes:t.notes||"",store_id:t.store_id||null,pay_type:t.payType||"hourly",hourly_rate:parseFloat(t.hourlyRate||0)||0,salary_amount:parseFloat(t.salaryAmount||0)||0,preferred_hours_per_week:parseFloat(t.preferredHoursPerWeek||0)||0,max_hours_per_week:parseFloat(t.maxHoursPerWeek||0)||0};return e&&t.id&&(r.id=t.id),r},gB=["Confirmed","Pending","Closed","Cancelled","Rescheduled"],vB=["Manager","Worker","Driver","Sales","Support"],yB=["Active","Inactive","On Leave","Terminated"],xB=["hourly","salary","salary+bonus"],jg=t=>({date:new Date().toISOString().split("T")[0],status:"Confirmed",salesTax:0,netSales:0,grossSales:0,venueId:"",sheetType:t}),Ag=()=>({promo:"",promoSend:"",addressCity:"",contact:"",phone:"",email:"",times:"",showInfo:"",forecastWill:""}),Tg=()=>({name:"",email:"",phone:"",role:"Worker",status:"Active",hireDate:new Date().toISOString().split("T")[0],notes:"",store_id:null,payType:"hourly",hourlyRate:0,salaryAmount:0,preferredHoursPerWeek:0,maxHoursPerWeek:0}),bB={currentSheet:"TRAILER_HISTORY",salesData:[],rawSalesData:[],venuesData:[],staffData:[],tasksData:[],messagesData:[],calendarEvents:[],currentMonth:new Date,loading:!1,error:null,user:null},le={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_SALES_DATA:"SET_SALES_DATA",SET_VENUES_DATA:"SET_VENUES_DATA",SET_STAFF_DATA:"SET_STAFF_DATA",SET_CURRENT_SHEET:"SET_CURRENT_SHEET",SET_CURRENT_MONTH:"SET_CURRENT_MONTH",SET_SELECTED_VENUE:"SET_SELECTED_VENUE",ADD_SALES_ENTRY:"ADD_SALES_ENTRY",UPDATE_SALES_ENTRY:"UPDATE_SALES_ENTRY",DELETE_SALES_ENTRY:"DELETE_SALES_ENTRY",ADD_VENUE_ENTRY:"ADD_VENUE_ENTRY",UPDATE_VENUE_ENTRY:"UPDATE_VENUE_ENTRY",DELETE_VENUE_ENTRY:"DELETE_VENUE_ENTRY",ADD_STAFF_ENTRY:"ADD_STAFF_ENTRY",UPDATE_STAFF_ENTRY:"UPDATE_STAFF_ENTRY",DELETE_STAFF_ENTRY:"DELETE_STAFF_ENTRY",SET_IS_AUTHENTICATED:"SET_IS_AUTHENTICATED",SET_USER:"SET_USER",SET_USERS_DATA:"SET_USERS_DATA",SET_MESSAGES_DATA:"SET_MESSAGES_DATA",SET_MESSAGE_GROUPS:"SET_MESSAGE_GROUPS",ADD_MESSAGE:"ADD_MESSAGE",SET_CURRENT_USER:"SET_CURRENT_USER",SET_SELECTED_GROUP:"SET_SELECTED_GROUP",SET_TASKS_DATA:"SET_TASKS_DATA",ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",SET_TASK_COMMENTS:"SET_TASK_COMMENTS",ADD_TASK_COMMENT:"ADD_TASK_COMMENT",SET_SELECTED_TASK:"SET_SELECTED_TASK",SET_RAW_SALES_DATA:"SET_RAW_SALES_DATA"};function wB(t,e){switch(e.type){case le.SET_CURRENT_SHEET:return{...t,currentSheet:e.payload};case le.SET_LOADING:return{...t,loading:e.payload};case le.SET_ERROR:return{...t,error:e.payload,loading:!1};case le.SET_SALES_DATA:return{...t,salesData:e.payload,loading:!1,error:null};case le.SET_VENUES_DATA:return{...t,venuesData:e.payload,loading:!1,error:null};case le.SET_STAFF_DATA:return{...t,staffData:e.payload,loading:!1,error:null};case le.ADD_SALES_ENTRY:return{...t,salesData:[...t.salesData,e.payload]};case le.UPDATE_SALES_ENTRY:return{...t,salesData:t.salesData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_SALES_ENTRY:return{...t,salesData:t.salesData.filter(r=>r.id!==e.payload)};case le.ADD_VENUE_ENTRY:return{...t,venuesData:[...t.venuesData,e.payload]};case le.UPDATE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.filter(r=>r.id!==e.payload)};case le.ADD_STAFF_ENTRY:return{...t,staffData:[...t.staffData,e.payload]};case le.UPDATE_STAFF_ENTRY:return{...t,staffData:t.staffData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_STAFF_ENTRY:return{...t,staffData:t.staffData.filter(r=>r.id!==e.payload)};case le.SET_CURRENT_MONTH:return{...t,currentMonth:e.payload};case le.SET_SELECTED_VENUE:return{...t,selectedVenue:e.payload};case le.SET_IS_AUTHENTICATED:return{...t,isAuthenticated:e.payload};case le.SET_USER:return{...t,user:e.payload,isAuthenticated:!!e.payload};case le.SET_USERS_DATA:return{...t,usersData:e.payload};case le.SET_MESSAGES_DATA:return{...t,messagesData:e.payload};case le.SET_MESSAGE_GROUPS:return{...t,messageGroups:e.payload};case le.ADD_MESSAGE:return{...t,messagesData:[...t.messagesData,e.payload]};case le.SET_CURRENT_USER:return{...t,currentUser:e.payload};case le.SET_SELECTED_GROUP:return{...t,selectedGroup:e.payload};case le.SET_TASKS_DATA:return{...t,tasksData:e.payload};case le.ADD_TASK:return{...t,tasksData:[e.payload,...t.tasksData]};case le.UPDATE_TASK:return{...t,tasksData:t.tasksData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_TASK:return{...t,tasksData:t.tasksData.filter(r=>r.id!==e.payload)};case le.SET_TASK_COMMENTS:return{...t,taskComments:e.payload};case le.ADD_TASK_COMMENT:return{...t,taskComments:[e.payload,...t.taskComments]};case le.SET_SELECTED_TASK:return{...t,selectedTask:e.payload};case le.SET_RAW_SALES_DATA:return{...t,rawSalesData:e.payload};default:return t}}const MO=C.createContext();function SB({children:t}){const[e,r]=C.useReducer(wB,bB),n=async()=>{try{const[T,N]=await Promise.all([de.getUsers(),de.getMessageGroups()]);T.success&&r({type:le.SET_USERS_DATA,payload:T.data}),N.success&&r({type:le.SET_MESSAGE_GROUPS,payload:N.data})}catch(T){console.error("Failed to load staff and groups data:",T)}};C.useEffect(()=>{setTimeout(()=>{i()},100)},[]),C.useEffect(()=>{a()},[e.currentSheet]);const i=async()=>{r({type:le.SET_LOADING,payload:!0});try{if(await de.init()){const N=await P();console.log("Auth check result:",N);const R=new Promise((L,Y)=>setTimeout(()=>Y(new Error("Data loading timeout")),1e4));try{await Promise.race([Promise.all([a(),l(),u()]),R]),n(),U()}catch(L){console.warn("Data loading timed out, continuing with app:",L)}}}catch(T){console.error("Failed to initialize app:",T),r({type:le.SET_ERROR,payload:T.message})}finally{r({type:le.SET_LOADING,payload:!1})}},a=async()=>{try{const T="trailer_history";console.log(`Loading sales data from table: ${T}`);const N=await de.readTable(T);if(N.success){const R=N.data.map(Y=>fc(Y,e.currentSheet)),L=mB(R);r({type:le.SET_SALES_DATA,payload:L}),r({type:le.SET_RAW_SALES_DATA,payload:R})}else r({type:le.SET_ERROR,payload:N.error})}catch(T){r({type:le.SET_ERROR,payload:T.message})}},s=async()=>{try{const T="trailer_history";console.log(`Loading raw sales data from table: ${T}`);const N=await de.readTable(T);if(N.success){const R=N.data.map(L=>fc(L,e.currentSheet));r({type:le.SET_RAW_SALES_DATA,payload:R})}else r({type:le.SET_ERROR,payload:N.error})}catch(T){r({type:le.SET_ERROR,payload:T.message})}},o=async()=>{try{console.log("Starting cleanup of zero sales entries...");const{createClient:T}=await ra(()=>Promise.resolve().then(()=>Sg),void 0),N=T("https://kvsbrrmzedadyffqtcdq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw"),R="trailer_history";console.log(`Using table: ${R} for cleanup`);const{data:L,error:Y}=await N.from(R).select("id, net_sales, gross_sales, date").limit(10);if(Y)return console.error("Error checking table data:",Y),{success:!1,error:`Table check error: ${Y.message}`};console.log("Sample data from table:",L);const{data:ee,error:ae}=await N.from(R).select("id, net_sales, gross_sales, date").or("net_sales.eq.0,gross_sales.eq.0,net_sales.lt.0,gross_sales.lt.0");if(ae)return console.error("Error querying zero sales entries:",ae),{success:!1,error:`Query error: ${ae.message}`};if(console.log(`Found ${(ee==null?void 0:ee.length)||0} zero sales entries to clean up`),console.log("Zero sales entries:",ee),ee&&ee.length>0){const ue=ee.map(async ce=>{console.log(`Deleting entry ID ${ce.id}: net_sales=${ce.net_sales}, gross_sales=${ce.gross_sales}`);const{error:he}=await N.from(R).delete().eq("id",ce.id);return he?(console.error(`Error deleting entry ${ce.id}:`,he),{success:!1,error:he.message}):{success:!0,id:ce.id}}),me=await Promise.all(ue),Ae=me.filter(ce=>ce.success).length,K=me.filter(ce=>!ce.success).length;return console.log(`Cleanup completed: ${Ae} deleted, ${K} failed`),await s(),K>0?{success:!1,error:`${Ae} entries cleaned up, but ${K} failed to delete`}:{success:!0,message:`${Ae} zero sales entries cleaned up successfully`}}else return{success:!0,message:"No zero sales entries found to clean up"}}catch(T){return console.error("Cleanup error:",T),{success:!1,error:T.message}}},l=async()=>{try{const T=await de.readTable("venues");if(T.success){const N=T.data.map(R=>Ed(R));r({type:le.SET_VENUES_DATA,payload:N})}else r({type:le.SET_ERROR,payload:T.error})}catch(T){r({type:le.SET_ERROR,payload:T.message})}},u=async()=>{try{const T=await de.readTable("staff");if(T.success){const N=T.data.map(R=>s1(R));r({type:le.SET_STAFF_DATA,payload:N})}else{const N=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:le.SET_STAFF_DATA,payload:N})}}catch{const N=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:le.SET_STAFF_DATA,payload:N})}},d=T=>{r({type:le.SET_CURRENT_SHEET,payload:T})},f=async T=>{try{const N="trailer_history",R=fc(T,e.currentSheet),L=await de.addRow(N,R);if(L.success){const Y=fc(L.data,e.currentSheet);return r({type:le.ADD_SALES_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:L.error}}catch(N){return{success:!1,error:N.message}}},h=async(T,N)=>{try{const R=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",L=await de.updateRow(R,T,N);if(L.success){const Y={...N,id:T};return r({type:le.UPDATE_SALES_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:L.error}}catch(R){return{success:!1,error:R.message}}},p=async T=>{try{const N=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",R=await de.deleteRow(N,T);return R.success?(r({type:le.DELETE_SALES_ENTRY,payload:T}),{success:!0}):{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},m=async T=>{try{const N=Ed(T),R=await de.addRow("venues",N);if(R.success){const L=Ed(R.data);return r({type:le.ADD_VENUE_ENTRY,payload:L}),{success:!0}}else return{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},g=async(T,N)=>{try{const R=Ed(N),L=await de.updateRow("venues",T,R);if(L.success){const Y={...N,id:T};return r({type:le.UPDATE_VENUE_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:L.error}}catch(R){return{success:!1,error:R.message}}},v=async T=>{try{const N=await de.deleteRow("venues",T);return N.success?(r({type:le.DELETE_VENUE_ENTRY,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},x=async T=>{try{const N=o1(T,!0),R=await de.addRow("staff",N);if(R.success){const L=s1(R.data);return r({type:le.ADD_STAFF_ENTRY,payload:L}),{success:!0}}else return{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},y=async(T,N)=>{try{const R=o1(N,!1),L=await de.updateRow("staff",T,R);if(L.success){const Y={...N,id:T};return r({type:le.UPDATE_STAFF_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:L.error}}catch(R){return{success:!1,error:R.message}}},b=async T=>{try{const N=await de.deleteRow("staff",T);return N.success?(r({type:le.DELETE_STAFF_ENTRY,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},S=T=>{r({type:le.SET_CURRENT_MONTH,payload:T})},w=T=>{r({type:le.SET_SELECTED_VENUE,payload:T})},_=()=>{r({type:le.SET_ERROR,payload:null})},j=T=>{r({type:le.SET_IS_AUTHENTICATED,payload:T})},E=T=>{r({type:le.SET_USER,payload:T})},A=async(T,N)=>{try{const R=await de.signIn(T,N);if(R.success){const L=R.data;if(!L.staffMember)try{const{createClient:Y}=await ra(()=>Promise.resolve().then(()=>Sg),void 0),ee=Y("https://kvsbrrmzedadyffqtcdq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw"),{data:ae}=await ee.from("staff").select("*").eq("email",T).single();ae&&(await ee.from("users").update({staff_id:ae.id}).eq("email",T),L.staffMember=ae,L.name=ae.name||L.name,L.staff_id=ae.id)}catch{console.log("No staff member found for email:",T)}return r({type:le.SET_USER,payload:L}),{success:!0,data:L}}else return{success:!1,error:R.error}}catch(R){return console.error("Sign in error:",R),{success:!1,error:R.message}}},k=async(T,N,R)=>{try{const L=await de.signUp(T,N,R);return L.success?{success:!0}:{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},D=async()=>{try{const T=await de.signOut();return T.success?(E(null),{success:!0}):{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},P=async()=>{try{const T=await de.getCurrentUser();if(T.success){const N=T.data;if(!N.staffMember)try{const{createClient:R}=await ra(()=>Promise.resolve().then(()=>Sg),void 0),L=R("https://kvsbrrmzedadyffqtcdq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw"),{data:Y}=await L.from("staff").select("*").eq("email",N.email).single();Y&&(await L.from("users").update({staff_id:Y.id}).eq("email",N.email),N.staffMember=Y,N.name=Y.name||N.name,N.staff_id=Y.id,r({type:le.SET_CURRENT_USER,payload:Y}),console.log("Auto-set current user to staff member:",Y.name))}catch{console.log("No staff member found for email:",N.email)}return E(N),!0}else return E(null),!1}catch{return E(null),!1}},O=async T=>{try{const N=await de.resendConfirmationEmail(T);return N.success?{success:!0}:{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},z=async T=>{try{if(T){const N=await de.init();return r({type:le.SET_IS_AUTHENTICATED,payload:N}),N}else return r({type:le.SET_IS_AUTHENTICATED,payload:!1}),!0}catch(N){return console.error("Supabase connection toggle error:",N),r({type:le.SET_IS_AUTHENTICATED,payload:!1}),!1}},W=()=>e.staffData.filter(T=>T.status==="Active"),G=async T=>{try{const N=await de.getMessages(T);if(N.success){const R=N.data.map(L=>{const Y=e.usersData.find(ee=>ee.id===L.sender_id);return{...L,sender:Y?{id:Y.id,name:Y.name,email:Y.email}:{id:L.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"}}});r({type:le.SET_MESSAGES_DATA,payload:R})}}catch(N){console.error("Failed to load messages:",N)}},M=async T=>{var N,R;try{const L=await de.sendMessage(T);if(L.success){const Y={...L.data,sender:{id:T.sender_id,name:((N=e.currentUser)==null?void 0:N.name)||"Unknown User",email:((R=e.currentUser)==null?void 0:R.email)||"unknown@scrubshop.com"}};return r({type:le.ADD_MESSAGE,payload:Y}),{success:!0}}else return{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},$=T=>{r({type:le.SET_CURRENT_USER,payload:T})},B=T=>{r({type:le.SET_SELECTED_GROUP,payload:T})},U=async()=>{try{const T=await de.getTasks();T.success&&r({type:le.SET_TASKS_DATA,payload:T.data})}catch(T){console.error("Failed to load tasks:",T)}},H=async T=>{try{const N=await de.createTask(T);return N.success?(r({type:le.ADD_TASK,payload:N.data}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},V=async(T,N)=>{try{const R=await de.updateTask(T,N);return R.success?(r({type:le.UPDATE_TASK,payload:{id:T,...N}}),{success:!0}):{success:!1,error:R.error}}catch(R){return{success:!1,error:R.message}}},q=async T=>{try{const N=await de.deleteTask(T);return N.success?(r({type:le.DELETE_TASK,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},re=async T=>{try{const N=await de.getTaskComments(T);N.success&&r({type:le.SET_TASK_COMMENTS,payload:N.data})}catch(N){console.error("Failed to load task comments:",N)}},se=async T=>{try{const N=await de.addTaskComment(T);return N.success?(r({type:le.ADD_TASK_COMMENT,payload:N.data}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},fe=T=>{r({type:le.SET_SELECTED_TASK,payload:T})},_e=I.useCallback(async T=>{try{let N=T.isWorkDay?"WORK DAY":T.venue||"";if(T.isWorkDay&&T.workers&&T.workers.length>0){const Y=T.workers.join(","),ee=T.hours||"0";N=`WORK DAY|${Y}|${ee}`}const R={date:T.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:N,Store:T.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},L=await de.addRow("trailer_history",R);return L.success?{success:!0,data:{id:L.data.id,title:T.title,date:T.date,backgroundColor:T.isWorkDay?"#fefce8":"#dcfce7",borderColor:T.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:T.isWorkDay?"workday":"sale",workers:T.workers,worker:T.workers.join(", "),hours:T.hours,venueId:T.venueId,venue:e.venuesData.find(ee=>ee.id===T.venueId)}}}:{success:!1,error:L.error}}catch(N){return{success:!1,error:N.message}}},[e.currentSheet,e.venuesData]),pe=I.useCallback(async(T,N)=>{try{let R=N.isWorkDay?"WORK DAY":N.venue||"";if(N.isWorkDay&&N.workers&&N.workers.length>0){const ee=N.workers.join(","),ae=N.hours||"0";R=`WORK DAY|${ee}|${ae}`}const L={date:N.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:R,Store:N.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},Y=await de.updateRow("trailer_history",T,L);return Y.success?{success:!0,data:{id:T,title:N.title,date:N.date,backgroundColor:N.isWorkDay?"#fefce8":"#dcfce7",borderColor:N.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:N.isWorkDay?"workday":"sale",workers:N.workers,worker:N.workers.join(", "),hours:N.hours,venueId:N.venueId,venue:e.venuesData.find(ae=>ae.id===N.venueId)}}}:{success:!1,error:Y.error}}catch(R){return{success:!1,error:R.message}}},[e.currentSheet,e.venuesData]),X=I.useCallback(async T=>{try{const N=await de.deleteRow("trailer_history",T);return N.success?{success:!0}:{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},[]),oe=I.useCallback(async()=>{try{const T=await de.readTable("trailer_history",{filters:{Store:99}});return T.success?{success:!0,data:T.data.map(R=>{let L=[],Y="";if(R.common_venue_name.startsWith("WORK DAY|")){const ee=R.common_venue_name.split("|");ee.length>=3&&(L=ee[1].split(",").filter(ae=>ae.trim()!==""),Y=ee[2]||"")}return{id:R.id,title:"Work Day",date:R.date,backgroundColor:"#fefce8",borderColor:"#fde047",extendedProps:{type:"workday",workers:L,worker:L.join(", "),hours:Y,venueId:null,venue:null}}})}:{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},[]),ne={...e,workers:W(),supabaseAPI:de,setCurrentSheet:d,addSalesEntry:f,updateSalesEntry:h,deleteSalesEntry:p,addVenueEntry:m,updateVenueEntry:g,deleteVenueEntry:v,addStaffEntry:x,updateStaffEntry:y,deleteStaffEntry:b,setCurrentMonth:S,setSelectedVenue:w,clearError:_,loadSalesData:a,loadVenuesData:l,loadStaffData:u,setIsAuthenticated:j,setUser:E,signIn:A,signUp:k,signOut:D,checkAuth:P,resendConfirmationEmail:O,toggleSupabaseConnection:z,loadStaffAndGroups:n,loadMessages:G,sendMessage:M,setCurrentUser:$,setSelectedGroup:B,loadTasks:U,addTask:H,updateTask:V,deleteTask:q,loadTaskComments:re,addTaskComment:se,setSelectedTask:fe,addCalendarEvent:_e,updateCalendarEvent:pe,deleteCalendarEvent:X,loadCalendarEvents:oe,loadRawSalesData:s,cleanupZeroSalesEntries:o};return c.jsx(MO.Provider,{value:ne,children:t})}function Ct(){const t=C.useContext(MO);if(!t)throw new Error("useApp must be used within an AppProvider");return t}function _B({onSuccess:t,onSwitchToRegister:e}){const[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(!1),[l,u]=C.useState(""),{signIn:d}=Ct(),f=async h=>{h.preventDefault(),o(!0),u("");try{const p=await d(r,i);p.success?t&&t():u(p.error||"Login failed")}catch(p){u("An unexpected error occurred"),console.error("Login error:",p)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Scrub Shop"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your sales dashboard and management tools"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:h=>n(h.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:i,onChange:h=>a(h.target.value)})]})]}),l&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:l})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Don't have an account? Sign up"})})]})]})})}function EB({email:t,onConfirmed:e}){const[r,n]=C.useState(!1),[i,a]=C.useState(""),[s,o]=C.useState(""),{resendConfirmationEmail:l}=Ct(),u=async()=>{n(!0),a(""),o("");try{const d=await l(t);d.success?o("Confirmation email sent! Please check your inbox."):a(d.error||"Failed to resend confirmation email")}catch(d){a("An unexpected error occurred"),console.error("Resend error:",d)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Email"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["We sent a confirmation email to ",t]})]}),c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please check your email and click the confirmation link to verify your account."}),s&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:s})}),i&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:i})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:u,disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending...":"Resend Confirmation Email"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"I've Confirmed My Email"})]}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try resending."})})]})})]})})}function jB({onSuccess:t,onSwitchToLogin:e}){const[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(""),[l,u]=C.useState(""),[d,f]=C.useState(!1),[h,p]=C.useState(""),[m,g]=C.useState(""),[v,x]=C.useState(!1),{signUp:y}=Ct(),b=async S=>{if(S.preventDefault(),f(!0),p(""),g(""),i!==s){p("Passwords do not match"),f(!1);return}if(i.length<6){p("Password must be at least 6 characters long"),f(!1);return}try{const w=await y(r,i,l);w.success?x(!0):p(w.error||"Registration failed")}catch(w){p("An unexpected error occurred"),console.error("Registration error:",w)}finally{f(!1)}};return v?c.jsx(EB,{email:r,onConfirmed:t}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Scrub Shop management team"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:l,onChange:S=>u(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:S=>n(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password (min 6 characters)",value:i,onChange:S=>a(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:S=>o(S.target.value)})]})]}),h&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:h})}),m&&c.jsx("div",{className:"rounded-md bg-green-50 p-4",children:c.jsx("div",{className:"text-sm text-green-700",children:m})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating account...":"Create account"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Already have an account? Sign in"})})]})]})})}function AB({children:t}){const{user:e,loading:r}=Ct(),[n,i]=I.useState(!1);return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):e?t:n?c.jsx(jB,{onSuccess:()=>i(!1),onSwitchToLogin:()=>i(!1)}):c.jsx(_B,{onSuccess:()=>{},onSwitchToRegister:()=>i(!0)})}var TB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CB=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>C.createElement("svg",{ref:u,...TB,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${NB(t)}`,...l},[...e.map(([d,f])=>C.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Oe=CB;const Py=Oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),kB=Oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ff=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),My=Oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Mb=Oe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Dr=Oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),l1=Oe("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),Ry=Oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),OB=Oe("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),jc=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Rb=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ib=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ya=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Qn=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),RO=Oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Iy=Oe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),DB=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Cn=Oe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),PB=Oe("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),MB=Oe("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),RB=Oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),IB=Oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),$B=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),wn=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),LB=Oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Ss=Oe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),FB=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),xa=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),BB=Oe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),$b=Oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),UB=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),HB=Oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Xf=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),IO=Oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ba=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Gp=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),$y=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),cs=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mn=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),zB=Oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),tu=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$O=Oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function LO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=LO(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function WB(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=LO(t))&&(n&&(n+=" "),n+=e);return n}function VB(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=FO(e))&&(n&&(n+=" "),n+=r);return n}function FO(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=FO(t[n]))&&(r&&(r+=" "),r+=e);return r}var Lb="-";function GB(t){var e=YB(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(o){var l=o.split(Lb);return l[0]===""&&l.length!==1&&l.shift(),BO(l,e)||qB(o)}function s(o,l){var u=r[o]||[];return l&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:a,getConflictingClassGroupIds:s}}function BO(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?BO(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(Lb);return(s=e.validators.find(function(o){var l=o.validator;return l(a)}))==null?void 0:s.classGroupId}}var c1=/^\[(.+)\]$/;function qB(t){if(c1.test(t)){var e=c1.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function YB(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=QB(Object.entries(t.classGroups),r);return i.forEach(function(a){var s=a[0],o=a[1];Ly(o,n,s,e)}),n}function Ly(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:u1(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(KB(i)){Ly(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(s){var o=s[0],l=s[1];Ly(l,u1(e,o),r,n)})})}function u1(t,e){var r=t;return e.split(Lb).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function KB(t){return t.isThemeGetter}function QB(t,e){return e?t.map(function(r){var n=r[0],i=r[1],a=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[e+l,u]})):s});return[n,a]}):t}function XB(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(a,s){r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):i(s,o)}}}var UO="!";function ZB(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(s){for(var o=[],l=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===n&&(r||s.slice(f,f+i)===e)){o.push(s.slice(u,f)),u=f+i;continue}if(h==="/"){d=f;continue}}h==="["?l++:h==="]"&&l--}var p=o.length===0?s:s.substring(u),m=p.startsWith(UO),g=m?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}}}function JB(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function eU(t){return{cache:XB(t.cacheSize),splitModifiers:ZB(t),...GB(t)}}var tU=/\s+/;function rU(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(tU).map(function(s){var o=r(s),l=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};p=!1}var m=JB(l).join(":"),g=u?m+UO:m;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,d=o+l;return a.has(d)?!1:(a.add(d),i(l,u).forEach(function(f){return a.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function nU(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,a,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(p,m){return m(p)},d());return n=eU(h),i=n.cache.get,a=n.cache.set,s=l,l(u)}function l(u){var d=i(u);if(d)return d;var f=rU(u,n);return a(u,f),f}return function(){return s(VB.apply(null,arguments))}}function ot(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var HO=/^\[(?:([a-z-]+):)?(.+)\]$/i,iU=/^\d+\/\d+$/,aU=new Set(["px","full","screen"]),sU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lU=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function an(t){return Va(t)||aU.has(t)||iU.test(t)||Fy(t)}function Fy(t){return _s(t,"length",pU)}function cU(t){return _s(t,"size",zO)}function uU(t){return _s(t,"position",zO)}function dU(t){return _s(t,"url",mU)}function jd(t){return _s(t,"number",Va)}function Va(t){return!Number.isNaN(Number(t))}function fU(t){return t.endsWith("%")&&Va(t.slice(0,-1))}function Hl(t){return d1(t)||_s(t,"number",d1)}function Me(t){return HO.test(t)}function zl(){return!0}function Ai(t){return sU.test(t)}function hU(t){return _s(t,"",gU)}function _s(t,e,r){var n=HO.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function pU(t){return oU.test(t)}function zO(){return!1}function mU(t){return t.startsWith("url(")}function d1(t){return Number.isInteger(Number(t))}function gU(t){return lU.test(t)}function vU(){var t=ot("colors"),e=ot("spacing"),r=ot("blur"),n=ot("brightness"),i=ot("borderColor"),a=ot("borderRadius"),s=ot("borderSpacing"),o=ot("borderWidth"),l=ot("contrast"),u=ot("grayscale"),d=ot("hueRotate"),f=ot("invert"),h=ot("gap"),p=ot("gradientColorStops"),m=ot("gradientColorStopPositions"),g=ot("inset"),v=ot("margin"),x=ot("opacity"),y=ot("padding"),b=ot("saturate"),S=ot("scale"),w=ot("sepia"),_=ot("skew"),j=ot("space"),E=ot("translate"),A=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Me,e]},P=function(){return[Me,e]},O=function(){return["",an]},z=function(){return["auto",Va,Me]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},M=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},$=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",Me]},U=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},H=function(){return[Va,jd]},V=function(){return[Va,Me]};return{cacheSize:500,theme:{colors:[zl],spacing:[an],blur:["none","",Ai,Me],brightness:H(),borderColor:[t],borderRadius:["none","","full",Ai,Me],borderSpacing:P(),borderWidth:O(),contrast:H(),grayscale:B(),hueRotate:V(),invert:B(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[fU,Fy],inset:D(),margin:D(),opacity:H(),padding:P(),saturate:H(),scale:H(),sepia:B(),skew:V(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Ai]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[Me])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Hl]}],"grid-cols":[{"grid-cols":[zl]}],"col-start-end":[{col:["auto",{span:["full",Hl]},Me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[zl]}],"row-start-end":[{row:["auto",{span:[Hl]},Me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat($())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat($(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat($(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Me,e]}],"min-w":[{"min-w":["min","max","fit",Me,an]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ai]},Ai,Me]}],h:[{h:[Me,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Me,an]}],"max-h":[{"max-h":[Me,e,"min","max","fit"]}],"font-size":[{text:["base",Ai,Fy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jd]}],"font-family":[{font:[zl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Va,jd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Me,an]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",an]}],"underline-offset":[{"underline-offset":["auto",Me,an]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[uU])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[Me,an]}],"outline-w":[{outline:[an]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[an]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ai,hU]}],"shadow-color":[{shadow:[zl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ai,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Hl,Me]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[an,jd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var yU=nU(vU);function ze(...t){return yU(WB(t))}function xU(){const{user:t,signOut:e}=Ct();return t?c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:t.name||t.email}),t.role&&c.jsxs("span",{className:"ml-2 text-gray-500",children:["(",t.role,")"]})]}),c.jsx("button",{onClick:e,className:"text-sm text-gray-500 hover:text-gray-700",children:"Sign out"})]}):null}const $t={MANAGER:"Manager",WORKER:"Worker"},bU={"/dashboard":[$t.MANAGER,$t.WORKER],"/tasks":[$t.MANAGER,$t.WORKER],"/messages":[$t.MANAGER,$t.WORKER],"/sales-analysis":[$t.MANAGER],"/scheduler":[$t.MANAGER,$t.WORKER],"/daily-sales":[$t.MANAGER],"/venues":[$t.MANAGER,$t.WORKER],"/calendar":[$t.MANAGER,$t.WORKER],"/bonuses":[$t.MANAGER],"/staff":[$t.MANAGER],"/admin/sales-upload":[$t.MANAGER]},wU=(t,e)=>{if(!t||!t.role)return!1;const r=bU[e];return r?r.includes(t.role):!1},Ng=(t,e)=>e?t.filter(r=>wU(e,r.href)):[],Ad=t=>t&&t.role===$t.MANAGER,SU=({size:t="medium",className:e=""})=>{const n=(()=>{switch(t){case"small":return{welcome:"text-xs",main:"text-lg",tagline:"text-xs",container:"py-1"};case"large":return{welcome:"text-lg",main:"text-3xl",tagline:"text-base",container:"py-3"};default:return{welcome:"text-sm",main:"text-2xl",tagline:"text-sm",container:"py-2"}}})();return c.jsxs("div",{className:`flex flex-col items-center justify-center ${e}`,children:[c.jsx("div",{className:`font-bold text-black mb-1 ${n.welcome}`,children:"WELCOME TO"}),c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("span",{className:`italic text-green-500 mr-1 ${n.welcome}`,children:"The"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:`italic font-bold text-white ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Scrub"}),c.jsx("span",{className:`italic font-bold text-green-500 ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Shop"})]})]}),c.jsx("div",{className:`bg-black rounded-lg px-2 ${n.container}`,children:c.jsx("span",{className:`font-bold text-white ${n.tagline}`,children:"FOOTWEAR & APPAREL"})})]})},_U=()=>{const t=fl(),{currentSheet:e,setCurrentSheet:r,currentUser:n,setCurrentUser:i,staffData:a}=Ct(),[s,o]=C.useState(!1),[l,u]=C.useState(!1),[d,f]=C.useState(!1),h=C.useRef(null),p=C.useRef(null),m=C.useRef(null);C.useEffect(()=>{const j=E=>{h.current&&!h.current.contains(E.target)&&o(!1),p.current&&!p.current.contains(E.target)&&u(!1),m.current&&!m.current.contains(E.target)&&f(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const g=j=>j==="/"?t.pathname==="/":t.pathname.startsWith(j),v=j=>{const E=a.find(A=>A.id===parseInt(j));i(E),o(!1)},x=[{name:"Dashboard",href:"/dashboard",icon:My},{name:"Tasks",href:"/tasks",icon:OB},{name:"Messages",href:"/messages",icon:LB},{name:"Scheduler",href:"/scheduler",icon:ya}],y=[{name:"Daily Sales",href:"/daily-sales",icon:My},{name:"Venues",href:"/venues",icon:wn},{name:"Calendar",href:"/calendar",icon:Dr},{name:"Bonuses",href:"/bonuses",icon:Gp}],b=[{name:"Staff",href:"/staff",icon:Mn},{name:"Sales Upload",href:"/admin/sales-upload",icon:$y}],S=Ng(x,n),w=Ng(y,n),_=Ng(b,n);return c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-secondary-200 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(SU,{size:"small",className:"text-primary-600"})}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[S.map(j=>{const E=j.icon;return c.jsxs(Ms,{to:j.href,className:ze("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g(j.href)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)}),w.length>0&&c.jsxs("div",{className:"relative",ref:p,onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=p.current)!=null&&j.matches(":hover")||u(!1)},300)},children:[c.jsxs("button",{className:ze("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/daily-sales")||g("/venues")||g("/calendar")||g("/bonuses")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(l1,{className:"w-4 h-4 mr-2"}),"ROAD",c.jsx(jc,{className:"w-4 h-4 ml-1"})]}),l&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=p.current)!=null&&j.matches(":hover")||u(!1)},200)},children:w.map(j=>{const E=j.icon;return c.jsxs(Ms,{to:j.href,className:ze("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(j.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)})})]}),_.length>0&&c.jsxs("div",{className:"relative",ref:m,onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=m.current)!=null&&j.matches(":hover")||f(!1)},300)},children:[c.jsxs("button",{className:ze("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/staff")||g("/admin/sales-upload")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(Xf,{className:"w-4 h-4 mr-2"}),"ADMIN",c.jsx(jc,{className:"w-4 h-4 ml-1"})]}),d&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=m.current)!=null&&j.matches(":hover")||f(!1)},200)},children:_.map(j=>{const E=j.icon;return c.jsxs(Ms,{to:j.href,className:ze("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(j.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(xU,{}),n&&c.jsx("div",{className:"hidden sm:flex items-center px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:c.jsx("span",{className:"font-medium",children:n.role||"No Role"})}),c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(cs,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:n?`${n.name} (${n.role||"No Role"})`:"Select User"}),c.jsx(jc,{className:"w-4 h-4"})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Select your name"}),a.map(j=>c.jsx("button",{onClick:()=>v(j.id),className:ze("w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors",(n==null?void 0:n.id)===j.id?"bg-primary-50 text-primary-700":"text-gray-700"),children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:j.name}),c.jsx("div",{className:"text-xs text-gray-500",children:j.role||"No Role"})]})},j.id))]})]})]})]}),c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-secondary-200",children:[S.map(j=>{const E=j.icon;return c.jsxs(Ms,{to:j.href,className:ze("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)}),w.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(l1,{className:"w-4 h-4 mb-1"}),"ROAD"]}),_.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(Xf,{className:"w-4 h-4 mb-1"}),"ADMIN"]})]}),w.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:w.map(j=>{const E=j.icon;return c.jsxs(Ms,{to:j.href,className:ze("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)})})}),_.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:_.map(j=>{const E=j.icon;return c.jsxs(Ms,{to:j.href,className:ze("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)})})})]})]})})};function WO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=WO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Re(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=WO(t))&&(n&&(n+=" "),n+=e);return n}var EU=Array.isArray,jr=EU,jU=typeof qt=="object"&&qt&&qt.Object===Object&&qt,VO=jU,AU=VO,TU=typeof self=="object"&&self&&self.Object===Object&&self,NU=AU||TU||Function("return this")(),Un=NU,CU=Un,kU=CU.Symbol,Yu=kU,f1=Yu,GO=Object.prototype,OU=GO.hasOwnProperty,DU=GO.toString,Wl=f1?f1.toStringTag:void 0;function PU(t){var e=OU.call(t,Wl),r=t[Wl];try{t[Wl]=void 0;var n=!0}catch{}var i=DU.call(t);return n&&(e?t[Wl]=r:delete t[Wl]),i}var MU=PU,RU=Object.prototype,IU=RU.toString;function $U(t){return IU.call(t)}var LU=$U,h1=Yu,FU=MU,BU=LU,UU="[object Null]",HU="[object Undefined]",p1=h1?h1.toStringTag:void 0;function zU(t){return t==null?t===void 0?HU:UU:p1&&p1 in Object(t)?FU(t):BU(t)}var xi=zU;function WU(t){return t!=null&&typeof t=="object"}var bi=WU,VU=xi,GU=bi,qU="[object Symbol]";function YU(t){return typeof t=="symbol"||GU(t)&&VU(t)==qU}var ml=YU,KU=jr,QU=ml,XU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZU=/^\w*$/;function JU(t,e){if(KU(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||QU(t)?!0:ZU.test(t)||!XU.test(t)||e!=null&&t in Object(e)}var Fb=JU;function e6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wa=e6;const gl=Ze(wa);var t6=xi,r6=wa,n6="[object AsyncFunction]",i6="[object Function]",a6="[object GeneratorFunction]",s6="[object Proxy]";function o6(t){if(!r6(t))return!1;var e=t6(t);return e==i6||e==a6||e==n6||e==s6}var Bb=o6;const Ce=Ze(Bb);var l6=Un,c6=l6["__core-js_shared__"],u6=c6,Cg=u6,m1=function(){var t=/[^.]+$/.exec(Cg&&Cg.keys&&Cg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function d6(t){return!!m1&&m1 in t}var f6=d6,h6=Function.prototype,p6=h6.toString;function m6(t){if(t!=null){try{return p6.call(t)}catch{}try{return t+""}catch{}}return""}var qO=m6,g6=Bb,v6=f6,y6=wa,x6=qO,b6=/[\\^$.*+?()[\]{}|]/g,w6=/^\[object .+?Constructor\]$/,S6=Function.prototype,_6=Object.prototype,E6=S6.toString,j6=_6.hasOwnProperty,A6=RegExp("^"+E6.call(j6).replace(b6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T6(t){if(!y6(t)||v6(t))return!1;var e=g6(t)?A6:w6;return e.test(x6(t))}var N6=T6;function C6(t,e){return t==null?void 0:t[e]}var k6=C6,O6=N6,D6=k6;function P6(t,e){var r=D6(t,e);return O6(r)?r:void 0}var Es=P6,M6=Es,R6=M6(Object,"create"),qp=R6,g1=qp;function I6(){this.__data__=g1?g1(null):{},this.size=0}var $6=I6;function L6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var F6=L6,B6=qp,U6="__lodash_hash_undefined__",H6=Object.prototype,z6=H6.hasOwnProperty;function W6(t){var e=this.__data__;if(B6){var r=e[t];return r===U6?void 0:r}return z6.call(e,t)?e[t]:void 0}var V6=W6,G6=qp,q6=Object.prototype,Y6=q6.hasOwnProperty;function K6(t){var e=this.__data__;return G6?e[t]!==void 0:Y6.call(e,t)}var Q6=K6,X6=qp,Z6="__lodash_hash_undefined__";function J6(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=X6&&e===void 0?Z6:e,this}var eH=J6,tH=$6,rH=F6,nH=V6,iH=Q6,aH=eH;function vl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vl.prototype.clear=tH;vl.prototype.delete=rH;vl.prototype.get=nH;vl.prototype.has=iH;vl.prototype.set=aH;var sH=vl;function oH(){this.__data__=[],this.size=0}var lH=oH;function cH(t,e){return t===e||t!==t&&e!==e}var Ub=cH,uH=Ub;function dH(t,e){for(var r=t.length;r--;)if(uH(t[r][0],e))return r;return-1}var Yp=dH,fH=Yp,hH=Array.prototype,pH=hH.splice;function mH(t){var e=this.__data__,r=fH(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():pH.call(e,r,1),--this.size,!0}var gH=mH,vH=Yp;function yH(t){var e=this.__data__,r=vH(e,t);return r<0?void 0:e[r][1]}var xH=yH,bH=Yp;function wH(t){return bH(this.__data__,t)>-1}var SH=wH,_H=Yp;function EH(t,e){var r=this.__data__,n=_H(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var jH=EH,AH=lH,TH=gH,NH=xH,CH=SH,kH=jH;function yl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yl.prototype.clear=AH;yl.prototype.delete=TH;yl.prototype.get=NH;yl.prototype.has=CH;yl.prototype.set=kH;var Kp=yl,OH=Es,DH=Un,PH=OH(DH,"Map"),Hb=PH,v1=sH,MH=Kp,RH=Hb;function IH(){this.size=0,this.__data__={hash:new v1,map:new(RH||MH),string:new v1}}var $H=IH;function LH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var FH=LH,BH=FH;function UH(t,e){var r=t.__data__;return BH(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Qp=UH,HH=Qp;function zH(t){var e=HH(this,t).delete(t);return this.size-=e?1:0,e}var WH=zH,VH=Qp;function GH(t){return VH(this,t).get(t)}var qH=GH,YH=Qp;function KH(t){return YH(this,t).has(t)}var QH=KH,XH=Qp;function ZH(t,e){var r=XH(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var JH=ZH,ez=$H,tz=WH,rz=qH,nz=QH,iz=JH;function xl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}xl.prototype.clear=ez;xl.prototype.delete=tz;xl.prototype.get=rz;xl.prototype.has=nz;xl.prototype.set=iz;var zb=xl,YO=zb,az="Expected a function";function Wb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(az);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Wb.Cache||YO),r}Wb.Cache=YO;var KO=Wb;const sz=Ze(KO);var oz=KO,lz=500;function cz(t){var e=oz(t,function(n){return r.size===lz&&r.clear(),n}),r=e.cache;return e}var uz=cz,dz=uz,fz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hz=/\\(\\)?/g,pz=dz(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fz,function(r,n,i,a){e.push(i?a.replace(hz,"$1"):n||r)}),e}),mz=pz;function gz(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Vb=gz,y1=Yu,vz=Vb,yz=jr,xz=ml,bz=1/0,x1=y1?y1.prototype:void 0,b1=x1?x1.toString:void 0;function QO(t){if(typeof t=="string")return t;if(yz(t))return vz(t,QO)+"";if(xz(t))return b1?b1.call(t):"";var e=t+"";return e=="0"&&1/t==-bz?"-0":e}var wz=QO,Sz=wz;function _z(t){return t==null?"":Sz(t)}var XO=_z,Ez=jr,jz=Fb,Az=mz,Tz=XO;function Nz(t,e){return Ez(t)?t:jz(t,e)?[t]:Az(Tz(t))}var ZO=Nz,Cz=ml,kz=1/0;function Oz(t){if(typeof t=="string"||Cz(t))return t;var e=t+"";return e=="0"&&1/t==-kz?"-0":e}var Xp=Oz,Dz=ZO,Pz=Xp;function Mz(t,e){e=Dz(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Pz(e[r++])];return r&&r==n?t:void 0}var Gb=Mz,Rz=Gb;function Iz(t,e,r){var n=t==null?void 0:Rz(t,e);return n===void 0?r:n}var JO=Iz;const Xr=Ze(JO);function $z(t){return t==null}var Lz=$z;const je=Ze(Lz);var Fz=xi,Bz=jr,Uz=bi,Hz="[object String]";function zz(t){return typeof t=="string"||!Bz(t)&&Uz(t)&&Fz(t)==Hz}var Wz=zz;const us=Ze(Wz);var eD={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb=Symbol.for("react.element"),Yb=Symbol.for("react.portal"),Zp=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),rm=Symbol.for("react.context"),Vz=Symbol.for("react.server_context"),nm=Symbol.for("react.forward_ref"),im=Symbol.for("react.suspense"),am=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),om=Symbol.for("react.lazy"),Gz=Symbol.for("react.offscreen"),tD;tD=Symbol.for("react.module.reference");function tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qb:switch(t=t.type,t){case Zp:case em:case Jp:case im:case am:return t;default:switch(t=t&&t.$$typeof,t){case Vz:case rm:case nm:case om:case sm:case tm:return t;default:return e}}case Yb:return e}}}qe.ContextConsumer=rm;qe.ContextProvider=tm;qe.Element=qb;qe.ForwardRef=nm;qe.Fragment=Zp;qe.Lazy=om;qe.Memo=sm;qe.Portal=Yb;qe.Profiler=em;qe.StrictMode=Jp;qe.Suspense=im;qe.SuspenseList=am;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(t){return tn(t)===rm};qe.isContextProvider=function(t){return tn(t)===tm};qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qb};qe.isForwardRef=function(t){return tn(t)===nm};qe.isFragment=function(t){return tn(t)===Zp};qe.isLazy=function(t){return tn(t)===om};qe.isMemo=function(t){return tn(t)===sm};qe.isPortal=function(t){return tn(t)===Yb};qe.isProfiler=function(t){return tn(t)===em};qe.isStrictMode=function(t){return tn(t)===Jp};qe.isSuspense=function(t){return tn(t)===im};qe.isSuspenseList=function(t){return tn(t)===am};qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zp||t===em||t===Jp||t===im||t===am||t===Gz||typeof t=="object"&&t!==null&&(t.$$typeof===om||t.$$typeof===sm||t.$$typeof===tm||t.$$typeof===rm||t.$$typeof===nm||t.$$typeof===tD||t.getModuleId!==void 0)};qe.typeOf=tn;eD.exports=qe;var qz=eD.exports,Yz=xi,Kz=bi,Qz="[object Number]";function Xz(t){return typeof t=="number"||Kz(t)&&Yz(t)==Qz}var rD=Xz;const Zz=Ze(rD);var Jz=rD;function e5(t){return Jz(t)&&t!=+t}var t5=e5;const bl=Ze(t5);var mn=function(e){return e===0?0:e>0?1:-1},Ga=function(e){return us(e)&&e.indexOf("%")===e.length-1},ie=function(e){return Zz(e)&&!bl(e)},r5=function(e){return je(e)},Mt=function(e){return ie(e)||us(e)},n5=0,js=function(e){var r=++n5;return"".concat(e||"").concat(r)},ds=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!us(e))return n;var a;if(Ga(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return bl(a)&&(a=n),i&&a>r&&(a=r),a},$i=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},i5=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},_t=function(e,r){return ie(e)&&ie(r)?function(n){return e+n*(r-e)}:function(){return r}};function Zf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Xr(n,e))===r})}var a5=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,a=0,s=0,o=1/0,l=-1/0,u=0,d=0,f=0;f<r;f++)u=e[f].cx||0,d=e[f].cy||0,n+=u,i+=d,a+=u*d,s+=u*u,o=Math.min(o,u),l=Math.max(l,u);var h=r*s!==n*n?(r*a-n*i)/(r*s-n*n):0;return{xmin:o,xmax:l,a:h,b:(i-h*n)/r}},s5=function(e,r){return ie(e)&&ie(r)?e-r:us(e)&&us(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function go(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}var o5=["viewBox","children"],l5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],w1=["points","pathLength"],kg={svg:o5,polygon:w1,polyline:w1},Kb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),!gl(n))return null;var i={};return Object.keys(n).forEach(function(a){Kb.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},c5=function(e,r,n){return function(i){return e(r,n,i),null}},ru=function(e,r,n){if(!gl(e)||By(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];Kb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=c5(s,r,n))}),i},u5=["children"],d5=["children"];function S1(t,e){if(t==null)return{};var r=f5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}var _1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ii=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},E1=null,Og=null,Qb=function t(e){if(e===E1&&Array.isArray(Og))return Og;var r=[];return C.Children.forEach(e,function(n){je(n)||(qz.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Og=r,E1=e,r};function Er(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ii(i)}):n=[ii(e)],Qb(t).forEach(function(i){var a=Xr(i,"type.displayName")||Xr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Cr(t,e){var r=Er(t,e);return r&&r[0]}var j1=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ie(n)||n<=0||!ie(i)||i<=0)},h5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],p5=function(e){return e&&e.type&&us(e.type)&&h5.indexOf(e.type)>=0},nD=function(e){return e&&Uy(e)==="object"&&"clipDot"in e},m5=function(e,r,n,i){var a,s=(a=kg==null?void 0:kg[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ce(e)&&(i&&s.includes(r)||l5.includes(r))||n&&Kb.includes(r)},Ne=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!gl(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;m5((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Hy=function t(e,r){if(e===r)return!0;var n=C.Children.count(e);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return A1(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!A1(a,s))return!1}return!0},A1=function(e,r){if(je(e)&&je(r))return!0;if(!je(e)&&!je(r)){var n=e.props||{},i=n.children,a=S1(n,u5),s=r.props||{},o=s.children,l=S1(s,d5);return i&&o?go(a,l)&&Hy(i,o):!i&&!o?go(a,l):!1}return!1},T1=function(e,r){var n=[],i={};return Qb(e).forEach(function(a,s){if(p5(a))n.push(a);else if(a){var o=ii(a.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},g5=function(e){var r=e&&e.type;return r&&_1[r]?_1[r]:null},v5=function(e,r){return Qb(r).indexOf(e)},y5=["children","width","height","viewBox","className","style","title","desc"];function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zy.apply(this,arguments)}function x5(t,e){if(t==null)return{};var r=b5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=x5(t,y5),d=i||{width:r,height:n,x:0,y:0},f=Re("recharts-surface",a);return I.createElement("svg",zy({},Ne(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),I.createElement("title",null,o),I.createElement("desc",null,l),e)}var w5=["children","className"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vy.apply(this,arguments)}function S5(t,e){if(t==null)return{};var r=_5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Fe=I.forwardRef(function(t,e){var r=t.children,n=t.className,i=S5(t,w5),a=Re("recharts-layer",n);return I.createElement("g",Vy({className:a},Ne(i,!0),{ref:e}),r)}),ai=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function E5(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var j5=E5,A5=j5;function T5(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:A5(t,e,r)}var N5=T5,C5="\\ud800-\\udfff",k5="\\u0300-\\u036f",O5="\\ufe20-\\ufe2f",D5="\\u20d0-\\u20ff",P5=k5+O5+D5,M5="\\ufe0e\\ufe0f",R5="\\u200d",I5=RegExp("["+R5+C5+P5+M5+"]");function $5(t){return I5.test(t)}var iD=$5;function L5(t){return t.split("")}var F5=L5,aD="\\ud800-\\udfff",B5="\\u0300-\\u036f",U5="\\ufe20-\\ufe2f",H5="\\u20d0-\\u20ff",z5=B5+U5+H5,W5="\\ufe0e\\ufe0f",V5="["+aD+"]",Gy="["+z5+"]",qy="\\ud83c[\\udffb-\\udfff]",G5="(?:"+Gy+"|"+qy+")",sD="[^"+aD+"]",oD="(?:\\ud83c[\\udde6-\\uddff]){2}",lD="[\\ud800-\\udbff][\\udc00-\\udfff]",q5="\\u200d",cD=G5+"?",uD="["+W5+"]?",Y5="(?:"+q5+"(?:"+[sD,oD,lD].join("|")+")"+uD+cD+")*",K5=uD+cD+Y5,Q5="(?:"+[sD+Gy+"?",Gy,oD,lD,V5].join("|")+")",X5=RegExp(qy+"(?="+qy+")|"+Q5+K5,"g");function Z5(t){return t.match(X5)||[]}var J5=Z5,eW=F5,tW=iD,rW=J5;function nW(t){return tW(t)?rW(t):eW(t)}var iW=nW,aW=N5,sW=iD,oW=iW,lW=XO;function cW(t){return function(e){e=lW(e);var r=sW(e)?oW(e):void 0,n=r?r[0]:e.charAt(0),i=r?aW(r,1).join(""):e.slice(1);return n[t]()+i}}var uW=cW,dW=uW,fW=dW("toUpperCase"),hW=fW;const lm=Ze(hW);function nt(t){return function(){return t}}const dD=Math.cos,eh=Math.sin,_n=Math.sqrt,th=Math.PI,cm=2*th,Yy=Math.PI,Ky=2*Yy,Ma=1e-6,pW=Ky-Ma;function fD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function mW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fD;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class gW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fD:mW(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ma)if(!(Math.abs(f*l-u*d)>Ma)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-o,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan((Yy-Math.acos((g+h-v)/(2*x*y)))/2),S=b/y,w=b/x;Math.abs(S-1)>Ma&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+w*l},${this._y1=r+w*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ma||Math.abs(this._y1-d)>Ma)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ky+Ky),h>pW?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ma&&this._append`A${n},${n},0,${+(h>=Yy)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Xb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new gW(e)}function Zb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hD(t){this._context=t}hD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function um(t){return new hD(t)}function pD(t){return t[0]}function mD(t){return t[1]}function gD(t,e){var r=nt(!0),n=null,i=um,a=null,s=Xb(o);t=typeof t=="function"?t:t===void 0?pD:nt(t),e=typeof e=="function"?e:e===void 0?mD:nt(e);function o(l){var u,d=(l=Zb(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:nt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:nt(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Td(t,e,r){var n=null,i=nt(!0),a=null,s=um,o=null,l=Xb(u);t=typeof t=="function"?t:t===void 0?pD:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?mD:nt(+r);function u(f){var h,p,m,g=(f=Zb(f)).length,v,x=!1,y,b=new Array(g),S=new Array(g);for(a==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(b[m],S[m]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+t(v,h,f),S[h]=+e(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):S[h]))}if(y)return o=null,y+""||null}function d(){return gD().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:nt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:nt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:nt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:nt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:nt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:nt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:nt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class vD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function vW(t){return new vD(t,!0)}function yW(t){return new vD(t,!1)}const Jb={draw(t,e){const r=_n(e/th);t.moveTo(r,0),t.arc(0,0,r,0,cm)}},xW={draw(t,e){const r=_n(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},yD=_n(1/3),bW=yD*2,wW={draw(t,e){const r=_n(e/bW),n=r*yD;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},SW={draw(t,e){const r=_n(e),n=-r/2;t.rect(n,n,r,r)}},_W=.8908130915292852,xD=eh(th/10)/eh(7*th/10),EW=eh(cm/10)*xD,jW=-dD(cm/10)*xD,AW={draw(t,e){const r=_n(e*_W),n=EW*r,i=jW*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=cm*a/5,o=dD(s),l=eh(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},Dg=_n(3),TW={draw(t,e){const r=-_n(e/(Dg*3));t.moveTo(0,r*2),t.lineTo(-Dg*r,-r),t.lineTo(Dg*r,-r),t.closePath()}},Br=-.5,Ur=_n(3)/2,Qy=1/_n(12),NW=(Qy/2+1)*3,CW={draw(t,e){const r=_n(e/NW),n=r/2,i=r*Qy,a=n,s=r*Qy+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Br*n-Ur*i,Ur*n+Br*i),t.lineTo(Br*a-Ur*s,Ur*a+Br*s),t.lineTo(Br*o-Ur*l,Ur*o+Br*l),t.lineTo(Br*n+Ur*i,Br*i-Ur*n),t.lineTo(Br*a+Ur*s,Br*s-Ur*a),t.lineTo(Br*o+Ur*l,Br*l-Ur*o),t.closePath()}};function kW(t,e){let r=null,n=Xb(i);t=typeof t=="function"?t:nt(t||Jb),e=typeof e=="function"?e:nt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:nt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:nt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function rh(){}function nh(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function bD(t){this._context=t}bD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OW(t){return new bD(t)}function wD(t){this._context=t}wD.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DW(t){return new wD(t)}function SD(t){this._context=t}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PW(t){return new SD(t)}function _D(t){this._context=t}_D.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MW(t){return new _D(t)}function N1(t){return t<0?-1:1}function C1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(N1(a)+N1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function k1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Pg(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function ih(t){this._context=t}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pg(this,this._t0,k1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Pg(this,k1(this,r=C1(this,t,e)),r);break;default:Pg(this,this._t0,r=C1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function ED(t){this._context=new jD(t)}(ED.prototype=Object.create(ih.prototype)).point=function(t,e){ih.prototype.point.call(this,e,t)};function jD(t){this._context=t}jD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function RW(t){return new ih(t)}function IW(t){return new ED(t)}function AD(t){this._context=t}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=O1(t),i=O1(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function O1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function $W(t){return new AD(t)}function dm(t,e){this._context=t,this._t=e}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function LW(t){return new dm(t,.5)}function FW(t){return new dm(t,0)}function BW(t){return new dm(t,1)}function Oo(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function UW(t,e){return t[e]}function HW(t){const e=[];return e.key=t,e}function zW(){var t=nt([]),e=Xy,r=Oo,n=UW;function i(a){var s=Array.from(t.apply(this,arguments),HW),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=Zb(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:nt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:nt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Xy:typeof a=="function"?a:nt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Oo,i):r},i}function WW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Oo(t,e)}}function VW(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Oo(t,e)}}function GW(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Oo(t,e)}}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var qW=["type","size","sizeType"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zy.apply(this,arguments)}function D1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(r),!0).forEach(function(n){YW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e,r){return e=KW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KW(t){var e=QW(t,"string");return nu(e)=="symbol"?e:e+""}function QW(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XW(t,e){if(t==null)return{};var r=ZW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var TD={symbolCircle:Jb,symbolCross:xW,symbolDiamond:wW,symbolSquare:SW,symbolStar:AW,symbolTriangle:TW,symbolWye:CW},JW=Math.PI/180,e8=function(e){var r="symbol".concat(lm(e));return TD[r]||Jb},t8=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*JW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},r8=function(e,r){TD["symbol".concat(lm(e))]=r},fm=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=XW(e,qW),u=P1(P1({},l),{},{type:n,size:a,sizeType:o}),d=function(){var v=e8(n),x=kW().type(v).size(t8(a,o,n));return x()},f=u.className,h=u.cx,p=u.cy,m=Ne(u,!0);return h===+h&&p===+p&&a===+a?I.createElement("path",Zy({},m,{className:Re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};fm.registerSymbol=r8;function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jy.apply(this,arguments)}function M1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(r),!0).forEach(function(n){iu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CD(n.key),n)}}function a8(t,e,r){return e&&R1(t.prototype,e),r&&R1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s8(t,e,r){return e=ah(e),o8(t,ND()?Reflect.construct(e,r||[],ah(t).constructor):e.apply(t,r))}function o8(t,e){if(e&&(Do(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l8(t)}function l8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ND(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(t)}function c8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e0(t,e)}function e0(t,e){return e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e0(t,e)}function iu(t,e,r){return e=CD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CD(t){var e=u8(t,"string");return Do(e)=="symbol"?e:e+""}function u8(t,e){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hr=32,ew=function(t){function e(){return i8(this,e),s8(this,e,arguments)}return c8(e,t),a8(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Hr/2,s=Hr/6,o=Hr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Hr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Hr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Hr/8,"h").concat(Hr,"v").concat(Hr*3/4,"h").concat(-Hr,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=n8({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(fm,{fill:l,cx:a,cy:a,size:Hr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Hr,height:Hr},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=Re(iu(iu({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Ce(p.value)?null:p.value;ai(!Ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return I.createElement("li",Jy({className:v,style:f,key:"legend-item-".concat(m)},ru(n.props,p,m)),I.createElement(Wy,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(C.PureComponent);iu(ew,"displayName","Legend");iu(ew,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var d8=Kp;function f8(){this.__data__=new d8,this.size=0}var h8=f8;function p8(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var m8=p8;function g8(t){return this.__data__.get(t)}var v8=g8;function y8(t){return this.__data__.has(t)}var x8=y8,b8=Kp,w8=Hb,S8=zb,_8=200;function E8(t,e){var r=this.__data__;if(r instanceof b8){var n=r.__data__;if(!w8||n.length<_8-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new S8(n)}return r.set(t,e),this.size=r.size,this}var j8=E8,A8=Kp,T8=h8,N8=m8,C8=v8,k8=x8,O8=j8;function wl(t){var e=this.__data__=new A8(t);this.size=e.size}wl.prototype.clear=T8;wl.prototype.delete=N8;wl.prototype.get=C8;wl.prototype.has=k8;wl.prototype.set=O8;var kD=wl,D8="__lodash_hash_undefined__";function P8(t){return this.__data__.set(t,D8),this}var M8=P8;function R8(t){return this.__data__.has(t)}var I8=R8,$8=zb,L8=M8,F8=I8;function sh(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new $8;++e<r;)this.add(t[e])}sh.prototype.add=sh.prototype.push=L8;sh.prototype.has=F8;var OD=sh;function B8(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var DD=B8;function U8(t,e){return t.has(e)}var PD=U8,H8=OD,z8=DD,W8=PD,V8=1,G8=2;function q8(t,e,r,n,i,a){var s=r&V8,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&G8?new H8:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(n)var v=s?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!z8(e,function(x,y){if(!W8(p,y)&&(m===x||i(m,x,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var MD=q8,Y8=Un,K8=Y8.Uint8Array,Q8=K8;function X8(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Z8=X8;function J8(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var tw=J8,I1=Yu,$1=Q8,eV=Ub,tV=MD,rV=Z8,nV=tw,iV=1,aV=2,sV="[object Boolean]",oV="[object Date]",lV="[object Error]",cV="[object Map]",uV="[object Number]",dV="[object RegExp]",fV="[object Set]",hV="[object String]",pV="[object Symbol]",mV="[object ArrayBuffer]",gV="[object DataView]",L1=I1?I1.prototype:void 0,Mg=L1?L1.valueOf:void 0;function vV(t,e,r,n,i,a,s){switch(r){case gV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case mV:return!(t.byteLength!=e.byteLength||!a(new $1(t),new $1(e)));case sV:case oV:case uV:return eV(+t,+e);case lV:return t.name==e.name&&t.message==e.message;case dV:case hV:return t==e+"";case cV:var o=rV;case fV:var l=n&iV;if(o||(o=nV),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=aV,s.set(t,e);var d=tV(o(t),o(e),n,i,a,s);return s.delete(t),d;case pV:if(Mg)return Mg.call(t)==Mg.call(e)}return!1}var yV=vV;function xV(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var RD=xV,bV=RD,wV=jr;function SV(t,e,r){var n=e(t);return wV(t)?n:bV(n,r(t))}var _V=SV;function EV(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var jV=EV;function AV(){return[]}var TV=AV,NV=jV,CV=TV,kV=Object.prototype,OV=kV.propertyIsEnumerable,F1=Object.getOwnPropertySymbols,DV=F1?function(t){return t==null?[]:(t=Object(t),NV(F1(t),function(e){return OV.call(t,e)}))}:CV,PV=DV;function MV(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var RV=MV,IV=xi,$V=bi,LV="[object Arguments]";function FV(t){return $V(t)&&IV(t)==LV}var BV=FV,B1=BV,UV=bi,ID=Object.prototype,HV=ID.hasOwnProperty,zV=ID.propertyIsEnumerable,WV=B1(function(){return arguments}())?B1:function(t){return UV(t)&&HV.call(t,"callee")&&!zV.call(t,"callee")},rw=WV,oh={exports:{}};function VV(){return!1}var GV=VV;oh.exports;(function(t,e){var r=Un,n=GV,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(oh,oh.exports);var $D=oh.exports,qV=9007199254740991,YV=/^(?:0|[1-9]\d*)$/;function KV(t,e){var r=typeof t;return e=e??qV,!!e&&(r=="number"||r!="symbol"&&YV.test(t))&&t>-1&&t%1==0&&t<e}var nw=KV,QV=9007199254740991;function XV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=QV}var iw=XV,ZV=xi,JV=iw,eG=bi,tG="[object Arguments]",rG="[object Array]",nG="[object Boolean]",iG="[object Date]",aG="[object Error]",sG="[object Function]",oG="[object Map]",lG="[object Number]",cG="[object Object]",uG="[object RegExp]",dG="[object Set]",fG="[object String]",hG="[object WeakMap]",pG="[object ArrayBuffer]",mG="[object DataView]",gG="[object Float32Array]",vG="[object Float64Array]",yG="[object Int8Array]",xG="[object Int16Array]",bG="[object Int32Array]",wG="[object Uint8Array]",SG="[object Uint8ClampedArray]",_G="[object Uint16Array]",EG="[object Uint32Array]",ct={};ct[gG]=ct[vG]=ct[yG]=ct[xG]=ct[bG]=ct[wG]=ct[SG]=ct[_G]=ct[EG]=!0;ct[tG]=ct[rG]=ct[pG]=ct[nG]=ct[mG]=ct[iG]=ct[aG]=ct[sG]=ct[oG]=ct[lG]=ct[cG]=ct[uG]=ct[dG]=ct[fG]=ct[hG]=!1;function jG(t){return eG(t)&&JV(t.length)&&!!ct[ZV(t)]}var AG=jG;function TG(t){return function(e){return t(e)}}var LD=TG,lh={exports:{}};lh.exports;(function(t,e){var r=VO,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(lh,lh.exports);var NG=lh.exports,CG=AG,kG=LD,U1=NG,H1=U1&&U1.isTypedArray,OG=H1?kG(H1):CG,FD=OG,DG=RV,PG=rw,MG=jr,RG=$D,IG=nw,$G=FD,LG=Object.prototype,FG=LG.hasOwnProperty;function BG(t,e){var r=MG(t),n=!r&&PG(t),i=!r&&!n&&RG(t),a=!r&&!n&&!i&&$G(t),s=r||n||i||a,o=s?DG(t.length,String):[],l=o.length;for(var u in t)(e||FG.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||IG(u,l)))&&o.push(u);return o}var UG=BG,HG=Object.prototype;function zG(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||HG;return t===r}var WG=zG;function VG(t,e){return function(r){return t(e(r))}}var BD=VG,GG=BD,qG=GG(Object.keys,Object),YG=qG,KG=WG,QG=YG,XG=Object.prototype,ZG=XG.hasOwnProperty;function JG(t){if(!KG(t))return QG(t);var e=[];for(var r in Object(t))ZG.call(t,r)&&r!="constructor"&&e.push(r);return e}var e7=JG,t7=Bb,r7=iw;function n7(t){return t!=null&&r7(t.length)&&!t7(t)}var Ku=n7,i7=UG,a7=e7,s7=Ku;function o7(t){return s7(t)?i7(t):a7(t)}var hm=o7,l7=_V,c7=PV,u7=hm;function d7(t){return l7(t,u7,c7)}var f7=d7,z1=f7,h7=1,p7=Object.prototype,m7=p7.hasOwnProperty;function g7(t,e,r,n,i,a){var s=r&h7,o=z1(t),l=o.length,u=z1(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:m7.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var x=t[h],y=e[h];if(n)var b=s?n(y,x,h,e,t,a):n(x,y,h,t,e,a);if(!(b===void 0?x===y||i(x,y,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var v7=g7,y7=Es,x7=Un,b7=y7(x7,"DataView"),w7=b7,S7=Es,_7=Un,E7=S7(_7,"Promise"),j7=E7,A7=Es,T7=Un,N7=A7(T7,"Set"),UD=N7,C7=Es,k7=Un,O7=C7(k7,"WeakMap"),D7=O7,t0=w7,r0=Hb,n0=j7,i0=UD,a0=D7,HD=xi,Sl=qO,W1="[object Map]",P7="[object Object]",V1="[object Promise]",G1="[object Set]",q1="[object WeakMap]",Y1="[object DataView]",M7=Sl(t0),R7=Sl(r0),I7=Sl(n0),$7=Sl(i0),L7=Sl(a0),Ra=HD;(t0&&Ra(new t0(new ArrayBuffer(1)))!=Y1||r0&&Ra(new r0)!=W1||n0&&Ra(n0.resolve())!=V1||i0&&Ra(new i0)!=G1||a0&&Ra(new a0)!=q1)&&(Ra=function(t){var e=HD(t),r=e==P7?t.constructor:void 0,n=r?Sl(r):"";if(n)switch(n){case M7:return Y1;case R7:return W1;case I7:return V1;case $7:return G1;case L7:return q1}return e});var F7=Ra,Rg=kD,B7=MD,U7=yV,H7=v7,K1=F7,Q1=jr,X1=$D,z7=FD,W7=1,Z1="[object Arguments]",J1="[object Array]",Nd="[object Object]",V7=Object.prototype,eE=V7.hasOwnProperty;function G7(t,e,r,n,i,a){var s=Q1(t),o=Q1(e),l=s?J1:K1(t),u=o?J1:K1(e);l=l==Z1?Nd:l,u=u==Z1?Nd:u;var d=l==Nd,f=u==Nd,h=l==u;if(h&&X1(t)){if(!X1(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Rg),s||z7(t)?B7(t,e,r,n,i,a):U7(t,e,l,r,n,i,a);if(!(r&W7)){var p=d&&eE.call(t,"__wrapped__"),m=f&&eE.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new Rg),i(g,v,r,n,a)}}return h?(a||(a=new Rg),H7(t,e,r,n,i,a)):!1}var q7=G7,Y7=q7,tE=bi;function zD(t,e,r,n,i){return t===e?!0:t==null||e==null||!tE(t)&&!tE(e)?t!==t&&e!==e:Y7(t,e,r,n,zD,i)}var aw=zD,K7=kD,Q7=aw,X7=1,Z7=2;function J7(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new K7;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?Q7(d,u,X7|Z7,n,f):h))return!1}}return!0}var e9=J7,t9=wa;function r9(t){return t===t&&!t9(t)}var WD=r9,n9=WD,i9=hm;function a9(t){for(var e=i9(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,n9(i)]}return e}var s9=a9;function o9(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var VD=o9,l9=e9,c9=s9,u9=VD;function d9(t){var e=c9(t);return e.length==1&&e[0][2]?u9(e[0][0],e[0][1]):function(r){return r===t||l9(r,t,e)}}var f9=d9;function h9(t,e){return t!=null&&e in Object(t)}var p9=h9,m9=ZO,g9=rw,v9=jr,y9=nw,x9=iw,b9=Xp;function w9(t,e,r){e=m9(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=b9(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&x9(i)&&y9(s,i)&&(v9(t)||g9(t)))}var S9=w9,_9=p9,E9=S9;function j9(t,e){return t!=null&&E9(t,e,_9)}var A9=j9,T9=aw,N9=JO,C9=A9,k9=Fb,O9=WD,D9=VD,P9=Xp,M9=1,R9=2;function I9(t,e){return k9(t)&&O9(e)?D9(P9(t),e):function(r){var n=N9(r,t);return n===void 0&&n===e?C9(r,t):T9(e,n,M9|R9)}}var $9=I9;function L9(t){return t}var _l=L9;function F9(t){return function(e){return e==null?void 0:e[t]}}var B9=F9,U9=Gb;function H9(t){return function(e){return U9(e,t)}}var z9=H9,W9=B9,V9=z9,G9=Fb,q9=Xp;function Y9(t){return G9(t)?W9(q9(t)):V9(t)}var K9=Y9,Q9=f9,X9=$9,Z9=_l,J9=jr,eq=K9;function tq(t){return typeof t=="function"?t:t==null?Z9:typeof t=="object"?J9(t)?X9(t[0],t[1]):Q9(t):eq(t)}var Sa=tq;function rq(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var GD=rq;function nq(t){return t!==t}var iq=nq;function aq(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var sq=aq,oq=GD,lq=iq,cq=sq;function uq(t,e,r){return e===e?cq(t,e,r):oq(t,lq,r)}var dq=uq,fq=dq;function hq(t,e){var r=t==null?0:t.length;return!!r&&fq(t,e,0)>-1}var pq=hq;function mq(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var gq=mq;function vq(){}var yq=vq,Ig=UD,xq=yq,bq=tw,wq=1/0,Sq=Ig&&1/bq(new Ig([,-0]))[1]==wq?function(t){return new Ig(t)}:xq,_q=Sq,Eq=OD,jq=pq,Aq=gq,Tq=PD,Nq=_q,Cq=tw,kq=200;function Oq(t,e,r){var n=-1,i=jq,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=Aq;else if(a>=kq){var u=e?null:Nq(t);if(u)return Cq(u);s=!1,i=Tq,l=new Eq}else l=e?[]:o;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var Dq=Oq,Pq=Sa,Mq=Dq;function Rq(t,e){return t&&t.length?Mq(t,Pq(e)):[]}var Iq=Rq;const rE=Ze(Iq);function qD(t,e,r){return e===!0?rE(t,r):Ce(e)?rE(t,e):t}function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}var $q=["ref"];function nE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(r),!0).forEach(function(n){pm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KD(n.key),n)}}function Fq(t,e,r){return e&&iE(t.prototype,e),r&&iE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bq(t,e,r){return e=ch(e),Uq(t,YD()?Reflect.construct(e,r||[],ch(t).constructor):e.apply(t,r))}function Uq(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hq(t)}function Hq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YD=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(t)}function zq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s0(t,e)}function pm(t,e,r){return e=KD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KD(t){var e=Wq(t,"string");return Po(e)=="symbol"?e:e+""}function Wq(t,e){if(Po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vq(t,e){if(t==null)return{};var r=Gq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qq(t){return t.value}function Yq(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var r=Vq(e,$q);return I.createElement(ew,r)}var aE=1,na=function(t){function e(){var r;Lq(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Bq(this,e,[].concat(i)),pm(r,"lastBoundingBox",{width:-1,height:-1}),r}return zq(e,t),Fq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aE||Math.abs(i.height-this.lastBoundingBox.height)>aE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Wn(Wn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Wn(Wn({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Yq(a,Wn(Wn({},this.props),{},{payload:qD(d,u,qq)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Wn(Wn({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ie(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(C.PureComponent);pm(na,"displayName","Legend");pm(na,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sE=Yu,Kq=rw,Qq=jr,oE=sE?sE.isConcatSpreadable:void 0;function Xq(t){return Qq(t)||Kq(t)||!!(oE&&t&&t[oE])}var Zq=Xq,Jq=RD,eY=Zq;function QD(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=eY),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?QD(o,e-1,r,n,i):Jq(i,o):n||(i[i.length]=o)}return i}var XD=QD;function tY(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var rY=tY,nY=rY,iY=nY(),aY=iY,sY=aY,oY=hm;function lY(t,e){return t&&sY(t,e,oY)}var ZD=lY,cY=Ku;function uY(t,e){return function(r,n){if(r==null)return r;if(!cY(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var dY=uY,fY=ZD,hY=dY,pY=hY(fY),sw=pY,mY=sw,gY=Ku;function vY(t,e){var r=-1,n=gY(t)?Array(t.length):[];return mY(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var JD=vY;function yY(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var xY=yY,lE=ml;function bY(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=lE(t),s=e!==void 0,o=e===null,l=e===e,u=lE(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var wY=bY,SY=wY;function _Y(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=SY(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var EY=_Y,$g=Vb,jY=Gb,AY=Sa,TY=JD,NY=xY,CY=LD,kY=EY,OY=_l,DY=jr;function PY(t,e,r){e.length?e=$g(e,function(a){return DY(a)?function(s){return jY(s,a.length===1?a[0]:a)}:a}):e=[OY];var n=-1;e=$g(e,CY(AY));var i=TY(t,function(a,s,o){var l=$g(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return NY(i,function(a,s){return kY(a,s,r)})}var MY=PY;function RY(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var IY=RY,$Y=IY,cE=Math.max;function LY(t,e,r){return e=cE(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=cE(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),$Y(t,this,o)}}var FY=LY;function BY(t){return function(){return t}}var UY=BY,HY=Es,zY=function(){try{var t=HY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),eP=zY,WY=UY,uE=eP,VY=_l,GY=uE?function(t,e){return uE(t,"toString",{configurable:!0,enumerable:!1,value:WY(e),writable:!0})}:VY,qY=GY,YY=800,KY=16,QY=Date.now;function XY(t){var e=0,r=0;return function(){var n=QY(),i=KY-(n-r);if(r=n,i>0){if(++e>=YY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ZY=XY,JY=qY,eK=ZY,tK=eK(JY),rK=tK,nK=_l,iK=FY,aK=rK;function sK(t,e){return aK(iK(t,e,nK),t+"")}var oK=sK,lK=Ub,cK=Ku,uK=nw,dK=wa;function fK(t,e,r){if(!dK(r))return!1;var n=typeof e;return(n=="number"?cK(r)&&uK(e,r.length):n=="string"&&e in r)?lK(r[e],t):!1}var mm=fK,hK=XD,pK=MY,mK=oK,dE=mm,gK=mK(function(t,e){if(t==null)return[];var r=e.length;return r>1&&dE(t,e[0],e[1])?e=[]:r>2&&dE(e[0],e[1],e[2])&&(e=[e[0]]),pK(t,hK(e,1),[])}),vK=gK;const ow=Ze(vK);function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o0.apply(this,arguments)}function yK(t,e){return SK(t)||wK(t,e)||bK(t,e)||xK()}function xK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bK(t,e){if(t){if(typeof t=="string")return fE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fE(t,e)}}function fE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function SK(t){if(Array.isArray(t))return t}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){_K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _K(t,e,r){return e=EK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EK(t){var e=jK(t,"string");return au(e)=="symbol"?e:e+""}function jK(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AK(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var TK=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var P={padding:0,margin:0},O=(h?ow(d,h):d).map(function(z,W){if(z.type==="none")return null;var G=Lg({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),M=z.formatter||f||AK,$=z.value,B=z.name,U=$,H=B;if(M&&U!=null&&H!=null){var V=M($,B,z,W,d);if(Array.isArray(V)){var q=yK(V,2);U=q[0],H=q[1]}else U=V}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:G},Mt(H)?I.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Mt(H)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},U),I.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},S=Lg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Lg({margin:0},u),_=!je(g),j=_?g:"",E=Re("recharts-default-tooltip",p),A=Re("recharts-tooltip-label",m);_&&v&&d!==void 0&&d!==null&&(j=v(g,d));var k=y?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",o0({className:E,style:S},k),I.createElement("p",{className:A,style:w},I.isValidElement(j)?j:"".concat(j)),b())};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Cd(t,e,r){return e=NK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NK(t){var e=CK(t,"string");return su(e)=="symbol"?e:e+""}function CK(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vl="recharts-tooltip-wrapper",kK={visibility:"hidden"};function OK(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Re(Vl,Cd(Cd(Cd(Cd({},"".concat(Vl,"-right"),ie(r)&&e&&ie(e.x)&&r>=e.x),"".concat(Vl,"-left"),ie(r)&&e&&ie(e.x)&&r<e.x),"".concat(Vl,"-bottom"),ie(n)&&e&&ie(e.y)&&n>=e.y),"".concat(Vl,"-top"),ie(n)&&e&&ie(e.y)&&n<e.y))}function pE(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ie(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?d:f;if(s[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+o,g=l[n]+u;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function DK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function PK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=pE({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=pE({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=DK({translateX:d,translateY:f,useTranslate3d:o})):u=kK,{cssProperties:u,cssClasses:OK({translateX:d,translateY:f,coordinate:r})}}function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function mE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(r),!0).forEach(function(n){c0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rP(n.key),n)}}function RK(t,e,r){return e&&vE(t.prototype,e),r&&vE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IK(t,e,r){return e=uh(e),$K(t,tP()?Reflect.construct(e,r||[],uh(t).constructor):e.apply(t,r))}function $K(t,e){if(e&&(Mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(t)}function LK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!t})()}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(t)}function FK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l0(t,e)}function l0(t,e){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l0(t,e)}function c0(t,e,r){return e=rP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rP(t){var e=BK(t,"string");return Mo(e)=="symbol"?e:e+""}function BK(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yE=1,UK=function(t){function e(){var r;MK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=IK(this,e,[].concat(i)),c0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),c0(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return FK(e,t),RK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>yE||Math.abs(n.height-this.state.lastBoundingBox.height)>yE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,b=PK({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=b.cssClasses,w=b.cssProperties,_=gE(gE({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return I.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(E){n.wrapperNode=E}},u)}}])}(C.PureComponent),HK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xn={isSsr:HK(),get:function(e){return xn[e]},set:function(e,r){if(typeof e=="string")xn[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){xn[i]=e[i]})}}};function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iP(n.key),n)}}function WK(t,e,r){return e&&wE(t.prototype,e),r&&wE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VK(t,e,r){return e=dh(e),GK(t,nP()?Reflect.construct(e,r||[],dh(t).constructor):e.apply(t,r))}function GK(t,e){if(e&&(Ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qK(t)}function qK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!t})()}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(t)}function YK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u0(t,e)}function lw(t,e,r){return e=iP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iP(t){var e=KK(t,"string");return Ro(e)=="symbol"?e:e+""}function KK(t,e){if(Ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QK(t){return t.dataKey}function XK(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(TK,e)}var Wr=function(t){function e(){return zK(this,e),VK(this,e,arguments)}return YK(e,t),WK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,w=m??[];f&&w.length&&(w=qD(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),g,QK));var _=w.length>0;return I.createElement(UK,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:S},XK(u,bE(bE({},this.props),{},{payload:w})))}}])}(C.PureComponent);lw(Wr,"displayName","Tooltip");lw(Wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ZK=Un,JK=function(){return ZK.Date.now()},eQ=JK,tQ=/\s/;function rQ(t){for(var e=t.length;e--&&tQ.test(t.charAt(e)););return e}var nQ=rQ,iQ=nQ,aQ=/^\s+/;function sQ(t){return t&&t.slice(0,iQ(t)+1).replace(aQ,"")}var oQ=sQ,lQ=oQ,SE=wa,cQ=ml,_E=0/0,uQ=/^[-+]0x[0-9a-f]+$/i,dQ=/^0b[01]+$/i,fQ=/^0o[0-7]+$/i,hQ=parseInt;function pQ(t){if(typeof t=="number")return t;if(cQ(t))return _E;if(SE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lQ(t);var r=dQ.test(t);return r||fQ.test(t)?hQ(t.slice(2),r?2:8):uQ.test(t)?_E:+t}var aP=pQ,mQ=wa,Fg=eQ,EE=aP,gQ="Expected a function",vQ=Math.max,yQ=Math.min;function xQ(t,e,r){var n,i,a,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(gQ);e=EE(e)||0,mQ(r)&&(d=!!r.leading,f="maxWait"in r,a=f?vQ(EE(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(_){var j=n,E=i;return n=i=void 0,u=_,s=t.apply(E,j),s}function m(_){return u=_,o=setTimeout(x,e),d?p(_):s}function g(_){var j=_-l,E=_-u,A=e-j;return f?yQ(A,a-E):A}function v(_){var j=_-l,E=_-u;return l===void 0||j>=e||j<0||f&&E>=a}function x(){var _=Fg();if(v(_))return y(_);o=setTimeout(x,g(_))}function y(_){return o=void 0,h&&n?p(_):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function S(){return o===void 0?s:y(Fg())}function w(){var _=Fg(),j=v(_);if(n=arguments,i=this,l=_,j){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return w.cancel=b,w.flush=S,w}var bQ=xQ,wQ=bQ,SQ=wa,_Q="Expected a function";function EQ(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(_Q);return SQ(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),wQ(t,e,{leading:n,maxWait:e,trailing:i})}var jQ=EQ;const sP=Ze(jQ);function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){AQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e,r){return e=TQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TQ(t){var e=NQ(t,"string");return ou(e)=="symbol"?e:e+""}function NQ(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CQ(t,e){return PQ(t)||DQ(t,e)||OQ(t,e)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return AE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AE(t,e)}}function AE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function PQ(t){if(Array.isArray(t))return t}var d0=C.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,x=t.className,y=t.onResize,b=t.style,S=b===void 0?{}:b,w=C.useRef(null),_=C.useRef();_.current=y,C.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=C.useState({containerWidth:i.width,containerHeight:i.height}),E=CQ(j,2),A=E[0],k=E[1],D=C.useCallback(function(O,z){k(function(W){var G=Math.round(O),M=Math.round(z);return W.containerWidth===G&&W.containerHeight===M?W:{containerWidth:G,containerHeight:M}})},[]);C.useEffect(function(){var O=function(B){var U,H=B[0].contentRect,V=H.width,q=H.height;D(V,q),(U=_.current)===null||U===void 0||U.call(_,V,q)};g>0&&(O=sP(O,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(O),W=w.current.getBoundingClientRect(),G=W.width,M=W.height;return D(G,M),z.observe(w.current),function(){z.disconnect()}},[D,g]);var P=C.useMemo(function(){var O=A.containerWidth,z=A.containerHeight;if(O<0||z<0)return null;ai(Ga(s)||Ga(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ai(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Ga(s)?O:s,G=Ga(l)?z:l;r&&r>0&&(W?G=W/r:G&&(W=G*r),h&&G>h&&(G=h)),ai(W>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,G,s,l,d,f,r);var M=!Array.isArray(p)&&ii(p.type).endsWith("Chart");return I.Children.map(p,function($){return I.isValidElement($)?C.cloneElement($,kd({width:W,height:G},M?{style:kd({height:"100%",width:"100%",maxHeight:G,maxWidth:W},$.props.style)}:{})):$})},[r,p,l,h,f,d,A,s]);return I.createElement("div",{id:v?"".concat(v):void 0,className:Re("recharts-responsive-container",x),style:kd(kd({},S),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},P)}),cw=function(e){return null};cw.displayName="Cell";function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){MQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MQ(t,e,r){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RQ(t){var e=IQ(t,"string");return lu(e)=="symbol"?e:e+""}function IQ(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls={widthCache:{},cacheCount:0},$Q=2e3,LQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NE="recharts_measurement_span";function FQ(t){var e=f0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ac=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xn.isSsr)return{width:0,height:0};var n=FQ(r),i=JSON.stringify({text:e,copyStyle:n});if(Ls.widthCache[i])return Ls.widthCache[i];try{var a=document.getElementById(NE);a||(a=document.createElement("span"),a.setAttribute("id",NE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=f0(f0({},LQ),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Ls.widthCache[i]=l,++Ls.cacheCount>$Q&&(Ls.cacheCount=0,Ls.widthCache={}),l}catch{return{width:0,height:0}}},BQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function fh(t,e){return WQ(t)||zQ(t,e)||HQ(t,e)||UQ()}function UQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function WQ(t){if(Array.isArray(t))return t}function VQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qQ(n.key),n)}}function GQ(t,e,r){return e&&kE(t.prototype,e),r&&kE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qQ(t){var e=YQ(t,"string");return cu(e)=="symbol"?e:e+""}function YQ(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XQ=Object.keys(oP),no="NaN";function ZQ(t,e){return t*oP[e]}var Od=function(){function t(e,r){VQ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!KQ.test(r)&&(this.num=NaN,this.unit=""),XQ.includes(r)&&(this.num=ZQ(e,r),this.unit="px")}return GQ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=QQ.exec(r))!==null&&n!==void 0?n:[],a=fh(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function lP(t){if(t.includes(no))return no;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=OE.exec(e))!==null&&r!==void 0?r:[],i=fh(n,4),a=i[1],s=i[2],o=i[3],l=Od.parse(a??""),u=Od.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return no;e=e.replace(OE,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=DE.exec(e))!==null&&f!==void 0?f:[],p=fh(h,4),m=p[1],g=p[2],v=p[3],x=Od.parse(m??""),y=Od.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return no;e=e.replace(DE,b.toString())}return e}var PE=/\(([^()]*)\)/;function JQ(t){for(var e=t;e.includes("(");){var r=PE.exec(e),n=fh(r,2),i=n[1];e=e.replace(PE,lP(i))}return e}function eX(t){var e=t.replace(/\s+/g,"");return e=JQ(e),e=lP(e),e}function tX(t){try{return eX(t)}catch{return no}}function Bg(t){var e=tX(t.slice(5,-1));return e===no?"":e}var rX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nX=["dx","dy","angle","className","breakAll"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h0.apply(this,arguments)}function ME(t,e){if(t==null)return{};var r=iX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RE(t,e){return lX(t)||oX(t,e)||sX(t,e)||aX()}function aX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sX(t,e){if(t){if(typeof t=="string")return IE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function lX(t){if(Array.isArray(t))return t}var cP=/[ \f\n\r\t\v\u2028\u2029]+/,uP=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];je(r)||(n?a=r.toString().split(""):a=r.toString().split(cP));var s=a.map(function(l){return{word:l,width:Ac(l,i).width}}),o=n?0:Ac(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},cX=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=ie(s),f=o,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(G,M){var $=M.word,B=M.width,U=G[G.length-1];if(U&&(i==null||a||U.width+B+n<Number(i)))U.words.push($),U.width+=B+n;else{var H={words:[$],width:B};G.push(H)}return G},[])},p=h(r),m=function(W){return W.reduce(function(G,M){return G.width>M.width?G:M})};if(!d)return p;for(var g="…",v=function(W){var G=f.slice(0,W),M=uP({breakAll:u,style:l,children:G+g}).wordsWithComputedWidth,$=h(M),B=$.length>s||m($).width>Number(i);return[B,$]},x=0,y=f.length-1,b=0,S;x<=y&&b<=f.length-1;){var w=Math.floor((x+y)/2),_=w-1,j=v(_),E=RE(j,2),A=E[0],k=E[1],D=v(w),P=RE(D,1),O=P[0];if(!A&&!O&&(x=w+1),A&&O&&(y=w-1),!A&&O){S=k;break}b++}return S||p},$E=function(e){var r=je(e)?[]:e.toString().split(cP);return[{words:r}]},uX=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!xn.isSsr){var l,u,d=uP({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return $E(i);return cX({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return $E(i)},LE="#808080",hh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,x=v===void 0?LE:v,y=ME(e,rX),b=C.useMemo(function(){return uX({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,w=y.dy,_=y.angle,j=y.className,E=y.breakAll,A=ME(y,nX);if(!Mt(n)||!Mt(a))return null;var k=n+(ie(S)?S:0),D=a+(ie(w)?w:0),P;switch(g){case"start":P=Bg("calc(".concat(u,")"));break;case"middle":P=Bg("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=Bg("calc(".concat(b.length-1," * -").concat(o,")"));break}var O=[];if(f){var z=b[0].width,W=y.width;O.push("scale(".concat((ie(W)?W/z:1)/z,")"))}return _&&O.push("rotate(".concat(_,", ").concat(k,", ").concat(D,")")),O.length&&(A.transform=O.join(" ")),I.createElement("text",h0({},Ne(A,!0),{x:k,y:D,className:Re("recharts-text",j),textAnchor:p,fill:x.includes("url")?LE:x}),b.map(function(G,M){var $=G.words.join(E?"":" ");return I.createElement("tspan",{x:k,dy:M===0?P:o,key:"".concat($,"-").concat(M)},$)}))};function ia(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uw(t){let e,r,n;t.length!==2?(e=ia,r=(o,l)=>ia(t(o),l),n=(o,l)=>t(o)-l):(e=t===ia||t===dX?t:fX,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function fX(){return 0}function dP(t){return t===null?NaN:+t}function*hX(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const pX=uw(ia),mX=pX.right;uw(dP).center;const Qu=mX;class FE extends Map{constructor(e,r=yX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(BE(this,e))}has(e){return super.has(BE(this,e))}set(e,r){return super.set(gX(this,e),r)}delete(e){return super.delete(vX(this,e))}}function BE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function gX({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function vX({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function yX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xX(t=ia){if(t===ia)return fP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function fP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bX=Math.sqrt(50),wX=Math.sqrt(10),SX=Math.sqrt(2);function ph(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=bX?10:a>=wX?5:a>=SX?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?ph(t,e,r*2):[o,l,u]}function p0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?ph(e,t,r):ph(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function m0(t,e,r){return e=+e,t=+t,r=+r,ph(t,e,r)[2]}function g0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?m0(e,t,r):m0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function UE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function HE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function hP(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?fP:xX(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),m=Math.min(n,Math.floor(e+(l-u)*f/l+h));hP(t,e,p,m,i)}const a=t[e];let s=r,o=n;for(Gl(t,r,e),i(t[n],a)>0&&Gl(t,r,n);s<o;){for(Gl(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Gl(t,r,o):(++o,Gl(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Gl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function _X(t,e,r){if(t=Float64Array.from(hX(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return HE(t);if(e>=1)return UE(t);var n,i=(n-1)*e,a=Math.floor(i),s=UE(hP(t,a).subarray(0,a+1)),o=HE(t.subarray(a+1));return s+(o-s)*(i-a)}}function EX(t,e,r=dP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function jX(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function rn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v0=Symbol("implicit");function dw(){var t=new FE,e=[],r=[],n=v0;function i(a){let s=t.get(a);if(s===void 0){if(n!==v0)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new FE;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dw(e,r).unknown(n)},rn.apply(i,arguments),i}function uu(){var t=dw().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=jX(h).map(function(x){return m+a*x});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return uu(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},rn.apply(f(),arguments)}function pP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pP(e())},t}function Tc(){return pP(uu.apply(null,arguments).paddingInner(1))}function fw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function mP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Xu(){}var du=.7,mh=1/du,vo="\\s*([+-]?\\d+)\\s*",fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AX=/^#([0-9a-f]{3,8})$/,TX=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),NX=new RegExp(`^rgb\\(${Rn},${Rn},${Rn}\\)$`),CX=new RegExp(`^rgba\\(${vo},${vo},${vo},${fu}\\)$`),kX=new RegExp(`^rgba\\(${Rn},${Rn},${Rn},${fu}\\)$`),OX=new RegExp(`^hsl\\(${fu},${Rn},${Rn}\\)$`),DX=new RegExp(`^hsla\\(${fu},${Rn},${Rn},${fu}\\)$`),zE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fw(Xu,hu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WE,formatHex:WE,formatHex8:PX,formatHsl:MX,formatRgb:VE,toString:VE});function WE(){return this.rgb().formatHex()}function PX(){return this.rgb().formatHex8()}function MX(){return gP(this).formatHsl()}function VE(){return this.rgb().formatRgb()}function hu(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=AX.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?GE(e):r===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Dd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Dd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TX.exec(t))?new xr(e[1],e[2],e[3],1):(e=NX.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CX.exec(t))?Dd(e[1],e[2],e[3],e[4]):(e=kX.exec(t))?Dd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=OX.exec(t))?KE(e[1],e[2]/100,e[3]/100,1):(e=DX.exec(t))?KE(e[1],e[2]/100,e[3]/100,e[4]):zE.hasOwnProperty(t)?GE(zE[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function GE(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Dd(t,e,r,n){return n<=0&&(t=e=r=NaN),new xr(t,e,r,n)}function RX(t){return t instanceof Xu||(t=hu(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function y0(t,e,r,n){return arguments.length===1?RX(t):new xr(t,e,r,n??1)}function xr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}fw(xr,y0,mP(Xu,{brighter(t){return t=t==null?mh:Math.pow(mh,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?du:Math.pow(du,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(Ja(this.r),Ja(this.g),Ja(this.b),gh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qE,formatHex:qE,formatHex8:IX,formatRgb:YE,toString:YE}));function qE(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}`}function IX(){return`#${qa(this.r)}${qa(this.g)}${qa(this.b)}${qa((isNaN(this.opacity)?1:this.opacity)*255)}`}function YE(){const t=gh(this.opacity);return`${t===1?"rgb(":"rgba("}${Ja(this.r)}, ${Ja(this.g)}, ${Ja(this.b)}${t===1?")":`, ${t})`}`}function gh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ja(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qa(t){return t=Ja(t),(t<16?"0":"")+t.toString(16)}function KE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pn(t,e,r,n)}function gP(t){if(t instanceof pn)return new pn(t.h,t.s,t.l,t.opacity);if(t instanceof Xu||(t=hu(t)),!t)return new pn;if(t instanceof pn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new pn(s,o,l,t.opacity)}function $X(t,e,r,n){return arguments.length===1?gP(t):new pn(t,e,r,n??1)}function pn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}fw(pn,$X,mP(Xu,{brighter(t){return t=t==null?mh:Math.pow(mh,t),new pn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?du:Math.pow(du,t),new pn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new xr(Ug(t>=240?t-240:t+120,i,n),Ug(t,i,n),Ug(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pn(QE(this.h),Pd(this.s),Pd(this.l),gh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gh(this.opacity);return`${t===1?"hsl(":"hsla("}${QE(this.h)}, ${Pd(this.s)*100}%, ${Pd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QE(t){return t=(t||0)%360,t<0?t+360:t}function Pd(t){return Math.max(0,Math.min(1,t||0))}function Ug(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const hw=t=>()=>t;function LX(t,e){return function(r){return t+r*e}}function FX(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function BX(t){return(t=+t)==1?vP:function(e,r){return r-e?FX(e,r,t):hw(isNaN(e)?r:e)}}function vP(t,e){var r=e-t;return r?LX(t,r):hw(isNaN(t)?e:t)}const XE=function t(e){var r=BX(e);function n(i,a){var s=r((i=y0(i)).r,(a=y0(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=vP(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function UX(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function HX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zX(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=El(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function WX(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function vh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function VX(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=El(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var x0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hg=new RegExp(x0.source,"g");function GX(t){return function(){return t}}function qX(t){return function(e){return t(e)+""}}function YX(t,e){var r=x0.lastIndex=Hg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=x0.exec(t))&&(i=Hg.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:vh(n,i)})),r=Hg.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?qX(l[0].x):GX(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function El(t,e){var r=typeof e,n;return e==null||r==="boolean"?hw(e):(r==="number"?vh:r==="string"?(n=hu(e))?(e=n,XE):YX:e instanceof hu?XE:e instanceof Date?WX:HX(e)?UX:Array.isArray(e)?zX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VX:vh)(t,e)}function pw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function KX(t,e){e===void 0&&(e=t,t=El);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function QX(t){return function(){return t}}function yh(t){return+t}var ZE=[0,1];function cr(t){return t}function b0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:QX(isNaN(e)?NaN:.5)}function XX(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ZX(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=b0(i,n),a=r(s,a)):(n=b0(n,i),a=r(a,s)),function(o){return a(n(o))}}function JX(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=b0(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Qu(t,o,1,n)-1;return a[l](i[l](o))}}function Zu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gm(){var t=ZE,e=ZE,r=El,n,i,a,s=cr,o,l,u;function d(){var h=Math.min(t.length,e.length);return s!==cr&&(s=XX(t[0],t[h-1])),o=h>2?JX:ZX,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(n),vh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,yh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=pw,d()},f.clamp=function(h){return arguments.length?(s=h?!0:cr,d()):s!==cr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function mw(){return gm()(cr,cr)}function eZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xh(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Io(t){return t=xh(Math.abs(t)),t?t[1]:NaN}function tZ(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function rZ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var nZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pu(t){if(!(e=nZ.exec(t)))throw new Error("invalid format: "+t);var e;return new gw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}pu.prototype=gw.prototype;function gw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iZ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var yP;function aZ(t,e){var r=xh(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(yP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+xh(t,Math.max(0,e+a-1))[0]}function JE(t,e){var r=xh(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ej={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JE(t*100,e),r:JE,s:aZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tj(t){return t}var rj=Array.prototype.map,nj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sZ(t){var e=t.grouping===void 0||t.thousands===void 0?tj:tZ(rj.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?tj:rZ(rj.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=pu(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(y=!0,w="g"):ej[w]||(b===void 0&&(b=12),S=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=g==="$"?n:/[%p]/.test(w)?s:"",E=ej[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(D){var P=_,O=j,z,W,G;if(w==="c")O=E(D)+O,D="";else{D=+D;var M=D<0||1/D<0;if(D=isNaN(D)?l:E(Math.abs(D),b),S&&(D=iZ(D)),M&&+D==0&&m!=="+"&&(M=!1),P=(M?m==="("?m:o:m==="-"||m==="("?"":m)+P,O=(w==="s"?nj[8+yP/3]:"")+O+(M&&m==="("?")":""),A){for(z=-1,W=D.length;++z<W;)if(G=D.charCodeAt(z),48>G||G>57){O=(G===46?i+D.slice(z+1):D.slice(z))+O,D=D.slice(0,z);break}}}y&&!v&&(D=e(D,1/0));var $=P.length+D.length+O.length,B=$<x?new Array(x-$+1).join(h):"";switch(y&&v&&(D=e(B+D,B.length?x-O.length:1/0),B=""),p){case"<":D=P+D+O+B;break;case"=":D=P+B+D+O;break;case"^":D=B.slice(0,$=B.length>>1)+P+D+O+B.slice($);break;default:D=B+P+D+O;break}return a(D)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=pu(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Io(h)/3)))*3,g=Math.pow(10,-m),v=nj[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var Md,vw,xP;oZ({thousands:",",grouping:[3],currency:["$",""]});function oZ(t){return Md=sZ(t),vw=Md.format,xP=Md.formatPrefix,Md}function lZ(t){return Math.max(0,-Io(Math.abs(t)))}function cZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Io(e)/3)))*3-Io(Math.abs(t)))}function uZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Io(e)-Io(t))+1}function bP(t,e,r,n){var i=g0(t,e,r),a;switch(n=pu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=cZ(i,s))&&(n.precision=a),xP(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=uZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=lZ(i))&&(n.precision=a-(n.type==="%")*2);break}}return vw(n)}function _a(t){var e=t.domain;return t.ticks=function(r){var n=e();return p0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return bP(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=m0(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function bh(){var t=mw();return t.copy=function(){return Zu(t,bh())},rn.apply(t,arguments),_a(t)}function wP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,yh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return wP(t).unknown(e)},t=arguments.length?Array.from(t,yh):[0,1],_a(r)}function SP(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function ij(t){return Math.log(t)}function aj(t){return Math.exp(t)}function dZ(t){return-Math.log(-t)}function fZ(t){return-Math.exp(-t)}function hZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pZ(t){return t===10?hZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sj(t){return(e,r)=>-t(-e,r)}function yw(t){const e=t(ij,aj),r=e.domain;let n=10,i,a;function s(){return i=mZ(n),a=pZ(n),r()[0]<0?(i=sj(i),a=sj(a),t(dZ,fZ)):t(ij,aj),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=p0(u,d,v))}else x=p0(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=pu(l)).precision==null&&(l.trim=!0),l=vw(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(SP(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function _P(){const t=yw(gm()).domain([1,10]);return t.copy=()=>Zu(t,_P()).base(t.base()),rn.apply(t,arguments),t}function oj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xw(t){var e=1,r=t(oj(e),lj(e));return r.constant=function(n){return arguments.length?t(oj(e=+n),lj(e)):e},_a(r)}function EP(){var t=xw(gm());return t.copy=function(){return Zu(t,EP()).constant(t.constant())},rn.apply(t,arguments)}function cj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vZ(t){return t<0?-t*t:t*t}function bw(t){var e=t(cr,cr),r=1;function n(){return r===1?t(cr,cr):r===.5?t(gZ,vZ):t(cj(r),cj(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},_a(e)}function ww(){var t=bw(gm());return t.copy=function(){return Zu(t,ww()).exponent(t.exponent())},rn.apply(t,arguments),t}function yZ(){return ww.apply(null,arguments).exponent(.5)}function uj(t){return Math.sign(t)*t*t}function xZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jP(){var t=mw(),e=[0,1],r=!1,n;function i(a){var s=xZ(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(uj(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yh)).map(uj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jP(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},rn.apply(i,arguments),_a(i)}function AP(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=EX(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Qu(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ia),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return AP().domain(t).range(e).unknown(n)},rn.apply(a,arguments)}function TP(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Qu(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return TP().domain([t,e]).range(i).unknown(a)},rn.apply(_a(s),arguments)}function NP(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Qu(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return NP().domain(t).range(e).unknown(r)},rn.apply(i,arguments)}const zg=new Date,Wg=new Date;function It(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>It(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(zg.setTime(+a),Wg.setTime(+s),t(zg),t(Wg),Math.floor(r(zg,Wg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const wh=It(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?It(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wh);wh.range;const Jn=1e3,Kr=Jn*60,ei=Kr*60,fi=ei*24,Sw=fi*7,dj=fi*30,Vg=fi*365,Ya=It(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getUTCSeconds());Ya.range;const _w=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jn)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getMinutes());_w.range;const Ew=It(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Kr)},(t,e)=>(e-t)/Kr,t=>t.getUTCMinutes());Ew.range;const jw=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jn-t.getMinutes()*Kr)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getHours());jw.range;const Aw=It(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ei)},(t,e)=>(e-t)/ei,t=>t.getUTCHours());Aw.range;const Ju=It(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/fi,t=>t.getDate()-1);Ju.range;const vm=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>t.getUTCDate()-1);vm.range;const CP=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fi,t=>Math.floor(t/fi));CP.range;function As(t){return It(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/Sw)}const ym=As(0),Sh=As(1),bZ=As(2),wZ=As(3),$o=As(4),SZ=As(5),_Z=As(6);ym.range;Sh.range;bZ.range;wZ.range;$o.range;SZ.range;_Z.range;function Ts(t){return It(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Sw)}const xm=Ts(0),_h=Ts(1),EZ=Ts(2),jZ=Ts(3),Lo=Ts(4),AZ=Ts(5),TZ=Ts(6);xm.range;_h.range;EZ.range;jZ.range;Lo.range;AZ.range;TZ.range;const Tw=It(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Tw.range;const Nw=It(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nw.range;const hi=It(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});hi.range;const pi=It(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});pi.range;function kP(t,e,r,n,i,a){const s=[[Ya,1,Jn],[Ya,5,5*Jn],[Ya,15,15*Jn],[Ya,30,30*Jn],[a,1,Kr],[a,5,5*Kr],[a,15,15*Kr],[a,30,30*Kr],[i,1,ei],[i,3,3*ei],[i,6,6*ei],[i,12,12*ei],[n,1,fi],[n,2,2*fi],[r,1,Sw],[e,1,dj],[e,3,3*dj],[t,1,Vg]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=uw(([,,v])=>v).right(s,h);if(p===s.length)return t.every(g0(u/Vg,d/Vg,f));if(p===0)return wh.every(Math.max(g0(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[NZ,CZ]=kP(pi,Nw,xm,CP,Aw,Ew),[kZ,OZ]=kP(hi,Tw,ym,Ju,jw,_w);function Gg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ql(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function DZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Yl(i),d=Kl(i),f=Yl(a),h=Kl(a),p=Yl(s),m=Kl(s),g=Yl(o),v=Kl(o),x=Yl(l),y=Kl(l),b={a:M,A:$,b:B,B:U,c:null,d:vj,e:vj,f:tJ,g:dJ,G:hJ,H:ZZ,I:JZ,j:eJ,L:OP,m:rJ,M:nJ,p:H,q:V,Q:bj,s:wj,S:iJ,u:aJ,U:sJ,V:oJ,w:lJ,W:cJ,x:null,X:null,y:uJ,Y:fJ,Z:pJ,"%":xj},S={a:q,A:re,b:se,B:fe,c:null,d:yj,e:yj,f:yJ,g:NJ,G:kJ,H:mJ,I:gJ,j:vJ,L:PP,m:xJ,M:bJ,p:_e,q:pe,Q:bj,s:wj,S:wJ,u:SJ,U:_J,V:EJ,w:jJ,W:AJ,x:null,X:null,y:TJ,Y:CJ,Z:OJ,"%":xj},w={a:k,A:D,b:P,B:O,c:z,d:mj,e:mj,f:YZ,g:pj,G:hj,H:gj,I:gj,j:WZ,L:qZ,m:zZ,M:VZ,p:A,q:HZ,Q:QZ,s:XZ,S:GZ,u:$Z,U:LZ,V:FZ,w:IZ,W:BZ,x:W,X:G,y:pj,Y:hj,Z:UZ,"%":KZ};b.x=_(r,b),b.X=_(n,b),b.c=_(e,b),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(X,oe){return function(ne){var T=[],N=-1,R=0,L=X.length,Y,ee,ae;for(ne instanceof Date||(ne=new Date(+ne));++N<L;)X.charCodeAt(N)===37&&(T.push(X.slice(R,N)),(ee=fj[Y=X.charAt(++N)])!=null?Y=X.charAt(++N):ee=Y==="e"?" ":"0",(ae=oe[Y])&&(Y=ae(ne,ee)),T.push(Y),R=N+1);return T.push(X.slice(R,N)),T.join("")}}function j(X,oe){return function(ne){var T=ql(1900,void 0,1),N=E(T,X,ne+="",0),R,L;if(N!=ne.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(oe&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(R=qg(ql(T.y,0,1)),L=R.getUTCDay(),R=L>4||L===0?_h.ceil(R):_h(R),R=vm.offset(R,(T.V-1)*7),T.y=R.getUTCFullYear(),T.m=R.getUTCMonth(),T.d=R.getUTCDate()+(T.w+6)%7):(R=Gg(ql(T.y,0,1)),L=R.getDay(),R=L>4||L===0?Sh.ceil(R):Sh(R),R=Ju.offset(R,(T.V-1)*7),T.y=R.getFullYear(),T.m=R.getMonth(),T.d=R.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),L="Z"in T?qg(ql(T.y,0,1)).getUTCDay():Gg(ql(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(L+5)%7:T.w+T.U*7-(L+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,qg(T)):Gg(T)}}function E(X,oe,ne,T){for(var N=0,R=oe.length,L=ne.length,Y,ee;N<R;){if(T>=L)return-1;if(Y=oe.charCodeAt(N++),Y===37){if(Y=oe.charAt(N++),ee=w[Y in fj?oe.charAt(N++):Y],!ee||(T=ee(X,ne,T))<0)return-1}else if(Y!=ne.charCodeAt(T++))return-1}return T}function A(X,oe,ne){var T=u.exec(oe.slice(ne));return T?(X.p=d.get(T[0].toLowerCase()),ne+T[0].length):-1}function k(X,oe,ne){var T=p.exec(oe.slice(ne));return T?(X.w=m.get(T[0].toLowerCase()),ne+T[0].length):-1}function D(X,oe,ne){var T=f.exec(oe.slice(ne));return T?(X.w=h.get(T[0].toLowerCase()),ne+T[0].length):-1}function P(X,oe,ne){var T=x.exec(oe.slice(ne));return T?(X.m=y.get(T[0].toLowerCase()),ne+T[0].length):-1}function O(X,oe,ne){var T=g.exec(oe.slice(ne));return T?(X.m=v.get(T[0].toLowerCase()),ne+T[0].length):-1}function z(X,oe,ne){return E(X,e,oe,ne)}function W(X,oe,ne){return E(X,r,oe,ne)}function G(X,oe,ne){return E(X,n,oe,ne)}function M(X){return s[X.getDay()]}function $(X){return a[X.getDay()]}function B(X){return l[X.getMonth()]}function U(X){return o[X.getMonth()]}function H(X){return i[+(X.getHours()>=12)]}function V(X){return 1+~~(X.getMonth()/3)}function q(X){return s[X.getUTCDay()]}function re(X){return a[X.getUTCDay()]}function se(X){return l[X.getUTCMonth()]}function fe(X){return o[X.getUTCMonth()]}function _e(X){return i[+(X.getUTCHours()>=12)]}function pe(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var oe=_(X+="",b);return oe.toString=function(){return X},oe},parse:function(X){var oe=j(X+="",!1);return oe.toString=function(){return X},oe},utcFormat:function(X){var oe=_(X+="",S);return oe.toString=function(){return X},oe},utcParse:function(X){var oe=j(X+="",!0);return oe.toString=function(){return X},oe}}}var fj={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,PZ=/^%/,MZ=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function RZ(t){return t.replace(MZ,"\\$&")}function Yl(t){return new RegExp("^(?:"+t.map(RZ).join("|")+")","i")}function Kl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function IZ(t,e,r){var n=Ht.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function $Z(t,e,r){var n=Ht.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function LZ(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function FZ(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function BZ(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function hj(t,e,r){var n=Ht.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function pj(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function UZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HZ(t,e,r){var n=Ht.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function zZ(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function mj(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function WZ(t,e,r){var n=Ht.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function gj(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function VZ(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function GZ(t,e,r){var n=Ht.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function qZ(t,e,r){var n=Ht.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function YZ(t,e,r){var n=Ht.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function KZ(t,e,r){var n=PZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function QZ(t,e,r){var n=Ht.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function XZ(t,e,r){var n=Ht.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function vj(t,e){return Le(t.getDate(),e,2)}function ZZ(t,e){return Le(t.getHours(),e,2)}function JZ(t,e){return Le(t.getHours()%12||12,e,2)}function eJ(t,e){return Le(1+Ju.count(hi(t),t),e,3)}function OP(t,e){return Le(t.getMilliseconds(),e,3)}function tJ(t,e){return OP(t,e)+"000"}function rJ(t,e){return Le(t.getMonth()+1,e,2)}function nJ(t,e){return Le(t.getMinutes(),e,2)}function iJ(t,e){return Le(t.getSeconds(),e,2)}function aJ(t){var e=t.getDay();return e===0?7:e}function sJ(t,e){return Le(ym.count(hi(t)-1,t),e,2)}function DP(t){var e=t.getDay();return e>=4||e===0?$o(t):$o.ceil(t)}function oJ(t,e){return t=DP(t),Le($o.count(hi(t),t)+(hi(t).getDay()===4),e,2)}function lJ(t){return t.getDay()}function cJ(t,e){return Le(Sh.count(hi(t)-1,t),e,2)}function uJ(t,e){return Le(t.getFullYear()%100,e,2)}function dJ(t,e){return t=DP(t),Le(t.getFullYear()%100,e,2)}function fJ(t,e){return Le(t.getFullYear()%1e4,e,4)}function hJ(t,e){var r=t.getDay();return t=r>=4||r===0?$o(t):$o.ceil(t),Le(t.getFullYear()%1e4,e,4)}function pJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function yj(t,e){return Le(t.getUTCDate(),e,2)}function mJ(t,e){return Le(t.getUTCHours(),e,2)}function gJ(t,e){return Le(t.getUTCHours()%12||12,e,2)}function vJ(t,e){return Le(1+vm.count(pi(t),t),e,3)}function PP(t,e){return Le(t.getUTCMilliseconds(),e,3)}function yJ(t,e){return PP(t,e)+"000"}function xJ(t,e){return Le(t.getUTCMonth()+1,e,2)}function bJ(t,e){return Le(t.getUTCMinutes(),e,2)}function wJ(t,e){return Le(t.getUTCSeconds(),e,2)}function SJ(t){var e=t.getUTCDay();return e===0?7:e}function _J(t,e){return Le(xm.count(pi(t)-1,t),e,2)}function MP(t){var e=t.getUTCDay();return e>=4||e===0?Lo(t):Lo.ceil(t)}function EJ(t,e){return t=MP(t),Le(Lo.count(pi(t),t)+(pi(t).getUTCDay()===4),e,2)}function jJ(t){return t.getUTCDay()}function AJ(t,e){return Le(_h.count(pi(t)-1,t),e,2)}function TJ(t,e){return Le(t.getUTCFullYear()%100,e,2)}function NJ(t,e){return t=MP(t),Le(t.getUTCFullYear()%100,e,2)}function CJ(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function kJ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Lo(t):Lo.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function OJ(){return"+0000"}function xj(){return"%"}function bj(t){return+t}function wj(t){return Math.floor(+t/1e3)}var Fs,RP,IP;DJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DJ(t){return Fs=DZ(t),RP=Fs.format,Fs.parse,IP=Fs.utcFormat,Fs.utcParse,Fs}function PJ(t){return new Date(t)}function MJ(t){return t instanceof Date?+t:+new Date(+t)}function Cw(t,e,r,n,i,a,s,o,l,u){var d=mw(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),S=u("%Y");function w(_){return(l(_)<_?p:o(_)<_?m:s(_)<_?g:a(_)<_?v:n(_)<_?i(_)<_?x:y:r(_)<_?b:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,MJ)):h().map(PJ)},d.ticks=function(_){var j=h();return t(j[0],j[j.length-1],_??10)},d.tickFormat=function(_,j){return j==null?w:u(j)},d.nice=function(_){var j=h();return(!_||typeof _.range!="function")&&(_=e(j[0],j[j.length-1],_??10)),_?h(SP(j,_)):d},d.copy=function(){return Zu(d,Cw(t,e,r,n,i,a,s,o,l,u))},d}function RJ(){return rn.apply(Cw(kZ,OZ,hi,Tw,ym,Ju,jw,_w,Ya,RP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IJ(){return rn.apply(Cw(NZ,CZ,pi,Nw,xm,vm,Aw,Ew,Ya,IP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bm(){var t=0,e=1,r,n,i,a,s=cr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(El),u.rangeRound=d(pw),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Ea(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $P(){var t=_a(bm()(cr));return t.copy=function(){return Ea(t,$P())},wi.apply(t,arguments)}function LP(){var t=yw(bm()).domain([1,10]);return t.copy=function(){return Ea(t,LP()).base(t.base())},wi.apply(t,arguments)}function FP(){var t=xw(bm());return t.copy=function(){return Ea(t,FP()).constant(t.constant())},wi.apply(t,arguments)}function kw(){var t=bw(bm());return t.copy=function(){return Ea(t,kw()).exponent(t.exponent())},wi.apply(t,arguments)}function $J(){return kw.apply(null,arguments).exponent(.5)}function BP(){var t=[],e=cr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Qu(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ia),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>_X(t,a/n))},r.copy=function(){return BP(e).domain(t)},wi.apply(r,arguments)}function wm(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=cr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=KX(g,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(El),p.rangeRound=m(pw),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function UP(){var t=_a(wm()(cr));return t.copy=function(){return Ea(t,UP())},wi.apply(t,arguments)}function HP(){var t=yw(wm()).domain([.1,1,10]);return t.copy=function(){return Ea(t,HP()).base(t.base())},wi.apply(t,arguments)}function zP(){var t=xw(wm());return t.copy=function(){return Ea(t,zP()).constant(t.constant())},wi.apply(t,arguments)}function Ow(){var t=bw(wm());return t.copy=function(){return Ea(t,Ow()).exponent(t.exponent())},wi.apply(t,arguments)}function LJ(){return Ow.apply(null,arguments).exponent(.5)}const Sj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uu,scaleDiverging:UP,scaleDivergingLog:HP,scaleDivergingPow:Ow,scaleDivergingSqrt:LJ,scaleDivergingSymlog:zP,scaleIdentity:wP,scaleImplicit:v0,scaleLinear:bh,scaleLog:_P,scaleOrdinal:dw,scalePoint:Tc,scalePow:ww,scaleQuantile:AP,scaleQuantize:TP,scaleRadial:jP,scaleSequential:$P,scaleSequentialLog:LP,scaleSequentialPow:kw,scaleSequentialQuantile:BP,scaleSequentialSqrt:$J,scaleSequentialSymlog:FP,scaleSqrt:yZ,scaleSymlog:EP,scaleThreshold:NP,scaleTime:RJ,scaleUtc:IJ,tickFormat:bP},Symbol.toStringTag,{value:"Module"}));var FJ=ml;function BJ(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!FJ(s):r(s,o)))var o=s,l=a}return l}var WP=BJ;function UJ(t,e){return t>e}var HJ=UJ,zJ=WP,WJ=HJ,VJ=_l;function GJ(t){return t&&t.length?zJ(t,VJ,WJ):void 0}var qJ=GJ;const Ui=Ze(qJ);function YJ(t,e){return t<e}var KJ=YJ,QJ=WP,XJ=KJ,ZJ=_l;function JJ(t){return t&&t.length?QJ(t,ZJ,XJ):void 0}var eee=JJ;const Sm=Ze(eee);var tee=Vb,ree=Sa,nee=JD,iee=jr;function aee(t,e){var r=iee(t)?tee:nee;return r(t,ree(e))}var see=aee,oee=XD,lee=see;function cee(t,e){return oee(lee(t,e),1)}var uee=cee;const dee=Ze(uee);var fee=aw;function hee(t,e){return fee(t,e)}var pee=hee;const fs=Ze(pee);var jl=1e9,mee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Pw,ht=!0,en="[DecimalError] ",es=en+"Invalid argument: ",Dw=en+"Exponent out of range: ",Al=Math.floor,Ia=Math.pow,gee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Ft=1e7,ut=7,VP=9007199254740991,Eh=Al(VP/ut),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ut;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return si(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return et(si(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Nt(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(kr))throw Error(en+"NaN");if(r.s<1)throw Error(en+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new n(0):(ht=!1,e=si(mu(r,a),mu(t,a),a),ht=!0,et(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YP(e,t):GP(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(en+"NaN");return r.s?(ht=!1,e=si(r,t,0,1).times(t),ht=!0,r.minus(e)):et(new n(r),i)};ve.naturalExponential=ve.exp=function(){return qP(this)};ve.naturalLogarithm=ve.ln=function(){return mu(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GP(e,t):YP(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(es+t);if(e=Nt(i)+1,n=i.d.length-1,r=n*ut+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(en+"NaN")}for(t=Nt(o),ht=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=kn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Al((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(si(o,a,s+2)).times(.5),kn(a.d).slice(0,s)===(e=kn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(et(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return ht=!0,et(n,r)};ve.times=ve.mul=function(t){var e,r,n,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+e,a[i--]=o%Ft|0,e=o/Ft|0;a[i]=(a[i]+e)%Ft|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ht?et(t,f.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ln(t,0,jl),e===void 0?e=n.rounding:Ln(e,0,8),et(r,t+Nt(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=hs(n,!0):(Ln(t,0,jl),e===void 0?e=i.rounding:Ln(e,0,8),n=et(new i(n),t+1,e),r=hs(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?hs(i):(Ln(t,0,jl),e===void 0?e=a.rounding:Ln(e,0,8),n=et(new a(i),t+Nt(i)+1,e),r=hs(n.abs(),!1,t+Nt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return et(new e(t),Nt(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(kr);if(o=new l(o),!o.s){if(t.s<1)throw Error(en+"Infinity");return o}if(o.eq(kr))return o;if(n=l.precision,t.eq(kr))return et(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=VP){for(i=new l(kr),e=Math.ceil(n/ut+4),ht=!1;r%2&&(i=i.times(o),Ej(i.d,e)),r=Al(r/2),r!==0;)o=o.times(o),Ej(o.d,e);return ht=!0,t.s<0?new l(kr).div(i):et(i,n)}}else if(a<0)throw Error(en+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ht=!1,i=t.times(mu(o,n+u)),ht=!0,i=qP(i),i.s=a,i};ve.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Nt(i),n=hs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ln(t,1,jl),e===void 0?e=a.rounding:Ln(e,0,8),i=et(new a(i),t,e),r=Nt(i),n=hs(i,t<=r||r<=a.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ln(t,1,jl),e===void 0?e=n.rounding:Ln(e,0,8)),et(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nt(t),r=t.constructor;return hs(t,e<=r.toExpNeg||e>=r.toExpPos)};function GP(t,e){var r,n,i,a,s,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ht?et(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/ut),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Ft|0,l[a]%=Ft;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ht?et(e,f):e}function Ln(t,e,r){if(t!==~~t||t<e||t>r)throw Error(es+t)}function kn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=ut-n.length,r&&(a+=Pi(r)),a+=n;s=t[e],n=s+"",r=ut-n.length,r&&(a+=Pi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var si=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ft|0,s=a/Ft|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ft+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,h,p,m,g,v,x,y,b,S,w,_,j,E,A=n.constructor,k=n.s==i.s?1:-1,D=n.d,P=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(en+"Division by zero");for(l=n.e-i.e,j=P.length,w=D.length,p=new A(k),m=p.d=[],u=0;P[u]==(D[u]||0);)++u;if(P[u]>(D[u]||0)&&--l,a==null?y=a=A.precision:s?y=a+(Nt(n)-Nt(i))+1:y=a,y<0)return new A(0);if(y=y/ut+2|0,u=0,j==1)for(d=0,P=P[0],y++;(u<w||d)&&y--;u++)b=d*Ft+(D[u]||0),m[u]=b/P|0,d=b%P|0;else{for(d=Ft/(P[0]+1)|0,d>1&&(P=t(P,d),D=t(D,d),j=P.length,w=D.length),S=j,g=D.slice(0,j),v=g.length;v<j;)g[v++]=0;E=P.slice(),E.unshift(0),_=P[0],P[1]>=Ft/2&&++_;do d=0,o=e(P,g,j,v),o<0?(x=g[0],j!=v&&(x=x*Ft+(g[1]||0)),d=x/_|0,d>1?(d>=Ft&&(d=Ft-1),f=t(P,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,r(f,j<h?E:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=e(P,g,j,v),o<1&&(d++,r(g,j<v?E:P,v))),v=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[v++]=D[S]||0:(g=[D[S]],v=1);while((S++<w||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,et(p,s?a+Nt(p)+1:a)}}();function qP(t,e){var r,n,i,a,s,o,l=0,u=0,d=t.constructor,f=d.precision;if(Nt(t)>16)throw Error(Dw+Nt(t));if(!t.s)return new d(kr);for(e==null?(ht=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Ia(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(kr),d.precision=o;;){if(i=et(i.times(t),o),r=r.times(++l),s=a.plus(si(i,r,o)),kn(s.d).slice(0,o)===kn(a.d).slice(0,o)){for(;u--;)a=et(a.times(a),o);return d.precision=f,e==null?(ht=!0,et(a,f)):a}a=s}}function Nt(t){for(var e=t.e*ut,r=t.d[0];r>=10;r/=10)e++;return e}function Yg(t,e,r){if(e>t.LN10.sd())throw ht=!0,r&&(t.precision=r),Error(en+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Pi(t){for(var e="";t--;)e+="0";return e}function mu(t,e){var r,n,i,a,s,o,l,u,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(en+(p.s?"NaN":"-Infinity"));if(p.eq(kr))return new g(0);if(e==null?(ht=!1,u=v):u=e,p.eq(10))return e==null&&(ht=!0),Yg(g,u);if(u+=h,g.precision=u,r=kn(m),n=r.charAt(0),a=Nt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=kn(p.d),n=r.charAt(0),f++;a=Nt(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=Yg(g,u+2,v).times(a+""),p=mu(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(ht=!0,et(p,v)):p;for(o=s=p=si(p.minus(kr),p.plus(kr),u),d=et(p.times(p),u),i=3;;){if(s=et(s.times(d),u),l=o.plus(si(s,new g(i),u)),kn(l.d).slice(0,u)===kn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Yg(g,u+2,v).times(a+""))),o=si(o,new g(f),u),g.precision=v,e==null?(ht=!0,et(o,v)):o;o=l,i+=2}}function _j(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Al(r/ut),t.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ut;n<i;)t.d.push(+e.slice(n,n+=ut));e=e.slice(n),n=ut-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ht&&(t.e>Eh||t.e<-Eh))throw Error(Dw+r)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,r){var n,i,a,s,o,l,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=ut,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ut),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=ut,i=n-ut+s}if(r!==void 0&&(a=Ia(10,s-i-1),o=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Ia(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Nt(t),f.length=1,e=e-a-1,f[0]=Ia(10,(ut-e%ut)%ut),t.e=Al(-e/ut)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ia(10,ut-n),f[d]=i>0?(u/Ia(10,s-i)%Ia(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Ft&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Ft)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ht&&(t.e>Eh||t.e<-Eh))throw Error(Dw+Nt(t));return t}function YP(t,e){var r,n,i,a,s,o,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?et(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(p/ut),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ft-1;--l[a],l[i]+=Ft}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ht?et(e,p):e):new h(0)}function hs(t,e,r){var n,i=Nt(t),a=kn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Pi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Pi(-i-1)+a,r&&(n=r-s)>0&&(a+=Pi(n))):i>=s?(a+=Pi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Pi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Pi(n))),t.s<0?"-"+a:a}function Ej(t,e){if(t.length>e)return t.length=e,!0}function KP(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(es+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return _j(s,a.toString())}else if(typeof a!="string")throw Error(es+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,gee.test(a))_j(s,a);else throw Error(es+a)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KP,i.config=i.set=vee,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function vee(t){if(!t||typeof t!="object")throw Error(en+"Object expected");var e,r,n,i=["precision",1,jl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Al(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(es+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(es+r+": "+n);return this}var Pw=KP(mee);kr=new Pw(1);const Xe=Pw;function yee(t){return See(t)||wee(t)||bee(t)||xee()}function xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bee(t,e){if(t){if(typeof t=="string")return w0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(t,e)}}function wee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function See(t){if(Array.isArray(t))return w0(t)}function w0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _ee=function(e){return e},QP={"@@functional/placeholder":!0},XP=function(e){return e===QP},jj=function(e){return function r(){return arguments.length===0||arguments.length===1&&XP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Eee=function t(e,r){return e===1?r:jj(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==QP}).length;return s>=e?r.apply(void 0,i):t(e-s,jj(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(f){return XP(f)?l.shift():f});return r.apply(void 0,yee(d).concat(l))}))})},_m=function(e){return Eee(e.length,e)},S0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},jee=_m(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Aee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return _ee;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},_0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZP=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Tee(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function Nee(t,e,r){for(var n=new Xe(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Cee=_m(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),kee=_m(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Oee=_m(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Em={rangeStep:Nee,getDigitCount:Tee,interpolateNumber:Cee,uninterpolateNumber:kee,uninterpolateTruncation:Oee};function E0(t){return Mee(t)||Pee(t)||JP(t)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mee(t){if(Array.isArray(t))return j0(t)}function gu(t,e){return $ee(t)||Iee(t,e)||JP(t,e)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JP(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function $ee(t){if(Array.isArray(t))return t}function e2(t){var e=gu(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function t2(t,e,r){if(t.lte(0))return new Xe(0);var n=Em.getDigitCount(t.toNumber()),i=new Xe(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Xe(Math.ceil(l))}function Lee(t,e,r){var n=1,i=new Xe(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Xe(10).pow(Em.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var s=Math.floor((e-1)/2),o=Aee(jee(function(l){return i.add(new Xe(l-s).mul(n)).toNumber()}),S0);return o(0,e)}function r2(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=t2(new Xe(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Xe(0):(s=new Xe(t).add(e).div(2),s=s.sub(new Xe(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Xe(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?r2(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Xe(o).mul(a)),tickMax:s.add(new Xe(l).mul(a))})}function Fee(t){var e=gu(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=e2([r,n]),l=gu(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(E0(S0(0,i-1).map(function(){return 1/0}))):[].concat(E0(S0(0,i-1).map(function(){return-1/0})),[d]);return r>n?_0(f):f}if(u===d)return Lee(u,i,a);var h=r2(u,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,v=Em.rangeStep(m,g.add(new Xe(.1).mul(p)),p);return r>n?_0(v):v}function Bee(t,e){var r=gu(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=e2([n,i]),o=gu(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=t2(new Xe(u).sub(l).div(d-1),a,0),h=[].concat(E0(Em.rangeStep(new Xe(l),new Xe(u).sub(new Xe(.99).mul(f)),f)),[u]);return n>i?_0(h):h}var Uee=ZP(Fee),Hee=ZP(Bee),zee=!0,Kg="Invariant failed";function ps(t,e){if(!t){if(zee)throw new Error(Kg);var r=typeof e=="function"?e():e,n=r?"".concat(Kg,": ").concat(r):Kg;throw new Error(n)}}var Wee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jh.apply(this,arguments)}function Vee(t,e){return Kee(t)||Yee(t,e)||qee(t,e)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qee(t,e){if(t){if(typeof t=="string")return Aj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(t,e)}}function Aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Kee(t){if(Array.isArray(t))return t}function Qee(t,e){if(t==null)return{};var r=Xee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a2(n.key),n)}}function Jee(t,e,r){return e&&Tj(t.prototype,e),r&&Tj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ete(t,e,r){return e=Ah(e),tte(t,n2()?Reflect.construct(e,r||[],Ah(t).constructor):e.apply(t,r))}function tte(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rte(t)}function rte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n2=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}function nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A0(t,e)}function i2(t,e,r){return e=a2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a2(t){var e=ite(t,"string");return Fo(e)=="symbol"?e:e+""}function ite(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tl=function(t){function e(){return Zee(this,e),ete(this,e,arguments)}return nte(e,t),Jee(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Qee(n,Wee),p=Ne(h,!1);this.props.direction==="x"&&d.type!=="number"&&ps(!1);var m=l.map(function(g){var v=u(g,o),x=v.x,y=v.y,b=v.value,S=v.errorVal;if(!S)return null;var w=[],_,j;if(Array.isArray(S)){var E=Vee(S,2);_=E[0],j=E[1]}else _=j=S;if(a==="vertical"){var A=d.scale,k=y+i,D=k+s,P=k-s,O=A(b-_),z=A(b+j);w.push({x1:z,y1:D,x2:z,y2:P}),w.push({x1:O,y1:k,x2:z,y2:k}),w.push({x1:O,y1:D,x2:O,y2:P})}else if(a==="horizontal"){var W=f.scale,G=x+i,M=G-s,$=G+s,B=W(b-_),U=W(b+j);w.push({x1:M,y1:U,x2:$,y2:U}),w.push({x1:G,y1:B,x2:G,y2:U}),w.push({x1:M,y1:B,x2:$,y2:B})}return I.createElement(Fe,jh({className:"recharts-errorBar",key:"bar-".concat(w.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),w.map(function(H){return I.createElement("line",jh({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return I.createElement(Fe,{className:"recharts-errorBars"},m)}}])}(I.Component);i2(Tl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});i2(Tl,"displayName","ErrorBar");function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function Nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nj(Object(r),!0).forEach(function(n){ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ate(t,e,r){return e=ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ste(t){var e=ote(t,"string");return vu(e)=="symbol"?e:e+""}function ote(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s2=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Cr(r,na);if(!s)return null;var o=na.defaultProps,l=o!==void 0?Ca(Ca({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ca(Ca({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:Mw(f),value:g||m,payload:p}}),Ca(Ca(Ca({},l),na.getWithHeight(s,i)),{},{payload:u,item:s})};function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Cj(t){return dte(t)||ute(t)||cte(t)||lte()}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(t,e){if(t){if(typeof t=="string")return T0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(t,e)}}function ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dte(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){yo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yo(t,e,r){return e=fte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fte(t){var e=hte(t,"string");return yu(e)=="symbol"?e:e+""}function hte(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rt(t,e,r){return je(t)||je(e)?r:Mt(e)?Xr(t,e,r):Ce(e)?e(t):r}function Nc(t,e,r,n){var i=dee(t,function(o){return Rt(o,e)});if(r==="number"){var a=i.filter(function(o){return ie(o)||parseFloat(o)});return a.length?[Sm(a),Ui(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!je(o)}):i;return s.map(function(o){return Mt(o)||o instanceof Date?o:""})}var pte=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(mn(f-d)!==mn(h-f)){var m=[];if(mn(h-f)===mn(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(e>(y+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},Mw=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},mte=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,x=g.filter(function(j){return ii(j.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?wt(wt({},y),x[0].props):x[0].props,S=b.barSize,w=b[v];s[w]||(s[w]=[]);var _=je(S)?r:S;s[w].push({item:x[0],stackList:x.slice(1),barSize:je(_)?void 0:ds(_,n,0)})}}return s},gte=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=ds(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(S,w){var _={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},j=[].concat(Cj(S),[_]);return v=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var x=ds(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(S,w,_){var j=[].concat(Cj(S),[{item:w.item,position:{offset:x+(y+u)*_+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},vte=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=s2({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ie(e[p]))return wt(wt({},e),{},yo({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ie(e[m]))return wt(wt({},e),{},yo({},m,e[m]+(h||0)))}return e},yte=function(e,r,n){return je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},o2=function(e,r,n,i,a){var s=r.props.children,o=Er(s,Tl).filter(function(u){return yte(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Rt(d,n);if(je(f))return u;var h=Array.isArray(f)?[Sm(f),Ui(f)]:[f,f],p=l.reduce(function(m,g){var v=Rt(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},xte=function(e,r,n,i,a){var s=r.map(function(o){return o2(e,o,n,a,i)}).filter(function(o){return!je(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},l2=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&o2(e,l,u,i)||Nc(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},c2=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},u2=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},ti=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?mn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!bl(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Qg=new WeakMap,Rd=function(e,r){if(typeof r!="function")return e;Qg.has(e)||Qg.set(e,new WeakMap);var n=Qg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},bte=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:uu(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:bh(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Tc(),realScaleType:"point"}:a==="category"?{scale:uu(),realScaleType:"band"}:{scale:bh(),realScaleType:"linear"};if(us(i)){var l="scale".concat(lm(i));return{scale:(Sj[l]||Tc)(),realScaleType:Sj[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:Tc(),realScaleType:"point"}},Oj=1e-4,wte=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-Oj,s=Math.max(i[0],i[1])+Oj,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},Ste=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},_te=function(e,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ie(e[0])||e[0]<n)&&(a[0]=n),(!ie(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Ete=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=bl(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},jte=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=bl(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Ate={sign:Ete,expand:WW,none:Oo,silhouette:VW,wiggle:GW,positive:jte},Tte=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Ate[n],s=zW().keys(i).value(function(o,l){return+Rt(o,l,0)}).order(Xy).offset(a);return s(e)},Nte=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Mt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[js("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return wt(wt({},f),{},yo({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return wt(wt({},g),{},yo({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Tte(e,x.items,a)}))},m)}return wt(wt({},f),{},yo({},h,p))},d)},Cte=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Uee(u,a,o);return e.domain([Sm(d),Ui(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=Hee(f,a,o);return{niceTicks:h}}return null};function Bo(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!je(i[e.dataKey])){var o=Zf(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Rt(i,je(s)?e.dataKey:s);return je(l)?null:e.scale(l)}var Dj=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=Rt(s,r.dataKey,r.domain[o]);return je(l)?null:r.scale(l)-a/2+i},kte=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Ote=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Mt(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Dte=function(e){return e.reduce(function(r,n){return[Sm(n.concat([r[0]]).filter(ie)),Ui(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},d2=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var f=Dte(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Pj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N0=function(e,r,n){if(Ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ie(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(Pj.test(e[0])){var a=+Pj.exec(e[0])[1];i[0]=r[0]-a}else Ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ie(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(Mj.test(e[1])){var s=+Mj.exec(e[1])[1];i[1]=r[1]+s}else Ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Th=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=ow(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},Rj=function(e,r,n){return!e||!e.length||fs(e,Xr(n,"type.defaultProps.domain"))?r:e},f2=function(e,r){var n=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return wt(wt({},Ne(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:Mw(e),value:Rt(r,i),type:l,payload:r,chartType:u,hide:d})};function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function Ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(r),!0).forEach(function(n){Pte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pte(t,e,r){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mte(t){var e=Rte(t,"string");return xu(e)=="symbol"?e:e+""}function Rte(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nh=Math.PI/180,Ite=function(e){return e*180/Math.PI},Yt=function(e,r,n,i){return{x:e+Math.cos(-Nh*i)*n,y:r+Math.sin(-Nh*i)*n}},$te=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Lte=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=$te({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:Ite(u),angleInRadian:u}},Fte=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Bte=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},Lj=function(e,r){var n=e.x,i=e.y,a=Lte({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=Fte(r),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?$j($j({},r),{},{radius:s,angle:Bte(p,r)}):null};function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}var Ute=["offset"];function Hte(t){return Gte(t)||Vte(t)||Wte(t)||zte()}function zte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(t,e){if(t){if(typeof t=="string")return C0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C0(t,e)}}function Vte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gte(t){if(Array.isArray(t))return C0(t)}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qte(t,e){if(t==null)return{};var r=Yte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){Kte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kte(t,e,r){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qte(t){var e=Xte(t,"string");return bu(e)=="symbol"?e:e+""}function Xte(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}var Zte=function(e){var r=e.value,n=e.formatter,i=je(e.children)?r:e.children;return Ce(n)?n(i):i},Jte=function(e,r){var n=mn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},ere=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,x=Jte(p,m),y=x>=0?1:-1,b,S;i==="insideStart"?(b=p+y*s,S=g):i==="insideEnd"?(b=m-y*s,S=!g):i==="end"&&(b=m+y*s,S=g),S=x<=0?S:!S;var w=Yt(u,d,v,b),_=Yt(u,d,v,b+(S?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),E=je(e.id)?js("recharts-radial-line-"):e.id;return I.createElement("text",wu({},n,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",o)}),I.createElement("defs",null,I.createElement("path",{id:E,d:j})),I.createElement("textPath",{xlinkHref:"#".concat(E)},r))},tre=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Yt(s,o,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Yt(s,o,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},rre=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ot(Ot({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Ot(Ot({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var w={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Ot(Ot({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var _={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Ot(Ot({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return a==="insideLeft"?Ot({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideRight"?Ot({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},j):a==="insideTop"?Ot({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):a==="insideBottom"?Ot({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},j):a==="insideTopLeft"?Ot({x:o+v,y:l+h,textAnchor:y,verticalAnchor:m},j):a==="insideTopRight"?Ot({x:o+u-v,y:l+h,textAnchor:x,verticalAnchor:m},j):a==="insideBottomLeft"?Ot({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:p},j):a==="insideBottomRight"?Ot({x:o+u-v,y:l+d-h,textAnchor:x,verticalAnchor:p},j):gl(a)&&(ie(a.x)||Ga(a.x))&&(ie(a.y)||Ga(a.y))?Ot({x:o+ds(a.x,u),y:l+ds(a.y,d),textAnchor:"end",verticalAnchor:"end"},j):Ot({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},nre=function(e){return"cx"in e&&ie(e.cx)};function rr(t){var e=t.offset,r=e===void 0?5:e,n=qte(t,Ute),i=Ot({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||je(o)&&je(l)&&!C.isValidElement(u)&&!Ce(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var p;if(Ce(u)){if(p=C.createElement(u,i),C.isValidElement(p))return p}else p=Zte(i);var m=nre(a),g=Ne(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ere(i,p,g);var v=m?tre(i):rre(i);return I.createElement(hh,wu({className:Re("recharts-label",f)},g,v,{breakAll:h}),p)}rr.displayName="Label";var h2=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ie(g)&&ie(v)){if(ie(f)&&ie(h))return{x:f,y:h,width:g,height:v};if(ie(p)&&ie(m))return{x:p,y:m,width:g,height:v}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},ire=function(e,r){return e?e===!0?I.createElement(rr,{key:"label-implicit",viewBox:r}):Mt(e)?I.createElement(rr,{key:"label-implicit",viewBox:r,value:e}):C.isValidElement(e)?e.type===rr?C.cloneElement(e,{key:"label-implicit",viewBox:r}):I.createElement(rr,{key:"label-implicit",content:e,viewBox:r}):Ce(e)?I.createElement(rr,{key:"label-implicit",content:e,viewBox:r}):gl(e)?I.createElement(rr,wu({viewBox:r},e,{key:"label-implicit"})):null:null},are=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=h2(e),s=Er(i,rr).map(function(l,u){return C.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=ire(e.label,r||a);return[o].concat(Hte(s))};rr.parseViewBox=h2;rr.renderCallByParent=are;function sre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ore=sre;const lre=Ze(ore);function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}var cre=["valueAccessor"],ure=["data","dataKey","clockWise","id","textBreakAll"];function dre(t){return mre(t)||pre(t)||hre(t)||fre()}function fre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(t,e){if(t){if(typeof t=="string")return k0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(t,e)}}function pre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mre(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ch.apply(this,arguments)}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){gre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gre(t,e,r){return e=vre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vre(t){var e=yre(t,"string");return Su(e)=="symbol"?e:e+""}function yre(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hj(t,e){if(t==null)return{};var r=xre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bre=function(e){return Array.isArray(e.value)?lre(e.value):e.value};function In(t){var e=t.valueAccessor,r=e===void 0?bre:e,n=Hj(t,cre),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=Hj(n,ure);return!i||!i.length?null:I.createElement(Fe,{className:"recharts-label-list"},i.map(function(d,f){var h=je(a)?r(d,f):Rt(d&&d.payload,a),p=je(o)?{}:{id:"".concat(o,"-").concat(f)};return I.createElement(rr,Ch({},Ne(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:rr.parseViewBox(je(s)?d:Uj(Uj({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}In.displayName="LabelList";function wre(t,e){return t?t===!0?I.createElement(In,{key:"labelList-implicit",data:e}):I.isValidElement(t)||Ce(t)?I.createElement(In,{key:"labelList-implicit",data:e,content:t}):gl(t)?I.createElement(In,Ch({data:e},t,{key:"labelList-implicit"})):null:null}function Sre(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Er(n,In).map(function(s,o){return C.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=wre(t.label,e);return[a].concat(dre(i))}In.renderCallByParent=Sre;function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(r),!0).forEach(function(n){_re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _re(t,e,r){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ere(t){var e=jre(t,"string");return _u(e)=="symbol"?e:e+""}function jre(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Are=function(e,r){var n=mn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Id=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/Nh,h=u?a:a+s*f,p=Yt(r,n,d,h),m=Yt(r,n,i,h),g=u?a-s*f:a,v=Yt(r,n,d*Math.cos(f*Nh),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},p2=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Are(s,o),u=s+l,d=Yt(r,n,a,s),f=Yt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Yt(r,n,i,s),m=Yt(r,n,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Tre=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=mn(d-u),h=Id({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=Id({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(S<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):p2({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var _=Id({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=_.circleTangency,E=_.lineTangency,A=_.theta,k=Id({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=k.circleTangency,P=k.lineTangency,O=k.theta,z=l?Math.abs(u-d):Math.abs(u-d)-A-O;if(z<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Nre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},m2=function(e){var r=Wj(Wj({},Nre),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=Re("recharts-sector",h),m=s-a,g=ds(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Tre({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=p2({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),I.createElement("path",O0({},Ne(r,!0),{className:p,d:v,role:"img"}))};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function Vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(r),!0).forEach(function(n){Cre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cre(t,e,r){return e=kre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kre(t){var e=Ore(t,"string");return Eu(e)=="symbol"?e:e+""}function Ore(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qj={curveBasisClosed:DW,curveBasisOpen:PW,curveBasis:OW,curveBumpX:vW,curveBumpY:yW,curveLinearClosed:MW,curveLinear:um,curveMonotoneX:RW,curveMonotoneY:IW,curveNatural:$W,curveStep:LW,curveStepAfter:BW,curveStepBefore:FW},$d=function(e){return e.x===+e.x&&e.y===+e.y},Ql=function(e){return e.x},Xl=function(e){return e.y},Dre=function(e,r){if(Ce(e))return e;var n="curve".concat(lm(e));return(n==="curveMonotone"||n==="curveBump")&&r?qj["".concat(n).concat(r==="vertical"?"Y":"X")]:qj[n]||um},Pre=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=Dre(n,o),f=u?a.filter(function(g){return $d(g)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return $d(g)}):s,m=f.map(function(g,v){return Gj(Gj({},g),{},{base:p[v]})});return o==="vertical"?h=Td().y(Xl).x1(Ql).x0(function(g){return g.base.x}):h=Td().x(Ql).y1(Xl).y0(function(g){return g.base.y}),h.defined($d).curve(d),h(m)}return o==="vertical"&&ie(s)?h=Td().y(Xl).x1(Ql).x0(s):ie(s)?h=Td().x(Ql).y1(Xl).y0(s):h=gD().x(Ql).y(Xl),h.defined($d).curve(d),h(f)},ts=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Pre(e):i;return C.createElement("path",D0({},Ne(e,!1),Jf(e),{className:Re("recharts-curve",r),d:s,ref:a}))},g2={exports:{}},Mre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rre=Mre,Ire=Rre;function v2(){}function y2(){}y2.resetWarningCache=v2;var $re=function(){function t(n,i,a,s,o,l){if(l!==Ire){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y2,resetWarningCache:v2};return r.PropTypes=r,r};g2.exports=$re();var Lre=g2.exports;const He=Ze(Lre);var Fre=Object.getOwnPropertyNames,Bre=Object.getOwnPropertySymbols,Ure=Object.prototype.hasOwnProperty;function Yj(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Ld(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Kj(t){return Fre(t).concat(Bre(t))}var Hre=Object.hasOwn||function(t,e){return Ure.call(t,e)};function Ns(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var zre="__v",Wre="__o",Vre="_owner",Qj=Object.getOwnPropertyDescriptor,Xj=Object.keys;function Gre(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qre(t,e){return Ns(t.getTime(),e.getTime())}function Yre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Kre(t,e){return t===e}function Zj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Qre=Ns;function Xre(t,e,r){var n=Xj(t),i=n.length;if(Xj(e).length!==i)return!1;for(;i-- >0;)if(!x2(t,e,r,n[i]))return!1;return!0}function Zl(t,e,r){var n=Kj(t),i=n.length;if(Kj(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!x2(t,e,r,a)||(s=Qj(t,a),o=Qj(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function Zre(t,e){return Ns(t.valueOf(),e.valueOf())}function Jre(t,e){return t.source===e.source&&t.flags===e.flags}function Jj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function ene(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function tne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function x2(t,e,r,n){return(n===Vre||n===Wre||n===zre)&&(t.$$typeof||e.$$typeof)?!0:Hre(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var rne="[object Arguments]",nne="[object Boolean]",ine="[object Date]",ane="[object Error]",sne="[object Map]",one="[object Number]",lne="[object Object]",cne="[object RegExp]",une="[object Set]",dne="[object String]",fne="[object URL]",hne=Array.isArray,eA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tA=Object.assign,pne=Object.prototype.toString.call.bind(Object.prototype.toString);function mne(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(m,g,v):x==="function"?i(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return o(m,g,v);if(hne(m))return e(m,g,v);if(eA!=null&&eA(m))return f(m,g,v);if(y===Date)return r(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return a(m,g,v);if(y===Set)return d(m,g,v);var b=pne(m);return b===ine?r(m,g,v):b===cne?u(m,g,v):b===sne?a(m,g,v):b===une?d(m,g,v):b===lne?typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,v):b===fne?h(m,g,v):b===ane?n(m,g,v):b===rne?o(m,g,v):b===nne||b===one||b===dne?l(m,g,v):!1}}function gne(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Zl:Gre,areDatesEqual:qre,areErrorsEqual:Yre,areFunctionsEqual:Kre,areMapsEqual:n?Yj(Zj,Zl):Zj,areNumbersEqual:Qre,areObjectsEqual:n?Zl:Xre,arePrimitiveWrappersEqual:Zre,areRegExpsEqual:Jre,areSetsEqual:n?Yj(Jj,Zl):Jj,areTypedArraysEqual:n?Zl:ene,areUrlsEqual:tne};if(r&&(i=tA({},i,r(i))),e){var a=Ld(i.areArraysEqual),s=Ld(i.areMapsEqual),o=Ld(i.areObjectsEqual),l=Ld(i.areSetsEqual);i=tA({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function vne(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function yne(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var xne=ja();ja({strict:!0});ja({circular:!0});ja({circular:!0,strict:!0});ja({createInternalComparator:function(){return Ns}});ja({strict:!0,createInternalComparator:function(){return Ns}});ja({circular:!0,createInternalComparator:function(){return Ns}});ja({circular:!0,createInternalComparator:function(){return Ns},strict:!0});function ja(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=gne(t),l=mne(o),u=n?n(l):vne(l);return yne({circular:r,comparator:l,createState:i,equals:u,strict:s})}function bne(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function rA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):bne(i)};requestAnimationFrame(n)}function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function wne(t){return jne(t)||Ene(t)||_ne(t)||Sne()}function Sne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ne(t,e){if(t){if(typeof t=="string")return nA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nA(t,e)}}function nA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ene(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jne(t){if(Array.isArray(t))return t}function Ane(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=wne(s),l=o[0],u=o.slice(1);if(typeof l=="number"){rA(i.bind(null,u),l);return}i(l),rA(i.bind(null,u));return}P0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){b2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b2(t,e,r){return e=Tne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tne(t){var e=Nne(t,"string");return ju(e)==="symbol"?e:String(e)}function Nne(t,e){if(ju(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ju(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cne=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},kne=function(e){return e},One=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Cc=function(e,r){return Object.keys(r).reduce(function(n,i){return aA(aA({},n),{},b2({},i,e(i,r[i])))},{})},sA=function(e,r,n){return e.map(function(i){return"".concat(One(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Dne(t,e){return Rne(t)||Mne(t,e)||w2(t,e)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Rne(t){if(Array.isArray(t))return t}function Ine(t){return Fne(t)||Lne(t)||w2(t)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2(t,e){if(t){if(typeof t=="string")return M0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(t,e)}}function Lne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fne(t){if(Array.isArray(t))return M0(t)}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kh=1e-4,S2=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},_2=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},oA=function(e,r){return function(n){var i=S2(e,r);return _2(i,n)}},Bne=function(e,r){return function(n){var i=S2(e,r),a=[].concat(Ine(i.map(function(s,o){return s*o}).slice(1)),[0]);return _2(a,n)}},lA=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Dne(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=oA(i,s),h=oA(a,o),p=Bne(i,s),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,S=0;S<8;++S){var w=f(b)-y,_=p(b);if(Math.abs(w-y)<kh||_<kh)return h(b);b=m(b-w/_)}return h(b)};return g.isStepper=!1,g},Une=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<kh&&Math.abs(g)<kh?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},Hne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lA(i);case"spring":return Une();default:if(i.split("(")[0]==="cubic-bezier")return lA(i)}return typeof i=="function"?i:null};function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function cA(t){return Vne(t)||Wne(t)||E2(t)||zne()}function zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vne(t){if(Array.isArray(t))return I0(t)}function uA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(r),!0).forEach(function(n){R0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R0(t,e,r){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gne(t){var e=qne(t,"string");return Au(e)==="symbol"?e:String(e)}function qne(t,e){if(Au(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yne(t,e){return Xne(t)||Qne(t,e)||E2(t,e)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2(t,e){if(t){if(typeof t=="string")return I0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I0(t,e)}}function I0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Xne(t){if(Array.isArray(t))return t}var Oh=function(e,r,n){return e+(r-e)*n},$0=function(e){var r=e.from,n=e.to;return r!==n},Zne=function t(e,r,n){var i=Cc(function(a,s){if($0(s)){var o=e(s.from,s.to,s.velocity),l=Yne(o,2),u=l[0],d=l[1];return Vt(Vt({},s),{},{from:u,velocity:d})}return s},r);return n<1?Cc(function(a,s){return $0(s)?Vt(Vt({},s),{},{velocity:Oh(s.velocity,i[a].velocity,n),from:Oh(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Jne=function(t,e,r,n,i){var a=Cne(t,e),s=a.reduce(function(v,x){return Vt(Vt({},v),{},R0({},x,[t[x],e[x]]))},{}),o=a.reduce(function(v,x){return Vt(Vt({},v),{},R0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Cc(function(x,y){return y.from},o)},p=function(){return!Object.values(o).filter($0).length},m=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=Zne(r,o,b),i(Vt(Vt(Vt({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,b=Cc(function(w,_){return Oh.apply(void 0,cA(_).concat([r(y)]))},s);if(i(Vt(Vt(Vt({},t),e),b)),y<1)l=requestAnimationFrame(f);else{var S=Cc(function(w,_){return Oh.apply(void 0,cA(_).concat([r(1)]))},s);i(Vt(Vt(Vt({},t),e),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}var eie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tie(t,e){if(t==null)return{};var r=rie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rie(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Xg(t){return sie(t)||aie(t)||iie(t)||nie()}function nie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(t,e){if(t){if(typeof t=="string")return L0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L0(t,e)}}function aie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sie(t){if(Array.isArray(t))return L0(t)}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){hc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hc(t,e,r){return e=j2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j2(n.key),n)}}function lie(t,e,r){return e&&fA(t.prototype,e),r&&fA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j2(t){var e=cie(t,"string");return Uo(e)==="symbol"?e:String(e)}function cie(t,e){if(Uo(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function die(t){var e=fie();return function(){var n=Dh(t),i;if(e){var a=Dh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return B0(this,i)}}function B0(t,e){if(e&&(Uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U0(t)}function U0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}var jm=function(t){uie(r,t);var e=die(r);function r(n,i){var a;oie(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(U0(a)),a.changeStyle=a.changeStyle.bind(U0(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),B0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},B0(a);a.state={style:l?hc({},l,u):u}}else a.state={style:{}};return a}return lie(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?hc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(xne(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?hc({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(sn(sn({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Jne(s,o,Hne(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,S=b===void 0?"ease":b,w=v.style,_=v.properties,j=v.onAnimationEnd,E=x>0?s[x-1]:v,A=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Xg(g),[a.runJSAnimation.bind(a,{from:E.style,to:w,duration:y,easing:S}),y]);var k=sA(A,y,S),D=sn(sn(sn({},E.style),w),{},{transition:k});return[].concat(Xg(g),[D,y,j]).filter(kne)};return this.manager.start([l].concat(Xg(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ane());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?hc({},o,l):l,v=sA(Object.keys(g),s,u);m.start([d,a,sn(sn({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=tie(i,eie),u=C.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,y=C.cloneElement(p,sn(sn({},l),{},{style:sn(sn({},v),d),className:x}));return y};return u===1?f(C.Children.only(a)):I.createElement("div",null,C.Children.map(a,function(h){return f(h)}))}}]),r}(C.PureComponent);jm.displayName="Animate";jm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jm.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};const la=jm;function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ph.apply(this,arguments)}function hie(t,e){return vie(t)||gie(t,e)||mie(t,e)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(t,e){if(t){if(typeof t=="string")return hA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hA(t,e)}}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function vie(t){if(Array.isArray(t))return t}function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(r),!0).forEach(function(n){yie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yie(t,e,r){return e=xie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xie(t){var e=bie(t,"string");return Tu(e)=="symbol"?e:e+""}function bie(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gA=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*m,`
            L `).concat(e+n,",").concat(r+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},wie=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Sie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rw=function(e){var r=mA(mA({},Sie),e),n=C.useRef(),i=C.useState(-1),a=hie(i,2),s=a[0],o=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Re("recharts-rectangle",p);return y?I.createElement(la,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(S){var w=S.width,_=S.height,j=S.x,E=S.y;return I.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},I.createElement("path",Ph({},Ne(r,!0),{className:b,d:gA(j,E,w,_,h),ref:n})))}):I.createElement("path",Ph({},Ne(r,!0),{className:b,d:gA(l,u,d,f,h)}))};function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}var Am=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Re("recharts-dot",a);return r===+r&&n===+n&&i===+i?C.createElement("circle",H0({},Ne(e,!1),Jf(e),{className:s,cx:r,cy:n,r:i})):null};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}var _ie=["x","y","top","left","width","height","className"];function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(this,arguments)}function vA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(r),!0).forEach(function(n){jie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jie(t,e,r){return e=Aie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aie(t){var e=Tie(t,"string");return Nu(e)=="symbol"?e:e+""}function Tie(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nie(t,e){if(t==null)return{};var r=Cie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kie=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Oie=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=Nie(e,_ie),v=Eie({x:n,y:a,top:o,left:u,width:f,height:p},g);return!ie(n)||!ie(a)||!ie(f)||!ie(p)||!ie(o)||!ie(u)?null:I.createElement("path",z0({},Ne(v,!0),{className:Re("recharts-cross",m),d:kie(n,a,f,p,o,u)}))},Die=BD,Pie=Die(Object.getPrototypeOf,Object),Mie=Pie,Rie=xi,Iie=Mie,$ie=bi,Lie="[object Object]",Fie=Function.prototype,Bie=Object.prototype,A2=Fie.toString,Uie=Bie.hasOwnProperty,Hie=A2.call(Object);function zie(t){if(!$ie(t)||Rie(t)!=Lie)return!1;var e=Iie(t);if(e===null)return!0;var r=Uie.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&A2.call(r)==Hie}var Wie=zie;const Vie=Ze(Wie);var Gie=xi,qie=bi,Yie="[object Boolean]";function Kie(t){return t===!0||t===!1||qie(t)&&Gie(t)==Yie}var Qie=Kie;const Xie=Ze(Qie);function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mh.apply(this,arguments)}function Zie(t,e){return rae(t)||tae(t,e)||eae(t,e)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eae(t,e){if(t){if(typeof t=="string")return yA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yA(t,e)}}function yA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rae(t){if(Array.isArray(t))return t}function xA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(r),!0).forEach(function(n){nae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e,r){return e=iae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=aae(t,"string");return Cu(e)=="symbol"?e:e+""}function aae(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wA=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},sae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oae=function(e){var r=bA(bA({},sae),e),n=C.useRef(),i=C.useState(-1),a=Zie(i,2),s=a[0],o=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Re("recharts-trapezoid",p);return x?I.createElement(la,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(b){var S=b.upperWidth,w=b.lowerWidth,_=b.height,j=b.x,E=b.y;return I.createElement(la,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},I.createElement("path",Mh({},Ne(r,!0),{className:y,d:wA(j,E,S,w,_),ref:n})))}):I.createElement("g",null,I.createElement("path",Mh({},Ne(r,!0),{className:y,d:wA(l,u,d,f,h)})))},lae=["option","shapeType","propTransformer","activeClassName","isActive"];function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function cae(t,e){if(t==null)return{};var r=uae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(r),!0).forEach(function(n){dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e,r){return e=fae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fae(t){var e=hae(t,"string");return ku(e)=="symbol"?e:e+""}function hae(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pae(t,e){return Rh(Rh({},e),t)}function mae(t,e){return t==="symbols"}function _A(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return I.createElement(Rw,r);case"trapezoid":return I.createElement(oae,r);case"sector":return I.createElement(m2,r);case"symbols":if(mae(e))return I.createElement(fm,r);break;default:return null}}function gae(t){return C.isValidElement(t)?t.props:t}function W0(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?pae:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=cae(t,lae),u;if(C.isValidElement(e))u=C.cloneElement(e,Rh(Rh({},l),gae(e)));else if(Ce(e))u=e(l);else if(Vie(e)&&!Xie(e)){var d=i(e,l);u=I.createElement(_A,{shapeType:r,elementProps:d})}else{var f=l;u=I.createElement(_A,{shapeType:r,elementProps:f})}return o?I.createElement(Fe,{className:s},u):u}function Tm(t,e){return e!=null&&"trapezoids"in t.props}function Nm(t,e){return e!=null&&"sectors"in t.props}function Ou(t,e){return e!=null&&"points"in t.props}function vae(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function yae(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function xae(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function bae(t,e){var r;return Tm(t,e)?r=vae:Nm(t,e)?r=yae:Ou(t,e)&&(r=xae),r}function wae(t,e){var r;return Tm(t,e)?r="trapezoids":Nm(t,e)?r="sectors":Ou(t,e)&&(r="points"),r}function Sae(t,e){if(Tm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Nm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ou(t,e)?e.payload:{}}function _ae(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=wae(r,e),a=Sae(r,e),s=n.filter(function(l,u){var d=fs(a,l),f=r.props[i].filter(function(m){var g=bae(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var Eae=Math.ceil,jae=Math.max;function Aae(t,e,r,n){for(var i=-1,a=jae(Eae((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var Tae=Aae,Nae=aP,EA=1/0,Cae=17976931348623157e292;function kae(t){if(!t)return t===0?t:0;if(t=Nae(t),t===EA||t===-EA){var e=t<0?-1:1;return e*Cae}return t===t?t:0}var T2=kae,Oae=Tae,Dae=mm,Zg=T2;function Pae(t){return function(e,r,n){return n&&typeof n!="number"&&Dae(e,r,n)&&(r=n=void 0),e=Zg(e),r===void 0?(r=e,e=0):r=Zg(r),n=n===void 0?e<r?1:-1:Zg(n),Oae(e,r,n,t)}}var Mae=Pae,Rae=Mae,Iae=Rae(),$ae=Iae;const Ih=Ze($ae);function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function jA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(r),!0).forEach(function(n){N2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N2(t,e,r){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lae(t){var e=Fae(t,"string");return Du(e)=="symbol"?e:e+""}function Fae(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bae=["Webkit","Moz","O","ms"],Uae=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Bae.reduce(function(a,s){return AA(AA({},a),{},N2({},s+n,r))},{});return i[e]=r,i};function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$h.apply(this,arguments)}function TA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(r),!0).forEach(function(n){Tr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k2(n.key),n)}}function zae(t,e,r){return e&&NA(t.prototype,e),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wae(t,e,r){return e=Lh(e),Vae(t,C2()?Reflect.construct(e,r||[],Lh(t).constructor):e.apply(t,r))}function Vae(t,e){if(e&&(Ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gae(t)}function Gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!t})()}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lh(t)}function qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(t,e)}function Tr(t,e,r){return e=k2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k2(t){var e=Yae(t,"string");return Ho(e)=="symbol"?e:e+""}function Yae(t,e){if(Ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Tc().domain(Ih(0,l)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},CA=function(e){return e.changedTouches&&!!e.changedTouches.length},zo=function(t){function e(r){var n;return Hae(this,e),n=Wae(this,e,[r]),Tr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Tr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Tr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Tr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tr(n,"handleSlideDragStart",function(i){var a=CA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qae(e,t),zae(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Rt(a[n],o,n);return Ce(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=CA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[s]=u+y;var b=this.getIndex(x),S=b.startIndex,w=b.endIndex,_=function(){var E=v.length-1;return s==="startX"&&(o>l?S%g===0:w%g===0)||o<l&&w===E||s==="endX"&&(o>l?w%g===0:S%g===0)||o>l&&w===E};this.setState(Tr(Tr({},s,u+y),"brushMoveStartX",n.pageX),function(){m&&_()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Tr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=C.Children.only(u);return f?I.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=Jg(Jg({},Ne(this.props,!1)),{},{x,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return I.createElement(Fe,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return I.createElement(Fe,{className:"recharts-brush-texts"},I.createElement(hh,$h({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),I.createElement(hh,$h({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!ie(o)||!ie(l)||!ie(u)||!ie(d)||u<=0||d<=0)return null;var b=Re("recharts-brush",a),S=I.Children.count(s)===1,w=Uae("userSelect","none");return I.createElement(Fe,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return I.isValidElement(n)?a=I.cloneElement(n,i):Ce(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Jg({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?Kae({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(C.PureComponent);Tr(zo,"displayName","Brush");Tr(zo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Qae=sw;function Xae(t,e){var r;return Qae(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Zae=Xae,Jae=DD,ese=Sa,tse=Zae,rse=jr,nse=mm;function ise(t,e,r){var n=rse(t)?Jae:tse;return r&&nse(t,e,r)&&(e=void 0),n(t,ese(e))}var ase=ise;const sse=Ze(ase);var $n=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},kA=eP;function ose(t,e,r){e=="__proto__"&&kA?kA(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var lse=ose,cse=lse,use=ZD,dse=Sa;function fse(t,e){var r={};return e=dse(e),use(t,function(n,i,a){cse(r,i,e(n,i,a))}),r}var hse=fse;const pse=Ze(hse);function mse(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var gse=mse,vse=sw;function yse(t,e){var r=!0;return vse(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var xse=yse,bse=gse,wse=xse,Sse=Sa,_se=jr,Ese=mm;function jse(t,e,r){var n=_se(t)?bse:wse;return r&&Ese(t,e,r)&&(e=void 0),n(t,Sse(e))}var Ase=jse;const O2=Ze(Ase);var Tse=["x","y"];function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G0.apply(this,arguments)}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){Nse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nse(t,e,r){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cse(t){var e=kse(t,"string");return Pu(e)=="symbol"?e:e+""}function kse(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t,e){if(t==null)return{};var r=Dse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pse(t,e){var r=t.x,n=t.y,i=Ose(t,Tse),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Jl(Jl(Jl(Jl(Jl({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function DA(t){return I.createElement(W0,G0({shapeType:"rectangle",propTransformer:Pse,activeClassName:"recharts-active-bar"},t))}var Mse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ie(n)||r5(n);return a?e(n,i):(a||ps(!1),r)}},Rse=["value","background"],D2;function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function Ise(t,e){if(t==null)return{};var r=$se(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fh.apply(this,arguments)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){Hi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M2(n.key),n)}}function Fse(t,e,r){return e&&MA(t.prototype,e),r&&MA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bse(t,e,r){return e=Bh(e),Use(t,P2()?Reflect.construct(e,r||[],Bh(t).constructor):e.apply(t,r))}function Use(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hse(t)}function Hse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P2=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bh(t)}function zse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q0(t,e)}function Hi(t,e,r){return e=M2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M2(t){var e=Wse(t,"string");return Wo(e)=="symbol"?e:e+""}function Wse(t,e){if(Wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mi=function(t){function e(){var r;Lse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Bse(this,e,[].concat(i)),Hi(r,"state",{isAnimationFinished:!1}),Hi(r,"id",js("recharts-bar-")),Hi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Hi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return zse(e,t),Fse(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=Ne(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:s,g=At(At(At({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(Fe,Fh({className:"recharts-bar-rectangle"},ru(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),I.createElement(DA,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return I.createElement(la,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,x){var y=h&&h[x];if(y){var b=_t(y.x,v.x),S=_t(y.y,v.y),w=_t(y.width,v.width),_=_t(y.height,v.height);return At(At({},v),{},{x:b(m),y:S(m),width:w(m),height:_(m)})}if(s==="horizontal"){var j=_t(0,v.height),E=j(m);return At(At({},v),{},{y:v.y+v.height-E,height:E})}var A=_t(0,v.width),k=A(m);return At(At({},v),{},{width:k})});return I.createElement(Fe,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!fs(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ne(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Ise(u,Rse);if(!f)return null;var p=At(At(At(At(At({},h),{},{fill:"#eee"},f),l),ru(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return I.createElement(DA,Fh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Er(d,Tl);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Rt(v,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Fe,m,f.map(function(g){return I.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Re("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,S=y||b,w=je(g)?this.id:g;return I.createElement(Fe,{className:x},y||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,I.createElement(Fe,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||v)&&In.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(C.PureComponent);D2=mi;Hi(mi,"displayName","Bar");Hi(mi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hi(mi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Ste(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?At(At({},g),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,S=m==="horizontal"?s:a,w=u?S.scale.domain():null,_=kte({numericAxis:S}),j=Er(y,cw),E=f.map(function(A,k){var D,P,O,z,W,G;u?D=_te(u[d+k],w):(D=Rt(A,x),Array.isArray(D)||(D=[_,D]));var M=Mse(b,D2.defaultProps.minPointSize)(D[1],k);if(m==="horizontal"){var $,B=[s.scale(D[0]),s.scale(D[1])],U=B[0],H=B[1];P=Dj({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:A,index:k}),O=($=H??U)!==null&&$!==void 0?$:void 0,z=p.size;var V=U-H;if(W=Number.isNaN(V)?0:V,G={x:P,y:s.y,width:z,height:s.height},Math.abs(M)>0&&Math.abs(W)<Math.abs(M)){var q=mn(W||M)*(Math.abs(M)-Math.abs(W));O-=q,W+=q}}else{var re=[a.scale(D[0]),a.scale(D[1])],se=re[0],fe=re[1];if(P=se,O=Dj({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:A,index:k}),z=fe-se,W=p.size,G={x:a.x,y:O,width:a.width,height:W},Math.abs(M)>0&&Math.abs(z)<Math.abs(M)){var _e=mn(z||M)*(Math.abs(M)-Math.abs(z));z+=_e}}return At(At(At({},A),{},{x:P,y:O,width:z,height:W,value:u?D:D[1],payload:A,background:G},j&&j[k]&&j[k].props),{},{tooltipPayload:[f2(r,A)],tooltipPosition:{x:P+z/2,y:O+W/2}})});return At({data:E,layout:m},h)});function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function Vse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R2(n.key),n)}}function Gse(t,e,r){return e&&RA(t.prototype,e),r&&RA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(r),!0).forEach(function(n){Cm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cm(t,e,r){return e=R2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R2(t){var e=qse(t,"string");return Mu(e)=="symbol"?e:e+""}function qse(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iw=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Cr(u,mi);return d.reduce(function(p,m){var g=r[m],v=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,S=g.mirror,w=g.reversed,_="".concat(v).concat(S?"Mirror":""),j,E,A,k,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=x[1]-x[0],O=1/0,z=g.categoricalDomain.sort(s5);if(z.forEach(function(re,se){se>0&&(O=Math.min((re||0)-(z[se-1]||0),O))}),Number.isFinite(O)){var W=O/P,G=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(j=W*G/2),g.padding==="no-gap"){var M=ds(e.barCategoryGap,W*G),$=W*G/2;j=$-M-($-M)/G*M}}}i==="xAxis"?E=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:E=g.range,w&&(E=[E[1],E[0]]);var B=bte(g,a,h),U=B.scale,H=B.realScaleType;U.domain(x).range(E),wte(U);var V=Cte(U,dn(dn({},g),{},{realScaleType:H}));i==="xAxis"?(D=v==="top"&&!S||v==="bottom"&&S,A=n.left,k=f[_]-D*g.height):i==="yAxis"&&(D=v==="left"&&!S||v==="right"&&S,A=f[_]-D*g.width,k=n.top);var q=dn(dn(dn({},g),V),{},{realScaleType:H,x:A,y:k,scale:U,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return q.bandSize=Th(q,V),!g.hide&&i==="xAxis"?f[_]+=(D?-1:1)*q.height:g.hide||(f[_]+=(D?-1:1)*q.width),dn(dn({},p),{},Cm({},m,q))},{})},I2=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Yse=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return I2({x:r,y:n},{x:i,y:a})},$2=function(){function t(e){Vse(this,t),this.scale=e}return Gse(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Cm($2,"EPS",1e-4);var $w=function(e){var r=Object.keys(e).reduce(function(n,i){return dn(dn({},n),{},Cm({},i,$2.create(e[i])))},{});return dn(dn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return pse(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return O2(i,function(a,s){return r[s].isInRange(a)})}})};function Kse(t){return(t%180+180)%180}var Qse=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kse(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Xse=Sa,Zse=Ku,Jse=hm;function eoe(t){return function(e,r,n){var i=Object(e);if(!Zse(e)){var a=Xse(r);e=Jse(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var toe=eoe,roe=T2;function noe(t){var e=roe(t),r=e%1;return e===e?r?e-r:e:0}var ioe=noe,aoe=GD,soe=Sa,ooe=ioe,loe=Math.max;function coe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:ooe(r);return i<0&&(i=loe(n+i,0)),aoe(t,soe(e),i)}var uoe=coe,doe=toe,foe=uoe,hoe=doe(foe),poe=hoe;const moe=Ze(poe);var goe=sz(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Lw=C.createContext(void 0),Fw=C.createContext(void 0),L2=C.createContext(void 0),F2=C.createContext({}),B2=C.createContext(void 0),U2=C.createContext(0),H2=C.createContext(0),$A=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=goe(a);return I.createElement(Lw.Provider,{value:n},I.createElement(Fw.Provider,{value:i},I.createElement(F2.Provider,{value:a},I.createElement(L2.Provider,{value:d},I.createElement(B2.Provider,{value:s},I.createElement(U2.Provider,{value:u},I.createElement(H2.Provider,{value:l},o)))))))},voe=function(){return C.useContext(B2)},z2=function(e){var r=C.useContext(Lw);r==null&&ps(!1);var n=r[e];return n==null&&ps(!1),n},yoe=function(){var e=C.useContext(Lw);return $i(e)},xoe=function(){var e=C.useContext(Fw),r=moe(e,function(n){return O2(n.domain,Number.isFinite)});return r||$i(e)},W2=function(e){var r=C.useContext(Fw);r==null&&ps(!1);var n=r[e];return n==null&&ps(!1),n},boe=function(){var e=C.useContext(L2);return e},woe=function(){return C.useContext(F2)},Bw=function(){return C.useContext(H2)},Uw=function(){return C.useContext(U2)};function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function Soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G2(n.key),n)}}function _oe(t,e,r){return e&&LA(t.prototype,e),r&&LA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eoe(t,e,r){return e=Uh(e),joe(t,V2()?Reflect.construct(e,r||[],Uh(t).constructor):e.apply(t,r))}function joe(t,e){if(e&&(Vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aoe(t)}function Aoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uh(t)}function Toe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(t,e)}function FA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(r),!0).forEach(function(n){Hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hw(t,e,r){return e=G2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G2(t){var e=Noe(t,"string");return Vo(e)=="symbol"?e:e+""}function Noe(t,e){if(Vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Coe(t,e){return Poe(t)||Doe(t,e)||Ooe(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t,e){if(t){if(typeof t=="string")return UA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(t,e)}}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Doe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Poe(t){if(Array.isArray(t))return t}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}var Moe=function(e,r){var n;return I.isValidElement(e)?n=I.cloneElement(e,r):Ce(e)?n=e(r):n=I.createElement("line",K0({},r,{className:"recharts-reference-line-line"})),n},Roe=function(e,r,n,i,a,s,o,l,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=u.y,g=e.y.apply(m,{position:s});if($n(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:s});if($n(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?b.reverse():b}if(i){var S=u.segment,w=S.map(function(_){return e.apply(_,{position:s})});return $n(u,"discard")&&sse(w,function(_){return!e.isInRange(_)})?null:w}return null};function Ioe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=voe(),d=z2(i),f=W2(a),h=boe();if(!u||!h)return null;ai(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=$w({x:d.scale,y:f.scale}),m=Mt(e),g=Mt(r),v=n&&n.length===2,x=Roe(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=Coe(x,2),b=y[0],S=b.x,w=b.y,_=y[1],j=_.x,E=_.y,A=$n(t,"hidden")?"url(#".concat(u,")"):void 0,k=BA(BA({clipPath:A},Ne(t,!0)),{},{x1:S,y1:w,x2:j,y2:E});return I.createElement(Fe,{className:Re("recharts-reference-line",o)},Moe(s,k),rr.renderCallByParent(t,Yse({x1:S,y1:w,x2:j,y2:E})))}var zw=function(t){function e(){return Soe(this,e),Eoe(this,e,arguments)}return Toe(e,t),_oe(e,[{key:"render",value:function(){return I.createElement(Ioe,this.props)}}])}(I.Component);Hw(zw,"displayName","ReferenceLine");Hw(zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q0.apply(this,arguments)}function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function HA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(r),!0).forEach(function(n){km(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y2(n.key),n)}}function Loe(t,e,r){return e&&WA(t.prototype,e),r&&WA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Foe(t,e,r){return e=Hh(e),Boe(t,q2()?Reflect.construct(e,r||[],Hh(t).constructor):e.apply(t,r))}function Boe(t,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uoe(t)}function Uoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q2=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hh(t)}function Hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X0(t,e)}function X0(t,e){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(t,e)}function km(t,e,r){return e=Y2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y2(t){var e=zoe(t,"string");return Go(e)=="symbol"?e:e+""}function zoe(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Woe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=$w({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return $n(e,"discard")&&!s.isInRange(o)?null:o},Om=function(t){function e(){return $oe(this,e),Foe(this,e,arguments)}return Hoe(e,t),Loe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Mt(i),d=Mt(a);if(ai(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Woe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=$n(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=zA(zA({clipPath:x},Ne(this.props,!0)),{},{cx:h,cy:p});return I.createElement(Fe,{className:Re("recharts-reference-dot",v)},e.renderDot(g,y),rr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(I.Component);km(Om,"displayName","ReferenceDot");km(Om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});km(Om,"renderDot",function(t,e){var r;return I.isValidElement(t)?r=I.cloneElement(t,e):Ce(t)?r=t(e):r=I.createElement(Am,Q0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z0.apply(this,arguments)}function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(t)}function VA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(r),!0).forEach(function(n){Dm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q2(n.key),n)}}function Goe(t,e,r){return e&&qA(t.prototype,e),r&&qA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qoe(t,e,r){return e=zh(e),Yoe(t,K2()?Reflect.construct(e,r||[],zh(t).constructor):e.apply(t,r))}function Yoe(t,e){if(e&&(qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Koe(t)}function Koe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K2=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zh(t)}function Qoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J0(t,e)}function Dm(t,e,r){return e=Q2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q2(t){var e=Xoe(t,"string");return qo(e)=="symbol"?e:e+""}function Xoe(t,e){if(qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zoe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=$w({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return $n(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:I2(p,m)},Pm=function(t){function e(){return Voe(this,e),qoe(this,e,arguments)}return Qoe(e,t),Goe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ai(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mt(i),h=Mt(a),p=Mt(s),m=Mt(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=Zoe(f,h,p,m,this.props);if(!v&&!g)return null;var x=$n(this.props,"hidden")?"url(#".concat(d,")"):void 0;return I.createElement(Fe,{className:Re("recharts-reference-area",l)},e.renderRect(g,GA(GA({clipPath:x},Ne(this.props,!0)),v)),rr.renderCallByParent(this.props,v))}}])}(I.Component);Dm(Pm,"displayName","ReferenceArea");Dm(Pm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dm(Pm,"renderRect",function(t,e){var r;return I.isValidElement(t)?r=I.cloneElement(t,e):Ce(t)?r=t(e):r=I.createElement(Rw,Z0({},e,{className:"recharts-reference-area-rect"})),r});function X2(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function Joe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Qse(n,r)}function ele(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Wh(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function tle(t,e){return X2(t,e+1)}function rle(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:X2(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(m,g)),v},y=m.coordinate,b=l===0||Wh(t,y,x,d,o);b||(l=0,d=s,u+=1),b&&(d=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function YA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(r),!0).forEach(function(n){nle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nle(t,e,r){return e=ile(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ile(t){var e=ale(t,"string");return Ru(e)=="symbol"?e:e+""}function ale(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=er(er({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=er(er({},p),{},{tickCoord:p.coordinate});var x=Wh(t,p.tickCoord,g,o,l);x&&(l=p.tickCoord-t*(g()/2+i),a[h]=er(er({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function ole(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=er(er({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Wh(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),s[o-1]=er(er({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(y){var b=s[y],S,w=function(){return S===void 0&&(S=r(b,y)),S};if(y===0){var _=t*(b.coordinate-t*w()/2-l);s[y]=b=er(er({},b),{},{tickCoord:_<0?b.coordinate-_*t:b.coordinate})}else s[y]=b=er(er({},b),{},{tickCoord:b.coordinate});var j=Wh(t,b.tickCoord,w,l,u);j&&(l=b.tickCoord+t*(w()/2+i),s[y]=er(er({},b),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function Ww(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ie(l)||xn.isSsr)return tle(i,typeof l=="number"&&ie(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?Ac(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,S){var w=Ce(u)?u(b.value,S):b.value;return p==="width"?Joe(Ac(w,{fontSize:e,letterSpacing:r}),m,f):Ac(w,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?mn(i[1].coordinate-i[0].coordinate):1,x=ele(a,v,p);return l==="equidistantPreserveStart"?rle(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=ole(v,x,g,i,s,l==="preserveStartEnd"):h=sle(v,x,g,i,s),h.filter(function(y){return y.isShow}))}var lle=["viewBox"],cle=["viewBox"],ule=["ticks"];function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},io.apply(this,arguments)}function KA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(r),!0).forEach(function(n){Vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ev(t,e){if(t==null)return{};var r=dle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J2(n.key),n)}}function hle(t,e,r){return e&&QA(t.prototype,e),r&&QA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ple(t,e,r){return e=Vh(e),mle(t,Z2()?Reflect.construct(e,r||[],Vh(t).constructor):e.apply(t,r))}function mle(t,e){if(e&&(Yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gle(t)}function gle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z2=function(){return!!t})()}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vh(t)}function vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ex(t,e)}function Vw(t,e,r){return e=J2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J2(t){var e=yle(t,"string");return Yo(e)=="symbol"?e:e+""}function yle(t,e){if(Yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nl=function(t){function e(r){var n;return fle(this,e),n=ple(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return vle(e,t),hle(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=ev(n,lle),o=this.props,l=o.viewBox,u=ev(o,cle);return!go(a,l)||!go(s,u)||!go(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,x,y,b=f?-1:1,S=n.tickSize||d,w=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=s+ +!f*l,g=v-b*S,y=g-b*h,x=w;break;case"left":g=v=n.coordinate,m=a+ +!f*o,p=m-b*S,x=p-b*h,y=w;break;case"right":g=v=n.coordinate,m=a+ +f*o,p=m+b*S,x=p+b*h,y=w;break;default:p=m=n.coordinate,v=s+ +f*l,g=v+b*S,y=g+b*h,x=w;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=kt(kt(kt({},Ne(this.props,!1)),Ne(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=kt(kt({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=kt(kt({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return I.createElement("line",io({},f,{className:Re("recharts-cartesian-axis-line",Xr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=Ww(kt(kt({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ne(this.props,!1),x=Ne(d,!1),y=kt(kt({},v),{},{fill:"none"},Ne(l,!1)),b=p.map(function(S,w){var _=s.getTickLineCoord(S),j=_.line,E=_.tick,A=kt(kt(kt(kt({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),E),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return I.createElement(Fe,io({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},ru(s.props,S,w)),l&&I.createElement("line",io({},y,j,{className:Re("recharts-cartesian-axis-tick-line",Xr(l,"className"))})),d&&e.renderTickItem(d,A,"".concat(Ce(f)?f(S.value,w):S.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=ev(f,ule),m=h;return Ce(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:I.createElement(Fe,{className:Re("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),rr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Re(i.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?s=I.cloneElement(n,kt(kt({},i),{},{className:o})):Ce(n)?s=n(kt(kt({},i),{},{className:o})):s=I.createElement(hh,io({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(C.Component);Vw(Nl,"displayName","CartesianAxis");Vw(Nl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xle=["x1","y1","x2","y2","key"],ble=["offset"];function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function XA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(r),!0).forEach(function(n){wle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wle(t,e,r){return e=Sle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sle(t){var e=_le(t,"string");return ms(e)=="symbol"?e:e+""}function _le(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ka.apply(this,arguments)}function ZA(t,e){if(t==null)return{};var r=Ele(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ele(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jle=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return I.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function eM(t,e){var r;if(I.isValidElement(t))r=I.cloneElement(t,e);else if(Ce(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=ZA(e,xle),u=Ne(l,!1);u.offset;var d=ZA(u,ble);r=I.createElement("line",Ka({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Ale(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=nr(nr({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return eM(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Tle(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=nr(nr({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return eM(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Nle(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Cle(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var kle=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return u2(Ww(nr(nr(nr({},Nl.defaultProps),n),{},{ticks:ti(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Ole=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return u2(Ww(nr(nr(nr({},Nl.defaultProps),n),{},{ticks:ti(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Bs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gh(t){var e,r,n,i,a,s,o=Bw(),l=Uw(),u=woe(),d=nr(nr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Bs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Bs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Bs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Bs.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=yoe(),b=xoe();if(!ie(p)||p<=0||!ie(m)||m<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||kle,w=d.horizontalCoordinatesGenerator||Ole,_=d.horizontalPoints,j=d.verticalPoints;if((!_||!_.length)&&Ce(w)){var E=v&&v.length,A=w({yAxis:b?nr(nr({},b),{},{ticks:E?v:b.ticks}):void 0,width:o,height:l,offset:u},E?!0:g);ai(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ms(A),"]")),Array.isArray(A)&&(_=A)}if((!j||!j.length)&&Ce(S)){var k=x&&x.length,D=S({xAxis:y?nr(nr({},y),{},{ticks:k?x:y.ticks}):void 0,width:o,height:l,offset:u},k?!0:g);ai(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ms(D),"]")),Array.isArray(D)&&(j=D)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(jle,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),I.createElement(Ale,Ka({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:b})),I.createElement(Tle,Ka({},d,{offset:u,verticalPoints:j,xAxis:y,yAxis:b})),I.createElement(Nle,Ka({},d,{horizontalPoints:_})),I.createElement(Cle,Ka({},d,{verticalPoints:j})))}Gh.displayName="CartesianGrid";var Dle=["type","layout","connectNulls","ref"],Ple=["key"];function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function JA(t,e){if(t==null)return{};var r=Mle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kc.apply(this,arguments)}function eT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(r),!0).forEach(function(n){fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Us(t){return Lle(t)||$le(t)||Ile(t)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(t,e)}}function $le(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lle(t){if(Array.isArray(t))return tx(t)}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rM(n.key),n)}}function Ble(t,e,r){return e&&tT(t.prototype,e),r&&tT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,r){return e=qh(e),Hle(t,tM()?Reflect.construct(e,r||[],qh(t).constructor):e.apply(t,r))}function Hle(t,e){if(e&&(Ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zle(t)}function zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tM=function(){return!!t})()}function qh(t){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(t)}function Wle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(t,e)}function fn(t,e,r){return e=rM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rM(t){var e=Vle(t,"string");return Ko(e)=="symbol"?e:e+""}function Vle(t,e){if(Ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl=function(t){function e(){var r;Fle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ule(this,e,[].concat(i)),fn(r,"state",{isAnimationFinished:!0,totalLength:0}),fn(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),fn(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Us(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Us(e.repeat(l,d)),Us(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),fn(r,"id",js("recharts-line-")),fn(r,"pathRef",function(s){r.mainCurve=s}),fn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Wle(e,t),Ble(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Er(d,Tl);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Rt(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(Fe,p,f.map(function(m){return I.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,f=Ne(this.props,!1),h=Ne(l,!0),p=u.map(function(g,v){var x=Ar(Ar(Ar({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Fe,kc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=JA(o,Dle),h=Ar(Ar(Ar({},Ne(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:d});return I.createElement(ts,kc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,x=this.state,y=x.prevPoints,b=x.totalLength;return I.createElement(la,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(y){var _=y.length/o.length,j=o.map(function(P,O){var z=Math.floor(O*_);if(y[z]){var W=y[z],G=_t(W.x,P.x),M=_t(W.y,P.y);return Ar(Ar({},P),{},{x:G(w),y:M(w)})}if(m){var $=_t(g*2,P.x),B=_t(v/2,P.y);return Ar(Ar({},P),{},{x:$(w),y:B(w)})}return Ar(Ar({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(j,n,i)}var E=_t(0,b),A=E(w),k;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});k=a.getStrokeDasharray(A,b,D)}else k=a.generateSimpleStrokeDasharray(b,A);return a.renderCurveStatically(o,n,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!fs(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=Re("recharts-line",l),S=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,_=S||w,j=je(v)?this.id:v,E=(n=Ne(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,P=D===void 0?2:D,O=nD(s)?s:{},z=O.clipDot,W=z===void 0?!0:z,G=k*2+P;return I.createElement(Fe,{className:b},S||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:S?h:h-p/2,y:w?f:f-m/2,width:S?p:p*2,height:w?m:m*2})),!W&&I.createElement("clipPath",{id:"clipPath-dots-".concat(j)},I.createElement("rect",{x:h-G/2,y:f-G/2,width:p+G,height:m+G}))):null,!y&&this.renderCurve(_,j),this.renderErrorBar(_,j),(y||s)&&this.renderDots(_,W,j),(!g||x)&&In.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Us(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Us(s),Us(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Ce(n))a=n(i);else{var s=i.key,o=JA(i,Ple),l=Re("recharts-line-dot",typeof n!="boolean"?n.className:"");a=I.createElement(Am,kc({key:s},o,{className:l}))}return a}}])}(C.PureComponent);fn(Cl,"displayName","Line");fn(Cl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!xn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fn(Cl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var m=Rt(h,s);return d==="horizontal"?{x:Bo({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:je(m)?null:n.scale(m),value:m,payload:h}:{x:je(m)?null:r.scale(m),y:Bo({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return Ar({points:f,layout:d},u)});var Gle=["layout","type","stroke","connectNulls","isRange","ref"],qle=["key"],nM;function Qo(t){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(t)}function iM(t,e){if(t==null)return{};var r=Yle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qa.apply(this,arguments)}function rT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(r),!0).forEach(function(n){On(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sM(n.key),n)}}function Qle(t,e,r){return e&&nT(t.prototype,e),r&&nT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xle(t,e,r){return e=Yh(e),Zle(t,aM()?Reflect.construct(e,r||[],Yh(t).constructor):e.apply(t,r))}function Zle(t,e){if(e&&(Qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jle(t)}function Jle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aM=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yh(t)}function ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nx(t,e)}function On(t,e,r){return e=sM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sM(t){var e=tce(t,"string");return Qo(e)=="symbol"?e:e+""}function tce(t,e){if(Qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cs=function(t){function e(){var r;Kle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xle(this,e,[].concat(i)),On(r,"state",{isAnimationFinished:!0}),On(r,"id",js("recharts-area-")),On(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ce(s)&&s()}),On(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ce(s)&&s()}),r}return ece(e,t),Qle(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Ne(this.props,!1),p=Ne(u,!0),m=d.map(function(v,x){var y=Ni(Ni(Ni({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(Fe,Qa({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,d=n*Math.abs(l-u),f=Ui(s.map(function(h){return h.y||0}));return ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ui(a.map(function(h){return h.y||0})),f)),ie(f)?I.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,d=n*Math.abs(l-u),f=Ui(s.map(function(h){return h.x||0}));return ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ui(a.map(function(h){return h.x||0})),f)),ie(f)?I.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,l=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=iM(o,Gle);return I.createElement(Fe,{clipPath:a?"url(#clipPath-".concat(s,")"):null},I.createElement(ts,Qa({},Ne(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&I.createElement(ts,Qa({},Ne(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&I.createElement(ts,Qa({},Ne(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return I.createElement(la,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(g){var b=g.length/o.length,S=o.map(function(E,A){var k=Math.floor(A*b);if(g[k]){var D=g[k],P=_t(D.x,E.x),O=_t(D.y,E.y);return Ni(Ni({},E),{},{x:P(y),y:O(y)})}return E}),w;if(ie(l)&&typeof l=="number"){var _=_t(v,l);w=_(y)}else if(je(l)||bl(l)){var j=_t(v,0);w=j(y)}else w=l.map(function(E,A){var k=Math.floor(A*b);if(v[k]){var D=v[k],P=_t(D.x,E.x),O=_t(D.y,E.y);return Ni(Ni({},E),{},{x:P(y),y:O(y)})}return E});return a.renderAreaStatically(S,w,n,i)}return I.createElement(Fe,null,I.createElement("defs",null,I.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),I.createElement(Fe,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!d&&h>0||!fs(d,s)||!fs(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=Re("recharts-area",l),S=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,_=S||w,j=je(v)?this.id:v,E=(n=Ne(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,P=D===void 0?2:D,O=nD(s)?s:{},z=O.clipDot,W=z===void 0?!0:z,G=k*2+P;return I.createElement(Fe,{className:b},S||w?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(j)},I.createElement("rect",{x:S?d:d-p/2,y:w?u:u-m/2,width:S?p:p*2,height:w?m:m*2})),!W&&I.createElement("clipPath",{id:"clipPath-dots-".concat(j)},I.createElement("rect",{x:d-G/2,y:u-G/2,width:p+G,height:m+G}))):null,y?null:this.renderArea(_,j),(s||y)&&this.renderDots(_,W,j),(!g||x)&&In.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(C.PureComponent);nM=Cs;On(Cs,"displayName","Area");On(Cs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!xn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});On(Cs,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ie(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});On(Cs,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=u&&u.length,g=nM.getBaseValue(e,r,n,i),v=p==="horizontal",x=!1,y=f.map(function(S,w){var _;m?_=u[d+w]:(_=Rt(S,l),Array.isArray(_)?x=!0:_=[g,_]);var j=_[1]==null||m&&Rt(S,l)==null;return v?{x:Bo({axis:n,ticks:a,bandSize:o,entry:S,index:w}),y:j?null:i.scale(_[1]),value:_,payload:S}:{x:j?null:n.scale(_[1]),y:Bo({axis:i,ticks:s,bandSize:o,entry:S,index:w}),value:_,payload:S}}),b;return m||x?b=y.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:w!=null&&S.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:S.y}}):b=v?i.scale(g):n.scale(g),Ni({points:y,baseLine:b,layout:p,isRange:x},h)});On(Cs,"renderDotItem",function(t,e){var r;if(I.isValidElement(t))r=I.cloneElement(t,e);else if(Ce(t))r=t(e);else{var n=Re("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=iM(e,qle);r=I.createElement(Am,Qa({},a,{key:i,className:n}))}return r});function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cM(n.key),n)}}function nce(t,e,r){return e&&iT(t.prototype,e),r&&iT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ice(t,e,r){return e=Kh(e),ace(t,oM()?Reflect.construct(e,r||[],Kh(t).constructor):e.apply(t,r))}function ace(t,e){if(e&&(Xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sce(t)}function sce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!t})()}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(t)}function oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ix(t,e)}function lM(t,e,r){return e=cM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cM(t){var e=lce(t,"string");return Xo(e)=="symbol"?e:e+""}function lce(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mm=function(t){function e(){return rce(this,e),ice(this,e,arguments)}return oce(e,t),nce(e,[{key:"render",value:function(){return null}}])}(C.Component);lM(Mm,"displayName","ZAxis");lM(Mm,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var cce=["option","isActive"];function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oc.apply(this,arguments)}function uce(t,e){if(t==null)return{};var r=dce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fce(t){var e=t.option,r=t.isActive,n=uce(t,cce);return typeof e=="string"?C.createElement(W0,Oc({option:C.createElement(fm,Oc({type:e},n)),isActive:r,shapeType:"symbols"},n)):C.createElement(W0,Oc({option:e,isActive:r,shapeType:"symbols"},n))}function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dc.apply(this,arguments)}function aT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(r),!0).forEach(function(n){zi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dM(n.key),n)}}function pce(t,e,r){return e&&sT(t.prototype,e),r&&sT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mce(t,e,r){return e=Qh(e),gce(t,uM()?Reflect.construct(e,r||[],Qh(t).constructor):e.apply(t,r))}function gce(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vce(t)}function vce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uM=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(t)}function yce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ax(t,e)}function zi(t,e,r){return e=dM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dM(t){var e=xce(t,"string");return Zo(e)=="symbol"?e:e+""}function xce(t,e){if(Zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rm=function(t){function e(){var r;hce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mce(this,e,[].concat(i)),zi(r,"state",{isAnimationFinished:!1}),zi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),zi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),zi(r,"id",js("recharts-scatter-")),r}return yce(e,t),pce(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.activeShape,l=a.activeIndex,u=Ne(this.props,!1);return n.map(function(d,f){var h=l===f,p=h?o:s,m=zr(zr({},u),d);return I.createElement(Fe,Dc({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},ru(i.props,d,f),{role:"img"}),I.createElement(fce,Dc({option:p,isActive:h,key:"symbol-".concat(f)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return I.createElement(la,{begin:o,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,m=a.map(function(g,v){var x=f&&f[v];if(x){var y=_t(x.cx,g.cx),b=_t(x.cy,g.cy),S=_t(x.size,g.size);return zr(zr({},g),{},{cx:y(p),cy:b(p),size:S(p)})}var w=_t(0,g.size);return zr(zr({},g),{},{size:w(p)})});return I.createElement(Fe,null,n.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!fs(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,o=i.yAxis,l=i.children,u=Er(l,Tl);return u?u.map(function(d,f){var h=d.props,p=h.direction,m=h.dataKey;return I.cloneElement(d,{key:"".concat(p,"-").concat(m,"-").concat(a[f]),data:a,xAxis:s,yAxis:o,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(v,x){return{x:v.cx,y:v.cy,value:p==="x"?+v.node.x:+v.node.y,errorVal:Rt(v,x)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,s=n.lineType,o=n.lineJointType,l=Ne(this.props,!1),u=Ne(a,!1),d,f;if(s==="joint")d=i.map(function(b){return{x:b.cx,y:b.cy}});else if(s==="fitting"){var h=a5(i),p=h.xmin,m=h.xmax,g=h.a,v=h.b,x=function(S){return g*S+v};d=[{x:p,y:x(p)},{x:m,y:x(m)}]}var y=zr(zr(zr({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:d});return I.isValidElement(a)?f=I.cloneElement(a,y):Ce(a)?f=a(y):f=I.createElement(ts,Dc({},y,{type:o})),I.createElement(Fe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,s=n.line,o=n.className,l=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,m=n.id,g=n.isAnimationActive;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Re("recharts-scatter",o),y=l&&l.allowDataOverflow,b=u&&u.allowDataOverflow,S=y||b,w=je(m)?this.id:m;return I.createElement(Fe,{className:x,clipPath:S?"url(#clipPath-".concat(w,")"):null},y||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(w)},I.createElement("rect",{x:y?d:d-h/2,y:b?f:f-p/2,width:y?h:h*2,height:b?p:p*2}))):null,s&&this.renderLine(),this.renderErrorBar(),I.createElement(Fe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!g||v)&&In.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(C.PureComponent);zi(Rm,"displayName","Scatter");zi(Rm,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!xn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});zi(Rm,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,s=t.xAxisTicks,o=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,d=Er(i.props.children,cw),f=je(e.dataKey)?i.props.dataKey:e.dataKey,h=je(r.dataKey)?i.props.dataKey:r.dataKey,p=n&&n.dataKey,m=n?n.range:Mm.defaultProps.range,g=m&&m[0],v=e.scale.bandwidth?e.scale.bandwidth():0,x=r.scale.bandwidth?r.scale.bandwidth():0,y=a.map(function(b,S){var w=Rt(b,f),_=Rt(b,h),j=!je(p)&&Rt(b,p)||"-",E=[{name:je(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:w,payload:b,dataKey:f,type:u},{name:je(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:b,dataKey:h,type:u}];j!=="-"&&E.push({name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:b,dataKey:p,type:u});var A=Bo({axis:e,ticks:s,bandSize:v,entry:b,index:S,dataKey:f}),k=Bo({axis:r,ticks:o,bandSize:x,entry:b,index:S,dataKey:h}),D=j!=="-"?n.scale(j):g,P=Math.sqrt(Math.max(D,0)/Math.PI);return zr(zr({},b),{},{cx:A,cy:k,x:A-P,y:k-P,xAxis:e,yAxis:r,zAxis:n,width:2*P,height:2*P,size:D,node:{x:w,y:_,z:j},tooltipPayload:E,tooltipPosition:{x:A,y:k},payload:b},d&&d[S]&&d[S].props)});return zr({points:y},l)});function Jo(t){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(t)}function bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pM(n.key),n)}}function wce(t,e,r){return e&&oT(t.prototype,e),r&&oT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sce(t,e,r){return e=Xh(e),_ce(t,fM()?Reflect.construct(e,r||[],Xh(t).constructor):e.apply(t,r))}function _ce(t,e){if(e&&(Jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ece(t)}function Ece(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fM=function(){return!!t})()}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xh(t)}function jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sx(t,e)}function hM(t,e,r){return e=pM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pM(t){var e=Ace(t,"string");return Jo(e)=="symbol"?e:e+""}function Ace(t,e){if(Jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ox.apply(this,arguments)}function Tce(t){var e=t.xAxisId,r=Bw(),n=Uw(),i=z2(e);return i==null?null:C.createElement(Nl,ox({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ti(s,!0)}}))}var ca=function(t){function e(){return bce(this,e),Sce(this,e,arguments)}return jce(e,t),wce(e,[{key:"render",value:function(){return C.createElement(Tce,this.props)}}])}(C.Component);hM(ca,"displayName","XAxis");hM(ca,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function Nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vM(n.key),n)}}function Cce(t,e,r){return e&&lT(t.prototype,e),r&&lT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kce(t,e,r){return e=Zh(e),Oce(t,mM()?Reflect.construct(e,r||[],Zh(t).constructor):e.apply(t,r))}function Oce(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dce(t)}function Dce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mM=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zh(t)}function Pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lx(t,e)}function gM(t,e,r){return e=vM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vM(t){var e=Mce(t,"string");return el(e)=="symbol"?e:e+""}function Mce(t,e){if(el(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cx.apply(this,arguments)}var Rce=function(e){var r=e.yAxisId,n=Bw(),i=Uw(),a=W2(r);return a==null?null:C.createElement(Nl,cx({},a,{className:Re("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return ti(o,!0)}}))},ua=function(t){function e(){return Nce(this,e),kce(this,e,arguments)}return Pce(e,t),Cce(e,[{key:"render",value:function(){return C.createElement(Rce,this.props)}}])}(C.Component);gM(ua,"displayName","YAxis");gM(ua,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cT(t){return Fce(t)||Lce(t)||$ce(t)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(t,e){if(t){if(typeof t=="string")return ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(t,e)}}function Lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fce(t){if(Array.isArray(t))return ux(t)}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dx=function(e,r,n,i,a){var s=Er(e,zw),o=Er(e,Om),l=[].concat(cT(s),cT(o)),u=Er(e,Pm),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&$n(v.props,"extendDomain")&&ie(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&$n(v.props,"extendDomain")&&ie(v.props[p])&&ie(v.props[m])){var x=v.props[p],y=v.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},yM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(yM);var Bce=yM.exports;const Uce=Ze(Bce);var tv=new Uce,rv="recharts.syncMouseEvents";function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xM(n.key),n)}}function zce(t,e,r){return e&&uT(t.prototype,e),r&&uT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nv(t,e,r){return e=xM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xM(t){var e=Wce(t,"string");return Iu(e)=="symbol"?e:e+""}function Wce(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vce=function(){function t(){Hce(this,t),nv(this,"activeIndex",0),nv(this,"coordinateList",[]),nv(this,"layout","horizontal")}return zce(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Gce(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ie(n)&&ie(i))return!0}return!1}function qce(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function bM(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Yt(e,r,n,i),o=Yt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Yce(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Yt(o,l,u,f),p=Yt(o,l,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return bM(e);return[{x:n,y:i},{x:a,y:s}]}function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function dT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(r),!0).forEach(function(n){Kce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kce(t,e,r){return e=Qce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qce(t){var e=Xce(t,"string");return $u(e)=="symbol"?e:e+""}function Xce(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zce(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=ts;if(h==="ScatterChart")m=s,g=Oie;else if(h==="BarChart")m=qce(f,s,l,d),g=Rw;else if(f==="radial"){var v=bM(s),x=v.cx,y=v.cy,b=v.radius,S=v.startAngle,w=v.endAngle;m={cx:x,cy:y,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},g=m2}else m={points:Yce(f,s,l)},g=ts;var _=Fd(Fd(Fd(Fd({stroke:"#ccc",pointerEvents:"none"},l),m),Ne(p,!1)),{},{payload:o,payloadIndex:u,className:Re("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,_):C.createElement(g,_)}var Jce=["item"],eue=["children","className","width","height","style","compact","title","desc"];function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ao.apply(this,arguments)}function fT(t,e){return nue(t)||rue(t,e)||SM(t,e)||tue()}function tue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function nue(t){if(Array.isArray(t))return t}function hT(t,e){if(t==null)return{};var r=iue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_M(n.key),n)}}function sue(t,e,r){return e&&pT(t.prototype,e),r&&pT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oue(t,e,r){return e=Jh(e),lue(t,wM()?Reflect.construct(e,r||[],Jh(t).constructor):e.apply(t,r))}function lue(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cue(t)}function cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(t)}function uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fx(t,e)}function rl(t){return hue(t)||fue(t)||SM(t)||due()}function due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SM(t,e){if(t){if(typeof t=="string")return hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(t,e)}}function fue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hue(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(r),!0).forEach(function(n){Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Se(t,e,r){return e=_M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _M(t){var e=pue(t,"string");return tl(e)=="symbol"?e:e+""}function pue(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mue={xAxis:["bottom","top"],yAxis:["left","right"]},gue={width:"100%",height:"100%"},EM={x:0,y:0};function Bd(t){return t}var vue=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},yue=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Z(Z(Z({},i),Yt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return Z(Z(Z({},i),Yt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return EM},Im=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(rl(o),rl(u)):o},[]);return s.length>0?s:e&&e.length&&ie(i)&&ie(a)?e.slice(i,a+1):[]};function jM(t){return t==="number"?[0,"auto"]:void 0}var px=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Im(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Zf(p,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(rl(l),[f2(u,h)]):l},[])},gT=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=vue(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=pte(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=px(e,r,d,f),p=yue(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},xue=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=c2(d,a);return n.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?Z(Z({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,S=x.allowDataOverflow,w=x.allowDuplicatedCategory,_=x.scale,j=x.ticks,E=x.includeHidden,A=x[s];if(m[A])return m;var k=Im(e.data,{graphicalItems:i.filter(function(V){var q,re=s in V.props?V.props[s]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[s];return re===A}),dataStartIndex:l,dataEndIndex:u}),D=k.length,P,O,z;Gce(x.domain,S,y)&&(P=N0(x.domain,null,S),p&&(y==="number"||_!=="auto")&&(z=Nc(k,b,"category")));var W=jM(y);if(!P||P.length===0){var G,M=(G=x.domain)!==null&&G!==void 0?G:W;if(b){if(P=Nc(k,b,y),y==="category"&&p){var $=i5(P);w&&$?(O=P,P=Ih(0,D)):w||(P=Rj(M,P,g).reduce(function(V,q){return V.indexOf(q)>=0?V:[].concat(rl(V),[q])},[]))}else if(y==="category")w?P=P.filter(function(V){return V!==""&&!je(V)}):P=Rj(M,P,g).reduce(function(V,q){return V.indexOf(q)>=0||q===""||je(q)?V:[].concat(rl(V),[q])},[]);else if(y==="number"){var B=xte(k,i.filter(function(V){var q,re,se=s in V.props?V.props[s]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[s],fe="hide"in V.props?V.props.hide:(re=V.type.defaultProps)===null||re===void 0?void 0:re.hide;return se===A&&(E||!fe)}),b,a,d);B&&(P=B)}p&&(y==="number"||_!=="auto")&&(z=Nc(k,b,"category"))}else p?P=Ih(0,D):o&&o[A]&&o[A].hasStack&&y==="number"?P=h==="expand"?[0,1]:d2(o[A].stackGroups,l,u):P=l2(k,i.filter(function(V){var q=s in V.props?V.props[s]:V.type.defaultProps[s],re="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return q===A&&(E||!re)}),y,d,!0);if(y==="number")P=dx(f,P,A,a,j),M&&(P=N0(M,P,S));else if(y==="category"&&M){var U=M,H=P.every(function(V){return U.indexOf(V)>=0});H&&(P=U)}}return Z(Z({},m),{},Se({},A,Z(Z({},x),{},{axisType:a,domain:P,categoricalDomain:z,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:d})))},{})},bue=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=Im(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=c2(d,a),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?Z(Z({},x.type.defaultProps),x.props):x.props,b=y[s],S=jM("number");if(!v[b]){g++;var w;return m?w=Ih(0,p):o&&o[b]&&o[b].hasStack?(w=d2(o[b].stackGroups,l,u),w=dx(f,w,b,a)):(w=N0(S,l2(h,n.filter(function(_){var j,E,A=s in _.props?_.props[s]:(j=_.type.defaultProps)===null||j===void 0?void 0:j[s],k="hide"in _.props?_.props.hide:(E=_.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===b&&!k}),"number",d),i.defaultProps.allowDataOverflow),w=dx(f,w,b,a)),Z(Z({},v),{},Se({},b,Z(Z({axisType:a},i.defaultProps),{},{hide:!0,orientation:Xr(mue,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},wue=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Er(d,a),p={};return h&&h.length?p=xue(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=bue(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},Sue=function(e){var r=$i(e),n=ti(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ow(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Th(r,n)}},vT=function(e){var r=e.children,n=e.defaultShowTooltip,i=Cr(r,zo),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},_ue=function(e){return!e||!e.length?!1:e.some(function(r){var n=ii(r&&r.type);return n&&n.indexOf("Bar")>=0})},yT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Eue=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Cr(f,zo),m=Cr(f,na),g=Object.keys(l).reduce(function(w,_){var j=l[_],E=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},Se({},E,w[E]+j.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,_){var j=s[_],E=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},Se({},E,Xr(w,"".concat(E))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=Z(Z({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||zo.defaultProps.height),m&&r&&(x=vte(x,i,n,r));var b=u-x.left-x.right,S=d-x.top-x.bottom;return Z(Z({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(S,0)})},jue=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Gw=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var b=y.graphicalItems,S=y.stackGroups,w=y.offset,_=y.updateId,j=y.dataStartIndex,E=y.dataEndIndex,A=x.barSize,k=x.layout,D=x.barGap,P=x.barCategoryGap,O=x.maxBarSize,z=yT(k),W=z.numericAxisName,G=z.cateAxisName,M=_ue(b),$=[];return b.forEach(function(B,U){var H=Im(x.data,{graphicalItems:[B],dataStartIndex:j,dataEndIndex:E}),V=B.type.defaultProps!==void 0?Z(Z({},B.type.defaultProps),B.props):B.props,q=V.dataKey,re=V.maxBarSize,se=V["".concat(W,"Id")],fe=V["".concat(G,"Id")],_e={},pe=l.reduce(function(Ae,K){var ce=y["".concat(K.axisType,"Map")],he=V["".concat(K.axisType,"Id")];ce&&ce[he]||K.axisType==="zAxis"||ps(!1);var we=ce[he];return Z(Z({},Ae),{},Se(Se({},K.axisType,we),"".concat(K.axisType,"Ticks"),ti(we)))},_e),X=pe[G],oe=pe["".concat(G,"Ticks")],ne=S&&S[se]&&S[se].hasStack&&Ote(B,S[se].stackGroups),T=ii(B.type).indexOf("Bar")>=0,N=Th(X,oe),R=[],L=M&&mte({barSize:A,stackGroups:S,totalSize:jue(pe,G)});if(T){var Y,ee,ae=je(re)?O:re,ue=(Y=(ee=Th(X,oe,!0))!==null&&ee!==void 0?ee:ae)!==null&&Y!==void 0?Y:0;R=gte({barGap:D,barCategoryGap:P,bandSize:ue!==N?ue:N,sizeList:L[fe],maxBarSize:ae}),ue!==N&&(R=R.map(function(Ae){return Z(Z({},Ae),{},{position:Z(Z({},Ae.position),{},{offset:Ae.position.offset-ue/2})})}))}var me=B&&B.type&&B.type.getComposedData;me&&$.push({props:Z(Z({},me(Z(Z({},pe),{},{displayedData:H,props:x,dataKey:q,item:B,bandSize:N,barPosition:R,offset:w,stackedData:ne,layout:k,dataStartIndex:j,dataEndIndex:E}))),{},Se(Se(Se({key:B.key||"item-".concat(U)},W,pe[W]),G,pe[G]),"animationId",_)),childIndex:v5(B,x.children),item:B})}),$},p=function(x,y){var b=x.props,S=x.dataStartIndex,w=x.dataEndIndex,_=x.updateId;if(!j1({props:b}))return null;var j=b.children,E=b.layout,A=b.stackOffset,k=b.data,D=b.reverseStackOrder,P=yT(E),O=P.numericAxisName,z=P.cateAxisName,W=Er(j,n),G=Nte(k,W,"".concat(O,"Id"),"".concat(z,"Id"),A,D),M=l.reduce(function(V,q){var re="".concat(q.axisType,"Map");return Z(Z({},V),{},Se({},re,wue(b,Z(Z({},q),{},{graphicalItems:W,stackGroups:q.axisType===O&&G,dataStartIndex:S,dataEndIndex:w}))))},{}),$=Eue(Z(Z({},M),{},{props:b,graphicalItems:W}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(V){M[V]=d(b,M[V],$,V.replace("Map",""),r)});var B=M["".concat(z,"Map")],U=Sue(B),H=h(b,Z(Z({},M),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:W,stackGroups:G,offset:$}));return Z(Z({formattedGraphicalItems:H,graphicalItems:W,offset:$,stackGroups:G},U),M)},m=function(v){function x(y){var b,S,w;return aue(this,x),w=oue(this,x,[y]),Se(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(w,"accessibilityManager",new Vce),Se(w,"handleLegendBBoxUpdate",function(_){if(_){var j=w.state,E=j.dataStartIndex,A=j.dataEndIndex,k=j.updateId;w.setState(Z({legendBBox:_},p({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:k},Z(Z({},w.state),{},{legendBBox:_}))))}}),Se(w,"handleReceiveSyncEvent",function(_,j,E){if(w.props.syncId===_){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Se(w,"handleBrushChange",function(_){var j=_.startIndex,E=_.endIndex;if(j!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return Z({dataStartIndex:j,dataEndIndex:E},p({props:w.props,dataStartIndex:j,dataEndIndex:E,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),Se(w,"handleMouseEnter",function(_){var j=w.getMouseInfo(_);if(j){var E=Z(Z({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseEnter;Ce(A)&&A(E,_)}}),Se(w,"triggeredAfterMouseMove",function(_){var j=w.getMouseInfo(_),E=j?Z(Z({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseMove;Ce(A)&&A(E,_)}),Se(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Se(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Se(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),Se(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var E=w.props.onMouseLeave;Ce(E)&&E(j,_)}),Se(w,"handleOuterEvent",function(_){var j=g5(_),E=Xr(w.props,"".concat(j));if(j&&Ce(E)){var A,k;/.*touch.*/i.test(j)?k=w.getMouseInfo(_.changedTouches[0]):k=w.getMouseInfo(_),E((A=k)!==null&&A!==void 0?A:{},_)}}),Se(w,"handleClick",function(_){var j=w.getMouseInfo(_);if(j){var E=Z(Z({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onClick;Ce(A)&&A(E,_)}}),Se(w,"handleMouseDown",function(_){var j=w.props.onMouseDown;if(Ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),Se(w,"handleMouseUp",function(_){var j=w.props.onMouseUp;if(Ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),Se(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Se(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),Se(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),Se(w,"handleDoubleClick",function(_){var j=w.props.onDoubleClick;if(Ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),Se(w,"handleContextMenu",function(_){var j=w.props.onContextMenu;if(Ce(j)){var E=w.getMouseInfo(_);j(E,_)}}),Se(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&tv.emit(rv,w.props.syncId,_,w.eventEmitterSymbol)}),Se(w,"applySyncEvent",function(_){var j=w.props,E=j.layout,A=j.syncMethod,k=w.state.updateId,D=_.dataStartIndex,P=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(Z({dataStartIndex:D,dataEndIndex:P},p({props:w.props,dataStartIndex:D,dataEndIndex:P,updateId:k},w.state)));else if(_.activeTooltipIndex!==void 0){var O=_.chartX,z=_.chartY,W=_.activeTooltipIndex,G=w.state,M=G.offset,$=G.tooltipTicks;if(!M)return;if(typeof A=="function")W=A($,_);else if(A==="value"){W=-1;for(var B=0;B<$.length;B++)if($[B].value===_.activeLabel){W=B;break}}var U=Z(Z({},M),{},{x:M.left,y:M.top}),H=Math.min(O,U.x+U.width),V=Math.min(z,U.y+U.height),q=$[W]&&$[W].value,re=px(w.state,w.props.data,W),se=$[W]?{x:E==="horizontal"?$[W].coordinate:H,y:E==="horizontal"?V:$[W].coordinate}:EM;w.setState(Z(Z({},_),{},{activeLabel:q,activeCoordinate:se,activePayload:re,activeTooltipIndex:W}))}else w.setState(_)}),Se(w,"renderCursor",function(_){var j,E=w.state,A=E.isTooltipActive,k=E.activeCoordinate,D=E.activePayload,P=E.offset,O=E.activeTooltipIndex,z=E.tooltipAxisBandSize,W=w.getTooltipEventType(),G=(j=_.props.active)!==null&&j!==void 0?j:A,M=w.props.layout,$=_.key||"_recharts-cursor";return I.createElement(Zce,{key:$,activeCoordinate:k,activePayload:D,activeTooltipIndex:O,chartName:r,element:_,isActive:G,layout:M,offset:P,tooltipAxisBandSize:z,tooltipEventType:W})}),Se(w,"renderPolarAxis",function(_,j,E){var A=Xr(_,"type.axisType"),k=Xr(w.state,"".concat(A,"Map")),D=_.type.defaultProps,P=D!==void 0?Z(Z({},D),_.props):_.props,O=k&&k[P["".concat(A,"Id")]];return C.cloneElement(_,Z(Z({},O),{},{className:Re(A,O.className),key:_.key||"".concat(j,"-").concat(E),ticks:ti(O,!0)}))}),Se(w,"renderPolarGrid",function(_){var j=_.props,E=j.radialLines,A=j.polarAngles,k=j.polarRadius,D=w.state,P=D.radiusAxisMap,O=D.angleAxisMap,z=$i(P),W=$i(O),G=W.cx,M=W.cy,$=W.innerRadius,B=W.outerRadius;return C.cloneElement(_,{polarAngles:Array.isArray(A)?A:ti(W,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(k)?k:ti(z,!0).map(function(U){return U.coordinate}),cx:G,cy:M,innerRadius:$,outerRadius:B,key:_.key||"polar-grid",radialLines:E})}),Se(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,j=w.props,E=j.children,A=j.width,k=j.height,D=w.props.margin||{},P=A-(D.left||0)-(D.right||0),O=s2({children:E,formattedGraphicalItems:_,legendWidth:P,legendContent:u});if(!O)return null;var z=O.item,W=hT(O,Jce);return C.cloneElement(z,Z(Z({},W),{},{chartWidth:A,chartHeight:k,margin:D,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Se(w,"renderTooltip",function(){var _,j=w.props,E=j.children,A=j.accessibilityLayer,k=Cr(E,Wr);if(!k)return null;var D=w.state,P=D.isTooltipActive,O=D.activeCoordinate,z=D.activePayload,W=D.activeLabel,G=D.offset,M=(_=k.props.active)!==null&&_!==void 0?_:P;return C.cloneElement(k,{viewBox:Z(Z({},G),{},{x:G.left,y:G.top}),active:M,label:W,payload:M?z:[],coordinate:O,accessibilityLayer:A})}),Se(w,"renderBrush",function(_){var j=w.props,E=j.margin,A=j.data,k=w.state,D=k.offset,P=k.dataStartIndex,O=k.dataEndIndex,z=k.updateId;return C.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Rd(w.handleBrushChange,_.props.onChange),data:A,x:ie(_.props.x)?_.props.x:D.left,y:ie(_.props.y)?_.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:ie(_.props.width)?_.props.width:D.width,startIndex:P,endIndex:O,updateId:"brush-".concat(z)})}),Se(w,"renderReferenceElement",function(_,j,E){if(!_)return null;var A=w,k=A.clipPathId,D=w.state,P=D.xAxisMap,O=D.yAxisMap,z=D.offset,W=_.type.defaultProps||{},G=_.props,M=G.xAxisId,$=M===void 0?W.xAxisId:M,B=G.yAxisId,U=B===void 0?W.yAxisId:B;return C.cloneElement(_,{key:_.key||"".concat(j,"-").concat(E),xAxis:P[$],yAxis:O[U],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:k})}),Se(w,"renderActivePoints",function(_){var j=_.item,E=_.activePoint,A=_.basePoint,k=_.childIndex,D=_.isRange,P=[],O=j.props.key,z=j.item.type.defaultProps!==void 0?Z(Z({},j.item.type.defaultProps),j.item.props):j.item.props,W=z.activeDot,G=z.dataKey,M=Z(Z({index:k,dataKey:G,cx:E.x,cy:E.y,r:4,fill:Mw(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ne(W,!1)),Jf(W));return P.push(x.renderActiveDot(W,M,"".concat(O,"-activePoint-").concat(k))),A?P.push(x.renderActiveDot(W,Z(Z({},M),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(k))):D&&P.push(null),P}),Se(w,"renderGraphicChild",function(_,j,E){var A=w.filterFormatItem(_,j,E);if(!A)return null;var k=w.getTooltipEventType(),D=w.state,P=D.isTooltipActive,O=D.tooltipAxis,z=D.activeTooltipIndex,W=D.activeLabel,G=w.props.children,M=Cr(G,Wr),$=A.props,B=$.points,U=$.isRange,H=$.baseLine,V=A.item.type.defaultProps!==void 0?Z(Z({},A.item.type.defaultProps),A.item.props):A.item.props,q=V.activeDot,re=V.hide,se=V.activeBar,fe=V.activeShape,_e=!!(!re&&P&&M&&(q||se||fe)),pe={};k!=="axis"&&M&&M.props.trigger==="click"?pe={onClick:Rd(w.handleItemMouseEnter,_.props.onClick)}:k!=="axis"&&(pe={onMouseLeave:Rd(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Rd(w.handleItemMouseEnter,_.props.onMouseEnter)});var X=C.cloneElement(_,Z(Z({},A.props),pe));function oe(K){return typeof O.dataKey=="function"?O.dataKey(K.payload):null}if(_e)if(z>=0){var ne,T;if(O.dataKey&&!O.allowDuplicatedCategory){var N=typeof O.dataKey=="function"?oe:"payload.".concat(O.dataKey.toString());ne=Zf(B,N,W),T=U&&H&&Zf(H,N,W)}else ne=B==null?void 0:B[z],T=U&&H&&H[z];if(fe||se){var R=_.props.activeIndex!==void 0?_.props.activeIndex:z;return[C.cloneElement(_,Z(Z(Z({},A.props),pe),{},{activeIndex:R})),null,null]}if(!je(ne))return[X].concat(rl(w.renderActivePoints({item:A,activePoint:ne,basePoint:T,childIndex:z,isRange:U})))}else{var L,Y=(L=w.getItemByXY(w.state.activeCoordinate))!==null&&L!==void 0?L:{graphicalItem:X},ee=Y.graphicalItem,ae=ee.item,ue=ae===void 0?_:ae,me=ee.childIndex,Ae=Z(Z(Z({},A.props),pe),{},{activeIndex:me});return[C.cloneElement(ue,Ae),null,null]}return U?[X,null,null]:[X,null]}),Se(w,"renderCustomized",function(_,j,E){return C.cloneElement(_,Z(Z({key:"recharts-customized-".concat(E)},w.props),w.state))}),Se(w,"renderMap",{CartesianGrid:{handler:Bd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Bd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Bd},YAxis:{handler:Bd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:js("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=sP(w.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return uue(x,v),sue(x,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,_=b.height,j=b.layout,E=Cr(S,Wr);if(E){var A=E.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,D=px(this.state,w,A,k),P=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+_)/2,z=j==="horizontal",W=z?{x:P,y:O}:{y:P,x:O},G=this.state.formattedGraphicalItems.find(function($){var B=$.item;return B.type.name==="Scatter"});G&&(W=Z(Z({},W),G.props.points[A].tooltipPosition),D=G.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:k,activePayload:D,activeCoordinate:W};this.setState(M),this.renderCursor(E),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){Hy([Cr(b.children,Wr)],[Cr(this.props.children,Wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Cr(this.props.children,Wr);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=BQ(w),j={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},E=w.width/S.offsetWidth||1,A=this.inRange(j.chartX,j.chartY,E);if(!A)return null;var k=this.state,D=k.xAxisMap,P=k.yAxisMap,O=this.getTooltipEventType(),z=gT(this.state,this.props.data,this.props.layout,A);if(O!=="axis"&&D&&P){var W=$i(D).scale,G=$i(P).scale,M=W&&W.invert?W.invert(j.chartX):null,$=G&&G.invert?G.invert(j.chartY):null;return Z(Z({},j),{},{xValue:M,yValue:$},z)}return z?Z(Z({},j),z):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,j=b/w,E=S/w;if(_==="horizontal"||_==="vertical"){var A=this.state.offset,k=j>=A.left&&j<=A.left+A.width&&E>=A.top&&E<=A.top+A.height;return k?{x:j,y:E}:null}var D=this.state,P=D.angleAxisMap,O=D.radiusAxisMap;if(P&&O){var z=$i(P);return Lj({x:j,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Cr(b,Wr),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Jf(this.props,this.handleOuterEvent);return Z(Z({},j),_)}},{key:"addListener",value:function(){tv.on(rv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tv.removeListener(rv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var _=this.state.formattedGraphicalItems,j=0,E=_.length;j<E;j++){var A=_[j];if(A.item===b||A.props.key===b.key||S===ii(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,j=S.height,E=S.width;return I.createElement("defs",null,I.createElement("clipPath",{id:b},I.createElement("rect",{x:w,y:_,height:j,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=fT(w,2),j=_[0],E=_[1];return Z(Z({},S),{},Se({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=fT(w,2),j=_[0],E=_[1];return Z(Z({},S),{},Se({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var j=0,E=w.length;j<E;j++){var A=w[j],k=A.props,D=A.item,P=D.type.defaultProps!==void 0?Z(Z({},D.type.defaultProps),D.props):D.props,O=ii(D.type);if(O==="Bar"){var z=(k.data||[]).find(function($){return wie(b,$)});if(z)return{graphicalItem:A,payload:z}}else if(O==="RadialBar"){var W=(k.data||[]).find(function($){return Lj(b,$)});if(W)return{graphicalItem:A,payload:W}}else if(Tm(A,_)||Nm(A,_)||Ou(A,_)){var G=_ae({graphicalItem:A,activeTooltipItem:_,itemData:P.data}),M=P.activeIndex===void 0?G:P.activeIndex;return{graphicalItem:Z(Z({},A),{},{childIndex:M}),payload:Ou(A,_)?P.data[G]:A.props.data[G]}}}return null}},{key:"render",value:function(){var b=this;if(!j1(this))return null;var S=this.props,w=S.children,_=S.className,j=S.width,E=S.height,A=S.style,k=S.compact,D=S.title,P=S.desc,O=hT(S,eue),z=Ne(O,!1);if(k)return I.createElement($A,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(Wy,ao({},z,{width:j,height:E,title:D,desc:P}),this.renderClipPath(),T1(w,this.renderMap)));if(this.props.accessibilityLayer){var W,G;z.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,z.role=(G=this.props.role)!==null&&G!==void 0?G:"application",z.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},z.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return I.createElement($A,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",ao({className:Re("recharts-wrapper",_),style:Z({position:"relative",cursor:"default",width:j,height:E},A)},M,{ref:function(B){b.container=B}}),I.createElement(Wy,ao({},z,{width:j,height:E,title:D,desc:P,style:gue}),this.renderClipPath(),T1(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Se(m,"displayName",r),Se(m,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Se(m,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,S=v.children,w=v.width,_=v.height,j=v.layout,E=v.stackOffset,A=v.margin,k=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var P=vT(v);return Z(Z(Z({},P),{},{updateId:0},p(Z(Z({props:v},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:S})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||_!==x.prevHeight||j!==x.prevLayout||E!==x.prevStackOffset||!go(A,x.prevMargin)){var O=vT(v),z={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},W=Z(Z({},gT(x,b,j)),{},{updateId:x.updateId+1}),G=Z(Z(Z({},O),z),W);return Z(Z(Z({},G),p(Z({props:v},G),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:S})}if(!Hy(S,x.prevChildren)){var M,$,B,U,H=Cr(S,zo),V=H&&(M=($=H.props)===null||$===void 0?void 0:$.startIndex)!==null&&M!==void 0?M:k,q=H&&(B=(U=H.props)===null||U===void 0?void 0:U.endIndex)!==null&&B!==void 0?B:D,re=V!==k||q!==D,se=!je(b),fe=se&&!re?x.updateId:x.updateId+1;return Z(Z({updateId:fe},p(Z(Z({props:v},x),{},{updateId:fe,dataStartIndex:V,dataEndIndex:q}),x)),{},{prevChildren:S,dataStartIndex:V,dataEndIndex:q})}return null}),Se(m,"renderActiveDot",function(v,x,y){var b;return C.isValidElement(v)?b=C.cloneElement(v,x):Ce(v)?b=v(x):b=I.createElement(Am,x),I.createElement(Fe,{className:"recharts-active-dot",key:y},b)});var g=C.forwardRef(function(x,y){return I.createElement(m,ao({},x,{ref:y}))});return g.displayName=m.displayName,g},Aue=Gw({chartName:"LineChart",GraphicalChild:Cl,axisComponents:[{axisType:"xAxis",AxisComp:ca},{axisType:"yAxis",AxisComp:ua}],formatAxisMap:Iw}),Tue=Gw({chartName:"BarChart",GraphicalChild:mi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ca},{axisType:"yAxis",AxisComp:ua}],formatAxisMap:Iw}),Nue=Gw({chartName:"ComposedChart",GraphicalChild:[Cl,Cs,mi,Rm],axisComponents:[{axisType:"xAxis",AxisComp:ca},{axisType:"yAxis",AxisComp:ua},{axisType:"zAxis",AxisComp:Mm}],formatAxisMap:Iw});function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function Fn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Je(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function tt(t){Je(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ep(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function AM(t,e){Je(2,arguments);var r=tt(t),n=Fn(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function Cue(t,e){Je(2,arguments);var r=tt(t).getTime(),n=Fn(e);return new Date(r+n)}var kue={};function ed(){return kue}function mx(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function hf(t,e){Je(2,arguments);var r=tt(t),n=tt(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var TM=6e4,NM=36e5;function Oue(t){return Je(1,arguments),t instanceof Date||ep(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Due(t){if(Je(1,arguments),!Oue(t)&&typeof t!="number")return!1;var e=tt(t);return!isNaN(Number(e))}function Pue(t,e){Je(2,arguments);var r=tt(t),n=tt(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Mue(t,e){return Je(2,arguments),tt(t).getTime()-tt(e).getTime()}var xT={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Rue="trunc";function Iue(t){return t?xT[t]:xT[Rue]}function $ue(t){Je(1,arguments);var e=tt(t);return e.setHours(23,59,59,999),e}function Lue(t){Je(1,arguments);var e=tt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Fue(t){Je(1,arguments);var e=tt(t);return $ue(e).getTime()===Lue(e).getTime()}function Bue(t,e){Je(2,arguments);var r=tt(t),n=tt(e),i=hf(r,n),a=Math.abs(Pue(r,n)),s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var o=hf(r,n)===-i;Fue(tt(t))&&a===1&&hf(t,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function Uue(t,e,r){Je(2,arguments);var n=Mue(t,e)/1e3;return Iue(r==null?void 0:r.roundingMethod)(n)}function Hue(t,e){Je(2,arguments);var r=Fn(e);return Cue(t,-r)}var zue=864e5;function Wue(t){Je(1,arguments);var e=tt(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/zue)+1}function tp(t){Je(1,arguments);var e=1,r=tt(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function CM(t){Je(1,arguments);var e=tt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=tp(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=tp(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Vue(t){Je(1,arguments);var e=CM(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=tp(r);return n}var Gue=6048e5;function que(t){Je(1,arguments);var e=tt(t),r=tp(e).getTime()-Vue(e).getTime();return Math.round(r/Gue)+1}function rp(t,e){var r,n,i,a,s,o,l,u;Je(1,arguments);var d=ed(),f=Fn((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=tt(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function kM(t,e){var r,n,i,a,s,o,l,u;Je(1,arguments);var d=tt(t),f=d.getUTCFullYear(),h=ed(),p=Fn((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=rp(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=rp(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Yue(t,e){var r,n,i,a,s,o,l,u;Je(1,arguments);var d=ed(),f=Fn((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=kM(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=rp(p,e);return m}var Kue=6048e5;function Que(t,e){Je(1,arguments);var r=tt(t),n=rp(r,e).getTime()-Yue(r,e).getTime();return Math.round(n/Kue)+1}function Ve(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Xue={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Ve(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Ve(n+1,2)},d:function(e,r){return Ve(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Ve(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Ve(e.getUTCHours(),r.length)},m:function(e,r){return Ve(e.getUTCMinutes(),r.length)},s:function(e,r){return Ve(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Ve(a,r.length)}};const Ti=Xue;var Hs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zue={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Ti.y(e,r)},Y:function(e,r,n,i){var a=kM(e,i),s=a>0?a:1-a;if(r==="YY"){var o=s%100;return Ve(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ve(s,r.length)},R:function(e,r){var n=CM(e);return Ve(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Ve(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Ve(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Ve(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return Ti.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Ve(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=Que(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Ve(a,r.length)},I:function(e,r,n){var i=que(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Ve(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ti.d(e,r)},D:function(e,r,n){var i=Wue(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ve(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Ve(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Ve(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Ve(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=Hs.noon:i===0?a=Hs.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=Hs.evening:i>=12?a=Hs.afternoon:i>=4?a=Hs.morning:a=Hs.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Ti.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ti.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ve(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ve(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ti.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ti.s(e,r)},S:function(e,r){return Ti.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return wT(s);case"XXXX":case"XX":return $a(s);case"XXXXX":case"XXX":default:return $a(s,":")}},x:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"x":return wT(s);case"xxxx":case"xx":return $a(s);case"xxxxx":case"xxx":default:return $a(s,":")}},O:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+bT(s,":");case"OOOO":default:return"GMT"+$a(s,":")}},z:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+bT(s,":");case"zzzz":default:return"GMT"+$a(s,":")}},t:function(e,r,n,i){var a=i._originalDate||e,s=Math.floor(a.getTime()/1e3);return Ve(s,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,s=a.getTime();return Ve(s,r.length)}};function bT(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var s=e||"";return r+String(i)+s+Ve(a,2)}function wT(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Ve(Math.abs(t)/60,2)}return $a(t,e)}function $a(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Ve(Math.floor(i/60),2),s=Ve(i%60,2);return n+a+r+s}const Jue=Zue;var ST=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},OM=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ede=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return ST(e,r);var s;switch(i){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",ST(i,r)).replace("{{time}}",OM(a,r))},tde={p:OM,P:ede};const rde=tde;var nde=["D","DD"],ide=["YY","YYYY"];function ade(t){return nde.indexOf(t)!==-1}function sde(t){return ide.indexOf(t)!==-1}function _T(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ode={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lde=function(e,r,n){var i,a=ode[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const cde=lde;function iv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var ude={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hde={date:iv({formats:ude,defaultWidth:"full"}),time:iv({formats:dde,defaultWidth:"full"}),dateTime:iv({formats:fde,defaultWidth:"full"})};const pde=hde;var mde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gde=function(e,r,n,i){return mde[e]};const vde=gde;function ec(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var yde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_de={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ede=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jde={ordinalNumber:Ede,era:ec({values:yde,defaultWidth:"wide"}),quarter:ec({values:xde,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ec({values:bde,defaultWidth:"wide"}),day:ec({values:wde,defaultWidth:"wide"}),dayPeriod:ec({values:Sde,defaultWidth:"wide",formattingValues:_de,defaultFormattingWidth:"wide"})};const Ade=jde;function tc(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Nde(o,function(f){return f.test(s)}):Tde(o,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function Tde(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function Nde(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Cde(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;var o=e.slice(i.length);return{value:s,rest:o}}}var kde=/^(\d+)(th|st|nd|rd)?/i,Ode=/\d+/i,Dde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pde={any:[/^b/i,/^(a|c)/i]},Mde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rde={any:[/1/i,/2/i,/3/i,/4/i]},Ide={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$de={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ude={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hde={ordinalNumber:Cde({matchPattern:kde,parsePattern:Ode,valueCallback:function(e){return parseInt(e,10)}}),era:tc({matchPatterns:Dde,defaultMatchWidth:"wide",parsePatterns:Pde,defaultParseWidth:"any"}),quarter:tc({matchPatterns:Mde,defaultMatchWidth:"wide",parsePatterns:Rde,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:tc({matchPatterns:Ide,defaultMatchWidth:"wide",parsePatterns:$de,defaultParseWidth:"any"}),day:tc({matchPatterns:Lde,defaultMatchWidth:"wide",parsePatterns:Fde,defaultParseWidth:"any"}),dayPeriod:tc({matchPatterns:Bde,defaultMatchWidth:"any",parsePatterns:Ude,defaultParseWidth:"any"})};const zde=Hde;var Wde={code:"en-US",formatDistance:cde,formatLong:pde,formatRelative:vde,localize:Ade,match:zde,options:{weekStartsOn:0,firstWeekContainsDate:1}};const DM=Wde;var Vde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qde=/^'([^]*?)'?$/,Yde=/''/g,Kde=/[a-zA-Z]/;function PM(t,e,r){var n,i,a,s,o,l,u,d,f,h,p,m,g,v,x,y,b,S;Je(2,arguments);var w=String(e),_=ed(),j=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:_.locale)!==null&&n!==void 0?n:DM,E=Fn((a=(s=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:_.firstWeekContainsDate)!==null&&s!==void 0?s:(f=_.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Fn((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:_.weekStartsOn)!==null&&m!==void 0?m:(b=_.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var k=tt(t);if(!Due(k))throw new RangeError("Invalid time value");var D=mx(k),P=Hue(k,D),O={firstWeekContainsDate:E,weekStartsOn:A,locale:j,_originalDate:k},z=w.match(Gde).map(function(W){var G=W[0];if(G==="p"||G==="P"){var M=rde[G];return M(W,j.formatLong)}return W}).join("").match(Vde).map(function(W){if(W==="''")return"'";var G=W[0];if(G==="'")return Qde(W);var M=Jue[G];if(M)return!(r!=null&&r.useAdditionalWeekYearTokens)&&sde(W)&&_T(W,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ade(W)&&_T(W,e,String(t)),M(P,W,j.localize,O);if(G.match(Kde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return W}).join("");return z}function Qde(t){var e=t.match(qde);return e?e[1].replace(Yde,"'"):t}function MM(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Xde(t){return MM({},t)}var ET=1440,Zde=2520,av=43200,Jde=86400;function efe(t,e,r){var n,i;Je(2,arguments);var a=ed(),s=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:DM;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=hf(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var l=MM(Xde(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=tt(e),d=tt(t)):(u=tt(t),d=tt(e));var f=Uue(d,u),h=(mx(d)-mx(u))/1e3,p=Math.round((f-h)/60),m;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<ET){var g=Math.round(p/60);return s.formatDistance("aboutXHours",g,l)}else{if(p<Zde)return s.formatDistance("xDays",1,l);if(p<av){var v=Math.round(p/ET);return s.formatDistance("xDays",v,l)}else if(p<Jde)return m=Math.round(p/av),s.formatDistance("aboutXMonths",m,l)}if(m=Bue(d,u),m<12){var x=Math.round(p/av);return s.formatDistance("xMonths",x,l)}else{var y=m%12,b=Math.floor(m/12);return y<3?s.formatDistance("aboutXYears",b,l):y<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function qw(t,e){return Je(1,arguments),efe(t,Date.now(),e)}function tfe(t,e){var r;Je(1,arguments);var n=Fn((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=afe(t),a;if(i.date){var s=sfe(i.date,n);a=ofe(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o=a.getTime(),l=0,u;if(i.time&&(l=lfe(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=cfe(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+l+u)}var Ud={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ife=/^([+-])(\d{2})(?::?(\d{2}))?$/;function afe(t){var e={},r=t.split(Ud.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Ud.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ud.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=Ud.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function sfe(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function ofe(t,e){if(e===null)return new Date(NaN);var r=t.match(rfe);if(!r)return new Date(NaN);var n=!!r[4],i=rc(r[1]),a=rc(r[2])-1,s=rc(r[3]),o=rc(r[4]),l=rc(r[5])-1;if(n)return pfe(e,o,l)?ufe(e,o,l):new Date(NaN);var u=new Date(0);return!ffe(e,a,s)||!hfe(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,s)),u)}function rc(t){return t?parseInt(t):1}function lfe(t){var e=t.match(nfe);if(!e)return NaN;var r=sv(e[1]),n=sv(e[2]),i=sv(e[3]);return mfe(r,n,i)?r*NM+n*TM+i*1e3:NaN}function sv(t){return t&&parseFloat(t.replace(",","."))||0}function cfe(t){if(t==="Z")return 0;var e=t.match(ife);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return gfe(n,i)?r*(n*NM+i*TM):NaN}function ufe(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var dfe=[31,null,31,30,31,30,31,31,30,31,30,31];function RM(t){return t%400===0||t%4===0&&t%100!==0}function ffe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(dfe[e]||(RM(t)?29:28))}function hfe(t,e){return e>=1&&e<=(RM(t)?366:365)}function pfe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function mfe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function gfe(t,e){return e>=0&&e<=59}function vfe(t,e){Je(2,arguments);var r=Fn(e);return AM(t,-r)}const nl=(t,e="MM/dd/yy")=>{if(!t)return"N/A";try{const r=typeof t=="string"?ir(t):t;return!r||isNaN(r.getTime())?"Invalid Date":PM(r,e)}catch(r){return console.warn("Error formatting date:",t,r),"Invalid Date"}},qr=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),yfe=t=>AM(t,1),xfe=t=>vfe(t,1),jT=t=>PM(t,"MMMM yyyy"),ir=t=>{if(!t)return null;try{if(typeof t=="string"&&t.includes(" 0:00:00")){const n=t.split(" 0:00:00")[0],i=new Date(n+"T00:00:00");if(!isNaN(i.getTime()))return i}const e=tfe(t);if(!isNaN(e.getTime()))return e;const r=new Date(t);return isNaN(r.getTime())?null:r}catch{return null}},bfe=t=>{if(!t)return"";if(typeof t=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}T/.test(t))return t.slice(0,10)}const e=typeof t=="string"?ir(t):t;if(!e||isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`},wfe=(t,e)=>e.map(n=>{const a=t.filter(o=>{const l=o.venue?o.venue.trim().toLowerCase():null,u=n.promo?n.promo.trim().toLowerCase():null;return l&&u&&l===u&&o.grossSales>0}).map(o=>({...o,date:new Date(o.date)})).sort((o,l)=>l.date-o.date).slice(0,5).map(o=>o.grossSales);let s=0;return a.length>0&&(s=a.reduce((l,u)=>l+u,0)/a.length,s=Math.round(s/100)*100),{...n,averageSales:s,salesCount:a.length}}).sort((n,i)=>i.averageSales-n.averageSales),Sfe=(t,e)=>t.filter(n=>{const i=n.venue?n.venue.trim().toLowerCase():null,a=e?e.trim().toLowerCase():null;return i&&a&&i===a&&n.grossSales>0}).map(n=>({...n,date:new Date(n.date)})).sort((n,i)=>i.date-n.date).slice(0,5).map(n=>({date:n.date.toLocaleDateString(),amount:n.grossSales})),_fe=({salesData:t,currentSheet:e,selectedYears:r=[new Date().getFullYear()]})=>{const[n,i]=C.useState(!1),a=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((u,d)=>{const f={month:u};return r.forEach(h=>{const m=t.filter(g=>{const v=ir(g.date);return v&&v.getMonth()===d&&v.getFullYear()===h}).reduce((g,v)=>g+(v.grossSales||0),0);f[h]=m}),f}),s=C.useMemo(()=>a(),[t,r]),o=({active:l,payload:u,label:d})=>l&&u&&u.length?c.jsxs("div",{className:"bg-white p-3 border border-secondary-200 rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium text-secondary-900",children:d}),u.map((f,h)=>c.jsxs("p",{style:{color:f.color},className:"text-sm",children:[f.name,": ",qr(f.value)]},h))]}):null;return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Gross Sales: ",r.length>1?`${r.length} Years`:r[0]," (",e==="TRAILER_HISTORY"?"Trailer":"Camper",")"]}),r.length>1&&c.jsxs("button",{className:`mt-2 sm:mt-0 px-3 py-1 rounded border text-xs font-semibold transition ${n?"bg-primary-600 text-white border-primary-600":"bg-white text-primary-600 border-primary-200 hover:bg-primary-50"}`,onClick:()=>i(l=>!l),children:[n?"Hide":"Show"," All Years"]})]}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"h-96",children:c.jsx(d0,{width:"100%",height:"100%",children:c.jsxs(Aue,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(Gh,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(ca,{dataKey:"month",stroke:"#64748b",fontSize:12}),c.jsx(ua,{stroke:"#64748b",fontSize:12,tickFormatter:l=>`$${(l/1e3).toFixed(0)}k`,domain:[0,5e5]}),c.jsx(Wr,{content:c.jsx(o,{})}),c.jsx(na,{}),r.map((l,u)=>{const d=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"],f=d[u%d.length];return c.jsx(Cl,{type:"monotone",dataKey:l,stroke:f,strokeWidth:2,dot:{fill:f,strokeWidth:2,r:4},activeDot:{r:6,stroke:"#94a3b8",strokeWidth:2},name:`${l}`},l)})]})})})})]})},Efe=()=>{var ue,me,Ae;const{salesData:t,currentSheet:e,loading:r}=Ct(),[n,i]=C.useState(null),[a,s]=C.useState(new Date().getMonth()),[o,l]=C.useState([new Date().getFullYear()]),[u,d]=C.useState([]),[f,h]=C.useState(!1),[p,m]=C.useState(!1),[g,v]=C.useState(null),x=C.useRef(null),y=C.useRef(null),[b,S]=C.useState([]),[w,_]=C.useState(!0),[j,E]=C.useState(null),[A,k]=C.useState([]),[D,P]=C.useState([new Date().getFullYear()]),[O,z]=C.useState(!1),W=C.useRef(null),G=C.useRef(null);C.useEffect(()=>{const K=ce=>{x.current&&!x.current.contains(ce.target)&&h(!1),y.current&&!y.current.contains(ce.target)&&m(!1)};return(f||p)&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[f,p]),C.useEffect(()=>(z(!0),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{k(u),z(!1)},800),()=>{W.current&&clearTimeout(W.current)}),[u]),C.useEffect(()=>(z(!0),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{P(o),z(!1)},800),()=>{G.current&&clearTimeout(G.current)}),[o]),C.useEffect(()=>()=>{W.current&&clearTimeout(W.current),G.current&&clearTimeout(G.current)},[]),C.useEffect(()=>{(async()=>{try{const ce=await de.getStores();ce.success?S(ce.data):console.error("Error fetching stores:",ce.error)}catch(ce){console.error("Error fetching stores:",ce)}finally{_(!1)}})()},[]);const M=["Trailer","Camper","Spartanburg","Greenville","Columbia"],$=()=>{const K=Array.from(new Set(t.map(ce=>ce.store).filter(Boolean)));return K.length===0?M:K},B=C.useCallback(()=>A.length===0?t:t.filter(ce=>A.includes(ce.store)),[A,t]),U=C.useCallback(K=>{d(ce=>ce.includes(K)?ce.filter(he=>he!==K):[...ce,K])},[]),H=C.useCallback(()=>{const K=$();d(K)},[]),V=C.useCallback(()=>{d([])},[]),q=C.useCallback(K=>{l(ce=>{if(ce.includes(K)){const he=ce.filter(we=>we!==K);return he.length>0?he:[new Date().getFullYear()]}else return ce.length<5?[...ce,K].sort((he,we)=>we-he):ce})},[]),re=C.useCallback(()=>{const K=new Date().getFullYear(),ce=[K,K-1,K-2,K-3,K-4];l(ce)},[]),se=C.useCallback(()=>{l([new Date().getFullYear()])},[]),fe=()=>o.length===0?"Select Years":o.length===1?o[0].toString():o.length===5?"All Years":`${o.length} Years Selected`,_e=()=>u.length===0?"All Stores":u.length===1?u[0]:u.length===$().length?"All Stores":`${u.length} Stores Selected`,pe=C.useCallback(()=>{const K=B(),ce=new Date,he=ce.getMonth(),we=ce.getFullYear(),ye={};D.forEach(Be=>{const xt=K.filter(zn=>{const Ta=ir(zn.date);return Ta&&Ta.getFullYear()===Be}),Ee=xt.reduce((zn,Ta)=>zn+(Ta.grossSales||0),0),Ue=xt.filter(zn=>(zn.grossSales||0)>0).length;let Qe,Xt,Ei;if(Be===we){const zn=Math.max(0,he-1);Qe=zn+1;const Ta=xt.filter(Dl=>{const id=ir(Dl.date);return id&&id.getMonth()<=zn}),NS=Ta.reduce((Dl,id)=>Dl+(id.grossSales||0),0),CS=Ta.filter(Dl=>(Dl.grossSales||0)>0).length;Xt=Qe>0?Math.round(NS/Qe):0,Ei=CS>0?Math.round(NS/CS):0}else Qe=12,Xt=Qe>0?Math.round(Ee/Qe):0,Ei=Ue>0?Math.round(Ee/Ue):0;ye[Be]={totalGross:Math.round(Ee),positiveSalesCount:Ue,monthlyAverage:Xt,averagePerSale:Ei,monthsToCount:Qe}});const ke=D[0]||we,Ye=K.filter(Be=>{const xt=ir(Be.date);return xt&&xt.getMonth()===a&&xt.getFullYear()===ke}),zt=Ye,Ke=Ye.reduce((Be,xt)=>Be+(xt.grossSales||0),0),jt=Ye.filter(Be=>(Be.grossSales||0)>0).length;return{selectedYearsData:ye,confirmedMonthSalesCount:zt.length,positiveMonthSalesCount:jt,monthTotalGross:Math.round(Ke),primaryYear:ke}},[B,D,a]),X=C.useMemo(()=>pe(),[pe]),oe=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],ne=()=>{var K;return((K=oe.find(ce=>ce.value===a))==null?void 0:K.label)||"Unknown"},T=C.useCallback(()=>{const K=["January","February","March","April","May","June","July","August","September","October","November","December"],ce=[];return K.forEach((he,we)=>{const ye={month:he,monthIndex:we,years:{}};let ke=!1;D.forEach(Ye=>{const zt=B().filter(xt=>{const Ee=ir(xt.date);return Ee&&Ee.getMonth()===we&&Ee.getFullYear()===Ye}),Ke=zt.reduce((xt,Ee)=>xt+(Ee.grossSales||0),0),jt=zt.length,Be=zt.filter(xt=>(xt.grossSales||0)>0).length;ye.years[Ye]={salesCount:zt.length,confirmedSales:jt,positiveSales:Be,totalGross:Ke,sales:zt},zt.length>0&&(ke=!0)}),ke&&ce.push(ye)}),ce},[B,D]),N=C.useMemo(()=>T(),[T]),R=K=>{i(K)},L=()=>{i(null)},Y=K=>{s(parseInt(K.target.value))},ee=(K,ce)=>{switch(K){case"scheduler":window.location.href=`/scheduler?store=${ce.id}`;break;case"staff":window.location.href=`/staff?store=${ce.id}`;break;case"pay-calculator":window.location.href=`/pay-calculator?store=${ce.id}`;break;case"bonuses":window.location.href=`/bonuses?store=${ce.id}`;break;case"settings":window.location.href=`/venues?store=${ce.id}`;break}},ae=K=>K.store==="Trailer"||K.store==="Camper"?K.store:K.venue||K.store||"N/A";return r?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading dashboard..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please wait while we load your data"})]})}):t.length===0&&!r?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your dashboard will show sales analytics once you have data in your system."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Try adding some sales entries or check your data connection."})]})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative",ref:x,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Filter by Store"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>h(!f),className:"block w-full sm:w-64 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:_e()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(jc,{className:"h-4 w-4 text-secondary-400"})})]}),f&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-64 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:H,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:V,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:$().map(K=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:u.includes(K),onChange:()=>U(K),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:K})]},K))})]})]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative mr-4",ref:y,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Select Years"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>m(!p),className:"block w-full sm:w-48 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:fe()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(jc,{className:"h-4 w-4 text-secondary-400"})})]}),p&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-48 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:re,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:se,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:Array.from({length:5},(K,ce)=>new Date().getFullYear()-ce).map(K=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:o.includes(K),onChange:()=>q(K),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:K})]},K))})]})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[18rem_1fr_22rem] gap-6 mb-8 items-stretch",children:[c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"18rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Qn,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Total Gross Sales"}),O?c.jsx("div",{className:"flex flex-col gap-1",children:o.map(K=>c.jsxs("div",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[K," - ",c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-20 ml-2 rounded"})]},K))}):c.jsx("div",{className:"flex flex-col gap-1",children:D.map(K=>{var ce;return c.jsxs("span",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[K," - $",((ce=X.selectedYearsData[K])==null?void 0:ce.totalGross.toLocaleString())||"0"]},K)})})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"40rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Dr,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 min-w-0",children:[c.jsxs("p",{className:"text-base font-bold text-primary-700 whitespace-nowrap",children:["Month Sales [",e==="TRAILER_HISTORY"?"Trailer":"Camper"," Only]"]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("select",{value:a,onChange:Y,className:"text-xs border border-secondary-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",style:{maxWidth:"8rem"},children:oe.map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))})})]}),O?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-32 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-40 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-48 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Confirmed: ",X.confirmedMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Completed Sales: ",X.positiveMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Total Gross Sales (",ne()," ",X.primaryYear,"): $",X.monthTotalGross.toLocaleString()]})]})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"22rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Gp,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Average"}),O?c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),o.map(K=>c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:K}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"})]},K))]}):c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),D.map(K=>{var ce,he,we,ye,ke,Ye;return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:K}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:["$",((ce=X.selectedYearsData[K])==null?void 0:ce.averagePerSale.toLocaleString())||"0"]}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap cursor-help relative group",onMouseEnter:()=>v(K),onMouseLeave:()=>v(null),children:["$",((he=X.selectedYearsData[K])==null?void 0:he.monthlyAverage.toLocaleString())||"0",g===K&&c.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[c.jsxs("div",{children:[((we=X.selectedYearsData[K])==null?void 0:we.monthsToCount)||0," month",(((ye=X.selectedYearsData[K])==null?void 0:ye.monthsToCount)||0)!==1?"s":""," used"]}),c.jsxs("div",{children:["Total: $",((ke=X.selectedYearsData[K])==null?void 0:ke.totalGross.toLocaleString())||"0"]}),c.jsxs("div",{children:["Monthly Average: $",((Ye=X.selectedYearsData[K])==null?void 0:Ye.monthlyAverage.toLocaleString())||"0"]}),c.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]},K)}),c.jsx("div",{className:"mt-2 text-xs text-secondary-600",children:X.primaryYear===new Date().getFullYear()?`Based on ${((ue=X.selectedYearsData[X.primaryYear])==null?void 0:ue.monthsToCount)||0} month${(((me=X.selectedYearsData[X.primaryYear])==null?void 0:me.monthsToCount)||0)!==1?"s":""} (Jan - ${((Ae=oe[Math.max(0,new Date().getMonth()-1)])==null?void 0:Ae.label)||"Previous Month"})`:"Based on 12 months"})]})]})]})})})]}),c.jsx("div",{className:"mb-8",children:O?c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})})})}):c.jsx(_fe,{salesData:B(),currentSheet:e,selectedYears:D})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Monthly Sales Statistics - Last 3 Years"})}),c.jsx("div",{className:"card-body",children:O?c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsxs("thead",{className:"table-header",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Month"}),D.map(K=>c.jsx("th",{className:"table-header-cell",colSpan:"3",children:K},K)),c.jsx("th",{className:"table-header-cell",children:"Actions"})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell"}),D.map(K=>c.jsxs(I.Fragment,{children:[c.jsx("th",{className:"table-header-cell text-xs",children:"Sales"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Confirmed"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Gross Sales"})]},K)),c.jsx("th",{className:"table-header-cell"})]})]}),c.jsx("tbody",{className:"table-body",children:N.map((K,ce)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:K.month}),D.map(he=>{var we,ye,ke;return c.jsxs(I.Fragment,{children:[c.jsx("td",{className:"table-cell",children:((we=K.years[he])==null?void 0:we.salesCount)||0}),c.jsx("td",{className:"table-cell",children:((ye=K.years[he])==null?void 0:ye.confirmedSales)||0}),c.jsx("td",{className:"table-cell font-semibold",children:qr(((ke=K.years[he])==null?void 0:ke.totalGross)||0)})]},he)}),c.jsx("td",{className:"table-cell",children:c.jsx("button",{onClick:()=>R(K),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"View Details",children:c.jsx(RO,{className:"w-4 h-4"})})})]},ce))})]})})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Store Management"}),c.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Hover over a store to see available actions"})]}),c.jsx("div",{className:"card-body",children:w?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(K=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},K))}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(K=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>E(K.id),onMouseLeave:()=>E(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:K.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",K.number]})]})]}),j===K.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>ee("scheduler",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ya,{className:"w-4 h-4 mr-2"}),"Scheduler"]}),c.jsxs("button",{onClick:()=>ee("staff",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Staff"]}),c.jsxs("button",{onClick:()=>ee("pay-calculator",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Mb,{className:"w-4 h-4 mr-2"}),"Pay Calculator"]}),c.jsxs("button",{onClick:()=>ee("bonuses",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(PB,{className:"w-4 h-4 mr-2"}),"Bonuses"]}),c.jsxs("button",{onClick:()=>ee("settings",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Xf,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})]},K.id))})})]})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[c.jsxs("h3",{className:"text-xl font-semibold text-secondary-900",children:[n.month," Sales Details - ",o.length," Year",o.length!==1?"s":""]}),c.jsx("button",{onClick:L,className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:c.jsx(tu,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[c.jsx("div",{className:`grid gap-4 mb-6 ${o.length<=3?"grid-cols-3":"grid-cols-2"}`,children:o.map((K,ce)=>{const he=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900"],we=he[ce%he.length],ye=n.years[K];return c.jsxs("div",{className:`p-4 rounded-lg border ${we}`,children:[c.jsx("h4",{className:"text-lg font-semibold mb-3",children:K}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Total Sales:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.salesCount)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Confirmed:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.confirmedSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Positive:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.positiveSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Gross Sales:"}),c.jsx("p",{className:"font-bold",children:qr((ye==null?void 0:ye.totalGross)||0)})]})]})]},K)})}),c.jsx("div",{className:"space-y-6",children:o.map((K,ce)=>{const he=["text-blue-900","text-green-900","text-purple-900","text-orange-900","text-pink-900"],we=he[ce%he.length],ye=n.years[K];return c.jsxs("div",{children:[c.jsxs("h4",{className:`text-lg font-semibold ${we} mb-3`,children:[K," Sales"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"})]})}),c.jsx("tbody",{className:"table-body",children:(ye==null?void 0:ye.sales.length)===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"6",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",n.month," ",K]})}):ye==null?void 0:ye.sales.map(ke=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:nl(ke.date)}),c.jsx("td",{className:"table-cell",children:ae(ke)}),c.jsx("td",{className:"table-cell font-semibold",children:qr(ke.grossSales)}),c.jsx("td",{className:"table-cell font-semibold",children:qr(ke.netSales)}),c.jsx("td",{className:"table-cell font-semibold",children:qr(ke.salesTax)}),c.jsx("td",{className:"table-cell font-medium",children:ke.count||1})]},ke.id))})]})})]},K)})})]})]})})]})},jfe=({onAddVenue:t,onEditVenue:e,onDeleteVenue:r})=>{const{venuesData:n,salesData:i}=Ct(),[a,s]=C.useState([]),[o,l]=C.useState(""),[u,d]=C.useState(""),[f,h]=C.useState(null),[p,m]=C.useState(!1),g=C.useMemo(()=>wfe(i,n),[i,n]),v=C.useMemo(()=>[...new Set(g.map(S=>S.addressCity).filter(Boolean))],[g]);C.useEffect(()=>{let S=g;o&&(S=S.filter(w=>w.promo.toLowerCase().includes(o.toLowerCase())||w.addressCity.toLowerCase().includes(o.toLowerCase())||w.contact.toLowerCase().includes(o.toLowerCase()))),u&&(S=S.filter(w=>w.addressCity===u)),s(S)},[g,o,u]);const x=async S=>{window.confirm("Are you sure you want to delete this venue?")&&await r(S)},y=S=>{h(S),m(!0)},b=()=>{l(""),d("")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(UB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search venues...",value:o,onChange:S=>l(S.target.value),className:"pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"All Cities"}),v.map(S=>c.jsx("option",{value:S,children:S},S))]}),(o||u)&&c.jsx("button",{onClick:b,className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Clear Filters"})]}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),c.jsxs("div",{className:"text-sm text-secondary-600",children:["Showing ",a.length," of ",g.length," venues"]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Venue Name"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell sticky right-0 bg-white z-10",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center text-secondary-500 py-8",children:o||u?"No venues match your search criteria":"No venues found"})}):a.map((S,w)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-secondary-900 flex items-center",children:[S.averageSales>0&&c.jsxs("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-primary-600 rounded-full mr-2",children:["#",w+1]}),S.promo]}),S.promoSend&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["Promo: ",S.promoSend]}),S.averageSales>0&&c.jsxs("div",{className:"text-xs text-primary-600 font-medium mt-1",children:["💰 Avg Sales: $",S.averageSales.toLocaleString()," (",S.salesCount," sales)"]})]})}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-4 h-4 mr-1 text-secondary-400"}),S.addressCity]})}),c.jsx("td",{className:"table-cell sticky right-0 bg-white z-10",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>y(S),className:"text-primary-600 hover:text-primary-900 font-semibold text-xs px-2 py-1 rounded border border-primary-200 bg-primary-50 hover:bg-primary-100 transition",title:"Show Details",children:"Show Details"}),c.jsx("button",{onClick:()=>e(S),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>x(S.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ba,{className:"w-4 h-4"})})]})})]},S.id))})]})})})}),p&&f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Venue Details"}),c.jsx("button",{onClick:()=>m(!1),className:"text-secondary-400 hover:text-secondary-600",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Venue Name"}),c.jsx("p",{className:"text-secondary-900 font-medium",children:f.promo})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Promo to Send"}),c.jsx("p",{className:"text-secondary-900",children:f.promoSend||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Address/City"}),c.jsx("p",{className:"text-secondary-900",children:f.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Contact"}),c.jsx("p",{className:"text-secondary-900",children:f.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Phone"}),c.jsx("p",{className:"text-secondary-900",children:f.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Email"}),c.jsx("p",{className:"text-secondary-900",children:c.jsx("a",{href:`mailto:${f.email}`,className:"text-primary-600 hover:text-primary-900",children:f.email})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Times"}),c.jsx("p",{className:"text-secondary-900",children:f.times||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Show Info"}),c.jsx("p",{className:"text-secondary-900",children:f.showInfo||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Forecast Will"}),c.jsx("p",{className:"text-secondary-900",children:f.forecastWill||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Last 5 Sales"}),c.jsx("div",{className:"text-secondary-900",children:(()=>{const S=Sfe(i,f.promo);return S.length>0?c.jsx("div",{className:"space-y-1",children:S.map((w,_)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-secondary-600",children:w.date}),c.jsxs("span",{className:"font-medium",children:["$",w.amount.toLocaleString()]})]},_))}):c.jsx("span",{className:"text-secondary-500",children:"No sales data"})})()})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>m(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{m(!1),e(f)},className:"btn-primary",children:"Edit"})]})]})})]})},Afe=()=>{const{addVenueEntry:t,updateVenueEntry:e,deleteVenueEntry:r,loading:n}=Ct(),[i,a]=C.useState(!1),[s,o]=C.useState(null),[l,u]=C.useState(Ag()),[d,f]=C.useState({}),h=()=>{o(null),u(Ag()),f({}),a(!0)},p=y=>{o(y),u({promo:y.promo,promoSend:y.promoSend,addressCity:y.addressCity,contact:y.contact,phone:y.phone,email:y.email,times:y.times,showInfo:y.showInfo,forecastWill:y.forecastWill}),f({}),a(!0)},m=async y=>{const b=await r(y);b.success||alert(`Error deleting venue: ${b.error}`)},g=()=>{const y={};return l.promo||(y.promo="Venue name is required"),l.addressCity||(y.addressCity="Address/City is required"),l.contact||(y.contact="Contact is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(y.email="Please enter a valid email address"),f(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!g())return;const b={promo:l.promo,promo_send:l.promoSend,address_city:l.addressCity,contact:l.contact,phone:l.phone,email:l.email,times:l.times,show_info:l.showInfo,forecast_will:l.forecastWill};let S;s?S=await e(s.id,b):S=await t(b),S.success?(a(!1),o(null),u(Ag())):alert(`Error ${s?"updating":"adding"} venue: ${S.error}`)},x=(y,b)=>{u(S=>({...S,[y]:b})),d[y]&&f(S=>({...S,[y]:""}))};return n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading venues..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Venues"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage venue information, contacts, and event details"})]}),c.jsx(jfe,{onAddVenue:h,onEditVenue:p,onDeleteVenue:m}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:s?"Edit Venue":"Add New Venue"}),c.jsx("button",{onClick:()=>a(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue Name *"}),c.jsx("input",{type:"text",value:l.promo,onChange:y=>x("promo",y.target.value),className:ze("input",d.promo&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter venue name"}),d.promo&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.promo})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Promo to Send"}),c.jsx("input",{type:"text",value:l.promoSend,onChange:y=>x("promoSend",y.target.value),className:"input",placeholder:"Enter promo information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Address/City *"}),c.jsx("input",{type:"text",value:l.addressCity,onChange:y=>x("addressCity",y.target.value),className:ze("input",d.addressCity&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter address and city"}),d.addressCity&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Contact *"}),c.jsx("input",{type:"text",value:l.contact,onChange:y=>x("contact",y.target.value),className:ze("input",d.contact&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Contact person name"}),d.contact&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:l.phone,onChange:y=>x("phone",y.target.value),className:"input",placeholder:"Phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:l.email,onChange:y=>x("email",y.target.value),className:ze("input",d.email&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Email address"}),d.email&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Times"}),c.jsx("input",{type:"text",value:l.times,onChange:y=>x("times",y.target.value),className:"input",placeholder:"e.g., 9 AM - 5 PM"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Show Info"}),c.jsx("textarea",{value:l.showInfo,onChange:y=>x("showInfo",y.target.value),className:"input",rows:"3",placeholder:"Additional show information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Forecast Will"}),c.jsx("input",{type:"text",value:l.forecastWill,onChange:y=>x("forecastWill",y.target.value),className:"input",placeholder:"Forecast information"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:s?"Update Venue":"Add Venue"})]})]})]})})]})})},Tfe=({staffId:t,staffName:e,onSave:r})=>{const[n,i]=C.useState([]),[a,s]=C.useState(!0),[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(0),[p,m]=C.useState(!1);C.useEffect(()=>{if(!t){console.log("❌ No staffId provided");return}console.log("🔄 Loading bonus tiers for staff:",t),(async()=>{try{const _=await de.getStaffBonusTiers(t);if(console.log("📊 Load result:",_),_.success){const j=(_.data||[]).map(E=>({id:E.id,staff_id:E.staff_id,sales_target:E.sales_target,bonus_amount:E.bonus_amount,description:E.description||E.tier_name||`Bonus for $${E.sales_target.toLocaleString()}+ sales`,is_active:E.is_active}));console.log("✅ Converted tiers:",j),i(j)}else console.error("❌ Load failed:",_.error),d("Failed to load bonus tiers")}catch(_){console.error("❌ Exception during load:",_),d("Failed to load bonus tiers")}finally{s(!1)}})()},[t]),C.useEffect(()=>{m(n.some(w=>w.id.toString().startsWith("temp_")))},[n]);const g=C.useCallback(()=>{const w={id:`temp_${Date.now()}_${f}`,staff_id:t,sales_target:0,bonus_amount:0,description:"",is_active:!0};i(_=>[..._,w]),h(_=>_+1)},[t,f]),v=C.useCallback(w=>{i(_=>_.filter(j=>j.id!==w))},[]),x=C.useCallback((w,_,j)=>{i(E=>E.map(A=>A.id===w?{...A,[_]:j}:A))},[]),y=C.useCallback(async()=>{if(!p){console.log("ℹ️ No changes to save");return}console.log("💾 Saving bonus tiers:",n),l(!0),d(null);try{const w=n.map(E=>({staff_id:E.staff_id,tier_name:E.description||`Bonus for $${E.sales_target.toLocaleString()}+ sales`,sales_target:E.sales_target,bonus_amount:E.bonus_amount,description:E.description,is_active:E.is_active}));console.log("🔄 Converted tiers for database:",w);const _=[...w].sort((E,A)=>E.sales_target-A.sales_target);console.log("📊 Sorted tiers:",_);const j=await de.saveStaffBonusTiers(t,_);if(console.log("💾 Save result:",j),j.success){console.log("✅ Save successful, reloading data...");const E=await de.getStaffBonusTiers(t);if(console.log("🔄 Reload result:",E),E.success){const A=(E.data||[]).map(k=>({id:k.id,staff_id:k.staff_id,sales_target:k.sales_target,bonus_amount:k.bonus_amount,description:k.description||k.tier_name||`Bonus for $${k.sales_target.toLocaleString()}+ sales`,is_active:k.is_active}));console.log("✅ Final converted tiers from database:",A),i(A)}m(!1),r&&await r(n)}else d("Failed to save bonus tiers"),console.error("❌ Save failed:",j.error)}catch(w){d("Failed to save bonus tiers"),console.error("❌ Exception during save:",w)}finally{l(!1)}},[n,t,p,r]),b=C.useCallback(w=>{if(!n||n.length===0)return 0;const _=[...n].filter(j=>j.is_active).sort((j,E)=>E.sales_target-j.sales_target);for(const j of _)if(w>=j.sales_target)return j.bonus_amount;return 0},[n]),S=C.useMemo(()=>[...n].sort((w,_)=>w.sales_target-_.sales_target),[n]);return a?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[c.jsx(Qn,{className:"w-5 h-5 mr-2 text-green-600"}),"Personal Bonus Structure - ",e]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set individual bonus tiers for this staff member"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[u&&c.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-1 rounded",children:u}),c.jsxs("button",{onClick:g,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[c.jsx(xa,{className:"w-4 h-4 mr-1"}),"Add Tier"]}),c.jsx("button",{onClick:y,disabled:o||!p,className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o||!p?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx($b,{className:"w-4 h-4 mr-1"}),"Save Changes"]})})]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Target"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bonus Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[c.jsx(Qn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("p",{children:"No bonus tiers set for this staff member"}),c.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create the first bonus structure'})]})}):S.map((w,_)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(IO,{className:"w-4 h-4 text-blue-600 mr-2"}),c.jsx("input",{type:"number",value:w.sales_target,onChange:j=>x(w.id,"sales_target",parseFloat(j.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"}),c.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"+"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qn,{className:"w-4 h-4 text-green-600 mr-1"}),c.jsx("input",{type:"number",value:w.bonus_amount,onChange:j=>x(w.id,"bonus_amount",parseFloat(j.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("input",{type:"text",value:w.description,onChange:j=>x(w.id,"description",j.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"e.g., High performer bonus"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("select",{value:w.is_active?"active":"inactive",onChange:j=>x(w.id,"is_active",j.target.value==="active"),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-900 p-1",title:"Remove tier",children:c.jsx(ba,{className:"w-4 h-4"})})})]},`${w.id}-${_}`))})]})})}),S.length>0&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Mb,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bonus Calculator"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Sales Amount"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qn,{className:"w-4 h-4 text-gray-400 mr-2"}),c.jsx("input",{type:"number",id:"sales-calculator",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter sales amount",step:"0.01",min:"0",onChange:w=>{const _=parseFloat(w.target.value)||0,j=b(_);document.getElementById("bonus-result").textContent=`$${j.toFixed(2)}`}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calculated Bonus"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qn,{className:"w-4 h-4 text-green-600 mr-2"}),c.jsx("span",{id:"bonus-result",className:"text-2xl font-bold text-green-600",children:"$0.00"})]})]})]})]})]})};function Nfe(){const[t,e]=C.useState([]),[r,n]=C.useState([]),[i,a]=C.useState(!1),[s,o]=C.useState(""),[l,u]=C.useState(""),{supabaseAPI:d}=Ct();C.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const[p,m]=await Promise.all([d.getUnlinkedUsers(),d.readTable("staff")]);p.success&&e(p.data),m.success&&n(m.data)}catch{o("Failed to load data")}finally{a(!1)}},h=async(p,m)=>{a(!0),o(""),u("");try{const g=await d.linkUserToStaff(p,m);g.success?(u("User successfully linked to staff member!"),await f()):o(g.error||"Failed to link user")}catch{o("An unexpected error occurred")}finally{a(!1)}};return i&&t.length===0?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):c.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Link Users to Staff Members"}),l&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:l})}),s&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:s})}),t.length===0?c.jsx("p",{className:"text-gray-500",children:"All users are already linked to staff members."}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Link unlinked users to existing staff members to give them access to the system."}),c.jsx("div",{className:"space-y-3",children:t.map(p=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.name||p.email}),c.jsx("p",{className:"text-sm text-gray-500",children:p.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Role: ",p.role]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",onChange:m=>{m.target.value&&h(p.id,parseInt(m.target.value))},defaultValue:"",children:[c.jsx("option",{value:"",children:"Select staff member..."}),r.map(m=>c.jsxs("option",{value:m.id,children:[m.name," (",m.email,")"]},m.id))]})})]})},p.id))})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:f,disabled:i,className:"text-sm text-indigo-600 hover:text-indigo-500 disabled:opacity-50",children:i?"Loading...":"Refresh"})})]})}const Cfe=()=>{const{staffData:t,addStaffEntry:e,updateStaffEntry:r,deleteStaffEntry:n,loading:i,error:a,user:s}=Ct(),[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(Tg()),[p,m]=C.useState([]),[g,v]=C.useState(!1),[x,y]=C.useState(null),[b,S]=C.useState(!1),w=()=>{d(null),h(Tg()),l(!0)},_=O=>{d(O),h({name:O.name||"",email:O.email||"",phone:O.phone||"",role:O.role||"Worker",status:O.status||"Active",hireDate:O.hireDate||"",notes:O.notes||"",store_id:O.store_id||null,payType:O.payType||"hourly",hourlyRate:O.hourlyRate||0,salaryAmount:O.salaryAmount||0,preferredHoursPerWeek:O.preferredHoursPerWeek||0,maxHoursPerWeek:O.maxHoursPerWeek||0}),l(!0)},j=async O=>{if(window.confirm("Are you sure you want to delete this staff member?")){const z=await n(O);z.success||alert(`Error deleting staff: ${z.error}`)}},E=O=>{y(O),v(!0)},A=async O=>{if(O.preventDefault(),!f.name||!f.email){alert("Name and email are required");return}const z=u?await r(u.id,f):await e(f);z.success?(l(!1),h(Tg())):alert(`Error ${u?"updating":"adding"} staff: ${z.error}`)};C.useEffect(()=>{(async()=>{try{const z=await de.getStores();z.success&&m(z.data)}catch(z){console.error("Error fetching stores:",z)}})()},[]);const k=(O,z)=>{h(W=>({...W,[O]:z}))},D=O=>{switch(O){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"On Leave":return"text-yellow-600 bg-yellow-100";case"Terminated":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},P=O=>{switch(O){case"Manager":return"text-blue-600 bg-blue-100";case"Worker":return"text-green-600 bg-green-100";case"Driver":return"text-purple-600 bg-purple-100";case"Sales":return"text-orange-600 bg-orange-100";case"Support":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a?c.jsxs("div",{className:"alert alert-error",children:[c.jsx(zB,{className:"w-5 h-5"}),c.jsxs("span",{children:["Error loading staff data: ",a]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Staff Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage your staff members and their roles"})]}),c.jsxs("div",{className:"flex space-x-2",children:[(s==null?void 0:s.role)==="admin"&&c.jsxs("button",{onClick:()=>S(!0),className:"btn-outline",children:[c.jsx(RB,{className:"w-4 h-4 mr-2"}),"Link Users"]}),c.jsxs("button",{onClick:w,className:"btn-primary",children:[c.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mn,{className:"w-8 h-8 text-primary"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Total Staff"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ry,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Active"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.status==="Active").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mn,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Workers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.role==="Worker").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mn,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Managers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.role==="Manager").length})]})]})})})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Contact"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Store"}),c.jsx("th",{children:"Hire Date"}),c.jsx("th",{children:"Pay Structure"}),c.jsx("th",{children:"Notes"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-secondary-500",children:c.jsx("p",{className:"text-gray-500 text-center",children:"No staff members found. Add your first staff member to get started."})})}):t.map(O=>{var z;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{children:c.jsx("div",{className:"font-medium text-secondary-900",children:O.name})})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[O.email&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx($B,{className:"w-3 h-3 mr-1"}),O.email]}),O.phone&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(FB,{className:"w-3 h-3 mr-1"}),O.phone]})]})}),c.jsx("td",{children:c.jsx("span",{className:ze("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P(O.role)),children:O.role})}),c.jsx("td",{children:c.jsx("span",{className:ze("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",D(O.status)),children:O.status})}),c.jsx("td",{children:O.store_id?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(wn,{className:"w-3 h-3 mr-1 text-blue-600"}),c.jsx("span",{children:((z=p.find(W=>W.id===O.store_id))==null?void 0:z.name)||"Unknown Store"})]}):c.jsx("span",{className:"text-secondary-400 text-sm",children:"Unassigned"})}),c.jsx("td",{children:O.hireDate?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Dr,{className:"w-3 h-3 mr-1"}),nl(O.hireDate)]}):c.jsx("span",{className:"text-secondary-400",children:"Not set"})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Qn,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"font-medium",children:O.payType==="hourly"?"Hourly":O.payType==="salary"?"Salary":O.payType==="salary+bonus"?"Salary+Bonus":O.payType})]}),O.payType==="hourly"&&O.hourlyRate>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",O.hourlyRate,"/hr"]}),(O.payType==="salary"||O.payType==="salary+bonus")&&O.salaryAmount>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",O.salaryAmount.toLocaleString(),"/year"]}),O.preferredHoursPerWeek>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:[O.preferredHoursPerWeek,"h preferred"]})]})}),c.jsx("td",{children:O.notes?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Iy,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"truncate max-w-32",title:O.notes,children:O.notes})]}):c.jsx("span",{className:"text-secondary-400",children:"No notes"})}),c.jsx("td",{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>_(O),className:"btn-icon btn-sm",title:"Edit",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>E(O),className:"btn-icon btn-sm text-green-600 hover:text-green-700",title:"Manage Bonus Tiers",children:c.jsx(IO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(O.id),className:"btn-icon btn-sm text-red-600 hover:text-red-700",title:"Delete",children:c.jsx(ba,{className:"w-4 h-4"})})]})})]},O.id)})})]})})})}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:u?"Edit Staff Member":"Add Staff Member"}),c.jsx("button",{onClick:()=>l(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:f.name,onChange:O=>k("name",O.target.value),className:"input",placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:f.email,onChange:O=>k("email",O.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:f.phone,onChange:O=>k("phone",O.target.value),className:"input",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Role"}),c.jsx("select",{value:f.role,onChange:O=>k("role",O.target.value),className:"input",children:vB.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status"}),c.jsx("select",{value:f.status,onChange:O=>k("status",O.target.value),className:"input",children:yB.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hire Date"}),c.jsx("input",{type:"date",value:f.hireDate,onChange:O=>k("hireDate",O.target.value),className:"input"})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Pay Structure"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Pay Type"}),c.jsx("select",{value:f.payType,onChange:O=>k("payType",O.target.value),className:"input",children:xB.map(O=>c.jsx("option",{value:O,children:O==="hourly"?"Hourly":O==="salary"?"Salary":O==="salary+bonus"?"Salary + Bonus":O},O))})]}),f.payType==="hourly"&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hourly Rate ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.hourlyRate,onChange:O=>k("hourlyRate",parseFloat(O.target.value)||0),className:"input",placeholder:"0.00"})]}),(f.payType==="salary"||f.payType==="salary+bonus")&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Salary Amount ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.salaryAmount,onChange:O=>k("salaryAmount",parseFloat(O.target.value)||0),className:"input",placeholder:"0.00"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Preferred Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.preferredHoursPerWeek,onChange:O=>k("preferredHoursPerWeek",parseFloat(O.target.value)||0),className:"input",placeholder:"40"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Max Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.maxHoursPerWeek,onChange:O=>k("maxHoursPerWeek",parseFloat(O.target.value)||0),className:"input",placeholder:"40"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Assigned Store"}),c.jsxs("select",{value:f.store_id||"",onChange:O=>k("store_id",O.target.value?parseInt(O.target.value):null),className:"input",children:[c.jsx("option",{value:"",children:"No Store Assigned"}),p.map(O=>c.jsxs("option",{value:O.id,children:[O.name," (#",O.number,")"]},O.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Notes"}),c.jsx("textarea",{value:f.notes,onChange:O=>k("notes",O.target.value),className:"input",rows:"3",placeholder:"Additional notes about this staff member"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-outline",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",children:[u?"Update":"Add"," Staff Member"]})]})]})]})}),g&&x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Bonus Tiers Management - ",x.name]}),c.jsx("button",{onClick:()=>v(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsx(Tfe,{staffId:x.id,staffName:x.name,onSave:()=>{v(!1)}})]})}),b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Link Users to Staff Members"}),c.jsx("button",{onClick:()=>S(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsx(Nfe,{})]})})]})},AT=({task:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=h=>{switch(h){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=h=>h?qw(new Date(h),{addSuffix:!0}):"No due date",l=h=>{if(!h)return[];let p=[];return Array.isArray(h)?p=h:p=[h],p.map(m=>{const g=e.find(v=>v.id===m);return g?g.name:"Unknown User"})},u=h=>{switch(h){case"urgent":return c.jsx(Cn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Cn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Cn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Cn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Cn,{className:"w-3 h-3 text-gray-600"})}},d=l(t.assigned_to),f=d.length===0;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-1",children:f?c.jsxs(c.Fragment,{children:[c.jsx(cs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):d.length===1?c.jsxs(c.Fragment,{children:[c.jsx(cs,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:d[0]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 truncate",children:[d.length," assignees"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:t.title})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[c.jsx("span",{className:ze("px-2 py-1 text-xs font-medium rounded-full border",a(t.priority)),children:t.priority}),c.jsx("span",{className:ze("px-2 py-1 text-xs font-medium rounded-full",s(t.status)),children:t.status.replace("_"," ")})]})]}),t.description&&c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),d.length>1&&c.jsx("div",{className:"mb-3",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((h,p)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h},p))})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[u(t.priority),c.jsx("span",{className:"capitalize",children:t.priority})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ya,{className:"w-4 h-4"}),c.jsx("span",{children:o(t.due_date)})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>r(t),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ba,{className:"w-4 h-4"})})]})]})]})},TT=({tasks:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=d=>{switch(d){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=d=>{switch(d){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>d?qw(new Date(d),{addSuffix:!0}):"No due date",l=d=>{if(!d)return[];let f=[];return Array.isArray(d)?f=d:f=[d],f.map(h=>{const p=e.find(m=>m.id===h);return p?p.name:"Unknown User"})},u=d=>{switch(d){case"urgent":return c.jsx(Cn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Cn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Cn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Cn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Cn,{className:"w-3 h-3 text-gray-600"})}};return t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})]}):c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignee(s)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>{const f=l(d.assigned_to),h=f.length===0;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(cs,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):f.length===1?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(cs,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:f[0]})]}):c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Mn,{className:"w-4 h-4 text-gray-500"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.length," assignees"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:f.map((p,m)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:p},m))})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:d.title}),d.description&&c.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:d.description})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[u(d.priority),c.jsx("span",{className:ze("px-2 py-1 text-xs font-medium rounded-full border",a(d.priority)),children:d.priority})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:ze("px-2 py-1 text-xs font-medium rounded-full",s(d.status)),children:d.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[c.jsx(ya,{className:"w-4 h-4"}),c.jsx("span",{children:o(d.due_date)})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[c.jsx("button",{onClick:()=>r(d),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ba,{className:"w-4 h-4"})})]})})]},d.id)})})]})})})},kfe=({task:t=null,users:e=[],onSubmit:r,onCancel:n})=>{const[i,a]=C.useState({title:"",description:"",assigned_to:[],priority:"normal",status:"pending",due_date:"",category:"general"}),[s,o]=C.useState([]);C.useEffect(()=>{if(t){let p=[];t.assigned_to&&(Array.isArray(t.assigned_to)?p=t.assigned_to:p=[t.assigned_to]),a({title:t.title||"",description:t.description||"",assigned_to:p,priority:t.priority||"normal",status:t.status||"pending",due_date:t.due_date?t.due_date.split("T")[0]:"",category:t.category||"general"}),o(p)}},[t]);const l=p=>{p.preventDefault(),r(i)},u=p=>{const{name:m,value:g}=p.target;a(v=>({...v,[m]:g}))},d=p=>{const m=parseInt(p.target.value);if(m&&!s.includes(m)){const g=[...s,m];o(g),a(v=>({...v,assigned_to:g}))}},f=p=>{const m=s.filter(g=>g!==p);o(m),a(g=>({...g,assigned_to:m}))},h=()=>s.map(p=>{const m=e.find(g=>g.id===p);return m?m.name:"Unknown User"});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Task":"Create New Task"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(tu,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",name:"title",value:i.title,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:i.description,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),s.length>0&&c.jsx("div",{className:"mb-2",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:h().map((p,m)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[c.jsx("span",{children:p}),c.jsx("button",{type:"button",onClick:()=>f(s[m]),className:"text-blue-600 hover:text-blue-800",children:c.jsx(tu,{className:"w-3 h-3"})})]},s[m]))})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:"",onChange:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Add assignee..."}),e.filter(p=>!s.includes(p.id)).map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]}),c.jsx("div",{className:"text-gray-400",children:c.jsx(Mn,{className:"w-5 h-5"})})]}),s.length===0&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for unassigned task"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),c.jsxs("select",{name:"priority",value:i.priority,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:i.status,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"date",name:"due_date",value:i.due_date,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{name:"category",value:i.category,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"sales",children:"Sales"}),c.jsx("option",{value:"venue",children:"Venue"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:t?"Update Task":"Create Task"})]})]})]})})},Ofe=()=>{const{loading:t,tasksData:e,staffData:r,currentUser:n,user:i,loadTasks:a,addTask:s,updateTask:o,deleteTask:l,setCurrentUser:u}=Ct(),[d,f]=C.useState(!1),[h,p]=C.useState(null),[m,g]=C.useState("all"),[v,x]=C.useState("all"),[y,b]=C.useState("list");C.useEffect(()=>{i!=null&&i.staffMember&&!n?u(i.staffMember):r.length>0&&!n&&!(i!=null&&i.staffMember)&&u(r[0]),a()},[r,n,u,a,i]),C.useEffect(()=>{i!=null&&i.staffMember&&!n&&u(i.staffMember)},[i,n,u]);const S=async O=>{if(!n)return;const z={...O,assigned_by:n.id,assigned_to:O.assigned_to.length===0?null:O.assigned_to};(await s(z)).success&&f(!1)},w=async O=>{const z={...O,assigned_to:O.assigned_to.length===0?null:O.assigned_to};(await o(h.id,z)).success&&(f(!1),p(null))},_=async O=>{window.confirm("Are you sure you want to delete this task?")&&await l(O)},j=O=>{p(O),f(!0)},E=O=>{},k=(()=>{let O=e;return Ad(n)||(O=e.filter(z=>!z.assigned_to||Array.isArray(z.assigned_to)&&z.assigned_to.length===0?!0:Array.isArray(z.assigned_to)?z.assigned_to.includes(n==null?void 0:n.id):z.assigned_to===(n==null?void 0:n.id))),O.filter(z=>{const W=m==="all"||z.status===m,G=v==="all"||z.priority===v;return W&&G})})(),D=k.filter(O=>O.assigned_to?Array.isArray(O.assigned_to)?O.assigned_to.length===0:!1:!0),P=k.filter(O=>O.assigned_to?Array.isArray(O.assigned_to)?O.assigned_to.length>0:!0:!1);return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading tasks..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Task Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Create, assign, and track tasks for your staff"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx(xa,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),c.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-secondary-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(DB,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),c.jsxs("select",{value:m,onChange:O=>g(O.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:v,onChange:O=>x(O.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Priorities"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>b("card"),className:`p-2 rounded-md transition-colors ${y==="card"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Card view",children:c.jsx(MB,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-md transition-colors ${y==="list"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"List view",children:c.jsx(IB,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Py,{className:"w-5 h-5 text-orange-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unassigned Tasks"}),c.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:D.length})]})}),c.jsx("div",{className:"p-6",children:D.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No unassigned tasks"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(O=>c.jsx(AT,{task:O,staffData:r,onEdit:j,onDelete:_,onViewComments:E},O.id))}):c.jsx(TT,{tasks:D,staffData:r,onEdit:j,onDelete:_,onViewComments:E})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(cs,{className:"w-5 h-5 text-blue-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:Ad(n)?"All Assigned Tasks":"My Tasks"}),c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:P.length})]})}),c.jsx("div",{className:"p-6",children:P.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:Ad(n)?"No assigned tasks found":"No tasks assigned to you"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(O=>c.jsx(AT,{task:O,staffData:r,onEdit:j,onDelete:_,onViewComments:E},O.id))}):c.jsx(TT,{tasks:P,staffData:r,onEdit:j,onDelete:_,onViewComments:E})})]}),k.length===0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500",children:Ad(n)?"No tasks found. Create your first task!":"No tasks assigned to you. Contact your manager for new assignments."})]})]}),d&&c.jsx(kfe,{task:h,users:r,onSubmit:h?w:S,onCancel:()=>{f(!1),p(null)}})]})})};var $m,xe,IM,$M,il,Ua,NT,LM,FM,np={},BM=[],Dfe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wi(t,e){for(var r in e)t[r]=e[r];return t}function UM(t){var e=t.parentNode;e&&e.removeChild(t)}function F(t,e,r){var n,i,a,s={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?$m.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return pf(t,s,n,i,null)}function pf(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++IM};return i==null&&xe.vnode!=null&&xe.vnode(a),a}function dr(){return{current:null}}function at(t){return t.children}function Pfe(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||ip(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||ip(t,a,e[a],r[a],n)}function CT(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Dfe.test(e)?r:r+"px"}function ip(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||CT(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||CT(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?OT:kT,a):t.removeEventListener(e,a?OT:kT,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function kT(t){il=!0;try{return this.l[t.type+!1](xe.event?xe.event(t):t)}finally{il=!1}}function OT(t){il=!0;try{return this.l[t.type+!0](xe.event?xe.event(t):t)}finally{il=!1}}function Mr(t,e){this.props=t,this.context=e}function Lu(t,e){if(e==null)return t.__?Lu(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Lu(t):null}function HM(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return HM(t)}}function Mfe(t){il?setTimeout(t):LM(t)}function gx(t){(!t.__d&&(t.__d=!0)&&Ua.push(t)&&!ap.__r++||NT!==xe.debounceRendering)&&((NT=xe.debounceRendering)||Mfe)(ap)}function ap(){var t,e,r,n,i,a,s,o;for(Ua.sort(function(l,u){return l.__v.__b-u.__v.__b});t=Ua.shift();)t.__d&&(e=Ua.length,n=void 0,i=void 0,s=(a=(r=t).__v).__e,(o=r.__P)&&(n=[],(i=Wi({},a)).__v=a.__v+1,Yw(o,a,i,r.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,n,s??Lu(a),a.__h),qM(n,a),a.__e!=s&&HM(a)),Ua.length>e&&Ua.sort(function(l,u){return l.__v.__b-u.__v.__b}));ap.__r=0}function zM(t,e,r,n,i,a,s,o,l,u){var d,f,h,p,m,g,v,x=n&&n.__k||BM,y=x.length;for(r.__k=[],d=0;d<e.length;d++)if((p=r.__k[d]=(p=e[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?pf(null,p,null,null,p):Array.isArray(p)?pf(at,{children:p},null,null,null):p.__b>0?pf(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(h=x[d])===null||h&&p.key==h.key&&p.type===h.type)x[d]=void 0;else for(f=0;f<y;f++){if((h=x[f])&&p.key==h.key&&p.type===h.type){x[f]=void 0;break}h=null}Yw(t,p,h=h||np,i,a,s,o,l,u),m=p.__e,(f=p.ref)&&h.ref!=f&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(f,p.__c||m,p)),m!=null?(g==null&&(g=m),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=WM(p,l,t):l=VM(t,p,h,x,m,l),typeof r.type=="function"&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Lu(h))}for(r.__e=g,d=y;d--;)x[d]!=null&&(typeof r.type=="function"&&x[d].__e!=null&&x[d].__e==r.__d&&(r.__d=GM(n).nextSibling),KM(x[d],x[d]));if(v)for(d=0;d<v.length;d++)YM(v[d],v[++d],v[++d])}function WM(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?WM(n,e,r):VM(r,n,n,i,n.__e,e));return e}function sp(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){sp(r,e)}):e.push(t)),e}function VM(t,e,r,n,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function GM(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=GM(r)))return n}return null}function Yw(t,e,r,n,i,a,s,o,l){var u,d,f,h,p,m,g,v,x,y,b,S,w,_,j,E=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,o=e.__e=r.__e,e.__h=null,a=[o]),(u=xe.__b)&&u(e);try{e:if(typeof E=="function"){if(v=e.props,x=(u=E.contextType)&&n[u.__c],y=u?x?x.props.value:u.__:n,r.__c?g=(d=e.__c=r.__c).__=d.__E:("prototype"in E&&E.prototype.render?e.__c=d=new E(v,y):(e.__c=d=new Mr(v,y),d.constructor=E,d.render=Ife),x&&x.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),E.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Wi({},d.__s)),Wi(d.__s,E.getDerivedStateFromProps(v,d.__s))),h=d.props,p=d.state,d.__v=e,f)E.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(E.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,y),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(A){A&&(A.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,y),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=y,d.props=v,d.__P=t,S=xe.__r,w=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[]}else do d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(n=Wi(Wi({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(h,p)),j=u!=null&&u.type===at&&u.key==null?u.props.children:u,zM(t,Array.isArray(j)?j:[j],e,r,n,i,a,s,o,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Rfe(r.__e,e,r,n,i,a,s,l);(u=xe.diffed)&&u(e)}catch(A){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),xe.__e(A,e,r)}}function qM(t,e){xe.__c&&xe.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){xe.__e(n,r.__v)}})}function Rfe(t,e,r,n,i,a,s,o){var l,u,d,f=r.props,h=e.props,p=e.type,m=0;if(p==="svg"&&(i=!0),a!=null){for(;m<a.length;m++)if((l=a[m])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,a[m]=null;break}}if(t==null){if(p===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),a=null,o=!1}if(p===null)f===h||o&&t.data===h||(t.data=h);else{if(a=a&&$m.call(t.childNodes),u=(f=r.props||np).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(a!=null)for(f={},m=0;m<t.attributes.length;m++)f[t.attributes[m].name]=t.attributes[m].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(Pfe(t,h,f,i,o),d)e.__k=[];else if(m=e.props.children,zM(t,Array.isArray(m)?m:[m],e,r,n,i&&p!=="foreignObject",a,s,a?a[0]:r.__k&&Lu(r,0),o),a!=null)for(m=a.length;m--;)a[m]!=null&&UM(a[m]);o||("value"in h&&(m=h.value)!==void 0&&(m!==t.value||p==="progress"&&!m||p==="option"&&m!==f.value)&&ip(t,"value",m,f.value,!1),"checked"in h&&(m=h.checked)!==void 0&&m!==t.checked&&ip(t,"checked",m,f.checked,!1))}return t}function YM(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){xe.__e(n,r)}}function KM(t,e,r){var n,i;if(xe.unmount&&xe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||YM(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){xe.__e(a,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&KM(n[i],e,r||typeof t.type!="function");r||t.__e==null||UM(t.__e),t.__=t.__e=t.__d=void 0}function Ife(t,e,r){return this.constructor(t,r)}function Fu(t,e,r){var n,i,a;xe.__&&xe.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],Yw(e,t=(!n&&r||e).__k=F(at,null,[t]),i||np,np,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?$m.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),qM(a,t)}function $fe(t,e){var r={__c:e="__cC"+FM++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,gx(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}$m=BM.slice,xe={__e:function(t,e,r,n){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},IM=0,$M=function(t){return t!=null&&t.constructor===void 0},il=!1,Mr.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wi({},this.state),typeof t=="function"&&(t=t(Wi({},r),this.props)),t&&Wi(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),gx(this))},Mr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),gx(this))},Mr.prototype.render=at,Ua=[],LM=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ap.__r=0,FM=0;var Tn,ov,DT,QM=[],lv=[],PT=xe.__b,MT=xe.__r,RT=xe.diffed,IT=xe.__c,$T=xe.unmount;function Lfe(){for(var t;t=QM.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(mf),t.__H.__h.forEach(vx),t.__H.__h=[]}catch(e){t.__H.__h=[],xe.__e(e,t.__v)}}xe.__b=function(t){Tn=null,PT&&PT(t)},xe.__r=function(t){MT&&MT(t);var e=(Tn=t.__c).__H;e&&(ov===Tn?(e.__h=[],Tn.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=lv,r.__N=r.i=void 0})):(e.__h.forEach(mf),e.__h.forEach(vx),e.__h=[])),ov=Tn},xe.diffed=function(t){RT&&RT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(QM.push(e)!==1&&DT===xe.requestAnimationFrame||((DT=xe.requestAnimationFrame)||Ffe)(Lfe)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==lv&&(r.__=r.__V),r.i=void 0,r.__V=lv})),ov=Tn=null},xe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(mf),r.__h=r.__h.filter(function(n){return!n.__||vx(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],xe.__e(n,r.__v)}}),IT&&IT(t,e)},xe.unmount=function(t){$T&&$T(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{mf(n)}catch(i){e=i}}),r.__H=void 0,e&&xe.__e(e,r.__v))};var LT=typeof requestAnimationFrame=="function";function Ffe(t){var e,r=function(){clearTimeout(n),LT&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);LT&&(e=requestAnimationFrame(r))}function mf(t){var e=Tn,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Tn=e}function vx(t){var e=Tn;t.__c=t.__(),Tn=e}function Bfe(t,e){for(var r in e)t[r]=e[r];return t}function FT(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function BT(t){this.props=t}(BT.prototype=new Mr).isPureReactComponent=!0,BT.prototype.shouldComponentUpdate=function(t,e){return FT(this.props,t)||FT(this.state,e)};var UT=xe.__b;xe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),UT&&UT(t)};var Ufe=xe.__e;xe.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}Ufe(t,e,r,n)};var HT=xe.unmount;function XM(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Bfe({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return XM(n,e,r)})),t}function ZM(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return ZM(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function cv(){this.__u=0,this.t=null,this.__b=null}function JM(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Hd(){this.u=null,this.o=null}xe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),HT&&HT(t)},(cv.prototype=new Mr).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=JM(n.__v),a=!1,s=function(){a||(a=!0,r.__R=null,i?i(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=ZM(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},cv.prototype.componentWillUnmount=function(){this.t=[]},cv.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=XM(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&F(at,null,t.fallback);return i&&(i.__h=null),[F(at,null,e.__a?null:t.children),i]};var zT=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function Hfe(t){return this.getChildContext=function(){return t.context},t.children}function zfe(t){var e=this,r=t.i;e.componentWillUnmount=function(){Fu(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Fu(F(Hfe,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Wfe(t,e){var r=F(zfe,{__v:t,i:e});return r.containerInfo=e,r}(Hd.prototype=new Mr).__a=function(t){var e=this,r=JM(e.__v),n=e.o.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),zT(e,t,n)):i()};r?r(a):a()}},Hd.prototype.render=function(t){this.u=null,this.o=new Map;var e=sp(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Hd.prototype.componentDidUpdate=Hd.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){zT(t,r,e)})};var Vfe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Gfe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qfe=typeof document<"u",Yfe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Mr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Mr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var WT=xe.event;function Kfe(){}function Qfe(){return this.cancelBubble}function Xfe(){return this.defaultPrevented}xe.event=function(t){return WT&&(t=WT(t)),t.persist=Kfe,t.isPropagationStopped=Qfe,t.isDefaultPrevented=Xfe,t.nativeEvent=t};var VT={configurable:!0,get:function(){return this.class}},GT=xe.vnode;xe.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in n={},r){var s=r[a];qfe&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in r&&s==null||(a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!Yfe(r.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&Gfe.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=sp(r.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=sp(r.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),t.props=n,r.class!=r.className&&(VT.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",VT))}t.$$typeof=Vfe,GT&&GT(t)};var qT=xe.__r;xe.__r=function(t){qT&&qT(t),t.__c};const eR=[],yx=new Map;function Kw(t){eR.push(t),yx.forEach(e=>{rR(e,t)})}function Zfe(t){t.isConnected&&t.getRootNode&&tR(t.getRootNode())}function tR(t){let e=yx.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=ehe();r&&(e.nonce=r);const n=t===document?document.head:t,i=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,i)}yx.set(t,e),Jfe(e)}}function Jfe(t){for(const e of eR)rR(t,e)}function rR(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&r.insertRule(i+"}",n+a)})}let uv;function ehe(){return uv===void 0&&(uv=the()),uv}function the(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&tR(document);var rhe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Kw(rhe);class Qw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Xw(t){t.parentNode&&t.parentNode.removeChild(t)}function ar(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(nhe(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function nhe(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function ihe(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let i=0;i<r.length;i+=1){let a=r[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)n.push(a[s])}return n}const ahe=/(top|left|right|bottom|width|height)$/i;function Pc(t,e){for(let r in e)nR(t,r,e[r])}function nR(t,e,r){r==null?t.style[e]="":typeof r=="number"&&ahe.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function iR(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let YT=0;function Lm(){return YT+=1,"fc-dom-"+YT}function Fm(t){t.preventDefault()}function she(t,e){return r=>{let n=ar(r.target,t);n&&e.call(n,r,n)}}function aR(t,e,r,n){let i=she(r,n);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function ohe(t,e,r,n){let i;return aR(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,r(a,s);let o=l=>{i=null,n(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const KT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function lhe(t,e){let r=n=>{e(n),KT.forEach(i=>{t.removeEventListener(i,r)})};KT.forEach(n=>{t.addEventListener(n,r)})}function sR(t){return Object.assign({onClick:t},oR(t))}function oR(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let QT=0;function ks(){return QT+=1,String(QT)}function Zw(){document.body.classList.add("fc-not-allowed")}function Jw(){document.body.classList.remove("fc-not-allowed")}function che(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Fm)}function uhe(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Fm)}function dhe(t){t.addEventListener("contextmenu",Fm)}function fhe(t){t.removeEventListener("contextmenu",Fm)}function hhe(t){let e=[],r=[],n,i;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)i=r[n],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function phe(t,e,r){let n,i;for(n=0;n<r.length;n+=1)if(i=mhe(t,e,r[n]),i)return i;return 0}function mhe(t,e,r){return r.func?r.func(t,e):ghe(t[r.field],e[r.field])*(r.order||1)}function ghe(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function xo(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function Mc(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,i,a)=>n.replace("$"+a,i||""),t):r}function vhe(t,e){return t-e}function gf(t){return t%1===0}function yhe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const XT=["years","months","days","milliseconds"],xhe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ie(t,e){return typeof t=="string"?bhe(t):typeof t=="object"&&t?ZT(t):typeof t=="number"?ZT({[e||"milliseconds"]:t}):null}function bhe(t){let e=xhe.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function ZT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function whe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function xx(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function She(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function _he(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function Ehe(t){return bo(t)/365}function jhe(t){return bo(t)/30}function bo(t){return gn(t)/864e5}function gn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function eS(t,e){let r=null;for(let n=0;n<XT.length;n+=1){let i=XT[n];if(e[i]){let a=t[i]/e[i];if(!gf(a)||r!==null&&r!==a)return null;r=a}else if(t[i])return null}return r}function bx(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function da(t,e,r){if(t===e)return!0;let n=t.length,i;if(n!==e.length)return!1;for(i=0;i<n;i+=1)if(!(r?r(t[i],e[i]):t[i]===e[i]))return!1;return!0}const Ahe=["sun","mon","tue","wed","thu","fri","sat"];function JT(t,e){let r=Vi(t);return r[2]+=e*7,br(r)}function sr(t,e){let r=Vi(t);return r[2]+=e,br(r)}function fa(t,e){let r=Vi(t);return r[6]+=e,br(r)}function The(t,e){return Os(t,e)/7}function Os(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Nhe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function Che(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function khe(t,e){return(e.valueOf()-t.valueOf())/1e3}function Ohe(t,e){let r=st(t),n=st(e);return{years:0,months:0,days:Math.round(Os(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function Dhe(t,e){let r=op(t,e);return r!==null&&r%7===0?r/7:null}function op(t,e){return Gi(t)===Gi(e)?Math.round(Os(t,e)):null}function st(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Phe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Mhe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Rhe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Ihe(t,e,r){let n=t.getUTCFullYear(),i=dv(t,n,e,r);if(i<1)return dv(t,n-1,e,r);let a=dv(t,n+1,e,r);return a>=1?Math.min(i,a):i}function dv(t,e,r,n){let i=br([e,0,1+$he(e,r,n)]),a=st(t),s=Math.round(Os(i,a));return Math.floor(s/7)+1}function $he(t,e,r){let n=7+e-r;return-((7+br([t,0,n]).getUTCDay()-e)%7)+n-1}function eN(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function tN(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Vi(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function br(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function lR(t){return!isNaN(t.valueOf())}function Gi(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function cR(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",rS(e,!0)))),n}function tS(t){return t.toISOString().replace(/T.*$/,"")}function Lhe(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Fhe(t){return xo(t.getUTCHours(),2)+":"+xo(t.getUTCMinutes(),2)+":"+xo(t.getUTCSeconds(),2)}function rS(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=Math.round(n%60);return e?`${r+xo(i,2)}:${xo(a,2)}`:`GMT${r}${i}${a?`:${xo(a,2)}`:""}`}function be(t,e,r){let n,i;return function(...a){if(!n)i=t.apply(this,a);else if(!da(n,a)){r&&r(i);let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}function vf(t,e,r){let n,i;return a=>{if(!n)i=t.call(this,a);else if(!Sn(n,a)){r&&r(i);let s=t.call(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}const fv={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},lp={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},zd=/\s*([ap])\.?m\.?/i,Bhe=/,/g,Uhe=/\s+/g,Hhe=/\u200e/g,zhe=/UTC|GMT/;class Whe{constructor(e){let r={},n={},i=9;for(let a in e)a in fv?(n[a]=e[a],fv[a]<9&&(i=Math.min(fv[a],i))):(r[a]=e[a],a in lp&&(i=Math.min(lp[a],i)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=i,this.buildFormattingFunc=be(rN)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,i){let{standardDateProps:a,extendedSettings:s}=this,o=Qhe(e.marker,r.marker,n.calendarSystem);if(!o)return this.format(e,n);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=Xhe(a,l),h=rN(f,s,n),p=h(e),m=h(r),g=Zhe(u,p,d,m),v=s.separator||i||n.defaultSeparator||"";return g?g.before+p+v+m+g.after:u+v+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function rN(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?i=>rS(i.timeZoneOffset):n===0&&e.week?i=>Khe(r.computeWeekNumber(i.marker),r.weekText,r.weekTextLong,r.locale,e.week):Vhe(t,e,r)}function Vhe(t,e,r){t=Object.assign({},t),e=Object.assign({},e),Ghe(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(r.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=n;let l=o.format(s);return qhe(l,a,t,e,r)}}function Ghe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function qhe(t,e,r,n,i){return t=t.replace(Hhe,""),r.timeZoneName==="short"&&(t=Yhe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":rS(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(Bhe,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(zd,"").trim():n.meridiem==="narrow"?t=t.replace(zd,(a,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(zd,(a,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(zd,a=>a.toLocaleLowerCase())),t=t.replace(Uhe," "),t=t.trim(),t}function Yhe(t,e){let r=!1;return t=t.replace(zhe,()=>(r=!0,e)),r||(t+=` ${e}`),t}function Khe(t,e,r,n,i){let a=[];return i==="long"?a.push(r):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function Qhe(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:Gi(t)!==Gi(e)?1:0}function Xhe(t,e){let r={};for(let n in t)(!(n in lp)||lp[n]<=e)&&(r[n]=t[n]);return r}function Zhe(t,e,r,n){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<r.length;){let u=r.indexOf(n,l);if(u===-1)break;let d=r.substr(0,u);l=u+n.length;let f=r.substr(l);if(s===d&&o===f)return{before:s,after:o}}}return null}function nN(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function cp(t,e,r,n){let i=nN(t,r.calendarSystem),a=e?nN(e,r.calendarSystem):null;return{date:i,start:i,end:a,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class Jhe{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,cp(e,null,r,n))}formatRange(e,r,n,i){return n.cmdFormatter(this.cmdStr,cp(e,r,n,i))}}class epe{constructor(e){this.func=e}format(e,r,n){return this.func(cp(e,null,r,n))}formatRange(e,r,n,i){return this.func(cp(e,r,n,i))}}function gt(t){return typeof t=="object"&&t?new Whe(t):typeof t=="string"?new Jhe(t):typeof t=="function"?new epe(t):null}const iN={navLinkDayClick:Q,navLinkWeekClick:Q,duration:Ie,bootstrapFontAwesome:Q,buttonIcons:Q,customButtons:Q,defaultAllDayEventDuration:Ie,defaultTimedEventDuration:Ie,nextDayThreshold:Ie,scrollTime:Ie,scrollTimeReset:Boolean,slotMinTime:Ie,slotMaxTime:Ie,dayPopoverFormat:gt,slotDuration:Ie,snapDuration:Ie,headerToolbar:Q,footerToolbar:Q,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:gt,dayHeaderClassNames:Q,dayHeaderContent:Q,dayHeaderDidMount:Q,dayHeaderWillUnmount:Q,dayCellClassNames:Q,dayCellContent:Q,dayCellDidMount:Q,dayCellWillUnmount:Q,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Q,weekNumbers:Boolean,weekNumberClassNames:Q,weekNumberContent:Q,weekNumberDidMount:Q,weekNumberWillUnmount:Q,editable:Boolean,viewClassNames:Q,viewDidMount:Q,viewWillUnmount:Q,nowIndicator:Boolean,nowIndicatorClassNames:Q,nowIndicatorContent:Q,nowIndicatorDidMount:Q,nowIndicatorWillUnmount:Q,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Q,locale:Q,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Q,eventOrder:hhe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Q,contentHeight:Q,direction:String,weekNumberFormat:gt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Q,initialDate:Q,now:Q,eventDataTransform:Q,stickyHeaderDates:Q,stickyFooterScrollbar:Q,viewHeight:Q,defaultAllDay:Boolean,eventSourceFailure:Q,eventSourceSuccess:Q,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Q,eventConstraint:Q,eventAllow:Q,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Q,eventContent:Q,eventDidMount:Q,eventWillUnmount:Q,selectConstraint:Q,selectOverlap:Q,selectAllow:Q,droppable:Boolean,unselectCancel:String,slotLabelFormat:Q,slotLaneClassNames:Q,slotLaneContent:Q,slotLaneDidMount:Q,slotLaneWillUnmount:Q,slotLabelClassNames:Q,slotLabelContent:Q,slotLabelDidMount:Q,slotLabelWillUnmount:Q,dayMaxEvents:Q,dayMaxEventRows:Q,dayMinWidth:Number,slotLabelInterval:Ie,allDayText:String,allDayClassNames:Q,allDayContent:Q,allDayDidMount:Q,allDayWillUnmount:Q,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:gt,rerenderDelay:Number,moreLinkText:Q,moreLinkHint:Q,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Q,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ie,hiddenDays:Q,fixedWeekCount:Boolean,validRange:Q,visibleRange:Q,titleFormat:Q,eventInteractive:Boolean,noEventsText:String,viewHint:Q,navLinkHint:Q,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Q,moreLinkClassNames:Q,moreLinkContent:Q,moreLinkDidMount:Q,moreLinkWillUnmount:Q,monthStartFormat:gt,handleCustomRendering:Q,customRenderingMetaMap:Q,customRenderingReplaces:Boolean},Rc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},aN={datesSet:Q,eventsSet:Q,eventAdd:Q,eventChange:Q,eventRemove:Q,windowResize:Q,eventClick:Q,eventMouseEnter:Q,eventMouseLeave:Q,select:Q,unselect:Q,loading:Q,_unmount:Q,_beforeprint:Q,_afterprint:Q,_noEventDrop:Q,_noEventResize:Q,_resize:Q,_scrollRequest:Q},sN={buttonText:Q,buttonHints:Q,views:Q,plugins:Q,initialEvents:Q,events:Q,eventSources:Q},La={headerToolbar:Fa,footerToolbar:Fa,buttonText:Fa,buttonHints:Fa,buttonIcons:Fa,dateIncrement:Fa,plugins:Wd,events:Wd,eventSources:Wd,resources:Wd};function Fa(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Sn(t,e):t===e}function Wd(t,e){return Array.isArray(t)&&Array.isArray(e)?da(t,e):t===e}const tpe={type:String,component:Q,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Q,usesMinMaxTime:Boolean,classNames:Q,content:Q,didMount:Q,willUnmount:Q};function hv(t){return iS(t,La)}function nS(t,e){let r={},n={};for(let i in e)i in t&&(r[i]=e[i](t[i]));for(let i in t)i in e||(n[i]=t[i]);return{refined:r,extra:n}}function Q(t){return t}const{hasOwnProperty:up}=Object.prototype;function iS(t,e){let r={};if(e){for(let n in e)if(e[n]===Fa){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][n];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){r[n]=s;break}}i.length&&(r[n]=iS(i))}}for(let n=t.length-1;n>=0;n-=1){let i=t[n];for(let a in i)a in r||(r[a]=i[a])}return r}function gs(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function gi(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function uR(t){let e={};for(let r of t)e[r]=!0;return e}function aS(t){let e=[];for(let r in t)e.push(t[r]);return e}function Sn(t,e){if(t===e)return!0;for(let r in t)if(up.call(t,r)&&!(r in e))return!1;for(let r in e)if(up.call(e,r)&&t[r]!==e[r])return!1;return!0}const rpe=/^on[A-Z]/;function npe(t,e){const r=ipe(t,e);for(let n of r)if(!rpe.test(n))return!1;return!0}function ipe(t,e){let r=[];for(let n in t)up.call(t,n)&&(n in e||r.push(n));for(let n in e)up.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function pv(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&ape(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function ape(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function spe(t,e=0,r,n=1){let i=[];r==null&&(r=Object.keys(t).length);for(let a=e;a<r;a+=n){let s=t[a];s!==void 0&&i.push(s)}return i}let dR={};function ope(t,e){dR[t]=e}function lpe(t){return new dR[t]}class cpe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return br(e)}markerToArray(e){return Vi(e)}}ope("gregory",cpe);const upe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function dpe(t){let e=upe.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(lR(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class fpe{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=lpe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):br(eN(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=br(e)),r===null||!lR(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=dpe(e);if(r===null)return null;let{marker:n}=r,i=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):i=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return Gi(e)===Gi(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return Gi(e)===Gi(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=Dhe(e,r),n!==null?{unit:"week",value:n}:(n=op(e,r),n!==null?{unit:"day",value:n}:(n=Nhe(e,r),gf(n)?{unit:"hour",value:n}:(n=Che(e,r),gf(n)?{unit:"minute",value:n}:(n=khe(e,r),gf(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let i;return n.years&&(i=this.diffWholeYears(e,r),i!==null)?i/Ehe(n):n.months&&(i=this.diffWholeMonths(e,r),i!==null)?i/jhe(n):n.days&&(i=op(e,r),i!==null)?i/bo(n):(r.valueOf()-e.valueOf())/gn(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?st(e):r==="hour"?Phe(e):r==="minute"?Mhe(e):r==="second"?Rhe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Ihe(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,i={}){return i.isEndExclusive&&(r=fa(r,-1)),n.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(r)},this,i.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),cR(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?br(eN(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):br(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-tN(Vi(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Vi(e)):null}toDate(e,r){return this.timeZone==="local"?tN(Vi(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Vi(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class td{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}td.prototype.classes={};td.prototype.iconClasses={};td.prototype.baseIconClass="";td.prototype.iconOverridePrefix="";function dp(t){t();let e=xe.debounceRendering,r=[];function n(i){r.push(i)}for(xe.debounceRendering=n,Fu(F(hpe,{}),document.createElement("div"));r.length;)r.shift()();xe.debounceRendering=e}class hpe extends Mr{render(){return F("div",{})}componentDidMount(){this.setState({})}}function fR(t){let e=$fe(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,i=r.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class ppe{constructor(e,r,n,i){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Si=fR({});function mpe(t,e,r,n,i,a,s,o,l,u,d,f,h,p){return{dateEnv:i,nowManager:a,options:r,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(m){d.on("_resize",m)},removeResizeHandler(m){d.off("_resize",m)},createScrollResponder(m){return new ppe(m,d,Ie(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class Ds extends Mr{shouldComponentUpdate(e,r){return!pv(this.props,e,this.propEquality)||!pv(this.state,r,this.stateEquality)}safeSetState(e){pv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Ds.addPropsEquality=gpe;Ds.addStateEquality=vpe;Ds.contextType=Si;Ds.prototype.propEquality={};Ds.prototype.stateEquality={};class We extends Ds{}We.contextType=Si;function gpe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function vpe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Bn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class sS extends We{constructor(){super(...arguments),this.id=ks(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!wx(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Bn(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=hR(e,[],this.handleEl);let l=!1,u,d=[],f;if(i!=null){const h=typeof i=="function"?i(s,F):i;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(p?$M(h):typeof h!="function")?u=h:f=h}}else l=!wx(e.generatorName,n);return l&&a&&(u=a(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,F(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(ype)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!da(e,r)){r.forEach(Xw);for(let i of e)n.appendChild(i);this.currentDomNodes=e}}}sS.addPropsEquality({elClasses:da,elStyle:Sn,elAttrs:npe,renderProps:Sn});function wx(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function hR(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function ype(t){return!!t}const pR=fR(0);class Fr extends Mr{constructor(){super(...arguments),this.InnerContent=xpe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Bn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=bpe(e.classNameGenerator,e.renderProps);if(e.children){const n=hR(e,r,this.handleEl),i=e.children(this.InnerContent,e.renderProps,n);return e.elTag?F(e.elTag,n,i):i}else return F(sS,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Fr.contextType=pR;function xpe(t,e){const r=t.props;return F(sS,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function bpe(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class fp extends We{render(){let{props:e,context:r}=this,{options:n}=r,i={view:r.viewApi};return F(Fr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...mR(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function mR(t){return[`fc-${t.type}-view`,"fc-view"]}function wpe(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function oN(t,e){let r=[],{start:n}=e,i,a;for(t.sort(Spe),i=0;i<t.length;i+=1)a=t[i],a.start>n&&r.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<e.end&&r.push({start:n,end:e.end}),r}function Spe(t,e){return t.start.valueOf()-e.start.valueOf()}function vs(t,e){let{start:r,end:n}=t,i=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(i={start:r,end:n}),i}function _pe(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function oS(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Bm(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function oi(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Epe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function gR(t){let e=Math.floor(Os(t.start,t.end))||1,r=st(t.start),n=sr(r,e);return{start:r,end:n}}function vR(t,e=Ie(0)){let r=null,n=null;if(t.end){n=st(t.end);let i=t.end.valueOf()-n.valueOf();i&&i>=gn(e)&&(n=sr(n,1))}return t.start&&(r=st(t.start),n&&n<=r&&(n=sr(r,1))),{start:r,end:n}}function so(t,e,r,n){return n==="year"?Ie(r.diffWholeYears(t,e),"year"):n==="month"?Ie(r.diffWholeMonths(t,e),"month"):Ohe(t,e)}class yR{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,r,n){let{dateEnv:i}=this.props,a=i.add(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,r,n=!0){let{props:i}=this,a,s,o,l,u,d;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(e=Epe(e,a)),s=this.buildCurrentRangeInfo(e,r),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=vs(u,s.range)),u=this.adjustActiveRange(u),u=vs(u,a),d=oS(s.range,a),oi(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,i=null,a=null,s=null,o;return n.duration?(i=n.duration,a=n.durationUnit,s=this.buildRangeFromDuration(e,r,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,r,o)):(s=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=bx(i).unit,s=this.buildRangeFromDuration(e,r,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Ie({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return n&&(bo(i)<0&&(s=st(s),s=r.add(s,i)),bo(a)>1&&(o=st(o),o=sr(o,-1),o=r.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,r,n,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:f}=this.props;f&&gn(f)<gn(n)?s=bx(f).unit:s=i}bo(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,r),o=st(o));function d(){o=a.startOf(e,s),l=a.add(o,n),u={start:o,end:l}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=st(o),o=this.skipHiddenDays(o,r),l=o;do l=sr(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,i=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Ie(1,n):e||Ie({days:1}))}refineRange(e){if(e){let r=wpe(e,this.props.dateEnv);return r&&(r=vR(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(r[i]=e.indexOf(i)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=sr(e,r);return e}}function lS(t,e,r,n){return{instanceId:ks(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function jpe(t,e,r,n){for(let i=0;i<n.length;i+=1){let a=n[i].parse(t,r);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function ys(t,e,r){let{dateEnv:n,pluginHooks:i,options:a}=r,{defs:s,instances:o}=t;o=gs(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let f=Ape(u,d,e,n,i.recurringTypes);for(let h of f){let p=lS(l,{start:h,end:n.add(h,d)});o[p.instanceId]=p}}}return{defs:s,instances:o}}function Ape(t,e,r,n,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(st)),s}const yf={id:String,groupId:String,title:String,url:String,interactive:Boolean},xR={start:Q,end:Q,date:Q,allDay:Boolean},Tpe=Object.assign(Object.assign(Object.assign({},yf),xR),{extendedProps:Q});function bR(t,e,r,n,i=cS(r),a,s){let{refined:o,extra:l}=wR(t,r,i),u=Cpe(e,r),d=jpe(o,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=Sx(o,l,e?e.sourceId:"",d.allDay,!!d.duration,r,a);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=Npe(o,u,r,n);if(f){let h=Sx(o,l,e?e.sourceId:"",f.allDay,f.hasEnd,r,a),p=lS(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(p.instanceId=s[h.publicId]),{def:h,instance:p}}return null}function wR(t,e,r=cS(e)){return nS(t,r)}function cS(t){return Object.assign(Object.assign(Object.assign({},hp),Tpe),t.pluginHooks.eventRefiners)}function Sx(t,e,r,n,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||ks(),sourceId:r,allDay:n,hasEnd:i,interactive:t.interactive,ui:pp(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function Npe(t,e,r,n){let{allDay:i}=t,a,s=null,o=!1,l,u=null,d=t.start!=null?t.start:t.date;if(a=r.dateEnv.createMarkerMeta(d),a)s=a.marker;else if(!n)return null;return t.end!=null&&(l=r.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=st(s)),l&&(u=l.marker,i&&(u=st(u)),s&&u<=s&&(u=null)),u?o=!0:n||(o=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,i?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Cpe(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function Bu(t,e,r,n,i,a){let s=Rr(),o=cS(r);for(let l of t){let u=bR(l,e,r,n,o,i,a);u&&_x(u,s)}return s}function _x(t,e=Rr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function uS(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],i=Um(t,a=>kpe(n,a));return i.defs[n.defId]=n,i.instances[r.instanceId]=r,i}return Rr()}function kpe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Rr(){return{defs:{},instances:{}}}function dS(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Um(t,e){let r=gs(t.defs,e),n=gs(t.instances,i=>r[i.defId]);return{defs:r,instances:n}}function Ope(t,e){let{defs:r,instances:n}=t,i={},a={};for(let s in r)e.defs[s]||(i[s]=r[s]);for(let s in n)!e.instances[s]&&i[n[s].defId]&&(a[s]=n[s]);return{defs:i,instances:a}}function Dpe(t,e){return Array.isArray(t)?Bu(t,null,e,!0):typeof t=="object"&&t?Bu([t],null,e,!0):t!=null?String(t):null}function lN(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const hp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Q,overlap:Q,allow:Q,className:lN,classNames:lN,color:String,backgroundColor:String,borderColor:String,textColor:String},Ppe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function pp(t,e){let r=Dpe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function SR(t){return t.reduce(Mpe,Ppe)}function Mpe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Rpe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Q,eventDataTransform:Q,success:Q,failure:Q};function _R(t,e,r=ER(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:i,extra:a}=nS(n,r),s=Ipe(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ks(),sourceDefId:s.sourceDefId,meta:s.meta,ui:pp(i,e),extendedProps:a}}return null}function ER(t){return Object.assign(Object.assign(Object.assign({},hp),Rpe),t.pluginHooks.eventSourceRefiners)}function Ipe(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let a=r[n].parseMeta(t);if(a)return{sourceDefId:n,meta:a}}return null}function $pe(t,e,r,n,i){switch(e.type){case"RECEIVE_EVENTS":return Lpe(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Fpe(t,r[e.sourceId],e.rawEvents,n.activeRange,i);case"ADD_EVENTS":return Bpe(t,e.eventStore,n?n.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return dS(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ys(t,n.activeRange,i):t;case"REMOVE_EVENTS":return Ope(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return AR(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Um(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Rr();default:return t}}function Lpe(t,e,r,n,i,a){if(e&&r===e.latestFetchId){let s=Bu(jR(i,e,a),e,a);return n&&(s=ys(s,n,a)),dS(AR(t,e.sourceId),s)}return t}function Fpe(t,e,r,n,i){const{defIdMap:a,instanceIdMap:s}=Hpe(t);let o=Bu(jR(r,e,i),e,i,!1,a,s);return ys(o,n,i)}function jR(t,e,r){let n=r.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=cN(t,i)),n&&(t=cN(t,n)),t}function cN(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let i=e(n);i?r.push(i):i==null&&r.push(n)}}return r}function Bpe(t,e,r,n){return r&&(e=ys(e,r,n)),dS(t,e)}function uN(t,e,r){let{defs:n}=t,i=gi(t.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:r.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:r.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:i}}function AR(t,e){return Um(t,r=>r.sourceId!==e)}function Upe(t,e){return{defs:t.defs,instances:gs(t.instances,r=>!e[r.instanceId])}}function Hpe(t){const{defs:e,instances:r}=t,n={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(n[o]=a)}for(let a in r){const s=r[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:n,instanceIdMap:i}}class Hm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){zpe(this.handlers,e,r)}off(e,r){Wpe(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],n);for(let s of a)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function zpe(t,e,r){(t[e]||(t[e]=[])).push(r)}function Wpe(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const Vpe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Gpe(t,e){return Bu(qpe(t),null,e)}function qpe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},Vpe),r)),e}function TR(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},fS(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function Ype(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function fS(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,lme(t,e.dateEnv)),r}function dN(t,e,r){let{dateEnv:n,options:i}=r,a=e;return t?(a=st(a),a=n.add(a,i.defaultAllDayEventDuration)):a=n.add(a,i.defaultTimedEventDuration),a}function hS(t,e,r,n){let i=mp(t.defs,e),a=Rr();for(let s in t.defs){let o=t.defs[s];a.defs[s]=Kpe(o,i[s],r,n)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=Qpe(o,l,i[o.defId],r,n)}return a}function Kpe(t,e,r,n){let i=r.standardProps||{};i.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});r.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(a,r,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function Qpe(t,e,r,n,i){let{dateEnv:a}=i,s=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=gR(l.range)),n.datesDelta&&r.startEditable&&(l.range={start:a.add(l.range.start,n.datesDelta),end:a.add(l.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(l.range={start:a.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&r.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,n.endDelta)}),o&&(l.range={start:l.range.start,end:dN(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:st(l.range.start),end:st(l.range.end)}),l.range.end<l.range.start&&(l.range.end=dN(e.allDay,l.range.start,i)),l}class Ws{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class pt{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in xR)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=yf[e](r),this.mutate({standardProps:{publicId:r}});else if(e in yf)r=yf[e](r),this.mutate({standardProps:{[e]:r}});else if(e in hp){let n=hp[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,i=n.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=so(a.start,i,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,i;if(!(e!=null&&(i=n.createMarker(e),!i))&&this._instance)if(i){let a=so(this._instance.range.end,i,n,r.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:i}=this._context,a={allDay:n.allDay},s=i.createMarker(e),o;if(s&&!(r!=null&&(o=i.createMarker(r),!o))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=gR(l));let u=so(l.start,s,i,n.granularity);if(o){let d=so(l.end,o,i,n.granularity);whe(u,d)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let r=Ie(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Ie(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Ie(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:i}=r;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,i=gt(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=uS(a,r.instanceId);s=hS(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new pt(i,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:rs(s,i,r),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,r=NR(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Ws(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:i,endStr:a}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),i&&(s.start=i),a&&(s.end=a),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function NR(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function rs(t,e,r){let{defs:n,instances:i}=t,a=[],s=r?r.instanceId:"";for(let o in i){let l=i[o],u=n[l.defId];l.instanceId!==s&&a.push(new pt(e,u,l))}return a}function fN(t,e,r,n){let i={},a={},s={},o=[],l=[],u=mp(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):a[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],p=u[h.defId],m=f.range,g=!h.allDay&&n?vR(m,n):m,v=vs(g,r);v&&(p.display==="inverse-background"?h.groupId?i[h.groupId].push(v):a[f.defId].push(v):p.display!=="none"&&(p.display==="background"?o:l).push({def:h,ui:p,instance:f,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let d in i){let f=i[d],h=oN(f,r);for(let p of h){let m=s[d],g=u[m.defId];o.push({def:m,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in a){let f=a[d],h=oN(f,r);for(let p of h)o.push({def:t.defs[d],ui:u[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function Xpe(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function hN(t,e){t.fcSeg=e}function al(t){return t.fcSeg||t.parentNode.fcSeg||null}function mp(t,e){return gi(t,r=>CR(r,e))}function CR(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),SR(r)}function kR(t,e){let r=t.map(Zpe);return r.sort((n,i)=>phe(n,i,e)),r.map(n=>n._seg)}function Zpe(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,i=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:i,end:a,duration:a-i,allDay:Number(r.allDay),_seg:t})}function Jpe(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of n)s=o(s,i,a,e);return s}function eme(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function tme(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function OR(t,e,r,n,i,a,s){let{dateEnv:o,options:l}=r,{displayEventTime:u,displayEventEnd:d}=l,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=i!==!1);let p=h.range.start,m=h.range.end,g=a||t.start||t.eventRange.range.start,v=s||t.end||t.eventRange.range.end,x=st(p).valueOf()===st(g).valueOf(),y=st(fa(m,-1)).valueOf()===st(fa(v,-1)).valueOf();return u&&!f.allDay&&(x||y)?(g=x?p:g,v=y?m:v,d&&f.hasEnd?o.formatRange(g,v,e,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(g,e,{forcedTzo:a?null:h.forcedStartTzo})):""}function aa(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&oi(e,n.start)}}function rme(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function DR(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function PR(t,e){let{def:r,instance:n}=t.eventRange,{url:i}=r;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=r.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?oR(l=>{a.trigger("eventClick",{el:l.target,event:new pt(e,r,n),jsEvent:l,view:e.viewApi})}):{}}const nme={start:Q,end:Q,allDay:Boolean};function ime(t,e,r){let n=ame(t,e),{range:i}=n;if(!i.start)return null;if(!i.end){if(r==null)return null;i.end=e.add(i.start,r)}return n}function ame(t,e){let{refined:r,extra:n}=nS(t,nme),i=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},n)}function sme(t,e){return _pe(t.range,e.range)&&t.allDay===e.allDay&&ome(t,e)}function ome(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function lme(t,e){return Object.assign(Object.assign({},RR(t.range,e,t.allDay)),{allDay:t.allDay})}function MR(t,e,r){return Object.assign(Object.assign({},RR(t,e,r)),{timeZone:e.timeZone})}function RR(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function cme(t,e,r){let n=wR({editable:!1},r),i=Sx(n.refined,n.extra,"",t.allDay,!0,r);return{def:i,ui:CR(i,e),instance:lS(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function ume(t,e,r){let n=!1,i=function(o){n||(n=!0,e(o))},a=function(o){n||(n=!0,r(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class pN extends Error{constructor(e,r){super(e),this.response=r}}function dme(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new pN("Failure parsing JSON",i)});throw new pN("Request failed",i)})}let mv;function IR(){return mv==null&&(mv=fme()),mv}function fme(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class hme extends We{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{dp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{dp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,i=n||r.height==="auto"||r.contentHeight==="auto",a=!i&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return IR()||s.push("fc-liquid-hack"),e.children(s,a,i,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class kl{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function pme(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function pS(t){return{[t.component.uid]:t}}const Ex={};class Ol extends Mr{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),i=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(i,Ie(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:i,todayRange:mme(i)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Ol.contextType=Si;function mme(t){let e=st(t),r=sr(e,1);return{start:e,end:r}}class gme{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),i;r=r||"day",i=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),i=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,s;for(let o in r)i.push(o);for(a=0;a<i.length;a+=1)if(s=r[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Ie(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),gt(r))}formatRange(e,r,n){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(r),gt(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let i=this.getCurrentData(),a=ime(n,i.dateEnv,Ie({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),TR(a,null,i))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Ype(e,r))}addEvent(e,r){if(e instanceof pt){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:_x({def:s,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),i;if(r instanceof Ws)i=r.internalEventSource;else if(typeof r=="boolean")r&&([i]=aS(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;i=s.internalEventSource}let a=bR(e,i,n,!1);if(a){let s=new pt(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:_x(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:NR(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:i}=r.eventStore;e=String(e);for(let a in n){let s=n[a];if(s.publicId===e){if(s.recurringDef)return new pt(r,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new pt(r,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return rs(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let i in r)n.push(new Ws(e,r[i]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let i in n)if(n[i].publicId===e)return new Ws(r,n[i]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Ws)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=_R(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Ws(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Ie(e);r&&this.trigger("_scrollRequest",{time:r})}}function vme(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function $R(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function yme(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function xme(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function bme(t,e){return{left:t.left-e.left,top:t.top-e.top}}const gv=Rr();class wme{constructor(){this.getKeysForEventDefs=be(this._getKeysForEventDefs),this.splitDateSelection=be(this._splitDateSpan),this.splitEventStore=be(this._splitEventStore),this.splitIndividualUi=be(this._splitIndividualUi),this.splitEventDrag=be(this._splitInteraction),this.splitEventResize=be(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=gi(r,(d,f)=>this.eventUiBuilders[f]||be(Sme));for(let d in r){let f=r[d],h=s[d]||gv,p=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],f.ui,a[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:l[d]||null}}return u}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let i of n)r[i]=e}return r}_getKeysForEventDefs(e){return gi(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:i}=e,a={};for(let s in n)for(let o of r[s])a[o]||(a[o]=Rr()),a[o].defs[s]=n[s];for(let s in i){let o=i[s];for(let l of r[o.defId])a[l]&&(a[l].instances[s]=o)}return a}_splitIndividualUi(e,r){let n={};for(let i in e)if(i)for(let a of r[i])n[a]||(n[a]={}),n[a][i]=e[i];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),s=o=>{r[o]||(r[o]={affectedEvents:n[o]||gv,mutatedEvents:a[o]||gv,isEvent:e.isEvent})};for(let o in n)s(o);for(let o in a)s(o)}return r}}function Sme(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let i={"":SR(n)};return r&&Object.assign(i,r),i}function LR(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!oi(n.activeRange,t))),isOther:!!(n&&!oi(n.currentRange,t)),isToday:!!(e&&oi(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function mS(t,e){let r=["fc-day",`fc-day-${Ahe[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const _me=gt({year:"numeric",month:"long",day:"numeric"}),Eme=gt({week:"long"});function gp(t,e,r="day",n=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,r==="week"?Eme:_me);if(a.navLinks){let l=i.toDate(e);const u=d=>{let f=r==="day"?a.navLinkDayClick:r==="week"?a.navLinkWeekClick:null;typeof f=="function"?f.call(s,i.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:Mc(a.navLinkHint,[o,l],o),"data-navlink":""},n?sR(u):{onClick:u})}return{"aria-label":o}}let vv=null;function jme(){return vv===null&&(vv=Ame()),vv}function Ame(){let t=document.createElement("div");Pc(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Xw(t),r}let yv;function Tme(){return yv||(yv=Nme()),yv}function Nme(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=FR(t);return document.body.removeChild(t),e}function FR(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Cme(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,i=parseInt(r.borderRightWidth,10)||0,a=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,o=FR(t),l=o.y-n-i,u=o.x-a-s,d={borderLeft:n,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return jme()&&r.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function kme(t,e=!1,r){let n=r?t.getBoundingClientRect():gS(t),i=Cme(t,e),a={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function gS(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Ome(t){let e=BR(t),r=t.getBoundingClientRect();for(let n of e){let i=$R(r,n.getBoundingClientRect());if(i)r=i;else return null}return r}function BR(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class sl{constructor(e,r,n,i){this.els=r;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.left-e),n.push(a.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.top-e),n.push(a.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}topToIndex(e){let{tops:r,bottoms:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Vd(this.tops||[],e.tops||[])&&Vd(this.bottoms||[],e.bottoms||[])&&Vd(this.lefts||[],e.lefts||[])&&Vd(this.rights||[],e.rights||[])}}function Vd(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class vS{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Dme extends vS{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Pme extends vS{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Hn extends We{constructor(){super(...arguments),this.uid=ks()}prepareHits(){}queryHit(e,r,n,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ar(e,".fc-event-mirror")}isValidDateDownEl(e){return!ar(e,".fc-event:not(.fc-bg-event)")&&!ar(e,".fc-more-link")&&!ar(e,"a[data-navlink]")&&!ar(e,".fc-popover")}}class UR{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},r),{span:yS(r.span,e.touchingEntry.span)});n.push(i),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let i=e.span,a=r.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},n),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:i}=this;r.lateral===-1?(xv(i,r.level,r.levelCoord),xv(n,r.level,[e])):xv(n[r.level],r.lateral,e),this.stackCnts[ns(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:i,stackCnts:a}=this,s=r.length,o=0,l=-1,u=-1,d=null,f=0;for(let m=0;m<s;m+=1){const g=r[m];if(!i&&g>=o+this.getEntryThickness(e))break;let v=n[m],x,y=Ax(v,e.span.start,jx),b=y[0]+y[1];for(;(x=v[b])&&x.span.start<e.span.end;){let S=g+this.getEntryThickness(x);S>o&&(o=S,d=x,l=m,u=b),S===o&&(f=Math.max(f,a[ns(x)]+1)),b+=1}}let h=0;if(d)for(h=l+1;h<s&&r[h]<o;)h+=1;let p=-1;return h<s&&r[h]===o&&(p=Ax(n[h],e.span.end,jx)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:o,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,i=[];for(let a=0;a<n;a+=1){let s=e[a],o=r[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function jx(t){return t.span.end}function ns(t){return t.index+":"+t.span.start}function Mme(t){let e=[];for(let r of t){let n=[],i={span:r.span,entries:[r]};for(let a of e)yS(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:Rme(a.span,i.span)}:n.push(a);n.push(i),e=n}return e}function Rme(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function yS(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function xv(t,e,r){t.splice(e,0,r)}function Ax(t,e,r){let n=0,i=t.length;if(!i||e<r(t[n]))return[0,0];if(e>r(t[i-1]))return[i,0];for(;n<i;){let a=Math.floor(n+(i-n)/2),s=r(t[a]);if(e<s)i=a;else if(e>s)n=a+1;else return[a,1]}return[n,0]}class Ime{constructor(e,r){this.emitter=new Hm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const xS={};function $me(t,e){return!t||e>10?gt({weekday:"short"}):e>1?gt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):gt({weekday:"long"})}const HR="fc-col-header-cell";function zR(t){return t.text}class Lme extends We{render(){let{dateEnv:e,options:r,theme:n,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=LR(s,a.todayRange,null,o),u=[HR].concat(mS(l,n)),d=e.format(s,a.dayHeaderFormat),f=!l.isDisabled&&a.colCnt>1?gp(this.context,s):{},h=e.toDate(s);e.namedTimeZoneImpl&&(h=fa(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:i},a.extraRenderProps),{text:d}),l);return F(Fr,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:tS(s)},a.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:zR,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},m=>F("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&F(m,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const Fme=gt({weekday:"long"});class Bme extends We{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:i,options:a}=this.context,s=sr(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return F(Fr,{elTag:"th",elClasses:[HR,...mS(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:zR,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},d=>F("div",{className:"fc-scrollgrid-sync-inner"},F(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,Fme)}})))}}class WR extends We{constructor(){super(...arguments),this.createDayHeaderFormatter=be(Ume)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,r.length);return F(Ol,{unit:"day"},(o,l)=>F("tr",{role:"row"},a&&a("day"),r.map(u=>i?F(Lme,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:r.length,dayHeaderFormat:s}):F(Bme,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function Ume(t,e,r){return t||$me(e,r)}class VR{constructor(e,r){let n=e.start,{end:i}=e,a=[],s=[],o=-1;for(;n<i;)r.isHiddenDay(n)?a.push(o+.5):(o+=1,a.push(o),s.push(n)),n=sr(n,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(sr(e.end,-1)),i=Math.max(0,r),a=Math.min(this.cnt-1,n);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:r===i,isEnd:n===a}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(Os(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class GR{constructor(e,r){let{dates:n}=e,i,a,s;if(r){for(a=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==a;i+=1);s=Math.ceil(n.length/i)}else s=1,i=n.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let i=0;i<this.colCnt;i+=1)n.push(this.buildCell(r,i));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),i=[];if(n){let{firstIndex:a,lastIndex:s}=n,o=a;for(;o<=s;){let l=Math.floor(o/r),u=Math.min((l+1)*r,s+1);i.push({row:l,firstCol:o%r,lastCol:(u-1)%r,isStart:n.isStart&&o===a,isEnd:n.isEnd&&u-1===s}),o=u}}return i}}class qR{constructor(){this.sliceBusinessHours=be(this._sliceBusinessHours),this.sliceDateSelection=be(this._sliceDateSpan),this.sliceEventStore=be(this._sliceEventStore),this.sliceEventDrag=be(this._sliceInteraction),this.sliceEventResize=be(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,r,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...a),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,i,...a){return this._sliceDateSpan({range:{start:e,end:fa(e,1)},allDay:!1},r,n,{},i,...a)}_sliceBusinessHours(e,r,n,i,...a){return e?this._sliceEventStore(ys(e,Gd(r,!!n),i),{},r,n,...a).bg:[]}_sliceEventStore(e,r,n,i,...a){if(e){let s=fN(e,r,Gd(n,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,i,...a){if(!e)return null;let s=fN(e.mutatedEvents,r,Gd(n,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,i,a,...s){if(!e)return[];let o=Gd(r,!!n),l=vs(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=cme(e,i,a),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let i of e)n.push(...this.sliceEventRange(i,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:sr(n.start,1)});let i=this.sliceRange(n,...r);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function Gd(t,e){let r=t.activeRange;return e?r:{start:fa(r.start,t.slotMinTime.milliseconds),end:fa(r.end,t.slotMaxTime.milliseconds-864e5)}}function YR(t,e,r){let{instances:n}=t.mutatedEvents;for(let i in n)if(!Bm(e.validRange,n[i].range))return!1;return KR({eventDrag:t},r)}function Hme(t,e,r){return Bm(e.validRange,t.range)?KR({dateSelection:t},r):!1}function KR(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||zme)(n,e)}function zme(t,e,r={},n){return!(t.eventDrag&&!Wme(t,e,r,n)||t.dateSelection&&!Vme(t,e,r,n))}function Wme(t,e,r,n){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=mp(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});n&&(u=gi(u,n));let d=Upe(t.eventStore,a.affectedEvents.instances),f=d.defs,h=d.instances,p=mp(f,t.eventUiBases);for(let m in l){let g=l[m],v=g.range,x=u[g.defId],y=o[g.defId];if(!QR(x.constraints,v,d,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,S=typeof b=="function"?b:null;for(let _ in h){let j=h[_];if(oS(v,j.range)&&(p[j.defId].overlap===!1&&a.isEvent||x.overlap===!1||S&&!S(new pt(e,f[j.defId],j),new pt(e,y,g))))return!1}let w=i.eventStore;for(let _ of x.allows){let j=Object.assign(Object.assign({},r),{range:g.range,allDay:y.allDay}),E=w.defs[y.defId],A=w.instances[m],k;if(E?k=new pt(e,E,A):k=new pt(e,y),!_(fS(j,e),k))return!1}}return!0}function Vme(t,e,r,n){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!QR(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in s){let p=s[h];if(oS(l,p.range)&&(u.overlap===!1||f&&!f(new pt(e,a[p.defId],p),null)))return!1}for(let h of u.allows){let p=Object.assign(Object.assign({},r),o);if(!h(fS(p,e),null))return!1}return!0}function QR(t,e,r,n,i){for(let a of t)if(!qme(Gme(a,e,r,n,i),e))return!1;return!0}function Gme(t,e,r,n,i){return t==="businessHours"?bv(ys(n,e,i)):typeof t=="string"?bv(Um(r,a=>a.groupId===t)):typeof t=="object"&&t?bv(ys(t,e,i)):[]}function bv(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function qme(t,e){for(let r of t)if(Bm(r,e))return!0;return!1}const qd=/^(visible|hidden)$/;class Yme extends We{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Bn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,i=r&&n,a=["fc-scroller"];return r&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),F("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(qd.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(qd.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return qd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return qd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ri{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;r!==null?(s=n in a,a[n]=r,i[n]=(i[n]||0)+1,o=!0):(i[n]-=1,i[n]||(delete a[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),o&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return spe(this.currentMap,e,r,n)}getAll(){return aS(this.currentMap)}}function Kme(t){let e=ihe(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,yhe(n));return Math.ceil(r)}function XR(t,e){return t.liquid&&e.liquid}function Qme(t,e){return e.maxHeight!=null||XR(t,e)}function Xme(t,e,r,n){let{expandRows:i}=r;return typeof e.content=="function"?e.content(r):F("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:i?r.clientHeight:""}},r.tableColGroupNode,F(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function Zme(t,e){return da(t,e,Sn)}function Jme(t,e){let r=[];for(let n of t){let i=n.span||1;for(let a=0;a<i;a+=1)r.push(F("col",{style:{width:n.width==="shrink"?ege(e):n.width||"",minWidth:n.minWidth||""}}))}return F("colgroup",{},...r)}function ege(t){return t??4}function tge(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function rge(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function nge(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function Tx(t){return F("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function vp(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function ZR(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class bS extends We{constructor(){super(...arguments),this.processCols=be(e=>e,Zme),this.renderMicroColGroup=be(Jme),this.scrollerRefs=new ri,this.scrollerElRefs=new ri(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,r.shrinkWidth),o=rge(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,d,f=[],h=[],p=[];for(;u<l&&(d=i[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<l&&(d=i[u]).type==="body";)h.push(this.renderSection(d,s,!1)),u+=1;for(;u<l&&(d=i[u]).type==="footer";)p.push(this.renderSection(d,s,!0)),u+=1;let m=!IR();const g={role:"rowgroup"};return F("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!m&&f.length)&&F("thead",g,...f),!!(!m&&h.length)&&F("tbody",g,...h),!!(!m&&p.length)&&F("tfoot",g,...p),m&&F("tbody",g,...f,...h,...p))}renderSection(e,r,n){return"outerContent"in e?F(at,{key:e.key},e.outerContent):F("tr",{key:e.key,role:"presentation",className:nge(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,i){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=Qme(a,e),d=XR(a,e),f=a.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,p=Xme(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return F(i?"th":"td",{ref:n.elRef,role:"presentation"},F("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},F(Yme,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,r){let n=ige(this.props.sections,r);n&&Bn(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return tge(this.props.cols)?Kme(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Tme(),{scrollerRefs:r,scrollerElRefs:n}=this,i=!1,a={},s={};for(let o in r.currentMap){let l=r.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=n.currentMap[l];if(u){let d=u.parentNode;a[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}bS.addStateEquality({scrollerClientWidths:Sn,scrollerClientHeights:Sn});function ige(t,e){for(let r of t)if(r.key===e)return r;return null}class wS extends We{constructor(){super(...arguments),this.buildPublicEvent=be((e,r,n)=>new pt(e,r,n)),this.handleEl=e=>{this.el=e,Bn(this.props.elRef,e),e&&hN(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(r,a.def,a.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&Jpe(i,r),isStartResizable:!e.disableResizing&&eme(i,r),isEndResizable:!e.disableResizing&&tme(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return F(Fr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...rme(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&hN(this.el,this.props.seg)}}class SS extends We{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{ui:a}=i.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,o=OR(i,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return F(wS,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:PR(i,r),defaultGenerator:age,timeText:o}),(l,u)=>F(at,null,F(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}SS.addPropsEquality({seg:Sn});function age(t){return F("div",{className:"fc-event-main-frame"},t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title-container"},F("div",{className:"fc-event-title fc-sticky"},t.event.title||F(at,null," "))))}const _S=t=>F(Si.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return F(Fr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount},t.children)}),sge=gt({day:"numeric"});class ES extends We{constructor(){super(...arguments),this.refineRenderProps=vf(oge)}render(){let{props:e,context:r}=this,{options:n}=r,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return F(Fr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":tS(e.date)}),elClasses:[...mS(i,r.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function jS(t){return!!(t.dayCellContent||wx("dayCellContent",t))}function oge(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:i}=t,a=LR(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,i?t.monthStartFormat:sge):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class JR extends We{render(){let{props:e}=this,{seg:r}=e;return F(wS,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:lge,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function lge(t){let{title:e}=t.event;return e&&F("div",{className:"fc-event-title"},t.event.title)}function eI(t){return F("div",{className:`fc-${t}`})}const tI=t=>F(Si.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:i}=t,a=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(i),o=r.format(i,a),l={num:s,text:o,date:i};return F(Fr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:cge,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},t.children)});function cge(t){return t.text}const wv=10;class uge extends We{constructor(){super(...arguments),this.state={titleId:Lm()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Bn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=iR(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return Wfe(F("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),F("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},F("span",{className:"fc-popover-title",id:i.titleId},n.title),F("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),F("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:i}=this,a=Ome(r);if(a){let s=i.getBoundingClientRect(),o=n?ar(r,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,wv),l=Math.min(l,document.documentElement.clientWidth-wv-s.width),l=Math.max(l,wv);let u=i.offsetParent.getBoundingClientRect();Pc(i,{top:o-u.top,left:l-u.left})}}}class dge extends Hn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:i,todayRange:a,dateProfile:s}=n,o=r.format(i,e.dayPopoverFormat);return F(ES,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,d)=>F(uge,{elRef:d.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},jS(e)&&F(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,i){let{rootEl:a,props:s}=this;return e>=0&&e<n&&r>=0&&r<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null}}class rI extends We{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Lm()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Bn(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:i}=n.options,a=mN(r).start;function s(o){let{def:l,instance:u,range:d}=o.eventRange;return{event:new pt(n,l,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&n.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return F(Si.Consumer,null,n=>{let{viewApi:i,options:a,calendarApi:s}=n,{moreLinkText:o}=a,{moreCnt:l}=e,u=mN(e),d=typeof o=="function"?o.call(s,l):`+${l} ${o}`,f=Mc(a.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:i};return F(at,null,!!e.moreCnt&&F(Fr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),sR(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||fge,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),r.isPopoverOpen&&F(dge,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ar(this.linkEl,".fc-view-harness"))}}function fge(t){return t.text}function mN(t){if(t.allDayDate)return{start:t.allDayDate,end:sr(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:nI(e),end:pge(e)}}function nI(t){return t.reduce(hge).eventRange.range.start}function hge(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function pge(t){return t.reduce(mge).eventRange.range.end}function mge(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class gge{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class vge extends gge{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const yge=[],iI={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},aI=Object.assign(Object.assign({},iI),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function xge(t){let e=t.length>0?t[0].code:"en",r=yge.concat(t),n={en:aI};for(let i of r)n[i.code]=i;return{map:n,defaultCode:e}}function sI(t,e){return typeof t=="object"&&!Array.isArray(t)?oI(t.code,[t.code],t):bge(t,e)}function bge(t,e){let r=[].concat(t||[]),n=wge(r,e)||aI;return oI(t,r,n)}function wge(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let i=n.length;i>0;i-=1){let a=n.slice(0,i).join("-");if(e[a])return e[a]}}return null}function oI(t,e,r){let n=iS([iI,r],["buttonText"]);delete n.code;let{week:i}=n;return delete n.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function _i(t){return{id:ks(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Sge(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=r[o];l===void 0?(r[o]=s.id,i(s.deps),n=Ege(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),n}function _ge(){let t=[],e=[],r;return(n,i)=>((!r||!da(n,t)||!da(i,e))&&(r=Sge(n,i)),t=n,e=i,r)}function Ege(t,e){return{premiumReleaseDate:jge(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function jge(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Aa extends td{}Aa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Aa.prototype.baseIconClass="fc-icon";Aa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Aa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Aa.prototype.iconOverrideOption="buttonIcons";Aa.prototype.iconOverrideCustomButtonOption="icon";Aa.prototype.iconOverridePrefix="fc-icon-";function Age(t,e){let r={},n;for(n in t)Nx(n,r,t,e);for(n in e)Nx(n,r,t,e);return r}function Nx(t,e,r,n){if(e[t])return e[t];let i=Tge(t,e,r,n);return i&&(e[t]=i),i}function Tge(t,e,r,n){let i=r[t],a=n[t],s=d=>i&&i[d]!==null?i[d]:a&&a[d]!==null?a[d]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=Nx(l,e,r,n)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function gN(t){return gi(t,Nge)}function Nge(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=vN(e):r&&!(r.prototype instanceof We)&&(r=vN(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function vN(t){return e=>F(Si.Consumer,null,r=>F(Fr,{elTag:"div",elClasses:mR(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Cge(t,e,r,n){let i=gN(t),a=gN(e.views),s=Age(i,a);return gi(s,o=>kge(o,a,e,r,n))}function kge(t,e,r,n,i){let a=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,o="",l="",u={};if(a&&(s=Oge(a),s)){let h=bx(s);o=h.unit,h.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let d=h=>{let p=h.buttonText||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},f=h=>{let p=h.buttonHints||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(Rc)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(Rc)}}let yN={};function Oge(t){let e=JSON.stringify(t),r=yN[e];return r===void 0&&(r=Ie(t),yN[e]=r),r}function Dge(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Pge(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Mge(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function Rge(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Ige(t,e,r,n){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(i=n.buildPrev(t,r),i.isValid)return i;break;case"NEXT":if(i=n.buildNext(t,r),i.isValid)return i;break}return t}function $ge(t,e,r){let n=e?e.activeRange:null;return cI({},Wge(t,r),n,r)}function Lge(t,e,r,n){let i=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return cI(t,e.sources,i,n);case"REMOVE_EVENT_SOURCE":return Bge(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?uI(t,i,n):t;case"FETCH_EVENT_SOURCES":return AS(t,e.sourceIds?uR(e.sourceIds):dI(t,n),i,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return zge(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Fge(t,e,r){let n=e?e.activeRange:null;return AS(t,dI(t,r),n,!0,r)}function lI(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function cI(t,e,r,n){let i={};for(let a of e)i[a.sourceId]=a;return r&&(i=uI(i,r,n)),Object.assign(Object.assign({},t),i)}function Bge(t,e){return gs(t,r=>r.sourceId!==e)}function uI(t,e,r){return AS(t,gs(t,n=>Uge(n,e,r)),e,!1,r)}function Uge(t,e,r){return fI(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function AS(t,e,r,n,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=Hge(o,r,n,i):a[s]=o}return a}function Hge(t,e,r,n){let{options:i,calendarApi:a}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],o=ks();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function zge(t,e,r,n){let i=t[e];return i&&r===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:n})}):t}function dI(t,e){return gs(t,r=>fI(r,e))}function Wge(t,e){let r=ER(e),n=[].concat(t.eventSources||[]),i=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let a of n){let s=_R(a,e,r);s&&i.push(s)}return i}function fI(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Vge(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Gge(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function qge(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Yge(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Kge(t,e,r,n,i){let a=t.headerToolbar?xN(t.headerToolbar,t,e,r,n,i):null,s=t.footerToolbar?xN(t.footerToolbar,t,e,r,n,i):null;return{header:a,footer:s}}function xN(t,e,r,n,i,a){let s={},o=[],l=!1;for(let u in t){let d=t[u],f=Qge(d,e,r,n,i,a);s[u]=f.widgets,o.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Qge(t,e,r,n,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],p=[],m=!1;return{widgets:h.map(v=>v.split(",").map(x=>{if(x==="title")return m=!0,{buttonName:x};let y,b,S,w,_,j;if(y=o[x])S=E=>{y.click&&y.click.call(E.target,E,E.target)},(w=n.getCustomButtonIconClass(y))||(w=n.getIconClass(x,s))||(_=y.text),j=y.hint||y.text;else if(b=i[x]){p.push(x),S=()=>{a.changeView(x)},(_=b.buttonTextOverride)||(w=n.getIconClass(x,s))||(_=b.buttonTextDefault);let E=b.buttonTextOverride||b.buttonTextDefault;j=Mc(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[E,x],E)}else if(a[x])if(S=()=>{a[x]()},(_=l[x])||(w=n.getIconClass(x,s))||(_=u[x]),x==="prevYear"||x==="nextYear"){let E=x==="prevYear"?"prev":"next";j=Mc(d[E]||f[E],[u.year||"year","year"],u[x])}else j=E=>Mc(d[x]||f[x],[u[E]||E,E],u[x]);return{buttonName:x,buttonClick:S,buttonIcon:w,buttonText:_,buttonHint:j}})),viewsWithButtons:p,hasTitle:m}}class Xge{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Zge={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Jge=_i({name:"array-event-source",eventSourceDefs:[Zge]});let eve={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,i=t.eventSource.meta;ume(i.bind(null,MR(t.range,n)),a=>e({rawEvents:a}),r)}};const tve=_i({name:"func-event-source",eventSourceDefs:[eve]}),rve={method:String,extraParams:Q,startParam:String,endParam:String,timeZoneParam:String};let nve={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,i=ave(n,t.range,t.context);dme(n.method,n.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},r)}};const ive=_i({name:"json-event-source",eventSourceRefiners:rve,eventSourceDefs:[nve]});function ave(t,e,r){let{dateEnv:n,options:i}=r,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[o]=n.timeZone),u}const sve={daysOfWeek:Q,startTime:Ie,endTime:Ie,duration:Ie,startRecur:Q,endRecur:Q};let ove={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=She(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=vs(e,{start:t.startRecur,end:t.endRecur});return n?cve(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const lve=_i({name:"simple-recurring-event",recurringTypes:[ove],eventRefiners:sve});function cve(t,e,r,n,i){let a=t?uR(t):null,s=st(i.start),o=i.end,l=[];for(;s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,l.push(n.createMarker(r.toDate(u)))),s=sr(s,1)}return l}const uve=_i({name:"change-handler",optionChangeHandlers:{events(t,e){bN([t],e)},eventSources:bN}});function bN(t,e){let r=aS(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let i of t){let a=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===i){r.splice(s,1),a=!0;break}a||n.push(i)}for(let i of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of n)e.calendarApi.addEventSource(i)}function dve(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},MR(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function fve(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",rs(t,e))}const hve=[Jge,tve,ive,lve,uve,_i({name:"misc",isLoadingFuncs:[t=>lI(t.eventSources)],propSetHandlers:{dateProfile:dve,eventStore:fve}})];class pve{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new Qw(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function mve(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,gt(e.titleFormat||gve(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function gve(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=op(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class wN{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class vve{constructor(e){this.computeCurrentViewData=be(this._computeCurrentViewData),this.organizeRawLocales=be(xge),this.buildLocale=be(sI),this.buildPluginHooks=_ge(),this.buildDateEnv=be(yve),this.buildTheme=be(xve),this.parseToolbars=be(Kge),this.buildViewSpecs=be(Cge),this.buildDateProfileGenerator=vf(bve),this.buildViewApi=be(wve),this.buildViewUiProps=vf(Eve),this.buildEventUiBySource=be(Sve,Sn),this.buildEventUiBases=be(_ve),this.parseContextBusinessHours=vf(jve),this.buildTitle=be(mve),this.nowManager=new wN,this.emitter=new Hm,this.actionRunner=new pve(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new wN;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(i,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=Mge(n.calendarOptions,n.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);oi(l.activeRange,o)||(o=l.currentRange.start);for(let h of n.pluginHooks.contextInit)h(s);let u=$ge(n.calendarOptions,l,s),d={dynamicOptionOverrides:r,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Rr(),renderableEventStore:Rr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));Sv(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:i}=this,a=Rge(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),o=Dge(n.currentViewType,e),l=this.computeCurrentViewData(o,s,r.optionOverrides,a);r.calendarApi.currentDataManager=this,i.setThisContext(r.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(d)),d=Pge(d,e),f=Ige(f,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!oi(f.currentRange,d))&&(d=f.currentRange.start);let h=Lge(n.eventSources,e,f,u),p=$pe(n.eventStore,e,h,f,u),g=lI(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),b=this.buildEventUiBases(g.defs,v,y),S={dynamicOptionOverrides:a,currentViewType:o,currentDate:d,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:g,selectionConfig:x,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:Vge(n.dateSelection,e),eventSelection:Gge(n.eventSelection,e),eventDrag:qge(n.eventDrag,e),eventResize:Yge(n.eventResize,e)},w=Object.assign(Object.assign({},u),S);for(let E of s.pluginHooks.reducers)Object.assign(S,E(n,e,w));let _=Sv(n,u),j=Sv(S,u);!_&&j?i.trigger("loading",!0):_&&!j&&i.trigger("loading",!1),this.state=S,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(r.currentViewType,i,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),r),o=i.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=Fge(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=uN(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=uN(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==u[d])&&o[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,r);SN(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),d=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(i,a),h=this.parseToolbars(i,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,r){let{locales:n,locale:i}=hv([Rc,e,r]),a=this.organizeRawLocales(n),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],hve),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},iN),aN),sN),l.listenerRefiners),l.optionRefiners),d={},f=hv([Rc,o,e,r]),h={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let v in f)this.optionsForRefining.indexOf(v)===-1&&(f[v]===p[v]||La[v]&&v in p&&La[v](p[v],f[v]))?h[v]=m[v]:u[v]?(h[v]=u[v](f[v]),g=!0):d[v]=p[v];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:d}}_computeCurrentViewData(e,r,n,i){let a=r.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,r.pluginHooks,r.localeDefaults,n,i);SN(o),this.nowManager.handleInput(r.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,r,n,i,a){let s=hv([Rc,e.optionDefaults,n,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},iN),aN),sN),tpe),r.listenerRefiners),r.optionRefiners),l={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let p in s)s[p]===u[p]||La[p]&&La[p](s[p],u[p])?l[p]=d[p]:(s[p]===this.currentCalendarOptionsInput[p]||La[p]&&La[p](s[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):o[p]?l[p]=o[p](s[p]):h[p]=s[p],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function yve(t,e,r,n,i,a,s,o){let l=sI(e||s.defaultCode,s.map);return new fpe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:r,firstDay:n,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function xve(t,e){let r=e.themeClasses[t.themeSystem]||Aa;return new r(t)}function bve(t){let e=t.dateProfileGeneratorClass||yR;return new e(t)}function wve(t,e,r){return new Xge(t,e,r)}function Sve(t){return gi(t,e=>e.ui)}function _ve(t,e,r){let n={"":e};for(let i in t){let a=t[i];a.sourceId&&r[a.sourceId]&&(n[i]=r[a.sourceId])}return n}function Eve(t){let{options:e}=t;return{eventUiSingleBase:pp({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:pp({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Sv(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function jve(t){return Gpe(t.options.businessHours,t)}function SN(t,e){for(let r in t)console.warn(`Unknown option '${r}'`+(e?` for view '${e}'`:""))}class Ave extends We{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return F("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(o==="title")a=!1,i.push(F("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=o===r.activeButton,p=!r.isTodayEnabled&&o==="today"||!r.isPrevEnabled&&o==="prev"||!r.isNextEnabled&&o==="next",m=[`fc-${o}-button`,n.getClass("button")];h&&m.push(n.getClass("buttonActive")),i.push(F("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:p,"aria-pressed":h,className:m.join(" "),onClick:l},u||(d?F("span",{className:d,role:"img"}):"")))}}if(i.length>1){let s=a&&n.getClass("buttonGroup")||"";return F("div",{className:s},...i)}return i[0]}}class _N extends We{render(){let{model:e,extraClassName:r}=this.props,n=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(n=!0,i=s.left):i=s.start,s.right?(n=!0,a=s.right):a=s.end,F("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,r){let{props:n}=this;return F(Ave,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class Tve extends We{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Bn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return n?r.availableWidth!==null?a=r.availableWidth/n:s=`${1/n*100}%`:a=e.height||"",F("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Nve extends kl{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:i}=this,{context:a}=i,s=al(n);if(s&&i.isValidSegDownEl(r.target)){let o=ar(r.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new pt(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},this.destroy=aR(e.el,"click",".fc-event",this.handleSegClick)}}class Cve extends kl{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{al(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=ohe(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:i}=this,{context:a}=i,s=al(n);(!r||i.isValidSegDownEl(r.target))&&a.emitter.trigger(e,{el:n,event:new pt(a,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi})}}class kve extends Ds{constructor(){super(...arguments),this.buildViewContext=be(mpe),this.buildViewPropTransformers=be(Dve),this.buildToolbarProps=be(Ove),this.headerRef=dr(),this.footerRef=dr(),this.interactionsStore={},this.state={viewLabelId:Lm()},this.registerInteractiveComponent=(e,r)=>{let n=pme(e,r),s=[Nve,Cve].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=s,Ex[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete Ex[e.uid]},this.resizeRunner=new Qw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":n.height!=null?i=!0:n.contentHeight!=null?a=n.contentHeight:s=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return F(Si.Provider,{value:o},F(Ol,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return F(at,null,r.header&&F(_N,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:l},d)),F(Tve,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),r.footer&&F(_N,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let i in n)r[i]!==e[i]&&n[i](r[i],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return F(at,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=n.component;return F(s,Object.assign({},i))}}function Ove(t,e,r,n,i,a){let s=r.build(i,void 0,!1),o=r.buildPrev(e,n,!1),l=r.buildNext(e,n,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!oi(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function Dve(t){return t.map(e=>new e)}let Pve=class extends gme{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;dp(()=>{Fu(F(hme,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),F(pR.Provider,{value:this.customContentRenderId},F(kve,Object.assign({isHeightAuto:s,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Fu(null,this.el),this.setClassNames([]),this.setHeight(""))},Zfe(e),this.el=e,this.renderRunner=new Qw(this.handleRenderRequest),new vve({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){dp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!da(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){nR(this.el,"height",e)}};const Mve=parseInt(String(I.version).split(".")[0]),Rve=Mve<18;class hI extends C.Component{constructor(){super(...arguments),this.elRef=C.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(I.createElement(Ive,{key:r.id,customRendering:r}));return I.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new vge;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Pve(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Wf.flushSync(()=>{})});let r;e.subscribe(n=>{const i=Date.now(),a=!r;(Rve||a||this.isUpdating||this.isUnmounting||i-r<100?pI:Wf.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}hI.act=pI;class Ive extends C.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return Wf.createPortal(n,e.containerEl)}}function pI(t){t()}class $ve extends Hn{constructor(){super(...arguments),this.headerElRef=dr()}renderSimpleLayout(e,r){let{props:n,context:i}=this,a=[],s=vp(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),F(fp,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},F(bS,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,r,n,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&vp(o.options),u=!s.forPrint&&ZR(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Tx}]}),F(fp,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},F(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))}}function xf(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function Yd(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function EN(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const mI=gt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function gI(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class vI extends We{render(){let{props:e}=this;return F(SS,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:mI,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class yI extends We{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,a=n.eventTimeFormat||mI,s=OR(i,a,r,!0,e.defaultDisplayEventEnd);return F(wS,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:PR(e.seg,r),defaultGenerator:Lve,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function Lve(t){return F(at,null,F("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title"},t.event.title||F(at,null," ")))}class Fve extends We{constructor(){super(...arguments),this.compileSegs=be(Bve)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return F(rI,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return F(at,null,r.map(a=>{let s=a.eventRange.instance.instanceId;return F("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},gI(a)?F(yI,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},aa(a,e.todayRange))):F(vI,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},aa(a,e.todayRange))))}))}})}}function Bve(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const Uve=gt({week:"narrow"});class Hve extends Hn{constructor(){super(...arguments),this.rootElRef=dr(),this.state={dayNumberId:Lm()},this.handleRootEl=e=>{Bn(this.rootElRef,e),Bn(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=r;const u=r.showDayNumber&&Wve(o,l.currentRange,s);return F(ES,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:zve,date:o,dateProfile:l,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>F("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&F(tI,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:gp(e,o,"week"),date:o,defaultFormat:Uve}),!f.isDisabled&&(r.showDayNumber||jS(a)||r.forceDayTop)?F("div",{className:"fc-daygrid-day-top"},F(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},gp(e,o)),{id:n.dayNumberId})})):r.showDayNumber?F("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},F("a",{className:"fc-daygrid-day-number"}," ")):void 0,F("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,F("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},F(Fve,{allDayDate:o,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:i,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),F("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function zve(t){return t.dayNumberText||F(at,null," ")}function Wve(t,e,r){const{start:n,end:i}=e,a=fa(i,-1),s=r.getYear(n),o=r.getMonth(n),l=r.getYear(a),u=r.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<i.valueOf())}function xI(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function bI(t){return xI(t)+":"+t.lastCol}function Vve(t,e,r,n,i,a,s){let o=new Yve(x=>{let y=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||r===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof r=="number"&&(o.maxStackCnt=r,o.hiddenConsumes=!0);let l=[],u=[];for(let x=0;x<t.length;x+=1){let y=t[x],b=bI(y);i[b]!=null?l.push({index:x,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let d=o.addSegs(l),f=o.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=Gve(f,t,s),g=[],v=[];for(let x of u){p[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=x.firstCol;y<=x.lastCol;y+=1)h[y].push({seg:wo(x,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)g.push(0);for(let x of d){let y=t[x.index],b=x.span;p[b.start].push({seg:wo(y,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=b.start;S<b.end;S+=1)g[S]+=1,h[S].push({seg:wo(y,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)v.push(m[x]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:v}}function Gve(t,e,r){let n=qve(t,r.length),i=[],a=[],s=[];for(let o=0;o<r.length;o+=1){let l=n[o],u=[],d=0,f=0;for(let p of l){let m=e[p.index];u.push({seg:wo(m,o,o+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let h=[];d=0,f=0;for(let p of l){let m=e[p.index],g=p.span.end-p.span.start>1,v=p.span.start===o;f+=p.levelCoord-d,d=p.levelCoord+p.thickness,g?(f+=p.thickness,v&&h.push({seg:wo(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):v&&(h.push({seg:wo(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}i.push(u),a.push(h),s.push(f)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function qve(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let i=n.span.start;i<n.span.end;i+=1)r[i].push(n);return r}function wo(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let i=t.eventRange,a=i.range,s=vs(a,{start:n[e].date,end:sr(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class Yve extends UR{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,i=a=>!this.forceHidden[ns(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(i);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=ns(s);if(!a[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:yS(s.span,r.span)}),f=ns(d);a[f]=!0,i[o][l]=d,n.push(d),this.splitEntry(s,r,n)}else a[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class wI extends Hn{constructor(){super(...arguments),this.cellElRefs=new ri,this.frameElRefs=new ri,this.fgElRefs=new ri,this.segHarnessRefs=new ri,this.rootElRef=dr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=e.cells.length,s=Yd(e.businessHourSegs,a),o=Yd(e.bgEventSegs,a),l=Yd(this.getHighlightSegs(),a),u=Yd(this.getMirrorSegs(),a),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=Vve(kR(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return F("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let x=this.renderFgSegs(v,e.forPrint?d[v]:f[v],e.todayRange,m),y=this.renderFgSegs(v,Kve(u[v],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return F(Hve,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[v],moreMarginTop:p[v],singlePlacements:d[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:F(at,null,F(at,null,x),F(at,null,y)),bgContent:F(at,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!Sn(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=a||s||o,p=[];if(d)for(let m of r){let{seg:g}=m,{instanceId:v}=g.eventRange.instance,x=m.isVisible&&!i[v],y=m.isAbsolute,b="",S="";y&&(l.isRtl?(S=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,S=d.rights[g.firstCol]-d.rights[g.lastCol])),p.push(F("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:xI(g),ref:h?null:this.segHarnessRefs.createRef(bI(g)),style:{visibility:x?"":"hidden",marginTop:y?"":m.marginTop,top:y?m.absoluteTop:"",left:b,right:S}},gI(g)?F(yI,Object.assign({seg:g,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:f},aa(g,n))):F(vI,Object.assign({seg:g,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:f},aa(g,n)))))}return p}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=n?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push(F("div",{key:DR(o.eventRange),className:"fc-daygrid-bg-harness",style:l},r==="bg-event"?F(JR,Object.assign({seg:o},aa(o,i))):eI(r)))}return F(at,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:i}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let l=r.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,d=new sl(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new sl(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,i)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}wI.addStateEquality({segHeights:Sn});function Kve(t,e){if(!t.length)return[];let r=Qve(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function Qve(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class Xve extends Hn{constructor(){super(...arguments),this.splitBusinessHourSegs=be(xf),this.splitBgEventSegs=be(Zve),this.splitFgEventSegs=be(xf),this.splitDateSelectionSegs=be(xf),this.splitEventDrag=be(EN),this.splitEventResize=be(EN),this.rowRefs=new ri}render(){let{props:e,context:r}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return F(Ol,{unit:"day"},(f,h)=>F(at,null,e.cells.map((p,m)=>F(wI,{ref:this.rowRefs.createRef(m),key:p.length?p[0].date.toISOString():m,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:i[m],eventSelection:e.eventSelection,bgEventSegs:a[m],fgEventSegs:s[m],dateSelectionSegs:o[m],eventDrag:l[m],eventResize:u[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new sl(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new sl(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:i}=this,a=n.leftToIndex(e),s=i.topToIndex(r);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:n.lefts[a],right:n.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,i=sr(n,1);return{start:n,end:i}}}function Zve(t,e){return xf(t.filter(Jve),e)}function Jve(t){return t.eventRange.def.allDay}class eye extends Hn{constructor(){super(...arguments),this.elRef=dr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:i}=e,a=n===!0||r===!0;a&&!i&&(a=!1,r=null,n=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return F("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,F("tbody",{role:"presentation"},F(Xve,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=tye(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),i=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function tye(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${Lhe(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${tS(e.currentDate)}"]`)),r}class rye extends qR{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class SI extends Hn{constructor(){super(...arguments),this.slicer=new rye,this.tableRef=dr()}render(){let{props:e,context:r}=this;return F(eye,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class nye extends $ve{constructor(){super(...arguments),this.buildDayTableModel=be(iye),this.headerRef=dr(),this.tableRef=dr()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,r),a=e.dayHeaders&&F(WR,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>F(SI,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function iye(t,e){let r=new VR(t.renderRange,e);return new GR(r,/year|month|week/.test(t.currentRangeUnit))}class aye extends yR{buildRenderRange(e,r,n){let i=super.buildRenderRange(e,r,n),{props:a}=this;return sye({currentRange:i,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function sye(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:i}=r,a;if(t.snapToWeek&&(n=e.startOfWeek(n),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=JT(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(sr(r.end,-1))),o=Math.ceil(The(s,i));i=JT(i,6-o)}return{start:n,end:i}}var oye=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Kw(oye);var lye=_i({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:nye,dateProfileGeneratorClass:aye},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class cye extends wme{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Xpe(e)?["timed","allDay"]:["allDay"]:["timed"]}}const uye=gt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function _I(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return F(Si.Consumer,null,r=>{if(!t.isLabeled)return F("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:i,viewApi:a}=r,s=i.slotLabelFormat==null?uye:Array.isArray(i.slotLabelFormat)?gt(i.slotLabelFormat[0]):gt(i.slotLabelFormat),o={level:0,time:t.time,date:n.toDate(t.date),view:a,text:n.format(t.date,s)};return F(Fr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:dye,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>F("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},F(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function dye(t){return t.text}class fye extends We{render(){return this.props.slatMetas.map(e=>F("tr",{key:e.key},F(_I,Object.assign({},e))))}}const hye=gt({week:"short"}),pye=5;class mye extends Hn{constructor(){super(...arguments),this.allDaySplitter=new cye,this.headerElRef=dr(),this.rootElRef=dr(),this.scrollerElRef=dr(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,a=i.renderRange,o=Os(a.start,a.end)===1?gp(this.context,a.start,"week"):{};return n.weekNumbers&&e==="day"?F(tI,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:hye},l=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},F(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):F("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},F("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,i={text:r.allDayText,view:n};return F(Fr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:gye,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},a=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},F(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:i,props:a}=this,s=[],o=vp(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(s.push({type:"body",key:"all-day",chunk:{content:r}}),s.push({type:"body",key:"all-day-divider",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),F(fp,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},F(bS,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,r,n,i,a,s,o){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&vp(u.options),h=!d.forPrint&&ZR(u.options),p=[];e&&p.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>F("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>F("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:r}]}),p.push({key:"all-day-divider",type:"body",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let m=u.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>F("div",{className:"fc-timegrid-axis-chunk"},F("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,F("tbody",null,F(fye,{slatMetas:s}))),F("div",{className:"fc-timegrid-now-indicator-container"},F(Ol,{unit:m?"minute":"day"},v=>{let x=m&&o&&o.safeComputeTop(v);return typeof x=="number"?F(_S,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Tx},{key:"cols",content:Tx}]}),F(fp,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},F(l,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=pye),{dayMaxEvents:e,dayMaxEventRows:r}}}function gye(t){return t.text}class vye{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(oi(r.currentRange,e)){let n=st(e),i=e.valueOf()-n.valueOf();if(i>=gn(r.slotMinTime)&&i<gn(r.slotMaxTime))return this.computeTimeTop(Ie(i))}return null}computeDateTop(e,r){return r||(r=st(e)),this.computeTimeTop(Ie(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,i=r.els.length,a=(e.milliseconds-gn(n.slotMinTime))/gn(this.slotDuration),s,o;return a=Math.max(0,a),a=Math.min(i,a),s=Math.floor(a),s=Math.min(s,i-1),o=a-s,r.tops[s]+r.getHeight(s)*o}}class yye extends We{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:i}=e;return F("tbody",null,e.slatMetas.map((a,s)=>{let o={time:a.time,date:r.dateEnv.toDate(a.date),view:r.viewApi};return F("tr",{key:a.key,ref:i.createRef(a.key)},e.axis&&F(_I,Object.assign({},a)),F(Fr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class xye extends We{constructor(){super(...arguments),this.rootElRef=dr(),this.slatElRefs=new ri}render(){let{props:e,context:r}=this;return F("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},F("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,F(yye,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new vye(new sl(this.rootElRef.current,bye(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function bye(t,e){return e.map(r=>t[r.key])}function nc(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function jN(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}class wye extends We{render(){let{props:e}=this;return F(rI,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>jI(e.hiddenSegs,e),defaultGenerator:Sye,forceTimed:!0},r=>F(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Sye(t){return t.shortText}function _ye(t,e,r){let n=new UR;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let i=n.addSegs(t),a=Mme(i),s=Eye(n);return s=Nye(s,1),{segRects:Cye(s),hiddenGroups:a}}function Eye(t){const{entriesByLevel:e}=t,r=TS((n,i)=>n+":"+i,(n,i)=>{let a=Tye(t,n,i),s=AN(a,r),o=e[n][i];return[Object.assign(Object.assign({},o),{nextLevelNodes:s[0]}),o.thickness+s[1]]});return AN(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function AN(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:i}=t,a=n,s=[];for(;a<i;)s.push(e(r,a)),a+=1;return s.sort(jye),[s.map(Aye),s[0][1]]}function jye(t,e){return e[1]-t[1]}function Aye(t){return t[0]}function Tye(t,e,r){let{levelCoords:n,entriesByLevel:i}=t,a=i[e][r],s=n[e]+a.thickness,o=n.length,l=e;for(;l<o&&n[l]<s;l+=1);for(;l<o;l+=1){let u=i[l],d,f=Ax(u,a.span.start,jx),h=f[0]+f[1],p=h;for(;(d=u[p])&&d.span.start<a.span.end;)p+=1;if(h<p)return{level:l,lateralStart:h,lateralEnd:p}}return null}function Nye(t,e){const r=TS((n,i,a)=>ns(n),(n,i,a)=>{let{nextLevelNodes:s,thickness:o}=n,l=o+a,u=o/l,d,f=[];if(!s.length)d=e;else for(let p of s)if(d===void 0){let m=r(p,i,l);d=m[0],f.push(m[1])}else{let m=r(p,d,0);f.push(m[1])}let h=(d-i)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return t.map(n=>r(n,0,0)[1])}function Cye(t){let e=[];const r=TS((i,a,s)=>ns(i),(i,a,s)=>{let o=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:s,stackForward:0});return e.push(o),o.stackForward=n(i.nextLevelNodes,a+i.thickness,s+1)+1});function n(i,a,s){let o=0;for(let l of i)o=Math.max(r(l,a,s),o);return o}return n(t,0,0),e}function TS(t,e){const r={};return(...n)=>{let i=t(...n);return i in r?r[i]:r[i]=e(...n)}}function TN(t,e,r=null,n=0){let i=[];if(r)for(let a=0;a<t.length;a+=1){let s=t[a],o=r.computeDateTop(s.start,e),l=Math.max(o+(n||0),r.computeDateTop(s.end,e));i.push({start:Math.round(o),end:Math.round(l)})}return i}function kye(t,e,r,n){let i=[],a=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?i.push({index:u,thickness:1,span:d}):a.push(t[u])}let{segRects:s,hiddenGroups:o}=_ye(i,r,n),l=[];for(let u of s)l.push({seg:t[u.index],rect:u});for(let u of a)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:o}}const Oye=gt({hour:"numeric",minute:"2-digit",meridiem:!1});class EI extends We{render(){return F(SS,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Oye}))}}class Dye extends We{constructor(){super(...arguments),this.sortEventSegs=be(kR)}render(){let{props:e,context:r}=this,{options:n}=r,i=n.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return F(ES,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),F("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),jS(n)&&F(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,i,a,s){let{props:o}=this;return o.forPrint?jI(e,o):this.renderPositionedFgSegs(e,r,n,i,a,s)}renderPositionedFgSegs(e,r,n,i,a,s){let{eventMaxStack:o,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:p,todayRange:m,nowDate:g}=this.props,v=n||i||a,x=TN(e,f,h,d),{segPlacements:y,hiddenGroups:b}=kye(e,x,u,o);return F(at,null,this.renderHiddenGroups(b,e),y.map(S=>{let{seg:w,rect:_}=S,j=w.eventRange.instance.instanceId,E=v||!!(!r[j]&&_),A=_v(_&&_.span),k=!v&&_?this.computeSegHStyle(_):{left:0,right:0},D=!!_&&_.stackForward>0,P=!!_&&_.span.end-_.span.start<l;return F("div",{className:"fc-timegrid-event-harness"+(D?" fc-timegrid-event-harness-inset":""),key:s||j,style:Object.assign(Object.assign({visibility:E?"":"hidden"},A),k)},F(EI,Object.assign({seg:w,isDragging:n,isResizing:i,isDateSelecting:a,isSelected:j===p,isShort:P},aa(w,m,g))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u}=this.props;return F(at,null,e.map(d=>{let f=_v(d.span),h=Pye(d.entries,r);return F(wye,{key:cR(nI(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u})}))}renderFillSegs(e,r){let{props:n,context:i}=this,s=TN(e,n.date,n.slatCoords,i.options.eventMinHeight).map((o,l)=>{let u=e[l];return F("div",{key:DR(u.eventRange),className:"fc-timegrid-bg-harness",style:_v(o)},r==="bg-event"?F(JR,Object.assign({seg:u},aa(u,n.todayRange,n.nowDate))):eI(r))});return F(at,null,s)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((i,a)=>F(_S,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(i.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,i=n.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness,o,l;i&&(s=Math.min(1,a+(s-a)*2)),r?(o=1-s,l=a):(o=a,l=1-s);let u={zIndex:e.stackDepth+1,left:o*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function jI(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:i,eventResize:a}){let s=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return F(at,null,t.map(o=>{let l=o.eventRange.instance.instanceId;return F("div",{key:l,style:{visibility:s[l]?"hidden":""}},F(EI,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},aa(o,e,r))))}))}function _v(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Pye(t,e){return t.map(r=>e[r.index])}class Mye extends We{constructor(){super(...arguments),this.splitFgEventSegs=be(nc),this.splitBgEventSegs=be(nc),this.splitBusinessHourSegs=be(nc),this.splitNowIndicatorSegs=be(nc),this.splitDateSelectionSegs=be(nc),this.splitEventDrag=be(jN),this.splitEventResize=be(jN),this.rootElRef=dr(),this.cellElRefs=new ri}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return F("div",{className:"fc-timegrid-cols",ref:this.rootElRef},F("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,F("tbody",{role:"presentation"},F("tr",{role:"row"},e.axis&&F("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&F(_S,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,p)=>F(Dye,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:a[p],bgEventSegs:s[p],businessHourSegs:o[p],nowIndicatorSegs:l[p],dateSelectionSegs:u[p],eventDrag:d[p],eventResize:f[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new sl(this.rootElRef.current,Rye(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Rye(t,e){return e.map(r=>t[r.key])}class Iye extends Hn{constructor(){super(...arguments),this.processSlotOptions=be($ye),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let i=n.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),r(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return F("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F(xye,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),F(Mye,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:i}=this.context,{colCoords:a}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),d=a.leftToIndex(e),f=o.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],p=o.positions.tops[f],m=o.positions.getHeight(f),g=(r-p)/m,v=Math.floor(g*u),x=f*u+v,y=this.props.cells[d].date,b=xx(s.slotMinTime,_he(l,x)),S=n.add(y,b),w=n.add(S,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:S,end:w},allDay:!1},h.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:p,bottom:p+m},layer:0}}return null}}function $ye(t,e){let r=e||t,n=eS(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}class Lye extends qR{sliceRange(e,r){let n=[];for(let i=0;i<r.length;i+=1){let a=vs(e,r[i]);a&&n.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:i})}return n}}class Fye extends Hn{constructor(){super(...arguments),this.buildDayRanges=be(Bye),this.slicer=new Lye,this.timeColsRef=dr()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:a,nextDayThreshold:s}=r.options,o=this.buildDayRanges(i,n,r.dateEnv);return F(Ol,{unit:a?"minute":"day"},(l,u)=>F(Iye,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&this.slicer.sliceNowDate(l,n,s,r,o),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Bye(t,e,r){let n=[];for(let i of t.headerDates)n.push({start:r.add(i,e.slotMinTime),end:r.add(i,e.slotMaxTime)});return n}const NN=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Uye(t,e,r,n,i){let a=new Date(0),s=t,o=Ie(0),l=r||Hye(n),u=[];for(;gn(s)<gn(e);){let d=i.add(a,s),f=eS(o,l)!==null;u.push({date:d,time:s,key:d.toISOString(),isoTimeStr:Fhe(d),isLabeled:f}),s=xx(s,n),o=xx(o,n)}return u}function Hye(t){let e,r,n;for(e=NN.length-1;e>=0;e-=1)if(r=Ie(NN[e]),n=eS(r,t),n!==null&&n>1)return r;return t}class zye extends mye{constructor(){super(...arguments),this.buildTimeColsModel=be(Wye),this.buildSlatMetas=be(Uye)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:i}=this,{dateProfile:a}=i,s=this.buildTimeColsModel(a,n),o=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&F(WR,{dates:s.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(g=>F(SI,Object.assign({},o.allDay,{dateProfile:a,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),m=g=>F(Fye,Object.assign({},o.timed,{dayTableModel:s,dateProfile:a,axis:d,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,p,m,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,p,m)}}function Wye(t,e){let r=new VR(t.renderRange,e);return new GR(r,!1)}var Vye='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Kw(Vye);const Gye={allDaySlot:Boolean};var qye=_i({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Gye,views:{timeGrid:{component:zye,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});xS.touchMouseIgnoreWait=500;let Cx=0,yp=0,kx=!1;class AI{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&Yye(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let i=r.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,Kye()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:n-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Hm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Qye()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Xye()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||ar(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){kx=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ar(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Cx||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(kx=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,i=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}createEventFromTouch(e,r){let n=e.touches,i,a,s=0,o=0;return n&&n.length?(i=n[0].pageX,a=n[0].pageY):(i=e.pageX,a=e.pageY),r?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function Yye(t){return t.button===0&&!t.ctrlKey}function Kye(){Cx+=1,setTimeout(()=>{Cx-=1},xS.touchMouseIgnoreWait)}function Qye(){yp+=1,yp===1&&window.addEventListener("touchmove",TI,{passive:!1})}function Xye(){yp-=1,yp||window.removeEventListener("touchmove",TI,{passive:!1})}function TI(t){kx&&t.preventDefault()}class Zye{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",Pc(n,{left:i.left,top:i.top}),lhe(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(Xw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Pc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),Pc(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class NI extends vS{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class CI extends NI{constructor(e,r){super(new Dme(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return kme(this.scrollController.el)}}class Jye extends NI{constructor(e){super(new Pme,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const CN=typeof performance=="function"?performance.now:Date.now;class e0e{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=CN();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,i=r-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(CN()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*r,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,d=r-o.top,f=o.bottom-r;l>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:s,name:"bottom",distance:f}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new Jye(!1):new CI(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class rd extends Ime{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,che(document.body),dhe(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,uhe(document.body),fhe(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new AI(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new Zye,this.autoScroller=new e0e}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class t0e{constructor(e){this.el=e,this.origRect=gS(e),this.scrollCaches=BR(e).map(r=>new CI(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let i of this.scrollCaches)if(!r0e(i.getEventTarget())&&!vme(n,i.clientRect))return!1;return!0}}function r0e(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class zm{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Hm}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,i=e.subjectEl,a;i instanceof HTMLElement&&(a=gS(i),n=yme(n,a));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&a){let o=$R(a,s.rect);o&&(n=xme(o))}this.coordAdjust=bme(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!Wm(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=gi(this.droppableStore,e=>(e.component.prepareHits(),new t0e(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:i}=this,a=null;for(let s in n){let o=n[s].component,l=i[s];if(l&&l.isWithinClipping(e,r)){let u=l.computeLeft(),d=l.computeTop(),f=e-u,h=r-d,{origRect:p}=l,m=p.right-p.left,g=p.bottom-p.top;if(f>=0&&f<m&&h>=0&&h<g){let v=o.queryHit(f,h,m,g);v&&Bm(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=d,v.rect.bottom+=d,a=v)}}}return a}}function Wm(t,e){return!t&&!e?!0:!!t!=!!e?!1:sme(t.dateSpan,e.dateSpan)}function kI(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,n0e(t,e.dateEnv)),r}function n0e(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class i0e extends kl{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:i}=this,a=n.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&Wm(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},kI(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new rd(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new zm(this.dragging,pS(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class a0e extends kl{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,d=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!d),l.delay=s.isTouch?s0e(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=o0e(f,s,l.pluginHooks.dateSelectionTransformers)),(!u||!Hme(u,s.dateProfile,l))&&(d=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),d?Zw():Jw(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(TR(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,i=this.dragging=new rd(e.el);i.touchScrollAllowed=!1,i.minDistance=n.selectMinDistance||0,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new zm(this.dragging,pS(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function s0e(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function o0e(t,e,r){let n=t.dateSpan,i=e.dateSpan,a=[n.range.start,n.range.end,i.range.start,i.range.end];a.sort(vhe);let s={};for(let o of r){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=n.allDay,s}class nd extends kl{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:d}=u,{options:f}=l.context,h=l.context;this.subjectEl=s.subjectEl;let p=this.subjectSeg=al(s.subjectEl),g=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=uS(h.getCurrentData().eventStore,g),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&g!==l.props.eventSelection?c0e(l):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=ar(o,".fc"),d.revertDuration=f.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!ar(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new pt(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,p=null,m=!1,g={affectedEvents:l,mutatedEvents:Rr(),isEvent:!0};if(s){f=s.context;let v=f.options;d===f||v.editable&&v.droppable?(h=l0e(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=hS(l,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=p,YR(g,s.dateProfile,f)||(m=!0,h=null,p=null,g.mutatedEvents=Rr()))):f=null}this.displayDrag(f,g),m?Zw():Jw(),o||(d===f&&Wm(u,s)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new pt(o,f,h),m=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:s.origEvent,view:l}),d){if(u===o){let x=new pt(o,g.defs[f.defId],h?g.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:g});let y={oldEvent:p,event:x,relatedEvents:rs(g,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}},b={};for(let S of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,S(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),b),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let x={event:p,relatedEvents:rs(m,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:m}),o.emitter.trigger("eventRemove",x);let y=g.defs[f.defId],b=g.instances[h.instanceId],S=new pt(u,y,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let w={event:S,relatedEvents:rs(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",w),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},kI(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},w),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,i=this.dragging=new rd(e.el);i.pointer.selector=nd.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new zm(this.dragging,Ex);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Rr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}nd.SELECTOR=".fc-event-draggable, .fc-event-resizable";function l0e(t,e,r,n){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=st(r):s=r);let u=so(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let d={datesDelta:u,standardProps:l};for(let f of n)f(d,t,e);return d}function c0e(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class u0e extends kl{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=al(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=uS(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=al(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new pt(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,m=!1,g={affectedEvents:u,mutatedEvents:Rr(),isEvent:!0};a&&(a.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,a)||(h=d0e(d,a,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=hS(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=p,YR(g,a.dateProfile,l)||(m=!0,h=null,p=null,g.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),m?Zw():Jw(),s||(h&&Wm(d,a)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new pt(s,o,l),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let h=new pt(s,f.defs[o.defId],l?f.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:u,event:h,relatedEvents:rs(f,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Ie(0),endDelta:this.validMutation.endDelta||Ie(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",p)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new rd(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let i=this.hitDragging=new zm(this.dragging,pS(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ar(e.subjectEl,".fc-event")}}function d0e(t,e,r,n){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=so(a,s,i,t.largeUnit);if(r){if(i.add(n.start,o)<n.end)return{startDelta:o}}else if(i.add(n.end,o)>n.start)return{endDelta:o};return null}class f0e{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let i=this.context.options.unselectCancel,a=iR(n.origEvent);this.matchesCancel=!!ar(a,i),this.matchesEvent=!!ar(a,nd.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new AI(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const h0e={fixedMirrorParent:Q},p0e={dateClick:Q,eventDragStart:Q,eventDragStop:Q,eventDrop:Q,eventResizeStart:Q,eventResizeStop:Q,eventResize:Q,drop:Q,eventReceive:Q,eventLeave:Q};xS.dataAttrPrefix="";var m0e=_i({name:"@fullcalendar/interaction",componentInteractions:[i0e,a0e,nd,u0e],calendarInteractions:[f0e],elementDraggingImpl:rd,optionRefiners:h0e,listenerRefiners:p0e});const g0e=()=>{const{venuesData:t,workers:e,currentSheet:r,salesData:n,setCurrentSheet:i,addCalendarEvent:a,updateCalendarEvent:s,deleteCalendarEvent:o,loadCalendarEvents:l,supabaseAPI:u}=Ct(),[d,f]=C.useState("dayGridMonth"),[h,p]=C.useState([]),[m,g]=C.useState(!1),[v,x]=C.useState(!1),[y,b]=C.useState(new Date().toISOString().split("T")[0]),[S,w]=C.useState(new Date),[_,j]=C.useState({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0}),[E,A]=C.useState(null),[k,D]=C.useState({show:!1,x:0,y:0,date:null,venue:null,sales:[]}),P=C.useRef(null),O=C.useRef(null),z=async()=>{try{const T="trailer_history",N=await u.readTable(T);if(N.success){const R=N.data.map(ee=>fc(ee,r)),L=r==="TRAILER_HISTORY"?"Trailer":"Camper";return R.filter(ee=>ee.store===L)}return[]}catch{return[]}},W=()=>{const T=r==="TRAILER_HISTORY"?"Trailer":"Camper";return n.filter(N=>N.store===T)};C.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const G=T=>{if(!T)return[];const N=t.find(ue=>ue.id===T);if(!N)return[];const R=W(),L=new Date().toISOString().split("T")[0],Y=R.filter(ue=>{const me=ir(ue.date),Ae=ue.venue?ue.venue.trim().toLowerCase():null,K=N.promo?N.promo.trim().toLowerCase():null;return Ae&&K&&Ae===K&&me&&me.toISOString().split("T")[0]<L}).sort((ue,me)=>{const Ae=ir(ue.date);return ir(me.date)-Ae}),ee={};return Y.forEach(ue=>{const me=ir(ue.date);if(me){const Ae=me.toISOString().split("T")[0];ee[Ae]||(ee[Ae]={date:Ae,totalGross:0,totalNet:0,visitCount:0}),ee[Ae].totalGross+=parseFloat(ue.grossSales)||0,ee[Ae].totalNet+=parseFloat(ue.netSales)||0,ee[Ae].visitCount+=1}}),Object.values(ee).sort((ue,me)=>new Date(me.date)-new Date(ue.date)).slice(0,5)},M=T=>{const{date:N,jsEvent:R}=T,L=N.toISOString().split("T")[0];P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{const ee=h.filter(Ee=>Ee.date===L).map(Ee=>Ee.extendedProps.venue).filter(Ee=>Ee).filter((Ee,Ue,Qe)=>Qe.findIndex(Xt=>Xt.id===Ee.id)===Ue),ae=W(),ue=ae.filter(Ee=>{const Ue=ir(Ee.date);return Ue&&Ue.toISOString().split("T")[0]===L}),me=ue.map(Ee=>{const Ue=Ee.venue?Ee.venue.trim().toLowerCase():null;return Ue?t.find(Qe=>(Qe.promo?Qe.promo.trim().toLowerCase():null)===Ue):null}).filter(Ee=>Ee).filter((Ee,Ue,Qe)=>Qe.findIndex(Xt=>Xt.id===Ee.id)===Ue),Ae=ae.map(Ee=>{const Ue=Ee.venue?Ee.venue.trim().toLowerCase():null;return Ue?t.find(Qe=>(Qe.promo?Qe.promo.trim().toLowerCase():null)===Ue):null}).filter(Ee=>Ee).filter((Ee,Ue,Qe)=>Qe.findIndex(Xt=>Xt.id===Ee.id)===Ue),ce=[...ee,...me,...Ae].filter((Ee,Ue,Qe)=>Qe.findIndex(Xt=>Xt.id===Ee.id)===Ue);let he=ce.length>0?ce[0]:null;if(!he&&ue.length>0){const Ee=ue.map(Ue=>{const Qe=Ue.venue?Ue.venue.trim().toLowerCase():null;return Qe?t.find(Ei=>(Ei.promo?Ei.promo.trim().toLowerCase():null)===Qe):null}).filter(Ue=>Ue).filter((Ue,Qe,Xt)=>Xt.findIndex(Ei=>Ei.id===Ue.id)===Qe);Ee.length>0&&(he=Ee[0])}he||(he={id:"no-data",promo:"No Sales Data for This Date",addressCity:"Unknown"}),he||(he={id:"default",promo:"No Venue Data",addressCity:"Unknown"});let we=[];he.id!=="default"&&he.id!=="no-data"&&(we=G(he.id),n.filter(Ee=>{const Ue=Ee.venue?Ee.venue.trim().toLowerCase():null,Qe=he.promo?he.promo.trim().toLowerCase():null;return Ue&&Ue===Qe}),[...new Set(n.map(Ee=>Ee.venue).filter(Boolean))]),we.length===0&&(he.id==="no-data"?we=[{date:"No previous visits",totalGross:0,totalNet:0,visitCount:0}]:he.id!=="default"&&(we=[{date:"2025-07-15",totalGross:1250,totalNet:1100,visitCount:2},{date:"2025-07-12",totalGross:800,totalNet:720,visitCount:1},{date:"2025-07-08",totalGross:2100,totalNet:1890,visitCount:3}]));const ye=320,ke=Math.min(Math.max(we.length*40+80,120),280),Ye=window.innerWidth,zt=window.innerHeight,Ke=10;let jt=R.clientX+Ke,Be=R.clientY+Ke;if(jt+ye>Ye-Ke&&(jt=R.clientX-ye-Ke),Be+ke>zt-Ke&&(Be=R.clientY-ke-Ke),Be<Ke&&(Be=Ke),jt<Ke&&(jt=Ke),jt+ye>Ye-Ke&&(jt=Ye-ye-Ke),jt=Math.max(Ke,Math.min(jt,Ye-ye-Ke)),Be=Math.max(Ke,Math.min(Be,zt-ke-Ke)),he&&he.promo&&he.promo.toLowerCase().includes("test event")){D(Ee=>({...Ee,show:!1}));return}D({show:!0,x:jt,y:Be,date:L,venue:he,sales:we})},100)},$=()=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{D(T=>({...T,show:!1}))},300)};C.useEffect(()=>{if(O.current&&y){const T=O.current.getApi();try{T.gotoDate(y)}catch(N){console.error("Error navigating to date:",N)}}},[y]);const B=T=>{if(f(T),O.current){const N=O.current.getApi();try{N.changeView(T)}catch(R){console.error("Error changing view:",R)}}};C.useEffect(()=>{(async()=>{try{const N=await l(),R=N.success?N.data:[],L=[],Y=await z();if(Y.length>0){const ae=Y.filter(ue=>ue.venue!=="WORK DAY");if(ae.length>0){const ue={};ae.forEach((me,Ae)=>{const K=ir(me.date);if(K){const ce=K.toISOString().split("T")[0],he=me.venue||"Unknown Venue",we=`${ce}-${he}`;ue[we]||(ue[we]={date:ce,venue:he,sales:[],totalGross:0,totalNet:0,confirmedCount:0,unconfirmedCount:0}),ue[we].sales.push(me);const ye=parseFloat(me.grossSales)||0,ke=parseFloat(me.netSales)||0;ue[we].totalGross+=ye,ue[we].totalNet+=ke,ye<=0,(me.status||"").toLowerCase().replace(/\s+/g,"")==="confirmed"?ue[we].confirmedCount++:ue[we].unconfirmedCount++}}),Object.values(ue).forEach((me,Ae)=>{const K=[],ce=Math.min(3,Math.max(1,Math.ceil(me.sales.length/2)));for(let Ye=0;Ye<ce;Ye++){const zt=Ae%e.length,Ke=e[zt];Ke&&Ke.name&&!K.includes(Ke.name)&&K.push(Ke.name)}const he=me.unconfirmedCount===0?"Confirmed":"Unconfirmed",we=me.unconfirmedCount===0?"#22c55e":"#dcfce7",ye=me.unconfirmedCount===0?"#16a34a":"#22c55e";me.totalGross<=0;const ke={id:`sale-${me.date}-${me.venue}-${Ae}`,title:`Sale: ${me.venue}`,date:me.date,backgroundColor:we,borderColor:ye,extendedProps:{type:"sale",workers:K,worker:K.join(", "),hours:"8",venue:me.venue,address:me.venue,grossSales:me.totalGross,netSales:me.totalNet,entryCount:me.sales.length,confirmedCount:me.confirmedCount,unconfirmedCount:me.unconfirmedCount,status:he}};L.push(ke)})}}const ee=[...R,...L];p(ee)}catch(N){console.error("Error loading events:",N),p([])}})()},[t,e,r,l]);const U=T=>{b(T.startStr),j({title:"Work Day",date:T.startStr,workers:[],hours:"",venueId:"",isWorkDay:!0}),g(!0)},H=T=>{var R;const N=T.event;if(T.jsEvent.detail===2){const{extendedProps:L}=N;let Y=[];L.workers&&Array.isArray(L.workers)?Y=L.workers:L.worker&&(Y=L.worker.split(",").map(ee=>ee.trim()).filter(ee=>ee)),A(N),j({title:N.title||"",date:N.startStr||N.date||"",workers:Y,hours:L.hours||"",venueId:L.venueId||"",isWorkDay:L.type==="workday"||((R=N.title)==null?void 0:R.toLowerCase().includes("work day"))}),x(!0)}},V=async()=>{var T;if(E){if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const N={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((T=t.find(L=>L.id===_.venueId))==null?void 0:T.promo)||"",isWorkDay:_.isWorkDay},R=await s(E.id,N);if(R.success){const L=await l();L.success?p(Y=>{const ee=Y.filter(ae=>{var ue;return((ue=ae.extendedProps)==null?void 0:ue.type)==="sale"});return[...L.data,...ee]}):p(h.map(Y=>Y.id===E.id?R.data:Y)),x(!1),A(null),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error updating event: ${R.error}`)}catch(N){console.error("Error updating event:",N),alert("Error updating event. Please try again.")}}},q=T=>{T.event},re=async()=>{if(E&&window.confirm("Are you sure you want to delete this event?"))try{const T=await o(E.id);if(T.success){const N=await l();N.success?p(R=>{const L=R.filter(Y=>{var ee;return((ee=Y.extendedProps)==null?void 0:ee.type)==="sale"});return[...N.data,...L]}):p(h.filter(R=>R.id!==E.id)),x(!1),A(null),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error deleting event: ${T.error}`)}catch(T){console.error("Error deleting event:",T),alert("Error deleting event. Please try again.")}},se=async()=>{var T;if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const N={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((T=t.find(L=>L.id===_.venueId))==null?void 0:T.promo)||"",isWorkDay:_.isWorkDay},R=await a(N);if(R.success){const L=await l();L.success?p(Y=>{const ee=Y.filter(ae=>{var ue;return((ue=ae.extendedProps)==null?void 0:ue.type)==="sale"});return[...L.data,...ee]}):p([...h,R.data]),g(!1),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error adding event: ${R.error}`)}catch(N){console.error("Error adding event:",N),alert("Error adding event. Please try again.")}},fe=()=>{window.print()},_e=T=>{const{event:N}=T,{extendedProps:R}=N;let L="";return Array.isArray(R.workers)?L=R.workers.join(", "):R.worker&&(L=R.worker),c.jsxs("div",{className:"p-1 text-xs",children:[R.venue&&R.type==="sale"&&c.jsxs("div",{className:"flex items-center text-gray-700 font-medium mb-1",children:[c.jsx(wn,{className:"w-3 h-3 mr-1"}),R.venue]}),L&&L.trim()!==""&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(Mn,{className:"w-3 h-3 mr-1"}),L]}),R.hours&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(ya,{className:"w-3 h-3 mr-1"}),R.hours,"h"]}),R.grossSales!==void 0&&R.grossSales!==null&&c.jsxs("div",{className:`font-medium ${R.grossSales>0?"text-green-600":R.grossSales<0?"text-red-600":"text-gray-600"}`,children:["$",R.grossSales]}),R.status&&c.jsxs("div",{className:`text-xs font-medium ${R.status==="Confirmed"?"text-green-700":R.status==="Unconfirmed"?"text-yellow-700":"text-orange-700"}`,children:[R.status,R.confirmedCount>0&&R.unconfirmedCount>0&&c.jsxs("span",{className:"ml-1",children:["(",R.confirmedCount,"✓ ",R.unconfirmedCount,"?)"]})]})]})},pe=()=>{i(r==="TRAILER_HISTORY"?"CAMPER_HISTORY":"TRAILER_HISTORY")},X=()=>{const T=new Date(S);if(T.setMonth(T.getMonth()-1),w(T),O.current){const N=O.current.getApi();try{N.gotoDate(T),setTimeout(()=>{N.changeView(d,T)},50),setTimeout(()=>{N.gotoDate(T)},150)}catch(R){console.error("Error navigating calendar:",R)}}},oe=()=>{const T=new Date(S);if(T.setMonth(T.getMonth()+1),w(T),O.current){const N=O.current.getApi();try{N.gotoDate(T),setTimeout(()=>{N.changeView(d,T)},50),setTimeout(()=>{N.gotoDate(T)},150)}catch(R){console.error("Error navigating calendar:",R)}}},ne=T=>{const N=T.toLocaleDateString("en-US",{month:"long"}),R=T.getFullYear();return`${N} ${R} (${R})`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:pe,className:"flex items-center px-4 py-2 text-sm font-medium bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-md transition-colors duration-200 border border-primary-300",children:c.jsx("span",{children:r==="TRAILER_HISTORY"?"🚛 Trailer":"🏕️ Camper"})}),c.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>B("dayGridMonth"),className:ze("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="dayGridMonth"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Month"}),c.jsx("button",{onClick:()=>B("timeGridWeek"),className:ze("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="timeGridWeek"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Week"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:X,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("span",{className:"mr-1",children:"<"}),"Previous Month"]}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:ne(S)}),c.jsxs("button",{onClick:oe,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:["Next Month",c.jsx("span",{className:"ml-1",children:">"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>g(!0),className:"btn-primary",children:[c.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add Work Day"]}),c.jsxs("button",{onClick:fe,className:"btn-outline",children:[c.jsx(BB,{className:"w-4 h-4 mr-2"}),"Print"]})]})]}),c.jsx("div",{className:"card print-calendar-container",children:c.jsx("div",{className:"card-body p-0",children:c.jsx(hI,{plugins:[lye,qye,m0e],headerToolbar:!1,initialView:d,views:{dayGridMonth:{titleFormat:{year:"numeric",month:"long"}},timeGridWeek:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:h,select:U,eventClick:H,eventDrop:q,eventContent:_e,height:"auto",eventDisplay:"block",eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},datesSet:T=>{const N=new Date(S.getFullYear(),S.getMonth(),1),R=new Date(T.start.getFullYear(),T.start.getMonth(),1);N.getTime(),R.getTime()},viewDidMount:T=>{},eventDidMount:T=>{},dayCellDidMount:T=>{const N=T.el,R=T.date;N.addEventListener("mouseenter",L=>{M({date:R,jsEvent:L})}),N.addEventListener("mouseleave",()=>{$()})},slotLaneDidMount:T=>{if(d!=="timeGridWeek")return;const N=T.el,R=T.date;N.addEventListener("mouseenter",L=>{M({date:R,jsEvent:L})}),N.addEventListener("mouseleave",()=>{$()})},ref:O})})}),k.show&&c.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border border-secondary-200 p-3 transform transition-all duration-200 ease-out",style:{left:k.x,top:k.y,pointerEvents:"none",opacity:k.show?1:0,transform:`translate(${k.show?"0":"-10px"}, ${k.show?"0":"-10px"})`,maxWidth:"320px",minWidth:"280px"},children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-secondary-900 text-sm mb-0.5",children:k.venue?k.venue.promo:"Calendar Day"}),k.sales&&k.sales.length>0&&(()=>{const T=k.sales.map(L=>typeof L.totalGross=="number"?L.totalGross:parseFloat(L.totalGross)).filter(L=>L>0);if(T.length===0)return null;const N=T.reduce((L,Y)=>L+Y,0)/T.length,R=Math.round(N/100)*100;return c.jsxs("div",{className:"font-bold text-xs text-primary-700 mb-0.5",children:["Avg: $",R.toLocaleString()]})})(),c.jsxs("p",{className:"text-xs text-secondary-600",children:[nl(k.date)," - ",k.venue&&k.venue.id!=="default"?"Last 5 visits":"No Data Available"]})]}),k.sales&&k.sales.length>0?c.jsx("div",{className:"space-y-1",children:k.sales.map((T,N)=>{var R;return c.jsxs("div",{className:"border-l-2 border-primary-500 pl-2 py-1",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("span",{className:"text-xs font-medium text-secondary-900",children:nl(T.date)})}),c.jsx("div",{className:"flex justify-between items-center mt-0.5",children:c.jsxs("span",{className:"text-xs text-secondary-600",children:["Gross: $",((R=T.totalGross)==null?void 0:R.toLocaleString())||"0"]})})]},T.date||N)})}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-secondary-500 italic",children:k.venue&&k.venue.id==="default"?"No sales data available for this venue":"No visits recorded for this venue"}),c.jsxs("div",{className:"text-xs text-secondary-400",children:[c.jsx("p",{children:"• Hover over days with events to see visit data"}),c.jsx("p",{children:"• Add events to track work days and sales"})]})]})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Add Work Day"}),c.jsx("button",{onClick:()=>g(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:T=>j(N=>({...N,title:T.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:T=>j(N=>({...N,date:T.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:T=>j(N=>({...N,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:T=>j(N=>({...N,workers:Array.from(T.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:T=>j(N=>({...N,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>g(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:se,className:"btn-primary",children:"Add Event"})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Edit Event"}),c.jsx("button",{onClick:()=>x(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:T=>j(N=>({...N,title:T.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:T=>j(N=>({...N,date:T.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:T=>j(N=>({...N,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:T=>j(N=>({...N,workers:Array.from(T.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:T=>j(N=>({...N,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6",children:[c.jsx("button",{onClick:re,className:"btn-danger",children:"Delete Event"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>x(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:V,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},v0e=()=>{const{currentSheet:t,loading:e}=Ct();return e?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading calendar..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 print-calendar",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8 print-header",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Calendar"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Schedule and manage events, venues, and worker assignments for Trailer and Camper operations"})]}),c.jsx(g0e,{})]})})},y0e=({onAddSale:t,onEditSale:e,onDeleteSale:r})=>{const{rawSalesData:n,currentMonth:i,setCurrentMonth:a,venuesData:s}=Ct(),[o,l]=C.useState([]),[u,d]=C.useState(null),[f,h]=C.useState(!1);C.useEffect(()=>{const y=n.filter(b=>{const S=ir(b.date);return S?S.getMonth()===i.getMonth()&&S.getFullYear()===i.getFullYear():!1}).sort((b,S)=>{const w=ir(b.date);return ir(S.date)-w});l(y)},[n,i]);const p=y=>y.store||y.venueId||"N/A",m=()=>{a(xfe(i))},g=()=>{a(yfe(i))},v=async y=>{window.confirm("Are you sure you want to delete this sale entry?")&&await r(y)},x=y=>{d(y),h(!0)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:m,className:"btn-outline",children:[c.jsx(Rb,{className:"w-4 h-4 mr-1"}),"Previous Month"]}),c.jsxs("h2",{className:"text-xl font-semibold text-secondary-900",children:[jT(i)," (",i.getFullYear(),")"]}),c.jsxs("button",{onClick:g,className:"btn-outline",children:["Next Month",c.jsx(Ib,{className:"w-4 h-4 ml-1"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>a(new Date(2024,6,1)),className:"btn-outline text-sm",children:"Go to July 2024"}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add Sale"]})]})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:o.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",jT(i)]})}):o.map(y=>c.jsxs("tr",{className:"table-row",onDoubleClick:()=>e(y),style:{cursor:"pointer"},children:[c.jsx("td",{className:"table-cell font-medium",children:nl(y.date)}),c.jsx("td",{className:"table-cell",children:p(y)}),c.jsx("td",{className:"table-cell font-semibold",children:qr(y.grossSales)}),c.jsx("td",{className:"table-cell",children:qr(y.netSales)}),c.jsx("td",{className:"table-cell",children:qr(y.salesTax)}),c.jsx("td",{className:"table-cell",children:y.count||1}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>x(y),className:"text-secondary-600 hover:text-secondary-900 transition-colors",title:"View Details",children:c.jsx(RO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>e(y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(y.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ba,{className:"w-4 h-4"})})]})})]},y.id))})]})})})}),f&&u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Sale Details"}),c.jsx("button",{onClick:()=>h(!1),className:"text-secondary-400 hover:text-secondary-600",children:"×"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Date"}),c.jsx("p",{className:"text-secondary-900",children:nl(u.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Store"}),c.jsx("p",{className:"text-secondary-900",children:p(u)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Gross Sales (Total)"}),c.jsx("p",{className:"text-secondary-900 font-semibold",children:qr(u.grossSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Net Sales (Total)"}),c.jsx("p",{className:"text-secondary-900",children:qr(u.netSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Sales Tax (Total)"}),c.jsx("p",{className:"text-secondary-900",children:qr(u.salesTax)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Number of Entries"}),c.jsx("p",{className:"text-secondary-900",children:u.count||1})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{h(!1),e(u)},className:"btn-primary",children:"Edit"})]})]})})]})},Kd=t=>t.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0});function x0e(t){const e=new Date,r=e.getMonth(),n=e.getFullYear();console.log("SalesCharts: Processing rows:",(t==null?void 0:t.length)||0),console.log("SalesCharts: Current month/year:",r,n);const i=t.filter(a=>{if(!a.date)return console.log("SalesCharts: Skipping row without date:",a),!1;const s=new Date(a.date);if(isNaN(s.getTime()))return console.log("SalesCharts: Skipping row with invalid date:",a.date,a),!1;const o=s.getMonth()===r&&s.getFullYear()===n;return o&&console.log("SalesCharts: Including row:",a.date,a.store,a.grossSales),o});return console.log("SalesCharts: Filtered to current month:",i.length),i}function b0e(t){const e=new Map;for(const r of t)r.store&&r.grossSales>0&&e.set(r.store,(e.get(r.store)??0)+r.grossSales);return[...e.entries()].sort((r,n)=>n[1]-r[1]).map(([r,n])=>({store:r,total:n}))}function w0e(t){const e=new Map,r=new Set;for(const i of t){if(!i.store||!i.grossSales||i.grossSales<=0)continue;r.add(i.store);const a=e.get(i.date)??{date:i.date};a[i.store]=(a[i.store]??0)+i.grossSales,e.set(i.date,a)}return{data:[...e.values()].sort((i,a)=>i.date.localeCompare(a.date)),stores:[...r]}}function kN(t){try{const e=new Date(t);return isNaN(e.getTime())?(console.log("SalesCharts: Invalid date string:",t),t):e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(e){return console.error("SalesCharts: Error formatting date:",t,e),t}}const ON=["#4C6EF5","#12B886","#FA5252","#FAB005","#7950F2","#40C057","#228BE6","#E64980","#82C91E","#F76707"],DN=t=>ON[t%ON.length];function S0e({rows:t}){console.log("SalesCharts: Received rows:",(t==null?void 0:t.length)||0,"Sample:",t==null?void 0:t.slice(0,3));const e=C.useMemo(()=>x0e(t),[t]),r=C.useMemo(()=>b0e(e),[e]),{data:n,stores:i}=C.useMemo(()=>w0e(e),[e]);console.log("SalesCharts: Bar data:",r),console.log("SalesCharts: Stacked data:",(n==null?void 0:n.length)||0,"Stores:",i);const a=new Date,s=a.toLocaleDateString("en-US",{month:"long"}),o=a.getFullYear();return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"rounded-2xl border p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Monthly Gross by Store - ",s," ",o]}),r.length>0?c.jsx(d0,{width:"100%",height:320,children:c.jsxs(Tue,{data:r,margin:{left:8,right:8,bottom:20},children:[c.jsx(Gh,{strokeDasharray:"3 3"}),c.jsx(ca,{dataKey:"store",angle:-45,textAnchor:"end",height:60,interval:0}),c.jsx(ua,{tickFormatter:Kd}),c.jsx(Wr,{formatter:l=>Kd(l)}),c.jsx(mi,{dataKey:"total",name:"Gross Sales",fill:"#4C6EF5"})]})}):c.jsxs("div",{className:"h-80 flex items-center justify-center text-gray-500",children:["No sales data for ",s," ",o]})]}),c.jsxs("div",{className:"rounded-2xl border p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Daily Gross by Store - ",s," ",o]}),n.length>0?c.jsx(d0,{width:"100%",height:320,children:c.jsxs(Nue,{data:n,margin:{left:8,right:8,bottom:20},children:[c.jsx(Gh,{strokeDasharray:"3 3"}),c.jsx(ca,{dataKey:"date",angle:-45,textAnchor:"end",height:60,interval:0,tickFormatter:kN}),c.jsx(ua,{tickFormatter:Kd}),c.jsx(Wr,{formatter:l=>Kd(l),labelFormatter:l=>kN(l)}),c.jsx(na,{}),i.map((l,u)=>c.jsx(mi,{dataKey:l,stackId:"1",name:l,fill:DN(u),stroke:DN(u)},l))]})}):c.jsxs("div",{className:"h-80 flex items-center justify-center text-gray-500",children:["No sales data for ",s," ",o]})]})]})}const _0e=()=>{const{currentSheet:t,addSalesEntry:e,updateSalesEntry:r,deleteSalesEntry:n,venuesData:i,rawSalesData:a,loading:s,cleanupZeroSalesEntries:o}=Ct();console.log("DailySales component rendering with:",{currentSheet:t,venuesDataLength:i==null?void 0:i.length,rawSalesDataLength:a==null?void 0:a.length,loading:s,addSalesEntry:typeof e,updateSalesEntry:typeof r,deleteSalesEntry:typeof n});const[l,u]=C.useState(!1),[d,f]=C.useState(null),[h,p]=C.useState(jg(t)),[m,g]=C.useState({}),[v,x]=C.useState(!1),y=()=>{f(null),p(jg(t)),g({}),u(!0)},b=A=>{const k=A.venueId||A.venue_id||A.venue||"";f(A),p({date:bfe(A.date),status:A.status||"Confirmed",salesTax:A.salesTax!==void 0&&A.salesTax!==null?A.salesTax:0,netSales:A.netSales!==void 0&&A.netSales!==null?A.netSales:0,grossSales:A.grossSales!==void 0&&A.grossSales!==null?A.grossSales:0,venueId:k}),g({}),u(!0)},S=async A=>{const k=await n(A);k.success||alert(`Error deleting sale: ${k.error}`)},w=async()=>{x(!0);try{console.log("DailySales: Starting cleanup...");const A=await o();console.log("DailySales: Cleanup result:",A),A.success?alert(A.message):alert(`Error during cleanup: ${A.error}`)}catch(A){console.error("DailySales: Cleanup error:",A),alert(`Unexpected error during cleanup: ${A.message}`)}finally{x(!1)}},_=()=>{const A={};return h.date||(A.date="Date is required"),h.status||(A.status="Status is required"),h.grossSales<0&&(A.grossSales="Gross sales cannot be negative"),h.netSales<0&&(A.netSales="Net sales cannot be negative"),h.salesTax<0&&(A.salesTax="Sales tax cannot be negative"),g(A),Object.keys(A).length===0},j=async A=>{if(A.preventDefault(),!_())return;const k={date:h.date,status:h.status,sales_tax:h.salesTax,net_sales:h.netSales,gross_sales:h.grossSales,venue_id:h.venueId};let D;d?D=await r(d.id,k):D=await e(k),D.success?(u(!1),f(null),p(jg(t))):alert(`Error ${d?"updating":"adding"} sale: ${D.error}`)},E=(A,k)=>{p(D=>({...D,[A]:k})),m[A]&&g(D=>({...D,[A]:""}))};return s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales data..."})]})}):!i||!a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"Data Loading Issue"}),c.jsxs("p",{className:"text-secondary-600 mb-4",children:["Venues: ",i?"Loaded":"Missing"," | Sales: ",a?"Loaded":"Missing"]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Reload Page"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Daily Sales"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Manage sales entries for ",t==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsx("button",{onClick:w,disabled:v,className:"btn-outline bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:v?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600 mr-2"}),"Cleaning..."]}):"🧹 Clean $0 Entries"})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"Sales Analytics"}),(()=>{const A=a.filter(k=>k.date&&k.grossSales>0).map(k=>({date:k.date,store:k.store,grossSales:k.grossSales}));return console.log("DailySales: Raw sales data count:",(a==null?void 0:a.length)||0),console.log("DailySales: Filtered chart data count:",A.length),console.log("DailySales: Chart data sample:",A.slice(0,3)),c.jsx(S0e,{rows:A})})()]}),c.jsx(y0e,{onAddSale:y,onEditSale:b,onDeleteSale:S}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:d?"Edit Sale":"Add New Sale"}),c.jsx("button",{onClick:()=>u(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:h.date,onChange:A=>E("date",A.target.value),className:ze("input",m.date&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500")}),m.date&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.date})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status *"}),c.jsxs("select",{value:h.status,onChange:A=>E("status",A.target.value),className:ze("input",m.status&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),children:[c.jsx("option",{value:"",children:"Select Status"}),gB.map(A=>c.jsx("option",{value:A,children:A},A))]}),m.status&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.status})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:h.venueId,onChange:A=>E("venueId",A.target.value),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),i.map(A=>c.jsxs("option",{value:A.promo,children:[A.promo," - ",A.addressCity]},A.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Gross Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.grossSales,onChange:A=>E("grossSales",parseFloat(A.target.value)||0),className:ze("input",m.grossSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),m.grossSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.grossSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Net Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.netSales,onChange:A=>E("netSales",parseFloat(A.target.value)||0),className:ze("input",m.netSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),m.netSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.netSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Sales Tax"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.salesTax,onChange:A=>E("salesTax",parseFloat(A.target.value)||0),className:ze("input",m.salesTax&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),m.salesTax&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.salesTax})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:d?"Update Sale":"Add Sale"})]})]})]})})]})})},E0e=({message:t,currentUserId:e})=>{var a;const r=t.sender_id===e,n=((a=t.sender)==null?void 0:a.name)||"Unknown User",i=qw(new Date(t.created_at),{addSuffix:!0});return c.jsx("div",{className:ze("flex mb-4",r?"justify-end":"justify-start"),children:c.jsxs("div",{className:ze("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",r?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[c.jsxs("div",{className:ze("text-xs font-medium mb-1",r?"text-primary-200":"text-gray-600"),children:[n,r&&" (You)"]}),c.jsx("div",{className:"text-sm",children:t.message_text}),c.jsx("div",{className:ze("text-xs mt-1",r?"text-primary-200":"text-gray-500"),children:i})]})})},j0e=({onSendMessage:t,disabled:e=!1,disabledReason:r=""})=>{const[n,i]=C.useState(""),a=o=>{o.preventDefault(),n.trim()&&!e&&(t(n.trim()),i(""))},s=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),a(o))};return c.jsxs("form",{onSubmit:a,className:"border-t border-gray-200 p-4",children:[e&&r&&c.jsx("div",{className:"mb-2 text-sm text-red-600",children:r}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),onKeyPress:s,placeholder:e?"Select your name to send messages...":"Type your message...",disabled:e,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"}),c.jsx("button",{type:"submit",disabled:!n.trim()||e,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(HB,{className:"w-4 h-4"})})]})]})},A0e=()=>{var m;const{loading:t,messagesData:e,messageGroups:r,usersData:n,currentUser:i,loadMessages:a,sendMessage:s,setCurrentUser:o,setSelectedGroup:l}=Ct(),[u,d]=C.useState(null),f=C.useRef(null);C.useEffect(()=>{r.length>0&&!u&&(d(r[0].id),l(r[0]))},[r,u]),C.useEffect(()=>{u&&a(u)},[u]),C.useEffect(()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})},[e]);const h=async g=>{if(!i||!u)return;const v={sender_id:i.id,group_id:u,message_text:g,message_type:"text"};await s(v)},p=g=>{d(g);const v=r.find(x=>x.id===g);l(v)};return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading messages..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Staff Messages"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Communicate with your staff members and stay connected"})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Signed in as:"})," ",i.name]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 h-[600px]",children:[c.jsxs("div",{className:"lg:col-span-1 border-r border-gray-200 bg-gray-50",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Groups"})}),c.jsx("div",{className:"p-2",children:r.map(g=>c.jsxs("button",{onClick:()=>p(g.id),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${u===g.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100 text-gray-700"}`,children:[c.jsx("div",{className:"font-medium",children:g.group_name}),c.jsxs("div",{className:"text-sm text-gray-500",children:[g.member_count||0," members"]})]},g.id))})]}),c.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((m=r.find(g=>g.id===u))==null?void 0:m.group_name)||"Select a group"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," messages"]})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"You:"})," ",i.name]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i?e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):e.map(g=>c.jsx(E0e,{message:g,currentUserId:i==null?void 0:i.id},g.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("p",{className:"text-gray-500 mb-2",children:"Please select your name in the header to start messaging"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Use the user selector in the top navigation bar"})]}),c.jsx("div",{ref:f})]}),u&&i&&c.jsx(j0e,{onSendMessage:h,disabled:!1,disabledReason:""}),u&&!i&&c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsx("p",{className:"text-center text-gray-500 text-sm",children:"Please select your name in the header to send messages"})})]})]})})]})})},T0e=()=>{const{staffData:t}=Ct(),[e,r]=C.useState([]),[n,i]=C.useState(!0),[a,s]=C.useState(null);C.useState({});const[o,l]=C.useState({});C.useEffect(()=>{(async()=>{try{const h=await de.getStores();if(h.success){r(h.data);const p={};for(const m of h.data){const g=await de.getCommissionTiers(m.id);g.success&&(p[m.id]=g.data||[])}l(p)}}catch(h){console.error("Error fetching data:",h)}finally{i(!1)}})()},[]);const u=(f,h,p,m)=>{const g=t.find(w=>w.id===h),v=e.find(w=>w.id===f),x=o[f]||[];if(!g||!v)return{basePay:0,bonus:0,total:0};const b=p*15;let S=0;for(const w of x)if(m>=w.sales_target){S=w.bonus_amount;break}return{basePay:b,bonus:S,total:b+S,staffName:g.name,storeName:v.name}},d=async(f,h)=>{try{console.log("Saving payroll data for store:",f,h),alert("Payroll data saved successfully!")}catch(p){alert(`Error saving payroll: ${p.message}`)}};return n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and staff data..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(f=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},f))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mb,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Calculate payroll for all stores and staff members"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(f=>{const h=t.filter(p=>p.store_id===f.id);return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",f.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Mn,{className:"w-4 h-4 mr-1"}),h.length," staff"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Qn,{className:"w-5 h-5 mr-2 text-green-600"}),"Staff Payroll"]}),h.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:h.map(p=>{const m=u(f.id,p.id,40,5e4);return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:p.name}),c.jsx("p",{className:"text-sm text-gray-600",children:p.role||"Staff Member"})]}),c.jsx("button",{onClick:()=>s(f.id===a?null:f.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:a===f.id?"Hide Details":"Show Details"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",m.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",m.bonus.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total"}),c.jsxs("p",{className:"font-medium text-blue-600",children:["$",m.total.toFixed(2)]})]})]}),a===f.id&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hours Worked"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Amount"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50000",min:"0"})]})]}),c.jsx("button",{onClick:()=>d(f.id,{staffId:p.id,payroll:m}),className:"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save Payroll"})]})]},p.id)})})]})]},f.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gp,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Payroll Summary"}),c.jsx("p",{className:"text-green-700",children:"Calculate and manage payroll for all stores and staff members. Each store shows its assigned staff with individual pay calculations."})]})]})})]})};var OI={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(qt,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function d(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var k=w(A);k.chunkSize=parseInt(k.chunkSize),A.step||A.chunk||(k.chunkSize=null),this._handle=new g(k),(this._handle.streamer=this)._config=k}).call(this,E),this.parseChunk=function(A,k){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let O=this._config.newline;O||(P=this._config.quoteChar||'"',O=this._handle.guessLineEndings(A,P)),A=[...A.split(O).slice(D)].join(O)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(A))!==void 0&&(A=P),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+A,P=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=P.meta.cursor,D=(this._finished||(this._partialLine=D.substring(A-this._baseIndex),this._baseIndex=A),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:P,workerId:u.WORKER_ID,finished:D});else if(j(this._config.chunk)&&!k){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!D||!j(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(A){j(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:A,finished:!1})}}function f(E){var A;(E=E||{}).chunkSize||(E.chunkSize=u.RemoteChunkSize),d.call(this,E),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=_(this._chunkLoaded,this),A.onerror=_(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var k,D=this._config.downloadRequestHeaders;for(k in D)A.setRequestHeader(k,D[k])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+P));try{A.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(k){k=A.statusText||k,this._sendError(new Error(k))}}function h(E){(E=E||{}).chunkSize||(E.chunkSize=u.LocalChunkSize),d.call(this,E);var A,k,D=typeof FileReader<"u";this.stream=function(P){this._input=P,k=P.slice||P.webkitSlice||P.mozSlice,D?((A=new FileReader).onload=_(this._chunkLoaded,this),A.onerror=_(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),P=k.call(P,this._start,O)),A.readAsText(P,this._config.encoding));D||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(A.error)}}function p(E){var A;d.call(this,E=E||{}),this.stream=function(k){return A=k,this._nextChunk()},this._nextChunk=function(){var k,D;if(!this._finished)return k=this._config.chunkSize,A=k?(D=A.substring(0,k),A.substring(k)):(D=A,""),this._finished=!A,this.parseChunk(D)}}function m(E){d.call(this,E=E||{});var A=[],k=!0,D=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):k=!0},this._streamData=_(function(P){try{A.push(typeof P=="string"?P:P.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(O){this._streamError(O)}},this),this._streamError=_(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=_(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(E){var A,k,D,P,O=Math.pow(2,53),z=-O,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,$=0,B=0,U=!1,H=!1,V=[],q={data:[],errors:[],meta:{}};function re(pe){return E.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function se(){if(q&&D&&(_e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),D=!1),E.skipEmptyLines&&(q.data=q.data.filter(function(T){return!re(T)})),fe()){let T=function(N,R){j(E.transformHeader)&&(N=E.transformHeader(N,R)),V.push(N)};var ne=T;if(q)if(Array.isArray(q.data[0])){for(var pe=0;fe()&&pe<q.data.length;pe++)q.data[pe].forEach(T);q.data.splice(0,1)}else q.data.forEach(T)}function X(T,N){for(var R=E.header?{}:[],L=0;L<T.length;L++){var Y=L,ee=T[L],ee=((ae,ue)=>(me=>(E.dynamicTypingFunction&&E.dynamicTyping[me]===void 0&&(E.dynamicTyping[me]=E.dynamicTypingFunction(me)),(E.dynamicTyping[me]||E.dynamicTyping)===!0))(ae)?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&((me=>{if(W.test(me)&&(me=parseFloat(me),z<me&&me<O))return 1})(ue)?parseFloat(ue):G.test(ue)?new Date(ue):ue===""?null:ue):ue)(Y=E.header?L>=V.length?"__parsed_extra":V[L]:Y,ee=E.transform?E.transform(ee,Y):ee);Y==="__parsed_extra"?(R[Y]=R[Y]||[],R[Y].push(ee)):R[Y]=ee}return E.header&&(L>V.length?_e("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+L,B+N):L<V.length&&_e("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+L,B+N)),R}var oe;q&&(E.header||E.dynamicTyping||E.transform)&&(oe=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(X),oe=q.data.length):q.data=X(q.data,0),E.header&&q.meta&&(q.meta.fields=V),B+=oe)}function fe(){return E.header&&V.length===0}function _e(pe,X,oe,ne){pe={type:pe,code:X,message:oe},ne!==void 0&&(pe.row=ne),q.errors.push(pe)}j(E.step)&&(P=E.step,E.step=function(pe){q=pe,fe()?se():(se(),q.data.length!==0&&($+=pe.data.length,E.preview&&$>E.preview?k.abort():(q.data=q.data[0],P(q,M))))}),this.parse=function(pe,X,oe){var ne=E.quoteChar||'"',ne=(E.newline||(E.newline=this.guessLineEndings(pe,ne)),D=!1,E.delimiter?j(E.delimiter)&&(E.delimiter=E.delimiter(pe),q.meta.delimiter=E.delimiter):((ne=((T,N,R,L,Y)=>{var ee,ae,ue,me;Y=Y||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ae=0;Ae<Y.length;Ae++){for(var K,ce=Y[Ae],he=0,we=0,ye=0,ke=(ue=void 0,new x({comments:L,delimiter:ce,newline:N,preview:10}).parse(T)),Ye=0;Ye<ke.data.length;Ye++)R&&re(ke.data[Ye])?ye++:(K=ke.data[Ye].length,we+=K,ue===void 0?ue=K:0<K&&(he+=Math.abs(K-ue),ue=K));0<ke.data.length&&(we/=ke.data.length-ye),(ae===void 0||he<=ae)&&(me===void 0||me<we)&&1.99<we&&(ae=he,ee=ce,me=we)}return{successful:!!(E.delimiter=ee),bestDelimiter:ee}})(pe,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=ne.bestDelimiter:(D=!0,E.delimiter=u.DefaultDelimiter),q.meta.delimiter=E.delimiter),w(E));return E.preview&&E.header&&ne.preview++,A=pe,k=new x(ne),q=k.parse(A,X,oe),se(),U?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return U},this.pause=function(){U=!0,k.abort(),A=j(E.chunk)?"":A.substring(k.getCharIndex())},this.resume=function(){M.streamer._halted?(U=!1,M.streamer.parseChunk(A,!0)):setTimeout(M.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,k.abort(),q.meta.aborted=!0,j(E.complete)&&E.complete(q),A=""},this.guessLineEndings=function(T,ne){T=T.substring(0,1048576);var ne=new RegExp(v(ne)+"([^]*?)"+v(ne),"gm"),oe=(T=T.replace(ne,"")).split("\r"),ne=T.split(`
`),T=1<ne.length&&ne[0].length<oe[0].length;if(oe.length===1||T)return`
`;for(var N=0,R=0;R<oe.length;R++)oe[R][0]===`
`&&N++;return N>=oe.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(E){var A=(E=E||{}).delimiter,k=E.newline,D=E.comments,P=E.step,O=E.preview,z=E.fastMode,W=null,G=!1,M=E.quoteChar==null?'"':E.quoteChar,$=M;if(E.escapeChar!==void 0&&($=E.escapeChar),(typeof A!="string"||-1<u.BAD_DELIMITERS.indexOf(A))&&(A=","),D===A)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<u.BAD_DELIMITERS.indexOf(D))&&(D=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var B=0,U=!1;this.parse=function(H,V,q){if(typeof H!="string")throw new Error("Input must be a string");var re=H.length,se=A.length,fe=k.length,_e=D.length,pe=j(P),X=[],oe=[],ne=[],T=B=0;if(!H)return he();if(z||z!==!1&&H.indexOf(M)===-1){for(var N=H.split(k),R=0;R<N.length;R++){if(ne=N[R],B+=ne.length,R!==N.length-1)B+=k.length;else if(q)return he();if(!D||ne.substring(0,_e)!==D){if(pe){if(X=[],me(ne.split(A)),we(),U)return he()}else me(ne.split(A));if(O&&O<=R)return X=X.slice(0,O),he(!0)}}return he()}for(var L=H.indexOf(A,B),Y=H.indexOf(k,B),ee=new RegExp(v($)+v(M),"g"),ae=H.indexOf(M,B);;)if(H[B]===M)for(ae=B,B++;;){if((ae=H.indexOf(M,ae+1))===-1)return q||oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:X.length,index:B}),K();if(ae===re-1)return K(H.substring(B,ae).replace(ee,M));if(M===$&&H[ae+1]===$)ae++;else if(M===$||ae===0||H[ae-1]!==$){L!==-1&&L<ae+1&&(L=H.indexOf(A,ae+1));var ue=Ae((Y=Y!==-1&&Y<ae+1?H.indexOf(k,ae+1):Y)===-1?L:Math.min(L,Y));if(H.substr(ae+1+ue,se)===A){ne.push(H.substring(B,ae).replace(ee,M)),H[B=ae+1+ue+se]!==M&&(ae=H.indexOf(M,B)),L=H.indexOf(A,B),Y=H.indexOf(k,B);break}if(ue=Ae(Y),H.substring(ae+1+ue,ae+1+ue+fe)===k){if(ne.push(H.substring(B,ae).replace(ee,M)),ce(ae+1+ue+fe),L=H.indexOf(A,B),ae=H.indexOf(M,B),pe&&(we(),U))return he();if(O&&X.length>=O)return he(!0);break}oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:X.length,index:B}),ae++}}else if(D&&ne.length===0&&H.substring(B,B+_e)===D){if(Y===-1)return he();B=Y+fe,Y=H.indexOf(k,B),L=H.indexOf(A,B)}else if(L!==-1&&(L<Y||Y===-1))ne.push(H.substring(B,L)),B=L+se,L=H.indexOf(A,B);else{if(Y===-1)break;if(ne.push(H.substring(B,Y)),ce(Y+fe),pe&&(we(),U))return he();if(O&&X.length>=O)return he(!0)}return K();function me(ye){X.push(ye),T=B}function Ae(ye){var ke=0;return ke=ye!==-1&&(ye=H.substring(ae+1,ye))&&ye.trim()===""?ye.length:ke}function K(ye){return q||(ye===void 0&&(ye=H.substring(B)),ne.push(ye),B=re,me(ne),pe&&we()),he()}function ce(ye){B=ye,me(ne),ne=[],Y=H.indexOf(k,B)}function he(ye){if(E.header&&!V&&X.length&&!G){var ke=X[0],Ye=Object.create(null),zt=new Set(ke);let Ke=!1;for(let jt=0;jt<ke.length;jt++){let Be=ke[jt];if(Ye[Be=j(E.transformHeader)?E.transformHeader(Be,jt):Be]){let xt,Ee=Ye[Be];for(;xt=Be+"_"+Ee,Ee++,zt.has(xt););zt.add(xt),ke[jt]=xt,Ye[Be]++,Ke=!0,(W=W===null?{}:W)[xt]=Be}else Ye[Be]=1,ke[jt]=Be;zt.add(Be)}Ke&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:X,errors:oe,meta:{delimiter:A,linebreak:k,aborted:U,truncated:!!ye,cursor:T+(V||0),renamedHeaders:W}}}function we(){P(he()),X=[],oe=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return B}}function y(E){var A=E.data,k=o[A.workerId],D=!1;if(A.error)k.userError(A.error,A.file);else if(A.results&&A.results.data){var P={abort:function(){D=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(j(k.userStep)){for(var O=0;O<A.results.data.length&&(k.userStep({data:A.results.data[O],errors:A.results.errors,meta:A.results.meta},P),!D);O++);delete A.results}else j(k.userChunk)&&(k.userChunk(A.results,P,A.file),delete A.results)}A.finished&&!D&&b(A.workerId,A.results)}function b(E,A){var k=o[E];j(k.userComplete)&&k.userComplete(A),k.terminate(),delete o[E]}function S(){throw new Error("Not implemented.")}function w(E){if(typeof E!="object"||E===null)return E;var A,k=Array.isArray(E)?[]:{};for(A in E)k[A]=w(E[A]);return k}function _(E,A){return function(){E.apply(A,arguments)}}function j(E){return typeof E=="function"}return u.parse=function(E,A){var k=(A=A||{}).dynamicTyping||!1;if(j(k)&&(A.dynamicTypingFunction=k,k={}),A.dynamicTyping=k,A.transform=!!j(A.transform)&&A.transform,!A.worker||!u.WORKERS_SUPPORTED)return k=null,u.NODE_STREAM_INPUT,typeof E=="string"?(E=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(E),k=new(A.download?f:p)(A)):E.readable===!0&&j(E.read)&&j(E.on)?k=new m(A):(n.File&&E instanceof File||E instanceof Object)&&(k=new h(A)),k.stream(E);(k=(()=>{var D;return!!u.WORKERS_SUPPORTED&&(D=(()=>{var P=n.URL||n.webkitURL||null,O=r.toString();return u.BLOB_URL||(u.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(D=new n.Worker(D)).onmessage=y,D.id=l++,o[D.id]=D)})()).userStep=A.step,k.userChunk=A.chunk,k.userComplete=A.complete,k.userError=A.error,A.step=j(A.step),A.chunk=j(A.chunk),A.complete=j(A.complete),A.error=j(A.error),delete A.worker,k.postMessage({input:E,config:A,workerId:k.id})},u.unparse=function(E,A){var k=!1,D=!0,P=",",O=`\r
`,z='"',W=z+z,G=!1,M=null,$=!1,B=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||u.BAD_DELIMITERS.filter(function(V){return A.delimiter.indexOf(V)!==-1}).length||(P=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(k=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(G=A.skipEmptyLines),typeof A.newline=="string"&&(O=A.newline),typeof A.quoteChar=="string"&&(z=A.quoteChar),typeof A.header=="boolean"&&(D=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");M=A.columns}A.escapeChar!==void 0&&(W=A.escapeChar+z),A.escapeFormulae instanceof RegExp?$=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&($=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(z),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return U(null,E,G);if(typeof E[0]=="object")return U(M||Object.keys(E[0]),E,G)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||M),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),U(E.fields||[],E.data||[],G);throw new Error("Unable to serialize unrecognized input");function U(V,q,re){var se="",fe=(typeof V=="string"&&(V=JSON.parse(V)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(V)&&0<V.length),_e=!Array.isArray(q[0]);if(fe&&D){for(var pe=0;pe<V.length;pe++)0<pe&&(se+=P),se+=H(V[pe],pe);0<q.length&&(se+=O)}for(var X=0;X<q.length;X++){var oe=(fe?V:q[X]).length,ne=!1,T=fe?Object.keys(q[X]).length===0:q[X].length===0;if(re&&!fe&&(ne=re==="greedy"?q[X].join("").trim()==="":q[X].length===1&&q[X][0].length===0),re==="greedy"&&fe){for(var N=[],R=0;R<oe;R++){var L=_e?V[R]:R;N.push(q[X][L])}ne=N.join("").trim()===""}if(!ne){for(var Y=0;Y<oe;Y++){0<Y&&!T&&(se+=P);var ee=fe&&_e?V[Y]:Y;se+=H(q[X][ee],Y)}X<q.length-1&&(!re||0<oe&&!T)&&(se+=O)}}return se}function H(V,q){var re,se;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(se=!1,$&&typeof V=="string"&&$.test(V)&&(V="'"+V,se=!0),re=V.toString().replace(B,W),(se=se||k===!0||typeof k=="function"&&k(V,q)||Array.isArray(k)&&k[q]||((fe,_e)=>{for(var pe=0;pe<_e.length;pe++)if(-1<fe.indexOf(_e[pe]))return!0;return!1})(re,u.BAD_DELIMITERS)||-1<re.indexOf(P)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?z+re+z:re)}},u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=p,u.ReadableStreamStreamer=m,n.jQuery&&((i=n.jQuery).fn.parse=function(E){var A=E.config||{},k=[];return this.each(function(O){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)k.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},A)})}),D(),this;function D(){if(k.length===0)j(E.complete)&&E.complete();else{var O,z,W,G,M=k[0];if(j(E.before)){var $=E.before(M.file,M.inputElem);if(typeof $=="object"){if($.action==="abort")return O="AbortError",z=M.file,W=M.inputElem,G=$.reason,void(j(E.error)&&E.error({name:O},z,W,G));if($.action==="skip")return void P();typeof $.config=="object"&&(M.instanceConfig=i.extend(M.instanceConfig,$.config))}else if($==="skip")return void P()}var B=M.instanceConfig.complete;M.instanceConfig.complete=function(U){j(B)&&B(U,M.file,M.inputElem),P()},u.parse(M.file,M.instanceConfig)}}function P(){k.splice(0,1),D()}}),s&&(n.onmessage=function(E){E=E.data,u.WORKER_ID===void 0&&E&&(u.WORKER_ID=E.workerId),typeof E.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(E.input,E.config),finished:!0}):(n.File&&E.input instanceof File||E.input instanceof Object)&&(E=u.parse(E.input,E.config))&&n.postMessage({workerId:u.WORKER_ID,results:E,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,u})})(OI);var N0e=OI.exports;const Qd=Ze(N0e),C0e=()=>{const[t,e]=C.useState(null),[r,n]=C.useState([]),[i,a]=C.useState(!1),[s,o]=C.useState(0),[l,u]=C.useState(null),d=C.useRef(null),[f,h]=C.useState(null),[p,m]=C.useState([]),[g,v]=C.useState(!1),[x,y]=C.useState(null),b=C.useRef(null),S=M=>{const $=M.target.files[0];$&&$.type==="text/csv"?(e($),w($)):alert("Please select a valid CSV file")},w=M=>{Qd.parse(M,{header:!0,skipEmptyLines:!0,complete:$=>{const B=$.data.slice(0,10);n(B)},error:$=>{alert("Error parsing CSV file")}})},_=M=>{if(!M)return 1;const $=M.match(/-(\d+)$/);if($)return parseInt($[1]);const B=M.match(/-(\d+)$/);return B?parseInt(B[1]):1},j=M=>{console.log("Processing row:",M);const $=_(M["Invoice No."]||M["Ref No."]||M.ID||"");let B=null;M.Date||M["Invoice Date"]||M["Sale Date"]?B=new Date(M.Date||M["Invoice Date"]||M["Sale Date"]):M["8/01/25"]&&(B=new Date(M["8/01/25"]));let U=1,H=0;(M.Qty||M.Quantity||M["Sold Qty"])&&(U=parseInt(M.Qty||M.Quantity||M["Sold Qty"])||1),(M.Price||M.Cost||M.Retail||M.Actual)&&(H=parseFloat(M.Price||M.Cost||M.Retail||M.Actual)||0);const V=H*U,q=H*U;if(!B||isNaN(B.getTime()))return console.log("Skipping row - Invalid date:",M),null;if(!$||$<=0)return console.log("Skipping row - Invalid store ID:",$,"from row:",M),null;if(V<=0||q<=0)return console.log("Skipping row - Invalid sales amounts:",{netSales:V,grossSales:q},"from row:",M),null;if(U<=0)return console.log("Skipping row - Invalid quantity:",U,"from row:",M),null;if(H<=0)return console.log("Skipping row - Invalid price:",H,"from row:",M),null;let re="Unknown",se="Unknown";return(M.Vendor||M.Company||M.Location)&&(re=M.Vendor||M.Company||M.Location),(M.Product||M.Item||M.Description)&&(se=M.Product||M.Item||M.Description),{date:B.toISOString().split("T")[0],status:"Confirmed",sales_tax:0,net_sales:V,gross_sales:q,common_venue_name:`${re} - ${se}`,Store:$,invoice_no:M["Invoice No."]||M["Ref No."]||M.ID||"",po_no:M["PO No."]||"",vendor:re,style:M.Style||"",color:M.Color||"",size:M.Size||"",product:se,description:M.Description||"",department:M.Department||"",sold_qty:U,cost:H,retail:H,actual:H}},E=async()=>{if(!t){alert("Please select a file");return}a(!0),o(0),u(null);try{Qd.parse(t,{header:!0,skipEmptyLines:!0,complete:async M=>{const B=M.data.map(j).filter(fe=>fe).filter(fe=>{const _e=fe.net_sales>0&&fe.gross_sales>0;return _e||console.log("Filtering out row with $0 sales:",fe),_e}),U=M.data.length,H=B.length,V=U-H;if(console.log(`Validation Results: ${H} valid rows, ${V} skipped rows out of ${U} total`),H===0){u({success:!1,error:`No valid rows found. All ${U} rows were skipped due to validation errors.`}),a(!1);return}const q=100;let re=0,se=0;for(let fe=0;fe<B.length;fe+=q){const _e=B.slice(fe,fe+q);try{const pe=await de.addRow("trailer_history",_e);pe.success?re+=_e.length:(se+=_e.length,console.error("Upload failed for batch:",pe.error)),o(re/B.length*100)}catch(pe){se+=_e.length,console.error("Upload error for batch:",pe)}}u({success:!0,uploaded:re,failed:se,total:B.length,skipped:V}),a(!1)},error:M=>{u({success:!1,error:M.message}),a(!1)}})}catch(M){console.error("Upload failed:",M),u({success:!1,error:M.message}),a(!1)}},A=M=>{M.preventDefault();const $=M.dataTransfer.files[0];$&&$.type==="text/csv"&&(e($),w($))},k=M=>{M.preventDefault()},D=()=>{e(null),n([]),u(null),o(0),d.current&&(d.current.value="")},P=M=>{const $=M.target.files[0];$&&($.type==="text/csv"||$.type==="text/tab-separated-values"||$.name.endsWith(".tsv"))?(h($),O($)):alert("Please select a valid CSV or TSV file")},O=M=>{Qd.parse(M,{header:!0,skipEmptyLines:!0,delimiter:M.name.endsWith(".tsv")?"	":",",complete:$=>{const B=$.data.map(W).filter(V=>V.date&&V.store),U={};for(const V of B){const q=`${V.date}_${V.store}`;U[q]||(U[q]={date:V.date,store:V.store,sales_tax:0,net_sales:0,gross_sales:0,record_count:0}),U[q].sales_tax+=parseFloat(V.sales_tax||0),U[q].net_sales+=parseFloat(V.net_sales||0),U[q].gross_sales+=parseFloat(V.gross_sales||0),U[q].record_count+=1}const H=Object.values(U).slice(0,10);m(H)},error:$=>{alert("Error parsing Trailer History file")}})},z=M=>{if(!M)return null;const $=M.match(/-(\d+)/);return $?parseInt($[1]):null},W=M=>({date:M.Date?new Date(M.Date).toISOString():null,store:z(M["Ref No."]),sales_tax:parseFloat(M.Tax)||0,net_sales:parseFloat(M.Subtotal)||0,gross_sales:parseFloat(M.Total)||0}),G=async()=>{if(!f){alert("Please select a file");return}v(!0),y(null);try{Qd.parse(f,{header:!0,skipEmptyLines:!0,delimiter:f.name.endsWith(".tsv")?"	":",",complete:async M=>{const $=M.data.map(W).filter(U=>U.date&&U.store),B=await de.importTrailerHistory($);y(B),v(!1)},error:M=>{y({success:!1,error:M.message}),v(!1)}})}catch(M){y({success:!1,error:M.message}),v(!1)}};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Data Upload"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Upload CSV files to import sales analysis data for all stores"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload CSV File"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:A,onDragOver:k,children:[c.jsx("input",{ref:d,type:"file",accept:".csv",onChange:S,className:"hidden"}),t?c.jsxs("div",{children:[c.jsx(Iy,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:D,className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx($y,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV file here, or"," ",c.jsx("button",{onClick:()=>{var M;return(M=d.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports CSV files with sales data"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Upload sales data files here"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Trailer History File"}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"📋 How to Export from Uniform Solutions:"}),c.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:c.jsx("strong",{children:"GO TO Uniform Solutions"})}),c.jsx("li",{children:c.jsx("strong",{children:"File → Export → Sales Invoices"})}),c.jsx("li",{children:c.jsx("strong",{children:"Choose Date Range and All Stores"})}),c.jsx("li",{children:"Export the CSV file"}),c.jsx("li",{children:"Upload the exported file here"})]}),c.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[c.jsx("strong",{children:"Note:"})," The system will automatically detect store numbers from the invoice/reference numbers."]})]}),c.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[c.jsx("input",{ref:b,type:"file",accept:".csv,.tsv",onChange:P,className:"hidden"}),f?c.jsxs("div",{children:[c.jsx(Iy,{className:"mx-auto h-8 w-8 text-primary-500 mb-2"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(f.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:()=>{h(null),m([]),y(null),b.current&&(b.current.value="")},className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx($y,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[c.jsx("button",{onClick:()=>{var M;return(M=b.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"Select CSV or TSV file"})," ","for Trailer History data"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Supports CSV and TSV files with trailer sales data"})]})]})]}),p.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Trailer History Preview (Aggregated by Store & Date)"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",p.length," aggregated records"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Tax"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((M,$)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:new Date(M.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.store}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.sales_tax.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.net_sales.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.gross_sales.toFixed(2)]}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.record_count})]},$))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"})," Data is automatically aggregated by store and date. Multiple records for the same store on the same date will be summed together."]})})]}),f&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:G,disabled:g,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Importing..."]}):"Import Trailer History"})}),x&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${x.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[x.success?c.jsx(Ry,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(Py,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${x.success?"text-green-900":"text-red-900"}`,children:x.success?"Import Complete":"Import Failed"}),c.jsx("p",{className:`text-sm ${x.success?"text-green-700":"text-red-700"}`,children:x.success?`Successfully processed ${x.processed||0} records${x.failed>0?`, ${x.failed} failed`:""}`:x.error})]})]})}),r.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Data Preview"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",r.length," rows"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:Object.keys(r[0]||{}).map(M=>c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:M},M))})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((M,$)=>c.jsx("tr",{children:Object.values(M).map((B,U)=>c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 max-w-xs truncate",title:String(B),children:String(B)},U))},$))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-yellow-800",children:[c.jsx("strong",{children:"Debug Info:"})," This shows the raw CSV data. Check the browser console for detailed processing information."]})})]}),t&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:E,disabled:i,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading... ",s.toFixed(1),"%"]}):"Upload Sales Data"})}),l&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[l.success?c.jsx(Ry,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(Py,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Upload Complete":"Upload Failed"}),c.jsx("p",{className:`text-sm ${l.success?"text-green-700":"text-red-700"}`,children:l.success?`Successfully uploaded ${l.uploaded} records${l.failed>0?`, ${l.failed} failed`:""}`:l.error}),l.skipped>0&&c.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:["⚠️ ",l.skipped," rows were skipped due to validation errors (negative/zero sales, invalid dates, etc.)"]})]})]})})]})})},Vn=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],k0e=({storeId:t,storeName:e,onSave:r,onCancel:n})=>{const[i,a]=C.useState({}),[s,o]=C.useState(!1),[l,u]=C.useState(!0),[d,f]=C.useState(null),[h,p]=C.useState(!1),m=C.useCallback(async y=>{if(!(!y||Object.keys(y).length===0))try{const b=Vn.map((w,_)=>{var j,E,A;return{store_id:parseInt(t),day_of_week:parseInt(_),open_time:((j=y[w.key])==null?void 0:j.openTime)||"09:00",close_time:((E=y[w.key])==null?void 0:E.closeTime)||"17:00",is_open:!!((A=y[w.key])!=null&&A.isOpen)}}),S=await de.saveStoreHours(t,b);if(S.success){const w=await de.getStoreHours(t);if(w.success){const _={};Vn.forEach((j,E)=>{const A=w.data.find(k=>parseInt(k.day_of_week)===E);_[j.key]={isOpen:(A==null?void 0:A.is_open)??!0,openTime:(A==null?void 0:A.open_time)||"09:00",closeTime:(A==null?void 0:A.close_time)||"17:00"}}),a(_)}f(new Date),p(!1),console.log("Auto-saved store hours successfully")}else console.error("Auto-save failed:",S.error)}catch(b){console.error("Auto-save error:",b)}},[t]);C.useEffect(()=>{t&&(async()=>{u(!0);try{const b=await de.getStoreHours(t);if(b.success){const S={};Vn.forEach((w,_)=>{const j=b.data.find(E=>E.day_of_week===_);S[w.key]={isOpen:(j==null?void 0:j.is_open)??!0,openTime:(j==null?void 0:j.open_time)||"09:00",closeTime:(j==null?void 0:j.close_time)||"17:00"}}),a(S),f(new Date),p(!1)}else{console.error("Error loading store hours:",b.error);const S={};Vn.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(S)}}catch(b){console.error("Error loading store hours:",b);const S={};Vn.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(S)}finally{u(!1)}})()},[t]),C.useEffect(()=>{if(Object.keys(i).length>0&&h){const y=setTimeout(()=>{m(i)},2e3);return()=>clearTimeout(y)}},[i,h,m]);const g=(y,b,S)=>{a(w=>({...w,[y]:{...w[y],[b]:S}})),p(!0)},v=async()=>{o(!0);try{if(await m(i),r){const y=Vn.map((b,S)=>{var w,_,j;return{store_id:parseInt(t),day_of_week:parseInt(S),open_time:((w=i[b.key])==null?void 0:w.openTime)||"09:00",close_time:((_=i[b.key])==null?void 0:_.closeTime)||"17:00",is_open:!!((j=i[b.key])!=null&&j.isOpen)}});await r(y)}}catch(y){console.error("Error saving store hours:",y)}finally{o(!1)}},x=y=>{const b=i[y],S={};Vn.forEach(w=>{S[w.key]={...b}}),a(S)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Store Hours - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Set operating hours for each day of the week"}),d&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last saved: ",d.toLocaleTimeString(),h&&c.jsx("span",{className:"text-orange-600 ml-2",children:"• Unsaved changes"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:n,className:"btn-outline btn-sm",children:[c.jsx(tu,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:v,disabled:s,className:"btn-primary btn-sm",children:[c.jsx($b,{className:"w-4 h-4 mr-1"}),s?"Saving...":"Save Now"]})]})]}),l?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Loading store hours..."})]}):c.jsx("div",{className:"space-y-4",children:Vn.map(y=>{var b,S,w,_,j;return c.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-24 flex-shrink-0",children:c.jsx("span",{className:"font-medium text-gray-900",children:y.label})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:`${y.key}-open`,checked:((b=i[y.key])==null?void 0:b.isOpen)||!1,onChange:E=>g(y.key,"isOpen",E.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:`${y.key}-open`,className:"text-sm text-gray-700",children:"Open"})]}),((S=i[y.key])==null?void 0:S.isOpen)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ya,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"time",value:((w=i[y.key])==null?void 0:w.openTime)||"09:00",onChange:E=>g(y.key,"openTime",E.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),c.jsx("span",{className:"text-gray-500",children:"to"}),c.jsx("input",{type:"time",value:((_=i[y.key])==null?void 0:_.closeTime)||"17:00",onChange:E=>g(y.key,"closeTime",E.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsx("button",{onClick:()=>x(y.key),className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Copy to all days"})]}),!((j=i[y.key])!=null&&j.isOpen)&&c.jsx("span",{className:"text-gray-500 text-sm",children:"Closed"})]},y.key)})}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>{const y=["monday","tuesday","wednesday","thursday","friday"],b={...i};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"19:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekdays 10-7"}),c.jsx("button",{onClick:()=>{const y=["saturday","sunday"],b={...i};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"18:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekend 10-6"}),c.jsx("button",{onClick:()=>{const y={};Vn.forEach(b=>{y[b.key]={isOpen:!1,openTime:"09:00",closeTime:"17:00"}}),a(y)},className:"btn-outline btn-sm",children:"Set All Closed"})]})]})]})},O0e=({storeId:t,storeName:e,staffData:r,onSaveShift:n,onDeleteShift:i,selectedDate:a=new Date})=>{const[s,o]=C.useState(a),[l,u]=C.useState([]),[d,f]=C.useState(!1),[h,p]=C.useState(null),[m,g]=C.useState({staffId:"",startTime:"09:00",endTime:"17:00",notes:""}),v=r.filter(T=>T.store_id===t),[x,y]=C.useState({});C.useEffect(()=>{y({0:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},1:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},2:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},3:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},4:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},5:{isOpen:!0,openTime:"10:00",closeTime:"18:00"}})},[]);const S=(()=>{const T=new Set;Object.values(x).forEach(L=>{L.isOpen&&(T.add(L.openTime),T.add(L.closeTime))});const N=Array.from(T).sort(),R=[];return N.forEach((L,Y)=>{if(Y<N.length-1){const ee=L,ae=N[Y+1];R.push(ee);const ue=parseInt(ee.split(":")[0]),me=parseInt(ae.split(":")[0]);for(let Ae=ue+1;Ae<me;Ae++)R.push(`${Ae.toString().padStart(2,"0")}:00`)}}),R})(),w=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value for formatting:",T),"--:--";try{const[N,R]=T.split(":").map(Number),L=N>=12?"PM":"AM";return`${N===0?12:N>12?N-12:N}:${R.toString().padStart(2,"0")} ${L}`}catch(N){return console.warn("Error formatting time:",T,N),"--:--"}},_=T=>x[T]||{isOpen:!1},j=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=(T=>{const N=new Date(T),R=N.getDay(),L=N.getDate()-R+(R===0?-6:1);N.setDate(L);const Y=[];for(let ee=0;ee<6;ee++){const ae=new Date(N);ae.setDate(N.getDate()+ee),Y.push(ae)}return Y})(s);C.useEffect(()=>{A.length>0&&k()},[s,t,A]);const k=async()=>{try{const T=A[0].toISOString().split("T")[0],N=A[5].toISOString().split("T")[0],R=await de.getScheduleAssignments(t,T,N);if(R.success){const L=R.data.filter(Y=>{const ee=Y.startTime&&Y.endTime&&Y.staffId;return ee||console.warn("Filtering out invalid shift:",Y),ee});console.log("Valid shifts:",L),u(L)}}catch(T){console.error("Failed to load shifts:",T)}},D=()=>{const T=new Date(s);T.setDate(T.getDate()-7),o(T)},P=()=>{const T=new Date(s);T.setDate(T.getDate()+7),o(T)},O=()=>{o(new Date)},z=T=>T.toLocaleDateString("en-US",{month:"short",day:"numeric"}),W=T=>{const N=new Date;return T.toDateString()===N.toDateString()},G=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value:",T),0;try{const[N,R]=T.split(":").map(Number);return N*60+R}catch(N){return console.warn("Error parsing time:",T,N),0}},M=(T,N)=>{if(!N.startTime||!N.endTime)return!1;const R=G(T),L=G(N.startTime),Y=G(N.endTime);return R>=L&&R<Y},$=(T,N)=>{p({dayIndex:T,timeSlot:N}),g({staffId:"",startTime:N,endTime:B(N),notes:""}),f(!0)},B=T=>{const[N]=T.split(":");return`${(parseInt(N)+1).toString().padStart(2,"0")}:00`},U=async()=>{if(!m.staffId){alert("Please select a staff member");return}const T={storeId:t,staffId:m.staffId,date:A[h.dayIndex].toISOString().split("T")[0],startTime:m.startTime,endTime:m.endTime,notes:m.notes};try{const N=await de.saveScheduleAssignment(T);N.success?(u(R=>[...R,N.data]),n&&n(N.data)):alert("Failed to save shift: "+N.error)}catch(N){console.error("Error saving shift:",N),alert("An unexpected error occurred while saving the shift.")}f(!1),p(null),g({staffId:"",startTime:"09:00",endTime:"17:00",notes:""})},H=async T=>{if(window.confirm("Are you sure you want to delete this shift?"))try{const N=await de.deleteScheduleAssignment(T);N.success?(u(R=>R.filter(L=>L.id!==T)),i&&i(T)):alert("Failed to delete shift: "+N.error)}catch(N){console.error("Error deleting shift:",N),alert("An unexpected error occurred while deleting the shift.")}},V=T=>{const N=v.find(R=>R.id===T||R.id===parseInt(T));return N?N.name:`Unknown (ID: ${T})`},q=(T,N)=>{if(!T||!N)return console.warn("Missing start or end time:",{startTime:T,endTime:N}),0;const R=G(T),L=G(N);return Math.max(0,(L-R)/60)},re=()=>{const T={};let N=0,R=0;return l.forEach(L=>{if(!L.startTime||!L.endTime||!L.staffId){console.warn("Skipping invalid shift:",L);return}const Y=q(L.startTime,L.endTime),ee=v.find(ae=>ae.id===L.staffId||ae.id===parseInt(L.staffId));if(ee){T[ee.id]||(T[ee.id]={name:ee.name,hours:0,cost:0}),T[ee.id].hours+=Y;let ae=0;if(ee.payType==="hourly")ae=Y*(ee.hourlyRate||0);else if(ee.payType==="salary"||ee.payType==="salary+bonus"){const me=(ee.salaryAmount||0)/365,K=Y/8;ae=me*K}T[ee.id].cost+=ae,N+=Y,R+=ae}}),{staffTotals:T,storeTotalHours:N,storeTotalCost:R}},{staffTotals:se,storeTotalHours:fe,storeTotalCost:_e}=re(),pe=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.filter(L=>L.date===R&&M(N,L))},X=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.some(L=>L.date===R&&L.startTime===N)},oe=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.find(L=>L.date===R&&L.startTime===N)},ne=T=>{const N=A[T].toISOString().split("T")[0];return l.filter(R=>R.date===N)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Weekly Schedule - ",e]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[z(A[0])," - ",z(A[5])]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(Rb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:O,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Today"}),c.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(Ib,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Week Totals"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-xs font-medium text-blue-800 mb-2",children:"Staff Hours:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.values(se).map(T=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[c.jsx("div",{className:"font-medium text-blue-900",children:T.name}),c.jsxs("div",{className:"text-blue-700",children:[T.hours.toFixed(1)," hours"]}),c.jsxs("div",{className:"text-blue-600",children:["$",T.cost.toFixed(2)]})]},T.name))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Hours"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:[fe.toFixed(1)," hours"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Cost"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:["$",_e.toFixed(2)]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("div",{className:"min-w-[800px]",children:[c.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[c.jsx("div",{className:"h-12"})," ",A.map((T,N)=>c.jsxs("div",{className:`h-12 flex flex-col items-center justify-center border rounded ${W(T)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[c.jsx("div",{className:"text-xs font-medium text-gray-600",children:j[N].slice(0,3)}),c.jsx("div",{className:`text-sm font-semibold ${W(T)?"text-blue-700":"text-gray-900"}`,children:T.getDate()})]},N))]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.jsx("div",{className:"space-y-1",children:S.map(T=>c.jsx("div",{className:"h-12 flex items-center justify-end pr-2 text-xs text-gray-500",children:w(T)},T))}),A.map((T,N)=>{const R=_(N);return c.jsx("div",{className:"space-y-1 relative",children:S.map(L=>{if(!(R.isOpen&&G(L)>=G(R.openTime)&&G(L)<G(R.closeTime)))return c.jsx("div",{className:"h-12 border border-gray-100 bg-gray-50"},L);const ee=pe(N,L);return X(N,L),oe(N,L),c.jsx("div",{className:`h-12 border border-gray-200 rounded cursor-pointer transition-colors relative ${ee.length>0?"bg-green-100 border-green-300 hover:bg-green-200":"hover:bg-gray-50"}`,onClick:()=>$(N,L),children:ee.length>0&&c.jsxs("div",{className:"p-1 h-full flex flex-col justify-center",children:[ee.slice(0,2).map((ae,ue)=>c.jsx("div",{className:"text-xs font-medium text-green-800 truncate",children:V(ae.staffId)},ae.id)),ee.length>2&&c.jsxs("div",{className:"text-xs text-green-600",children:["+",ee.length-2," more"]})]})},L)})},N)})]})]})}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"This Week's Shifts"}),c.jsx("div",{className:"space-y-2",children:A.map((T,N)=>{const R=ne(N);return R.length===0?null:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-700 mb-1",children:[j[N]," (",z(T),")"]}),c.jsx("div",{className:"space-y-1",children:R.map(L=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(cs,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:V(L.staffId)}),c.jsx(ya,{className:"w-4 h-4 text-gray-400"}),c.jsxs("span",{className:"text-gray-600",children:[w(L.startTime)," - ",w(L.endTime)]})]}),c.jsx("button",{onClick:()=>H(L.id),className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]},L.id))})]},N)})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Shift"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),c.jsxs("select",{value:m.staffId,onChange:T=>g(N=>({...N,staffId:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"",children:"Select staff member"}),v.map(T=>c.jsxs("option",{value:T.id,children:[T.name," (",T.role,")"]},T.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:m.startTime,onChange:T=>g(N=>({...N,startTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:m.endTime,onChange:T=>g(N=>({...N,endTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),c.jsx("textarea",{value:m.notes,onChange:T=>g(N=>({...N,notes:T.target.value})),rows:"3",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Any special instructions or notes..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:U,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Add Shift"})]})]})})]})},D0e=({storeId:t,storeName:e,staffData:r,storeHours:n,commissionTiers:i,onSave:a,onCancel:s})=>{const[o,l]=C.useState([]),[u,d]=C.useState([]),[f,h]=C.useState([]),[p,m]=C.useState({minStaffing:2,maxConsecutiveHours:8,lunchBreakRequired:!0,lunchBreakDuration:30,minShiftDuration:3,maxHoursPerWeek:40,preferredHoursPerWeek:32}),[g,v]=C.useState([]),[x,y]=C.useState(!1),[b,S]=C.useState(new Date),w=r.filter(U=>U.store_id===t);C.useEffect(()=>{(async()=>{try{const H=await de.getStoreHours(t);H.success&&d(H.data||[]);const V=await de.getCommissionTiers(t);V.success&&h(V.data||[])}catch(H){console.error("Error fetching store data:",H)}})()},[t]);const j=(U=>{const H=new Date(U),V=H.getDay(),q=H.getDate()-V+(V===0?-6:1);H.setDate(q);const re=[];for(let se=0;se<6;se++){const fe=new Date(H);fe.setDate(H.getDate()+se),re.push(fe)}return re})(b),E=U=>{if(!U)return"";const[H,V]=U.split(":"),q=parseInt(H),re=q>=12?"PM":"AM";return`${q%12||12}:${V} ${re}`},A=()=>w.map(U=>{const H=k(U.id),V=Math.max(0,p.maxHoursPerWeek-H);return{id:U.id,name:U.name,role:U.role,preferredHours:U.preferredHoursPerWeek||p.preferredHoursPerWeek,maxHours:U.maxHoursPerWeek||p.maxHoursPerWeek,currentHours:H,availableHours:V,hourlyRate:U.hourlyRate||0,commissionRate:D(U.id)}}),k=U=>(j[0].toISOString().split("T")[0],j[5].toISOString().split("T")[0],0),D=U=>0,P=U=>{const H=u.find(q=>q.day_of_week===U);return H?{isOpen:H.is_open,openTime:H.open_time,closeTime:H.close_time}:[{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"18:00"}][U]||{isOpen:!1,openTime:"10:00",closeTime:"19:00"}},O=()=>{y(!0);try{const U=A(),H=[],V=[];j.forEach((q,re)=>{const se=P(re);if(!se.isOpen)return;const fe=z(q,U,se,V,re);H.push(...fe)}),l(H),v(V)}catch(U){console.error("Error generating schedule:",U)}finally{y(!1)}},z=(U,H,V,q,re)=>{const se=[],fe=[...H].sort((N,R)=>R.availableHours-N.availableHours),_e=new Date(`2000-01-01T${V.openTime}`),X=(new Date(`2000-01-01T${V.closeTime}`)-_e)/(1e3*60*60),oe=Math.max(p.minStaffing,Math.ceil(X/8));let ne=0,T=new Date(_e);for(;ne<oe&&fe.length>0;){const N=fe.shift();if(N.availableHours<p.minShiftDuration){q.push({type:"insufficient_hours",staff:N.name,date:U.toISOString().split("T")[0],message:`${N.name} has insufficient available hours (${N.availableHours}h)`});continue}const R=Math.min(N.availableHours,Math.max(p.minShiftDuration,8));let L=new Date(T);if(L.setHours(L.getHours()+R),R>5&&p.lunchBreakRequired){const Y=new Date(T);Y.setHours(Y.getHours()+Math.floor(R/2));const ee=new Date(Y);ee.setMinutes(ee.getMinutes()+p.lunchBreakDuration),se.push({id:Date.now()+Math.random(),store_id:t,staff_id:N.id,staff_name:N.name,date:U.toISOString().split("T")[0],day_index:re,start_time:T.toTimeString().slice(0,5),end_time:Y.toTimeString().slice(0,5),notes:"Auto-generated (before lunch)"}),se.push({id:Date.now()+Math.random()+1,store_id:t,staff_id:N.id,staff_name:N.name,date:U.toISOString().split("T")[0],day_index:re,start_time:ee.toTimeString().slice(0,5),end_time:L.toTimeString().slice(0,5),notes:"Auto-generated (after lunch)"})}else se.push({id:Date.now()+Math.random(),store_id:t,staff_id:N.id,staff_name:N.name,date:U.toISOString().split("T")[0],day_index:re,start_time:T.toTimeString().slice(0,5),end_time:L.toTimeString().slice(0,5),notes:"Auto-generated"});ne++,T=new Date(L),N.availableHours-=R}return se},W=U=>{const H=w.find(fe=>fe.id===U.staff_id);if(!H)return 0;const V=new Date(`2000-01-01T${U.start_time}`),re=(new Date(`2000-01-01T${U.end_time}`)-V)/(1e3*60*60);let se=0;if(H.payType==="hourly")se=re*(H.hourlyRate||0);else if(H.payType==="salary"||H.payType==="salary+bonus"){const _e=(H.salaryAmount||0)/365,X=re/8;if(se=_e*X,H.payType==="salary+bonus"){const oe=re*D(H.id)/100;se+=oe}}return se},G=()=>o.reduce((U,H)=>U+W(H),0),M=async()=>{if(o.length===0){alert("No schedules to save. Please generate a schedule first.");return}y(!0);try{const U=o.map(H=>({store_id:t,staff_id:H.staff_id,date:H.date,start_time:H.start_time,end_time:H.end_time,notes:H.notes||"",created_at:new Date().toISOString()}));await a(U),alert("Schedule saved successfully!")}catch(U){console.error("Error saving schedule:",U),alert("Error saving schedule. Please try again.")}finally{y(!1)}},B=(()=>{const U={};return j.forEach((H,V)=>{const q=H.toISOString().split("T")[0];U[q]={date:H,dayIndex:V,schedules:o.filter(re=>re.date===q)}}),U})();return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Auto Scheduler - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Generate optimal schedules based on store hours and staff availability"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:s,className:"btn-outline btn-sm",children:[c.jsx(tu,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:M,disabled:x||o.length===0,className:"btn-primary btn-sm",children:[c.jsx($b,{className:"w-4 h-4 mr-1"}),x?"Saving...":"Save Schedule"]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Store Staff (",w.length," employees)"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:A().map(U=>c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-blue-900",children:U.name}),c.jsxs("div",{className:"text-blue-700",children:["Available: ",U.availableHours,"h / ",U.maxHours,"h"]}),c.jsxs("div",{className:"text-blue-600",children:["Rate: $",U.hourlyRate,"/hr"]})]},U.id))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Xf,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Scheduling Rules"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Staffing"}),c.jsx("input",{type:"number",min:"1",max:"10",value:p.minStaffing,onChange:U=>m(H=>({...H,minStaffing:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Hours"}),c.jsx("input",{type:"number",min:"1",max:"12",value:p.maxConsecutiveHours,onChange:U=>m(H=>({...H,maxConsecutiveHours:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Shift Duration"}),c.jsx("input",{type:"number",min:"1",max:"8",value:p.minShiftDuration,onChange:U=>m(H=>({...H,minShiftDuration:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Hours/Week"}),c.jsx("input",{type:"number",min:"20",max:"60",value:p.maxHoursPerWeek,onChange:U=>m(H=>({...H,maxHoursPerWeek:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:O,disabled:x,className:"w-full btn-primary",children:[c.jsx($O,{className:"w-4 h-4 mr-2"}),x?"Generating Schedule...":"Generate Auto Schedule"]})}),g.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(kB,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Scheduling Conflicts"})]}),c.jsx("div",{className:"space-y-2",children:g.map((U,H)=>c.jsxs("div",{className:"text-sm text-red-700",children:[c.jsxs("strong",{children:[U.date,":"]})," ",U.message]},H))})]}),o.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Generated Schedule (",o.length," shifts)"]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Qn,{className:"w-4 h-4 text-green-600"}),c.jsxs("span",{className:"font-medium text-green-600",children:["Total Pay: $",G().toFixed(2)]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border border-gray-300",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Mon"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Tue"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Wed"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Thu"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Fri"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Sat"})]})}),c.jsx("tbody",{children:Object.values(B).map((U,H)=>{const V=U.schedules,q=Math.max(1,V.length);return Array.from({length:q},(re,se)=>c.jsx("tr",{children:j.map((fe,_e)=>{const pe=B[fe.toISOString().split("T")[0]],X=(pe==null?void 0:pe.schedules)||[],oe=X[se];return oe?c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:oe.staff_name}),c.jsxs("div",{className:"text-gray-600",children:[E(oe.start_time)," - ",E(oe.end_time)]})]})},_e):c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:se===0&&X.length===0&&c.jsx("div",{className:"text-sm text-gray-400 italic",children:"No shifts"})},_e)})},`${U.date}-${se}`))})})]})})]})]})},P0e=()=>{const{staffData:t}=Ct(),[e,r]=C.useState("main"),[n,i]=C.useState(null),[a,s]=C.useState([]),[o,l]=C.useState(!0),[u,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{const v=await de.getStores();v.success?(console.log("📊 Loaded stores:",v.data),s(v.data)):console.error("Error fetching stores:",v.error)}catch(v){console.error("Error fetching stores:",v)}finally{l(!1)}})()},[]);const f=(g,v)=>{i(v),r(g)},h=()=>{r("main"),i(null)},p=async g=>{try{const v=await de.saveStoreHours(n.id,g);v.success?(alert("Store hours saved successfully!"),h()):alert(`Error saving store hours: ${v.error}`)}catch(v){alert(`Error saving store hours: ${v.message}`)}},m=async g=>{try{const v=g.map(b=>de.saveScheduleAssignment(b)),y=(await Promise.all(v)).filter(b=>!b.success);y.length===0?(alert("Auto-generated schedule saved successfully!"),h()):alert(`Error saving some schedules: ${y.length} failed out of ${g.length}`)}catch(v){alert(`Error saving auto schedule: ${v.message}`)}};return e==="store-hours"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(ff,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(k0e,{storeId:n.id,storeName:n.name,onSave:p,onCancel:h})]}):e==="schedule"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(ff,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(O0e,{storeId:n.id,storeName:n.name,staffData:t})]}):e==="auto-scheduler"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(ff,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(D0e,{storeId:n.id,storeName:n.name,staffData:t,storeHours:[],onSave:m,onCancel:h})]}):e==="holiday-manager"?c.jsx(M0e,{onBack:h}):o?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(g=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},g))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Hover over a store to see available scheduling actions"})]}),c.jsx("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("holiday-manager"),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"w-8 h-8 text-green-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"text-gray-600",children:"Manage holidays for all stores"}),c.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Click to manage →"})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>d(g.id),onMouseLeave:()=>d(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",g.number]})]})]}),u===g.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>f("store-hours",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ya,{className:"w-4 h-4 mr-2"}),"Manage Hours"]}),c.jsxs("button",{onClick:()=>f("schedule",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Weekly Calendar"]}),g.name!=="Camper"&&g.name!=="Trailer"&&c.jsxs("button",{onClick:()=>f("auto-scheduler",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600 col-span-2",children:[c.jsx($O,{className:"w-4 h-4 mr-2"}),"Auto Schedule"]})]})})]},g.id))})]})},M0e=({onBack:t})=>{const[e,r]=C.useState([]),[n,i]=C.useState({}),[a,s]=C.useState(!0),[o,l]=C.useState({name:"",date:""}),[u,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{const g=await de.getStores();if(g.success){r(g.data);const v={};for(const x of g.data){const y=await de.getStoreHolidays(x.id);y.success&&(v[x.id]=y.data||[])}i(v)}}catch(g){console.error("Error fetching data:",g)}finally{s(!1)}})()},[]);const f=async m=>{if(!o.name.trim()||!o.date){alert("Please fill in both holiday name and date");return}try{const g={store_id:m,holiday_name:o.name.trim(),holiday_date:o.date,is_closed:!0},v=await de.saveStoreHolidays(m,[g]);if(v.success){const x=await de.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),l({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${v.error}`)}catch(g){alert(`Error adding holiday: ${g.message}`)}},h=async(m,g)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const v=await de.deleteStoreHoliday(m,g);if(v.success){const x=await de.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${v.error}`)}catch(v){alert(`Error deleting holiday: ${v.message}`)}},p=async(m,g,v)=>{try{const x=await de.updateStoreHoliday(m,g,v);if(x.success){const y=await de.getStoreHolidays(m);y.success&&i(b=>({...b,[m]:y.data||[]})),d(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${x.error}`)}catch(x){alert(`Error updating holiday: ${x.message}`)}};return a?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:t,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(ff,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(m=>{const g=n[m.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Dr,{className:"w-4 h-4 mr-1"}),g.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Dr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:o.name,onChange:v=>l(x=>({...x,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:o.date,onChange:v=>l(x=>({...x,date:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>f(m.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:g.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):g.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:u===v.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:v.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${v.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:v.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${v.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const x=document.getElementById(`edit-name-${v.id}`).value,y=document.getElementById(`edit-date-${v.id}`).value;p(m.id,v.id,{holiday_name:x,holiday_date:y})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>d(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:v.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>d(v.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(m.id,v.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ba,{className:"w-4 h-4"})})]})]})},v.id))})]})]},m.id)})})]})},R0e=()=>{const{staffData:t}=Ct(),[e,r]=C.useState([]),[n,i]=C.useState(!0),[a,s]=C.useState({}),[o,l]=C.useState(()=>{const m=new Date,g=new Date(m.getFullYear(),m.getMonth(),1),v=new Date(m.getFullYear(),m.getMonth()+1,0);return{startDate:g.toISOString().split("T")[0],endDate:v.toISOString().split("T")[0]}});C.useEffect(()=>{(async()=>{try{const g=await de.getStores();g.success&&(r(g.data),await u(g.data))}catch(g){console.error("Error fetching data:",g)}finally{i(!1)}})()},[o]);const u=async m=>{const g={};for(const v of m)try{const x=t.filter(w=>w.store_id===v.id),y=await de.getScheduleAssignmentsForDateRange(v.id,o.startDate,o.endDate),b=await de.getSalesForDateRange(v.name,o.startDate,o.endDate),S=[];for(const w of x){const _=await de.getStaffBonusTiers(w.id),j={...w,bonus_tiers:_.success?_.data:[]},E=d(y.data||[],w.id),A=b.data||[],k=f(j,E,A);S.push({staff:j,hours:E,sales:A,payroll:k})}g[v.id]={store:v,staffPayroll:S,totalHours:S.reduce((w,_)=>w+_.hours,0),totalSales:b.data?b.data.reduce((w,_)=>w+(parseFloat(_.gross_sales)||0),0):0,totalPayroll:S.reduce((w,_)=>w+_.payroll.total,0)}}catch(x){console.error(`Error calculating payroll for store ${v.name}:`,x),g[v.id]={store:v,staffPayroll:[],totalHours:0,totalSales:0,totalPayroll:0,error:x.message}}s(g)},d=(m,g)=>{let v=0;return m.forEach(x=>{if(x.staff_id===g&&x.slot){const y=new Date(`2000-01-01T${x.slot.start_time}`),S=(new Date(`2000-01-01T${x.slot.end_time}`)-y)/(1e3*60*60);v+=S}}),v},f=(m,g,v)=>{let x=0,y=0;if(m.pay_type==="salary"||m.pay_type==="salary+bonus"){const S=m.salary_amount||0,[w,_,j]=o.startDate.split("-").map(Number),[E,A,k]=o.endDate.split("-").map(Number),D=new Date(w,_-1,j),P=new Date(E,A-1,k),O=Math.ceil((P-D)/(1e3*60*60*24))+1;x=S/365*O,y=g>0?x/g:0}else y=m.hourly_rate||15,x=g*y;let b=0;if(m.bonus_tiers&&m.bonus_tiers.length>0){const S=v.reduce((j,E)=>j+(parseFloat(E.gross_sales)||0),0),_=m.bonus_tiers.sort((j,E)=>E.sales_target-j.sales_target).find(j=>S>=j.sales_target);_&&(b=_.bonus_amount)}return{basePay:x,bonus:b,total:x+b,hourlyRate:y,totalSales:v.reduce((S,w)=>S+(parseFloat(w.gross_sales)||0),0),payType:m.pay_type||"hourly"}},h=(m,g)=>{l(v=>{let x;if(m==="startDate"){const y=new Date(g),b=new Date(y.getFullYear(),y.getMonth()+1,0);x={startDate:g,endDate:b.toISOString().split("T")[0]}}else if(m==="endDate"){const y=new Date(g);x={startDate:new Date(y.getFullYear(),y.getMonth(),1).toISOString().split("T")[0],endDate:g}}else x={...v,[m]:g};return x})},p=m=>{l(g=>{const[v,x,y]=g.startDate.split("-").map(Number),b=new Date(v,x-1,y);let S,w;if(m==="forward")S=new Date(b.getFullYear(),b.getMonth()+1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(m==="backward")S=new Date(b.getFullYear(),b.getMonth()-1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(m==="current"){const _=new Date;S=new Date(_.getFullYear(),_.getMonth(),1),w=new Date(_.getFullYear(),_.getMonth()+1,0)}return{startDate:S.toISOString().split("T")[0],endDate:w.toISOString().split("T")[0]}})};return n?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and calculating bonuses..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gp,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"View bonus calculations based on actual hours and sales data"})]})]})}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Date Range"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>p("backward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Previous Month",children:c.jsx(Rb,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[120px] text-center",children:(()=>{const[m,g,v]=o.startDate.split("-").map(Number);return new Date(m,g-1,v).toLocaleDateString("en-US",{month:"long",year:"numeric"})})()}),c.jsx("button",{onClick:()=>p("forward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Next Month",children:c.jsx(Ib,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>p("current"),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Go to Current Month",children:"Today"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",value:o.startDate,onChange:m=>h("startDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",value:o.endDate,onChange:m=>h("endDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(My,{className:"w-5 h-5 mr-2 text-green-600"}),"Overall Summary"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Stores"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalHours)||0),0).toFixed(1)}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalSales)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalPayroll)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Payroll"})]})]})]}),c.jsx("div",{className:"space-y-6",children:e.map(m=>{const g=a[m.id];if(!g)return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsx("div",{className:"text-gray-500",children:"Loading..."})]})},m.id);const{staffPayroll:v,totalHours:x,totalSales:y,totalPayroll:b,error:S}=g;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Payroll"}),c.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",b.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Hours:"}),c.jsx("span",{className:"ml-2 font-medium",children:x.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Sales:"}),c.jsxs("span",{className:"ml-2 font-medium",children:["$",y.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Staff Count:"}),c.jsx("span",{className:"ml-2 font-medium",children:v.length})]})]})]}),c.jsx("div",{className:"p-6",children:S?c.jsxs("div",{className:"text-red-600 text-center py-4",children:["Error loading data: ",S]}):v.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:v.map(({staff:w,hours:_,sales:j,payroll:E})=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:w.name}),c.jsx("p",{className:"text-sm text-gray-600",children:w.role||"Staff Member"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",E.total.toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Total Pay"})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Hours"}),c.jsx("p",{className:"font-medium",children:_.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Rate"}),c.jsx("p",{className:"font-medium",children:E.payType==="salary"||E.payType==="salary+bonus"?`$${E.hourlyRate.toFixed(2)}/hr (effective)`:`$${E.hourlyRate}/hr`})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",E.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",E.bonus.toFixed(2)]})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sales Generated:"}),c.jsxs("span",{className:"font-medium",children:["$",E.totalSales.toFixed(2)]})]})})]},w.id))})})]},m.id)})})]})},I0e=()=>{const[t,e]=C.useState([]),[r,n]=C.useState({}),[i,a]=C.useState(!0);C.useState(null);const[s,o]=C.useState({name:"",date:""}),[l,u]=C.useState(null);C.useEffect(()=>{(async()=>{try{const m=await de.getStores();if(m.success){e(m.data);const g={};for(const v of m.data){const x=await de.getStoreHolidays(v.id);x.success&&(g[v.id]=x.data||[])}n(g)}}catch(m){console.error("Error fetching data:",m)}finally{a(!1)}})()},[]);const d=async p=>{if(!s.name.trim()||!s.date){alert("Please fill in both holiday name and date");return}try{const m={store_id:p,holiday_name:s.name.trim(),holiday_date:s.date,is_closed:!0},g=await de.saveStoreHolidays(p,[m]);if(g.success){const v=await de.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),o({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${g.error}`)}catch(m){alert(`Error adding holiday: ${m.message}`)}},f=async(p,m)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const g=await de.deleteStoreHoliday(p,m);if(g.success){const v=await de.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${g.error}`)}catch(g){alert(`Error deleting holiday: ${g.message}`)}},h=async(p,m,g)=>{try{const v=await de.updateStoreHoliday(p,m,g);if(v.success){const x=await de.getStoreHolidays(p);x.success&&n(y=>({...y,[p]:x.data||[]})),u(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${v.error}`)}catch(v){alert(`Error updating holiday: ${v.message}`)}};return i?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(p=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},p))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:t.map(p=>{const m=r[p.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Dr,{className:"w-4 h-4 mr-1"}),m.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Dr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:s.name,onChange:g=>o(v=>({...v,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:s.date,onChange:g=>o(v=>({...v,date:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>d(p.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(xa,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:m.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):m.map(g=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l===g.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:g.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${g.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:g.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${g.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const v=document.getElementById(`edit-name-${g.id}`).value,x=document.getElementById(`edit-date-${g.id}`).value;h(p.id,g.id,{holiday_name:v,holiday_date:x})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>u(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:g.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(Ss,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>f(p.id,g.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ba,{className:"w-4 h-4"})})]})]})},g.id))})]})]},p.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dr,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Holiday Management"}),c.jsx("p",{className:"text-green-700",children:"Manage holidays for all stores in one centralized location. Each store can have its own set of holidays that apply to all staff members."})]})]})})]})};function $0e(){return c.jsx(SB,{children:c.jsx(n3,{children:c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs(AB,{children:[c.jsx(_U,{}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(Q4,{children:[c.jsx(mr,{path:"/",element:c.jsx(Y4,{to:"/daily-sales",replace:!0})}),c.jsx(mr,{path:"/dashboard",element:c.jsx(Efe,{})}),c.jsx(mr,{path:"/daily-sales",element:c.jsx(_0e,{})}),c.jsx(mr,{path:"/venues",element:c.jsx(Afe,{})}),c.jsx(mr,{path:"/calendar",element:c.jsx(v0e,{})}),c.jsx(mr,{path:"/bonuses",element:c.jsx(R0e,{})}),c.jsx(mr,{path:"/staff",element:c.jsx(Cfe,{})}),c.jsx(mr,{path:"/tasks",element:c.jsx(Ofe,{})}),c.jsx(mr,{path:"/messages",element:c.jsx(A0e,{})}),c.jsx(mr,{path:"/scheduler",element:c.jsx(P0e,{})}),c.jsx(mr,{path:"/admin/sales-upload",element:c.jsx(C0e,{})}),c.jsx(mr,{path:"/pay-calculator",element:c.jsx(T0e,{})}),c.jsx(mr,{path:"/holiday-manager",element:c.jsx(I0e,{})})]})})]})})})})}Ev.createRoot(document.getElementById("root")).render(c.jsx(I.StrictMode,{children:c.jsx($0e,{})}));
//# sourceMappingURL=index-30d78d67.js.map
