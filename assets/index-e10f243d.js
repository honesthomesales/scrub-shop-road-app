function kR(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var YT={exports:{}},qh={},KT={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=Symbol.for("react.element"),DR=Symbol.for("react.portal"),PR=Symbol.for("react.fragment"),MR=Symbol.for("react.strict_mode"),RR=Symbol.for("react.profiler"),IR=Symbol.for("react.provider"),$R=Symbol.for("react.context"),LR=Symbol.for("react.forward_ref"),UR=Symbol.for("react.suspense"),FR=Symbol.for("react.memo"),BR=Symbol.for("react.lazy"),Gw=Symbol.iterator;function HR(t){return t===null||typeof t!="object"?null:(t=Gw&&t[Gw]||t["@@iterator"],typeof t=="function"?t:null)}var XT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QT=Object.assign,ZT={};function Fo(t,e,r){this.props=t,this.context=e,this.refs=ZT,this.updater=r||XT}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JT(){}JT.prototype=Fo.prototype;function Y0(t,e,r){this.props=t,this.context=e,this.refs=ZT,this.updater=r||XT}var K0=Y0.prototype=new JT;K0.constructor=Y0;QT(K0,Fo.prototype);K0.isPureReactComponent=!0;var qw=Array.isArray,eN=Object.prototype.hasOwnProperty,X0={current:null},tN={key:!0,ref:!0,__self:!0,__source:!0};function rN(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)eN.call(e,n)&&!tN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:hu,type:t,key:a,ref:s,props:i,_owner:X0.current}}function zR(t,e){return{$$typeof:hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Q0(t){return typeof t=="object"&&t!==null&&t.$$typeof===hu}function WR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Yw=/\/+/g;function gm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WR(""+t.key):e.toString(36)}function Od(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hu:case DR:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+gm(s,0):n,qw(i)?(r="",t!=null&&(r=t.replace(Yw,"$&/")+"/"),Od(i,e,r,"",function(u){return u})):i!=null&&(Q0(i)&&(i=zR(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Yw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",qw(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+gm(a,o);s+=Od(a,e,r,l,i)}else if(l=HR(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+gm(a,o++),s+=Od(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $u(t,e,r){if(t==null)return t;var n=[],i=0;return Od(t,n,"","",function(a){return e.call(r,a,i++)}),n}function VR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Dd={transition:null},GR={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:X0};function nN(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:$u,forEach:function(t,e,r){$u(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return $u(t,function(){e++}),e},toArray:function(t){return $u(t,function(e){return e})||[]},only:function(t){if(!Q0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Fo;De.Fragment=PR;De.Profiler=RR;De.PureComponent=Y0;De.StrictMode=MR;De.Suspense=UR;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GR;De.act=nN;De.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=QT({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=X0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)eN.call(e,l)&&!tN.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:hu,type:t.type,key:i,ref:a,props:n,_owner:s}};De.createContext=function(t){return t={$$typeof:$R,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IR,_context:t},t.Consumer=t};De.createElement=rN;De.createFactory=function(t){var e=rN.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:LR,render:t}};De.isValidElement=Q0;De.lazy=function(t){return{$$typeof:BR,_payload:{_status:-1,_result:t},_init:VR}};De.memo=function(t,e){return{$$typeof:FR,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Dd.transition;Dd.transition={};try{t()}finally{Dd.transition=e}};De.unstable_act=nN;De.useCallback=function(t,e){return ur.current.useCallback(t,e)};De.useContext=function(t){return ur.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};De.useEffect=function(t,e){return ur.current.useEffect(t,e)};De.useId=function(){return ur.current.useId()};De.useImperativeHandle=function(t,e,r){return ur.current.useImperativeHandle(t,e,r)};De.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return ur.current.useMemo(t,e)};De.useReducer=function(t,e,r){return ur.current.useReducer(t,e,r)};De.useRef=function(t){return ur.current.useRef(t)};De.useState=function(t){return ur.current.useState(t)};De.useSyncExternalStore=function(t,e,r){return ur.current.useSyncExternalStore(t,e,r)};De.useTransition=function(){return ur.current.useTransition()};De.version="18.3.1";KT.exports=De;var N=KT.exports;const H=Qe(N),qR=kR({__proto__:null,default:H},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=N,KR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),QR=Object.prototype.hasOwnProperty,ZR=YR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JR={key:!0,ref:!0,__self:!0,__source:!0};function iN(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)QR.call(e,n)&&!JR.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:KR,type:t,key:a,ref:s,props:i,_owner:ZR.current}}qh.Fragment=XR;qh.jsx=iN;qh.jsxs=iN;YT.exports=qh;var c=YT.exports,Xg={},aN={exports:{}},Rr={},sN={exports:{}},oN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,B){var F=R.length;R.push(B);e:for(;0<F;){var W=F-1>>>1,G=R[W];if(0<i(G,B))R[W]=B,R[F]=G,F=W;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],F=R.pop();if(F!==B){R[0]=F;e:for(var W=0,G=R.length,K=G>>>1;W<K;){var ie=2*(W+1)-1,se=R[ie],ye=ie+1,Te=R[ye];if(0>i(se,F))ye<G&&0>i(Te,se)?(R[W]=Te,R[ye]=F,W=ye):(R[W]=se,R[ie]=F,W=ie);else if(ye<G&&0>i(Te,F))R[W]=Te,R[ye]=F,W=ye;else break e}}return B}function i(R,B){var F=R.sortIndex-B.sortIndex;return F!==0?F:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=R)n(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(u)}}function S(R){if(g=!1,b(R),!m)if(r(l)!==null)m=!0,Y(w);else{var B=r(u);B!==null&&M(S,B.startTime-R)}}function w(R,B){m=!1,g&&(g=!1,x(j),j=-1),p=!0;var F=h;try{for(b(B),f=r(l);f!==null&&(!(f.expirationTime>B)||R&&!O());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(l)&&n(l),b(B)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var ie=r(u);ie!==null&&M(S,ie.startTime-B),K=!1}return K}finally{f=null,h=F,p=!1}}var _=!1,E=null,j=-1,A=5,C=-1;function O(){return!(t.unstable_now()-C<A)}function P(){if(E!==null){var R=t.unstable_now();C=R;var B=!0;try{B=E(!0,R)}finally{B?k():(_=!1,E=null)}}else _=!1}var k;if(typeof y=="function")k=function(){y(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=P,k=function(){V.postMessage(null)}}else k=function(){v(P,0)};function Y(R){E=R,_||(_=!0,k())}function M(R,B){j=v(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Y(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var F=h;h=B;try{return R()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=h;h=R;try{return B()}finally{h=F}},t.unstable_scheduleCallback=function(R,B,F){var W=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,R={id:d++,callback:B,priorityLevel:R,startTime:F,expirationTime:G,sortIndex:-1},F>W?(R.sortIndex=F,e(u,R),r(l)===null&&R===r(u)&&(g?(x(j),j=-1):g=!0,M(S,F-W))):(R.sortIndex=G,e(l,R),m||p||(m=!0,Y(w))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var B=h;return function(){var F=h;h=B;try{return R.apply(this,arguments)}finally{h=F}}}})(oN);sN.exports=oN;var eI=sN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI=N,Pr=eI;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lN=new Set,lc={};function as(t,e){io(t,e),io(t+"Capture",e)}function io(t,e){for(lc[t]=e,t=0;t<e.length;t++)lN.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=Object.prototype.hasOwnProperty,rI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kw={},Xw={};function nI(t){return Qg.call(Xw,t)?!0:Qg.call(Kw,t)?!1:rI.test(t)?Xw[t]=!0:(Kw[t]=!0,!1)}function iI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aI(t,e,r,n){if(e===null||typeof e>"u"||iI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z0=/[\-:]([a-z])/g;function J0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z0,J0);qt[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z0,J0);qt[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z0,J0);qt[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ex(t,e,r,n){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aI(e,r,i,n)&&(r=null),n||i===null?nI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fi=tI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),cN=Symbol.for("react.provider"),uN=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),nx=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),dN=Symbol.for("react.offscreen"),Qw=Symbol.iterator;function cl(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,vm;function Ml(t){if(vm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);vm=e&&e[1]||""}return`
`+vm+t}var ym=!1;function xm(t,e){if(!t||ym)return"";ym=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{ym=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ml(t):""}function sI(t){switch(t.tag){case 5:return Ml(t.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 2:case 15:return t=xm(t.type,!1),t;case 11:return t=xm(t.type.render,!1),t;case 1:return t=xm(t.type,!0),t;default:return""}}function tv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Os:return"Fragment";case ks:return"Portal";case Zg:return"Profiler";case tx:return"StrictMode";case Jg:return"Suspense";case ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uN:return(t.displayName||"Context")+".Consumer";case cN:return(t._context.displayName||"Context")+".Provider";case rx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nx:return e=t.displayName||null,e!==null?e:tv(t.type)||"Memo";case _i:e=t._payload,t=t._init;try{return tv(t(e))}catch{}}return null}function oI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(e);case 8:return e===tx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lI(t){var e=fN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uu(t){t._valueTracker||(t._valueTracker=lI(t))}function hN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=fN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rv(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Zw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pN(t,e){e=e.checked,e!=null&&ex(t,"checked",e,!1)}function nv(t,e){pN(t,e);var r=Qi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iv(t,e.type,r):e.hasOwnProperty("defaultValue")&&iv(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function iv(t,e,r){(e!=="number"||Zd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rl=Array.isArray;function Gs(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function av(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ne(92));if(Rl(r)){if(1<r.length)throw Error(ne(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qi(r)}}function mN(t,e){var r=Qi(e.value),n=Qi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function tS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fu,vN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fu=Fu||document.createElement("div"),Fu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cI=["Webkit","ms","Moz","O"];Object.keys(Fl).forEach(function(t){cI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fl[e]=Fl[t]})});function yN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Fl.hasOwnProperty(t)&&Fl[t]?(""+e).trim():e+"px"}function xN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=yN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var uI=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ov(t,e){if(e){if(uI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=null;function ix(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uv=null,qs=null,Ys=null;function rS(t){if(t=gu(t)){if(typeof uv!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Zh(e),uv(t.stateNode,t.type,e))}}function bN(t){qs?Ys?Ys.push(t):Ys=[t]:qs=t}function wN(){if(qs){var t=qs,e=Ys;if(Ys=qs=null,rS(t),e)for(t=0;t<e.length;t++)rS(e[t])}}function SN(t,e){return t(e)}function _N(){}var bm=!1;function EN(t,e,r){if(bm)return t(e,r);bm=!0;try{return SN(t,e,r)}finally{bm=!1,(qs!==null||Ys!==null)&&(_N(),wN())}}function uc(t,e){var r=t.stateNode;if(r===null)return null;var n=Zh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ne(231,e,typeof r));return r}var dv=!1;if(ii)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){dv=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{dv=!1}function dI(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Bl=!1,Jd=null,ef=!1,fv=null,fI={onError:function(t){Bl=!0,Jd=t}};function hI(t,e,r,n,i,a,s,o,l){Bl=!1,Jd=null,dI.apply(fI,arguments)}function pI(t,e,r,n,i,a,s,o,l){if(hI.apply(this,arguments),Bl){if(Bl){var u=Jd;Bl=!1,Jd=null}else throw Error(ne(198));ef||(ef=!0,fv=u)}}function ss(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function jN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nS(t){if(ss(t)!==t)throw Error(ne(188))}function mI(t){var e=t.alternate;if(!e){if(e=ss(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return nS(i),t;if(a===n)return nS(i),e;a=a.sibling}throw Error(ne(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?t:e}function AN(t){return t=mI(t),t!==null?TN(t):null}function TN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TN(t);if(e!==null)return e;t=t.sibling}return null}var NN=Pr.unstable_scheduleCallback,iS=Pr.unstable_cancelCallback,gI=Pr.unstable_shouldYield,vI=Pr.unstable_requestPaint,wt=Pr.unstable_now,yI=Pr.unstable_getCurrentPriorityLevel,ax=Pr.unstable_ImmediatePriority,CN=Pr.unstable_UserBlockingPriority,tf=Pr.unstable_NormalPriority,xI=Pr.unstable_LowPriority,kN=Pr.unstable_IdlePriority,Yh=null,Nn=null;function bI(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Yh,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:_I,wI=Math.log,SI=Math.LN2;function _I(t){return t>>>=0,t===0?32:31-(wI(t)/SI|0)|0}var Bu=64,Hu=4194304;function Il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Il(o):(a&=s,a!==0&&(n=Il(a)))}else s=r&~i,s!==0?n=Il(s):a!==0&&(n=Il(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-mn(e),i=1<<r,n|=t[r],e&=~i;return n}function EI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-mn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=EI(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function hv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ON(){var t=Bu;return Bu<<=1,!(Bu&4194240)&&(Bu=64),t}function wm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function pu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=r}function AI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-mn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function sx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-mn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ve=0;function DN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PN,ox,MN,RN,IN,pv=!1,zu=[],Ui=null,Fi=null,Bi=null,dc=new Map,fc=new Map,Ni=[],TI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aS(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(e.pointerId)}}function dl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=gu(e),e!==null&&ox(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NI(t,e,r,n,i){switch(e){case"focusin":return Ui=dl(Ui,t,e,r,n,i),!0;case"dragenter":return Fi=dl(Fi,t,e,r,n,i),!0;case"mouseover":return Bi=dl(Bi,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return dc.set(a,dl(dc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,fc.set(a,dl(fc.get(a)||null,t,e,r,n,i)),!0}return!1}function $N(t){var e=ka(t.target);if(e!==null){var r=ss(e);if(r!==null){if(e=r.tag,e===13){if(e=jN(r),e!==null){t.blockedOn=e,IN(t.priority,function(){MN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=mv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);cv=n,r.target.dispatchEvent(n),cv=null}else return e=gu(r),e!==null&&ox(e),t.blockedOn=r,!1;e.shift()}return!0}function sS(t,e,r){Pd(t)&&r.delete(e)}function CI(){pv=!1,Ui!==null&&Pd(Ui)&&(Ui=null),Fi!==null&&Pd(Fi)&&(Fi=null),Bi!==null&&Pd(Bi)&&(Bi=null),dc.forEach(sS),fc.forEach(sS)}function fl(t,e){t.blockedOn===e&&(t.blockedOn=null,pv||(pv=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,CI)))}function hc(t){function e(i){return fl(i,t)}if(0<zu.length){fl(zu[0],t);for(var r=1;r<zu.length;r++){var n=zu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ui!==null&&fl(Ui,t),Fi!==null&&fl(Fi,t),Bi!==null&&fl(Bi,t),dc.forEach(e),fc.forEach(e),r=0;r<Ni.length;r++)n=Ni[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ni.length&&(r=Ni[0],r.blockedOn===null);)$N(r),r.blockedOn===null&&Ni.shift()}var Ks=fi.ReactCurrentBatchConfig,nf=!0;function kI(t,e,r,n){var i=Ve,a=Ks.transition;Ks.transition=null;try{Ve=1,lx(t,e,r,n)}finally{Ve=i,Ks.transition=a}}function OI(t,e,r,n){var i=Ve,a=Ks.transition;Ks.transition=null;try{Ve=4,lx(t,e,r,n)}finally{Ve=i,Ks.transition=a}}function lx(t,e,r,n){if(nf){var i=mv(t,e,r,n);if(i===null)Om(t,e,n,af,r),aS(t,n);else if(NI(i,t,e,r,n))n.stopPropagation();else if(aS(t,n),e&4&&-1<TI.indexOf(t)){for(;i!==null;){var a=gu(i);if(a!==null&&PN(a),a=mv(t,e,r,n),a===null&&Om(t,e,n,af,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Om(t,e,n,null,r)}}var af=null;function mv(t,e,r,n){if(af=null,t=ix(n),t=ka(t),t!==null)if(e=ss(t),e===null)t=null;else if(r=e.tag,r===13){if(t=jN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return af=t,null}function LN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yI()){case ax:return 1;case CN:return 4;case tf:case xI:return 16;case kN:return 536870912;default:return 16}default:return 16}}var Di=null,cx=null,Md=null;function UN(){if(Md)return Md;var t,e=cx,r=e.length,n,i="value"in Di?Di.value:Di.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Md=i.slice(t,1<n?1-n:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wu(){return!0}function oS(){return!1}function Ir(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wu:oS,this.isPropagationStopped=oS,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),e}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ux=Ir(Bo),mu=vt({},Bo,{view:0,detail:0}),DI=Ir(mu),Sm,_m,hl,Kh=vt({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(Sm=t.screenX-hl.screenX,_m=t.screenY-hl.screenY):_m=Sm=0,hl=t),Sm)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),lS=Ir(Kh),PI=vt({},Kh,{dataTransfer:0}),MI=Ir(PI),RI=vt({},mu,{relatedTarget:0}),Em=Ir(RI),II=vt({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),$I=Ir(II),LI=vt({},Bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UI=Ir(LI),FI=vt({},Bo,{data:0}),cS=Ir(FI),BI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zI[t])?!!e[t]:!1}function dx(){return WI}var VI=vt({},mu,{key:function(t){if(t.key){var e=BI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dx,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GI=Ir(VI),qI=vt({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uS=Ir(qI),YI=vt({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dx}),KI=Ir(YI),XI=vt({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),QI=Ir(XI),ZI=vt({},Kh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JI=Ir(ZI),e$=[9,13,27,32],fx=ii&&"CompositionEvent"in window,Hl=null;ii&&"documentMode"in document&&(Hl=document.documentMode);var t$=ii&&"TextEvent"in window&&!Hl,FN=ii&&(!fx||Hl&&8<Hl&&11>=Hl),dS=String.fromCharCode(32),fS=!1;function BN(t,e){switch(t){case"keyup":return e$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function r$(t,e){switch(t){case"compositionend":return HN(e);case"keypress":return e.which!==32?null:(fS=!0,dS);case"textInput":return t=e.data,t===dS&&fS?null:t;default:return null}}function n$(t,e){if(Ds)return t==="compositionend"||!fx&&BN(t,e)?(t=UN(),Md=cx=Di=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FN&&e.locale!=="ko"?null:e.data;default:return null}}var i$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i$[t.type]:e==="textarea"}function zN(t,e,r,n){bN(n),e=sf(e,"onChange"),0<e.length&&(r=new ux("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var zl=null,pc=null;function a$(t){eC(t,0)}function Xh(t){var e=Rs(t);if(hN(e))return t}function s$(t,e){if(t==="change")return e}var WN=!1;if(ii){var jm;if(ii){var Am="oninput"in document;if(!Am){var pS=document.createElement("div");pS.setAttribute("oninput","return;"),Am=typeof pS.oninput=="function"}jm=Am}else jm=!1;WN=jm&&(!document.documentMode||9<document.documentMode)}function mS(){zl&&(zl.detachEvent("onpropertychange",VN),pc=zl=null)}function VN(t){if(t.propertyName==="value"&&Xh(pc)){var e=[];zN(e,pc,t,ix(t)),EN(a$,e)}}function o$(t,e,r){t==="focusin"?(mS(),zl=e,pc=r,zl.attachEvent("onpropertychange",VN)):t==="focusout"&&mS()}function l$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xh(pc)}function c$(t,e){if(t==="click")return Xh(e)}function u$(t,e){if(t==="input"||t==="change")return Xh(e)}function d$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vn=typeof Object.is=="function"?Object.is:d$;function mc(t,e){if(vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qg.call(e,i)||!vn(t[i],e[i]))return!1}return!0}function gS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vS(t,e){var r=gS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gS(r)}}function GN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qN(){for(var t=window,e=Zd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zd(t.document)}return e}function hx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f$(t){var e=qN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&GN(r.ownerDocument.documentElement,r)){if(n!==null&&hx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=vS(r,a);var s=vS(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h$=ii&&"documentMode"in document&&11>=document.documentMode,Ps=null,gv=null,Wl=null,vv=!1;function yS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vv||Ps==null||Ps!==Zd(n)||(n=Ps,"selectionStart"in n&&hx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wl&&mc(Wl,n)||(Wl=n,n=sf(gv,"onSelect"),0<n.length&&(e=new ux("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ps)))}function Vu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ms={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},Tm={},YN={};ii&&(YN=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Qh(t){if(Tm[t])return Tm[t];if(!Ms[t])return t;var e=Ms[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in YN)return Tm[t]=e[r];return t}var KN=Qh("animationend"),XN=Qh("animationiteration"),QN=Qh("animationstart"),ZN=Qh("transitionend"),JN=new Map,xS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(t,e){JN.set(t,e),as(e,[t])}for(var Nm=0;Nm<xS.length;Nm++){var Cm=xS[Nm],p$=Cm.toLowerCase(),m$=Cm[0].toUpperCase()+Cm.slice(1);ta(p$,"on"+m$)}ta(KN,"onAnimationEnd");ta(XN,"onAnimationIteration");ta(QN,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(ZN,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g$=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function bS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,pI(n,e,void 0,t),t.currentTarget=null}function eC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;bS(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;bS(i,o,u),a=l}}}if(ef)throw t=fv,ef=!1,fv=null,t}function ot(t,e){var r=e[Sv];r===void 0&&(r=e[Sv]=new Set);var n=t+"__bubble";r.has(n)||(tC(e,t,2,!1),r.add(n))}function km(t,e,r){var n=0;e&&(n|=4),tC(r,t,n,e)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function gc(t){if(!t[Gu]){t[Gu]=!0,lN.forEach(function(r){r!=="selectionchange"&&(g$.has(r)||km(r,!1,t),km(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gu]||(e[Gu]=!0,km("selectionchange",!1,e))}}function tC(t,e,r,n){switch(LN(e)){case 1:var i=kI;break;case 4:i=OI;break;default:i=lx}r=i.bind(null,e,r,t),i=void 0,!dv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Om(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ka(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}EN(function(){var u=a,d=ix(r),f=[];e:{var h=JN.get(t);if(h!==void 0){var p=ux,m=t;switch(t){case"keypress":if(Rd(r)===0)break e;case"keydown":case"keyup":p=GI;break;case"focusin":m="focus",p=Em;break;case"focusout":m="blur",p=Em;break;case"beforeblur":case"afterblur":p=Em;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KI;break;case KN:case XN:case QN:p=$I;break;case ZN:p=QI;break;case"scroll":p=DI;break;case"wheel":p=JI;break;case"copy":case"cut":case"paste":p=UI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uS}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=uc(y,x),S!=null&&g.push(vc(y,S,b)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==cv&&(m=r.relatedTarget||r.fromElement)&&(ka(m)||m[ai]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?ka(m):null,m!==null&&(v=ss(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=lS,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=uS,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:Rs(p),b=m==null?h:Rs(m),h=new g(S,y+"leave",p,r,d),h.target=v,h.relatedTarget=b,S=null,ka(d)===u&&(g=new g(x,y+"enter",m,r,d),g.target=b,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,x=m,y=0,b=g;b;b=vs(b))y++;for(b=0,S=x;S;S=vs(S))b++;for(;0<y-b;)g=vs(g),y--;for(;0<b-y;)x=vs(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=vs(g),x=vs(x)}g=null}else g=null;p!==null&&wS(f,h,p,g,!1),m!==null&&v!==null&&wS(f,v,m,g,!0)}}e:{if(h=u?Rs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=s$;else if(hS(h))if(WN)w=u$;else{w=l$;var _=o$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=c$);if(w&&(w=w(t,u))){zN(f,w,r,d);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&iv(h,"number",h.value)}switch(_=u?Rs(u):window,t){case"focusin":(hS(_)||_.contentEditable==="true")&&(Ps=_,gv=u,Wl=null);break;case"focusout":Wl=gv=Ps=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,yS(f,r,d);break;case"selectionchange":if(h$)break;case"keydown":case"keyup":yS(f,r,d)}var E;if(fx)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ds?BN(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(FN&&r.locale!=="ko"&&(Ds||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ds&&(E=UN()):(Di=d,cx="value"in Di?Di.value:Di.textContent,Ds=!0)),_=sf(u,j),0<_.length&&(j=new cS(j,t,null,r,d),f.push({event:j,listeners:_}),E?j.data=E:(E=HN(r),E!==null&&(j.data=E)))),(E=t$?r$(t,r):n$(t,r))&&(u=sf(u,"onBeforeInput"),0<u.length&&(d=new cS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}eC(f,e)})}function vc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function sf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=uc(t,r),a!=null&&n.unshift(vc(t,a,i)),a=uc(t,e),a!=null&&n.push(vc(t,a,i))),t=t.return}return n}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wS(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=uc(r,a),l!=null&&s.unshift(vc(r,l,o))):i||(l=uc(r,a),l!=null&&s.push(vc(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var v$=/\r\n?/g,y$=/\u0000|\uFFFD/g;function SS(t){return(typeof t=="string"?t:""+t).replace(v$,`
`).replace(y$,"")}function qu(t,e,r){if(e=SS(e),SS(t)!==e&&r)throw Error(ne(425))}function of(){}var yv=null,xv=null;function bv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wv=typeof setTimeout=="function"?setTimeout:void 0,x$=typeof clearTimeout=="function"?clearTimeout:void 0,_S=typeof Promise=="function"?Promise:void 0,b$=typeof queueMicrotask=="function"?queueMicrotask:typeof _S<"u"?function(t){return _S.resolve(null).then(t).catch(w$)}:wv;function w$(t){setTimeout(function(){throw t})}function Dm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),hc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);hc(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ES(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),jn="__reactFiber$"+Ho,yc="__reactProps$"+Ho,ai="__reactContainer$"+Ho,Sv="__reactEvents$"+Ho,S$="__reactListeners$"+Ho,_$="__reactHandles$"+Ho;function ka(t){var e=t[jn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ai]||r[jn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ES(t);t!==null;){if(r=t[jn])return r;t=ES(t)}return e}t=r,r=t.parentNode}return null}function gu(t){return t=t[jn]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Zh(t){return t[yc]||null}var _v=[],Is=-1;function ra(t){return{current:t}}function ut(t){0>Is||(t.current=_v[Is],_v[Is]=null,Is--)}function nt(t,e){Is++,_v[Is]=t.current,t.current=e}var Zi={},ar=ra(Zi),xr=ra(!1),Va=Zi;function ao(t,e){var r=t.type.contextTypes;if(!r)return Zi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function br(t){return t=t.childContextTypes,t!=null}function lf(){ut(xr),ut(ar)}function jS(t,e,r){if(ar.current!==Zi)throw Error(ne(168));nt(ar,e),nt(xr,r)}function rC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ne(108,oI(t)||"Unknown",i));return vt({},r,n)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Va=ar.current,nt(ar,t),nt(xr,xr.current),!0}function AS(t,e,r){var n=t.stateNode;if(!n)throw Error(ne(169));r?(t=rC(t,e,Va),n.__reactInternalMemoizedMergedChildContext=t,ut(xr),ut(ar),nt(ar,t)):ut(xr),nt(xr,r)}var Wn=null,Jh=!1,Pm=!1;function nC(t){Wn===null?Wn=[t]:Wn.push(t)}function E$(t){Jh=!0,nC(t)}function na(){if(!Pm&&Wn!==null){Pm=!0;var t=0,e=Ve;try{var r=Wn;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Wn=null,Jh=!1}catch(i){throw Wn!==null&&(Wn=Wn.slice(t+1)),NN(ax,na),i}finally{Ve=e,Pm=!1}}return null}var $s=[],Ls=0,uf=null,df=0,Br=[],Hr=0,Ga=null,Gn=1,qn="";function xa(t,e){$s[Ls++]=df,$s[Ls++]=uf,uf=t,df=e}function iC(t,e,r){Br[Hr++]=Gn,Br[Hr++]=qn,Br[Hr++]=Ga,Ga=t;var n=Gn;t=qn;var i=32-mn(n)-1;n&=~(1<<i),r+=1;var a=32-mn(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Gn=1<<32-mn(e)+i|r<<i|n,qn=a+t}else Gn=1<<a|r<<i|n,qn=t}function px(t){t.return!==null&&(xa(t,1),iC(t,1,0))}function mx(t){for(;t===uf;)uf=$s[--Ls],$s[Ls]=null,df=$s[--Ls],$s[Ls]=null;for(;t===Ga;)Ga=Br[--Hr],Br[Hr]=null,qn=Br[--Hr],Br[Hr]=null,Gn=Br[--Hr],Br[Hr]=null}var kr=null,Nr=null,dt=!1,un=null;function aC(t,e){var r=Wr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function TS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,Nr=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,Nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ga!==null?{id:Gn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,kr=t,Nr=null,!0):!1;default:return!1}}function Ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jv(t){if(dt){var e=Nr;if(e){var r=e;if(!TS(t,e)){if(Ev(t))throw Error(ne(418));e=Hi(r.nextSibling);var n=kr;e&&TS(t,e)?aC(n,r):(t.flags=t.flags&-4097|2,dt=!1,kr=t)}}else{if(Ev(t))throw Error(ne(418));t.flags=t.flags&-4097|2,dt=!1,kr=t}}}function NS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Yu(t){if(t!==kr)return!1;if(!dt)return NS(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bv(t.type,t.memoizedProps)),e&&(e=Nr)){if(Ev(t))throw sC(),Error(ne(418));for(;e;)aC(t,e),e=Hi(e.nextSibling)}if(NS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Nr=Hi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Nr=null}}else Nr=kr?Hi(t.stateNode.nextSibling):null;return!0}function sC(){for(var t=Nr;t;)t=Hi(t.nextSibling)}function so(){Nr=kr=null,dt=!1}function gx(t){un===null?un=[t]:un.push(t)}var j$=fi.ReactCurrentBatchConfig;function pl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,t))}return t}function Ku(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CS(t){var e=t._init;return e(t._payload)}function oC(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Gi(x,y),x.index=0,x.sibling=null,x}function a(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,S){return y===null||y.tag!==6?(y=Fm(b,x.mode,S),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,S){var w=b.type;return w===Os?d(x,y,b.props.children,S,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_i&&CS(w)===y.type)?(S=i(y,b.props),S.ref=pl(x,y,b),S.return=x,S):(S=Hd(b.type,b.key,b.props,null,x.mode,S),S.ref=pl(x,y,b),S.return=x,S)}function u(x,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Bm(b,x.mode,S),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function d(x,y,b,S,w){return y===null||y.tag!==7?(y=Ua(b,x.mode,S,w),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Fm(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lu:return b=Hd(y.type,y.key,y.props,null,x.mode,b),b.ref=pl(x,null,y),b.return=x,b;case ks:return y=Bm(y,x.mode,b),y.return=x,y;case _i:var S=y._init;return f(x,S(y._payload),b)}if(Rl(y)||cl(y))return y=Ua(y,x.mode,b,null),y.return=x,y;Ku(x,y)}return null}function h(x,y,b,S){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(x,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lu:return b.key===w?l(x,y,b,S):null;case ks:return b.key===w?u(x,y,b,S):null;case _i:return w=b._init,h(x,y,w(b._payload),S)}if(Rl(b)||cl(b))return w!==null?null:d(x,y,b,S,null);Ku(x,b)}return null}function p(x,y,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,o(y,x,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Lu:return x=x.get(S.key===null?b:S.key)||null,l(y,x,S,w);case ks:return x=x.get(S.key===null?b:S.key)||null,u(y,x,S,w);case _i:var _=S._init;return p(x,y,b,_(S._payload),w)}if(Rl(S)||cl(S))return x=x.get(b)||null,d(y,x,S,w,null);Ku(y,S)}return null}function m(x,y,b,S){for(var w=null,_=null,E=y,j=y=0,A=null;E!==null&&j<b.length;j++){E.index>j?(A=E,E=null):A=E.sibling;var C=h(x,E,b[j],S);if(C===null){E===null&&(E=A);break}t&&E&&C.alternate===null&&e(x,E),y=a(C,y,j),_===null?w=C:_.sibling=C,_=C,E=A}if(j===b.length)return r(x,E),dt&&xa(x,j),w;if(E===null){for(;j<b.length;j++)E=f(x,b[j],S),E!==null&&(y=a(E,y,j),_===null?w=E:_.sibling=E,_=E);return dt&&xa(x,j),w}for(E=n(x,E);j<b.length;j++)A=p(E,x,j,b[j],S),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?j:A.key),y=a(A,y,j),_===null?w=A:_.sibling=A,_=A);return t&&E.forEach(function(O){return e(x,O)}),dt&&xa(x,j),w}function g(x,y,b,S){var w=cl(b);if(typeof w!="function")throw Error(ne(150));if(b=w.call(b),b==null)throw Error(ne(151));for(var _=w=null,E=y,j=y=0,A=null,C=b.next();E!==null&&!C.done;j++,C=b.next()){E.index>j?(A=E,E=null):A=E.sibling;var O=h(x,E,C.value,S);if(O===null){E===null&&(E=A);break}t&&E&&O.alternate===null&&e(x,E),y=a(O,y,j),_===null?w=O:_.sibling=O,_=O,E=A}if(C.done)return r(x,E),dt&&xa(x,j),w;if(E===null){for(;!C.done;j++,C=b.next())C=f(x,C.value,S),C!==null&&(y=a(C,y,j),_===null?w=C:_.sibling=C,_=C);return dt&&xa(x,j),w}for(E=n(x,E);!C.done;j++,C=b.next())C=p(E,x,j,C.value,S),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?j:C.key),y=a(C,y,j),_===null?w=C:_.sibling=C,_=C);return t&&E.forEach(function(P){return e(x,P)}),dt&&xa(x,j),w}function v(x,y,b,S){if(typeof b=="object"&&b!==null&&b.type===Os&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Lu:e:{for(var w=b.key,_=y;_!==null;){if(_.key===w){if(w=b.type,w===Os){if(_.tag===7){r(x,_.sibling),y=i(_,b.props.children),y.return=x,x=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_i&&CS(w)===_.type){r(x,_.sibling),y=i(_,b.props),y.ref=pl(x,_,b),y.return=x,x=y;break e}r(x,_);break}else e(x,_);_=_.sibling}b.type===Os?(y=Ua(b.props.children,x.mode,S,b.key),y.return=x,x=y):(S=Hd(b.type,b.key,b.props,null,x.mode,S),S.ref=pl(x,y,b),S.return=x,x=S)}return s(x);case ks:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=Bm(b,x.mode,S),y.return=x,x=y}return s(x);case _i:return _=b._init,v(x,y,_(b._payload),S)}if(Rl(b))return m(x,y,b,S);if(cl(b))return g(x,y,b,S);Ku(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,b),y.return=x,x=y):(r(x,y),y=Fm(b,x.mode,S),y.return=x,x=y),s(x)):r(x,y)}return v}var oo=oC(!0),lC=oC(!1),ff=ra(null),hf=null,Us=null,vx=null;function yx(){vx=Us=hf=null}function xx(t){var e=ff.current;ut(ff),t._currentValue=e}function Av(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xs(t,e){hf=t,vx=Us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gr=!0),t.firstContext=null)}function Kr(t){var e=t._currentValue;if(vx!==t)if(t={context:t,memoizedValue:e,next:null},Us===null){if(hf===null)throw Error(ne(308));Us=t,hf.dependencies={lanes:0,firstContext:t}}else Us=Us.next=t;return e}var Oa=null;function bx(t){Oa===null?Oa=[t]:Oa.push(t)}function cC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,bx(e)):(r.next=i.next,i.next=r),e.interleaved=r,si(t,n)}function si(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ei=!1;function wx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,si(t,r)}return i=n.interleaved,i===null?(e.next=e,bx(n)):(e.next=i.next,i.next=e),n.interleaved=e,si(t,r)}function Id(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sx(t,r)}}function kS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pf(t,e,r,n){var i=t.updateQueue;Ei=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=vt({},f,h);break e;case 2:Ei=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ya|=s,t.lanes=s,t.memoizedState=f}}function OS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ne(191,i));i.call(n)}}}var vu={},Cn=ra(vu),xc=ra(vu),bc=ra(vu);function Da(t){if(t===vu)throw Error(ne(174));return t}function Sx(t,e){switch(nt(bc,e),nt(xc,t),nt(Cn,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sv(e,t)}ut(Cn),nt(Cn,e)}function lo(){ut(Cn),ut(xc),ut(bc)}function dC(t){Da(bc.current);var e=Da(Cn.current),r=sv(e,t.type);e!==r&&(nt(xc,t),nt(Cn,r))}function _x(t){xc.current===t&&(ut(Cn),ut(xc))}var pt=ra(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mm=[];function Ex(){for(var t=0;t<Mm.length;t++)Mm[t]._workInProgressVersionPrimary=null;Mm.length=0}var $d=fi.ReactCurrentDispatcher,Rm=fi.ReactCurrentBatchConfig,qa=0,gt=null,Ot=null,Lt=null,gf=!1,Vl=!1,wc=0,A$=0;function Kt(){throw Error(ne(321))}function jx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vn(t[r],e[r]))return!1;return!0}function Ax(t,e,r,n,i,a){if(qa=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$d.current=t===null||t.memoizedState===null?k$:O$,t=r(n,i),Vl){a=0;do{if(Vl=!1,wc=0,25<=a)throw Error(ne(301));a+=1,Lt=Ot=null,e.updateQueue=null,$d.current=D$,t=r(n,i)}while(Vl)}if($d.current=vf,e=Ot!==null&&Ot.next!==null,qa=0,Lt=Ot=gt=null,gf=!1,e)throw Error(ne(300));return t}function Tx(){var t=wc!==0;return wc=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?gt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Xr(){if(Ot===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Lt===null?gt.memoizedState:Lt.next;if(e!==null)Lt=e,Ot=t;else{if(t===null)throw Error(ne(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?gt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Sc(t,e){return typeof e=="function"?e(t):e}function Im(t){var e=Xr(),r=e.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=t;var n=Ot,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((qa&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,gt.lanes|=d,Ya|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,vn(n,e.memoizedState)||(gr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,Ya|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $m(t){var e=Xr(),r=e.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);vn(a,e.memoizedState)||(gr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function fC(){}function hC(t,e){var r=gt,n=Xr(),i=e(),a=!vn(n.memoizedState,i);if(a&&(n.memoizedState=i,gr=!0),n=n.queue,Nx(gC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,_c(9,mC.bind(null,r,n,i,e),void 0,null),Ut===null)throw Error(ne(349));qa&30||pC(r,e,i)}return i}function pC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mC(t,e,r,n){e.value=r,e.getSnapshot=n,vC(e)&&yC(t)}function gC(t,e,r){return r(function(){vC(e)&&yC(t)})}function vC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!vn(t,r)}catch{return!0}}function yC(t){var e=si(t,1);e!==null&&gn(e,t,1,-1)}function DS(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:t},e.queue=t,t=t.dispatch=C$.bind(null,gt,t),[e.memoizedState,t]}function _c(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xC(){return Xr().memoizedState}function Ld(t,e,r,n){var i=Sn();gt.flags|=t,i.memoizedState=_c(1|e,r,void 0,n===void 0?null:n)}function ep(t,e,r,n){var i=Xr();n=n===void 0?null:n;var a=void 0;if(Ot!==null){var s=Ot.memoizedState;if(a=s.destroy,n!==null&&jx(n,s.deps)){i.memoizedState=_c(e,r,a,n);return}}gt.flags|=t,i.memoizedState=_c(1|e,r,a,n)}function PS(t,e){return Ld(8390656,8,t,e)}function Nx(t,e){return ep(2048,8,t,e)}function bC(t,e){return ep(4,2,t,e)}function wC(t,e){return ep(4,4,t,e)}function SC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _C(t,e,r){return r=r!=null?r.concat([t]):null,ep(4,4,SC.bind(null,e,t),r)}function Cx(){}function EC(t,e){var r=Xr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jC(t,e){var r=Xr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function AC(t,e,r){return qa&21?(vn(r,e)||(r=ON(),gt.lanes|=r,Ya|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=r)}function T$(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=Rm.transition;Rm.transition={};try{t(!1),e()}finally{Ve=r,Rm.transition=n}}function TC(){return Xr().memoizedState}function N$(t,e,r){var n=Vi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NC(t))CC(e,r);else if(r=cC(t,e,r,n),r!==null){var i=lr();gn(r,t,n,i),kC(r,e,n)}}function C$(t,e,r){var n=Vi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NC(t))CC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,vn(o,s)){var l=e.interleaved;l===null?(i.next=i,bx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=cC(t,e,i,n),r!==null&&(i=lr(),gn(r,t,n,i),kC(r,e,n))}}function NC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function CC(t,e){Vl=gf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function kC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sx(t,r)}}var vf={readContext:Kr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},k$={readContext:Kr,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Kr,useEffect:PS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ld(4194308,4,SC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ld(4,2,t,e)},useMemo:function(t,e){var r=Sn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Sn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=N$.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:DS,useDebugValue:Cx,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=DS(!1),e=t[0];return t=T$.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=Sn();if(dt){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=e(),Ut===null)throw Error(ne(349));qa&30||pC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,PS(gC.bind(null,n,a,t),[t]),n.flags|=2048,_c(9,mC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Sn(),e=Ut.identifierPrefix;if(dt){var r=qn,n=Gn;r=(n&~(1<<32-mn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=A$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O$={readContext:Kr,useCallback:EC,useContext:Kr,useEffect:Nx,useImperativeHandle:_C,useInsertionEffect:bC,useLayoutEffect:wC,useMemo:jC,useReducer:Im,useRef:xC,useState:function(){return Im(Sc)},useDebugValue:Cx,useDeferredValue:function(t){var e=Xr();return AC(e,Ot.memoizedState,t)},useTransition:function(){var t=Im(Sc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:fC,useSyncExternalStore:hC,useId:TC,unstable_isNewReconciler:!1},D$={readContext:Kr,useCallback:EC,useContext:Kr,useEffect:Nx,useImperativeHandle:_C,useInsertionEffect:bC,useLayoutEffect:wC,useMemo:jC,useReducer:$m,useRef:xC,useState:function(){return $m(Sc)},useDebugValue:Cx,useDeferredValue:function(t){var e=Xr();return Ot===null?e.memoizedState=t:AC(e,Ot.memoizedState,t)},useTransition:function(){var t=$m(Sc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:fC,useSyncExternalStore:hC,useId:TC,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Tv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var tp={isMounted:function(t){return(t=t._reactInternals)?ss(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=lr(),i=Vi(t),a=Zn(n,i);a.payload=e,r!=null&&(a.callback=r),e=zi(t,a,i),e!==null&&(gn(e,t,i,n),Id(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=lr(),i=Vi(t),a=Zn(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=zi(t,a,i),e!==null&&(gn(e,t,i,n),Id(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=lr(),n=Vi(t),i=Zn(r,n);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,n),e!==null&&(gn(e,t,n,r),Id(e,t,n))}};function MS(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!mc(r,n)||!mc(i,a):!0}function OC(t,e,r){var n=!1,i=Zi,a=e.contextType;return typeof a=="object"&&a!==null?a=Kr(a):(i=br(e)?Va:ar.current,n=e.contextTypes,a=(n=n!=null)?ao(t,i):Zi),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function RS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&tp.enqueueReplaceState(e,e.state,null)}function Nv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},wx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Kr(a):(a=br(e)?Va:ar.current,i.context=ao(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Tv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tp.enqueueReplaceState(i,i.state,null),pf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function co(t,e){try{var r="",n=e;do r+=sI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Lm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var P$=typeof WeakMap=="function"?WeakMap:Map;function DC(t,e,r){r=Zn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xf||(xf=!0,Uv=n),Cv(t,e)},r}function PC(t,e,r){r=Zn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Cv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Cv(t,e),typeof n!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function IS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new P$;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=q$.bind(null,t,e,r),e.then(t,t))}function $S(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zn(-1,1),e.tag=2,zi(r,e,1))),r.lanes|=1),t)}var M$=fi.ReactCurrentOwner,gr=!1;function sr(t,e,r,n){e.child=t===null?lC(e,null,r,n):oo(e,t.child,r,n)}function US(t,e,r,n,i){r=r.render;var a=e.ref;return Xs(e,i),n=Ax(t,e,r,n,a,i),r=Tx(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(dt&&r&&px(e),e.flags|=1,sr(t,e,n,i),e.child)}function FS(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!$x(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,MC(t,e,a,n,i)):(t=Hd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:mc,r(s,n)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Gi(a,n),t.ref=e.ref,t.return=e,e.child=t}function MC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(mc(a,n)&&t.ref===e.ref)if(gr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,oi(t,e,i)}return kv(t,e,r,n,i)}function RC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Bs,jr),jr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Bs,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,nt(Bs,jr),jr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,nt(Bs,jr),jr|=n;return sr(t,e,i,r),e.child}function IC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function kv(t,e,r,n,i){var a=br(r)?Va:ar.current;return a=ao(e,a),Xs(e,i),r=Ax(t,e,r,n,a,i),n=Tx(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(dt&&n&&px(e),e.flags|=1,sr(t,e,r,i),e.child)}function BS(t,e,r,n,i){if(br(r)){var a=!0;cf(e)}else a=!1;if(Xs(e,i),e.stateNode===null)Ud(t,e),OC(e,r,n),Nv(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=br(r)?Va:ar.current,u=ao(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&RS(e,s,n,u),Ei=!1;var h=e.memoizedState;s.state=h,pf(e,n,s,i),l=e.memoizedState,o!==n||h!==l||xr.current||Ei?(typeof d=="function"&&(Tv(e,r,d,n),l=e.memoizedState),(o=Ei||MS(e,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,uC(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:an(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Kr(l):(l=br(r)?Va:ar.current,l=ao(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&RS(e,s,n,l),Ei=!1,h=e.memoizedState,s.state=h,pf(e,n,s,i);var m=e.memoizedState;o!==f||h!==m||xr.current||Ei?(typeof p=="function"&&(Tv(e,r,p,n),m=e.memoizedState),(u=Ei||MS(e,r,u,n,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Ov(t,e,r,n,a,i)}function Ov(t,e,r,n,i,a){IC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&AS(e,r,!1),oi(t,e,a);n=e.stateNode,M$.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=oo(e,t.child,null,a),e.child=oo(e,null,o,a)):sr(t,e,o,a),e.memoizedState=n.state,i&&AS(e,r,!0),e.child}function $C(t){var e=t.stateNode;e.pendingContext?jS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jS(t,e.context,!1),Sx(t,e.containerInfo)}function HS(t,e,r,n,i){return so(),gx(i),e.flags|=256,sr(t,e,r,n),e.child}var Dv={dehydrated:null,treeContext:null,retryLane:0};function Pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function LC(t,e,r){var n=e.pendingProps,i=pt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(pt,i&1),t===null)return jv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ip(s,n,0,null),t=Ua(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Pv(r),e.memoizedState=Dv,t):kx(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return R$(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Gi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Gi(o,a):(a=Ua(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?Pv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Dv,n}return a=t.child,t=a.sibling,n=Gi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function kx(t,e){return e=ip({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xu(t,e,r,n){return n!==null&&gx(n),oo(e,t.child,null,r),t=kx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R$(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Lm(Error(ne(422))),Xu(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=ip({mode:"visible",children:n.children},i,0,null),a=Ua(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&oo(e,t.child,null,s),e.child.memoizedState=Pv(s),e.memoizedState=Dv,a);if(!(e.mode&1))return Xu(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(ne(419)),n=Lm(a,n,void 0),Xu(t,e,s,n)}if(o=(s&t.childLanes)!==0,gr||o){if(n=Ut,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,si(t,i),gn(n,t,i,-1))}return Ix(),n=Lm(Error(ne(421))),Xu(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y$.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Nr=Hi(i.nextSibling),kr=e,dt=!0,un=null,t!==null&&(Br[Hr++]=Gn,Br[Hr++]=qn,Br[Hr++]=Ga,Gn=t.id,qn=t.overflow,Ga=e),e=kx(e,n.children),e.flags|=4096,e)}function zS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Av(t.return,e,r)}function Um(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function UC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(sr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zS(t,r,e);else if(t.tag===19)zS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nt(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&mf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Um(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Um(e,!0,r,null,a);break;case"together":Um(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ya|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,r=Gi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function I$(t,e,r){switch(e.tag){case 3:$C(e),so();break;case 5:dC(e);break;case 1:br(e.type)&&cf(e);break;case 4:Sx(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;nt(ff,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nt(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?LC(t,e,r):(nt(pt,pt.current&1),t=oi(t,e,r),t!==null?t.sibling:null);nt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return UC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,RC(t,e,r)}return oi(t,e,r)}var FC,Mv,BC,HC;FC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mv=function(){};BC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Da(Cn.current);var a=null;switch(r){case"input":i=rv(t,i),n=rv(t,n),a=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),a=[];break;case"textarea":i=av(t,i),n=av(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=of)}ov(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};HC=function(t,e,r,n){r!==n&&(e.flags|=4)};function ml(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $$(t,e,r){var n=e.pendingProps;switch(mx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return br(e.type)&&lf(),Xt(e),null;case 3:return n=e.stateNode,lo(),ut(xr),ut(ar),Ex(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(Hv(un),un=null))),Mv(t,e),Xt(e),null;case 5:_x(e);var i=Da(bc.current);if(r=e.type,t!==null&&e.stateNode!=null)BC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ne(166));return Xt(e),null}if(t=Da(Cn.current),Yu(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[jn]=e,n[yc]=a,t=(e.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(i=0;i<$l.length;i++)ot($l[i],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":Zw(n,a),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ot("invalid",n);break;case"textarea":eS(n,a),ot("invalid",n)}ov(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&qu(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&qu(n.textContent,o,t),i=["children",""+o]):lc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ot("scroll",n)}switch(r){case"input":Uu(n),Jw(n,a,!0);break;case"textarea":Uu(n),tS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=of)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[jn]=e,t[yc]=n,FC(t,e,!1,!1),e.stateNode=t;e:{switch(s=lv(r,n),r){case"dialog":ot("cancel",t),ot("close",t),i=n;break;case"iframe":case"object":case"embed":ot("load",t),i=n;break;case"video":case"audio":for(i=0;i<$l.length;i++)ot($l[i],t);i=n;break;case"source":ot("error",t),i=n;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=n;break;case"details":ot("toggle",t),i=n;break;case"input":Zw(t,n),i=rv(t,n),ot("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),ot("invalid",t);break;case"textarea":eS(t,n),i=av(t,n),ot("invalid",t);break;default:i=n}ov(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?xN(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vN(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&cc(t,l):typeof l=="number"&&cc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ot("scroll",t):l!=null&&ex(t,a,l,s))}switch(r){case"input":Uu(t),Jw(t,n,!1);break;case"textarea":Uu(t),tS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qi(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Gs(t,!!n.multiple,a,!1):n.defaultValue!=null&&Gs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=of)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)HC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ne(166));if(r=Da(bc.current),Da(Cn.current),Yu(e)){if(n=e.stateNode,r=e.memoizedProps,n[jn]=e,(a=n.nodeValue!==r)&&(t=kr,t!==null))switch(t.tag){case 3:qu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qu(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jn]=e,e.stateNode=n}return Xt(e),null;case 13:if(ut(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Nr!==null&&e.mode&1&&!(e.flags&128))sC(),so(),e.flags|=98560,a=!1;else if(a=Yu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ne(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[jn]=e}else so(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),a=!1}else un!==null&&(Hv(un),un=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Dt===0&&(Dt=3):Ix())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return lo(),Mv(t,e),t===null&&gc(e.stateNode.containerInfo),Xt(e),null;case 10:return xx(e.type._context),Xt(e),null;case 17:return br(e.type)&&lf(),Xt(e),null;case 19:if(ut(pt),a=e.memoizedState,a===null)return Xt(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)ml(a,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=mf(t),s!==null){for(e.flags|=128,ml(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nt(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&wt()>uo&&(e.flags|=128,n=!0,ml(a,!1),e.lanes=4194304)}else{if(!n)if(t=mf(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ml(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!dt)return Xt(e),null}else 2*wt()-a.renderingStartTime>uo&&r!==1073741824&&(e.flags|=128,n=!0,ml(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wt(),e.sibling=null,r=pt.current,nt(pt,n?r&1|2:r&1),e):(Xt(e),null);case 22:case 23:return Rx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jr&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function L$(t,e){switch(mx(e),e.tag){case 1:return br(e.type)&&lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lo(),ut(xr),ut(ar),Ex(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _x(e),null;case 13:if(ut(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));so()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(pt),null;case 4:return lo(),null;case 10:return xx(e.type._context),null;case 22:case 23:return Rx(),null;case 24:return null;default:return null}}var Qu=!1,Jt=!1,U$=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Fs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function Rv(t,e,r){try{r()}catch(n){xt(t,e,n)}}var WS=!1;function F$(t,e){if(yv=nf,t=qN(),hx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(xv={focusedElem:t,selectionRange:r},nf=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:an(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){xt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return m=WS,WS=!1,m}function Gl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Rv(e,r,a)}i=i.next}while(i!==n)}}function rp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Iv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function zC(t){var e=t.alternate;e!==null&&(t.alternate=null,zC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[yc],delete e[Sv],delete e[S$],delete e[_$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WC(t){return t.tag===5||t.tag===3||t.tag===4}function VS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $v(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=of));else if(n!==4&&(t=t.child,t!==null))for($v(t,e,r),t=t.sibling;t!==null;)$v(t,e,r),t=t.sibling}function Lv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Lv(t,e,r),t=t.sibling;t!==null;)Lv(t,e,r),t=t.sibling}var zt=null,sn=!1;function xi(t,e,r){for(r=r.child;r!==null;)VC(t,e,r),r=r.sibling}function VC(t,e,r){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Yh,r)}catch{}switch(r.tag){case 5:Jt||Fs(r,e);case 6:var n=zt,i=sn;zt=null,xi(t,e,r),zt=n,sn=i,zt!==null&&(sn?(t=zt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(sn?(t=zt,r=r.stateNode,t.nodeType===8?Dm(t.parentNode,r):t.nodeType===1&&Dm(t,r),hc(t)):Dm(zt,r.stateNode));break;case 4:n=zt,i=sn,zt=r.stateNode.containerInfo,sn=!0,xi(t,e,r),zt=n,sn=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Rv(r,e,s),i=i.next}while(i!==n)}xi(t,e,r);break;case 1:if(!Jt&&(Fs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xt(r,e,o)}xi(t,e,r);break;case 21:xi(t,e,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,xi(t,e,r),Jt=n):xi(t,e,r);break;default:xi(t,e,r)}}function GS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new U$),e.forEach(function(n){var i=K$.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function en(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:zt=o.stateNode,sn=!1;break e;case 3:zt=o.stateNode.containerInfo,sn=!0;break e;case 4:zt=o.stateNode.containerInfo,sn=!0;break e}o=o.return}if(zt===null)throw Error(ne(160));VC(a,s,i),zt=null,sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GC(e,t),e=e.sibling}function GC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),wn(t),n&4){try{Gl(3,t,t.return),rp(3,t)}catch(g){xt(t,t.return,g)}try{Gl(5,t,t.return)}catch(g){xt(t,t.return,g)}}break;case 1:en(e,t),wn(t),n&512&&r!==null&&Fs(r,r.return);break;case 5:if(en(e,t),wn(t),n&512&&r!==null&&Fs(r,r.return),t.flags&32){var i=t.stateNode;try{cc(i,"")}catch(g){xt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&pN(i,a),lv(o,s);var u=lv(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?xN(i,f):d==="dangerouslySetInnerHTML"?vN(i,f):d==="children"?cc(i,f):ex(i,d,f,u)}switch(o){case"input":nv(i,a);break;case"textarea":mN(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Gs(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Gs(i,!!a.multiple,a.defaultValue,!0):Gs(i,!!a.multiple,a.multiple?[]:"",!1))}i[yc]=a}catch(g){xt(t,t.return,g)}}break;case 6:if(en(e,t),wn(t),n&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){xt(t,t.return,g)}}break;case 3:if(en(e,t),wn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hc(e.containerInfo)}catch(g){xt(t,t.return,g)}break;case 4:en(e,t),wn(t);break;case 13:en(e,t),wn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Px=wt())),n&4&&GS(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||d,en(e,t),Jt=u):en(e,t),wn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(f=pe=d;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gl(4,h,h.return);break;case 1:Fs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){xt(n,r,g)}}break;case 5:Fs(h,h.return);break;case 22:if(h.memoizedState!==null){YS(f);continue}}p!==null?(p.return=h,pe=p):YS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yN("display",s))}catch(g){xt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){xt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(e,t),wn(t),n&4&&GS(t);break;case 21:break;default:en(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(WC(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(cc(i,""),n.flags&=-33);var a=VS(t);Lv(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=VS(t);$v(t,o,s);break;default:throw Error(ne(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B$(t,e,r){pe=t,qC(t)}function qC(t,e,r){for(var n=(t.mode&1)!==0;pe!==null;){var i=pe,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Qu;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Jt;o=Qu;var u=Jt;if(Qu=s,(Jt=l)&&!u)for(pe=i;pe!==null;)s=pe,l=s.child,s.tag===22&&s.memoizedState!==null?KS(i):l!==null?(l.return=s,pe=l):KS(i);for(;a!==null;)pe=a,qC(a),a=a.sibling;pe=i,Qu=o,Jt=u}qS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,pe=a):qS(t)}}function qS(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||rp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:an(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&OS(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}OS(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Jt||e.flags&512&&Iv(e)}catch(h){xt(e,e.return,h)}}if(e===t){pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,pe=r;break}pe=e.return}}function YS(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pe=r;break}pe=e.return}}function KS(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{rp(4,e)}catch(l){xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xt(e,i,l)}}var a=e.return;try{Iv(e)}catch(l){xt(e,a,l)}break;case 5:var s=e.return;try{Iv(e)}catch(l){xt(e,s,l)}}}catch(l){xt(e,e.return,l)}if(e===t){pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,pe=o;break}pe=e.return}}var H$=Math.ceil,yf=fi.ReactCurrentDispatcher,Ox=fi.ReactCurrentOwner,Gr=fi.ReactCurrentBatchConfig,Ie=0,Ut=null,Tt=null,Gt=0,jr=0,Bs=ra(0),Dt=0,Ec=null,Ya=0,np=0,Dx=0,ql=null,pr=null,Px=0,uo=1/0,Hn=null,xf=!1,Uv=null,Wi=null,Zu=!1,Pi=null,bf=0,Yl=0,Fv=null,Fd=-1,Bd=0;function lr(){return Ie&6?wt():Fd!==-1?Fd:Fd=wt()}function Vi(t){return t.mode&1?Ie&2&&Gt!==0?Gt&-Gt:j$.transition!==null?(Bd===0&&(Bd=ON()),Bd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:LN(t.type)),t):1}function gn(t,e,r,n){if(50<Yl)throw Yl=0,Fv=null,Error(ne(185));pu(t,r,n),(!(Ie&2)||t!==Ut)&&(t===Ut&&(!(Ie&2)&&(np|=r),Dt===4&&Ci(t,Gt)),wr(t,n),r===1&&Ie===0&&!(e.mode&1)&&(uo=wt()+500,Jh&&na()))}function wr(t,e){var r=t.callbackNode;jI(t,e);var n=rf(t,t===Ut?Gt:0);if(n===0)r!==null&&iS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&iS(r),e===1)t.tag===0?E$(XS.bind(null,t)):nC(XS.bind(null,t)),b$(function(){!(Ie&6)&&na()}),r=null;else{switch(DN(n)){case 1:r=ax;break;case 4:r=CN;break;case 16:r=tf;break;case 536870912:r=kN;break;default:r=tf}r=tk(r,YC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function YC(t,e){if(Fd=-1,Bd=0,Ie&6)throw Error(ne(327));var r=t.callbackNode;if(Qs()&&t.callbackNode!==r)return null;var n=rf(t,t===Ut?Gt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=wf(t,n);else{e=n;var i=Ie;Ie|=2;var a=XC();(Ut!==t||Gt!==e)&&(Hn=null,uo=wt()+500,La(t,e));do try{V$();break}catch(o){KC(t,o)}while(1);yx(),yf.current=a,Ie=i,Tt!==null?e=0:(Ut=null,Gt=0,e=Dt)}if(e!==0){if(e===2&&(i=hv(t),i!==0&&(n=i,e=Bv(t,i))),e===1)throw r=Ec,La(t,0),Ci(t,n),wr(t,wt()),r;if(e===6)Ci(t,n);else{if(i=t.current.alternate,!(n&30)&&!z$(i)&&(e=wf(t,n),e===2&&(a=hv(t),a!==0&&(n=a,e=Bv(t,a))),e===1))throw r=Ec,La(t,0),Ci(t,n),wr(t,wt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ne(345));case 2:ba(t,pr,Hn);break;case 3:if(Ci(t,n),(n&130023424)===n&&(e=Px+500-wt(),10<e)){if(rf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wv(ba.bind(null,t,pr,Hn),e);break}ba(t,pr,Hn);break;case 4:if(Ci(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-mn(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*H$(n/1960))-n,10<n){t.timeoutHandle=wv(ba.bind(null,t,pr,Hn),n);break}ba(t,pr,Hn);break;case 5:ba(t,pr,Hn);break;default:throw Error(ne(329))}}}return wr(t,wt()),t.callbackNode===r?YC.bind(null,t):null}function Bv(t,e){var r=ql;return t.current.memoizedState.isDehydrated&&(La(t,e).flags|=256),t=wf(t,e),t!==2&&(e=pr,pr=r,e!==null&&Hv(e)),t}function Hv(t){pr===null?pr=t:pr.push.apply(pr,t)}function z$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!vn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~Dx,e&=~np,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-mn(e),n=1<<r;t[r]=-1,e&=~n}}function XS(t){if(Ie&6)throw Error(ne(327));Qs();var e=rf(t,0);if(!(e&1))return wr(t,wt()),null;var r=wf(t,e);if(t.tag!==0&&r===2){var n=hv(t);n!==0&&(e=n,r=Bv(t,n))}if(r===1)throw r=Ec,La(t,0),Ci(t,e),wr(t,wt()),r;if(r===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ba(t,pr,Hn),wr(t,wt()),null}function Mx(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(uo=wt()+500,Jh&&na())}}function Ka(t){Pi!==null&&Pi.tag===0&&!(Ie&6)&&Qs();var e=Ie;Ie|=1;var r=Gr.transition,n=Ve;try{if(Gr.transition=null,Ve=1,t)return t()}finally{Ve=n,Gr.transition=r,Ie=e,!(Ie&6)&&na()}}function Rx(){jr=Bs.current,ut(Bs)}function La(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,x$(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(mx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lf();break;case 3:lo(),ut(xr),ut(ar),Ex();break;case 5:_x(n);break;case 4:lo();break;case 13:ut(pt);break;case 19:ut(pt);break;case 10:xx(n.type._context);break;case 22:case 23:Rx()}r=r.return}if(Ut=t,Tt=t=Gi(t.current,null),Gt=jr=e,Dt=0,Ec=null,Dx=np=Ya=0,pr=ql=null,Oa!==null){for(e=0;e<Oa.length;e++)if(r=Oa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Oa=null}return t}function KC(t,e){do{var r=Tt;try{if(yx(),$d.current=vf,gf){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gf=!1}if(qa=0,Lt=Ot=gt=null,Vl=!1,wc=0,Ox.current=null,r===null||r.return===null){Dt=1,Ec=e,Tt=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Gt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=$S(s);if(p!==null){p.flags&=-257,LS(p,s,o,a,e),p.mode&1&&IS(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){IS(a,u,e),Ix();break e}l=Error(ne(426))}}else if(dt&&o.mode&1){var v=$S(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),LS(v,s,o,a,e),gx(co(l,o));break e}}a=l=co(l,o),Dt!==4&&(Dt=2),ql===null?ql=[a]:ql.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=DC(a,l,e);kS(a,x);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wi===null||!Wi.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=PC(a,o,e);kS(a,S);break e}}a=a.return}while(a!==null)}ZC(r)}catch(w){e=w,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(1)}function XC(){var t=yf.current;return yf.current=vf,t===null?vf:t}function Ix(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ut===null||!(Ya&268435455)&&!(np&268435455)||Ci(Ut,Gt)}function wf(t,e){var r=Ie;Ie|=2;var n=XC();(Ut!==t||Gt!==e)&&(Hn=null,La(t,e));do try{W$();break}catch(i){KC(t,i)}while(1);if(yx(),Ie=r,yf.current=n,Tt!==null)throw Error(ne(261));return Ut=null,Gt=0,Dt}function W$(){for(;Tt!==null;)QC(Tt)}function V$(){for(;Tt!==null&&!gI();)QC(Tt)}function QC(t){var e=ek(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?ZC(t):Tt=e,Ox.current=null}function ZC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=L$(r,e),r!==null){r.flags&=32767,Tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Tt=null;return}}else if(r=$$(r,e,jr),r!==null){Tt=r;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Dt===0&&(Dt=5)}function ba(t,e,r){var n=Ve,i=Gr.transition;try{Gr.transition=null,Ve=1,G$(t,e,r,n)}finally{Gr.transition=i,Ve=n}return null}function G$(t,e,r,n){do Qs();while(Pi!==null);if(Ie&6)throw Error(ne(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(AI(t,a),t===Ut&&(Tt=Ut=null,Gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zu||(Zu=!0,tk(tf,function(){return Qs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Gr.transition,Gr.transition=null;var s=Ve;Ve=1;var o=Ie;Ie|=4,Ox.current=null,F$(t,r),GC(r,t),f$(xv),nf=!!yv,xv=yv=null,t.current=r,B$(r),vI(),Ie=o,Ve=s,Gr.transition=a}else t.current=r;if(Zu&&(Zu=!1,Pi=t,bf=i),a=t.pendingLanes,a===0&&(Wi=null),bI(r.stateNode),wr(t,wt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xf)throw xf=!1,t=Uv,Uv=null,t;return bf&1&&t.tag!==0&&Qs(),a=t.pendingLanes,a&1?t===Fv?Yl++:(Yl=0,Fv=t):Yl=0,na(),null}function Qs(){if(Pi!==null){var t=DN(bf),e=Gr.transition,r=Ve;try{if(Gr.transition=null,Ve=16>t?16:t,Pi===null)var n=!1;else{if(t=Pi,Pi=null,bf=0,Ie&6)throw Error(ne(331));var i=Ie;for(Ie|=4,pe=t.current;pe!==null;){var a=pe,s=a.child;if(pe.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(pe=u;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:Gl(8,d,a)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var h=d.sibling,p=d.return;if(zC(d),d===u){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}pe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,pe=s;else e:for(;pe!==null;){if(a=pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Gl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,pe=x;break e}pe=a.return}}var y=t.current;for(pe=y;pe!==null;){s=pe;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,pe=b;else e:for(s=y;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rp(9,o)}}catch(w){xt(o,o.return,w)}if(o===s){pe=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,pe=S;break e}pe=o.return}}if(Ie=i,na(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Yh,t)}catch{}n=!0}return n}finally{Ve=r,Gr.transition=e}}return!1}function QS(t,e,r){e=co(r,e),e=DC(t,e,1),t=zi(t,e,1),e=lr(),t!==null&&(pu(t,1,e),wr(t,e))}function xt(t,e,r){if(t.tag===3)QS(t,t,r);else for(;e!==null;){if(e.tag===3){QS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wi===null||!Wi.has(n))){t=co(r,t),t=PC(e,t,1),e=zi(e,t,1),t=lr(),e!==null&&(pu(e,1,t),wr(e,t));break}}e=e.return}}function q$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=lr(),t.pingedLanes|=t.suspendedLanes&r,Ut===t&&(Gt&r)===r&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>wt()-Px?La(t,0):Dx|=r),wr(t,e)}function JC(t,e){e===0&&(t.mode&1?(e=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):e=1);var r=lr();t=si(t,e),t!==null&&(pu(t,e,r),wr(t,r))}function Y$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),JC(t,r)}function K$(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(e),JC(t,r)}var ek;ek=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return gr=!1,I$(t,e,r);gr=!!(t.flags&131072)}else gr=!1,dt&&e.flags&1048576&&iC(e,df,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ud(t,e),t=e.pendingProps;var i=ao(e,ar.current);Xs(e,r),i=Ax(null,e,n,t,i,r);var a=Tx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,br(n)?(a=!0,cf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wx(e),i.updater=tp,e.stateNode=i,i._reactInternals=e,Nv(e,n,t,r),e=Ov(null,e,n,!0,a,r)):(e.tag=0,dt&&a&&px(e),sr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ud(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Q$(n),t=an(n,t),i){case 0:e=kv(null,e,n,t,r);break e;case 1:e=BS(null,e,n,t,r);break e;case 11:e=US(null,e,n,t,r);break e;case 14:e=FS(null,e,n,an(n.type,t),r);break e}throw Error(ne(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),kv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),BS(t,e,n,i,r);case 3:e:{if($C(e),t===null)throw Error(ne(387));n=e.pendingProps,a=e.memoizedState,i=a.element,uC(t,e),pf(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=co(Error(ne(423)),e),e=HS(t,e,n,r,i);break e}else if(n!==i){i=co(Error(ne(424)),e),e=HS(t,e,n,r,i);break e}else for(Nr=Hi(e.stateNode.containerInfo.firstChild),kr=e,dt=!0,un=null,r=lC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(so(),n===i){e=oi(t,e,r);break e}sr(t,e,n,r)}e=e.child}return e;case 5:return dC(e),t===null&&jv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,bv(n,i)?s=null:a!==null&&bv(n,a)&&(e.flags|=32),IC(t,e),sr(t,e,s,r),e.child;case 6:return t===null&&jv(e),null;case 13:return LC(t,e,r);case 4:return Sx(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=oo(e,null,n,r):sr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),US(t,e,n,i,r);case 7:return sr(t,e,e.pendingProps,r),e.child;case 8:return sr(t,e,e.pendingProps.children,r),e.child;case 12:return sr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,nt(ff,n._currentValue),n._currentValue=s,a!==null)if(vn(a.value,s)){if(a.children===i.children&&!xr.current){e=oi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Zn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Av(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ne(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Av(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}sr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Xs(e,r),i=Kr(i),n=n(i),e.flags|=1,sr(t,e,n,r),e.child;case 14:return n=e.type,i=an(n,e.pendingProps),i=an(n.type,i),FS(t,e,n,i,r);case 15:return MC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),Ud(t,e),e.tag=1,br(n)?(t=!0,cf(e)):t=!1,Xs(e,r),OC(e,n,i),Nv(e,n,i,r),Ov(null,e,n,!0,t,r);case 19:return UC(t,e,r);case 22:return RC(t,e,r)}throw Error(ne(156,e.tag))};function tk(t,e){return NN(t,e)}function X$(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,r,n){return new X$(t,e,r,n)}function $x(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q$(t){if(typeof t=="function")return $x(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rx)return 11;if(t===nx)return 14}return 2}function Gi(t,e){var r=t.alternate;return r===null?(r=Wr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hd(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")$x(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Os:return Ua(r.children,i,a,e);case tx:s=8,i|=8;break;case Zg:return t=Wr(12,r,e,i|2),t.elementType=Zg,t.lanes=a,t;case Jg:return t=Wr(13,r,e,i),t.elementType=Jg,t.lanes=a,t;case ev:return t=Wr(19,r,e,i),t.elementType=ev,t.lanes=a,t;case dN:return ip(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cN:s=10;break e;case uN:s=9;break e;case rx:s=11;break e;case nx:s=14;break e;case _i:s=16,n=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Wr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ua(t,e,r,n){return t=Wr(7,t,n,e),t.lanes=r,t}function ip(t,e,r,n){return t=Wr(22,t,n,e),t.elementType=dN,t.lanes=r,t.stateNode={isHidden:!1},t}function Fm(t,e,r){return t=Wr(6,t,null,e),t.lanes=r,t}function Bm(t,e,r){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z$(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wm(0),this.expirationTimes=wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lx(t,e,r,n,i,a,s,o,l){return t=new Z$(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Wr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wx(a),t}function J$(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rk(t){if(!t)return Zi;t=t._reactInternals;e:{if(ss(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(br(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var r=t.type;if(br(r))return rC(t,r,e)}return e}function nk(t,e,r,n,i,a,s,o,l){return t=Lx(r,n,!0,t,i,a,s,o,l),t.context=rk(null),r=t.current,n=lr(),i=Vi(r),a=Zn(n,i),a.callback=e??null,zi(r,a,i),t.current.lanes=i,pu(t,i,n),wr(t,n),t}function ap(t,e,r,n){var i=e.current,a=lr(),s=Vi(i);return r=rk(r),e.context===null?e.context=r:e.pendingContext=r,e=Zn(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=zi(i,e,s),t!==null&&(gn(t,i,s,a),Id(t,i,s)),s}function Sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ux(t,e){ZS(t,e),(t=t.alternate)&&ZS(t,e)}function eL(){return null}var ik=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fx(t){this._internalRoot=t}sp.prototype.render=Fx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));ap(t,e,null,null)};sp.prototype.unmount=Fx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ka(function(){ap(null,t,null,null)}),e[ai]=null}};function sp(t){this._internalRoot=t}sp.prototype.unstable_scheduleHydration=function(t){if(t){var e=RN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ni.length&&e!==0&&e<Ni[r].priority;r++);Ni.splice(r,0,t),r===0&&$N(t)}};function Bx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function op(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JS(){}function tL(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Sf(s);a.call(u)}}var s=nk(e,n,t,0,null,!1,!1,"",JS);return t._reactRootContainer=s,t[ai]=s.current,gc(t.nodeType===8?t.parentNode:t),Ka(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Sf(l);o.call(u)}}var l=Lx(t,0,!1,null,null,!1,!1,"",JS);return t._reactRootContainer=l,t[ai]=l.current,gc(t.nodeType===8?t.parentNode:t),Ka(function(){ap(e,l,r,n)}),l}function lp(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Sf(s);o.call(l)}}ap(e,s,t,i)}else s=tL(r,e,t,i,n);return Sf(s)}PN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Il(e.pendingLanes);r!==0&&(sx(e,r|1),wr(e,wt()),!(Ie&6)&&(uo=wt()+500,na()))}break;case 13:Ka(function(){var n=si(t,1);if(n!==null){var i=lr();gn(n,t,1,i)}}),Ux(t,1)}};ox=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var r=lr();gn(e,t,134217728,r)}Ux(t,134217728)}};MN=function(t){if(t.tag===13){var e=Vi(t),r=si(t,e);if(r!==null){var n=lr();gn(r,t,e,n)}Ux(t,e)}};RN=function(){return Ve};IN=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};uv=function(t,e,r){switch(e){case"input":if(nv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Zh(n);if(!i)throw Error(ne(90));hN(n),nv(n,i)}}}break;case"textarea":mN(t,r);break;case"select":e=r.value,e!=null&&Gs(t,!!r.multiple,e,!1)}};SN=Mx;_N=Ka;var rL={usingClientEntryPoint:!1,Events:[gu,Rs,Zh,bN,wN,Mx]},gl={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nL={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AN(t),t===null?null:t.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||eL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Yh=Ju.inject(nL),Nn=Ju}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rL;Rr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bx(e))throw Error(ne(200));return J$(t,e,null,r)};Rr.createRoot=function(t,e){if(!Bx(t))throw Error(ne(299));var r=!1,n="",i=ik;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lx(t,1,!1,null,null,r,!1,n,i),t[ai]=e.current,gc(t.nodeType===8?t.parentNode:t),new Fx(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=AN(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return Ka(t)};Rr.hydrate=function(t,e,r){if(!op(e))throw Error(ne(200));return lp(null,t,e,!0,r)};Rr.hydrateRoot=function(t,e,r){if(!Bx(t))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=ik;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=nk(e,null,t,1,r??null,i,!1,a,s),t[ai]=e.current,gc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new sp(e)};Rr.render=function(t,e,r){if(!op(e))throw Error(ne(200));return lp(null,t,e,!1,r)};Rr.unmountComponentAtNode=function(t){if(!op(t))throw Error(ne(40));return t._reactRootContainer?(Ka(function(){lp(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Rr.unstable_batchedUpdates=Mx;Rr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!op(r))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return lp(t,e,r,!1,n)};Rr.version="18.3.1-next-f1338f8080-20240426";function ak(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ak)}catch(t){console.error(t)}}ak(),aN.exports=Rr;var _f=aN.exports,e_=_f;Xg.createRoot=e_.createRoot,Xg.hydrateRoot=e_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jc.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const t_="popstate";function iL(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return zv("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ef(i)}return sL(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aL(){return Math.random().toString(36).substr(2,8)}function r_(t,e){return{usr:t.state,key:t.key,idx:e}}function zv(t,e,r,n){return r===void 0&&(r=null),jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zo(e):e,{state:r,key:e&&e.key||n||aL()})}function Ef(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function zo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function sL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Mi.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(jc({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Mi.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:x})}function h(v,x){o=Mi.Push;let y=zv(g.location,v,x);r&&r(y,v),u=d()+1;let b=r_(y,u),S=g.createHref(y);try{s.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}a&&l&&l({action:o,location:g.location,delta:1})}function p(v,x){o=Mi.Replace;let y=zv(g.location,v,x);r&&r(y,v),u=d();let b=r_(y,u),S=g.createHref(y);s.replaceState(b,"",S),a&&l&&l({action:o,location:g.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Ef(v);return y=y.replace(/ $/,"%20"),_t(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(t_,f),l=v,()=>{i.removeEventListener(t_,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var n_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(n_||(n_={}));function oL(t,e,r){return r===void 0&&(r="/"),lL(t,e,r,!1)}function lL(t,e,r,n){let i=typeof e=="string"?zo(e):e,a=Hx(i.pathname||"/",r);if(a==null)return null;let s=ok(t);cL(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=bL(a);o=yL(s[l],u,n)}return o}function ok(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=qi([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ok(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:gL(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of lk(a.path))i(a,s,l)}),e}function lk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=lk(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function cL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:vL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uL=/^:[\w-]+$/,dL=3,fL=2,hL=1,pL=10,mL=-2,i_=t=>t==="*";function gL(t,e){let r=t.split("/"),n=r.length;return r.some(i_)&&(n+=mL),e&&(n+=fL),r.filter(i=>!i_(i)).reduce((i,a)=>i+(uL.test(a)?dL:a===""?hL:pL),n)}function vL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function yL(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=a_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=a_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:qi([a,f.pathname]),pathnameBase:EL(qi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=qi([a,f.pathnameBase]))}return s}function a_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=xL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function xL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function bL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function wL(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?zo(t):t;return{pathname:r?r.startsWith("/")?r:SL(r,e):e,search:jL(n),hash:AL(i)}}function SL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Hm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _L(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zx(t,e){let r=_L(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Wx(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=zo(t):(i=jc({},t),_t(!i.pathname||!i.pathname.includes("?"),Hm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Hm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Hm("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=wL(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const qi=t=>t.join("/").replace(/\/\/+/g,"/"),EL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ck=["post","put","patch","delete"];new Set(ck);const NL=["get",...ck];new Set(NL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ac.apply(this,arguments)}const Vx=N.createContext(null),CL=N.createContext(null),ia=N.createContext(null),cp=N.createContext(null),aa=N.createContext({outlet:null,matches:[],isDataRoute:!1}),uk=N.createContext(null);function kL(t,e){let{relative:r}=e===void 0?{}:e;Wo()||_t(!1);let{basename:n,navigator:i}=N.useContext(ia),{hash:a,pathname:s,search:o}=hk(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:qi([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Wo(){return N.useContext(cp)!=null}function Vo(){return Wo()||_t(!1),N.useContext(cp).location}function dk(t){N.useContext(ia).static||N.useLayoutEffect(t)}function fk(){let{isDataRoute:t}=N.useContext(aa);return t?zL():OL()}function OL(){Wo()||_t(!1);let t=N.useContext(Vx),{basename:e,future:r,navigator:n}=N.useContext(ia),{matches:i}=N.useContext(aa),{pathname:a}=Vo(),s=JSON.stringify(zx(i,r.v7_relativeSplatPath)),o=N.useRef(!1);return dk(()=>{o.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Wx(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qi([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function hk(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=N.useContext(ia),{matches:i}=N.useContext(aa),{pathname:a}=Vo(),s=JSON.stringify(zx(i,n.v7_relativeSplatPath));return N.useMemo(()=>Wx(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function DL(t,e){return PL(t,e)}function PL(t,e,r,n){Wo()||_t(!1);let{navigator:i}=N.useContext(ia),{matches:a}=N.useContext(aa),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Vo(),d;if(e){var f;let v=typeof e=="string"?zo(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||_t(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=oL(t,{pathname:p}),g=LL(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:qi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:qi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&g?N.createElement(cp.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mi.Pop}},g):g}function ML(){let t=HL(),e=TL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,a)}const RL=N.createElement(ML,null);class IL extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(aa.Provider,{value:this.props.routeContext},N.createElement(uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $L(t){let{routeContext:e,match:r,children:n}=t,i=N.useContext(Vx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(aa.Provider,{value:e},n)}function LL(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_t(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||RL,l&&(u<0&&h===0?(WL("route-fallback",!1),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return p?b=g:m?b=v:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,N.createElement($L,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(IL,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var pk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pk||{}),jf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jf||{});function UL(t){let e=N.useContext(Vx);return e||_t(!1),e}function FL(t){let e=N.useContext(CL);return e||_t(!1),e}function BL(t){let e=N.useContext(aa);return e||_t(!1),e}function mk(t){let e=BL(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function HL(){var t;let e=N.useContext(uk),r=FL(jf.UseRouteError),n=mk(jf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function zL(){let{router:t}=UL(pk.UseNavigateStable),e=mk(jf.UseNavigateStable),r=N.useRef(!1);return dk(()=>{r.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ac({fromRouteId:e},a)))},[t,e])}const s_={};function WL(t,e,r){!e&&!s_[t]&&(s_[t]=!0)}function VL(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function GL(t){let{to:e,replace:r,state:n,relative:i}=t;Wo()||_t(!1);let{future:a,static:s}=N.useContext(ia),{matches:o}=N.useContext(aa),{pathname:l}=Vo(),u=fk(),d=Wx(e,zx(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function hr(t){_t(!1)}function qL(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Mi.Pop,navigator:a,static:s=!1,future:o}=t;Wo()&&_t(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:a,static:s,future:Ac({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=zo(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=N.useMemo(()=>{let v=Hx(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:N.createElement(ia.Provider,{value:u},N.createElement(cp.Provider,{children:r,value:g}))}function YL(t){let{children:e,location:r}=t;return DL(Wv(e),r)}new Promise(()=>{});function Wv(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let a=[...e,i];if(n.type===N.Fragment){r.push.apply(r,Wv(n.props.children,a));return}n.type!==hr&&_t(!1),!n.props.index||!n.props.children||_t(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Wv(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(this,arguments)}function KL(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function XL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QL(t,e){return t.button===0&&(!e||e==="_self")&&!XL(t)}const ZL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JL="6";try{window.__reactRouterVersion=JL}catch{}const e4="startTransition",o_=qR[e4];function t4(t){let{basename:e,children:r,future:n,window:i}=t,a=N.useRef();a.current==null&&(a.current=iL({window:i,v5Compat:!0}));let s=a.current,[o,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=N.useCallback(f=>{u&&o_?o_(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>s.listen(d),[s,d]),N.useEffect(()=>VL(n),[n]),N.createElement(qL,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const r4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ys=N.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=KL(e,ZL),{basename:p}=N.useContext(ia),m,g=!1;if(typeof u=="string"&&n4.test(u)&&(m=u,r4))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=Hx(S.pathname,p);S.origin===b.origin&&w!=null?u=w+S.search+S.hash:g=!0}catch{}let v=kL(u,{relative:i}),x=i4(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||x(b)}return N.createElement("a",Vv({},h,{href:m||v,onClick:g||a?n:y,ref:r,target:l}))});var l_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(l_||(l_={}));var c_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c_||(c_={}));function i4(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=fk(),u=Vo(),d=hk(t,{relative:s});return N.useCallback(f=>{if(QL(f,r)){f.preventDefault();let h=n!==void 0?n:Ef(u)===Ef(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}const a4="modulepreload",s4=function(t){return"/scrub-shop-road-app/"+t},u_={},yu=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=s4(a),a in u_)return;u_[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":a4,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},o4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yu(()=>Promise.resolve().then(()=>Go),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Gx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class l4 extends Gx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class d_ extends Gx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f_ extends Gx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gv||(Gv={}));var c4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class u4{constructor(e,{headers:r={},customFetch:n,region:i=Gv.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=o4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return c4(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new l4(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new d_(f);if(!f.ok)throw new f_(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof f_||i instanceof d_?i.context:void 0}}})}}var mr={},qx={},up={},xu={},dp={},fp={},d4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fo=d4();const f4=fo.fetch,gk=fo.fetch.bind(fo),vk=fo.Headers,h4=fo.Request,p4=fo.Response,Go=Object.freeze(Object.defineProperty({__proto__:null,Headers:vk,Request:h4,Response:p4,default:gk,fetch:f4},Symbol.toStringTag,{value:"Module"})),m4=OR(Go);var hp={};Object.defineProperty(hp,"__esModule",{value:!0});let g4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};hp.default=g4;var yk=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fp,"__esModule",{value:!0});const v4=yk(m4),y4=yk(hp);let x4=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=v4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new y4.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};fp.default=x4;var b4=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dp,"__esModule",{value:!0});const w4=b4(fp);let S4=class extends w4.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};dp.default=S4;var _4=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xu,"__esModule",{value:!0});const E4=_4(dp);let j4=class extends E4.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};xu.default=j4;var A4=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(up,"__esModule",{value:!0});const vl=A4(xu);let T4=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new vl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new vl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new vl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new vl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new vl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};up.default=T4;var pp={},mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.version=void 0;mp.version="0.0.0-automated";Object.defineProperty(pp,"__esModule",{value:!0});pp.DEFAULT_HEADERS=void 0;const N4=mp;pp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${N4.version}`};var xk=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qx,"__esModule",{value:!0});const C4=xk(up),k4=xk(xu),O4=pp;let D4=class bk{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},O4.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new C4.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bk(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new k4.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};qx.default=D4;var qo=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mr,"__esModule",{value:!0});mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const wk=qo(qx);mr.PostgrestClient=wk.default;const Sk=qo(up);mr.PostgrestQueryBuilder=Sk.default;const _k=qo(xu);mr.PostgrestFilterBuilder=_k.default;const Ek=qo(dp);mr.PostgrestTransformBuilder=Ek.default;const jk=qo(fp);mr.PostgrestBuilder=jk.default;const Ak=qo(hp);mr.PostgrestError=Ak.default;var P4=mr.default={PostgrestClient:wk.default,PostgrestQueryBuilder:Sk.default,PostgrestFilterBuilder:_k.default,PostgrestTransformBuilder:Ek.default,PostgrestBuilder:jk.default,PostgrestError:Ak.default};const{PostgrestClient:M4,PostgrestQueryBuilder:vye,PostgrestFilterBuilder:yye,PostgrestTransformBuilder:xye,PostgrestBuilder:bye,PostgrestError:wye}=P4;function R4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const I4=R4(),$4="2.11.15",L4=`realtime-js/${$4}`,U4="1.0.0",Tk=1e4,F4=1e3;var Kl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Kl||(Kl={}));var Qt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qt||(Qt={}));var on;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(on||(on={}));var qv;(function(t){t.websocket="websocket"})(qv||(qv={}));var Na;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Na||(Na={}));class B4{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Nk{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const h_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=H4(s,t,e,i),a),{})},H4=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?Ck(a,s):Yv(s)},Ck=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return G4(e,r)}switch(t){case tt.bool:return z4(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return W4(e);case tt.json:case tt.jsonb:return V4(e);case tt.timestamp:return q4(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return Yv(e);default:return Yv(e)}},Yv=t=>t,z4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},W4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},V4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},G4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Ck(e,o))}return t},q4=t=>typeof t=="string"?t.replace(" ","T"):t,kk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class zm{constructor(e,r,n={},i=Tk){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var p_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(p_||(p_={}));class Xl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xl.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=Xl.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xl.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(m_||(m_={}));var g_;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(g_||(g_={}));var zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class Yx{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zm(this,on.join,this.params,this.timeout),this.rejoinTimer=new Nk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Xl(this),this.broadcastEndpointURL=kk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Qt.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(zn.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(zn.CLOSED));const l={},u={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(zn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:x,schema:y,table:b,filter:S}}=v,w=d&&d[g];if(w&&w.event===x&&w.schema===y&&w.table===b&&w.filter===S)m.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Qt.errored,e==null||e(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(zn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Qt.errored,e==null||e(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new zm(this,on.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zm(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=on;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const S=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:x,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Yx.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(on.close,{},e)}_onError(e){this._on(on.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=h_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=h_(e.columns,e.old_record)),r}}const v_=()=>{},Y4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K4{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=v_,this.ref=0,this.logger=v_,this.conn=null,this.sendBuffer=[],this.serializer=new B4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>yu(()=>Promise.resolve().then(()=>Go),void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${qv.websocket}`,this.httpEndpoint=kk(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Nk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=I4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U4}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kl.connecting:return Na.Connecting;case Kl.open:return Na.Open;case Kl.closing:return Na.Closing;default:return Na.Closed}}isConnected(){return this.connectionState()===Na.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Yx(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:L4};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(on.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(F4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(on.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Y4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Kx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function It(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class X4 extends Kx{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Kv extends Kx{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Q4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Ok=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yu(()=>Promise.resolve().then(()=>Go),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Z4=()=>Q4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yu(()=>Promise.resolve().then(()=>Go),void 0)).Response:Response}),Xv=t=>{if(Array.isArray(t))return t.map(r=>Xv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Xv(n)}),e};var os=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Wm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),J4=(t,e,r)=>os(void 0,void 0,void 0,function*(){const n=yield Z4();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new X4(Wm(i),t.status||500))}).catch(i=>{e(new Kv(Wm(i),i))}):e(new Kv(Wm(t),t))}),e3=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function bu(t,e,r,n,i,a){return os(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,e3(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>J4(l,o,n))})})}function Af(t,e,r,n){return os(this,void 0,void 0,function*(){return bu(t,"GET",e,r,n)})}function ji(t,e,r,n,i){return os(this,void 0,void 0,function*(){return bu(t,"POST",e,n,i,r)})}function t3(t,e,r,n,i){return os(this,void 0,void 0,function*(){return bu(t,"PUT",e,n,i,r)})}function r3(t,e,r,n){return os(this,void 0,void 0,function*(){return bu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Dk(t,e,r,n,i){return os(this,void 0,void 0,function*(){return bu(t,"DELETE",e,n,i,r)})}var fr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const n3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i3{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Ok(i)}uploadOrUpdate(e,r,n,i){return fr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},y_),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(It(a))return{data:null,error:a};throw a}})}upload(e,r,n){return fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return fr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:y_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(It(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return fr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ji(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Kx("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}update(e,r,n){return fr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return fr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}copy(e,r,n){return fr(this,void 0,void 0,function*(){try{return{data:{path:(yield ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return fr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ji(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return fr(this,void 0,void 0,function*(){try{const i=yield ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}download(e,r){return fr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Af(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(It(o))return{data:null,error:o};throw o}})}info(e){return fr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Af(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xv(n),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}exists(e){return fr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield r3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(It(n)&&n instanceof Kv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return fr(this,void 0,void 0,function*(){try{return{data:yield Dk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}list(e,r,n){return fr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},n3),r),{prefix:e||""});return{data:yield ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const a3="2.7.1",s3={"X-Client-Info":`storage-js/${a3}`};var xs=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class o3{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},s3),r),this.fetch=Ok(n)}listBuckets(){return xs(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(It(e))return{data:null,error:e};throw e}})}getBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return xs(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return xs(this,void 0,void 0,function*(){try{return{data:yield t3(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}emptyBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xs(this,void 0,void 0,function*(){try{return{data:yield Dk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}}class l3 extends o3{constructor(e,r={},n){super(e,r,n)}from(e){return new i3(this.url,this.headers,e,this.fetch)}}const c3="2.50.5";let Ll="";typeof Deno<"u"?Ll="deno":typeof document<"u"?Ll="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ll="react-native":Ll="node";const u3={"X-Client-Info":`supabase-js-${Ll}/${c3}`},d3={headers:u3},f3={schema:"public"},h3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p3={};var m3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const g3=t=>{let e;return t?e=t:typeof fetch>"u"?e=gk:e=fetch,(...r)=>e(...r)},v3=()=>typeof Headers>"u"?vk:Headers,y3=(t,e,r)=>{const n=g3(r),i=v3();return(a,s)=>m3(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var x3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function b3(t){return t.endsWith("/")?t:t+"/"}function w3(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>x3(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Pk="2.70.0",Ns=30*1e3,Qv=3,Vm=Qv*Ns,S3="http://localhost:9999",_3="supabase.auth.token",E3={"X-Client-Info":`gotrue-js/${Pk}`},Zv="X-Supabase-Api-Version",Mk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A3=6e5;class Xx extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class T3 extends Xx{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function N3(t){return je(t)&&t.name==="AuthApiError"}class Rk extends Xx{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sa extends Xx{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Si extends sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C3(t){return je(t)&&t.name==="AuthSessionMissingError"}class ed extends sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class td extends sa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rd extends sa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k3(t){return je(t)&&t.name==="AuthImplicitGrantRedirectError"}class x_ extends sa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jv extends sa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Gm(t){return je(t)&&t.name==="AuthRetryableFetchError"}class b_ extends sa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ql extends sa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w_=` 	
\r=`.split(""),O3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<w_.length;e+=1)t[w_[e].charCodeAt(0)]=-2;for(let e=0;e<Tf.length;e+=1)t[Tf[e].charCodeAt(0)]=e;return t})();function S_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tf[n]),e.queuedBits-=6}}function Ik(t,e,r){const n=O3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function __(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{M3(s,n,r)};for(let s=0;s<t.length;s+=1)Ik(t.charCodeAt(s),i,a);return e.join("")}function D3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function P3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}D3(n,e)}}function M3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function R3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ik(t.charCodeAt(i),r,n);return new Uint8Array(e)}function I3(t){const e=[];return P3(t,r=>e.push(r)),new Uint8Array(e)}function $3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>S_(i,r,n)),S_(null,r,n),e.join("")}function L3(t){return Math.round(Date.now()/1e3)+t}function U3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nn=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},Zl=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function F3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const $k=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yu(()=>Promise.resolve().then(()=>Go),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},B3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Lk=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},nd=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},id=async(t,e)=>{await t.removeItem(e)};class gp{constructor(){this.promise=new gp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}gp.promiseConstructor=Promise;function qm(t){const e=t.split(".");if(e.length!==3)throw new Ql("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!j3.test(e[n]))throw new Ql("JWT not in base64url format");return{header:JSON.parse(__(e[0])),payload:JSON.parse(__(e[1])),signature:R3(e[2]),raw:{header:e[0],payload:e[1]}}}async function H3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function z3(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function W3(t){return("0"+t.toString(16)).substr(-2)}function V3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,W3).join("")}async function G3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function q3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await G3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(t,e,r=!1){const n=V3();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Lk(t,`${e}-code-verifier`,i);const a=await q3(n);return[a,n===a?"plain":"s256"]}const Y3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K3(t){const e=t.headers.get(Zv);if(!e||!e.match(Y3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function X3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Q3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ws(t){if(!Z3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var J3=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const wa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eU=[502,503,504];async function E_(t){var e;if(!B3(t))throw new Jv(wa(t),0);if(eU.includes(t.status))throw new Jv(wa(t),t.status);let r;try{r=await t.json()}catch(a){throw new Rk(wa(a),a)}let n;const i=K3(t);if(i&&i.getTime()>=Mk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new b_(wa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Si}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new b_(wa(r),t.status,r.weak_password.reasons);throw new T3(wa(r),t.status||500,n)}const tU=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ke(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Zv]||(a[Zv]=Mk["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await rU(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function rU(t,e,r,n,i,a){const s=tU(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new Jv(wa(l),0)}if(o.ok||await E_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await E_(l)}}function Bn(t){var e;let r=null;sU(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=L3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function j_(t){const e=Bn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ki(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nU(t){return{data:t,error:null}}function iU(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=J3(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function aU(t){return t}function sU(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ym=["global","local","others"];var oU=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class lU{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=$k(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ym[0]){if(Ym.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ym.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ki})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=oU(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ki})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:aU});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(je(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ws(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ki})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ws(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ki})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ws(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ki})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ws(e.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ws(e.userId),ws(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}const cU={getItem:t=>Zl()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Zl()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Zl()&&globalThis.localStorage.removeItem(t)}};function A_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function uU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ss={debug:!!(globalThis&&Zl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dU extends Uk{}async function fU(t,e,r){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ss.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}uU();const hU={url:S3,storageKey:_3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function T_(t,e,r){return await r()}class Tc{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tc.nextInstanceID,Tc.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},hU),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lU({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$k(i.fetch),this.lock=i.lock||T_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:nn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fU:this.lock=T_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Zl()?this.storage=cU:(this.memoryStorage={},this.storage=A_(this.memoryStorage)):(this.memoryStorage={},this.storage=A_(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pk}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=F3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),nn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),k3(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?{error:r}:{error:new Rk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Bn}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await bs(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Bn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Bn})}else throw new td("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:j_})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:j_})}else throw new td("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ed}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,s,o,l,u,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:b}=e;let S;if(nn())if(typeof x=="object")S=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let E;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")E=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)E=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:v,error:x}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:$3(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Bn});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ed}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(je(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await nd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Bn});if(await id(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ed}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(je(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Bn}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ed}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await bs(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new td("You must provide either an email or phone number.")}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Bn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await bs(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:nU})}catch(a){if(je(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Si;const{error:i}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new td("You must provide either an email or phone number and a type")}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await nd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Vm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ki}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Si}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ki})})}catch(r){if(je(r))return C3(r)&&(await this._removeSession(),await id(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Si;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await bs(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ki});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Si;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=qm(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(je(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Si;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!nn())throw new rd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new x_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x_("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new rd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(je(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await nd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(N3(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await id(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=U3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await bs(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(je(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return nn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(je(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await z3(async i=>(i>0&&await H3(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Bn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Gm(a)&&Date.now()+s-n<Ns})}catch(n){if(this._debug(r,"error",n),je(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),nn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await nd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Vm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Vm}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Gm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Si;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gp;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Si;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),je(a)){const s={session:null,error:a};return Gm(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Lk(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await id(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ns}ms, refresh threshold is ${Qv} ticks`),i<=Qv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await bs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=qm(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+A3>Date.now()))return n;const{data:i,error:a}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Ql("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===e),!n)throw new Ql("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=qm(n);if(X3(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const u=Q3(i.alg),d=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,I3(`${o}.${l}`)))throw new Ql("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}Tc.nextInstanceID=0;const pU=Tc;class mU extends pU{constructor(e){super(e)}}var gU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class vU{constructor(e,r,n){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=b3(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:f3,realtime:p3,auth:Object.assign(Object.assign({},h3),{storageKey:u}),global:d3},f=w3(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=y3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new M4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new u4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new l3(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return gU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new K4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yU=(t,e,r)=>new vU(t,e,r),Km="https://kvsbrrmzedadyffqtcdq.supabase.co",Xm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw";let ee=null;try{Km&&Km!=="https://placeholder.supabase.co"&&Xm&&Xm!=="placeholder-key"&&(ee=yU(Km,Xm))}catch(t){console.error("Failed to create Supabase client:",t)}class Ai{constructor(){this.isAuthenticated=!0,Ai.mockMessages||(Ai.mockMessages=[])}async init(){try{if(!ee)return!0;const{data:e,error:r}=await ee.from("venues").select("count").limit(1);return r?(console.error("Supabase connection failed:",r),!1):!0}catch(e){return console.error("Failed to initialize Supabase API:",e),!1}}getMockData(e){return{venues:[],trailer_history:[],camper_history:[],staff:[]}[e]||[]}async readTable(e,r={}){try{if(!ee)return{success:!0,data:this.getMockData(e)};let n=[],i=0;const a=1e3;let s=!0;for(;s;){let o=ee.from(e).select("*");r.filters&&Object.entries(r.filters).forEach(([d,f])=>{o=o.eq(d,f)}),r.dateFrom&&r.dateTo&&(o=o.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?o=o.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):e.includes("history")?o=o.order("date",{ascending:!1}):o=o.order("id",{ascending:!1}),o=o.range(i*a,(i+1)*a-1);const{data:l,error:u}=await o;if(u)throw new Error(u.message);l&&l.length>0?(n=n.concat(l),i++,l.length<a&&(s=!1),i>50&&(console.warn(`[readTable] Stopping pagination after 50 pages to prevent infinite loop for ${e}`),s=!1)):s=!1}return{success:!0,data:n}}catch(n){return console.error(`Failed to read from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async addRow(e,r){try{if(!ee)return{success:!0,data:{...r,id:Date.now()},message:"Row added successfully (mock mode)"};const{data:n,error:i}=await ee.from(e).insert([r]).select();if(i)throw new Error(i.message);return{success:!0,data:n[0],message:"Row added successfully"}}catch(n){return console.error(`Failed to add row to ${e}:`,n),{success:!1,error:n.message}}}async updateRow(e,r,n){try{if(!ee)return{success:!0,data:{id:r,...n},message:"Row updated successfully (mock mode)"};const{data:i,error:a}=await ee.from(e).update(n).eq("id",r).select();if(a)throw new Error(a.message);return{success:!0,data:i[0],message:"Row updated successfully"}}catch(i){return console.error(`Failed to update row in ${e}:`,i),{success:!1,error:i.message}}}async deleteRow(e,r){try{if(!ee)return{success:!0,message:"Row deleted successfully (mock mode)"};const{error:n}=await ee.from(e).delete().eq("id",r);if(n)throw new Error(n.message);return{success:!0,message:"Row deleted successfully"}}catch(n){return console.error(`Failed to delete row from ${e}:`,n),{success:!1,error:n.message}}}async getTableInfo(e){try{if(!ee){const i=this.getMockData(e);return{success:!0,data:{title:e,rowCount:i.length,columnCount:i.length>0?Object.keys(i[0]).length:0}}}const{count:r,error:n}=await ee.from(e).select("*",{count:"exact",head:!0});if(n)throw new Error(n.message);return{success:!0,data:{title:e,rowCount:r||0,columnCount:10}}}catch(r){return console.error(`Failed to get table info for ${e}:`,r),{success:!1,error:r.message}}}async searchData(e,r,n=null){try{if(!ee){const o=this.getMockData(e);return r?{success:!0,data:o.filter(u=>n?u[n]&&u[n].toString().toLowerCase().includes(r.toLowerCase()):Object.values(u).some(d=>d&&d.toString().toLowerCase().includes(r.toLowerCase())))}:{success:!0,data:o}}let i=ee.from(e).select("*");r&&(n?i=i.ilike(n,`%${r}%`):i=i.or(`name.ilike.%${r}%,email.ilike.%${r}%,promo.ilike.%${r}%`));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error(`Failed to search data in ${e}:`,i),{success:!1,error:i.message,data:[]}}}async getSalesWithVenues(e,r={}){try{if(!ee){const s=this.getMockData(e),o=this.getMockData("venues");return{success:!0,data:s.map(u=>({...u,venues:o.find(d=>d.id===u.venue_id)||{}}))}}let n=ee.from(e).select(`
          *,
          venues (
            id,
            promo,
            address_city,
            contact,
            phone,
            email
          )
        `);r.dateFrom&&r.dateTo&&(n=n.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?n=n.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):n=n.order("date",{ascending:!1});const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error(`Failed to get sales with venues from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async getDashboardStats(){try{if(!ee){const u=this.getMockData("trailer_history"),d=this.getMockData("camper_history"),f=this.getMockData("venues"),h=this.getMockData("staff");return{success:!0,data:{trailerHistory:u,camperHistory:d,venueCount:f.length,staffCount:h.length}}}const{data:e,error:r}=await ee.from("trailer_history").select("gross_sales, net_sales, sales_tax, date");if(r)throw new Error(r.message);const{data:n,error:i}=await ee.from("camper_history").select("gross_sales, net_sales, sales_tax, date");if(i)throw new Error(i.message);const{count:a,error:s}=await ee.from("venues").select("*",{count:"exact",head:!0});if(s)throw new Error(s.message);const{count:o,error:l}=await ee.from("staff").select("*",{count:"exact",head:!0});if(l)throw new Error(l.message);return{success:!0,data:{trailerHistory:e||[],camperHistory:n||[],venueCount:a||0,staffCount:o||0}}}catch(e){return console.error("Failed to get dashboard stats:",e),{success:!1,error:e.message}}}async getCurrentUser(){var e;try{if(!ee)return{success:!1,error:"Supabase not configured"};const{data:{user:r},error:n}=await ee.auth.getUser();if(n)return{success:!1,error:n.message};if(!r)return{success:!1,error:"No user found"};const{data:i,error:a}=await ee.from("users").select("*").eq("email",r.email).single();return a&&a.code!=="PGRST116"&&console.warn("Could not fetch user profile:",a),{success:!0,data:{id:r.id,email:r.email,name:(i==null?void 0:i.name)||((e=r.user_metadata)==null?void 0:e.name)||r.email,role:(i==null?void 0:i.role)||"user",created_at:r.created_at,last_sign_in:r.last_sign_in_at}}}catch(r){return console.error("Failed to get current user:",r),{success:!1,error:r.message}}}async signIn(e,r){var n;try{if(!ee)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await ee.auth.signInWithPassword({email:e,password:r});if(a)return{success:!1,error:a.message};const s={id:i.user.id,email:i.user.email,name:((n=i.user.user_metadata)==null?void 0:n.name)||i.user.email,role:"user",created_at:i.user.created_at,last_sign_in:i.user.last_sign_in_at},{data:o}=await ee.from("users").select("*").eq("email",i.user.email).single();if(o&&(s.name=o.name,s.role=o.role,s.staff_id=o.staff_id),o!=null&&o.staff_id){const{data:l}=await ee.from("staff").select("*").eq("id",o.staff_id).single();l&&(s.staffMember=l,s.name=l.name||s.name)}return{success:!0,data:s}}catch(i){return console.error("Failed to sign in:",i),{success:!1,error:i.message}}}async signUp(e,r,n){try{if(!ee)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await ee.auth.signUp({email:e,password:r,options:{data:{name:n}}});if(a)return{success:!1,error:a.message};if(i.user)try{const{error:s}=await ee.from("users").insert([{id:i.user.id,email:i.user.email,name:n,role:"user",is_active:!0}]);s&&s.code!=="23505"&&console.warn("Could not create user profile:",s)}catch(s){console.warn("Profile creation failed, but auth succeeded:",s)}return{success:!0,data:i.user}}catch(i){return console.error("Failed to sign up:",i),{success:!1,error:i.message}}}async signOut(){try{if(!ee)return{success:!1,error:"Supabase not configured"};const{error:e}=await ee.auth.signOut();return e?{success:!1,error:e.message}:{success:!0}}catch(e){return console.error("Failed to sign out:",e),{success:!1,error:e.message}}}async resetPassword(e){try{if(!ee)return{success:!1,error:"Supabase not configured"};const{error:r}=await ee.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to reset password:",r),{success:!1,error:r.message}}}async resendConfirmationEmail(e){try{if(!ee)return{success:!1,error:"Supabase not configured"};const{error:r}=await ee.auth.resend({type:"signup",email:e});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to resend confirmation email:",r),{success:!1,error:r.message}}}async updateProfile(e,r){try{if(!ee)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await ee.from("users").update(r).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to update profile:",n),{success:!1,error:n.message}}}async linkUserToStaff(e,r){try{if(!ee)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await ee.from("users").update({staff_id:r}).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to link user to staff:",n),{success:!1,error:n.message}}}async getUnlinkedUsers(){try{if(!ee)return{success:!1,error:"Supabase not configured"};const{data:e,error:r}=await ee.from("users").select("*").is("staff_id",null).order("created_at",{ascending:!1});return r?{success:!1,error:r.message}:{success:!0,data:e||[]}}catch(e){return console.error("Failed to get unlinked users:",e),{success:!1,error:e.message}}}async authenticate(){return(await this.getCurrentUser()).success}async getUsers(){try{if(!ee)return{success:!0,data:[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}]};const{data:{user:e}}=await ee.auth.getUser();if(!e)return{success:!0,data:[]};const{data:r}=await ee.from("users").select("role").eq("email",e.email).single();let n=ee.from("users").select("*");(r==null?void 0:r.role)==="admin"?n=n.eq("is_active",!0).order("name"):n=n.eq("email",e.email);const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(e){return console.error("Failed to get users:",e),{success:!1,error:e.message,data:[]}}}async addUser(e){try{if(!ee)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}};const{data:r,error:n}=await ee.from("users").insert([e]).select().single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to add user:",r),{success:!1,error:r.message}}}async updateUser(e,r){try{if(!ee)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await ee.from("users").update(r).eq("id",e).select().single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update user:",n),{success:!1,error:n.message}}}async getMessageGroups(){try{if(!ee)return{success:!0,data:[{id:1,group_name:"General",created_by:1,is_active:!0}]};const{data:e,error:r}=await ee.from("message_groups").select("*").eq("is_active",!0).order("group_name");if(r)throw new Error(r.message);return{success:!0,data:e||[]}}catch(e){return console.error("Failed to get message groups:",e),{success:!1,error:e.message,data:[]}}}async getGroupMembers(e){try{if(!ee)return{success:!0,data:[{id:1,group_id:1,user_id:1,role:"admin"},{id:2,group_id:1,user_id:2,role:"member"},{id:3,group_id:1,user_id:3,role:"member"},{id:4,group_id:1,user_id:4,role:"member"},{id:5,group_id:1,user_id:5,role:"admin"},{id:6,group_id:1,user_id:6,role:"member"}]};const{data:r,error:n}=await ee.from("group_members").select(`
          *,
          staff (id, name, email, role)
        `).eq("group_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get group members:",r),{success:!1,error:r.message,data:[]}}}async getMessages(e=null,r=null,n=50){try{if(!ee){let o=Ai.mockMessages||[];return e&&(o=o.filter(l=>l.group_id===e)),o.sort((l,u)=>new Date(l.created_at)-new Date(u.created_at)),n&&(o=o.slice(0,n)),{success:!0,data:o}}let i=ee.from("team_messages").select("*").eq("is_deleted",!1).order("created_at",{ascending:!0}).limit(n);e?i=i.eq("group_id",e):r&&(i=i.eq("recipient_id",r));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error("Failed to get messages:",i),{success:!1,error:i.message,data:[]}}}async sendMessage(e){try{if(!ee){const a=[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}].find(o=>o.id===e.sender_id)||{id:e.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"},s={id:Date.now(),...e,created_at:new Date().toISOString(),sender:{id:a.id,name:a.name,email:a.email}};return Ai.mockMessages||(Ai.mockMessages=[]),Ai.mockMessages.push(s),{success:!0,data:s}}const{data:r,error:n}=await ee.from("team_messages").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to send message:",r),{success:!1,error:r.message}}}async getTasks(e=null,r=null){try{if(!ee)return{success:!0,data:[]};let n=ee.from("tasks").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("assigned_to",e)),r&&(n=n.eq("status",r));const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error("Failed to get tasks:",n),{success:!1,error:n.message,data:[]}}}async createTask(e){try{if(!ee)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};const{data:r,error:n}=await ee.from("tasks").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to create task:",r),{success:!1,error:r.message}}}async updateTask(e,r){try{if(!ee)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await ee.from("tasks").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update task:",n),{success:!1,error:n.message}}}async deleteTask(e){try{if(!ee)return{success:!0};const{error:r}=await ee.from("tasks").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete task:",r),{success:!1,error:r.message}}}async getTaskComments(e){try{return{success:!0,data:[]}}catch(r){return console.error("Failed to get task comments:",r),{success:!1,error:r.message,data:[]}}}async addTaskComment(e){try{return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}}}catch(r){return console.error("Failed to add task comment:",r),{success:!1,error:r.message}}}async getStoreHours(e){try{if(!ee)return{success:!0,data:[]};const{data:r,error:n}=await ee.from("store_hours").select("*").eq("store_id",e).order("day_of_week");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store hours:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHours(e,r){try{if(!ee)return console.log("Mock: Saving store hours:",r),{success:!0};const{error:n}=await ee.from("store_hours").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await ee.from("store_hours").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store hours:",n),{success:!1,error:n.message}}}async getStoreHolidays(e){try{if(!ee)return{success:!0,data:[]};const{data:r,error:n}=await ee.from("store_holidays").select("*").eq("store_id",e).order("date");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store holidays:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHolidays(e,r){try{if(!ee)return console.log("Mock: Saving store holidays:",r),{success:!0};const{error:n}=await ee.from("store_holidays").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await ee.from("store_holidays").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store holidays:",n),{success:!1,error:n.message}}}async getCommissionTiers(e){try{if(!ee)return{success:!0,data:[]};const{data:r,error:n}=await ee.from("commission_tiers").select("*").eq("store_id",e).order("sales_target");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get commission tiers:",r),{success:!1,error:r.message,data:[]}}}async saveCommissionTiers(e,r){try{if(!ee)return console.log("Mock: Saving commission tiers:",r),{success:!0};console.log("saveCommissionTiers called with storeId:",e,"tiersData:",r);const{error:n}=await ee.from("commission_tiers").delete().eq("store_id",e);if(n)throw new Error(n.message);const i=r.filter(s=>s.sales_target>0&&s.bonus_amount>0).map(s=>{const o=s.tier_name&&s.tier_name.trim()||`Bonus for $${s.sales_target.toLocaleString()}+ sales`;return{store_id:s.store_id,tier_name:o,sales_target:s.sales_target,commission_rate:s.commission_rate||0,bonus_amount:s.bonus_amount}});console.log("Final insertData to send to database:",i);const{error:a}=await ee.from("commission_tiers").insert(i);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save commission tiers:",n),{success:!1,error:n.message}}}async getStaffCommissionRates(e){try{if(!ee)return{success:!0,data:[]};const{data:r,error:n}=await ee.from("staff_commission_rates").select("*").eq("store_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get staff commission rates:",r),{success:!1,error:r.message,data:[]}}}async saveStaffCommissionRates(e,r){try{if(!ee)return console.log("Mock: Saving staff commission rates:",r),{success:!0};const{error:n}=await ee.from("staff_commission_rates").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await ee.from("staff_commission_rates").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save staff commission rates:",n),{success:!1,error:n.message}}}async getScheduleSlots(e,r,n){try{if(!ee)return{success:!0,data:[]};const{data:i,error:a}=await ee.from("schedule_slots").select("*").eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(i){return console.error("Failed to get schedule slots:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleSlot(e){try{if(!ee)return console.log("Mock: Saving schedule slot:",e),{success:!0};const{error:r}=await ee.from("schedule_slots").upsert(e,{onConflict:"store_id,date,start_time"});if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to save schedule slot:",r),{success:!1,error:r.message}}}async deleteScheduleSlot(e){try{if(!ee)return console.log("Mock: Deleting schedule slot:",e),{success:!0};const{error:r}=await ee.from("schedule_slots").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule slot:",r),{success:!1,error:r.message}}}async getScheduleAssignments(e,r,n){try{if(!ee)return{success:!0,data:[]};const{data:i,error:a}=await ee.from("schedule_assignments").select(`
          *,
          staff:staff_id(name, role)
        `).eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:(i||[]).map(o=>({id:o.id,storeId:o.store_id,staffId:o.staff_id,date:o.date,startTime:o.start_time,endTime:o.end_time,notes:o.notes,staff:o.staff}))}}catch(i){return console.error("Failed to get schedule assignments:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleAssignment(e){try{if(!ee)return console.log("Mock: Saving schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const r={store_id:e.storeId,staff_id:e.staffId,date:e.date,start_time:e.startTime,end_time:e.endTime,notes:e.notes},{data:n,error:i}=await ee.from("schedule_assignments").upsert(r,{onConflict:"staff_id,date,start_time"}).select();if(i)throw new Error(i.message);return{success:!0,data:n!=null&&n[0]?{id:n[0].id,storeId:n[0].store_id,staffId:n[0].staff_id,date:n[0].date,startTime:n[0].start_time,endTime:n[0].end_time,notes:n[0].notes}:e}}catch(r){return console.error("Failed to save schedule assignment:",r),{success:!1,error:r.message}}}async createScheduleAssignment(e){try{if(!ee)return console.log("Mock: Creating schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const{data:r,error:n}=await ee.from("schedule_assignments").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:(r==null?void 0:r[0])||e}}catch(r){return console.error("Failed to create schedule assignment:",r),{success:!1,error:r.message}}}async deleteScheduleAssignment(e){try{if(!ee)return console.log("Mock: Deleting schedule assignment:",e),{success:!0};const{error:r}=await ee.from("schedule_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule assignment:",r),{success:!1,error:r.message}}}async importTrailerHistory(e){if(!Array.isArray(e)||e.length===0)return{success:!1,error:"No data to import",processed:0,failed:0};if(!ee)return{success:!0,processed:e.length,failed:0};const r={};for(const a of e){const s=`${a.date}_${a.store}`;r[s]||(r[s]={date:a.date,Store:a.store,sales_tax:0,net_sales:0,gross_sales:0}),r[s].sales_tax+=parseFloat(a.sales_tax||0),r[s].net_sales+=parseFloat(a.net_sales||0),r[s].gross_sales+=parseFloat(a.gross_sales||0)}let n=0,i=0;for(const a of Object.values(r))try{const{error:s}=await ee.from("trailer_history").upsert([a],{onConflict:["date","Store"]});s?(i++,console.error("Upsert error:",s)):n++}catch(s){i++,console.error("Exception during upsert:",s)}return{success:i===0,processed:n,failed:i}}async getSalesForPeriod(e,r,n){try{if(!ee)return{success:!0,data:[{date:r,store:e,total_sales:15e3},{date:n,store:e,total_sales:18e3}]};const{data:i,error:a}=await ee.from("trailer_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n),{data:s,error:o}=await ee.from("camper_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n);if(a)throw a;if(o)throw o;const u=[...i||[],...s||[]].reduce((d,f)=>{const h=f.date;return d[h]||(d[h]={date:h,store:e,total_sales:0}),d[h].total_sales+=parseFloat(f.gross_sales||0),d},{});return{success:!0,data:Object.values(u)}}catch(i){return console.error("Error fetching sales data:",i),{success:!1,error:i.message}}}async getSalesByStaff(e,r,n){try{return ee?{success:!0,data:[{date:r,staff_id:e,sales_amount:5e3},{date:n,staff_id:e,sales_amount:6e3}]}:{success:!0,data:[]}}catch(i){return console.error("Error fetching staff sales:",i),{success:!1,error:i.message}}}async getPayrollHistory(e,r,n){try{if(!ee)return{success:!0,data:[]};const{data:i,error:a}=await ee.from("payroll_history").select("*").eq("store_id",e).gte("pay_period_start",r).lte("pay_period_end",n).order("pay_period_start",{ascending:!1});if(a)throw a;return{success:!0,data:i||[]}}catch(i){return console.error("Error fetching payroll history:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{if(!ee)return{success:!0,data:{id:Date.now()}};const{data:r,error:n}=await ee.from("payroll_history").insert([e]).select();if(n)throw n;return{success:!0,data:r[0]}}catch(r){return console.error("Error saving payroll record:",r),{success:!1,error:r.message}}}async getStores(){try{if(!ee)return{success:!0,data:[{id:1,name:"Spartanburg",number:"1"},{id:2,name:"Greenville",number:"3"},{id:3,name:"Columbia",number:"4"},{id:4,name:"Trailer",number:"5"},{id:5,name:"Camper",number:"7"}]};const{data:e,error:r}=await ee.from("stores").select("*").eq("is_active",!0).order("number");if(r)throw r;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching stores:",e),{success:!1,error:e.message}}}async getStaffBonusTiers(e){try{console.log("🔍 Getting staff bonus tiers for staffId:",e);const{data:r,error:n}=await ee.from("staff_bonus_tiers").select("*").eq("staff_id",e).order("sales_target",{ascending:!0});return n?(console.error("❌ Error fetching staff bonus tiers:",n),{success:!1,error:n.message}):(console.log("✅ Staff bonus tiers fetched successfully:",r),{success:!0,data:r})}catch(r){return console.error("❌ Exception in getStaffBonusTiers:",r),{success:!1,error:r.message}}}async saveStaffBonusTiers(e,r){try{if(console.log("💾 Saving staff bonus tiers for staffId:",e,"tiersData:",r),!ee)return console.log("❌ Supabase not available, returning mock success"),{success:!0,data:r};console.log("🗑️ Deleting existing tiers for staff:",e);const{error:n}=await ee.from("staff_bonus_tiers").delete().eq("staff_id",e);if(n)return console.error("❌ Error deleting existing staff bonus tiers:",n),{success:!1,error:n.message};if(console.log("✅ Successfully deleted existing tiers"),!r||r.length===0)return console.log("✅ No tiers to save, deletion completed"),{success:!0,data:[]};console.log("📝 Inserting new tiers:",r);const{data:i,error:a}=await ee.from("staff_bonus_tiers").insert(r).select();return a?(console.error("❌ Error saving staff bonus tiers:",a),console.error("❌ Error details:",{code:a.code,message:a.message,details:a.details,hint:a.hint}),{success:!1,error:a.message}):(console.log("✅ Staff bonus tiers saved successfully:",i),{success:!0,data:i})}catch(n){return console.error("❌ Exception in saveStaffBonusTiers:",n),{success:!1,error:n.message}}}async calculateStaffBonus(e,r){try{console.log("🧮 Calculating staff bonus for staffId:",e,"salesAmount:",r);const{data:n,error:i}=await ee.from("staff_bonus_tiers").select("*").eq("staff_id",e).eq("is_active",!0).order("sales_target",{ascending:!1});if(i)return console.error("❌ Error calculating staff bonus:",i),{success:!1,error:i.message};let a=0;for(const s of n||[])if(r>=s.sales_target){a=s.bonus_amount;break}return console.log("✅ Staff bonus calculated:",a),{success:!0,data:a}}catch(n){return console.error("❌ Exception in calculateStaffBonus:",n),{success:!1,error:n.message}}}async getScheduleAssignmentsForDateRange(e,r,n){try{console.log("📅 Getting schedule assignments for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await ee.from("schedule_assignments").select(`
          *,
          slot:schedule_slots(*)
        `).eq("slot.store_id",e).gte("slot.slot_date",r).lte("slot.slot_date",n);return a?(console.error("❌ Error fetching schedule assignments:",a),{success:!1,error:a.message}):(console.log("✅ Schedule assignments fetched:",i),{success:!0,data:i||[]})}catch(i){return console.error("❌ Exception in getScheduleAssignmentsForDateRange:",i),{success:!1,error:i.message}}}async getSalesForDateRange(e,r,n){try{console.log("💰 Getting sales for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await ee.from("trailer_history").select("date, Store, gross_sales").order("date",{ascending:!1}).limit(5);a?console.error("❌ Error fetching sample data:",a):console.log("📅 Sample dates from trailer_history:",i);const{data:s,error:o}=await ee.from("trailer_history").select("*").gte("date",r).lte("date",n);if(o)return console.error("❌ Error fetching sales data:",o),{success:!1,error:o.message};console.log("📊 Raw data for date range:",(s==null?void 0:s.length)||0,"records");const l=(s||[]).filter(u=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"}[u.Store]||u.Store)===e);return console.log("✅ Sales fetched for store:",e,l),{success:!0,data:l}}catch(i){return console.error("❌ Exception in getSalesForDateRange:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{console.log("💾 Saving payroll record:",e);const{data:r,error:n}=await ee.from("payroll_records").insert(e).select();return n?(console.error("❌ Error saving payroll record:",n),{success:!1,error:n.message}):(console.log("✅ Payroll record saved:",r),{success:!0,data:r})}catch(r){return console.error("❌ Exception in savePayrollRecord:",r),{success:!1,error:r.message}}}}const le=new Ai,zd=(t,e)=>{const r=s=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"})[s]||`Store ${s}`,n=t.Store||t.store||null,i=n?r(String(n)):e==="TRAILER_HISTORY"?"Trailer":"Camper";return{id:t.id||null,date:t.date||"",status:t.status||"",salesTax:parseFloat(t.sales_tax||0)||0,netSales:parseFloat(t.net_sales||0)||0,grossSales:parseFloat(t.gross_sales||0)||0,store:i,venue:t.common_venue_name||t.venue_name||"",sheetType:e}},xU=t=>{const e={};return t.forEach((n,i)=>{const a=String(n.store||"Unknown Store"),s=n.date||"";if(!s)return;let o=s;s.includes(" ")&&(o=s.split(" ")[0]);const l=`${a}_${o}`;e[l]||(e[l]={store:a,venue:n.venue||"",date:o,salesTax:0,netSales:0,grossSales:0,count:0});const u=parseFloat(n.salesTax||0)||0,d=parseFloat(n.netSales||0)||0,f=parseFloat(n.grossSales||0)||0;e[l].salesTax+=u,e[l].netSales+=d,e[l].grossSales+=f,e[l].count+=1}),Object.values(e).sort((n,i)=>{const a=new Date(n.date),s=new Date(i.date);return a.getTime()!==s.getTime()?a-s:String(n.store).localeCompare(String(i.store))})},ad=t=>({id:t.id||null,promo:t.promo||"",promoSend:t.promo_to_send||"",addressCity:t.address_city||"",contact:t.contact||"",phone:t.phone||"",email:t.email||"",times:t.times||"",showInfo:t.show_info||"",forecastWill:t.forecast||""}),N_=t=>({id:t.id||null,name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hireDate:t.hire_date||"",notes:t.notes||"",store_id:t.store_id||null,payType:t.pay_type||"hourly",hourlyRate:parseFloat(t.hourly_rate||0)||0,salaryAmount:parseFloat(t.salary_amount||0)||0,preferredHoursPerWeek:parseFloat(t.preferred_hours_per_week||0)||0,maxHoursPerWeek:parseFloat(t.max_hours_per_week||0)||0}),C_=(t,e=!1)=>{const r={name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hire_date:t.hireDate||"",notes:t.notes||"",store_id:t.store_id||null,pay_type:t.payType||"hourly",hourly_rate:parseFloat(t.hourlyRate||0)||0,salary_amount:parseFloat(t.salaryAmount||0)||0,preferred_hours_per_week:parseFloat(t.preferredHoursPerWeek||0)||0,max_hours_per_week:parseFloat(t.maxHoursPerWeek||0)||0};return e&&t.id&&(r.id=t.id),r},bU=["Confirmed","Pending","Closed","Cancelled","Rescheduled"],wU=["Manager","Worker","Driver","Sales","Support"],SU=["Active","Inactive","On Leave","Terminated"],_U=["hourly","salary","salary+bonus"],Qm=t=>({date:new Date().toISOString().split("T")[0],status:"Confirmed",salesTax:0,netSales:0,grossSales:0,venueId:"",sheetType:t}),Zm=()=>({promo:"",promoSend:"",addressCity:"",contact:"",phone:"",email:"",times:"",showInfo:"",forecastWill:""}),Jm=()=>({name:"",email:"",phone:"",role:"Worker",status:"Active",hireDate:new Date().toISOString().split("T")[0],notes:"",store_id:null,payType:"hourly",hourlyRate:0,salaryAmount:0,preferredHoursPerWeek:0,maxHoursPerWeek:0}),EU={staffData:[],venuesData:[],salesData:[],tasksData:[],messagesData:[],calendarData:[],bonusesData:[],schedulerData:[],holidayData:[],commissionTiers:[],storeHours:[],loading:!0,error:null,currentUser:null,selectedVenue:null,selectedDate:new Date,viewMode:"list",showAddForm:!1,showEditForm:!1,showDeleteConfirm:!1,showUserMenu:!1,showRoadMenu:!1,showAdminMenu:!1,searchTerm:"",statusFilter:"all",priorityFilter:"all",assignedToFilter:"all",dateFilter:"all",storeFilter:"all",currentPage:1,itemsPerPage:20,totalItems:0,user:null},oe={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_SALES_DATA:"SET_SALES_DATA",SET_VENUES_DATA:"SET_VENUES_DATA",SET_STAFF_DATA:"SET_STAFF_DATA",SET_CURRENT_SHEET:"SET_CURRENT_SHEET",SET_CURRENT_MONTH:"SET_CURRENT_MONTH",SET_SELECTED_VENUE:"SET_SELECTED_VENUE",ADD_SALES_ENTRY:"ADD_SALES_ENTRY",UPDATE_SALES_ENTRY:"UPDATE_SALES_ENTRY",DELETE_SALES_ENTRY:"DELETE_SALES_ENTRY",ADD_VENUE_ENTRY:"ADD_VENUE_ENTRY",UPDATE_VENUE_ENTRY:"UPDATE_VENUE_ENTRY",DELETE_VENUE_ENTRY:"DELETE_VENUE_ENTRY",ADD_STAFF_ENTRY:"ADD_STAFF_ENTRY",UPDATE_STAFF_ENTRY:"UPDATE_STAFF_ENTRY",DELETE_STAFF_ENTRY:"DELETE_STAFF_ENTRY",SET_IS_AUTHENTICATED:"SET_IS_AUTHENTICATED",SET_USER:"SET_USER",SET_USERS_DATA:"SET_USERS_DATA",SET_MESSAGES_DATA:"SET_MESSAGES_DATA",SET_MESSAGE_GROUPS:"SET_MESSAGE_GROUPS",ADD_MESSAGE:"ADD_MESSAGE",SET_CURRENT_USER:"SET_CURRENT_USER",SET_SELECTED_GROUP:"SET_SELECTED_GROUP",SET_TASKS_DATA:"SET_TASKS_DATA",ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",SET_TASK_COMMENTS:"SET_TASK_COMMENTS",ADD_TASK_COMMENT:"ADD_TASK_COMMENT",SET_SELECTED_TASK:"SET_SELECTED_TASK"};function jU(t,e){switch(e.type){case oe.SET_CURRENT_SHEET:return{...t,currentSheet:e.payload};case oe.SET_LOADING:return{...t,loading:e.payload};case oe.SET_ERROR:return{...t,error:e.payload,loading:!1};case oe.SET_SALES_DATA:return{...t,salesData:e.payload,loading:!1,error:null};case oe.SET_VENUES_DATA:return{...t,venuesData:e.payload,loading:!1,error:null};case oe.SET_STAFF_DATA:return{...t,staffData:e.payload,loading:!1,error:null};case oe.ADD_SALES_ENTRY:return{...t,salesData:[...t.salesData,e.payload]};case oe.UPDATE_SALES_ENTRY:return{...t,salesData:t.salesData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_SALES_ENTRY:return{...t,salesData:t.salesData.filter(r=>r.id!==e.payload)};case oe.ADD_VENUE_ENTRY:return{...t,venuesData:[...t.venuesData,e.payload]};case oe.UPDATE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.filter(r=>r.id!==e.payload)};case oe.ADD_STAFF_ENTRY:return{...t,staffData:[...t.staffData,e.payload]};case oe.UPDATE_STAFF_ENTRY:return{...t,staffData:t.staffData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_STAFF_ENTRY:return{...t,staffData:t.staffData.filter(r=>r.id!==e.payload)};case oe.SET_CURRENT_MONTH:return{...t,currentMonth:e.payload};case oe.SET_SELECTED_VENUE:return{...t,selectedVenue:e.payload};case oe.SET_IS_AUTHENTICATED:return{...t,isAuthenticated:e.payload};case oe.SET_USER:return{...t,user:e.payload,isAuthenticated:!!e.payload};case oe.SET_USERS_DATA:return{...t,usersData:e.payload};case oe.SET_MESSAGES_DATA:return{...t,messagesData:e.payload};case oe.SET_MESSAGE_GROUPS:return{...t,messageGroups:e.payload};case oe.ADD_MESSAGE:return{...t,messagesData:[...t.messagesData,e.payload]};case oe.SET_CURRENT_USER:return{...t,currentUser:e.payload};case oe.SET_SELECTED_GROUP:return{...t,selectedGroup:e.payload};case oe.SET_TASKS_DATA:return{...t,tasksData:e.payload};case oe.ADD_TASK:return{...t,tasksData:[e.payload,...t.tasksData]};case oe.UPDATE_TASK:return{...t,tasksData:t.tasksData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_TASK:return{...t,tasksData:t.tasksData.filter(r=>r.id!==e.payload)};case oe.SET_TASK_COMMENTS:return{...t,taskComments:e.payload};case oe.ADD_TASK_COMMENT:return{...t,taskComments:[e.payload,...t.taskComments]};case oe.SET_SELECTED_TASK:return{...t,selectedTask:e.payload};default:return t}}const Fk=N.createContext();function AU({children:t}){const[e,r]=N.useReducer(jU,EU),n=async()=>{try{const[$,L]=await Promise.all([le.getUsers(),le.getMessageGroups()]);$.success&&r({type:oe.SET_USERS_DATA,payload:$.data}),L.success&&r({type:oe.SET_MESSAGE_GROUPS,payload:L.data})}catch($){console.error("Failed to load staff and groups data:",$)}};N.useEffect(()=>{setTimeout(()=>{i()},100)},[]),N.useEffect(()=>{a()},[e.currentSheet]);const i=async()=>{r({type:oe.SET_LOADING,payload:!0});try{if(await le.init()){await C();const L=new Promise((T,D)=>setTimeout(()=>D(new Error("Data loading timeout")),1e4));try{await Promise.race([Promise.all([a(),s(),o()]),L]),n(),R()}catch(T){console.warn("Data loading timed out, continuing with app:",T)}}}catch($){console.error("Failed to initialize app:",$),r({type:oe.SET_ERROR,payload:$.message})}finally{r({type:oe.SET_LOADING,payload:!1})}},a=async()=>{try{const $="trailer_history",L=await le.readTable($);if(L.success){const T=L.data.map(U=>zd(U,e.currentSheet)),D=xU(T);r({type:oe.SET_SALES_DATA,payload:D})}else r({type:oe.SET_ERROR,payload:L.error})}catch($){r({type:oe.SET_ERROR,payload:$.message})}},s=async()=>{try{const $=await le.readTable("venues");if($.success){const L=$.data.map(T=>ad(T));r({type:oe.SET_VENUES_DATA,payload:L})}else r({type:oe.SET_ERROR,payload:$.error})}catch($){r({type:oe.SET_ERROR,payload:$.message})}},o=async()=>{try{const $=await le.readTable("staff");if($.success){const L=$.data.map(T=>N_(T));r({type:oe.SET_STAFF_DATA,payload:L})}else{const L=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:oe.SET_STAFF_DATA,payload:L})}}catch{const L=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:oe.SET_STAFF_DATA,payload:L})}},l=$=>{r({type:oe.SET_CURRENT_SHEET,payload:$})},u=async $=>{try{const L="trailer_history",T=zd($,e.currentSheet),D=await le.addRow(L,T);if(D.success){const U=zd(D.data,e.currentSheet);return r({type:oe.ADD_SALES_ENTRY,payload:U}),{success:!0}}else return{success:!1,error:D.error}}catch(L){return{success:!1,error:L.message}}},d=async($,L)=>{try{const T=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",D=await le.updateRow(T,$,L);if(D.success){const U={...L,id:$};return r({type:oe.UPDATE_SALES_ENTRY,payload:U}),{success:!0}}else return{success:!1,error:D.error}}catch(T){return{success:!1,error:T.message}}},f=async $=>{try{const L=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",T=await le.deleteRow(L,$);return T.success?(r({type:oe.DELETE_SALES_ENTRY,payload:$}),{success:!0}):{success:!1,error:T.error}}catch(L){return{success:!1,error:L.message}}},h=async $=>{try{const L=ad($),T=await le.addRow("venues",L);if(T.success){const D=ad(T.data);return r({type:oe.ADD_VENUE_ENTRY,payload:D}),{success:!0}}else return{success:!1,error:T.error}}catch(L){return{success:!1,error:L.message}}},p=async($,L)=>{try{const T=ad(L),D=await le.updateRow("venues",$,T);if(D.success){const U={...L,id:$};return r({type:oe.UPDATE_VENUE_ENTRY,payload:U}),{success:!0}}else return{success:!1,error:D.error}}catch(T){return{success:!1,error:T.message}}},m=async $=>{try{const L=await le.deleteRow("venues",$);return L.success?(r({type:oe.DELETE_VENUE_ENTRY,payload:$}),{success:!0}):{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},g=async $=>{try{const L=C_($,!0),T=await le.addRow("staff",L);if(T.success){const D=N_(T.data);return r({type:oe.ADD_STAFF_ENTRY,payload:D}),{success:!0}}else return{success:!1,error:T.error}}catch(L){return{success:!1,error:L.message}}},v=async($,L)=>{try{const T=C_(L,!1),D=await le.updateRow("staff",$,T);if(D.success){const U={...L,id:$};return r({type:oe.UPDATE_STAFF_ENTRY,payload:U}),{success:!0}}else return{success:!1,error:D.error}}catch(T){return{success:!1,error:T.message}}},x=async $=>{try{const L=await le.deleteRow("staff",$);return L.success?(r({type:oe.DELETE_STAFF_ENTRY,payload:$}),{success:!0}):{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},y=$=>{r({type:oe.SET_CURRENT_MONTH,payload:$})},b=$=>{r({type:oe.SET_SELECTED_VENUE,payload:$})},S=()=>{r({type:oe.SET_ERROR,payload:null})},w=$=>{r({type:oe.SET_IS_AUTHENTICATED,payload:$})},_=$=>{r({type:oe.SET_USER,payload:$})},E=async($,L)=>{try{const T=await le.signIn($,L);return T.success?(_(T.data),{success:!0}):{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},j=async($,L,T)=>{try{const D=await le.signUp($,L,T);return D.success?{success:!0}:{success:!1,error:D.error}}catch(D){return{success:!1,error:D.message}}},A=async()=>{try{const $=await le.signOut();return $.success?(_(null),{success:!0}):{success:!1,error:$.error}}catch($){return{success:!1,error:$.message}}},C=async()=>{try{const $=await le.getCurrentUser();return $.success?(_($.data),!0):(_(null),!1)}catch{return _(null),!1}},O=async $=>{try{const L=await le.resendConfirmationEmail($);return L.success?{success:!0}:{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},P=async $=>{try{if($){const L=await le.init();return r({type:oe.SET_IS_AUTHENTICATED,payload:L}),L}else return r({type:oe.SET_IS_AUTHENTICATED,payload:!1}),!0}catch(L){return console.error("Supabase connection toggle error:",L),r({type:oe.SET_IS_AUTHENTICATED,payload:!1}),!1}},k=()=>e.staffData.filter($=>$.status==="Active"),z=async $=>{try{const L=await le.getMessages($);if(L.success){const T=L.data.map(D=>{const U=e.usersData.find(q=>q.id===D.sender_id);return{...D,sender:U?{id:U.id,name:U.name,email:U.email}:{id:D.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"}}});r({type:oe.SET_MESSAGES_DATA,payload:T})}}catch(L){console.error("Failed to load messages:",L)}},V=async $=>{var L,T;try{const D=await le.sendMessage($);if(D.success){const U={...D.data,sender:{id:$.sender_id,name:((L=e.currentUser)==null?void 0:L.name)||"Unknown User",email:((T=e.currentUser)==null?void 0:T.email)||"unknown@scrubshop.com"}};return r({type:oe.ADD_MESSAGE,payload:U}),{success:!0}}else return{success:!1,error:D.error}}catch(D){return{success:!1,error:D.message}}},Y=$=>{r({type:oe.SET_CURRENT_USER,payload:$})},M=$=>{r({type:oe.SET_SELECTED_GROUP,payload:$})},R=async()=>{try{const $=await le.getTasks();$.success&&r({type:oe.SET_TASKS_DATA,payload:$.data})}catch($){console.error("Failed to load tasks:",$)}},B=async $=>{try{const L=await le.createTask($);return L.success?(r({type:oe.ADD_TASK,payload:L.data}),{success:!0}):{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},F=async($,L)=>{try{const T=await le.updateTask($,L);return T.success?(r({type:oe.UPDATE_TASK,payload:{id:$,...L}}),{success:!0}):{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},W=async $=>{try{const L=await le.deleteTask($);return L.success?(r({type:oe.DELETE_TASK,payload:$}),{success:!0}):{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},G=async $=>{try{const L=await le.getTaskComments($);L.success&&r({type:oe.SET_TASK_COMMENTS,payload:L.data})}catch(L){console.error("Failed to load task comments:",L)}},K=async $=>{try{const L=await le.addTaskComment($);return L.success?(r({type:oe.ADD_TASK_COMMENT,payload:L.data}),{success:!0}):{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},ie=$=>{r({type:oe.SET_SELECTED_TASK,payload:$})},se=H.useCallback(async $=>{try{let L=$.isWorkDay?"WORK DAY":$.venue||"";if($.isWorkDay&&$.workers&&$.workers.length>0){const U=$.workers.join(","),q=$.hours||"0";L=`WORK DAY|${U}|${q}`}const T={date:$.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:L,Store:$.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},D=await le.addRow("trailer_history",T);return D.success?{success:!0,data:{id:D.data.id,title:$.title,date:$.date,backgroundColor:$.isWorkDay?"#fefce8":"#dcfce7",borderColor:$.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:$.isWorkDay?"workday":"sale",workers:$.workers,worker:$.workers.join(", "),hours:$.hours,venueId:$.venueId,venue:e.venuesData.find(q=>q.id===$.venueId)}}}:{success:!1,error:D.error}}catch(L){return{success:!1,error:L.message}}},[e.currentSheet,e.venuesData]),ye=H.useCallback(async($,L)=>{try{let T=L.isWorkDay?"WORK DAY":L.venue||"";if(L.isWorkDay&&L.workers&&L.workers.length>0){const q=L.workers.join(","),te=L.hours||"0";T=`WORK DAY|${q}|${te}`}const D={date:L.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:T,Store:L.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},U=await le.updateRow("trailer_history",$,D);return U.success?{success:!0,data:{id:$,title:L.title,date:L.date,backgroundColor:L.isWorkDay?"#fefce8":"#dcfce7",borderColor:L.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:L.isWorkDay?"workday":"sale",workers:L.workers,worker:L.workers.join(", "),hours:L.hours,venueId:L.venueId,venue:e.venuesData.find(te=>te.id===L.venueId)}}}:{success:!1,error:U.error}}catch(T){return{success:!1,error:T.message}}},[e.currentSheet,e.venuesData]),Te=H.useCallback(async $=>{try{const L=await le.deleteRow("trailer_history",$);return L.success?{success:!0}:{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},[]),ge=H.useCallback(async()=>{try{const $=await le.readTable("trailer_history",{filters:{Store:99}});return $.success?{success:!0,data:$.data.map(T=>{let D=[],U="";if(T.common_venue_name.startsWith("WORK DAY|")){const q=T.common_venue_name.split("|");q.length>=3&&(D=q[1].split(",").filter(te=>te.trim()!==""),U=q[2]||"")}return{id:T.id,title:"Work Day",date:T.date,backgroundColor:"#fefce8",borderColor:"#fde047",extendedProps:{type:"workday",workers:D,worker:D.join(", "),hours:U,venueId:null,venue:null}}})}:{success:!1,error:$.error}}catch($){return{success:!1,error:$.message}}},[]),Z={...e,workers:k(),supabaseAPI:le,setCurrentSheet:l,addSalesEntry:u,updateSalesEntry:d,deleteSalesEntry:f,addVenueEntry:h,updateVenueEntry:p,deleteVenueEntry:m,addStaffEntry:g,updateStaffEntry:v,deleteStaffEntry:x,setCurrentMonth:y,setSelectedVenue:b,clearError:S,loadSalesData:a,loadVenuesData:s,loadStaffData:o,setIsAuthenticated:w,setUser:_,signIn:E,signUp:j,signOut:A,checkAuth:C,resendConfirmationEmail:O,toggleSupabaseConnection:P,loadStaffAndGroups:n,loadMessages:z,sendMessage:V,setCurrentUser:Y,setSelectedGroup:M,loadTasks:R,addTask:B,updateTask:F,deleteTask:W,loadTaskComments:G,addTaskComment:K,setSelectedTask:ie,addCalendarEvent:se,updateCalendarEvent:ye,deleteCalendarEvent:Te,loadCalendarEvents:ge};return c.jsx(Fk.Provider,{value:Z,children:t})}function Et(){const t=N.useContext(Fk);if(!t)throw new Error("useApp must be used within an AppProvider");return t}function TU({onSuccess:t,onSwitchToRegister:e}){const[r,n]=N.useState(""),[i,a]=N.useState(""),[s,o]=N.useState(!1),[l,u]=N.useState(""),{signIn:d}=Et(),f=async h=>{h.preventDefault(),o(!0),u("");try{const p=await d(r,i);p.success?t&&t():u(p.error||"Login failed")}catch(p){u("An unexpected error occurred"),console.error("Login error:",p)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Scrub Shop"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your sales dashboard and management tools"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:h=>n(h.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:i,onChange:h=>a(h.target.value)})]})]}),l&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:l})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Don't have an account? Sign up"})})]})]})})}function NU({email:t,onConfirmed:e}){const[r,n]=N.useState(!1),[i,a]=N.useState(""),[s,o]=N.useState(""),{resendConfirmationEmail:l}=Et(),u=async()=>{n(!0),a(""),o("");try{const d=await l(t);d.success?o("Confirmation email sent! Please check your inbox."):a(d.error||"Failed to resend confirmation email")}catch(d){a("An unexpected error occurred"),console.error("Resend error:",d)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Email"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["We sent a confirmation email to ",t]})]}),c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please check your email and click the confirmation link to verify your account."}),s&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:s})}),i&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:i})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:u,disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending...":"Resend Confirmation Email"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"I've Confirmed My Email"})]}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try resending."})})]})})]})})}function CU({onSuccess:t,onSwitchToLogin:e}){const[r,n]=N.useState(""),[i,a]=N.useState(""),[s,o]=N.useState(""),[l,u]=N.useState(""),[d,f]=N.useState(!1),[h,p]=N.useState(""),[m,g]=N.useState(""),[v,x]=N.useState(!1),{signUp:y}=Et(),b=async S=>{if(S.preventDefault(),f(!0),p(""),g(""),i!==s){p("Passwords do not match"),f(!1);return}if(i.length<6){p("Password must be at least 6 characters long"),f(!1);return}try{const w=await y(r,i,l);w.success?x(!0):p(w.error||"Registration failed")}catch(w){p("An unexpected error occurred"),console.error("Registration error:",w)}finally{f(!1)}};return v?c.jsx(NU,{email:r,onConfirmed:t}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Scrub Shop management team"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:l,onChange:S=>u(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:S=>n(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password (min 6 characters)",value:i,onChange:S=>a(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:S=>o(S.target.value)})]})]}),h&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:h})}),m&&c.jsx("div",{className:"rounded-md bg-green-50 p-4",children:c.jsx("div",{className:"text-sm text-green-700",children:m})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating account...":"Create account"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Already have an account? Sign in"})})]})]})})}function kU({children:t}){const{user:e,loading:r}=Et(),[n,i]=H.useState(!1);return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):e?t:n?c.jsx(CU,{onSuccess:()=>i(!1),onSwitchToLogin:()=>i(!1)}):c.jsx(TU,{onSuccess:()=>{},onSwitchToRegister:()=>i(!0)})}var OU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PU=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>N.createElement("svg",{ref:u,...OU,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${DU(t)}`,...l},[...e.map(([d,f])=>N.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Ae=PU;const ey=Ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),MU=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Wd=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ty=Ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Qx=Ae("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Cr=Ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),k_=Ae("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),ry=Ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),RU=Ae("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Jl=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Zx=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Jx=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),oa=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Vn=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Bk=Ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ny=Ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),IU=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),An=Ae("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),$U=Ae("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),LU=Ae("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),UU=Ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),FU=Ae("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),BU=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),yn=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),HU=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ls=Ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),zU=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),la=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),WU=Ae("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),eb=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),VU=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),GU=Ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Nf=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Hk=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ca=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),vp=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),iy=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Xa=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),kn=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),qU=Ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Nc=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zk=Ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Wk(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Wk(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function YU(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Wk(t))&&(n&&(n+=" "),n+=e);return n}function KU(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=Vk(e))&&(n&&(n+=" "),n+=r);return n}function Vk(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=Vk(t[n]))&&(r&&(r+=" "),r+=e);return r}var tb="-";function XU(t){var e=ZU(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(o){var l=o.split(tb);return l[0]===""&&l.length!==1&&l.shift(),Gk(l,e)||QU(o)}function s(o,l){var u=r[o]||[];return l&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:a,getConflictingClassGroupIds:s}}function Gk(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?Gk(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(tb);return(s=e.validators.find(function(o){var l=o.validator;return l(a)}))==null?void 0:s.classGroupId}}var O_=/^\[(.+)\]$/;function QU(t){if(O_.test(t)){var e=O_.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function ZU(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=eF(Object.entries(t.classGroups),r);return i.forEach(function(a){var s=a[0],o=a[1];ay(o,n,s,e)}),n}function ay(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:D_(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(JU(i)){ay(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(s){var o=s[0],l=s[1];ay(l,D_(e,o),r,n)})})}function D_(t,e){var r=t;return e.split(tb).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function JU(t){return t.isThemeGetter}function eF(t,e){return e?t.map(function(r){var n=r[0],i=r[1],a=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[e+l,u]})):s});return[n,a]}):t}function tF(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(a,s){r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):i(s,o)}}}var qk="!";function rF(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(s){for(var o=[],l=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===n&&(r||s.slice(f,f+i)===e)){o.push(s.slice(u,f)),u=f+i;continue}if(h==="/"){d=f;continue}}h==="["?l++:h==="]"&&l--}var p=o.length===0?s:s.substring(u),m=p.startsWith(qk),g=m?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}}}function nF(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function iF(t){return{cache:tF(t.cacheSize),splitModifiers:rF(t),...XU(t)}}var aF=/\s+/;function sF(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(aF).map(function(s){var o=r(s),l=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};p=!1}var m=nF(l).join(":"),g=u?m+qk:m;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,d=o+l;return a.has(d)?!1:(a.add(d),i(l,u).forEach(function(f){return a.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function oF(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,a,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(p,m){return m(p)},d());return n=iF(h),i=n.cache.get,a=n.cache.set,s=l,l(u)}function l(u){var d=i(u);if(d)return d;var f=sF(u,n);return a(u,f),f}return function(){return s(KU.apply(null,arguments))}}function st(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var Yk=/^\[(?:([a-z-]+):)?(.+)\]$/i,lF=/^\d+\/\d+$/,cF=new Set(["px","full","screen"]),uF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fF=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function tn(t){return Pa(t)||cF.has(t)||lF.test(t)||sy(t)}function sy(t){return cs(t,"length",yF)}function hF(t){return cs(t,"size",Kk)}function pF(t){return cs(t,"position",Kk)}function mF(t){return cs(t,"url",xF)}function sd(t){return cs(t,"number",Pa)}function Pa(t){return!Number.isNaN(Number(t))}function gF(t){return t.endsWith("%")&&Pa(t.slice(0,-1))}function yl(t){return P_(t)||cs(t,"number",P_)}function Pe(t){return Yk.test(t)}function xl(){return!0}function bi(t){return uF.test(t)}function vF(t){return cs(t,"",bF)}function cs(t,e,r){var n=Yk.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function yF(t){return dF.test(t)}function Kk(){return!1}function xF(t){return t.startsWith("url(")}function P_(t){return Number.isInteger(Number(t))}function bF(t){return fF.test(t)}function wF(){var t=st("colors"),e=st("spacing"),r=st("blur"),n=st("brightness"),i=st("borderColor"),a=st("borderRadius"),s=st("borderSpacing"),o=st("borderWidth"),l=st("contrast"),u=st("grayscale"),d=st("hueRotate"),f=st("invert"),h=st("gap"),p=st("gradientColorStops"),m=st("gradientColorStopPositions"),g=st("inset"),v=st("margin"),x=st("opacity"),y=st("padding"),b=st("saturate"),S=st("scale"),w=st("sepia"),_=st("skew"),E=st("space"),j=st("translate"),A=function(){return["auto","contain","none"]},C=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",Pe,e]},P=function(){return[Pe,e]},k=function(){return["",tn]},z=function(){return["auto",Pa,Pe]},V=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Y=function(){return["solid","dashed","dotted","double","none"]},M=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},R=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",Pe]},F=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},W=function(){return[Pa,sd]},G=function(){return[Pa,Pe]};return{cacheSize:500,theme:{colors:[xl],spacing:[tn],blur:["none","",bi,Pe],brightness:W(),borderColor:[t],borderRadius:["none","","full",bi,Pe],borderSpacing:P(),borderWidth:k(),contrast:W(),grayscale:B(),hueRotate:G(),invert:B(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[gF,sy],inset:O(),margin:O(),opacity:W(),padding:P(),saturate:W(),scale:W(),sepia:B(),skew:G(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[bi]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(V(),[Pe])}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yl]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",yl]}],"grid-cols":[{"grid-cols":[xl]}],"col-start-end":[{col:["auto",{span:["full",yl]},Pe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[xl]}],"row-start-end":[{row:["auto",{span:[yl]},Pe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(R())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(R(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(R(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Pe,e]}],"min-w":[{"min-w":["min","max","fit",Pe,tn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[bi]},bi,Pe]}],h:[{h:[Pe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Pe,tn]}],"max-h":[{"max-h":[Pe,e,"min","max","fit"]}],"font-size":[{text:["base",bi,sy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sd]}],"font-family":[{font:[xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Pa,sd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pe,tn]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Y(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",tn]}],"underline-offset":[{"underline-offset":["auto",Pe,tn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(V(),[pF])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(Y(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(Y())}],"outline-offset":[{"outline-offset":[Pe,tn]}],"outline-w":[{outline:[tn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[tn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bi,vF]}],"shadow-color":[{shadow:[xl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",bi,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[yl,Pe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tn,sd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var SF=oF(wF);function He(...t){return SF(YU(t))}function _F(){const{user:t,signOut:e}=Et();return t?c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:t.name||t.email}),t.role&&c.jsxs("span",{className:"ml-2 text-gray-500",children:["(",t.role,")"]})]}),c.jsx("button",{onClick:e,className:"text-sm text-gray-500 hover:text-gray-700",children:"Sign out"})]}):null}const Rt={MANAGER:"Manager",WORKER:"Worker"},EF={"/dashboard":[Rt.MANAGER,Rt.WORKER],"/tasks":[Rt.MANAGER,Rt.WORKER],"/messages":[Rt.MANAGER,Rt.WORKER],"/sales-analysis":[Rt.MANAGER],"/scheduler":[Rt.MANAGER,Rt.WORKER],"/daily-sales":[Rt.MANAGER],"/venues":[Rt.MANAGER,Rt.WORKER],"/calendar":[Rt.MANAGER,Rt.WORKER],"/bonuses":[Rt.MANAGER],"/staff":[Rt.MANAGER],"/admin/sales-upload":[Rt.MANAGER]},jF=(t,e)=>{if(!t||!t.role)return!1;const r=EF[e];return r?r.includes(t.role):!1},eg=(t,e)=>e?t.filter(r=>jF(e,r.href)):[],od=t=>t&&t.role===Rt.MANAGER,AF=({size:t="medium",className:e=""})=>{const n=(()=>{switch(t){case"small":return{welcome:"text-xs",main:"text-lg",tagline:"text-xs",container:"py-1"};case"large":return{welcome:"text-lg",main:"text-3xl",tagline:"text-base",container:"py-3"};default:return{welcome:"text-sm",main:"text-2xl",tagline:"text-sm",container:"py-2"}}})();return c.jsxs("div",{className:`flex flex-col items-center justify-center ${e}`,children:[c.jsx("div",{className:`font-bold text-black mb-1 ${n.welcome}`,children:"WELCOME TO"}),c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("span",{className:`italic text-green-500 mr-1 ${n.welcome}`,children:"The"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:`italic font-bold text-white ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Scrub"}),c.jsx("span",{className:`italic font-bold text-green-500 ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Shop"})]})]}),c.jsx("div",{className:`bg-black rounded-lg px-2 ${n.container}`,children:c.jsx("span",{className:`font-bold text-white ${n.tagline}`,children:"FOOTWEAR & APPAREL"})})]})},TF=()=>{const t=Vo(),{currentSheet:e,setCurrentSheet:r,currentUser:n,setCurrentUser:i,staffData:a}=Et(),[s,o]=N.useState(!1),[l,u]=N.useState(!1),[d,f]=N.useState(!1),h=N.useRef(null),p=N.useRef(null),m=N.useRef(null);N.useEffect(()=>{const E=j=>{h.current&&!h.current.contains(j.target)&&o(!1),p.current&&!p.current.contains(j.target)&&u(!1),m.current&&!m.current.contains(j.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const g=E=>E==="/"?t.pathname==="/":t.pathname.startsWith(E),v=E=>{const j=a.find(A=>A.id===parseInt(E));i(j),o(!1)},x=[{name:"Dashboard",href:"/dashboard",icon:ty},{name:"Tasks",href:"/tasks",icon:RU},{name:"Messages",href:"/messages",icon:HU},{name:"Scheduler",href:"/scheduler",icon:oa}],y=[{name:"Daily Sales",href:"/daily-sales",icon:ty},{name:"Venues",href:"/venues",icon:yn},{name:"Calendar",href:"/calendar",icon:Cr},{name:"Bonuses",href:"/bonuses",icon:vp}],b=[{name:"Staff",href:"/staff",icon:kn},{name:"Sales Upload",href:"/admin/sales-upload",icon:iy}],S=eg(x,n),w=eg(y,n),_=eg(b,n);return c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-secondary-200 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(AF,{size:"small",className:"text-primary-600"})}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[S.map(E=>{const j=E.icon;return c.jsxs(ys,{to:E.href,className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g(E.href)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)}),w.length>0&&c.jsxs("div",{className:"relative",ref:p,onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=p.current)!=null&&E.matches(":hover")||u(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/daily-sales")||g("/venues")||g("/calendar")||g("/bonuses")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(k_,{className:"w-4 h-4 mr-2"}),"ROAD",c.jsx(Jl,{className:"w-4 h-4 ml-1"})]}),l&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=p.current)!=null&&E.matches(":hover")||u(!1)},200)},children:w.map(E=>{const j=E.icon;return c.jsxs(ys,{to:E.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(E.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)})})]}),_.length>0&&c.jsxs("div",{className:"relative",ref:m,onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=m.current)!=null&&E.matches(":hover")||f(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/staff")||g("/admin/sales-upload")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(Nf,{className:"w-4 h-4 mr-2"}),"ADMIN",c.jsx(Jl,{className:"w-4 h-4 ml-1"})]}),d&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=m.current)!=null&&E.matches(":hover")||f(!1)},200)},children:_.map(E=>{const j=E.icon;return c.jsxs(ys,{to:E.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(E.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(_F,{}),n&&c.jsx("div",{className:"hidden sm:flex items-center px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:c.jsx("span",{className:"font-medium",children:n.role||"No Role"})}),c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(Xa,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:n?`${n.name} (${n.role||"No Role"})`:"Select User"}),c.jsx(Jl,{className:"w-4 h-4"})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Select your name"}),a.map(E=>c.jsx("button",{onClick:()=>v(E.id),className:He("w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors",(n==null?void 0:n.id)===E.id?"bg-primary-50 text-primary-700":"text-gray-700"),children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:E.name}),c.jsx("div",{className:"text-xs text-gray-500",children:E.role||"No Role"})]})},E.id))]})]})]})]}),c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-secondary-200",children:[S.map(E=>{const j=E.icon;return c.jsxs(ys,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)}),w.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(k_,{className:"w-4 h-4 mb-1"}),"ROAD"]}),_.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(Nf,{className:"w-4 h-4 mb-1"}),"ADMIN"]})]}),w.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:w.map(E=>{const j=E.icon;return c.jsxs(ys,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)})})}),_.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:_.map(E=>{const j=E.icon;return c.jsxs(ys,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)})})})]})]})})};function Xk(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Xk(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Xk(t))&&(n&&(n+=" "),n+=e);return n}var NF=Array.isArray,Sr=NF,CF=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,Qk=CF,kF=Qk,OF=typeof self=="object"&&self&&self.Object===Object&&self,DF=kF||OF||Function("return this")(),In=DF,PF=In,MF=PF.Symbol,wu=MF,M_=wu,Zk=Object.prototype,RF=Zk.hasOwnProperty,IF=Zk.toString,bl=M_?M_.toStringTag:void 0;function $F(t){var e=RF.call(t,bl),r=t[bl];try{t[bl]=void 0;var n=!0}catch{}var i=IF.call(t);return n&&(e?t[bl]=r:delete t[bl]),i}var LF=$F,UF=Object.prototype,FF=UF.toString;function BF(t){return FF.call(t)}var HF=BF,R_=wu,zF=LF,WF=HF,VF="[object Null]",GF="[object Undefined]",I_=R_?R_.toStringTag:void 0;function qF(t){return t==null?t===void 0?GF:VF:I_&&I_ in Object(t)?zF(t):WF(t)}var hi=qF;function YF(t){return t!=null&&typeof t=="object"}var pi=YF,KF=hi,XF=pi,QF="[object Symbol]";function ZF(t){return typeof t=="symbol"||XF(t)&&KF(t)==QF}var Yo=ZF,JF=Sr,eB=Yo,tB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rB=/^\w*$/;function nB(t,e){if(JF(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||eB(t)?!0:rB.test(t)||!tB.test(t)||e!=null&&t in Object(e)}var rb=nB;function iB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ua=iB;const Ko=Qe(ua);var aB=hi,sB=ua,oB="[object AsyncFunction]",lB="[object Function]",cB="[object GeneratorFunction]",uB="[object Proxy]";function dB(t){if(!sB(t))return!1;var e=aB(t);return e==lB||e==cB||e==oB||e==uB}var nb=dB;const Ce=Qe(nb);var fB=In,hB=fB["__core-js_shared__"],pB=hB,tg=pB,$_=function(){var t=/[^.]+$/.exec(tg&&tg.keys&&tg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mB(t){return!!$_&&$_ in t}var gB=mB,vB=Function.prototype,yB=vB.toString;function xB(t){if(t!=null){try{return yB.call(t)}catch{}try{return t+""}catch{}}return""}var Jk=xB,bB=nb,wB=gB,SB=ua,_B=Jk,EB=/[\\^$.*+?()[\]{}|]/g,jB=/^\[object .+?Constructor\]$/,AB=Function.prototype,TB=Object.prototype,NB=AB.toString,CB=TB.hasOwnProperty,kB=RegExp("^"+NB.call(CB).replace(EB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OB(t){if(!SB(t)||wB(t))return!1;var e=bB(t)?kB:jB;return e.test(_B(t))}var DB=OB;function PB(t,e){return t==null?void 0:t[e]}var MB=PB,RB=DB,IB=MB;function $B(t,e){var r=IB(t,e);return RB(r)?r:void 0}var us=$B,LB=us,UB=LB(Object,"create"),yp=UB,L_=yp;function FB(){this.__data__=L_?L_(null):{},this.size=0}var BB=FB;function HB(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zB=HB,WB=yp,VB="__lodash_hash_undefined__",GB=Object.prototype,qB=GB.hasOwnProperty;function YB(t){var e=this.__data__;if(WB){var r=e[t];return r===VB?void 0:r}return qB.call(e,t)?e[t]:void 0}var KB=YB,XB=yp,QB=Object.prototype,ZB=QB.hasOwnProperty;function JB(t){var e=this.__data__;return XB?e[t]!==void 0:ZB.call(e,t)}var e6=JB,t6=yp,r6="__lodash_hash_undefined__";function n6(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=t6&&e===void 0?r6:e,this}var i6=n6,a6=BB,s6=zB,o6=KB,l6=e6,c6=i6;function Xo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xo.prototype.clear=a6;Xo.prototype.delete=s6;Xo.prototype.get=o6;Xo.prototype.has=l6;Xo.prototype.set=c6;var u6=Xo;function d6(){this.__data__=[],this.size=0}var f6=d6;function h6(t,e){return t===e||t!==t&&e!==e}var ib=h6,p6=ib;function m6(t,e){for(var r=t.length;r--;)if(p6(t[r][0],e))return r;return-1}var xp=m6,g6=xp,v6=Array.prototype,y6=v6.splice;function x6(t){var e=this.__data__,r=g6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():y6.call(e,r,1),--this.size,!0}var b6=x6,w6=xp;function S6(t){var e=this.__data__,r=w6(e,t);return r<0?void 0:e[r][1]}var _6=S6,E6=xp;function j6(t){return E6(this.__data__,t)>-1}var A6=j6,T6=xp;function N6(t,e){var r=this.__data__,n=T6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var C6=N6,k6=f6,O6=b6,D6=_6,P6=A6,M6=C6;function Qo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qo.prototype.clear=k6;Qo.prototype.delete=O6;Qo.prototype.get=D6;Qo.prototype.has=P6;Qo.prototype.set=M6;var bp=Qo,R6=us,I6=In,$6=R6(I6,"Map"),ab=$6,U_=u6,L6=bp,U6=ab;function F6(){this.size=0,this.__data__={hash:new U_,map:new(U6||L6),string:new U_}}var B6=F6;function H6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var z6=H6,W6=z6;function V6(t,e){var r=t.__data__;return W6(e)?r[typeof e=="string"?"string":"hash"]:r.map}var wp=V6,G6=wp;function q6(t){var e=G6(this,t).delete(t);return this.size-=e?1:0,e}var Y6=q6,K6=wp;function X6(t){return K6(this,t).get(t)}var Q6=X6,Z6=wp;function J6(t){return Z6(this,t).has(t)}var eH=J6,tH=wp;function rH(t,e){var r=tH(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var nH=rH,iH=B6,aH=Y6,sH=Q6,oH=eH,lH=nH;function Zo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zo.prototype.clear=iH;Zo.prototype.delete=aH;Zo.prototype.get=sH;Zo.prototype.has=oH;Zo.prototype.set=lH;var sb=Zo,eO=sb,cH="Expected a function";function ob(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cH);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(ob.Cache||eO),r}ob.Cache=eO;var tO=ob;const uH=Qe(tO);var dH=tO,fH=500;function hH(t){var e=dH(t,function(n){return r.size===fH&&r.clear(),n}),r=e.cache;return e}var pH=hH,mH=pH,gH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vH=/\\(\\)?/g,yH=mH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(gH,function(r,n,i,a){e.push(i?a.replace(vH,"$1"):n||r)}),e}),xH=yH;function bH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var lb=bH,F_=wu,wH=lb,SH=Sr,_H=Yo,EH=1/0,B_=F_?F_.prototype:void 0,H_=B_?B_.toString:void 0;function rO(t){if(typeof t=="string")return t;if(SH(t))return wH(t,rO)+"";if(_H(t))return H_?H_.call(t):"";var e=t+"";return e=="0"&&1/t==-EH?"-0":e}var jH=rO,AH=jH;function TH(t){return t==null?"":AH(t)}var nO=TH,NH=Sr,CH=rb,kH=xH,OH=nO;function DH(t,e){return NH(t)?t:CH(t,e)?[t]:kH(OH(t))}var iO=DH,PH=Yo,MH=1/0;function RH(t){if(typeof t=="string"||PH(t))return t;var e=t+"";return e=="0"&&1/t==-MH?"-0":e}var Sp=RH,IH=iO,$H=Sp;function LH(t,e){e=IH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[$H(e[r++])];return r&&r==n?t:void 0}var cb=LH,UH=cb;function FH(t,e,r){var n=t==null?void 0:UH(t,e);return n===void 0?r:n}var aO=FH;const qr=Qe(aO);function BH(t){return t==null}var HH=BH;const Oe=Qe(HH);var zH=hi,WH=Sr,VH=pi,GH="[object String]";function qH(t){return typeof t=="string"||!WH(t)&&VH(t)&&zH(t)==GH}var YH=qH;const Qa=Qe(YH);var sO={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=Symbol.for("react.element"),db=Symbol.for("react.portal"),_p=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),Ap=Symbol.for("react.provider"),Tp=Symbol.for("react.context"),KH=Symbol.for("react.server_context"),Np=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),kp=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),XH=Symbol.for("react.offscreen"),oO;oO=Symbol.for("react.module.reference");function Zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ub:switch(t=t.type,t){case _p:case jp:case Ep:case Cp:case kp:return t;default:switch(t=t&&t.$$typeof,t){case KH:case Tp:case Np:case Dp:case Op:case Ap:return t;default:return e}}case db:return e}}}Ge.ContextConsumer=Tp;Ge.ContextProvider=Ap;Ge.Element=ub;Ge.ForwardRef=Np;Ge.Fragment=_p;Ge.Lazy=Dp;Ge.Memo=Op;Ge.Portal=db;Ge.Profiler=jp;Ge.StrictMode=Ep;Ge.Suspense=Cp;Ge.SuspenseList=kp;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return Zr(t)===Tp};Ge.isContextProvider=function(t){return Zr(t)===Ap};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ub};Ge.isForwardRef=function(t){return Zr(t)===Np};Ge.isFragment=function(t){return Zr(t)===_p};Ge.isLazy=function(t){return Zr(t)===Dp};Ge.isMemo=function(t){return Zr(t)===Op};Ge.isPortal=function(t){return Zr(t)===db};Ge.isProfiler=function(t){return Zr(t)===jp};Ge.isStrictMode=function(t){return Zr(t)===Ep};Ge.isSuspense=function(t){return Zr(t)===Cp};Ge.isSuspenseList=function(t){return Zr(t)===kp};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_p||t===jp||t===Ep||t===Cp||t===kp||t===XH||typeof t=="object"&&t!==null&&(t.$$typeof===Dp||t.$$typeof===Op||t.$$typeof===Ap||t.$$typeof===Tp||t.$$typeof===Np||t.$$typeof===oO||t.getModuleId!==void 0)};Ge.typeOf=Zr;sO.exports=Ge;var QH=sO.exports,ZH=hi,JH=pi,e5="[object Number]";function t5(t){return typeof t=="number"||JH(t)&&ZH(t)==e5}var lO=t5;const r5=Qe(lO);var n5=lO;function i5(t){return n5(t)&&t!=+t}var a5=i5;const Su=Qe(a5);var hn=function(e){return e===0?0:e>0?1:-1},Ma=function(e){return Qa(e)&&e.indexOf("%")===e.length-1},ae=function(e){return r5(e)&&!Su(e)},s5=function(e){return Oe(e)},Pt=function(e){return ae(e)||Qa(e)},o5=0,_u=function(e){var r=++o5;return"".concat(e||"").concat(r)},Za=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!Qa(e))return n;var a;if(Ma(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Su(a)&&(a=n),i&&a>r&&(a=r),a},Oi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},l5=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},dn=function(e,r){return ae(e)&&ae(r)?function(n){return e+n*(r-e)}:function(){return r}};function Cf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):qr(n,e))===r})}var c5=function(e,r){return ae(e)&&ae(r)?e-r:Qa(e)&&Qa(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Zs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}var u5=["viewBox","children"],d5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z_=["points","pathLength"],rg={svg:u5,polygon:z_,polyline:z_},fb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!Ko(n))return null;var i={};return Object.keys(n).forEach(function(a){fb.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},f5=function(e,r,n){return function(i){return e(r,n,i),null}},Of=function(e,r,n){if(!Ko(e)||oy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];fb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=f5(s,r,n))}),i},h5=["children"],p5=["children"];function W_(t,e){if(t==null)return{};var r=m5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}var V_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},G_=null,ng=null,hb=function t(e){if(e===G_&&Array.isArray(ng))return ng;var r=[];return N.Children.forEach(e,function(n){Oe(n)||(QH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ng=r,G_=e,r};function Yr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Jn(i)}):n=[Jn(e)],hb(t).forEach(function(i){var a=qr(i,"type.displayName")||qr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ar(t,e){var r=Yr(t,e);return r&&r[0]}var q_=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ae(n)||n<=0||!ae(i)||i<=0)},g5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],v5=function(e){return e&&e.type&&Qa(e.type)&&g5.indexOf(e.type)>=0},y5=function(e){return e&&ly(e)==="object"&&"clipDot"in e},x5=function(e,r,n,i){var a,s=(a=rg==null?void 0:rg[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ce(e)&&(i&&s.includes(r)||d5.includes(r))||n&&fb.includes(r)},Re=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!Ko(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;x5((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},cy=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Y_(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Y_(a,s))return!1}return!0},Y_=function(e,r){if(Oe(e)&&Oe(r))return!0;if(!Oe(e)&&!Oe(r)){var n=e.props||{},i=n.children,a=W_(n,h5),s=r.props||{},o=s.children,l=W_(s,p5);return i&&o?Zs(a,l)&&cy(i,o):!i&&!o?Zs(a,l):!1}return!1},K_=function(e,r){var n=[],i={};return hb(e).forEach(function(a,s){if(v5(a))n.push(a);else if(a){var o=Jn(a.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},b5=function(e){var r=e&&e.type;return r&&V_[r]?V_[r]:null},w5=function(e,r){return hb(r).indexOf(e)},S5=["children","width","height","viewBox","className","style","title","desc"];function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uy.apply(this,arguments)}function _5(t,e){if(t==null)return{};var r=E5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=_5(t,S5),d=i||{width:r,height:n,x:0,y:0},f=$e("recharts-surface",a);return H.createElement("svg",uy({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,o),H.createElement("desc",null,l),e)}var j5=["children","className"];function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fy.apply(this,arguments)}function A5(t,e){if(t==null)return{};var r=T5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var St=H.forwardRef(function(t,e){var r=t.children,n=t.className,i=A5(t,j5),a=$e("recharts-layer",n);return H.createElement("g",fy({className:a},Re(i,!0),{ref:e}),r)}),ei=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function N5(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var C5=N5,k5=C5;function O5(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:k5(t,e,r)}var D5=O5,P5="\\ud800-\\udfff",M5="\\u0300-\\u036f",R5="\\ufe20-\\ufe2f",I5="\\u20d0-\\u20ff",$5=M5+R5+I5,L5="\\ufe0e\\ufe0f",U5="\\u200d",F5=RegExp("["+U5+P5+$5+L5+"]");function B5(t){return F5.test(t)}var cO=B5;function H5(t){return t.split("")}var z5=H5,uO="\\ud800-\\udfff",W5="\\u0300-\\u036f",V5="\\ufe20-\\ufe2f",G5="\\u20d0-\\u20ff",q5=W5+V5+G5,Y5="\\ufe0e\\ufe0f",K5="["+uO+"]",hy="["+q5+"]",py="\\ud83c[\\udffb-\\udfff]",X5="(?:"+hy+"|"+py+")",dO="[^"+uO+"]",fO="(?:\\ud83c[\\udde6-\\uddff]){2}",hO="[\\ud800-\\udbff][\\udc00-\\udfff]",Q5="\\u200d",pO=X5+"?",mO="["+Y5+"]?",Z5="(?:"+Q5+"(?:"+[dO,fO,hO].join("|")+")"+mO+pO+")*",J5=mO+pO+Z5,ez="(?:"+[dO+hy+"?",hy,fO,hO,K5].join("|")+")",tz=RegExp(py+"(?="+py+")|"+ez+J5,"g");function rz(t){return t.match(tz)||[]}var nz=rz,iz=z5,az=cO,sz=nz;function oz(t){return az(t)?sz(t):iz(t)}var lz=oz,cz=D5,uz=cO,dz=lz,fz=nO;function hz(t){return function(e){e=fz(e);var r=uz(e)?dz(e):void 0,n=r?r[0]:e.charAt(0),i=r?cz(r,1).join(""):e.slice(1);return n[t]()+i}}var pz=hz,mz=pz,gz=mz("toUpperCase"),vz=gz;const Pp=Qe(vz);function rt(t){return function(){return t}}const gO=Math.cos,Df=Math.sin,bn=Math.sqrt,Pf=Math.PI,Mp=2*Pf,my=Math.PI,gy=2*my,Sa=1e-6,yz=gy-Sa;function vO(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function xz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vO;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class bz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vO:xz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Sa)if(!(Math.abs(f*l-u*d)>Sa)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-o,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan((my-Math.acos((g+h-v)/(2*x*y)))/2),S=b/y,w=b/x;Math.abs(S-1)>Sa&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+w*l},${this._y1=r+w*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sa||Math.abs(this._y1-d)>Sa)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%gy+gy),h>yz?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sa&&this._append`A${n},${n},0,${+(h>=my)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function pb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new bz(e)}function mb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yO(t){this._context=t}yO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rp(t){return new yO(t)}function xO(t){return t[0]}function bO(t){return t[1]}function wO(t,e){var r=rt(!0),n=null,i=Rp,a=null,s=pb(o);t=typeof t=="function"?t:t===void 0?xO:rt(t),e=typeof e=="function"?e:e===void 0?bO:rt(e);function o(l){var u,d=(l=mb(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:rt(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function ld(t,e,r){var n=null,i=rt(!0),a=null,s=Rp,o=null,l=pb(u);t=typeof t=="function"?t:t===void 0?xO:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?bO:rt(+r);function u(f){var h,p,m,g=(f=mb(f)).length,v,x=!1,y,b=new Array(g),S=new Array(g);for(a==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(b[m],S[m]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+t(v,h,f),S[h]=+e(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):S[h]))}if(y)return o=null,y+""||null}function d(){return wO().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class SO{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function wz(t){return new SO(t,!0)}function Sz(t){return new SO(t,!1)}const gb={draw(t,e){const r=bn(e/Pf);t.moveTo(r,0),t.arc(0,0,r,0,Mp)}},_z={draw(t,e){const r=bn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},_O=bn(1/3),Ez=_O*2,jz={draw(t,e){const r=bn(e/Ez),n=r*_O;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Az={draw(t,e){const r=bn(e),n=-r/2;t.rect(n,n,r,r)}},Tz=.8908130915292852,EO=Df(Pf/10)/Df(7*Pf/10),Nz=Df(Mp/10)*EO,Cz=-gO(Mp/10)*EO,kz={draw(t,e){const r=bn(e*Tz),n=Nz*r,i=Cz*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Mp*a/5,o=gO(s),l=Df(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},ig=bn(3),Oz={draw(t,e){const r=-bn(e/(ig*3));t.moveTo(0,r*2),t.lineTo(-ig*r,-r),t.lineTo(ig*r,-r),t.closePath()}},Lr=-.5,Ur=bn(3)/2,vy=1/bn(12),Dz=(vy/2+1)*3,Pz={draw(t,e){const r=bn(e/Dz),n=r/2,i=r*vy,a=n,s=r*vy+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Lr*n-Ur*i,Ur*n+Lr*i),t.lineTo(Lr*a-Ur*s,Ur*a+Lr*s),t.lineTo(Lr*o-Ur*l,Ur*o+Lr*l),t.lineTo(Lr*n+Ur*i,Lr*i-Ur*n),t.lineTo(Lr*a+Ur*s,Lr*s-Ur*a),t.lineTo(Lr*o+Ur*l,Lr*l-Ur*o),t.closePath()}};function Mz(t,e){let r=null,n=pb(i);t=typeof t=="function"?t:rt(t||gb),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:rt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Mf(){}function Rf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function jO(t){this._context=t}jO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rz(t){return new jO(t)}function AO(t){this._context=t}AO.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iz(t){return new AO(t)}function TO(t){this._context=t}TO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $z(t){return new TO(t)}function NO(t){this._context=t}NO.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Lz(t){return new NO(t)}function X_(t){return t<0?-1:1}function Q_(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(X_(a)+X_(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Z_(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ag(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function If(t){this._context=t}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ag(this,this._t0,Z_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ag(this,Z_(this,r=Q_(this,t,e)),r);break;default:ag(this,this._t0,r=Q_(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function CO(t){this._context=new kO(t)}(CO.prototype=Object.create(If.prototype)).point=function(t,e){If.prototype.point.call(this,e,t)};function kO(t){this._context=t}kO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Uz(t){return new If(t)}function Fz(t){return new CO(t)}function OO(t){this._context=t}OO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=J_(t),i=J_(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function J_(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Bz(t){return new OO(t)}function Ip(t,e){this._context=t,this._t=e}Ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Hz(t){return new Ip(t,.5)}function zz(t){return new Ip(t,0)}function Wz(t){return new Ip(t,1)}function ho(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function yy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Vz(t,e){return t[e]}function Gz(t){const e=[];return e.key=t,e}function qz(){var t=rt([]),e=yy,r=ho,n=Vz;function i(a){var s=Array.from(t.apply(this,arguments),Gz),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=mb(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?yy:typeof a=="function"?a:rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??ho,i):r},i}function Yz(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}ho(t,e)}}function Kz(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}ho(t,e)}}function Xz(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,ho(t,e)}}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}var Qz=["type","size","sizeType"];function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xy.apply(this,arguments)}function e1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(r),!0).forEach(function(n){Zz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zz(t,e,r){return e=Jz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jz(t){var e=eW(t,"string");return Cc(e)=="symbol"?e:e+""}function eW(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tW(t,e){if(t==null)return{};var r=rW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DO={symbolCircle:gb,symbolCross:_z,symbolDiamond:jz,symbolSquare:Az,symbolStar:kz,symbolTriangle:Oz,symbolWye:Pz},nW=Math.PI/180,iW=function(e){var r="symbol".concat(Pp(e));return DO[r]||gb},aW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},sW=function(e,r){DO["symbol".concat(Pp(e))]=r},vb=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=tW(e,Qz),u=t1(t1({},l),{},{type:n,size:a,sizeType:o}),d=function(){var v=iW(n),x=Mz().type(v).size(aW(a,o,n));return x()},f=u.className,h=u.cx,p=u.cy,m=Re(u,!0);return h===+h&&p===+p&&a===+a?H.createElement("path",xy({},m,{className:$e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};vb.registerSymbol=sW;function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},by.apply(this,arguments)}function r1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(r),!0).forEach(function(n){kc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MO(n.key),n)}}function cW(t,e,r){return e&&n1(t.prototype,e),r&&n1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uW(t,e,r){return e=$f(e),dW(t,PO()?Reflect.construct(e,r||[],$f(t).constructor):e.apply(t,r))}function dW(t,e){if(e&&(po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fW(t)}function fW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(t)}function hW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wy(t,e)}function wy(t,e){return wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wy(t,e)}function kc(t,e,r){return e=MO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MO(t){var e=pW(t,"string");return po(e)=="symbol"?e:e+""}function pW(t,e){if(po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fr=32,yb=function(t){function e(){return lW(this,e),uW(this,e,arguments)}return hW(e,t),cW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Fr/2,s=Fr/6,o=Fr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Fr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Fr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Fr/8,"h").concat(Fr,"v").concat(Fr*3/4,"h").concat(-Fr,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var u=oW({},n);return delete u.legendIcon,H.cloneElement(n.legendIcon,u)}return H.createElement(vb,{fill:l,cx:a,cy:a,size:Fr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Fr,height:Fr},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=$e(kc(kc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Ce(p.value)?null:p.value;ei(!Ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return H.createElement("li",by({className:v,style:f,key:"legend-item-".concat(m)},Of(n.props,p,m)),H.createElement(dy,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(N.PureComponent);kc(yb,"displayName","Legend");kc(yb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mW=bp;function gW(){this.__data__=new mW,this.size=0}var vW=gW;function yW(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var xW=yW;function bW(t){return this.__data__.get(t)}var wW=bW;function SW(t){return this.__data__.has(t)}var _W=SW,EW=bp,jW=ab,AW=sb,TW=200;function NW(t,e){var r=this.__data__;if(r instanceof EW){var n=r.__data__;if(!jW||n.length<TW-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new AW(n)}return r.set(t,e),this.size=r.size,this}var CW=NW,kW=bp,OW=vW,DW=xW,PW=wW,MW=_W,RW=CW;function Jo(t){var e=this.__data__=new kW(t);this.size=e.size}Jo.prototype.clear=OW;Jo.prototype.delete=DW;Jo.prototype.get=PW;Jo.prototype.has=MW;Jo.prototype.set=RW;var RO=Jo,IW="__lodash_hash_undefined__";function $W(t){return this.__data__.set(t,IW),this}var LW=$W;function UW(t){return this.__data__.has(t)}var FW=UW,BW=sb,HW=LW,zW=FW;function Lf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new BW;++e<r;)this.add(t[e])}Lf.prototype.add=Lf.prototype.push=HW;Lf.prototype.has=zW;var IO=Lf;function WW(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var $O=WW;function VW(t,e){return t.has(e)}var LO=VW,GW=IO,qW=$O,YW=LO,KW=1,XW=2;function QW(t,e,r,n,i,a){var s=r&KW,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&XW?new GW:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(n)var v=s?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!qW(e,function(x,y){if(!YW(p,y)&&(m===x||i(m,x,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var UO=QW,ZW=In,JW=ZW.Uint8Array,e8=JW;function t8(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var r8=t8;function n8(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var xb=n8,i1=wu,a1=e8,i8=ib,a8=UO,s8=r8,o8=xb,l8=1,c8=2,u8="[object Boolean]",d8="[object Date]",f8="[object Error]",h8="[object Map]",p8="[object Number]",m8="[object RegExp]",g8="[object Set]",v8="[object String]",y8="[object Symbol]",x8="[object ArrayBuffer]",b8="[object DataView]",s1=i1?i1.prototype:void 0,sg=s1?s1.valueOf:void 0;function w8(t,e,r,n,i,a,s){switch(r){case b8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x8:return!(t.byteLength!=e.byteLength||!a(new a1(t),new a1(e)));case u8:case d8:case p8:return i8(+t,+e);case f8:return t.name==e.name&&t.message==e.message;case m8:case v8:return t==e+"";case h8:var o=s8;case g8:var l=n&l8;if(o||(o=o8),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=c8,s.set(t,e);var d=a8(o(t),o(e),n,i,a,s);return s.delete(t),d;case y8:if(sg)return sg.call(t)==sg.call(e)}return!1}var S8=w8;function _8(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var FO=_8,E8=FO,j8=Sr;function A8(t,e,r){var n=e(t);return j8(t)?n:E8(n,r(t))}var T8=A8;function N8(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var C8=N8;function k8(){return[]}var O8=k8,D8=C8,P8=O8,M8=Object.prototype,R8=M8.propertyIsEnumerable,o1=Object.getOwnPropertySymbols,I8=o1?function(t){return t==null?[]:(t=Object(t),D8(o1(t),function(e){return R8.call(t,e)}))}:P8,$8=I8;function L8(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var U8=L8,F8=hi,B8=pi,H8="[object Arguments]";function z8(t){return B8(t)&&F8(t)==H8}var W8=z8,l1=W8,V8=pi,BO=Object.prototype,G8=BO.hasOwnProperty,q8=BO.propertyIsEnumerable,Y8=l1(function(){return arguments}())?l1:function(t){return V8(t)&&G8.call(t,"callee")&&!q8.call(t,"callee")},bb=Y8,Uf={exports:{}};function K8(){return!1}var X8=K8;Uf.exports;(function(t,e){var r=In,n=X8,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Uf,Uf.exports);var HO=Uf.exports,Q8=9007199254740991,Z8=/^(?:0|[1-9]\d*)$/;function J8(t,e){var r=typeof t;return e=e??Q8,!!e&&(r=="number"||r!="symbol"&&Z8.test(t))&&t>-1&&t%1==0&&t<e}var wb=J8,eV=9007199254740991;function tV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eV}var Sb=tV,rV=hi,nV=Sb,iV=pi,aV="[object Arguments]",sV="[object Array]",oV="[object Boolean]",lV="[object Date]",cV="[object Error]",uV="[object Function]",dV="[object Map]",fV="[object Number]",hV="[object Object]",pV="[object RegExp]",mV="[object Set]",gV="[object String]",vV="[object WeakMap]",yV="[object ArrayBuffer]",xV="[object DataView]",bV="[object Float32Array]",wV="[object Float64Array]",SV="[object Int8Array]",_V="[object Int16Array]",EV="[object Int32Array]",jV="[object Uint8Array]",AV="[object Uint8ClampedArray]",TV="[object Uint16Array]",NV="[object Uint32Array]",lt={};lt[bV]=lt[wV]=lt[SV]=lt[_V]=lt[EV]=lt[jV]=lt[AV]=lt[TV]=lt[NV]=!0;lt[aV]=lt[sV]=lt[yV]=lt[oV]=lt[xV]=lt[lV]=lt[cV]=lt[uV]=lt[dV]=lt[fV]=lt[hV]=lt[pV]=lt[mV]=lt[gV]=lt[vV]=!1;function CV(t){return iV(t)&&nV(t.length)&&!!lt[rV(t)]}var kV=CV;function OV(t){return function(e){return t(e)}}var zO=OV,Ff={exports:{}};Ff.exports;(function(t,e){var r=Qk,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Ff,Ff.exports);var DV=Ff.exports,PV=kV,MV=zO,c1=DV,u1=c1&&c1.isTypedArray,RV=u1?MV(u1):PV,WO=RV,IV=U8,$V=bb,LV=Sr,UV=HO,FV=wb,BV=WO,HV=Object.prototype,zV=HV.hasOwnProperty;function WV(t,e){var r=LV(t),n=!r&&$V(t),i=!r&&!n&&UV(t),a=!r&&!n&&!i&&BV(t),s=r||n||i||a,o=s?IV(t.length,String):[],l=o.length;for(var u in t)(e||zV.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||FV(u,l)))&&o.push(u);return o}var VV=WV,GV=Object.prototype;function qV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||GV;return t===r}var YV=qV;function KV(t,e){return function(r){return t(e(r))}}var VO=KV,XV=VO,QV=XV(Object.keys,Object),ZV=QV,JV=YV,eG=ZV,tG=Object.prototype,rG=tG.hasOwnProperty;function nG(t){if(!JV(t))return eG(t);var e=[];for(var r in Object(t))rG.call(t,r)&&r!="constructor"&&e.push(r);return e}var iG=nG,aG=nb,sG=Sb;function oG(t){return t!=null&&sG(t.length)&&!aG(t)}var Eu=oG,lG=VV,cG=iG,uG=Eu;function dG(t){return uG(t)?lG(t):cG(t)}var $p=dG,fG=T8,hG=$8,pG=$p;function mG(t){return fG(t,pG,hG)}var gG=mG,d1=gG,vG=1,yG=Object.prototype,xG=yG.hasOwnProperty;function bG(t,e,r,n,i,a){var s=r&vG,o=d1(t),l=o.length,u=d1(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:xG.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var x=t[h],y=e[h];if(n)var b=s?n(y,x,h,e,t,a):n(x,y,h,t,e,a);if(!(b===void 0?x===y||i(x,y,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var wG=bG,SG=us,_G=In,EG=SG(_G,"DataView"),jG=EG,AG=us,TG=In,NG=AG(TG,"Promise"),CG=NG,kG=us,OG=In,DG=kG(OG,"Set"),GO=DG,PG=us,MG=In,RG=PG(MG,"WeakMap"),IG=RG,Sy=jG,_y=ab,Ey=CG,jy=GO,Ay=IG,qO=hi,el=Jk,f1="[object Map]",$G="[object Object]",h1="[object Promise]",p1="[object Set]",m1="[object WeakMap]",g1="[object DataView]",LG=el(Sy),UG=el(_y),FG=el(Ey),BG=el(jy),HG=el(Ay),_a=qO;(Sy&&_a(new Sy(new ArrayBuffer(1)))!=g1||_y&&_a(new _y)!=f1||Ey&&_a(Ey.resolve())!=h1||jy&&_a(new jy)!=p1||Ay&&_a(new Ay)!=m1)&&(_a=function(t){var e=qO(t),r=e==$G?t.constructor:void 0,n=r?el(r):"";if(n)switch(n){case LG:return g1;case UG:return f1;case FG:return h1;case BG:return p1;case HG:return m1}return e});var zG=_a,og=RO,WG=UO,VG=S8,GG=wG,v1=zG,y1=Sr,x1=HO,qG=WO,YG=1,b1="[object Arguments]",w1="[object Array]",cd="[object Object]",KG=Object.prototype,S1=KG.hasOwnProperty;function XG(t,e,r,n,i,a){var s=y1(t),o=y1(e),l=s?w1:v1(t),u=o?w1:v1(e);l=l==b1?cd:l,u=u==b1?cd:u;var d=l==cd,f=u==cd,h=l==u;if(h&&x1(t)){if(!x1(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new og),s||qG(t)?WG(t,e,r,n,i,a):VG(t,e,l,r,n,i,a);if(!(r&YG)){var p=d&&S1.call(t,"__wrapped__"),m=f&&S1.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new og),i(g,v,r,n,a)}}return h?(a||(a=new og),GG(t,e,r,n,i,a)):!1}var QG=XG,ZG=QG,_1=pi;function YO(t,e,r,n,i){return t===e?!0:t==null||e==null||!_1(t)&&!_1(e)?t!==t&&e!==e:ZG(t,e,r,n,YO,i)}var _b=YO,JG=RO,e7=_b,t7=1,r7=2;function n7(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new JG;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?e7(d,u,t7|r7,n,f):h))return!1}}return!0}var i7=n7,a7=ua;function s7(t){return t===t&&!a7(t)}var KO=s7,o7=KO,l7=$p;function c7(t){for(var e=l7(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,o7(i)]}return e}var u7=c7;function d7(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var XO=d7,f7=i7,h7=u7,p7=XO;function m7(t){var e=h7(t);return e.length==1&&e[0][2]?p7(e[0][0],e[0][1]):function(r){return r===t||f7(r,t,e)}}var g7=m7;function v7(t,e){return t!=null&&e in Object(t)}var y7=v7,x7=iO,b7=bb,w7=Sr,S7=wb,_7=Sb,E7=Sp;function j7(t,e,r){e=x7(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=E7(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&_7(i)&&S7(s,i)&&(w7(t)||b7(t)))}var A7=j7,T7=y7,N7=A7;function C7(t,e){return t!=null&&N7(t,e,T7)}var k7=C7,O7=_b,D7=aO,P7=k7,M7=rb,R7=KO,I7=XO,$7=Sp,L7=1,U7=2;function F7(t,e){return M7(t)&&R7(e)?I7($7(t),e):function(r){var n=D7(r,t);return n===void 0&&n===e?P7(r,t):O7(e,n,L7|U7)}}var B7=F7;function H7(t){return t}var tl=H7;function z7(t){return function(e){return e==null?void 0:e[t]}}var W7=z7,V7=cb;function G7(t){return function(e){return V7(e,t)}}var q7=G7,Y7=W7,K7=q7,X7=rb,Q7=Sp;function Z7(t){return X7(t)?Y7(Q7(t)):K7(t)}var J7=Z7,e9=g7,t9=B7,r9=tl,n9=Sr,i9=J7;function a9(t){return typeof t=="function"?t:t==null?r9:typeof t=="object"?n9(t)?t9(t[0],t[1]):e9(t):i9(t)}var da=a9;function s9(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var QO=s9;function o9(t){return t!==t}var l9=o9;function c9(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var u9=c9,d9=QO,f9=l9,h9=u9;function p9(t,e,r){return e===e?h9(t,e,r):d9(t,f9,r)}var m9=p9,g9=m9;function v9(t,e){var r=t==null?0:t.length;return!!r&&g9(t,e,0)>-1}var y9=v9;function x9(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var b9=x9;function w9(){}var S9=w9,lg=GO,_9=S9,E9=xb,j9=1/0,A9=lg&&1/E9(new lg([,-0]))[1]==j9?function(t){return new lg(t)}:_9,T9=A9,N9=IO,C9=y9,k9=b9,O9=LO,D9=T9,P9=xb,M9=200;function R9(t,e,r){var n=-1,i=C9,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=k9;else if(a>=M9){var u=e?null:D9(t);if(u)return P9(u);s=!1,i=O9,l=new N9}else l=e?[]:o;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var I9=R9,$9=da,L9=I9;function U9(t,e){return t&&t.length?L9(t,$9(e)):[]}var F9=U9;const E1=Qe(F9);function ZO(t,e,r){return e===!0?E1(t,r):Ce(e)?E1(t,e):t}function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}var B9=["ref"];function j1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(r),!0).forEach(function(n){Lp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eD(n.key),n)}}function z9(t,e,r){return e&&A1(t.prototype,e),r&&A1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W9(t,e,r){return e=Bf(e),V9(t,JO()?Reflect.construct(e,r||[],Bf(t).constructor):e.apply(t,r))}function V9(t,e){if(e&&(mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G9(t)}function G9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JO=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(t)}function q9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ty(t,e)}function Lp(t,e,r){return e=eD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eD(t){var e=Y9(t,"string");return mo(e)=="symbol"?e:e+""}function Y9(t,e){if(mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K9(t,e){if(t==null)return{};var r=X9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q9(t){return t.value}function Z9(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var r=K9(e,B9);return H.createElement(yb,r)}var T1=1,Fa=function(t){function e(){var r;H9(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=W9(this,e,[].concat(i)),Lp(r,"lastBoundingBox",{width:-1,height:-1}),r}return q9(e,t),z9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>T1||Math.abs(i.height-this.lastBoundingBox.height)>T1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Un({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Un(Un({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Un(Un({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return H.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Z9(a,Un(Un({},this.props),{},{payload:ZO(d,u,Q9)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Un(Un({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ae(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(N.PureComponent);Lp(Fa,"displayName","Legend");Lp(Fa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var N1=wu,J9=bb,eq=Sr,C1=N1?N1.isConcatSpreadable:void 0;function tq(t){return eq(t)||J9(t)||!!(C1&&t&&t[C1])}var rq=tq,nq=FO,iq=rq;function tD(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=iq),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?tD(o,e-1,r,n,i):nq(i,o):n||(i[i.length]=o)}return i}var rD=tD;function aq(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var sq=aq,oq=sq,lq=oq(),cq=lq,uq=cq,dq=$p;function fq(t,e){return t&&uq(t,e,dq)}var nD=fq,hq=Eu;function pq(t,e){return function(r,n){if(r==null)return r;if(!hq(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var mq=pq,gq=nD,vq=mq,yq=vq(gq),Eb=yq,xq=Eb,bq=Eu;function wq(t,e){var r=-1,n=bq(t)?Array(t.length):[];return xq(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var iD=wq;function Sq(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var _q=Sq,k1=Yo;function Eq(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=k1(t),s=e!==void 0,o=e===null,l=e===e,u=k1(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var jq=Eq,Aq=jq;function Tq(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=Aq(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Nq=Tq,cg=lb,Cq=cb,kq=da,Oq=iD,Dq=_q,Pq=zO,Mq=Nq,Rq=tl,Iq=Sr;function $q(t,e,r){e.length?e=cg(e,function(a){return Iq(a)?function(s){return Cq(s,a.length===1?a[0]:a)}:a}):e=[Rq];var n=-1;e=cg(e,Pq(kq));var i=Oq(t,function(a,s,o){var l=cg(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return Dq(i,function(a,s){return Mq(a,s,r)})}var Lq=$q;function Uq(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Fq=Uq,Bq=Fq,O1=Math.max;function Hq(t,e,r){return e=O1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=O1(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Bq(t,this,o)}}var zq=Hq;function Wq(t){return function(){return t}}var Vq=Wq,Gq=us,qq=function(){try{var t=Gq(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aD=qq,Yq=Vq,D1=aD,Kq=tl,Xq=D1?function(t,e){return D1(t,"toString",{configurable:!0,enumerable:!1,value:Yq(e),writable:!0})}:Kq,Qq=Xq,Zq=800,Jq=16,eY=Date.now;function tY(t){var e=0,r=0;return function(){var n=eY(),i=Jq-(n-r);if(r=n,i>0){if(++e>=Zq)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var rY=tY,nY=Qq,iY=rY,aY=iY(nY),sY=aY,oY=tl,lY=zq,cY=sY;function uY(t,e){return cY(lY(t,e,oY),t+"")}var dY=uY,fY=ib,hY=Eu,pY=wb,mY=ua;function gY(t,e,r){if(!mY(r))return!1;var n=typeof e;return(n=="number"?hY(r)&&pY(e,r.length):n=="string"&&e in r)?fY(r[e],t):!1}var Up=gY,vY=rD,yY=Lq,xY=dY,P1=Up,bY=xY(function(t,e){if(t==null)return[];var r=e.length;return r>1&&P1(t,e[0],e[1])?e=[]:r>2&&P1(e[0],e[1],e[2])&&(e=[e[0]]),yY(t,vY(e,1),[])}),wY=bY;const jb=Qe(wY);function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ny.apply(this,arguments)}function SY(t,e){return AY(t)||jY(t,e)||EY(t,e)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EY(t,e){if(t){if(typeof t=="string")return M1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M1(t,e)}}function M1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function AY(t){if(Array.isArray(t))return t}function R1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R1(Object(r),!0).forEach(function(n){TY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TY(t,e,r){return e=NY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NY(t){var e=CY(t,"string");return Oc(e)=="symbol"?e:e+""}function CY(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kY(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var OY=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var P={padding:0,margin:0},k=(h?jb(d,h):d).map(function(z,V){if(z.type==="none")return null;var Y=ug({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),M=z.formatter||f||kY,R=z.value,B=z.name,F=R,W=B;if(M&&F!=null&&W!=null){var G=M(R,B,z,V,d);if(Array.isArray(G)){var K=SY(G,2);F=K[0],W=K[1]}else F=G}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:Y},Pt(W)?H.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Pt(W)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},F),H.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:P},k)}return null},S=ug({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=ug({margin:0},u),_=!Oe(g),E=_?g:"",j=$e("recharts-default-tooltip",p),A=$e("recharts-tooltip-label",m);_&&v&&d!==void 0&&d!==null&&(E=v(g,d));var C=y?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",Ny({className:j,style:S},C),H.createElement("p",{className:A,style:w},H.isValidElement(E)?E:"".concat(E)),b())};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function ud(t,e,r){return e=DY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DY(t){var e=PY(t,"string");return Dc(e)=="symbol"?e:e+""}function PY(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wl="recharts-tooltip-wrapper",MY={visibility:"hidden"};function RY(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $e(wl,ud(ud(ud(ud({},"".concat(wl,"-right"),ae(r)&&e&&ae(e.x)&&r>=e.x),"".concat(wl,"-left"),ae(r)&&e&&ae(e.x)&&r<e.x),"".concat(wl,"-bottom"),ae(n)&&e&&ae(e.y)&&n>=e.y),"".concat(wl,"-top"),ae(n)&&e&&ae(e.y)&&n<e.y))}function I1(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ae(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?d:f;if(s[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+o,g=l[n]+u;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function IY(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function $Y(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=I1({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=I1({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=IY({translateX:d,translateY:f,useTranslate3d:o})):u=MY,{cssProperties:u,cssClasses:RY({translateX:d,translateY:f,coordinate:r})}}function go(t){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(t)}function $1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(r),!0).forEach(function(n){ky(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oD(n.key),n)}}function UY(t,e,r){return e&&U1(t.prototype,e),r&&U1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FY(t,e,r){return e=Hf(e),BY(t,sD()?Reflect.construct(e,r||[],Hf(t).constructor):e.apply(t,r))}function BY(t,e){if(e&&(go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(t)}function HY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(t)}function zY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cy(t,e)}function Cy(t,e){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cy(t,e)}function ky(t,e,r){return e=oD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oD(t){var e=WY(t,"string");return go(e)=="symbol"?e:e+""}function WY(t,e){if(go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F1=1,VY=function(t){function e(){var r;LY(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=FY(this,e,[].concat(i)),ky(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ky(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return zY(e,t),UY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>F1||Math.abs(n.height-this.state.lastBoundingBox.height)>F1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,b=$Y({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=b.cssClasses,w=b.cssProperties,_=L1(L1({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return H.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(j){n.wrapperNode=j}},u)}}])}(N.PureComponent),GY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:GY(),get:function(e){return ti[e]},set:function(e,r){if(typeof e=="string")ti[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){ti[i]=e[i]})}}};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function B1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(r),!0).forEach(function(n){Ab(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cD(n.key),n)}}function YY(t,e,r){return e&&z1(t.prototype,e),r&&z1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KY(t,e,r){return e=zf(e),XY(t,lD()?Reflect.construct(e,r||[],zf(t).constructor):e.apply(t,r))}function XY(t,e){if(e&&(vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(t)}function QY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!t})()}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(t)}function ZY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Oy(t,e)}function Ab(t,e,r){return e=cD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cD(t){var e=JY(t,"string");return vo(e)=="symbol"?e:e+""}function JY(t,e){if(vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eK(t){return t.dataKey}function tK(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(OY,e)}var _n=function(t){function e(){return qY(this,e),KY(this,e,arguments)}return ZY(e,t),YY(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,w=m??[];f&&w.length&&(w=ZO(m.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,eK));var _=w.length>0;return H.createElement(VY,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:S},tK(u,H1(H1({},this.props),{},{payload:w})))}}])}(N.PureComponent);Ab(_n,"displayName","Tooltip");Ab(_n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rK=In,nK=function(){return rK.Date.now()},iK=nK,aK=/\s/;function sK(t){for(var e=t.length;e--&&aK.test(t.charAt(e)););return e}var oK=sK,lK=oK,cK=/^\s+/;function uK(t){return t&&t.slice(0,lK(t)+1).replace(cK,"")}var dK=uK,fK=dK,W1=ua,hK=Yo,V1=0/0,pK=/^[-+]0x[0-9a-f]+$/i,mK=/^0b[01]+$/i,gK=/^0o[0-7]+$/i,vK=parseInt;function yK(t){if(typeof t=="number")return t;if(hK(t))return V1;if(W1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=W1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fK(t);var r=mK.test(t);return r||gK.test(t)?vK(t.slice(2),r?2:8):pK.test(t)?V1:+t}var uD=yK,xK=ua,dg=iK,G1=uD,bK="Expected a function",wK=Math.max,SK=Math.min;function _K(t,e,r){var n,i,a,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(bK);e=G1(e)||0,xK(r)&&(d=!!r.leading,f="maxWait"in r,a=f?wK(G1(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(_){var E=n,j=i;return n=i=void 0,u=_,s=t.apply(j,E),s}function m(_){return u=_,o=setTimeout(x,e),d?p(_):s}function g(_){var E=_-l,j=_-u,A=e-E;return f?SK(A,a-j):A}function v(_){var E=_-l,j=_-u;return l===void 0||E>=e||E<0||f&&j>=a}function x(){var _=dg();if(v(_))return y(_);o=setTimeout(x,g(_))}function y(_){return o=void 0,h&&n?p(_):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function S(){return o===void 0?s:y(dg())}function w(){var _=dg(),E=v(_);if(n=arguments,i=this,l=_,E){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return w.cancel=b,w.flush=S,w}var EK=_K,jK=EK,AK=ua,TK="Expected a function";function NK(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(TK);return AK(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),jK(t,e,{leading:n,maxWait:e,trailing:i})}var CK=NK;const dD=Qe(CK);function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function q1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(r),!0).forEach(function(n){kK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kK(t,e,r){return e=OK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OK(t){var e=DK(t,"string");return Pc(e)=="symbol"?e:e+""}function DK(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PK(t,e){return $K(t)||IK(t,e)||RK(t,e)||MK()}function MK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(t,e){if(t){if(typeof t=="string")return Y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(t,e)}}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function $K(t){if(Array.isArray(t))return t}var LK=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,x=t.className,y=t.onResize,b=t.style,S=b===void 0?{}:b,w=N.useRef(null),_=N.useRef();_.current=y,N.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=N.useState({containerWidth:i.width,containerHeight:i.height}),j=PK(E,2),A=j[0],C=j[1],O=N.useCallback(function(k,z){C(function(V){var Y=Math.round(k),M=Math.round(z);return V.containerWidth===Y&&V.containerHeight===M?V:{containerWidth:Y,containerHeight:M}})},[]);N.useEffect(function(){var k=function(B){var F,W=B[0].contentRect,G=W.width,K=W.height;O(G,K),(F=_.current)===null||F===void 0||F.call(_,G,K)};g>0&&(k=dD(k,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(k),V=w.current.getBoundingClientRect(),Y=V.width,M=V.height;return O(Y,M),z.observe(w.current),function(){z.disconnect()}},[O,g]);var P=N.useMemo(function(){var k=A.containerWidth,z=A.containerHeight;if(k<0||z<0)return null;ei(Ma(s)||Ma(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ei(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Ma(s)?k:s,Y=Ma(l)?z:l;r&&r>0&&(V?Y=V/r:Y&&(V=Y*r),h&&Y>h&&(Y=h)),ei(V>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,Y,s,l,d,f,r);var M=!Array.isArray(p)&&Jn(p.type).endsWith("Chart");return H.Children.map(p,function(R){return H.isValidElement(R)?N.cloneElement(R,dd({width:V,height:Y},M?{style:dd({height:"100%",width:"100%",maxHeight:Y,maxWidth:V},R.props.style)}:{})):R})},[r,p,l,h,f,d,A,s]);return H.createElement("div",{id:v?"".concat(v):void 0,className:$e("recharts-responsive-container",x),style:dd(dd({},S),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},P)}),fD=function(e){return null};fD.displayName="Cell";function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function K1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(r),!0).forEach(function(n){UK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UK(t,e,r){return e=FK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=BK(t,"string");return Mc(e)=="symbol"?e:e+""}function BK(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _s={widthCache:{},cacheCount:0},HK=2e3,zK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X1="recharts_measurement_span";function WK(t){var e=Dy({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ec=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ti.isSsr)return{width:0,height:0};var n=WK(r),i=JSON.stringify({text:e,copyStyle:n});if(_s.widthCache[i])return _s.widthCache[i];try{var a=document.getElementById(X1);a||(a=document.createElement("span"),a.setAttribute("id",X1),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Dy(Dy({},zK),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return _s.widthCache[i]=l,++_s.cacheCount>HK&&(_s.cacheCount=0,_s.widthCache={}),l}catch{return{width:0,height:0}}},VK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Wf(t,e){return KK(t)||YK(t,e)||qK(t,e)||GK()}function GK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(t,e){if(t){if(typeof t=="string")return Q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(t,e)}}function Q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function KK(t){if(Array.isArray(t))return t}function XK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZK(n.key),n)}}function QK(t,e,r){return e&&Z1(t.prototype,e),r&&Z1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZK(t){var e=JK(t,"string");return Rc(e)=="symbol"?e:e+""}function JK(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rX=Object.keys(hD),Hs="NaN";function nX(t,e){return t*hD[e]}var fd=function(){function t(e,r){XK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!eX.test(r)&&(this.num=NaN,this.unit=""),rX.includes(r)&&(this.num=nX(e,r),this.unit="px")}return QK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=tX.exec(r))!==null&&n!==void 0?n:[],a=Wf(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function pD(t){if(t.includes(Hs))return Hs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=J1.exec(e))!==null&&r!==void 0?r:[],i=Wf(n,4),a=i[1],s=i[2],o=i[3],l=fd.parse(a??""),u=fd.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Hs;e=e.replace(J1,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=eE.exec(e))!==null&&f!==void 0?f:[],p=Wf(h,4),m=p[1],g=p[2],v=p[3],x=fd.parse(m??""),y=fd.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return Hs;e=e.replace(eE,b.toString())}return e}var tE=/\(([^()]*)\)/;function iX(t){for(var e=t;e.includes("(");){var r=tE.exec(e),n=Wf(r,2),i=n[1];e=e.replace(tE,pD(i))}return e}function aX(t){var e=t.replace(/\s+/g,"");return e=iX(e),e=pD(e),e}function sX(t){try{return aX(t)}catch{return Hs}}function fg(t){var e=sX(t.slice(5,-1));return e===Hs?"":e}var oX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lX=["dx","dy","angle","className","breakAll"];function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Py.apply(this,arguments)}function rE(t,e){if(t==null)return{};var r=cX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nE(t,e){return hX(t)||fX(t,e)||dX(t,e)||uX()}function uX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return iE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iE(t,e)}}function iE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hX(t){if(Array.isArray(t))return t}var mD=/[ \f\n\r\t\v\u2028\u2029]+/,gD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Oe(r)||(n?a=r.toString().split(""):a=r.toString().split(mD));var s=a.map(function(l){return{word:l,width:ec(l,i).width}}),o=n?0:ec(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},pX=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=ae(s),f=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(Y,M){var R=M.word,B=M.width,F=Y[Y.length-1];if(F&&(i==null||a||F.width+B+n<Number(i)))F.words.push(R),F.width+=B+n;else{var W={words:[R],width:B};Y.push(W)}return Y},[])},p=h(r),m=function(V){return V.reduce(function(Y,M){return Y.width>M.width?Y:M})};if(!d)return p;for(var g="…",v=function(V){var Y=f.slice(0,V),M=gD({breakAll:u,style:l,children:Y+g}).wordsWithComputedWidth,R=h(M),B=R.length>s||m(R).width>Number(i);return[B,R]},x=0,y=f.length-1,b=0,S;x<=y&&b<=f.length-1;){var w=Math.floor((x+y)/2),_=w-1,E=v(_),j=nE(E,2),A=j[0],C=j[1],O=v(w),P=nE(O,1),k=P[0];if(!A&&!k&&(x=w+1),A&&k&&(y=w-1),!A&&k){S=C;break}b++}return S||p},aE=function(e){var r=Oe(e)?[]:e.toString().split(mD);return[{words:r}]},mX=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!ti.isSsr){var l,u,d=gD({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return aE(i);return pX({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return aE(i)},sE="#808080",Vf=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,x=v===void 0?sE:v,y=rE(e,oX),b=N.useMemo(function(){return mX({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,w=y.dy,_=y.angle,E=y.className,j=y.breakAll,A=rE(y,lX);if(!Pt(n)||!Pt(a))return null;var C=n+(ae(S)?S:0),O=a+(ae(w)?w:0),P;switch(g){case"start":P=fg("calc(".concat(u,")"));break;case"middle":P=fg("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=fg("calc(".concat(b.length-1," * -").concat(o,")"));break}var k=[];if(f){var z=b[0].width,V=y.width;k.push("scale(".concat((ae(V)?V/z:1)/z,")"))}return _&&k.push("rotate(".concat(_,", ").concat(C,", ").concat(O,")")),k.length&&(A.transform=k.join(" ")),H.createElement("text",Py({},Re(A,!0),{x:C,y:O,className:$e("recharts-text",E),textAnchor:p,fill:x.includes("url")?sE:x}),b.map(function(Y,M){var R=Y.words.join(j?"":" ");return H.createElement("tspan",{x:C,dy:M===0?P:o,key:"".concat(R,"-").concat(M)},R)}))};function Yi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tb(t){let e,r,n;t.length!==2?(e=Yi,r=(o,l)=>Yi(t(o),l),n=(o,l)=>t(o)-l):(e=t===Yi||t===gX?t:vX,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function vX(){return 0}function vD(t){return t===null?NaN:+t}function*yX(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const xX=Tb(Yi),bX=xX.right;Tb(vD).center;const ju=bX;class oE extends Map{constructor(e,r=_X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(lE(this,e))}has(e){return super.has(lE(this,e))}set(e,r){return super.set(wX(this,e),r)}delete(e){return super.delete(SX(this,e))}}function lE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function wX({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function SX({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function _X(t){return t!==null&&typeof t=="object"?t.valueOf():t}function EX(t=Yi){if(t===Yi)return yD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function yD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jX=Math.sqrt(50),AX=Math.sqrt(10),TX=Math.sqrt(2);function Gf(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=jX?10:a>=AX?5:a>=TX?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Gf(t,e,r*2):[o,l,u]}function My(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Gf(e,t,r):Gf(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Ry(t,e,r){return e=+e,t=+t,r=+r,Gf(t,e,r)[2]}function Iy(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ry(e,t,r):Ry(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function cE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function uE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function xD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?yD:EX(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),m=Math.min(n,Math.floor(e+(l-u)*f/l+h));xD(t,e,p,m,i)}const a=t[e];let s=r,o=n;for(Sl(t,r,e),i(t[n],a)>0&&Sl(t,r,n);s<o;){for(Sl(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Sl(t,r,o):(++o,Sl(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Sl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function NX(t,e,r){if(t=Float64Array.from(yX(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return uE(t);if(e>=1)return cE(t);var n,i=(n-1)*e,a=Math.floor(i),s=cE(xD(t,a).subarray(0,a+1)),o=uE(t.subarray(a+1));return s+(o-s)*(i-a)}}function CX(t,e,r=vD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function kX(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Jr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $y=Symbol("implicit");function Nb(){var t=new oE,e=[],r=[],n=$y;function i(a){let s=t.get(a);if(s===void 0){if(n!==$y)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new oE;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Nb(e,r).unknown(n)},Jr.apply(i,arguments),i}function Ic(){var t=Nb().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=kX(h).map(function(x){return m+a*x});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Ic(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Jr.apply(f(),arguments)}function bD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bD(e())},t}function tc(){return bD(Ic.apply(null,arguments).paddingInner(1))}function Cb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function wD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Au(){}var $c=.7,qf=1/$c,Js="\\s*([+-]?\\d+)\\s*",Lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OX=/^#([0-9a-f]{3,8})$/,DX=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),PX=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),MX=new RegExp(`^rgba\\(${Js},${Js},${Js},${Lc}\\)$`),RX=new RegExp(`^rgba\\(${On},${On},${On},${Lc}\\)$`),IX=new RegExp(`^hsl\\(${Lc},${On},${On}\\)$`),$X=new RegExp(`^hsla\\(${Lc},${On},${On},${Lc}\\)$`),dE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cb(Au,Uc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fE,formatHex:fE,formatHex8:LX,formatHsl:UX,formatRgb:hE,toString:hE});function fE(){return this.rgb().formatHex()}function LX(){return this.rgb().formatHex8()}function UX(){return SD(this).formatHsl()}function hE(){return this.rgb().formatRgb()}function Uc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=OX.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?pE(e):r===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?hd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?hd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DX.exec(t))?new vr(e[1],e[2],e[3],1):(e=PX.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MX.exec(t))?hd(e[1],e[2],e[3],e[4]):(e=RX.exec(t))?hd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IX.exec(t))?vE(e[1],e[2]/100,e[3]/100,1):(e=$X.exec(t))?vE(e[1],e[2]/100,e[3]/100,e[4]):dE.hasOwnProperty(t)?pE(dE[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function pE(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function hd(t,e,r,n){return n<=0&&(t=e=r=NaN),new vr(t,e,r,n)}function FX(t){return t instanceof Au||(t=Uc(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function Ly(t,e,r,n){return arguments.length===1?FX(t):new vr(t,e,r,n??1)}function vr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Cb(vr,Ly,wD(Au,{brighter(t){return t=t==null?qf:Math.pow(qf,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$c:Math.pow($c,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(Ba(this.r),Ba(this.g),Ba(this.b),Yf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mE,formatHex:mE,formatHex8:BX,formatRgb:gE,toString:gE}));function mE(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}`}function BX(){return`#${Ra(this.r)}${Ra(this.g)}${Ra(this.b)}${Ra((isNaN(this.opacity)?1:this.opacity)*255)}`}function gE(){const t=Yf(this.opacity);return`${t===1?"rgb(":"rgba("}${Ba(this.r)}, ${Ba(this.g)}, ${Ba(this.b)}${t===1?")":`, ${t})`}`}function Yf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ba(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ra(t){return t=Ba(t),(t<16?"0":"")+t.toString(16)}function vE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fn(t,e,r,n)}function SD(t){if(t instanceof fn)return new fn(t.h,t.s,t.l,t.opacity);if(t instanceof Au||(t=Uc(t)),!t)return new fn;if(t instanceof fn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new fn(s,o,l,t.opacity)}function HX(t,e,r,n){return arguments.length===1?SD(t):new fn(t,e,r,n??1)}function fn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Cb(fn,HX,wD(Au,{brighter(t){return t=t==null?qf:Math.pow(qf,t),new fn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$c:Math.pow($c,t),new fn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new vr(hg(t>=240?t-240:t+120,i,n),hg(t,i,n),hg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new fn(yE(this.h),pd(this.s),pd(this.l),Yf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yf(this.opacity);return`${t===1?"hsl(":"hsla("}${yE(this.h)}, ${pd(this.s)*100}%, ${pd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yE(t){return t=(t||0)%360,t<0?t+360:t}function pd(t){return Math.max(0,Math.min(1,t||0))}function hg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const kb=t=>()=>t;function zX(t,e){return function(r){return t+r*e}}function WX(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function VX(t){return(t=+t)==1?_D:function(e,r){return r-e?WX(e,r,t):kb(isNaN(e)?r:e)}}function _D(t,e){var r=e-t;return r?zX(t,r):kb(isNaN(t)?e:t)}const xE=function t(e){var r=VX(e);function n(i,a){var s=r((i=Ly(i)).r,(a=Ly(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=_D(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function GX(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function qX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YX(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=rl(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function KX(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Kf(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function XX(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=rl(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Uy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pg=new RegExp(Uy.source,"g");function QX(t){return function(){return t}}function ZX(t){return function(e){return t(e)+""}}function JX(t,e){var r=Uy.lastIndex=pg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Uy.exec(t))&&(i=pg.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Kf(n,i)})),r=pg.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?ZX(l[0].x):QX(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function rl(t,e){var r=typeof e,n;return e==null||r==="boolean"?kb(e):(r==="number"?Kf:r==="string"?(n=Uc(e))?(e=n,xE):JX:e instanceof Uc?xE:e instanceof Date?KX:qX(e)?GX:Array.isArray(e)?YX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XX:Kf)(t,e)}function Ob(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function eQ(t,e){e===void 0&&(e=t,t=rl);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function tQ(t){return function(){return t}}function Xf(t){return+t}var bE=[0,1];function or(t){return t}function Fy(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:tQ(isNaN(e)?NaN:.5)}function rQ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function nQ(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Fy(i,n),a=r(s,a)):(n=Fy(n,i),a=r(a,s)),function(o){return a(n(o))}}function iQ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Fy(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=ju(t,o,1,n)-1;return a[l](i[l](o))}}function Tu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fp(){var t=bE,e=bE,r=rl,n,i,a,s=or,o,l,u;function d(){var h=Math.min(t.length,e.length);return s!==or&&(s=rQ(t[0],t[h-1])),o=h>2?iQ:nQ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(n),Kf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Xf),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=Ob,d()},f.clamp=function(h){return arguments.length?(s=h?!0:or,d()):s!==or},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function Db(){return Fp()(or,or)}function aQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qf(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function yo(t){return t=Qf(Math.abs(t)),t?t[1]:NaN}function sQ(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function oQ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var lQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fc(t){if(!(e=lQ.exec(t)))throw new Error("invalid format: "+t);var e;return new Pb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fc.prototype=Pb.prototype;function Pb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cQ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ED;function uQ(t,e){var r=Qf(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(ED=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Qf(t,Math.max(0,e+a-1))[0]}function wE(t,e){var r=Qf(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const SE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wE(t*100,e),r:wE,s:uQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _E(t){return t}var EE=Array.prototype.map,jE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dQ(t){var e=t.grouping===void 0||t.thousands===void 0?_E:sQ(EE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_E:oQ(EE.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Fc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(y=!0,w="g"):SE[w]||(b===void 0&&(b=12),S=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=g==="$"?n:/[%p]/.test(w)?s:"",j=SE[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(O){var P=_,k=E,z,V,Y;if(w==="c")k=j(O)+k,O="";else{O=+O;var M=O<0||1/O<0;if(O=isNaN(O)?l:j(Math.abs(O),b),S&&(O=cQ(O)),M&&+O==0&&m!=="+"&&(M=!1),P=(M?m==="("?m:o:m==="-"||m==="("?"":m)+P,k=(w==="s"?jE[8+ED/3]:"")+k+(M&&m==="("?")":""),A){for(z=-1,V=O.length;++z<V;)if(Y=O.charCodeAt(z),48>Y||Y>57){k=(Y===46?i+O.slice(z+1):O.slice(z))+k,O=O.slice(0,z);break}}}y&&!v&&(O=e(O,1/0));var R=P.length+O.length+k.length,B=R<x?new Array(x-R+1).join(h):"";switch(y&&v&&(O=e(B+O,B.length?x-k.length:1/0),B=""),p){case"<":O=P+O+k+B;break;case"=":O=P+B+O+k;break;case"^":O=B.slice(0,R=B.length>>1)+P+O+k+B.slice(R);break;default:O=B+P+O+k;break}return a(O)}return C.toString=function(){return f+""},C}function d(f,h){var p=u((f=Fc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(yo(h)/3)))*3,g=Math.pow(10,-m),v=jE[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var md,Mb,jD;fQ({thousands:",",grouping:[3],currency:["$",""]});function fQ(t){return md=dQ(t),Mb=md.format,jD=md.formatPrefix,md}function hQ(t){return Math.max(0,-yo(Math.abs(t)))}function pQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yo(e)/3)))*3-yo(Math.abs(t)))}function mQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yo(e)-yo(t))+1}function AD(t,e,r,n){var i=Iy(t,e,r),a;switch(n=Fc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=pQ(i,s))&&(n.precision=a),jD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=mQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=hQ(i))&&(n.precision=a-(n.type==="%")*2);break}}return Mb(n)}function fa(t){var e=t.domain;return t.ticks=function(r){var n=e();return My(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return AD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Ry(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Zf(){var t=Db();return t.copy=function(){return Tu(t,Zf())},Jr.apply(t,arguments),fa(t)}function TD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xf),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return TD(t).unknown(e)},t=arguments.length?Array.from(t,Xf):[0,1],fa(r)}function ND(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function AE(t){return Math.log(t)}function TE(t){return Math.exp(t)}function gQ(t){return-Math.log(-t)}function vQ(t){return-Math.exp(-t)}function yQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xQ(t){return t===10?yQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function NE(t){return(e,r)=>-t(-e,r)}function Rb(t){const e=t(AE,TE),r=e.domain;let n=10,i,a;function s(){return i=bQ(n),a=xQ(n),r()[0]<0?(i=NE(i),a=NE(a),t(gQ,vQ)):t(AE,TE),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=My(u,d,v))}else x=My(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Fc(l)).precision==null&&(l.trim=!0),l=Mb(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(ND(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function CD(){const t=Rb(Fp()).domain([1,10]);return t.copy=()=>Tu(t,CD()).base(t.base()),Jr.apply(t,arguments),t}function CE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ib(t){var e=1,r=t(CE(e),kE(e));return r.constant=function(n){return arguments.length?t(CE(e=+n),kE(e)):e},fa(r)}function kD(){var t=Ib(Fp());return t.copy=function(){return Tu(t,kD()).constant(t.constant())},Jr.apply(t,arguments)}function OE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SQ(t){return t<0?-t*t:t*t}function $b(t){var e=t(or,or),r=1;function n(){return r===1?t(or,or):r===.5?t(wQ,SQ):t(OE(r),OE(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},fa(e)}function Lb(){var t=$b(Fp());return t.copy=function(){return Tu(t,Lb()).exponent(t.exponent())},Jr.apply(t,arguments),t}function _Q(){return Lb.apply(null,arguments).exponent(.5)}function DE(t){return Math.sign(t)*t*t}function EQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OD(){var t=Db(),e=[0,1],r=!1,n;function i(a){var s=EQ(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(DE(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Xf)).map(DE)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return OD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Jr.apply(i,arguments),fa(i)}function DD(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=CX(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[ju(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Yi),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return DD().domain(t).range(e).unknown(n)},Jr.apply(a,arguments)}function PD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[ju(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return PD().domain([t,e]).range(i).unknown(a)},Jr.apply(fa(s),arguments)}function MD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[ju(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return MD().domain(t).range(e).unknown(r)},Jr.apply(i,arguments)}const mg=new Date,gg=new Date;function Mt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Mt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(mg.setTime(+a),gg.setTime(+s),t(mg),t(gg),Math.floor(r(mg,gg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Jf=Mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Jf);Jf.range;const Yn=1e3,Vr=Yn*60,Kn=Vr*60,li=Kn*24,Ub=li*7,PE=li*30,vg=li*365,Ia=Mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCSeconds());Ia.range;const Fb=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yn)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getMinutes());Fb.range;const Bb=Mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getUTCMinutes());Bb.range;const Hb=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yn-t.getMinutes()*Vr)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getHours());Hb.range;const zb=Mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getUTCHours());zb.range;const Nu=Mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vr)/li,t=>t.getDate()-1);Nu.range;const Bp=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>t.getUTCDate()-1);Bp.range;const RD=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>Math.floor(t/li));RD.range;function ds(t){return Mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/Ub)}const Hp=ds(0),eh=ds(1),jQ=ds(2),AQ=ds(3),xo=ds(4),TQ=ds(5),NQ=ds(6);Hp.range;eh.range;jQ.range;AQ.range;xo.range;TQ.range;NQ.range;function fs(t){return Mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Ub)}const zp=fs(0),th=fs(1),CQ=fs(2),kQ=fs(3),bo=fs(4),OQ=fs(5),DQ=fs(6);zp.range;th.range;CQ.range;kQ.range;bo.range;OQ.range;DQ.range;const Wb=Mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Wb.range;const Vb=Mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Vb.range;const ci=Mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ci.range;const ui=Mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ui.range;function ID(t,e,r,n,i,a){const s=[[Ia,1,Yn],[Ia,5,5*Yn],[Ia,15,15*Yn],[Ia,30,30*Yn],[a,1,Vr],[a,5,5*Vr],[a,15,15*Vr],[a,30,30*Vr],[i,1,Kn],[i,3,3*Kn],[i,6,6*Kn],[i,12,12*Kn],[n,1,li],[n,2,2*li],[r,1,Ub],[e,1,PE],[e,3,3*PE],[t,1,vg]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=Tb(([,,v])=>v).right(s,h);if(p===s.length)return t.every(Iy(u/vg,d/vg,f));if(p===0)return Jf.every(Math.max(Iy(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[PQ,MQ]=ID(ui,Vb,zp,RD,zb,Bb),[RQ,IQ]=ID(ci,Wb,Hp,Nu,Hb,Fb);function yg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _l(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function $Q(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=El(i),d=jl(i),f=El(a),h=jl(a),p=El(s),m=jl(s),g=El(o),v=jl(o),x=El(l),y=jl(l),b={a:M,A:R,b:B,B:F,c:null,d:UE,e:UE,f:sZ,g:gZ,G:yZ,H:nZ,I:iZ,j:aZ,L:$D,m:oZ,M:lZ,p:W,q:G,Q:HE,s:zE,S:cZ,u:uZ,U:dZ,V:fZ,w:hZ,W:pZ,x:null,X:null,y:mZ,Y:vZ,Z:xZ,"%":BE},S={a:K,A:ie,b:se,B:ye,c:null,d:FE,e:FE,f:_Z,g:PZ,G:RZ,H:bZ,I:wZ,j:SZ,L:UD,m:EZ,M:jZ,p:Te,q:ge,Q:HE,s:zE,S:AZ,u:TZ,U:NZ,V:CZ,w:kZ,W:OZ,x:null,X:null,y:DZ,Y:MZ,Z:IZ,"%":BE},w={a:C,A:O,b:P,B:k,c:z,d:$E,e:$E,f:JQ,g:IE,G:RE,H:LE,I:LE,j:KQ,L:ZQ,m:YQ,M:XQ,p:A,q:qQ,Q:tZ,s:rZ,S:QQ,u:HQ,U:zQ,V:WQ,w:BQ,W:VQ,x:V,X:Y,y:IE,Y:RE,Z:GQ,"%":eZ};b.x=_(r,b),b.X=_(n,b),b.c=_(e,b),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(Z,$){return function(L){var T=[],D=-1,U=0,q=Z.length,te,re,ue;for(L instanceof Date||(L=new Date(+L));++D<q;)Z.charCodeAt(D)===37&&(T.push(Z.slice(U,D)),(re=ME[te=Z.charAt(++D)])!=null?te=Z.charAt(++D):re=te==="e"?" ":"0",(ue=$[te])&&(te=ue(L,re)),T.push(te),U=D+1);return T.push(Z.slice(U,D)),T.join("")}}function E(Z,$){return function(L){var T=_l(1900,void 0,1),D=j(T,Z,L+="",0),U,q;if(D!=L.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if($&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(U=xg(_l(T.y,0,1)),q=U.getUTCDay(),U=q>4||q===0?th.ceil(U):th(U),U=Bp.offset(U,(T.V-1)*7),T.y=U.getUTCFullYear(),T.m=U.getUTCMonth(),T.d=U.getUTCDate()+(T.w+6)%7):(U=yg(_l(T.y,0,1)),q=U.getDay(),U=q>4||q===0?eh.ceil(U):eh(U),U=Nu.offset(U,(T.V-1)*7),T.y=U.getFullYear(),T.m=U.getMonth(),T.d=U.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),q="Z"in T?xg(_l(T.y,0,1)).getUTCDay():yg(_l(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(q+5)%7:T.w+T.U*7-(q+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,xg(T)):yg(T)}}function j(Z,$,L,T){for(var D=0,U=$.length,q=L.length,te,re;D<U;){if(T>=q)return-1;if(te=$.charCodeAt(D++),te===37){if(te=$.charAt(D++),re=w[te in ME?$.charAt(D++):te],!re||(T=re(Z,L,T))<0)return-1}else if(te!=L.charCodeAt(T++))return-1}return T}function A(Z,$,L){var T=u.exec($.slice(L));return T?(Z.p=d.get(T[0].toLowerCase()),L+T[0].length):-1}function C(Z,$,L){var T=p.exec($.slice(L));return T?(Z.w=m.get(T[0].toLowerCase()),L+T[0].length):-1}function O(Z,$,L){var T=f.exec($.slice(L));return T?(Z.w=h.get(T[0].toLowerCase()),L+T[0].length):-1}function P(Z,$,L){var T=x.exec($.slice(L));return T?(Z.m=y.get(T[0].toLowerCase()),L+T[0].length):-1}function k(Z,$,L){var T=g.exec($.slice(L));return T?(Z.m=v.get(T[0].toLowerCase()),L+T[0].length):-1}function z(Z,$,L){return j(Z,e,$,L)}function V(Z,$,L){return j(Z,r,$,L)}function Y(Z,$,L){return j(Z,n,$,L)}function M(Z){return s[Z.getDay()]}function R(Z){return a[Z.getDay()]}function B(Z){return l[Z.getMonth()]}function F(Z){return o[Z.getMonth()]}function W(Z){return i[+(Z.getHours()>=12)]}function G(Z){return 1+~~(Z.getMonth()/3)}function K(Z){return s[Z.getUTCDay()]}function ie(Z){return a[Z.getUTCDay()]}function se(Z){return l[Z.getUTCMonth()]}function ye(Z){return o[Z.getUTCMonth()]}function Te(Z){return i[+(Z.getUTCHours()>=12)]}function ge(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var $=_(Z+="",b);return $.toString=function(){return Z},$},parse:function(Z){var $=E(Z+="",!1);return $.toString=function(){return Z},$},utcFormat:function(Z){var $=_(Z+="",S);return $.toString=function(){return Z},$},utcParse:function(Z){var $=E(Z+="",!0);return $.toString=function(){return Z},$}}}var ME={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,LQ=/^%/,UQ=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function FQ(t){return t.replace(UQ,"\\$&")}function El(t){return new RegExp("^(?:"+t.map(FQ).join("|")+")","i")}function jl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function BQ(t,e,r){var n=Ft.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function HQ(t,e,r){var n=Ft.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function zQ(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function WQ(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function VQ(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function RE(t,e,r){var n=Ft.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function IE(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GQ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qQ(t,e,r){var n=Ft.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function YQ(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function $E(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function KQ(t,e,r){var n=Ft.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function LE(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function XQ(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function QQ(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ZQ(t,e,r){var n=Ft.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function JQ(t,e,r){var n=Ft.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eZ(t,e,r){var n=LQ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function tZ(t,e,r){var n=Ft.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function rZ(t,e,r){var n=Ft.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function UE(t,e){return Le(t.getDate(),e,2)}function nZ(t,e){return Le(t.getHours(),e,2)}function iZ(t,e){return Le(t.getHours()%12||12,e,2)}function aZ(t,e){return Le(1+Nu.count(ci(t),t),e,3)}function $D(t,e){return Le(t.getMilliseconds(),e,3)}function sZ(t,e){return $D(t,e)+"000"}function oZ(t,e){return Le(t.getMonth()+1,e,2)}function lZ(t,e){return Le(t.getMinutes(),e,2)}function cZ(t,e){return Le(t.getSeconds(),e,2)}function uZ(t){var e=t.getDay();return e===0?7:e}function dZ(t,e){return Le(Hp.count(ci(t)-1,t),e,2)}function LD(t){var e=t.getDay();return e>=4||e===0?xo(t):xo.ceil(t)}function fZ(t,e){return t=LD(t),Le(xo.count(ci(t),t)+(ci(t).getDay()===4),e,2)}function hZ(t){return t.getDay()}function pZ(t,e){return Le(eh.count(ci(t)-1,t),e,2)}function mZ(t,e){return Le(t.getFullYear()%100,e,2)}function gZ(t,e){return t=LD(t),Le(t.getFullYear()%100,e,2)}function vZ(t,e){return Le(t.getFullYear()%1e4,e,4)}function yZ(t,e){var r=t.getDay();return t=r>=4||r===0?xo(t):xo.ceil(t),Le(t.getFullYear()%1e4,e,4)}function xZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function FE(t,e){return Le(t.getUTCDate(),e,2)}function bZ(t,e){return Le(t.getUTCHours(),e,2)}function wZ(t,e){return Le(t.getUTCHours()%12||12,e,2)}function SZ(t,e){return Le(1+Bp.count(ui(t),t),e,3)}function UD(t,e){return Le(t.getUTCMilliseconds(),e,3)}function _Z(t,e){return UD(t,e)+"000"}function EZ(t,e){return Le(t.getUTCMonth()+1,e,2)}function jZ(t,e){return Le(t.getUTCMinutes(),e,2)}function AZ(t,e){return Le(t.getUTCSeconds(),e,2)}function TZ(t){var e=t.getUTCDay();return e===0?7:e}function NZ(t,e){return Le(zp.count(ui(t)-1,t),e,2)}function FD(t){var e=t.getUTCDay();return e>=4||e===0?bo(t):bo.ceil(t)}function CZ(t,e){return t=FD(t),Le(bo.count(ui(t),t)+(ui(t).getUTCDay()===4),e,2)}function kZ(t){return t.getUTCDay()}function OZ(t,e){return Le(th.count(ui(t)-1,t),e,2)}function DZ(t,e){return Le(t.getUTCFullYear()%100,e,2)}function PZ(t,e){return t=FD(t),Le(t.getUTCFullYear()%100,e,2)}function MZ(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function RZ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bo(t):bo.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function IZ(){return"+0000"}function BE(){return"%"}function HE(t){return+t}function zE(t){return Math.floor(+t/1e3)}var Es,BD,HD;$Z({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Z(t){return Es=$Q(t),BD=Es.format,Es.parse,HD=Es.utcFormat,Es.utcParse,Es}function LZ(t){return new Date(t)}function UZ(t){return t instanceof Date?+t:+new Date(+t)}function Gb(t,e,r,n,i,a,s,o,l,u){var d=Db(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),S=u("%Y");function w(_){return(l(_)<_?p:o(_)<_?m:s(_)<_?g:a(_)<_?v:n(_)<_?i(_)<_?x:y:r(_)<_?b:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,UZ)):h().map(LZ)},d.ticks=function(_){var E=h();return t(E[0],E[E.length-1],_??10)},d.tickFormat=function(_,E){return E==null?w:u(E)},d.nice=function(_){var E=h();return(!_||typeof _.range!="function")&&(_=e(E[0],E[E.length-1],_??10)),_?h(ND(E,_)):d},d.copy=function(){return Tu(d,Gb(t,e,r,n,i,a,s,o,l,u))},d}function FZ(){return Jr.apply(Gb(RQ,IQ,ci,Wb,Hp,Nu,Hb,Fb,Ia,BD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BZ(){return Jr.apply(Gb(PQ,MQ,ui,Vb,zp,Bp,zb,Bb,Ia,HD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wp(){var t=0,e=1,r,n,i,a,s=or,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(rl),u.rangeRound=d(Ob),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function ha(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zD(){var t=fa(Wp()(or));return t.copy=function(){return ha(t,zD())},mi.apply(t,arguments)}function WD(){var t=Rb(Wp()).domain([1,10]);return t.copy=function(){return ha(t,WD()).base(t.base())},mi.apply(t,arguments)}function VD(){var t=Ib(Wp());return t.copy=function(){return ha(t,VD()).constant(t.constant())},mi.apply(t,arguments)}function qb(){var t=$b(Wp());return t.copy=function(){return ha(t,qb()).exponent(t.exponent())},mi.apply(t,arguments)}function HZ(){return qb.apply(null,arguments).exponent(.5)}function GD(){var t=[],e=or;function r(n){if(n!=null&&!isNaN(n=+n))return e((ju(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>NX(t,a/n))},r.copy=function(){return GD(e).domain(t)},mi.apply(r,arguments)}function Vp(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=or,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=eQ(g,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(rl),p.rangeRound=m(Ob),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function qD(){var t=fa(Vp()(or));return t.copy=function(){return ha(t,qD())},mi.apply(t,arguments)}function YD(){var t=Rb(Vp()).domain([.1,1,10]);return t.copy=function(){return ha(t,YD()).base(t.base())},mi.apply(t,arguments)}function KD(){var t=Ib(Vp());return t.copy=function(){return ha(t,KD()).constant(t.constant())},mi.apply(t,arguments)}function Yb(){var t=$b(Vp());return t.copy=function(){return ha(t,Yb()).exponent(t.exponent())},mi.apply(t,arguments)}function zZ(){return Yb.apply(null,arguments).exponent(.5)}const WE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ic,scaleDiverging:qD,scaleDivergingLog:YD,scaleDivergingPow:Yb,scaleDivergingSqrt:zZ,scaleDivergingSymlog:KD,scaleIdentity:TD,scaleImplicit:$y,scaleLinear:Zf,scaleLog:CD,scaleOrdinal:Nb,scalePoint:tc,scalePow:Lb,scaleQuantile:DD,scaleQuantize:PD,scaleRadial:OD,scaleSequential:zD,scaleSequentialLog:WD,scaleSequentialPow:qb,scaleSequentialQuantile:GD,scaleSequentialSqrt:HZ,scaleSequentialSymlog:VD,scaleSqrt:_Q,scaleSymlog:kD,scaleThreshold:MD,scaleTime:FZ,scaleUtc:BZ,tickFormat:AD},Symbol.toStringTag,{value:"Module"}));var WZ=Yo;function VZ(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!WZ(s):r(s,o)))var o=s,l=a}return l}var XD=VZ;function GZ(t,e){return t>e}var qZ=GZ,YZ=XD,KZ=qZ,XZ=tl;function QZ(t){return t&&t.length?YZ(t,XZ,KZ):void 0}var ZZ=QZ;const Gp=Qe(ZZ);function JZ(t,e){return t<e}var eJ=JZ,tJ=XD,rJ=eJ,nJ=tl;function iJ(t){return t&&t.length?tJ(t,nJ,rJ):void 0}var aJ=iJ;const qp=Qe(aJ);var sJ=lb,oJ=da,lJ=iD,cJ=Sr;function uJ(t,e){var r=cJ(t)?sJ:lJ;return r(t,oJ(e))}var dJ=uJ,fJ=rD,hJ=dJ;function pJ(t,e){return fJ(hJ(t,e),1)}var mJ=pJ;const gJ=Qe(mJ);var vJ=_b;function yJ(t,e){return vJ(t,e)}var xJ=yJ;const Yp=Qe(xJ);var nl=1e9,bJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xb,ft=!0,Qr="[DecimalError] ",Ha=Qr+"Invalid argument: ",Kb=Qr+"Exponent out of range: ",il=Math.floor,Ea=Math.pow,wJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tr,$t=1e7,ct=7,QD=9007199254740991,rh=il(QD/ct),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(t){return ri(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,r=e.constructor;return Je(ri(e,new r(t),0,1),r.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return Nt(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Tr))throw Error(Qr+"NaN");if(r.s<1)throw Error(Qr+(r.s?"NaN":"-Infinity"));return r.eq(Tr)?new n(0):(ft=!1,e=ri(Bc(r,a),Bc(t,a),a),ft=!0,Je(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eP(e,t):ZD(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Qr+"NaN");return r.s?(ft=!1,e=ri(r,t,0,1).times(t),ft=!0,r.minus(e)):Je(new n(r),i)};me.naturalExponential=me.exp=function(){return JD(this)};me.naturalLogarithm=me.ln=function(){return Bc(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZD(e,t):eP(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ha+t);if(e=Nt(i)+1,n=i.d.length-1,r=n*ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};me.squareRoot=me.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Qr+"NaN")}for(t=Nt(o),ft=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Tn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=il((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ri(o,a,s+2)).times(.5),Tn(a.d).slice(0,s)===(e=Tn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Je(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return ft=!0,Je(n,r)};me.times=me.mul=function(t){var e,r,n,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+e,a[i--]=o%$t|0,e=o/$t|0;a[i]=(a[i]+e)%$t|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ft?Je(t,f.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Pn(t,0,nl),e===void 0?e=n.rounding:Pn(e,0,8),Je(r,t+Nt(r)+1,e))};me.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ja(n,!0):(Pn(t,0,nl),e===void 0?e=i.rounding:Pn(e,0,8),n=Je(new i(n),t+1,e),r=Ja(n,!0,t+1)),r};me.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ja(i):(Pn(t,0,nl),e===void 0?e=a.rounding:Pn(e,0,8),n=Je(new a(i),t+Nt(i)+1,e),r=Ja(n.abs(),!1,t+Nt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return Je(new e(t),Nt(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Tr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Qr+"Infinity");return o}if(o.eq(Tr))return o;if(n=l.precision,t.eq(Tr))return Je(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=QD){for(i=new l(Tr),e=Math.ceil(n/ct+4),ft=!1;r%2&&(i=i.times(o),GE(i.d,e)),r=il(r/2),r!==0;)o=o.times(o),GE(o.d,e);return ft=!0,t.s<0?new l(Tr).div(i):Je(i,n)}}else if(a<0)throw Error(Qr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ft=!1,i=t.times(Bc(o,n+u)),ft=!0,i=JD(i),i.s=a,i};me.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Nt(i),n=Ja(i,r<=a.toExpNeg||r>=a.toExpPos)):(Pn(t,1,nl),e===void 0?e=a.rounding:Pn(e,0,8),i=Je(new a(i),t,e),r=Nt(i),n=Ja(i,t<=r||r<=a.toExpNeg,t)),n};me.toSignificantDigits=me.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Pn(t,1,nl),e===void 0?e=n.rounding:Pn(e,0,8)),Je(new n(r),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nt(t),r=t.constructor;return Ja(t,e<=r.toExpNeg||e>=r.toExpPos)};function ZD(t,e){var r,n,i,a,s,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ft?Je(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/ct),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/$t|0,l[a]%=$t;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ft?Je(e,f):e}function Pn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ha+t)}function Tn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=ct-n.length,r&&(a+=Ti(r)),a+=n;s=t[e],n=s+"",r=ct-n.length,r&&(a+=Ti(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ri=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%$t|0,s=a/$t|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*$t+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,h,p,m,g,v,x,y,b,S,w,_,E,j,A=n.constructor,C=n.s==i.s?1:-1,O=n.d,P=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Qr+"Division by zero");for(l=n.e-i.e,E=P.length,w=O.length,p=new A(C),m=p.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--l,a==null?y=a=A.precision:s?y=a+(Nt(n)-Nt(i))+1:y=a,y<0)return new A(0);if(y=y/ct+2|0,u=0,E==1)for(d=0,P=P[0],y++;(u<w||d)&&y--;u++)b=d*$t+(O[u]||0),m[u]=b/P|0,d=b%P|0;else{for(d=$t/(P[0]+1)|0,d>1&&(P=t(P,d),O=t(O,d),E=P.length,w=O.length),S=E,g=O.slice(0,E),v=g.length;v<E;)g[v++]=0;j=P.slice(),j.unshift(0),_=P[0],P[1]>=$t/2&&++_;do d=0,o=e(P,g,E,v),o<0?(x=g[0],E!=v&&(x=x*$t+(g[1]||0)),d=x/_|0,d>1?(d>=$t&&(d=$t-1),f=t(P,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,r(f,E<h?j:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=e(P,g,E,v),o<1&&(d++,r(g,E<v?j:P,v))),v=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[v++]=O[S]||0:(g=[O[S]],v=1);while((S++<w||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,Je(p,s?a+Nt(p)+1:a)}}();function JD(t,e){var r,n,i,a,s,o,l=0,u=0,d=t.constructor,f=d.precision;if(Nt(t)>16)throw Error(Kb+Nt(t));if(!t.s)return new d(Tr);for(e==null?(ft=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Ea(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Tr),d.precision=o;;){if(i=Je(i.times(t),o),r=r.times(++l),s=a.plus(ri(i,r,o)),Tn(s.d).slice(0,o)===Tn(a.d).slice(0,o)){for(;u--;)a=Je(a.times(a),o);return d.precision=f,e==null?(ft=!0,Je(a,f)):a}a=s}}function Nt(t){for(var e=t.e*ct,r=t.d[0];r>=10;r/=10)e++;return e}function bg(t,e,r){if(e>t.LN10.sd())throw ft=!0,r&&(t.precision=r),Error(Qr+"LN10 precision limit exceeded");return Je(new t(t.LN10),e)}function Ti(t){for(var e="";t--;)e+="0";return e}function Bc(t,e){var r,n,i,a,s,o,l,u,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Qr+(p.s?"NaN":"-Infinity"));if(p.eq(Tr))return new g(0);if(e==null?(ft=!1,u=v):u=e,p.eq(10))return e==null&&(ft=!0),bg(g,u);if(u+=h,g.precision=u,r=Tn(m),n=r.charAt(0),a=Nt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Tn(p.d),n=r.charAt(0),f++;a=Nt(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=bg(g,u+2,v).times(a+""),p=Bc(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(ft=!0,Je(p,v)):p;for(o=s=p=ri(p.minus(Tr),p.plus(Tr),u),d=Je(p.times(p),u),i=3;;){if(s=Je(s.times(d),u),l=o.plus(ri(s,new g(i),u)),Tn(l.d).slice(0,u)===Tn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(bg(g,u+2,v).times(a+""))),o=ri(o,new g(f),u),g.precision=v,e==null?(ft=!0,Je(o,v)):o;o=l,i+=2}}function VE(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=il(r/ct),t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ct;n<i;)t.d.push(+e.slice(n,n+=ct));e=e.slice(n),n=ct-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ft&&(t.e>rh||t.e<-rh))throw Error(Kb+r)}else t.s=0,t.e=0,t.d=[0];return t}function Je(t,e,r){var n,i,a,s,o,l,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=ct,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ct),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=ct,i=n-ct+s}if(r!==void 0&&(a=Ea(10,s-i-1),o=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Ea(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Nt(t),f.length=1,e=e-a-1,f[0]=Ea(10,(ct-e%ct)%ct),t.e=il(-e/ct)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ea(10,ct-n),f[d]=i>0?(u/Ea(10,s-i)%Ea(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==$t&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=$t)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ft&&(t.e>rh||t.e<-rh))throw Error(Kb+Nt(t));return t}function eP(t,e){var r,n,i,a,s,o,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ft?Je(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(p/ct),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=$t-1;--l[a],l[i]+=$t}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ft?Je(e,p):e):new h(0)}function Ja(t,e,r){var n,i=Nt(t),a=Tn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ti(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ti(-i-1)+a,r&&(n=r-s)>0&&(a+=Ti(n))):i>=s?(a+=Ti(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ti(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ti(n))),t.s<0?"-"+a:a}function GE(t,e){if(t.length>e)return t.length=e,!0}function tP(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ha+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return VE(s,a.toString())}else if(typeof a!="string")throw Error(Ha+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,wJ.test(a))VE(s,a);else throw Error(Ha+a)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tP,i.config=i.set=SJ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function SJ(t){if(!t||typeof t!="object")throw Error(Qr+"Object expected");var e,r,n,i=["precision",1,nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(il(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ha+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ha+r+": "+n);return this}var Xb=tP(bJ);Tr=new Xb(1);const Xe=Xb;function _J(t){return TJ(t)||AJ(t)||jJ(t)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jJ(t,e){if(t){if(typeof t=="string")return By(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(t,e)}}function AJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TJ(t){if(Array.isArray(t))return By(t)}function By(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NJ=function(e){return e},rP={"@@functional/placeholder":!0},nP=function(e){return e===rP},qE=function(e){return function r(){return arguments.length===0||arguments.length===1&&nP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},CJ=function t(e,r){return e===1?r:qE(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==rP}).length;return s>=e?r.apply(void 0,i):t(e-s,qE(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(f){return nP(f)?l.shift():f});return r.apply(void 0,_J(d).concat(l))}))})},Kp=function(e){return CJ(e.length,e)},Hy=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},kJ=Kp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),OJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return NJ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},zy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iP=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function DJ(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function PJ(t,e,r){for(var n=new Xe(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var MJ=Kp(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),RJ=Kp(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),IJ=Kp(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Xp={rangeStep:PJ,getDigitCount:DJ,interpolateNumber:MJ,uninterpolateNumber:RJ,uninterpolateTruncation:IJ};function Wy(t){return UJ(t)||LJ(t)||aP(t)||$J()}function $J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function UJ(t){if(Array.isArray(t))return Vy(t)}function Hc(t,e){return HJ(t)||BJ(t,e)||aP(t,e)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aP(t,e){if(t){if(typeof t=="string")return Vy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vy(t,e)}}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function HJ(t){if(Array.isArray(t))return t}function sP(t){var e=Hc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function oP(t,e,r){if(t.lte(0))return new Xe(0);var n=Xp.getDigitCount(t.toNumber()),i=new Xe(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Xe(Math.ceil(l))}function zJ(t,e,r){var n=1,i=new Xe(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Xe(10).pow(Xp.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var s=Math.floor((e-1)/2),o=OJ(kJ(function(l){return i.add(new Xe(l-s).mul(n)).toNumber()}),Hy);return o(0,e)}function lP(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=oP(new Xe(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Xe(0):(s=new Xe(t).add(e).div(2),s=s.sub(new Xe(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Xe(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?lP(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Xe(o).mul(a)),tickMax:s.add(new Xe(l).mul(a))})}function WJ(t){var e=Hc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=sP([r,n]),l=Hc(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Wy(Hy(0,i-1).map(function(){return 1/0}))):[].concat(Wy(Hy(0,i-1).map(function(){return-1/0})),[d]);return r>n?zy(f):f}if(u===d)return zJ(u,i,a);var h=lP(u,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,v=Xp.rangeStep(m,g.add(new Xe(.1).mul(p)),p);return r>n?zy(v):v}function VJ(t,e){var r=Hc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=sP([n,i]),o=Hc(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=oP(new Xe(u).sub(l).div(d-1),a,0),h=[].concat(Wy(Xp.rangeStep(new Xe(l),new Xe(u).sub(new Xe(.99).mul(f)),f)),[u]);return n>i?zy(h):h}var GJ=iP(WJ),qJ=iP(VJ),YJ=!0,wg="Invariant failed";function es(t,e){if(!t){if(YJ)throw new Error(wg);var r=typeof e=="function"?e():e,n=r?"".concat(wg,": ").concat(r):wg;throw new Error(n)}}var KJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(this,arguments)}function XJ(t,e){return eee(t)||JJ(t,e)||ZJ(t,e)||QJ()}function QJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return YE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YE(t,e)}}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function eee(t){if(Array.isArray(t))return t}function tee(t,e){if(t==null)return{};var r=ree(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ree(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dP(n.key),n)}}function iee(t,e,r){return e&&KE(t.prototype,e),r&&KE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aee(t,e,r){return e=ih(e),see(t,cP()?Reflect.construct(e,r||[],ih(t).constructor):e.apply(t,r))}function see(t,e){if(e&&(wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oee(t)}function oee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(t)}function lee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gy(t,e)}function Gy(t,e){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gy(t,e)}function uP(t,e,r){return e=dP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dP(t){var e=cee(t,"string");return wo(e)=="symbol"?e:e+""}function cee(t,e){if(wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cu=function(t){function e(){return nee(this,e),aee(this,e,arguments)}return lee(e,t),iee(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=tee(n,KJ),p=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&es(!1);var m=l.map(function(g){var v=u(g,o),x=v.x,y=v.y,b=v.value,S=v.errorVal;if(!S)return null;var w=[],_,E;if(Array.isArray(S)){var j=XJ(S,2);_=j[0],E=j[1]}else _=E=S;if(a==="vertical"){var A=d.scale,C=y+i,O=C+s,P=C-s,k=A(b-_),z=A(b+E);w.push({x1:z,y1:O,x2:z,y2:P}),w.push({x1:k,y1:C,x2:z,y2:C}),w.push({x1:k,y1:O,x2:k,y2:P})}else if(a==="horizontal"){var V=f.scale,Y=x+i,M=Y-s,R=Y+s,B=V(b-_),F=V(b+E);w.push({x1:M,y1:F,x2:R,y2:F}),w.push({x1:Y,y1:B,x2:Y,y2:F}),w.push({x1:M,y1:B,x2:R,y2:B})}return H.createElement(St,nh({className:"recharts-errorBar",key:"bar-".concat(w.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},p),w.map(function(W){return H.createElement("line",nh({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return H.createElement(St,{className:"recharts-errorBars"},m)}}])}(H.Component);uP(Cu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uP(Cu,"displayName","ErrorBar");function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){uee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uee(t,e,r){return e=dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dee(t){var e=fee(t,"string");return zc(e)=="symbol"?e:e+""}function fee(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fP=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ar(r,Fa);if(!s)return null;var o=Fa.defaultProps,l=o!==void 0?ya(ya({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ya(ya({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:Qb(f),value:g||m,payload:p}}),ya(ya(ya({},l),Fa.getWithHeight(s,i)),{},{payload:u,item:s})};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function QE(t){return gee(t)||mee(t)||pee(t)||hee()}function hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pee(t,e){if(t){if(typeof t=="string")return qy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qy(t,e)}}function mee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gee(t){if(Array.isArray(t))return qy(t)}function qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(r),!0).forEach(function(n){eo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eo(t,e,r){return e=vee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vee(t){var e=yee(t,"string");return Wc(e)=="symbol"?e:e+""}function yee(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mr(t,e,r){return Oe(t)||Oe(e)?r:Pt(e)?qr(t,e,r):Ce(e)?e(t):r}function rc(t,e,r,n){var i=gJ(t,function(o){return Mr(o,e)});if(r==="number"){var a=i.filter(function(o){return ae(o)||parseFloat(o)});return a.length?[qp(a),Gp(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Oe(o)}):i;return s.map(function(o){return Pt(o)||o instanceof Date?o:""})}var xee=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(hn(f-d)!==hn(h-f)){var m=[];if(hn(h-f)===hn(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(e>(y+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},Qb=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},bee=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,x=g.filter(function(E){return Jn(E.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?bt(bt({},y),x[0].props):x[0].props,S=b.barSize,w=b[v];s[w]||(s[w]=[]);var _=Oe(S)?r:S;s[w].push({item:x[0],stackList:x.slice(1),barSize:Oe(_)?void 0:Za(_,n,0)})}}return s},wee=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=Za(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(S,w){var _={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},E=[].concat(QE(S),[_]);return v=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:v})}),E},f)}else{var x=Za(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(S,w,_){var E=[].concat(QE(S),[{item:w.item,position:{offset:x+(y+u)*_+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},f)}return d},See=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=fP({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ae(e[p]))return bt(bt({},e),{},eo({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ae(e[m]))return bt(bt({},e),{},eo({},m,e[m]+(h||0)))}return e},_ee=function(e,r,n){return Oe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hP=function(e,r,n,i,a){var s=r.props.children,o=Yr(s,Cu).filter(function(u){return _ee(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Mr(d,n);if(Oe(f))return u;var h=Array.isArray(f)?[qp(f),Gp(f)]:[f,f],p=l.reduce(function(m,g){var v=Mr(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Eee=function(e,r,n,i,a){var s=r.map(function(o){return hP(e,o,n,a,i)}).filter(function(o){return!Oe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},pP=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&hP(e,l,u,i)||rc(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},mP=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},gP=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Xn=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?hn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Su(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Sg=new WeakMap,gd=function(e,r){if(typeof r!="function")return e;Sg.has(e)||Sg.set(e,new WeakMap);var n=Sg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},jee=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Ic(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Zf(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:tc(),realScaleType:"point"}:a==="category"?{scale:Ic(),realScaleType:"band"}:{scale:Zf(),realScaleType:"linear"};if(Qa(i)){var l="scale".concat(Pp(i));return{scale:(WE[l]||tc)(),realScaleType:WE[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:tc(),realScaleType:"point"}},JE=1e-4,Aee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-JE,s=Math.max(i[0],i[1])+JE,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},Tee=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Nee=function(e,r){if(!r||r.length!==2||!ae(r[0])||!ae(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ae(e[0])||e[0]<n)&&(a[0]=n),(!ae(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Cee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Su(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},kee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Su(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Oee={sign:Cee,expand:Yz,none:ho,silhouette:Kz,wiggle:Xz,positive:kee},Dee=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Oee[n],s=qz().keys(i).value(function(o,l){return+Mr(o,l,0)}).order(yy).offset(a);return s(e)},Pee=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Pt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[_u("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return bt(bt({},f),{},eo({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return bt(bt({},g),{},eo({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Dee(e,x.items,a)}))},m)}return bt(bt({},f),{},eo({},h,p))},d)},Mee=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=GJ(u,a,o);return e.domain([qp(d),Gp(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=qJ(f,a,o);return{niceTicks:h}}return null};function ej(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(i[e.dataKey])){var o=Cf(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Mr(i,Oe(s)?e.dataKey:s);return Oe(l)?null:e.scale(l)}var tj=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=Mr(s,r.dataKey,r.domain[o]);return Oe(l)?null:r.scale(l)-a/2+i},Ree=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Iee=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Pt(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},$ee=function(e){return e.reduce(function(r,n){return[qp(n.concat([r[0]]).filter(ae)),Gp(n.concat([r[1]]).filter(ae))]},[1/0,-1/0])},vP=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var f=$ee(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},rj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yy=function(e,r,n){if(Ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ae(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(rj.test(e[0])){var a=+rj.exec(e[0])[1];i[0]=r[0]-a}else Ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ae(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(nj.test(e[1])){var s=+nj.exec(e[1])[1];i[1]=r[1]+s}else Ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ah=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=jb(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},ij=function(e,r,n){return!e||!e.length||Yp(e,qr(n,"type.defaultProps.domain"))?r:e},yP=function(e,r){var n=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return bt(bt({},Re(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:Qb(e),value:Mr(r,i),type:l,payload:r,chartType:u,hide:d})};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){Lee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lee(t,e,r){return e=Uee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uee(t){var e=Fee(t,"string");return Vc(e)=="symbol"?e:e+""}function Fee(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sh=Math.PI/180,Bee=function(e){return e*180/Math.PI},Vt=function(e,r,n,i){return{x:e+Math.cos(-sh*i)*n,y:r+Math.sin(-sh*i)*n}},Hee=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},zee=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Hee({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:Bee(u),angleInRadian:u}},Wee=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Vee=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},oj=function(e,r){var n=e.x,i=e.y,a=zee({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=Wee(r),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?sj(sj({},r),{},{radius:s,angle:Vee(p,r)}):null};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}var Gee=["offset"];function qee(t){return Qee(t)||Xee(t)||Kee(t)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kee(t,e){if(t){if(typeof t=="string")return Ky(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ky(t,e)}}function Xee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qee(t){if(Array.isArray(t))return Ky(t)}function Ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zee(t,e){if(t==null)return{};var r=Jee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(r),!0).forEach(function(n){ete(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ete(t,e,r){return e=tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tte(t){var e=rte(t,"string");return Gc(e)=="symbol"?e:e+""}function rte(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qc.apply(this,arguments)}var nte=function(e){var r=e.value,n=e.formatter,i=Oe(e.children)?r:e.children;return Ce(n)?n(i):i},ite=function(e,r){var n=hn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},ate=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,x=ite(p,m),y=x>=0?1:-1,b,S;i==="insideStart"?(b=p+y*s,S=g):i==="insideEnd"?(b=m-y*s,S=!g):i==="end"&&(b=m+y*s,S=g),S=x<=0?S:!S;var w=Vt(u,d,v,b),_=Vt(u,d,v,b+(S?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),j=Oe(e.id)?_u("recharts-radial-line-"):e.id;return H.createElement("text",qc({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",o)}),H.createElement("defs",null,H.createElement("path",{id:j,d:E})),H.createElement("textPath",{xlinkHref:"#".concat(j)},r))},ste=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Vt(s,o,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Vt(s,o,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},ote=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return kt(kt({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return kt(kt({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var w={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return kt(kt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var _={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return kt(kt({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?kt({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideRight"?kt({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideTop"?kt({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},E):a==="insideBottom"?kt({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?kt({x:o+v,y:l+h,textAnchor:y,verticalAnchor:m},E):a==="insideTopRight"?kt({x:o+u-v,y:l+h,textAnchor:x,verticalAnchor:m},E):a==="insideBottomLeft"?kt({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:p},E):a==="insideBottomRight"?kt({x:o+u-v,y:l+d-h,textAnchor:x,verticalAnchor:p},E):Ko(a)&&(ae(a.x)||Ma(a.x))&&(ae(a.y)||Ma(a.y))?kt({x:o+Za(a.x,u),y:l+Za(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):kt({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},lte=function(e){return"cx"in e&&ae(e.cx)};function er(t){var e=t.offset,r=e===void 0?5:e,n=Zee(t,Gee),i=kt({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Oe(o)&&Oe(l)&&!N.isValidElement(u)&&!Ce(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var p;if(Ce(u)){if(p=N.createElement(u,i),N.isValidElement(p))return p}else p=nte(i);var m=lte(a),g=Re(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ate(i,p,g);var v=m?ste(i):ote(i);return H.createElement(Vf,qc({className:$e("recharts-label",f)},g,v,{breakAll:h}),p)}er.displayName="Label";var xP=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ae(g)&&ae(v)){if(ae(f)&&ae(h))return{x:f,y:h,width:g,height:v};if(ae(p)&&ae(m))return{x:p,y:m,width:g,height:v}}return ae(f)&&ae(h)?{x:f,y:h,width:0,height:0}:ae(r)&&ae(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},cte=function(e,r){return e?e===!0?H.createElement(er,{key:"label-implicit",viewBox:r}):Pt(e)?H.createElement(er,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===er?N.cloneElement(e,{key:"label-implicit",viewBox:r}):H.createElement(er,{key:"label-implicit",content:e,viewBox:r}):Ce(e)?H.createElement(er,{key:"label-implicit",content:e,viewBox:r}):Ko(e)?H.createElement(er,qc({viewBox:r},e,{key:"label-implicit"})):null:null},ute=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=xP(e),s=Yr(i,er).map(function(l,u){return N.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=cte(e.label,r||a);return[o].concat(qee(s))};er.parseViewBox=xP;er.renderCallByParent=ute;function dte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var fte=dte;const hte=Qe(fte);function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var pte=["valueAccessor"],mte=["data","dataKey","clockWise","id","textBreakAll"];function gte(t){return bte(t)||xte(t)||yte(t)||vte()}function vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yte(t,e){if(t){if(typeof t=="string")return Xy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xy(t,e)}}function xte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bte(t){if(Array.isArray(t))return Xy(t)}function Xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oh.apply(this,arguments)}function cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(r),!0).forEach(function(n){wte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wte(t,e,r){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=_te(t,"string");return Yc(e)=="symbol"?e:e+""}function _te(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dj(t,e){if(t==null)return{};var r=Ete(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ete(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jte=function(e){return Array.isArray(e.value)?hte(e.value):e.value};function Ki(t){var e=t.valueAccessor,r=e===void 0?jte:e,n=dj(t,pte),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=dj(n,mte);return!i||!i.length?null:H.createElement(St,{className:"recharts-label-list"},i.map(function(d,f){var h=Oe(a)?r(d,f):Mr(d&&d.payload,a),p=Oe(o)?{}:{id:"".concat(o,"-").concat(f)};return H.createElement(er,oh({},Re(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:er.parseViewBox(Oe(s)?d:uj(uj({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ki.displayName="LabelList";function Ate(t,e){return t?t===!0?H.createElement(Ki,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Ce(t)?H.createElement(Ki,{key:"labelList-implicit",data:e,content:t}):Ko(t)?H.createElement(Ki,oh({data:e},t,{key:"labelList-implicit"})):null:null}function Tte(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Yr(n,Ki).map(function(s,o){return N.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=Ate(t.label,e);return[a].concat(gte(i))}Ki.renderCallByParent=Tte;function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qy.apply(this,arguments)}function fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(r),!0).forEach(function(n){Nte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nte(t,e,r){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cte(t){var e=kte(t,"string");return Kc(e)=="symbol"?e:e+""}function kte(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ote=function(e,r){var n=hn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},vd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/sh,h=u?a:a+s*f,p=Vt(r,n,d,h),m=Vt(r,n,i,h),g=u?a-s*f:a,v=Vt(r,n,d*Math.cos(f*sh),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},bP=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Ote(s,o),u=s+l,d=Vt(r,n,a,s),f=Vt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Vt(r,n,i,s),m=Vt(r,n,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Dte=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=hn(d-u),h=vd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=vd({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(S<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):bP({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var _=vd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=_.circleTangency,j=_.lineTangency,A=_.theta,C=vd({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=C.circleTangency,P=C.lineTangency,k=C.theta,z=l?Math.abs(u-d):Math.abs(u-d)-A-k;if(z<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Pte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wP=function(e){var r=hj(hj({},Pte),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=$e("recharts-sector",h),m=s-a,g=Za(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Dte({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=bP({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),H.createElement("path",Qy({},Re(r,!0),{className:p,d:v,role:"img"}))};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zy.apply(this,arguments)}function pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(r),!0).forEach(function(n){Mte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mte(t,e,r){return e=Rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rte(t){var e=Ite(t,"string");return Xc(e)=="symbol"?e:e+""}function Ite(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gj={curveBasisClosed:Iz,curveBasisOpen:$z,curveBasis:Rz,curveBumpX:wz,curveBumpY:Sz,curveLinearClosed:Lz,curveLinear:Rp,curveMonotoneX:Uz,curveMonotoneY:Fz,curveNatural:Bz,curveStep:Hz,curveStepAfter:Wz,curveStepBefore:zz},yd=function(e){return e.x===+e.x&&e.y===+e.y},Al=function(e){return e.x},Tl=function(e){return e.y},$te=function(e,r){if(Ce(e))return e;var n="curve".concat(Pp(e));return(n==="curveMonotone"||n==="curveBump")&&r?gj["".concat(n).concat(r==="vertical"?"Y":"X")]:gj[n]||Rp},Lte=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=$te(n,o),f=u?a.filter(function(g){return yd(g)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return yd(g)}):s,m=f.map(function(g,v){return mj(mj({},g),{},{base:p[v]})});return o==="vertical"?h=ld().y(Tl).x1(Al).x0(function(g){return g.base.x}):h=ld().x(Al).y1(Tl).y0(function(g){return g.base.y}),h.defined(yd).curve(d),h(m)}return o==="vertical"&&ae(s)?h=ld().y(Tl).x1(Al).x0(s):ae(s)?h=ld().x(Al).y1(Tl).y0(s):h=wO().x(Al).y(Tl),h.defined(yd).curve(d),h(f)},Jy=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Lte(e):i;return N.createElement("path",Zy({},Re(e,!1),kf(e),{className:$e("recharts-curve",r),d:s,ref:a}))},SP={exports:{}},Ute="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fte=Ute,Bte=Fte;function _P(){}function EP(){}EP.resetWarningCache=_P;var Hte=function(){function t(n,i,a,s,o,l){if(l!==Bte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EP,resetWarningCache:_P};return r.PropTypes=r,r};SP.exports=Hte();var zte=SP.exports;const Be=Qe(zte);var Wte=Object.getOwnPropertyNames,Vte=Object.getOwnPropertySymbols,Gte=Object.prototype.hasOwnProperty;function vj(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function xd(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function yj(t){return Wte(t).concat(Vte(t))}var qte=Object.hasOwn||function(t,e){return Gte.call(t,e)};function hs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Yte="__v",Kte="__o",Xte="_owner",xj=Object.getOwnPropertyDescriptor,bj=Object.keys;function Qte(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Zte(t,e){return hs(t.getTime(),e.getTime())}function Jte(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ere(t,e){return t===e}function wj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var tre=hs;function rre(t,e,r){var n=bj(t),i=n.length;if(bj(e).length!==i)return!1;for(;i-- >0;)if(!jP(t,e,r,n[i]))return!1;return!0}function Nl(t,e,r){var n=yj(t),i=n.length;if(yj(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!jP(t,e,r,a)||(s=xj(t,a),o=xj(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function nre(t,e){return hs(t.valueOf(),e.valueOf())}function ire(t,e){return t.source===e.source&&t.flags===e.flags}function Sj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function are(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function sre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function jP(t,e,r,n){return(n===Xte||n===Kte||n===Yte)&&(t.$$typeof||e.$$typeof)?!0:qte(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ore="[object Arguments]",lre="[object Boolean]",cre="[object Date]",ure="[object Error]",dre="[object Map]",fre="[object Number]",hre="[object Object]",pre="[object RegExp]",mre="[object Set]",gre="[object String]",vre="[object URL]",yre=Array.isArray,_j=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ej=Object.assign,xre=Object.prototype.toString.call.bind(Object.prototype.toString);function bre(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(m,g,v):x==="function"?i(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return o(m,g,v);if(yre(m))return e(m,g,v);if(_j!=null&&_j(m))return f(m,g,v);if(y===Date)return r(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return a(m,g,v);if(y===Set)return d(m,g,v);var b=xre(m);return b===cre?r(m,g,v):b===pre?u(m,g,v):b===dre?a(m,g,v):b===mre?d(m,g,v):b===hre?typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,v):b===vre?h(m,g,v):b===ure?n(m,g,v):b===ore?o(m,g,v):b===lre||b===fre||b===gre?l(m,g,v):!1}}function wre(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Nl:Qte,areDatesEqual:Zte,areErrorsEqual:Jte,areFunctionsEqual:ere,areMapsEqual:n?vj(wj,Nl):wj,areNumbersEqual:tre,areObjectsEqual:n?Nl:rre,arePrimitiveWrappersEqual:nre,areRegExpsEqual:ire,areSetsEqual:n?vj(Sj,Nl):Sj,areTypedArraysEqual:n?Nl:are,areUrlsEqual:sre};if(r&&(i=Ej({},i,r(i))),e){var a=xd(i.areArraysEqual),s=xd(i.areMapsEqual),o=xd(i.areObjectsEqual),l=xd(i.areSetsEqual);i=Ej({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function Sre(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function _re(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var Ere=pa();pa({strict:!0});pa({circular:!0});pa({circular:!0,strict:!0});pa({createInternalComparator:function(){return hs}});pa({strict:!0,createInternalComparator:function(){return hs}});pa({circular:!0,createInternalComparator:function(){return hs}});pa({circular:!0,createInternalComparator:function(){return hs},strict:!0});function pa(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=wre(t),l=bre(o),u=n?n(l):Sre(l);return _re({circular:r,comparator:l,createState:i,equals:u,strict:s})}function jre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):jre(i)};requestAnimationFrame(n)}function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function Are(t){return kre(t)||Cre(t)||Nre(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(t,e){if(t){if(typeof t=="string")return Aj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(t,e)}}function Aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kre(t){if(Array.isArray(t))return t}function Ore(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Are(s),l=o[0],u=o.slice(1);if(typeof l=="number"){jj(i.bind(null,u),l);return}i(l),jj(i.bind(null,u));return}e0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Tj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(r),!0).forEach(function(n){AP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AP(t,e,r){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dre(t){var e=Pre(t,"string");return Qc(e)==="symbol"?e:String(e)}function Pre(t,e){if(Qc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mre=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Rre=function(e){return e},Ire=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},nc=function(e,r){return Object.keys(r).reduce(function(n,i){return Nj(Nj({},n),{},AP({},i,e(i,r[i])))},{})},Cj=function(e,r,n){return e.map(function(i){return"".concat(Ire(i)," ").concat(r,"ms ").concat(n)}).join(",")};function $re(t,e){return Fre(t)||Ure(t,e)||TP(t,e)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ure(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Fre(t){if(Array.isArray(t))return t}function Bre(t){return Wre(t)||zre(t)||TP(t)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TP(t,e){if(t){if(typeof t=="string")return t0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t0(t,e)}}function zre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wre(t){if(Array.isArray(t))return t0(t)}function t0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lh=1e-4,NP=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},CP=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},kj=function(e,r){return function(n){var i=NP(e,r);return CP(i,n)}},Vre=function(e,r){return function(n){var i=NP(e,r),a=[].concat(Bre(i.map(function(s,o){return s*o}).slice(1)),[0]);return CP(a,n)}},Oj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=$re(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=kj(i,s),h=kj(a,o),p=Vre(i,s),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,S=0;S<8;++S){var w=f(b)-y,_=p(b);if(Math.abs(w-y)<lh||_<lh)return h(b);b=m(b-w/_)}return h(b)};return g.isStepper=!1,g},Gre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<lh&&Math.abs(g)<lh?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},qre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Oj(i);case"spring":return Gre();default:if(i.split("(")[0]==="cubic-bezier")return Oj(i)}return typeof i=="function"?i:null};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Dj(t){return Xre(t)||Kre(t)||kP(t)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xre(t){if(Array.isArray(t))return n0(t)}function Pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(r),!0).forEach(function(n){r0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r0(t,e,r){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=Zre(t,"string");return Zc(e)==="symbol"?e:String(e)}function Zre(t,e){if(Zc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jre(t,e){return rne(t)||tne(t,e)||kP(t,e)||ene()}function ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kP(t,e){if(t){if(typeof t=="string")return n0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n0(t,e)}}function n0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rne(t){if(Array.isArray(t))return t}var ch=function(e,r,n){return e+(r-e)*n},i0=function(e){var r=e.from,n=e.to;return r!==n},nne=function t(e,r,n){var i=nc(function(a,s){if(i0(s)){var o=e(s.from,s.to,s.velocity),l=Jre(o,2),u=l[0],d=l[1];return Ht(Ht({},s),{},{from:u,velocity:d})}return s},r);return n<1?nc(function(a,s){return i0(s)?Ht(Ht({},s),{},{velocity:ch(s.velocity,i[a].velocity,n),from:ch(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const ine=function(t,e,r,n,i){var a=Mre(t,e),s=a.reduce(function(v,x){return Ht(Ht({},v),{},r0({},x,[t[x],e[x]]))},{}),o=a.reduce(function(v,x){return Ht(Ht({},v),{},r0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return nc(function(x,y){return y.from},o)},p=function(){return!Object.values(o).filter(i0).length},m=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=nne(r,o,b),i(Ht(Ht(Ht({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,b=nc(function(w,_){return ch.apply(void 0,Dj(_).concat([r(y)]))},s);if(i(Ht(Ht(Ht({},t),e),b)),y<1)l=requestAnimationFrame(f);else{var S=nc(function(w,_){return ch.apply(void 0,Dj(_).concat([r(1)]))},s);i(Ht(Ht(Ht({},t),e),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}var ane=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sne(t,e){if(t==null)return{};var r=one(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function one(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _g(t){return dne(t)||une(t)||cne(t)||lne()}function lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cne(t,e){if(t){if(typeof t=="string")return a0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a0(t,e)}}function une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dne(t){if(Array.isArray(t))return a0(t)}function a0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(r),!0).forEach(function(n){Ul(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ul(t,e,r){return e=OP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OP(n.key),n)}}function hne(t,e,r){return e&&Rj(t.prototype,e),r&&Rj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OP(t){var e=pne(t,"string");return So(e)==="symbol"?e:String(e)}function pne(t,e){if(So(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(So(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s0(t,e)}function gne(t){var e=vne();return function(){var n=uh(t),i;if(e){var a=uh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return o0(this,i)}}function o0(t,e){if(e&&(So(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0(t)}function l0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uh(t){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(t)}var Qp=function(t){mne(r,t);var e=gne(r);function r(n,i){var a;fne(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(l0(a)),a.changeStyle=a.changeStyle.bind(l0(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),o0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},o0(a);a.state={style:l?Ul({},l,u):u}}else a.state={style:{}};return a}return hne(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Ul({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Ere(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?Ul({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(rn(rn({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=ine(s,o,qre(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,S=b===void 0?"ease":b,w=v.style,_=v.properties,E=v.onAnimationEnd,j=x>0?s[x-1]:v,A=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(_g(g),[a.runJSAnimation.bind(a,{from:j.style,to:w,duration:y,easing:S}),y]);var C=Cj(A,y,S),O=rn(rn(rn({},j.style),w),{},{transition:C});return[].concat(_g(g),[O,y,E]).filter(Rre)};return this.manager.start([l].concat(_g(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ore());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Ul({},o,l):l,v=Cj(Object.keys(g),s,u);m.start([d,a,rn(rn({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=sne(i,ane),u=N.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,y=N.cloneElement(p,rn(rn({},l),{},{style:rn(rn({},v),d),className:x}));return y};return u===1?f(N.Children.only(a)):H.createElement("div",null,N.Children.map(a,function(h){return f(h)}))}}]),r}(N.PureComponent);Qp.displayName="Animate";Qp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qp.propTypes={from:Be.oneOfType([Be.object,Be.string]),to:Be.oneOfType([Be.object,Be.string]),attributeName:Be.string,duration:Be.number,begin:Be.number,easing:Be.oneOfType([Be.string,Be.func]),steps:Be.arrayOf(Be.shape({duration:Be.number.isRequired,style:Be.object.isRequired,easing:Be.oneOfType([Be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Be.func]),properties:Be.arrayOf("string"),onAnimationEnd:Be.func})),children:Be.oneOfType([Be.node,Be.func]),isActive:Be.bool,canBegin:Be.bool,onAnimationEnd:Be.func,shouldReAnimate:Be.bool,onAnimationStart:Be.func,onAnimationReStart:Be.func};const _o=Qp;function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dh.apply(this,arguments)}function yne(t,e){return Sne(t)||wne(t,e)||bne(t,e)||xne()}function xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t,e){if(t){if(typeof t=="string")return Ij(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ij(t,e)}}function Ij(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Sne(t){if(Array.isArray(t))return t}function $j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(r),!0).forEach(function(n){_ne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ne(t,e,r){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ene(t){var e=jne(t,"string");return Jc(e)=="symbol"?e:e+""}function jne(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uj=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*m,`
            L `).concat(e+n,",").concat(r+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Ane=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Tne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zb=function(e){var r=Lj(Lj({},Tne),e),n=N.useRef(),i=N.useState(-1),a=yne(i,2),s=a[0],o=a[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=$e("recharts-rectangle",p);return y?H.createElement(_o,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(S){var w=S.width,_=S.height,E=S.x,j=S.y;return H.createElement(_o,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},H.createElement("path",dh({},Re(r,!0),{className:b,d:Uj(E,j,w,_,h),ref:n})))}):H.createElement("path",dh({},Re(r,!0),{className:b,d:Uj(l,u,d,f,h)}))};function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}var Jb=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=$e("recharts-dot",a);return r===+r&&n===+n&&i===+i?N.createElement("circle",c0({},Re(e,!1),kf(e),{className:s,cx:r,cy:n,r:i})):null};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}var Nne=["x","y","top","left","width","height","className"];function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u0.apply(this,arguments)}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){kne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kne(t,e,r){return e=One(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function One(t){var e=Dne(t,"string");return eu(e)=="symbol"?e:e+""}function Dne(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pne(t,e){if(t==null)return{};var r=Mne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Rne=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Ine=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=Pne(e,Nne),v=Cne({x:n,y:a,top:o,left:u,width:f,height:p},g);return!ae(n)||!ae(a)||!ae(f)||!ae(p)||!ae(o)||!ae(u)?null:H.createElement("path",u0({},Re(v,!0),{className:$e("recharts-cross",m),d:Rne(n,a,f,p,o,u)}))},$ne=VO,Lne=$ne(Object.getPrototypeOf,Object),Une=Lne,Fne=hi,Bne=Une,Hne=pi,zne="[object Object]",Wne=Function.prototype,Vne=Object.prototype,DP=Wne.toString,Gne=Vne.hasOwnProperty,qne=DP.call(Object);function Yne(t){if(!Hne(t)||Fne(t)!=zne)return!1;var e=Bne(t);if(e===null)return!0;var r=Gne.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&DP.call(r)==qne}var Kne=Yne;const Xne=Qe(Kne);var Qne=hi,Zne=pi,Jne="[object Boolean]";function eie(t){return t===!0||t===!1||Zne(t)&&Qne(t)==Jne}var tie=eie;const rie=Qe(tie);function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}function nie(t,e){return oie(t)||sie(t,e)||aie(t,e)||iie()}function iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(t,e){if(t){if(typeof t=="string")return Bj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bj(t,e)}}function Bj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function oie(t){if(Array.isArray(t))return t}function Hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(r),!0).forEach(function(n){lie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lie(t,e,r){return e=cie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cie(t){var e=uie(t,"string");return tu(e)=="symbol"?e:e+""}function uie(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wj=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},die={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fie=function(e){var r=zj(zj({},die),e),n=N.useRef(),i=N.useState(-1),a=nie(i,2),s=a[0],o=a[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=$e("recharts-trapezoid",p);return x?H.createElement(_o,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(b){var S=b.upperWidth,w=b.lowerWidth,_=b.height,E=b.x,j=b.y;return H.createElement(_o,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},H.createElement("path",fh({},Re(r,!0),{className:y,d:Wj(E,j,S,w,_),ref:n})))}):H.createElement("g",null,H.createElement("path",fh({},Re(r,!0),{className:y,d:Wj(l,u,d,f,h)})))},hie=["option","shapeType","propTransformer","activeClassName","isActive"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function pie(t,e){if(t==null)return{};var r=mie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(r),!0).forEach(function(n){gie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gie(t,e,r){return e=vie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vie(t){var e=yie(t,"string");return ru(e)=="symbol"?e:e+""}function yie(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t,e){return hh(hh({},e),t)}function bie(t,e){return t==="symbols"}function Gj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return H.createElement(Zb,r);case"trapezoid":return H.createElement(fie,r);case"sector":return H.createElement(wP,r);case"symbols":if(bie(e))return H.createElement(vb,r);break;default:return null}}function wie(t){return N.isValidElement(t)?t.props:t}function Sie(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?xie:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=pie(t,hie),u;if(N.isValidElement(e))u=N.cloneElement(e,hh(hh({},l),wie(e)));else if(Ce(e))u=e(l);else if(Xne(e)&&!rie(e)){var d=i(e,l);u=H.createElement(Gj,{shapeType:r,elementProps:d})}else{var f=l;u=H.createElement(Gj,{shapeType:r,elementProps:f})}return o?H.createElement(St,{className:s},u):u}function Zp(t,e){return e!=null&&"trapezoids"in t.props}function Jp(t,e){return e!=null&&"sectors"in t.props}function nu(t,e){return e!=null&&"points"in t.props}function _ie(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Eie(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function jie(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Aie(t,e){var r;return Zp(t,e)?r=_ie:Jp(t,e)?r=Eie:nu(t,e)&&(r=jie),r}function Tie(t,e){var r;return Zp(t,e)?r="trapezoids":Jp(t,e)?r="sectors":nu(t,e)&&(r="points"),r}function Nie(t,e){if(Zp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Jp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return nu(t,e)?e.payload:{}}function Cie(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Tie(r,e),a=Nie(r,e),s=n.filter(function(l,u){var d=Yp(a,l),f=r.props[i].filter(function(m){var g=Aie(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var kie=Math.ceil,Oie=Math.max;function Die(t,e,r,n){for(var i=-1,a=Oie(kie((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var Pie=Die,Mie=uD,qj=1/0,Rie=17976931348623157e292;function Iie(t){if(!t)return t===0?t:0;if(t=Mie(t),t===qj||t===-qj){var e=t<0?-1:1;return e*Rie}return t===t?t:0}var PP=Iie,$ie=Pie,Lie=Up,Eg=PP;function Uie(t){return function(e,r,n){return n&&typeof n!="number"&&Lie(e,r,n)&&(r=n=void 0),e=Eg(e),r===void 0?(r=e,e=0):r=Eg(r),n=n===void 0?e<r?1:-1:Eg(n),$ie(e,r,n,t)}}var Fie=Uie,Bie=Fie,Hie=Bie(),zie=Hie;const ph=Qe(zie);function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(r),!0).forEach(function(n){MP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MP(t,e,r){return e=Wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wie(t){var e=Vie(t,"string");return iu(e)=="symbol"?e:e+""}function Vie(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gie=["Webkit","Moz","O","ms"],qie=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Gie.reduce(function(a,s){return Kj(Kj({},a),{},MP({},s+n,r))},{});return i[e]=r,i};function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mh.apply(this,arguments)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){Er(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IP(n.key),n)}}function Kie(t,e,r){return e&&Qj(t.prototype,e),r&&Qj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xie(t,e,r){return e=gh(e),Qie(t,RP()?Reflect.construct(e,r||[],gh(t).constructor):e.apply(t,r))}function Qie(t,e){if(e&&(Eo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zie(t)}function Zie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(t)}function Jie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d0(t,e)}function d0(t,e){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d0(t,e)}function Er(t,e,r){return e=IP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IP(t){var e=eae(t,"string");return Eo(e)=="symbol"?e:e+""}function eae(t,e){if(Eo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=tc().domain(ph(0,l)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},Zj=function(e){return e.changedTouches&&!!e.changedTouches.length},jo=function(t){function e(r){var n;return Yie(this,e),n=Xie(this,e,[r]),Er(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Er(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Er(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Er(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Er(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Er(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Er(n,"handleSlideDragStart",function(i){var a=Zj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jie(e,t),Kie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Mr(a[n],o,n);return Ce(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Zj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[s]=u+y;var b=this.getIndex(x),S=b.startIndex,w=b.endIndex,_=function(){var j=v.length-1;return s==="startX"&&(o>l?S%g===0:w%g===0)||o<l&&w===j||s==="endX"&&(o>l?w%g===0:S%g===0)||o>l&&w===j};this.setState(Er(Er({},s,u+y),"brushMoveStartX",n.pageX),function(){m&&_()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Er({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return H.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?H.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=jg(jg({},Re(this.props,!1)),{},{x,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return H.createElement(St,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return H.createElement(St,{className:"recharts-brush-texts"},H.createElement(Vf,mh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),H.createElement(Vf,mh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!ae(o)||!ae(l)||!ae(u)||!ae(d)||u<=0||d<=0)return null;var b=$e("recharts-brush",a),S=H.Children.count(s)===1,w=qie("userSelect","none");return H.createElement(St,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),H.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return H.isValidElement(n)?a=H.cloneElement(n,i):Ce(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return jg({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?tae({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(N.PureComponent);Er(jo,"displayName","Brush");Er(jo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rae=Eb;function nae(t,e){var r;return rae(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var iae=nae,aae=$O,sae=da,oae=iae,lae=Sr,cae=Up;function uae(t,e,r){var n=lae(t)?aae:oae;return r&&cae(t,e,r)&&(e=void 0),n(t,sae(e))}var dae=uae;const fae=Qe(dae);var Dn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Jj=aD;function hae(t,e,r){e=="__proto__"&&Jj?Jj(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var pae=hae,mae=pae,gae=nD,vae=da;function yae(t,e){var r={};return e=vae(e),gae(t,function(n,i,a){mae(r,i,e(n,i,a))}),r}var xae=yae;const bae=Qe(xae);function wae(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Sae=wae,_ae=Eb;function Eae(t,e){var r=!0;return _ae(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var jae=Eae,Aae=Sae,Tae=jae,Nae=da,Cae=Sr,kae=Up;function Oae(t,e,r){var n=Cae(t)?Aae:Tae;return r&&kae(t,e,r)&&(e=void 0),n(t,Nae(e))}var Dae=Oae;const $P=Qe(Dae);var Pae=["x","y"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f0.apply(this,arguments)}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){Mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mae(t,e,r){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rae(t){var e=Iae(t,"string");return au(e)=="symbol"?e:e+""}function Iae(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t,e){if(t==null)return{};var r=Lae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uae(t,e){var r=t.x,n=t.y,i=$ae(t,Pae),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Cl(Cl(Cl(Cl(Cl({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function tA(t){return H.createElement(Sie,f0({shapeType:"rectangle",propTransformer:Uae,activeClassName:"recharts-active-bar"},t))}var Fae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ae(n)||s5(n);return a?e(n,i):(a||es(!1),r)}},Bae=["value","background"],LP;function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function Hae(t,e){if(t==null)return{};var r=zae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vh.apply(this,arguments)}function rA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FP(n.key),n)}}function Vae(t,e,r){return e&&nA(t.prototype,e),r&&nA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,r){return e=yh(e),qae(t,UP()?Reflect.construct(e,r||[],yh(t).constructor):e.apply(t,r))}function qae(t,e){if(e&&(Ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(t)}function Yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yh(t)}function Kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h0(t,e)}function h0(t,e){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h0(t,e)}function Ri(t,e,r){return e=FP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FP(t){var e=Xae(t,"string");return Ao(e)=="symbol"?e:e+""}function Xae(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ku=function(t){function e(){var r;Wae(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gae(this,e,[].concat(i)),Ri(r,"state",{isAnimationFinished:!1}),Ri(r,"id",_u("recharts-bar-")),Ri(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ri(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Kae(e,t),Vae(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:s,g=At(At(At({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(St,vh({className:"recharts-bar-rectangle"},Of(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),H.createElement(tA,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return H.createElement(_o,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,x){var y=h&&h[x];if(y){var b=dn(y.x,v.x),S=dn(y.y,v.y),w=dn(y.width,v.width),_=dn(y.height,v.height);return At(At({},v),{},{x:b(m),y:S(m),width:w(m),height:_(m)})}if(s==="horizontal"){var E=dn(0,v.height),j=E(m);return At(At({},v),{},{y:v.y+v.height-j,height:j})}var A=dn(0,v.width),C=A(m);return At(At({},v),{},{width:C})});return H.createElement(St,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Yp(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Re(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Hae(u,Bae);if(!f)return null;var p=At(At(At(At(At({},h),{},{fill:"#eee"},f),l),Of(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return H.createElement(tA,vh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Yr(d,Cu);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Mr(v,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(St,m,f.map(function(g){return H.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=$e("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,S=y||b,w=Oe(g)?this.id:g;return H.createElement(St,{className:x},y||b?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(w)},H.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,H.createElement(St,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||v)&&Ki.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(N.PureComponent);LP=ku;Ri(ku,"displayName","Bar");Ri(ku,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ri(ku,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Tee(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?At(At({},g),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,S=m==="horizontal"?s:a,w=u?S.scale.domain():null,_=Ree({numericAxis:S}),E=Yr(y,fD),j=f.map(function(A,C){var O,P,k,z,V,Y;u?O=Nee(u[d+C],w):(O=Mr(A,x),Array.isArray(O)||(O=[_,O]));var M=Fae(b,LP.defaultProps.minPointSize)(O[1],C);if(m==="horizontal"){var R,B=[s.scale(O[0]),s.scale(O[1])],F=B[0],W=B[1];P=tj({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:A,index:C}),k=(R=W??F)!==null&&R!==void 0?R:void 0,z=p.size;var G=F-W;if(V=Number.isNaN(G)?0:G,Y={x:P,y:s.y,width:z,height:s.height},Math.abs(M)>0&&Math.abs(V)<Math.abs(M)){var K=hn(V||M)*(Math.abs(M)-Math.abs(V));k-=K,V+=K}}else{var ie=[a.scale(O[0]),a.scale(O[1])],se=ie[0],ye=ie[1];if(P=se,k=tj({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:A,index:C}),z=ye-se,V=p.size,Y={x:a.x,y:k,width:a.width,height:V},Math.abs(M)>0&&Math.abs(z)<Math.abs(M)){var Te=hn(z||M)*(Math.abs(M)-Math.abs(z));z+=Te}}return At(At(At({},A),{},{x:P,y:k,width:z,height:V,value:u?O:O[1],payload:A,background:Y},E&&E[C]&&E[C].props),{},{tooltipPayload:[yP(r,A)],tooltipPosition:{x:P+z/2,y:k+V/2}})});return At({data:j,layout:m},h)});function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function Qae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BP(n.key),n)}}function Zae(t,e,r){return e&&iA(t.prototype,e),r&&iA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(r),!0).forEach(function(n){em(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function em(t,e,r){return e=BP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BP(t){var e=Jae(t,"string");return su(e)=="symbol"?e:e+""}function Jae(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ese=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ar(u,ku);return d.reduce(function(p,m){var g=r[m],v=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,S=g.mirror,w=g.reversed,_="".concat(v).concat(S?"Mirror":""),E,j,A,C,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=x[1]-x[0],k=1/0,z=g.categoricalDomain.sort(c5);if(z.forEach(function(ie,se){se>0&&(k=Math.min((ie||0)-(z[se-1]||0),k))}),Number.isFinite(k)){var V=k/P,Y=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=V*Y/2),g.padding==="no-gap"){var M=Za(e.barCategoryGap,V*Y),R=V*Y/2;E=R-M-(R-M)/Y*M}}}i==="xAxis"?j=[n.left+(b.left||0)+(E||0),n.left+n.width-(b.right||0)-(E||0)]:i==="yAxis"?j=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(E||0),n.top+n.height-(b.bottom||0)-(E||0)]:j=g.range,w&&(j=[j[1],j[0]]);var B=jee(g,a,h),F=B.scale,W=B.realScaleType;F.domain(x).range(j),Aee(F);var G=Mee(F,ln(ln({},g),{},{realScaleType:W}));i==="xAxis"?(O=v==="top"&&!S||v==="bottom"&&S,A=n.left,C=f[_]-O*g.height):i==="yAxis"&&(O=v==="left"&&!S||v==="right"&&S,A=f[_]-O*g.width,C=n.top);var K=ln(ln(ln({},g),G),{},{realScaleType:W,x:A,y:C,scale:F,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return K.bandSize=ah(K,G),!g.hide&&i==="xAxis"?f[_]+=(O?-1:1)*K.height:g.hide||(f[_]+=(O?-1:1)*K.width),ln(ln({},p),{},em({},m,K))},{})},HP=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},tse=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return HP({x:r,y:n},{x:i,y:a})},zP=function(){function t(e){Qae(this,t),this.scale=e}return Zae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();em(zP,"EPS",1e-4);var ew=function(e){var r=Object.keys(e).reduce(function(n,i){return ln(ln({},n),{},em({},i,zP.create(e[i])))},{});return ln(ln({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return bae(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return $P(i,function(a,s){return r[s].isInRange(a)})}})};function rse(t){return(t%180+180)%180}var nse=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=rse(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},ise=da,ase=Eu,sse=$p;function ose(t){return function(e,r,n){var i=Object(e);if(!ase(e)){var a=ise(r);e=sse(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var lse=ose,cse=PP;function use(t){var e=cse(t),r=e%1;return e===e?r?e-r:e:0}var dse=use,fse=QO,hse=da,pse=dse,mse=Math.max;function gse(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:pse(r);return i<0&&(i=mse(n+i,0)),fse(t,hse(e),i)}var vse=gse,yse=lse,xse=vse,bse=yse(xse),wse=bse;const Sse=Qe(wse);var _se=uH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),tw=N.createContext(void 0),rw=N.createContext(void 0),WP=N.createContext(void 0),VP=N.createContext({}),GP=N.createContext(void 0),qP=N.createContext(0),YP=N.createContext(0),sA=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=_se(a);return H.createElement(tw.Provider,{value:n},H.createElement(rw.Provider,{value:i},H.createElement(VP.Provider,{value:a},H.createElement(WP.Provider,{value:d},H.createElement(GP.Provider,{value:s},H.createElement(qP.Provider,{value:u},H.createElement(YP.Provider,{value:l},o)))))))},Ese=function(){return N.useContext(GP)},KP=function(e){var r=N.useContext(tw);r==null&&es(!1);var n=r[e];return n==null&&es(!1),n},jse=function(){var e=N.useContext(tw);return Oi(e)},Ase=function(){var e=N.useContext(rw),r=Sse(e,function(n){return $P(n.domain,Number.isFinite)});return r||Oi(e)},XP=function(e){var r=N.useContext(rw);r==null&&es(!1);var n=r[e];return n==null&&es(!1),n},Tse=function(){var e=N.useContext(WP);return e},Nse=function(){return N.useContext(VP)},nw=function(){return N.useContext(YP)},iw=function(){return N.useContext(qP)};function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function Cse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZP(n.key),n)}}function kse(t,e,r){return e&&oA(t.prototype,e),r&&oA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ose(t,e,r){return e=xh(e),Dse(t,QP()?Reflect.construct(e,r||[],xh(t).constructor):e.apply(t,r))}function Dse(t,e){if(e&&(To(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pse(t)}function Pse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QP=function(){return!!t})()}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(t)}function Mse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p0(t,e)}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aw(t,e,r){return e=ZP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZP(t){var e=Rse(t,"string");return To(e)=="symbol"?e:e+""}function Rse(t,e){if(To(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ise(t,e){return Fse(t)||Use(t,e)||Lse(t,e)||$se()}function $se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(t,e){if(t){if(typeof t=="string")return uA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(t,e)}}function uA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Use(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Fse(t){if(Array.isArray(t))return t}function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m0.apply(this,arguments)}var Bse=function(e,r){var n;return H.isValidElement(e)?n=H.cloneElement(e,r):Ce(e)?n=e(r):n=H.createElement("line",m0({},r,{className:"recharts-reference-line-line"})),n},Hse=function(e,r,n,i,a,s,o,l,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=u.y,g=e.y.apply(m,{position:s});if(Dn(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:s});if(Dn(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?b.reverse():b}if(i){var S=u.segment,w=S.map(function(_){return e.apply(_,{position:s})});return Dn(u,"discard")&&fae(w,function(_){return!e.isInRange(_)})?null:w}return null};function zse(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=Ese(),d=KP(i),f=XP(a),h=Tse();if(!u||!h)return null;ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=ew({x:d.scale,y:f.scale}),m=Pt(e),g=Pt(r),v=n&&n.length===2,x=Hse(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=Ise(x,2),b=y[0],S=b.x,w=b.y,_=y[1],E=_.x,j=_.y,A=Dn(t,"hidden")?"url(#".concat(u,")"):void 0,C=cA(cA({clipPath:A},Re(t,!0)),{},{x1:S,y1:w,x2:E,y2:j});return H.createElement(St,{className:$e("recharts-reference-line",o)},Bse(s,C),er.renderCallByParent(t,tse({x1:S,y1:w,x2:E,y2:j})))}var sw=function(t){function e(){return Cse(this,e),Ose(this,e,arguments)}return Mse(e,t),kse(e,[{key:"render",value:function(){return H.createElement(zse,this.props)}}])}(H.Component);aw(sw,"displayName","ReferenceLine");aw(sw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g0.apply(this,arguments)}function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){tm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e2(n.key),n)}}function Vse(t,e,r){return e&&hA(t.prototype,e),r&&hA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gse(t,e,r){return e=bh(e),qse(t,JP()?Reflect.construct(e,r||[],bh(t).constructor):e.apply(t,r))}function qse(t,e){if(e&&(No(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yse(t)}function Yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JP=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bh(t)}function Kse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v0(t,e)}function tm(t,e,r){return e=e2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e2(t){var e=Xse(t,"string");return No(e)=="symbol"?e:e+""}function Xse(t,e){if(No(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qse=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=ew({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Dn(e,"discard")&&!s.isInRange(o)?null:o},rm=function(t){function e(){return Wse(this,e),Gse(this,e,arguments)}return Kse(e,t),Vse(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Pt(i),d=Pt(a);if(ei(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Qse(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=Dn(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=fA(fA({clipPath:x},Re(this.props,!0)),{},{cx:h,cy:p});return H.createElement(St,{className:$e("recharts-reference-dot",v)},e.renderDot(g,y),er.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(H.Component);tm(rm,"displayName","ReferenceDot");tm(rm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});tm(rm,"renderDot",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):Ce(t)?r=t(e):r=H.createElement(Jb,g0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(r),!0).forEach(function(n){nm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r2(n.key),n)}}function Jse(t,e,r){return e&&gA(t.prototype,e),r&&gA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eoe(t,e,r){return e=wh(e),toe(t,t2()?Reflect.construct(e,r||[],wh(t).constructor):e.apply(t,r))}function toe(t,e){if(e&&(Co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return roe(t)}function roe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t2=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(t)}function noe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x0(t,e)}function x0(t,e){return x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x0(t,e)}function nm(t,e,r){return e=r2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r2(t){var e=ioe(t,"string");return Co(e)=="symbol"?e:e+""}function ioe(t,e){if(Co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aoe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=ew({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Dn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:HP(p,m)},im=function(t){function e(){return Zse(this,e),eoe(this,e,arguments)}return noe(e,t),Jse(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pt(i),h=Pt(a),p=Pt(s),m=Pt(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=aoe(f,h,p,m,this.props);if(!v&&!g)return null;var x=Dn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement(St,{className:$e("recharts-reference-area",l)},e.renderRect(g,mA(mA({clipPath:x},Re(this.props,!0)),v)),er.renderCallByParent(this.props,v))}}])}(H.Component);nm(im,"displayName","ReferenceArea");nm(im,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});nm(im,"renderRect",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):Ce(t)?r=t(e):r=H.createElement(Zb,y0({},e,{className:"recharts-reference-area-rect"})),r});function n2(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function soe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return nse(n,r)}function ooe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Sh(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function loe(t,e){return n2(t,e+1)}function coe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:n2(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(m,g)),v},y=m.coordinate,b=l===0||Sh(t,y,x,d,o);b||(l=0,d=s,u+=1),b&&(d=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function vA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(r),!0).forEach(function(n){uoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uoe(t,e,r){return e=doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function doe(t){var e=foe(t,"string");return ou(e)=="symbol"?e:e+""}function foe(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hoe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Zt(Zt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Zt(Zt({},p),{},{tickCoord:p.coordinate});var x=Sh(t,p.tickCoord,g,o,l);x&&(l=p.tickCoord-t*(g()/2+i),a[h]=Zt(Zt({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function poe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=Zt(Zt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Sh(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),s[o-1]=Zt(Zt({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(y){var b=s[y],S,w=function(){return S===void 0&&(S=r(b,y)),S};if(y===0){var _=t*(b.coordinate-t*w()/2-l);s[y]=b=Zt(Zt({},b),{},{tickCoord:_<0?b.coordinate-_*t:b.coordinate})}else s[y]=b=Zt(Zt({},b),{},{tickCoord:b.coordinate});var E=Sh(t,b.tickCoord,w,l,u);E&&(l=b.tickCoord+t*(w()/2+i),s[y]=Zt(Zt({},b),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function ow(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ae(l)||ti.isSsr)return loe(i,typeof l=="number"&&ae(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?ec(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,S){var w=Ce(u)?u(b.value,S):b.value;return p==="width"?soe(ec(w,{fontSize:e,letterSpacing:r}),m,f):ec(w,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,x=ooe(a,v,p);return l==="equidistantPreserveStart"?coe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=poe(v,x,g,i,s,l==="preserveStartEnd"):h=hoe(v,x,g,i,s),h.filter(function(y){return y.isShow}))}var moe=["viewBox"],goe=["viewBox"],voe=["ticks"];function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zs.apply(this,arguments)}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ag(t,e){if(t==null)return{};var r=yoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a2(n.key),n)}}function boe(t,e,r){return e&&xA(t.prototype,e),r&&xA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,r){return e=_h(e),Soe(t,i2()?Reflect.construct(e,r||[],_h(t).constructor):e.apply(t,r))}function Soe(t,e){if(e&&(ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _oe(t)}function _oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i2=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(t)}function Eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b0(t,e)}function b0(t,e){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b0(t,e)}function lw(t,e,r){return e=a2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a2(t){var e=joe(t,"string");return ko(e)=="symbol"?e:e+""}function joe(t,e){if(ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var al=function(t){function e(r){var n;return xoe(this,e),n=woe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Eoe(e,t),boe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Ag(n,moe),o=this.props,l=o.viewBox,u=Ag(o,goe);return!Zs(a,l)||!Zs(s,u)||!Zs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,x,y,b=f?-1:1,S=n.tickSize||d,w=ae(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=s+ +!f*l,g=v-b*S,y=g-b*h,x=w;break;case"left":g=v=n.coordinate,m=a+ +!f*o,p=m-b*S,x=p-b*h,y=w;break;case"right":g=v=n.coordinate,m=a+ +f*o,p=m+b*S,x=p+b*h,y=w;break;default:p=m=n.coordinate,v=s+ +f*l,g=v+b*S,y=g+b*h,x=w;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Ct(Ct(Ct({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Ct(Ct({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Ct(Ct({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return H.createElement("line",zs({},f,{className:$e("recharts-cartesian-axis-line",qr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=ow(Ct(Ct({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Re(this.props,!1),x=Re(d,!1),y=Ct(Ct({},v),{},{fill:"none"},Re(l,!1)),b=p.map(function(S,w){var _=s.getTickLineCoord(S),E=_.line,j=_.tick,A=Ct(Ct(Ct(Ct({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),j),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return H.createElement(St,zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Of(s.props,S,w)),l&&H.createElement("line",zs({},y,E,{className:$e("recharts-cartesian-axis-tick-line",qr(l,"className"))})),d&&e.renderTickItem(d,A,"".concat(Ce(f)?f(S.value,w):S.value).concat(h||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=Ag(f,voe),m=h;return Ce(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:H.createElement(St,{className:$e("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=$e(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(n)?s=H.cloneElement(n,Ct(Ct({},i),{},{className:o})):Ce(n)?s=n(Ct(Ct({},i),{},{className:o})):s=H.createElement(Vf,zs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(N.Component);lw(al,"displayName","CartesianAxis");lw(al,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Aoe=["x1","y1","x2","y2","key"],Toe=["offset"];function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){Noe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Noe(t,e,r){return e=Coe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Coe(t){var e=koe(t,"string");return ts(e)=="symbol"?e:e+""}function koe(t,e){if(ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$a.apply(this,arguments)}function wA(t,e){if(t==null)return{};var r=Ooe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ooe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Doe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return H.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function s2(t,e){var r;if(H.isValidElement(t))r=H.cloneElement(t,e);else if(Ce(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=wA(e,Aoe),u=Re(l,!1);u.offset;var d=wA(u,Toe);r=H.createElement("line",$a({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Poe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=tr(tr({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return s2(i,u)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Moe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=tr(tr({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return s2(i,u)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Roe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return H.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ioe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return H.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var $oe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return gP(ow(tr(tr(tr({},al.defaultProps),n),{},{ticks:Xn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Loe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return gP(ow(tr(tr(tr({},al.defaultProps),n),{},{ticks:Xn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},js={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function o2(t){var e,r,n,i,a,s,o=nw(),l=iw(),u=Nse(),d=tr(tr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:js.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:js.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:js.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:js.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:js.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:js.verticalFill,x:ae(t.x)?t.x:u.left,y:ae(t.y)?t.y:u.top,width:ae(t.width)?t.width:u.width,height:ae(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=jse(),b=Ase();if(!ae(p)||p<=0||!ae(m)||m<=0||!ae(f)||f!==+f||!ae(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||$oe,w=d.horizontalCoordinatesGenerator||Loe,_=d.horizontalPoints,E=d.verticalPoints;if((!_||!_.length)&&Ce(w)){var j=v&&v.length,A=w({yAxis:b?tr(tr({},b),{},{ticks:j?v:b.ticks}):void 0,width:o,height:l,offset:u},j?!0:g);ei(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ts(A),"]")),Array.isArray(A)&&(_=A)}if((!E||!E.length)&&Ce(S)){var C=x&&x.length,O=S({xAxis:y?tr(tr({},y),{},{ticks:C?x:y.ticks}):void 0,width:o,height:l,offset:u},C?!0:g);ei(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ts(O),"]")),Array.isArray(O)&&(E=O)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(Doe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),H.createElement(Poe,$a({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:b})),H.createElement(Moe,$a({},d,{offset:u,verticalPoints:E,xAxis:y,yAxis:b})),H.createElement(Roe,$a({},d,{horizontalPoints:_})),H.createElement(Ioe,$a({},d,{verticalPoints:E})))}o2.displayName="CartesianGrid";var Uoe=["type","layout","connectNulls","ref"],Foe=["key"];function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function SA(t,e){if(t==null)return{};var r=Boe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Boe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ic.apply(this,arguments)}function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(r),!0).forEach(function(n){cn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function As(t){return Voe(t)||Woe(t)||zoe(t)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zoe(t,e){if(t){if(typeof t=="string")return w0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(t,e)}}function Woe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Voe(t){if(Array.isArray(t))return w0(t)}function w0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c2(n.key),n)}}function qoe(t,e,r){return e&&EA(t.prototype,e),r&&EA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yoe(t,e,r){return e=Eh(e),Koe(t,l2()?Reflect.construct(e,r||[],Eh(t).constructor):e.apply(t,r))}function Koe(t,e){if(e&&(Oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xoe(t)}function Xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l2=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(t)}function Qoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(t,e)}function cn(t,e,r){return e=c2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c2(t){var e=Zoe(t,"string");return Oo(e)=="symbol"?e:e+""}function Zoe(t,e){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ou=function(t){function e(){var r;Goe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Yoe(this,e,[].concat(i)),cn(r,"state",{isAnimationFinished:!0,totalLength:0}),cn(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),cn(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(As(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(As(e.repeat(l,d)),As(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),cn(r,"id",_u("recharts-line-")),cn(r,"pathRef",function(s){r.mainCurve=s}),cn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),cn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Qoe(e,t),qoe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Yr(d,Cu);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Mr(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(St,p,f.map(function(m){return H.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,f=Re(this.props,!1),h=Re(l,!0),p=u.map(function(g,v){var x=_r(_r(_r({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return H.createElement(St,ic({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=SA(o,Uoe),h=_r(_r(_r({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:d});return H.createElement(Jy,ic({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,x=this.state,y=x.prevPoints,b=x.totalLength;return H.createElement(_o,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(y){var _=y.length/o.length,E=o.map(function(P,k){var z=Math.floor(k*_);if(y[z]){var V=y[z],Y=dn(V.x,P.x),M=dn(V.y,P.y);return _r(_r({},P),{},{x:Y(w),y:M(w)})}if(m){var R=dn(g*2,P.x),B=dn(v/2,P.y);return _r(_r({},P),{},{x:R(w),y:B(w)})}return _r(_r({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(E,n,i)}var j=dn(0,b),A=j(w),C;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});C=a.getStrokeDasharray(A,b,O)}else C=a.generateSimpleStrokeDasharray(b,A);return a.renderCurveStatically(o,n,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!Yp(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=$e("recharts-line",l),S=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,_=S||w,E=Oe(v)?this.id:v,j=(n=Re(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=j.r,C=A===void 0?3:A,O=j.strokeWidth,P=O===void 0?2:O,k=y5(s)?s:{},z=k.clipDot,V=z===void 0?!0:z,Y=C*2+P;return H.createElement(St,{className:b},S||w?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(E)},H.createElement("rect",{x:S?h:h-p/2,y:w?f:f-m/2,width:S?p:p*2,height:w?m:m*2})),!V&&H.createElement("clipPath",{id:"clipPath-dots-".concat(E)},H.createElement("rect",{x:h-Y/2,y:f-Y/2,width:p+Y,height:m+Y}))):null,!y&&this.renderCurve(_,E),this.renderErrorBar(_,E),(y||s)&&this.renderDots(_,V,E),(!g||x)&&Ki.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(As(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(As(s),As(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(H.isValidElement(n))a=H.cloneElement(n,i);else if(Ce(n))a=n(i);else{var s=i.key,o=SA(i,Foe),l=$e("recharts-line-dot",typeof n!="boolean"?n.className:"");a=H.createElement(Jb,ic({key:s},o,{className:l}))}return a}}])}(N.PureComponent);cn(Ou,"displayName","Line");cn(Ou,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ti.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cn(Ou,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var m=Mr(h,s);return d==="horizontal"?{x:ej({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:Oe(m)?null:n.scale(m),value:m,payload:h}:{x:Oe(m)?null:r.scale(m),y:ej({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return _r({points:f,layout:d},u)});function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function Joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f2(n.key),n)}}function ele(t,e,r){return e&&jA(t.prototype,e),r&&jA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tle(t,e,r){return e=jh(e),rle(t,u2()?Reflect.construct(e,r||[],jh(t).constructor):e.apply(t,r))}function rle(t,e){if(e&&(Do(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nle(t)}function nle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(t)}function ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_0(t,e)}function d2(t,e,r){return e=f2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f2(t){var e=ale(t,"string");return Do(e)=="symbol"?e:e+""}function ale(t,e){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E0.apply(this,arguments)}function sle(t){var e=t.xAxisId,r=nw(),n=iw(),i=KP(e);return i==null?null:N.createElement(al,E0({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Xn(s,!0)}}))}var am=function(t){function e(){return Joe(this,e),tle(this,e,arguments)}return ile(e,t),ele(e,[{key:"render",value:function(){return N.createElement(sle,this.props)}}])}(N.Component);d2(am,"displayName","XAxis");d2(am,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function ole(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m2(n.key),n)}}function lle(t,e,r){return e&&AA(t.prototype,e),r&&AA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cle(t,e,r){return e=Ah(e),ule(t,h2()?Reflect.construct(e,r||[],Ah(t).constructor):e.apply(t,r))}function ule(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(t)}function dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}function fle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j0(t,e)}function j0(t,e){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j0(t,e)}function p2(t,e,r){return e=m2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m2(t){var e=hle(t,"string");return Po(e)=="symbol"?e:e+""}function hle(t,e){if(Po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A0.apply(this,arguments)}var ple=function(e){var r=e.yAxisId,n=nw(),i=iw(),a=XP(r);return a==null?null:N.createElement(al,A0({},a,{className:$e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Xn(o,!0)}}))},sm=function(t){function e(){return ole(this,e),cle(this,e,arguments)}return fle(e,t),lle(e,[{key:"render",value:function(){return N.createElement(ple,this.props)}}])}(N.Component);p2(sm,"displayName","YAxis");p2(sm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TA(t){return yle(t)||vle(t)||gle(t)||mle()}function mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gle(t,e){if(t){if(typeof t=="string")return T0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(t,e)}}function vle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yle(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N0=function(e,r,n,i,a){var s=Yr(e,sw),o=Yr(e,rm),l=[].concat(TA(s),TA(o)),u=Yr(e,im),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Dn(v.props,"extendDomain")&&ae(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&Dn(v.props,"extendDomain")&&ae(v.props[p])&&ae(v.props[m])){var x=v.props[p],y=v.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return ae(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},g2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(g2);var xle=g2.exports;const ble=Qe(xle);var Tg=new ble,Ng="recharts.syncMouseEvents";function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v2(n.key),n)}}function Sle(t,e,r){return e&&NA(t.prototype,e),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cg(t,e,r){return e=v2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v2(t){var e=_le(t,"string");return lu(e)=="symbol"?e:e+""}function _le(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=function(){function t(){wle(this,t),Cg(this,"activeIndex",0),Cg(this,"coordinateList",[]),Cg(this,"layout","horizontal")}return Sle(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function jle(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ae(n)&&ae(i))return!0}return!1}function Ale(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function y2(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Vt(e,r,n,i),o=Vt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Tle(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Vt(o,l,u,f),p=Vt(o,l,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return y2(e);return[{x:n,y:i},{x:a,y:s}]}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function CA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(r),!0).forEach(function(n){Nle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nle(t,e,r){return e=Cle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cle(t){var e=kle(t,"string");return cu(e)=="symbol"?e:e+""}function kle(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ole(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=Jy;if(h==="ScatterChart")m=s,g=Ine;else if(h==="BarChart")m=Ale(f,s,l,d),g=Zb;else if(f==="radial"){var v=y2(s),x=v.cx,y=v.cy,b=v.radius,S=v.startAngle,w=v.endAngle;m={cx:x,cy:y,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},g=wP}else m={points:Tle(f,s,l)},g=Jy;var _=bd(bd(bd(bd({stroke:"#ccc",pointerEvents:"none"},l),m),Re(p,!1)),{},{payload:o,payloadIndex:u,className:$e("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,_):N.createElement(g,_)}var Dle=["item"],Ple=["children","className","width","height","style","compact","title","desc"];function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ws.apply(this,arguments)}function kA(t,e){return Ile(t)||Rle(t,e)||b2(t,e)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ile(t){if(Array.isArray(t))return t}function OA(t,e){if(t==null)return{};var r=$le(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $le(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w2(n.key),n)}}function Ule(t,e,r){return e&&DA(t.prototype,e),r&&DA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fle(t,e,r){return e=Th(e),Ble(t,x2()?Reflect.construct(e,r||[],Th(t).constructor):e.apply(t,r))}function Ble(t,e){if(e&&(Mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hle(t)}function Hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!t})()}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Th(t)}function zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C0(t,e)}function C0(t,e){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C0(t,e)}function Ro(t){return Gle(t)||Vle(t)||b2(t)||Wle()}function Wle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2(t,e){if(t){if(typeof t=="string")return k0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(t,e)}}function Vle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gle(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Se(t,e,r){return e=w2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w2(t){var e=qle(t,"string");return Mo(e)=="symbol"?e:e+""}function qle(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yle={xAxis:["bottom","top"],yAxis:["left","right"]},Kle={width:"100%",height:"100%"},S2={x:0,y:0};function wd(t){return t}var Xle=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Qle=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return J(J(J({},i),Vt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return J(J(J({},i),Vt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return S2},om=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Ro(o),Ro(u)):o},[]);return s.length>0?s:e&&e.length&&ae(i)&&ae(a)?e.slice(i,a+1):[]};function _2(t){return t==="number"?[0,"auto"]:void 0}var O0=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=om(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Cf(p,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(Ro(l),[yP(u,h)]):l},[])},MA=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Xle(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=xee(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=O0(e,r,d,f),p=Qle(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Zle=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=mP(d,a);return n.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?J(J({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,S=x.allowDataOverflow,w=x.allowDuplicatedCategory,_=x.scale,E=x.ticks,j=x.includeHidden,A=x[s];if(m[A])return m;var C=om(e.data,{graphicalItems:i.filter(function(G){var K,ie=s in G.props?G.props[s]:(K=G.type.defaultProps)===null||K===void 0?void 0:K[s];return ie===A}),dataStartIndex:l,dataEndIndex:u}),O=C.length,P,k,z;jle(x.domain,S,y)&&(P=Yy(x.domain,null,S),p&&(y==="number"||_!=="auto")&&(z=rc(C,b,"category")));var V=_2(y);if(!P||P.length===0){var Y,M=(Y=x.domain)!==null&&Y!==void 0?Y:V;if(b){if(P=rc(C,b,y),y==="category"&&p){var R=l5(P);w&&R?(k=P,P=ph(0,O)):w||(P=ij(M,P,g).reduce(function(G,K){return G.indexOf(K)>=0?G:[].concat(Ro(G),[K])},[]))}else if(y==="category")w?P=P.filter(function(G){return G!==""&&!Oe(G)}):P=ij(M,P,g).reduce(function(G,K){return G.indexOf(K)>=0||K===""||Oe(K)?G:[].concat(Ro(G),[K])},[]);else if(y==="number"){var B=Eee(C,i.filter(function(G){var K,ie,se=s in G.props?G.props[s]:(K=G.type.defaultProps)===null||K===void 0?void 0:K[s],ye="hide"in G.props?G.props.hide:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return se===A&&(j||!ye)}),b,a,d);B&&(P=B)}p&&(y==="number"||_!=="auto")&&(z=rc(C,b,"category"))}else p?P=ph(0,O):o&&o[A]&&o[A].hasStack&&y==="number"?P=h==="expand"?[0,1]:vP(o[A].stackGroups,l,u):P=pP(C,i.filter(function(G){var K=s in G.props?G.props[s]:G.type.defaultProps[s],ie="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return K===A&&(j||!ie)}),y,d,!0);if(y==="number")P=N0(f,P,A,a,E),M&&(P=Yy(M,P,S));else if(y==="category"&&M){var F=M,W=P.every(function(G){return F.indexOf(G)>=0});W&&(P=F)}}return J(J({},m),{},Se({},A,J(J({},x),{},{axisType:a,domain:P,categoricalDomain:z,duplicateDomain:k,originalDomain:(v=x.domain)!==null&&v!==void 0?v:V,isCategorical:p,layout:d})))},{})},Jle=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=om(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=mP(d,a),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?J(J({},x.type.defaultProps),x.props):x.props,b=y[s],S=_2("number");if(!v[b]){g++;var w;return m?w=ph(0,p):o&&o[b]&&o[b].hasStack?(w=vP(o[b].stackGroups,l,u),w=N0(f,w,b,a)):(w=Yy(S,pP(h,n.filter(function(_){var E,j,A=s in _.props?_.props[s]:(E=_.type.defaultProps)===null||E===void 0?void 0:E[s],C="hide"in _.props?_.props.hide:(j=_.type.defaultProps)===null||j===void 0?void 0:j.hide;return A===b&&!C}),"number",d),i.defaultProps.allowDataOverflow),w=N0(f,w,b,a)),J(J({},v),{},Se({},b,J(J({axisType:a},i.defaultProps),{},{hide:!0,orientation:qr(Yle,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},ece=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Yr(d,a),p={};return h&&h.length?p=Zle(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=Jle(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},tce=function(e){var r=Oi(e),n=Xn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ah(r,n)}},RA=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ar(r,jo),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},rce=function(e){return!e||!e.length?!1:e.some(function(r){var n=Jn(r&&r.type);return n&&n.indexOf("Bar")>=0})},IA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nce=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Ar(f,jo),m=Ar(f,Fa),g=Object.keys(l).reduce(function(w,_){var E=l[_],j=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},Se({},j,w[j]+E.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,_){var E=s[_],j=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},Se({},j,qr(w,"".concat(j))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=J(J({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||jo.defaultProps.height),m&&r&&(x=See(x,i,n,r));var b=u-x.left-x.right,S=d-x.top-x.bottom;return J(J({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(S,0)})},ice=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},ace=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var b=y.graphicalItems,S=y.stackGroups,w=y.offset,_=y.updateId,E=y.dataStartIndex,j=y.dataEndIndex,A=x.barSize,C=x.layout,O=x.barGap,P=x.barCategoryGap,k=x.maxBarSize,z=IA(C),V=z.numericAxisName,Y=z.cateAxisName,M=rce(b),R=[];return b.forEach(function(B,F){var W=om(x.data,{graphicalItems:[B],dataStartIndex:E,dataEndIndex:j}),G=B.type.defaultProps!==void 0?J(J({},B.type.defaultProps),B.props):B.props,K=G.dataKey,ie=G.maxBarSize,se=G["".concat(V,"Id")],ye=G["".concat(Y,"Id")],Te={},ge=l.reduce(function(Ne,X){var de=y["".concat(X.axisType,"Map")],he=G["".concat(X.axisType,"Id")];de&&de[he]||X.axisType==="zAxis"||es(!1);var we=de[he];return J(J({},Ne),{},Se(Se({},X.axisType,we),"".concat(X.axisType,"Ticks"),Xn(we)))},Te),Z=ge[Y],$=ge["".concat(Y,"Ticks")],L=S&&S[se]&&S[se].hasStack&&Iee(B,S[se].stackGroups),T=Jn(B.type).indexOf("Bar")>=0,D=ah(Z,$),U=[],q=M&&bee({barSize:A,stackGroups:S,totalSize:ice(ge,Y)});if(T){var te,re,ue=Oe(ie)?k:ie,ce=(te=(re=ah(Z,$,!0))!==null&&re!==void 0?re:ue)!==null&&te!==void 0?te:0;U=wee({barGap:O,barCategoryGap:P,bandSize:ce!==D?ce:D,sizeList:q[ye],maxBarSize:ue}),ce!==D&&(U=U.map(function(Ne){return J(J({},Ne),{},{position:J(J({},Ne.position),{},{offset:Ne.position.offset-ce/2})})}))}var fe=B&&B.type&&B.type.getComposedData;fe&&R.push({props:J(J({},fe(J(J({},ge),{},{displayedData:W,props:x,dataKey:K,item:B,bandSize:D,barPosition:U,offset:w,stackedData:L,layout:C,dataStartIndex:E,dataEndIndex:j}))),{},Se(Se(Se({key:B.key||"item-".concat(F)},V,ge[V]),Y,ge[Y]),"animationId",_)),childIndex:w5(B,x.children),item:B})}),R},p=function(x,y){var b=x.props,S=x.dataStartIndex,w=x.dataEndIndex,_=x.updateId;if(!q_({props:b}))return null;var E=b.children,j=b.layout,A=b.stackOffset,C=b.data,O=b.reverseStackOrder,P=IA(j),k=P.numericAxisName,z=P.cateAxisName,V=Yr(E,n),Y=Pee(C,V,"".concat(k,"Id"),"".concat(z,"Id"),A,O),M=l.reduce(function(G,K){var ie="".concat(K.axisType,"Map");return J(J({},G),{},Se({},ie,ece(b,J(J({},K),{},{graphicalItems:V,stackGroups:K.axisType===k&&Y,dataStartIndex:S,dataEndIndex:w}))))},{}),R=nce(J(J({},M),{},{props:b,graphicalItems:V}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(G){M[G]=d(b,M[G],R,G.replace("Map",""),r)});var B=M["".concat(z,"Map")],F=tce(B),W=h(b,J(J({},M),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:V,stackGroups:Y,offset:R}));return J(J({formattedGraphicalItems:W,graphicalItems:V,offset:R,stackGroups:Y},F),M)},m=function(v){function x(y){var b,S,w;return Lle(this,x),w=Fle(this,x,[y]),Se(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(w,"accessibilityManager",new Ele),Se(w,"handleLegendBBoxUpdate",function(_){if(_){var E=w.state,j=E.dataStartIndex,A=E.dataEndIndex,C=E.updateId;w.setState(J({legendBBox:_},p({props:w.props,dataStartIndex:j,dataEndIndex:A,updateId:C},J(J({},w.state),{},{legendBBox:_}))))}}),Se(w,"handleReceiveSyncEvent",function(_,E,j){if(w.props.syncId===_){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Se(w,"handleBrushChange",function(_){var E=_.startIndex,j=_.endIndex;if(E!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return J({dataStartIndex:E,dataEndIndex:j},p({props:w.props,dataStartIndex:E,dataEndIndex:j,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),Se(w,"handleMouseEnter",function(_){var E=w.getMouseInfo(_);if(E){var j=J(J({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var A=w.props.onMouseEnter;Ce(A)&&A(j,_)}}),Se(w,"triggeredAfterMouseMove",function(_){var E=w.getMouseInfo(_),j=E?J(J({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var A=w.props.onMouseMove;Ce(A)&&A(j,_)}),Se(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Se(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Se(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),Se(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var j=w.props.onMouseLeave;Ce(j)&&j(E,_)}),Se(w,"handleOuterEvent",function(_){var E=b5(_),j=qr(w.props,"".concat(E));if(E&&Ce(j)){var A,C;/.*touch.*/i.test(E)?C=w.getMouseInfo(_.changedTouches[0]):C=w.getMouseInfo(_),j((A=C)!==null&&A!==void 0?A:{},_)}}),Se(w,"handleClick",function(_){var E=w.getMouseInfo(_);if(E){var j=J(J({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var A=w.props.onClick;Ce(A)&&A(j,_)}}),Se(w,"handleMouseDown",function(_){var E=w.props.onMouseDown;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"handleMouseUp",function(_){var E=w.props.onMouseUp;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Se(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),Se(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),Se(w,"handleDoubleClick",function(_){var E=w.props.onDoubleClick;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"handleContextMenu",function(_){var E=w.props.onContextMenu;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&Tg.emit(Ng,w.props.syncId,_,w.eventEmitterSymbol)}),Se(w,"applySyncEvent",function(_){var E=w.props,j=E.layout,A=E.syncMethod,C=w.state.updateId,O=_.dataStartIndex,P=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(J({dataStartIndex:O,dataEndIndex:P},p({props:w.props,dataStartIndex:O,dataEndIndex:P,updateId:C},w.state)));else if(_.activeTooltipIndex!==void 0){var k=_.chartX,z=_.chartY,V=_.activeTooltipIndex,Y=w.state,M=Y.offset,R=Y.tooltipTicks;if(!M)return;if(typeof A=="function")V=A(R,_);else if(A==="value"){V=-1;for(var B=0;B<R.length;B++)if(R[B].value===_.activeLabel){V=B;break}}var F=J(J({},M),{},{x:M.left,y:M.top}),W=Math.min(k,F.x+F.width),G=Math.min(z,F.y+F.height),K=R[V]&&R[V].value,ie=O0(w.state,w.props.data,V),se=R[V]?{x:j==="horizontal"?R[V].coordinate:W,y:j==="horizontal"?G:R[V].coordinate}:S2;w.setState(J(J({},_),{},{activeLabel:K,activeCoordinate:se,activePayload:ie,activeTooltipIndex:V}))}else w.setState(_)}),Se(w,"renderCursor",function(_){var E,j=w.state,A=j.isTooltipActive,C=j.activeCoordinate,O=j.activePayload,P=j.offset,k=j.activeTooltipIndex,z=j.tooltipAxisBandSize,V=w.getTooltipEventType(),Y=(E=_.props.active)!==null&&E!==void 0?E:A,M=w.props.layout,R=_.key||"_recharts-cursor";return H.createElement(Ole,{key:R,activeCoordinate:C,activePayload:O,activeTooltipIndex:k,chartName:r,element:_,isActive:Y,layout:M,offset:P,tooltipAxisBandSize:z,tooltipEventType:V})}),Se(w,"renderPolarAxis",function(_,E,j){var A=qr(_,"type.axisType"),C=qr(w.state,"".concat(A,"Map")),O=_.type.defaultProps,P=O!==void 0?J(J({},O),_.props):_.props,k=C&&C[P["".concat(A,"Id")]];return N.cloneElement(_,J(J({},k),{},{className:$e(A,k.className),key:_.key||"".concat(E,"-").concat(j),ticks:Xn(k,!0)}))}),Se(w,"renderPolarGrid",function(_){var E=_.props,j=E.radialLines,A=E.polarAngles,C=E.polarRadius,O=w.state,P=O.radiusAxisMap,k=O.angleAxisMap,z=Oi(P),V=Oi(k),Y=V.cx,M=V.cy,R=V.innerRadius,B=V.outerRadius;return N.cloneElement(_,{polarAngles:Array.isArray(A)?A:Xn(V,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(C)?C:Xn(z,!0).map(function(F){return F.coordinate}),cx:Y,cy:M,innerRadius:R,outerRadius:B,key:_.key||"polar-grid",radialLines:j})}),Se(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,E=w.props,j=E.children,A=E.width,C=E.height,O=w.props.margin||{},P=A-(O.left||0)-(O.right||0),k=fP({children:j,formattedGraphicalItems:_,legendWidth:P,legendContent:u});if(!k)return null;var z=k.item,V=OA(k,Dle);return N.cloneElement(z,J(J({},V),{},{chartWidth:A,chartHeight:C,margin:O,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Se(w,"renderTooltip",function(){var _,E=w.props,j=E.children,A=E.accessibilityLayer,C=Ar(j,_n);if(!C)return null;var O=w.state,P=O.isTooltipActive,k=O.activeCoordinate,z=O.activePayload,V=O.activeLabel,Y=O.offset,M=(_=C.props.active)!==null&&_!==void 0?_:P;return N.cloneElement(C,{viewBox:J(J({},Y),{},{x:Y.left,y:Y.top}),active:M,label:V,payload:M?z:[],coordinate:k,accessibilityLayer:A})}),Se(w,"renderBrush",function(_){var E=w.props,j=E.margin,A=E.data,C=w.state,O=C.offset,P=C.dataStartIndex,k=C.dataEndIndex,z=C.updateId;return N.cloneElement(_,{key:_.key||"_recharts-brush",onChange:gd(w.handleBrushChange,_.props.onChange),data:A,x:ae(_.props.x)?_.props.x:O.left,y:ae(_.props.y)?_.props.y:O.top+O.height+O.brushBottom-(j.bottom||0),width:ae(_.props.width)?_.props.width:O.width,startIndex:P,endIndex:k,updateId:"brush-".concat(z)})}),Se(w,"renderReferenceElement",function(_,E,j){if(!_)return null;var A=w,C=A.clipPathId,O=w.state,P=O.xAxisMap,k=O.yAxisMap,z=O.offset,V=_.type.defaultProps||{},Y=_.props,M=Y.xAxisId,R=M===void 0?V.xAxisId:M,B=Y.yAxisId,F=B===void 0?V.yAxisId:B;return N.cloneElement(_,{key:_.key||"".concat(E,"-").concat(j),xAxis:P[R],yAxis:k[F],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:C})}),Se(w,"renderActivePoints",function(_){var E=_.item,j=_.activePoint,A=_.basePoint,C=_.childIndex,O=_.isRange,P=[],k=E.props.key,z=E.item.type.defaultProps!==void 0?J(J({},E.item.type.defaultProps),E.item.props):E.item.props,V=z.activeDot,Y=z.dataKey,M=J(J({index:C,dataKey:Y,cx:j.x,cy:j.y,r:4,fill:Qb(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Re(V,!1)),kf(V));return P.push(x.renderActiveDot(V,M,"".concat(k,"-activePoint-").concat(C))),A?P.push(x.renderActiveDot(V,J(J({},M),{},{cx:A.x,cy:A.y}),"".concat(k,"-basePoint-").concat(C))):O&&P.push(null),P}),Se(w,"renderGraphicChild",function(_,E,j){var A=w.filterFormatItem(_,E,j);if(!A)return null;var C=w.getTooltipEventType(),O=w.state,P=O.isTooltipActive,k=O.tooltipAxis,z=O.activeTooltipIndex,V=O.activeLabel,Y=w.props.children,M=Ar(Y,_n),R=A.props,B=R.points,F=R.isRange,W=R.baseLine,G=A.item.type.defaultProps!==void 0?J(J({},A.item.type.defaultProps),A.item.props):A.item.props,K=G.activeDot,ie=G.hide,se=G.activeBar,ye=G.activeShape,Te=!!(!ie&&P&&M&&(K||se||ye)),ge={};C!=="axis"&&M&&M.props.trigger==="click"?ge={onClick:gd(w.handleItemMouseEnter,_.props.onClick)}:C!=="axis"&&(ge={onMouseLeave:gd(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:gd(w.handleItemMouseEnter,_.props.onMouseEnter)});var Z=N.cloneElement(_,J(J({},A.props),ge));function $(X){return typeof k.dataKey=="function"?k.dataKey(X.payload):null}if(Te)if(z>=0){var L,T;if(k.dataKey&&!k.allowDuplicatedCategory){var D=typeof k.dataKey=="function"?$:"payload.".concat(k.dataKey.toString());L=Cf(B,D,V),T=F&&W&&Cf(W,D,V)}else L=B==null?void 0:B[z],T=F&&W&&W[z];if(ye||se){var U=_.props.activeIndex!==void 0?_.props.activeIndex:z;return[N.cloneElement(_,J(J(J({},A.props),ge),{},{activeIndex:U})),null,null]}if(!Oe(L))return[Z].concat(Ro(w.renderActivePoints({item:A,activePoint:L,basePoint:T,childIndex:z,isRange:F})))}else{var q,te=(q=w.getItemByXY(w.state.activeCoordinate))!==null&&q!==void 0?q:{graphicalItem:Z},re=te.graphicalItem,ue=re.item,ce=ue===void 0?_:ue,fe=re.childIndex,Ne=J(J(J({},A.props),ge),{},{activeIndex:fe});return[N.cloneElement(ce,Ne),null,null]}return F?[Z,null,null]:[Z,null]}),Se(w,"renderCustomized",function(_,E,j){return N.cloneElement(_,J(J({key:"recharts-customized-".concat(j)},w.props),w.state))}),Se(w,"renderMap",{CartesianGrid:{handler:wd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:wd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:wd},YAxis:{handler:wd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:_u("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=dD(w.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return zle(x,v),Ule(x,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,_=b.height,E=b.layout,j=Ar(S,_n);if(j){var A=j.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,O=O0(this.state,w,A,C),P=this.state.tooltipTicks[A].coordinate,k=(this.state.offset.top+_)/2,z=E==="horizontal",V=z?{x:P,y:k}:{y:P,x:k},Y=this.state.formattedGraphicalItems.find(function(R){var B=R.item;return B.type.name==="Scatter"});Y&&(V=J(J({},V),Y.props.points[A].tooltipPosition),O=Y.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:C,activePayload:O,activeCoordinate:V};this.setState(M),this.renderCursor(j),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){cy([Ar(b.children,_n)],[Ar(this.props.children,_n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ar(this.props.children,_n);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=VK(w),E={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},j=w.width/S.offsetWidth||1,A=this.inRange(E.chartX,E.chartY,j);if(!A)return null;var C=this.state,O=C.xAxisMap,P=C.yAxisMap,k=this.getTooltipEventType(),z=MA(this.state,this.props.data,this.props.layout,A);if(k!=="axis"&&O&&P){var V=Oi(O).scale,Y=Oi(P).scale,M=V&&V.invert?V.invert(E.chartX):null,R=Y&&Y.invert?Y.invert(E.chartY):null;return J(J({},E),{},{xValue:M,yValue:R},z)}return z?J(J({},E),z):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,E=b/w,j=S/w;if(_==="horizontal"||_==="vertical"){var A=this.state.offset,C=E>=A.left&&E<=A.left+A.width&&j>=A.top&&j<=A.top+A.height;return C?{x:E,y:j}:null}var O=this.state,P=O.angleAxisMap,k=O.radiusAxisMap;if(P&&k){var z=Oi(P);return oj({x:E,y:j},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Ar(b,_n),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=kf(this.props,this.handleOuterEvent);return J(J({},E),_)}},{key:"addListener",value:function(){Tg.on(Ng,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Tg.removeListener(Ng,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var _=this.state.formattedGraphicalItems,E=0,j=_.length;E<j;E++){var A=_[E];if(A.item===b||A.props.key===b.key||S===Jn(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,E=S.height,j=S.width;return H.createElement("defs",null,H.createElement("clipPath",{id:b},H.createElement("rect",{x:w,y:_,height:E,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=kA(w,2),E=_[0],j=_[1];return J(J({},S),{},Se({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=kA(w,2),E=_[0],j=_[1];return J(J({},S),{},Se({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var E=0,j=w.length;E<j;E++){var A=w[E],C=A.props,O=A.item,P=O.type.defaultProps!==void 0?J(J({},O.type.defaultProps),O.props):O.props,k=Jn(O.type);if(k==="Bar"){var z=(C.data||[]).find(function(R){return Ane(b,R)});if(z)return{graphicalItem:A,payload:z}}else if(k==="RadialBar"){var V=(C.data||[]).find(function(R){return oj(b,R)});if(V)return{graphicalItem:A,payload:V}}else if(Zp(A,_)||Jp(A,_)||nu(A,_)){var Y=Cie({graphicalItem:A,activeTooltipItem:_,itemData:P.data}),M=P.activeIndex===void 0?Y:P.activeIndex;return{graphicalItem:J(J({},A),{},{childIndex:M}),payload:nu(A,_)?P.data[Y]:A.props.data[Y]}}}return null}},{key:"render",value:function(){var b=this;if(!q_(this))return null;var S=this.props,w=S.children,_=S.className,E=S.width,j=S.height,A=S.style,C=S.compact,O=S.title,P=S.desc,k=OA(S,Ple),z=Re(k,!1);if(C)return H.createElement(sA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(dy,Ws({},z,{width:E,height:j,title:O,desc:P}),this.renderClipPath(),K_(w,this.renderMap)));if(this.props.accessibilityLayer){var V,Y;z.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,z.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",z.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},z.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return H.createElement(sA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Ws({className:$e("recharts-wrapper",_),style:J({position:"relative",cursor:"default",width:E,height:j},A)},M,{ref:function(B){b.container=B}}),H.createElement(dy,Ws({},z,{width:E,height:j,title:O,desc:P,style:Kle}),this.renderClipPath(),K_(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Se(m,"displayName",r),Se(m,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Se(m,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,S=v.children,w=v.width,_=v.height,E=v.layout,j=v.stackOffset,A=v.margin,C=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var P=RA(v);return J(J(J({},P),{},{updateId:0},p(J(J({props:v},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:j,prevMargin:A,prevChildren:S})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||_!==x.prevHeight||E!==x.prevLayout||j!==x.prevStackOffset||!Zs(A,x.prevMargin)){var k=RA(v),z={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},V=J(J({},MA(x,b,E)),{},{updateId:x.updateId+1}),Y=J(J(J({},k),z),V);return J(J(J({},Y),p(J({props:v},Y),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:j,prevMargin:A,prevChildren:S})}if(!cy(S,x.prevChildren)){var M,R,B,F,W=Ar(S,jo),G=W&&(M=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&M!==void 0?M:C,K=W&&(B=(F=W.props)===null||F===void 0?void 0:F.endIndex)!==null&&B!==void 0?B:O,ie=G!==C||K!==O,se=!Oe(b),ye=se&&!ie?x.updateId:x.updateId+1;return J(J({updateId:ye},p(J(J({props:v},x),{},{updateId:ye,dataStartIndex:G,dataEndIndex:K}),x)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:K})}return null}),Se(m,"renderActiveDot",function(v,x,y){var b;return N.isValidElement(v)?b=N.cloneElement(v,x):Ce(v)?b=v(x):b=H.createElement(Jb,x),H.createElement(St,{className:"recharts-active-dot",key:y},b)});var g=N.forwardRef(function(x,y){return H.createElement(m,Ws({},x,{ref:y}))});return g.displayName=m.displayName,g},sce=ace({chartName:"LineChart",GraphicalChild:Ou,axisComponents:[{axisType:"xAxis",AxisComp:am},{axisType:"yAxis",AxisComp:sm}],formatAxisMap:ese});function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Mn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function et(t){Ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Nh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function E2(t,e){Ze(2,arguments);var r=et(t),n=Mn(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function oce(t,e){Ze(2,arguments);var r=et(t).getTime(),n=Mn(e);return new Date(r+n)}var lce={};function Du(){return lce}function D0(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Vd(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var j2=6e4,A2=36e5;function cce(t){return Ze(1,arguments),t instanceof Date||Nh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uce(t){if(Ze(1,arguments),!cce(t)&&typeof t!="number")return!1;var e=et(t);return!isNaN(Number(e))}function dce(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function fce(t,e){return Ze(2,arguments),et(t).getTime()-et(e).getTime()}var $A={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},hce="trunc";function pce(t){return t?$A[t]:$A[hce]}function mce(t){Ze(1,arguments);var e=et(t);return e.setHours(23,59,59,999),e}function gce(t){Ze(1,arguments);var e=et(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function vce(t){Ze(1,arguments);var e=et(t);return mce(e).getTime()===gce(e).getTime()}function yce(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=Vd(r,n),a=Math.abs(dce(r,n)),s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var o=Vd(r,n)===-i;vce(et(t))&&a===1&&Vd(t,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function xce(t,e,r){Ze(2,arguments);var n=fce(t,e)/1e3;return pce(r==null?void 0:r.roundingMethod)(n)}function bce(t,e){Ze(2,arguments);var r=Mn(e);return oce(t,-r)}var wce=864e5;function Sce(t){Ze(1,arguments);var e=et(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/wce)+1}function Ch(t){Ze(1,arguments);var e=1,r=et(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function T2(t){Ze(1,arguments);var e=et(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=Ch(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=Ch(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function _ce(t){Ze(1,arguments);var e=T2(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Ch(r);return n}var Ece=6048e5;function jce(t){Ze(1,arguments);var e=et(t),r=Ch(e).getTime()-_ce(e).getTime();return Math.round(r/Ece)+1}function kh(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=Du(),f=Mn((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=et(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function N2(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=et(t),f=d.getUTCFullYear(),h=Du(),p=Mn((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=kh(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=kh(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Ace(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=Du(),f=Mn((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=N2(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=kh(p,e);return m}var Tce=6048e5;function Nce(t,e){Ze(1,arguments);var r=et(t),n=kh(r,e).getTime()-Ace(r,e).getTime();return Math.round(n/Tce)+1}function We(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Cce={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return We(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):We(n+1,2)},d:function(e,r){return We(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return We(e.getUTCHours()%12||12,r.length)},H:function(e,r){return We(e.getUTCHours(),r.length)},m:function(e,r){return We(e.getUTCMinutes(),r.length)},s:function(e,r){return We(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return We(a,r.length)}};const wi=Cce;var Ts={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kce={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return wi.y(e,r)},Y:function(e,r,n,i){var a=N2(e,i),s=a>0?a:1-a;if(r==="YY"){var o=s%100;return We(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):We(s,r.length)},R:function(e,r){var n=T2(e);return We(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return We(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return We(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return We(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return wi.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return We(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=Nce(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):We(a,r.length)},I:function(e,r,n){var i=jce(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):We(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):wi.d(e,r)},D:function(e,r,n){var i=Sce(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):We(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return We(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return We(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return We(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=Ts.noon:i===0?a=Ts.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=Ts.evening:i>=12?a=Ts.afternoon:i>=4?a=Ts.morning:a=Ts.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return wi.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):wi.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):We(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):We(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):wi.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):wi.s(e,r)},S:function(e,r){return wi.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return UA(s);case"XXXX":case"XX":return ja(s);case"XXXXX":case"XXX":default:return ja(s,":")}},x:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"x":return UA(s);case"xxxx":case"xx":return ja(s);case"xxxxx":case"xxx":default:return ja(s,":")}},O:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+LA(s,":");case"OOOO":default:return"GMT"+ja(s,":")}},z:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+LA(s,":");case"zzzz":default:return"GMT"+ja(s,":")}},t:function(e,r,n,i){var a=i._originalDate||e,s=Math.floor(a.getTime()/1e3);return We(s,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,s=a.getTime();return We(s,r.length)}};function LA(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var s=e||"";return r+String(i)+s+We(a,2)}function UA(t,e){if(t%60===0){var r=t>0?"-":"+";return r+We(Math.abs(t)/60,2)}return ja(t,e)}function ja(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=We(Math.floor(i/60),2),s=We(i%60,2);return n+a+r+s}const Oce=kce;var FA=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},C2=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Dce=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return FA(e,r);var s;switch(i){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",FA(i,r)).replace("{{time}}",C2(a,r))},Pce={p:C2,P:Dce};const Mce=Pce;var Rce=["D","DD"],Ice=["YY","YYYY"];function $ce(t){return Rce.indexOf(t)!==-1}function Lce(t){return Ice.indexOf(t)!==-1}function BA(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Uce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fce=function(e,r,n){var i,a=Uce[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const Bce=Fce;function kg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var Hce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vce={date:kg({formats:Hce,defaultWidth:"full"}),time:kg({formats:zce,defaultWidth:"full"}),dateTime:kg({formats:Wce,defaultWidth:"full"})};const Gce=Vce;var qce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yce=function(e,r,n,i){return qce[e]};const Kce=Yce;function kl(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Xce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rue=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nue={ordinalNumber:rue,era:kl({values:Xce,defaultWidth:"wide"}),quarter:kl({values:Qce,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:kl({values:Zce,defaultWidth:"wide"}),day:kl({values:Jce,defaultWidth:"wide"}),dayPeriod:kl({values:eue,defaultWidth:"wide",formattingValues:tue,defaultFormattingWidth:"wide"})};const iue=nue;function Ol(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?sue(o,function(f){return f.test(s)}):aue(o,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function aue(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function sue(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function oue(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;var o=e.slice(i.length);return{value:s,rest:o}}}var lue=/^(\d+)(th|st|nd|rd)?/i,cue=/\d+/i,uue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},due={any:[/^b/i,/^(a|c)/i]},fue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hue={any:[/1/i,/2/i,/3/i,/4/i]},pue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bue={ordinalNumber:oue({matchPattern:lue,parsePattern:cue,valueCallback:function(e){return parseInt(e,10)}}),era:Ol({matchPatterns:uue,defaultMatchWidth:"wide",parsePatterns:due,defaultParseWidth:"any"}),quarter:Ol({matchPatterns:fue,defaultMatchWidth:"wide",parsePatterns:hue,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ol({matchPatterns:pue,defaultMatchWidth:"wide",parsePatterns:mue,defaultParseWidth:"any"}),day:Ol({matchPatterns:gue,defaultMatchWidth:"wide",parsePatterns:vue,defaultParseWidth:"any"}),dayPeriod:Ol({matchPatterns:yue,defaultMatchWidth:"any",parsePatterns:xue,defaultParseWidth:"any"})};const wue=bue;var Sue={code:"en-US",formatDistance:Bce,formatLong:Gce,formatRelative:Kce,localize:iue,match:wue,options:{weekStartsOn:0,firstWeekContainsDate:1}};const k2=Sue;var _ue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jue=/^'([^]*?)'?$/,Aue=/''/g,Tue=/[a-zA-Z]/;function O2(t,e,r){var n,i,a,s,o,l,u,d,f,h,p,m,g,v,x,y,b,S;Ze(2,arguments);var w=String(e),_=Du(),E=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:_.locale)!==null&&n!==void 0?n:k2,j=Mn((a=(s=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:_.firstWeekContainsDate)!==null&&s!==void 0?s:(f=_.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Mn((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:_.weekStartsOn)!==null&&m!==void 0?m:(b=_.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var C=et(t);if(!uce(C))throw new RangeError("Invalid time value");var O=D0(C),P=bce(C,O),k={firstWeekContainsDate:j,weekStartsOn:A,locale:E,_originalDate:C},z=w.match(Eue).map(function(V){var Y=V[0];if(Y==="p"||Y==="P"){var M=Mce[Y];return M(V,E.formatLong)}return V}).join("").match(_ue).map(function(V){if(V==="''")return"'";var Y=V[0];if(Y==="'")return Nue(V);var M=Oce[Y];if(M)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Lce(V)&&BA(V,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&$ce(V)&&BA(V,e,String(t)),M(P,V,E.localize,k);if(Y.match(Tue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return V}).join("");return z}function Nue(t){var e=t.match(jue);return e?e[1].replace(Aue,"'"):t}function D2(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Cue(t){return D2({},t)}var HA=1440,kue=2520,Og=43200,Oue=86400;function Due(t,e,r){var n,i;Ze(2,arguments);var a=Du(),s=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:k2;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Vd(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var l=D2(Cue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=et(e),d=et(t)):(u=et(t),d=et(e));var f=xce(d,u),h=(D0(d)-D0(u))/1e3,p=Math.round((f-h)/60),m;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<HA){var g=Math.round(p/60);return s.formatDistance("aboutXHours",g,l)}else{if(p<kue)return s.formatDistance("xDays",1,l);if(p<Og){var v=Math.round(p/HA);return s.formatDistance("xDays",v,l)}else if(p<Oue)return m=Math.round(p/Og),s.formatDistance("aboutXMonths",m,l)}if(m=yce(d,u),m<12){var x=Math.round(p/Og);return s.formatDistance("xMonths",x,l)}else{var y=m%12,b=Math.floor(m/12);return y<3?s.formatDistance("aboutXYears",b,l):y<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function cw(t,e){return Ze(1,arguments),Due(t,Date.now(),e)}function Pue(t,e){var r;Ze(1,arguments);var n=Mn((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=$ue(t),a;if(i.date){var s=Lue(i.date,n);a=Uue(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o=a.getTime(),l=0,u;if(i.time&&(l=Fue(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Bue(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+l+u)}var Sd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Mue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Rue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Iue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $ue(t){var e={},r=t.split(Sd.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Sd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Sd.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=Sd.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Lue(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function Uue(t,e){if(e===null)return new Date(NaN);var r=t.match(Mue);if(!r)return new Date(NaN);var n=!!r[4],i=Dl(r[1]),a=Dl(r[2])-1,s=Dl(r[3]),o=Dl(r[4]),l=Dl(r[5])-1;if(n)return Gue(e,o,l)?Hue(e,o,l):new Date(NaN);var u=new Date(0);return!Wue(e,a,s)||!Vue(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,s)),u)}function Dl(t){return t?parseInt(t):1}function Fue(t){var e=t.match(Rue);if(!e)return NaN;var r=Dg(e[1]),n=Dg(e[2]),i=Dg(e[3]);return que(r,n,i)?r*A2+n*j2+i*1e3:NaN}function Dg(t){return t&&parseFloat(t.replace(",","."))||0}function Bue(t){if(t==="Z")return 0;var e=t.match(Iue);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Yue(n,i)?r*(n*A2+i*j2):NaN}function Hue(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var zue=[31,null,31,30,31,30,31,31,30,31,30,31];function P2(t){return t%400===0||t%4===0&&t%100!==0}function Wue(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(zue[e]||(P2(t)?29:28))}function Vue(t,e){return e>=1&&e<=(P2(t)?366:365)}function Gue(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function que(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Yue(t,e){return e>=0&&e<=59}function Kue(t,e){Ze(2,arguments);var r=Mn(e);return E2(t,-r)}const Io=(t,e="MM/dd/yy")=>{if(!t)return"N/A";try{const r=typeof t=="string"?rr(t):t;return!r||isNaN(r.getTime())?"Invalid Date":O2(r,e)}catch(r){return console.warn("Error formatting date:",t,r),"Invalid Date"}},zr=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),Xue=t=>E2(t,1),Que=t=>Kue(t,1),zA=t=>O2(t,"MMMM yyyy"),rr=t=>{if(!t)return null;try{if(typeof t=="string"&&t.includes(" 0:00:00")){const n=t.split(" 0:00:00")[0],i=new Date(n+"T00:00:00");if(!isNaN(i.getTime()))return i}const e=Pue(t);if(!isNaN(e.getTime()))return e;const r=new Date(t);return isNaN(r.getTime())?null:r}catch{return null}},Zue=t=>{if(!t)return"";if(typeof t=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}T/.test(t))return t.slice(0,10)}const e=typeof t=="string"?rr(t):t;if(!e||isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`},Jue=(t,e)=>e.map(n=>{const a=t.filter(o=>{const l=o.venue?o.venue.trim().toLowerCase():null,u=n.promo?n.promo.trim().toLowerCase():null;return l&&u&&l===u&&o.grossSales>0}).map(o=>({...o,date:new Date(o.date)})).sort((o,l)=>l.date-o.date).slice(0,5).map(o=>o.grossSales);let s=0;return a.length>0&&(s=a.reduce((l,u)=>l+u,0)/a.length,s=Math.round(s/100)*100),{...n,averageSales:s,salesCount:a.length}}).sort((n,i)=>i.averageSales-n.averageSales),ede=(t,e)=>t.filter(n=>{const i=n.venue?n.venue.trim().toLowerCase():null,a=e?e.trim().toLowerCase():null;return i&&a&&i===a&&n.grossSales>0}).map(n=>({...n,date:new Date(n.date)})).sort((n,i)=>i.date-n.date).slice(0,5).map(n=>({date:n.date.toLocaleDateString(),amount:n.grossSales})),tde=({salesData:t,currentSheet:e,selectedYears:r=[new Date().getFullYear()]})=>{const[n,i]=N.useState(!1),a=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((u,d)=>{const f={month:u};return r.forEach(h=>{const m=t.filter(g=>{const v=rr(g.date);return v&&v.getMonth()===d&&v.getFullYear()===h}).reduce((g,v)=>g+(v.grossSales||0),0);f[h]=m}),f}),s=N.useMemo(()=>a(),[t,r]),o=({active:l,payload:u,label:d})=>l&&u&&u.length?c.jsxs("div",{className:"bg-white p-3 border border-secondary-200 rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium text-secondary-900",children:d}),u.map((f,h)=>c.jsxs("p",{style:{color:f.color},className:"text-sm",children:[f.name,": ",zr(f.value)]},h))]}):null;return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Gross Sales: ",r.length>1?`${r.length} Years`:r[0]," (",e==="TRAILER_HISTORY"?"Trailer":"Camper",")"]}),r.length>1&&c.jsxs("button",{className:`mt-2 sm:mt-0 px-3 py-1 rounded border text-xs font-semibold transition ${n?"bg-primary-600 text-white border-primary-600":"bg-white text-primary-600 border-primary-200 hover:bg-primary-50"}`,onClick:()=>i(l=>!l),children:[n?"Hide":"Show"," All Years"]})]}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"h-96",children:c.jsx(LK,{width:"100%",height:"100%",children:c.jsxs(sce,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(o2,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(am,{dataKey:"month",stroke:"#64748b",fontSize:12}),c.jsx(sm,{stroke:"#64748b",fontSize:12,tickFormatter:l=>`$${(l/1e3).toFixed(0)}k`,domain:[0,5e5]}),c.jsx(_n,{content:c.jsx(o,{})}),c.jsx(Fa,{}),r.map((l,u)=>{const d=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"],f=d[u%d.length];return c.jsx(Ou,{type:"monotone",dataKey:l,stroke:f,strokeWidth:2,dot:{fill:f,strokeWidth:2,r:4},activeDot:{r:6,stroke:"#94a3b8",strokeWidth:2},name:`${l}`},l)})]})})})})]})},rde=()=>{var ce,fe,Ne;const{salesData:t,currentSheet:e,loading:r}=Et(),[n,i]=N.useState(null),[a,s]=N.useState(new Date().getMonth()),[o,l]=N.useState([new Date().getFullYear()]),[u,d]=N.useState([]),[f,h]=N.useState(!1),[p,m]=N.useState(!1),[g,v]=N.useState(null),x=N.useRef(null),y=N.useRef(null),[b,S]=N.useState([]),[w,_]=N.useState(!0),[E,j]=N.useState(null),[A,C]=N.useState([]),[O,P]=N.useState([new Date().getFullYear()]),[k,z]=N.useState(!1),V=N.useRef(null),Y=N.useRef(null);N.useEffect(()=>{const X=de=>{x.current&&!x.current.contains(de.target)&&h(!1),y.current&&!y.current.contains(de.target)&&m(!1)};return(f||p)&&document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[f,p]),N.useEffect(()=>(z(!0),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{C(u),z(!1)},800),()=>{V.current&&clearTimeout(V.current)}),[u]),N.useEffect(()=>(z(!0),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{P(o),z(!1)},800),()=>{Y.current&&clearTimeout(Y.current)}),[o]),N.useEffect(()=>()=>{V.current&&clearTimeout(V.current),Y.current&&clearTimeout(Y.current)},[]),N.useEffect(()=>{(async()=>{try{const de=await le.getStores();de.success?S(de.data):console.error("Error fetching stores:",de.error)}catch(de){console.error("Error fetching stores:",de)}finally{_(!1)}})()},[]);const M=["Trailer","Camper","Spartanburg","Greenville","Columbia"],R=()=>{const X=Array.from(new Set(t.map(de=>de.store).filter(Boolean)));return X.length===0?M:X},B=N.useCallback(()=>A.length===0?t:t.filter(de=>A.includes(de.store)),[A,t]),F=N.useCallback(X=>{d(de=>de.includes(X)?de.filter(he=>he!==X):[...de,X])},[]),W=N.useCallback(()=>{const X=R();d(X)},[]),G=N.useCallback(()=>{d([])},[]),K=N.useCallback(X=>{l(de=>{if(de.includes(X)){const he=de.filter(we=>we!==X);return he.length>0?he:[new Date().getFullYear()]}else return de.length<5?[...de,X].sort((he,we)=>we-he):de})},[]),ie=N.useCallback(()=>{const X=new Date().getFullYear(),de=[X,X-1,X-2,X-3,X-4];l(de)},[]),se=N.useCallback(()=>{l([new Date().getFullYear()])},[]),ye=()=>o.length===0?"Select Years":o.length===1?o[0].toString():o.length===5?"All Years":`${o.length} Years Selected`,Te=()=>u.length===0?"All Stores":u.length===1?u[0]:u.length===R().length?"All Stores":`${u.length} Stores Selected`,ge=N.useCallback(()=>{const X=B(),de=new Date,he=de.getMonth(),we=de.getFullYear(),ve={};O.forEach(Ue=>{const yt=X.filter(Ln=>{const ga=rr(Ln.date);return ga&&ga.getFullYear()===Ue}),_e=yt.reduce((Ln,ga)=>Ln+(ga.grossSales||0),0),Fe=yt.filter(Ln=>(Ln.grossSales||0)>0).length;let Ke,Yt,yi;if(Ue===we){const Ln=Math.max(0,he-1);Ke=Ln+1;const ga=yt.filter(ll=>{const Iu=rr(ll.date);return Iu&&Iu.getMonth()<=Ln}),Ww=ga.reduce((ll,Iu)=>ll+(Iu.grossSales||0),0),Vw=ga.filter(ll=>(ll.grossSales||0)>0).length;Yt=Ke>0?Math.round(Ww/Ke):0,yi=Vw>0?Math.round(Ww/Vw):0}else Ke=12,Yt=Ke>0?Math.round(_e/Ke):0,yi=Fe>0?Math.round(_e/Fe):0;ve[Ue]={totalGross:Math.round(_e),positiveSalesCount:Fe,monthlyAverage:Yt,averagePerSale:yi,monthsToCount:Ke}});const Ee=O[0]||we,qe=X.filter(Ue=>{const yt=rr(Ue.date);return yt&&yt.getMonth()===a&&yt.getFullYear()===Ee}),Bt=qe,Ye=qe.reduce((Ue,yt)=>Ue+(yt.grossSales||0),0),jt=qe.filter(Ue=>(Ue.grossSales||0)>0).length;return{selectedYearsData:ve,confirmedMonthSalesCount:Bt.length,positiveMonthSalesCount:jt,monthTotalGross:Math.round(Ye),primaryYear:Ee}},[B,O,a]),Z=N.useMemo(()=>ge(),[ge]),$=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],L=()=>{var X;return((X=$.find(de=>de.value===a))==null?void 0:X.label)||"Unknown"},T=N.useCallback(()=>{const X=["January","February","March","April","May","June","July","August","September","October","November","December"],de=[];return X.forEach((he,we)=>{const ve={month:he,monthIndex:we,years:{}};let Ee=!1;O.forEach(qe=>{const Bt=B().filter(yt=>{const _e=rr(yt.date);return _e&&_e.getMonth()===we&&_e.getFullYear()===qe}),Ye=Bt.reduce((yt,_e)=>yt+(_e.grossSales||0),0),jt=Bt.length,Ue=Bt.filter(yt=>(yt.grossSales||0)>0).length;ve.years[qe]={salesCount:Bt.length,confirmedSales:jt,positiveSales:Ue,totalGross:Ye,sales:Bt},Bt.length>0&&(Ee=!0)}),Ee&&de.push(ve)}),de},[B,O]),D=N.useMemo(()=>T(),[T]),U=X=>{i(X)},q=()=>{i(null)},te=X=>{s(parseInt(X.target.value))},re=(X,de)=>{switch(X){case"scheduler":window.location.href=`/scheduler?store=${de.id}`;break;case"staff":window.location.href=`/staff?store=${de.id}`;break;case"pay-calculator":window.location.href=`/pay-calculator?store=${de.id}`;break;case"bonuses":window.location.href=`/bonuses?store=${de.id}`;break;case"settings":window.location.href=`/venues?store=${de.id}`;break}},ue=X=>X.store==="Trailer"||X.store==="Camper"?X.store:X.venue||X.store||"N/A";return r?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading dashboard..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please wait while we load your data"})]})}):t.length===0&&!r?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your dashboard will show sales analytics once you have data in your system."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Try adding some sales entries or check your data connection."})]})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative",ref:x,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Filter by Store"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>h(!f),className:"block w-full sm:w-64 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:Te()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Jl,{className:"h-4 w-4 text-secondary-400"})})]}),f&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-64 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:W,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:G,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:R().map(X=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:u.includes(X),onChange:()=>F(X),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:X})]},X))})]})]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative mr-4",ref:y,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Select Years"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>m(!p),className:"block w-full sm:w-48 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:ye()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(Jl,{className:"h-4 w-4 text-secondary-400"})})]}),p&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-48 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:ie,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:se,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:Array.from({length:5},(X,de)=>new Date().getFullYear()-de).map(X=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:o.includes(X),onChange:()=>K(X),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:X})]},X))})]})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[18rem_1fr_22rem] gap-6 mb-8 items-stretch",children:[c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"18rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Vn,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Total Gross Sales"}),k?c.jsx("div",{className:"flex flex-col gap-1",children:o.map(X=>c.jsxs("div",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[X," - ",c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-20 ml-2 rounded"})]},X))}):c.jsx("div",{className:"flex flex-col gap-1",children:O.map(X=>{var de;return c.jsxs("span",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[X," - $",((de=Z.selectedYearsData[X])==null?void 0:de.totalGross.toLocaleString())||"0"]},X)})})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"40rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Cr,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 min-w-0",children:[c.jsxs("p",{className:"text-base font-bold text-primary-700 whitespace-nowrap",children:["Month Sales [",e==="TRAILER_HISTORY"?"Trailer":"Camper"," Only]"]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("select",{value:a,onChange:te,className:"text-xs border border-secondary-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",style:{maxWidth:"8rem"},children:$.map(X=>c.jsx("option",{value:X.value,children:X.label},X.value))})})]}),k?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-32 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-40 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-48 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Confirmed: ",Z.confirmedMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Completed Sales: ",Z.positiveMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Total Gross Sales (",L()," ",Z.primaryYear,"): $",Z.monthTotalGross.toLocaleString()]})]})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"22rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(vp,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Average"}),k?c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),o.map(X=>c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:X}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"})]},X))]}):c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),O.map(X=>{var de,he,we,ve,Ee,qe;return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:X}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:["$",((de=Z.selectedYearsData[X])==null?void 0:de.averagePerSale.toLocaleString())||"0"]}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap cursor-help relative group",onMouseEnter:()=>v(X),onMouseLeave:()=>v(null),children:["$",((he=Z.selectedYearsData[X])==null?void 0:he.monthlyAverage.toLocaleString())||"0",g===X&&c.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[c.jsxs("div",{children:[((we=Z.selectedYearsData[X])==null?void 0:we.monthsToCount)||0," month",(((ve=Z.selectedYearsData[X])==null?void 0:ve.monthsToCount)||0)!==1?"s":""," used"]}),c.jsxs("div",{children:["Total: $",((Ee=Z.selectedYearsData[X])==null?void 0:Ee.totalGross.toLocaleString())||"0"]}),c.jsxs("div",{children:["Monthly Average: $",((qe=Z.selectedYearsData[X])==null?void 0:qe.monthlyAverage.toLocaleString())||"0"]}),c.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]},X)}),c.jsx("div",{className:"mt-2 text-xs text-secondary-600",children:Z.primaryYear===new Date().getFullYear()?`Based on ${((ce=Z.selectedYearsData[Z.primaryYear])==null?void 0:ce.monthsToCount)||0} month${(((fe=Z.selectedYearsData[Z.primaryYear])==null?void 0:fe.monthsToCount)||0)!==1?"s":""} (Jan - ${((Ne=$[Math.max(0,new Date().getMonth()-1)])==null?void 0:Ne.label)||"Previous Month"})`:"Based on 12 months"})]})]})]})})})]}),c.jsx("div",{className:"mb-8",children:k?c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})})})}):c.jsx(tde,{salesData:B(),currentSheet:e,selectedYears:O})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Monthly Sales Statistics - Last 3 Years"})}),c.jsx("div",{className:"card-body",children:k?c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsxs("thead",{className:"table-header",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Month"}),O.map(X=>c.jsx("th",{className:"table-header-cell",colSpan:"3",children:X},X)),c.jsx("th",{className:"table-header-cell",children:"Actions"})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell"}),O.map(X=>c.jsxs(H.Fragment,{children:[c.jsx("th",{className:"table-header-cell text-xs",children:"Sales"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Confirmed"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Gross Sales"})]},X)),c.jsx("th",{className:"table-header-cell"})]})]}),c.jsx("tbody",{className:"table-body",children:D.map((X,de)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:X.month}),O.map(he=>{var we,ve,Ee;return c.jsxs(H.Fragment,{children:[c.jsx("td",{className:"table-cell",children:((we=X.years[he])==null?void 0:we.salesCount)||0}),c.jsx("td",{className:"table-cell",children:((ve=X.years[he])==null?void 0:ve.confirmedSales)||0}),c.jsx("td",{className:"table-cell font-semibold",children:zr(((Ee=X.years[he])==null?void 0:Ee.totalGross)||0)})]},he)}),c.jsx("td",{className:"table-cell",children:c.jsx("button",{onClick:()=>U(X),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"View Details",children:c.jsx(Bk,{className:"w-4 h-4"})})})]},de))})]})})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Store Management"}),c.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Hover over a store to see available actions"})]}),c.jsx("div",{className:"card-body",children:w?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(X=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},X))}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(X=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>j(X.id),onMouseLeave:()=>j(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:X.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",X.number]})]})]}),E===X.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>re("scheduler",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(oa,{className:"w-4 h-4 mr-2"}),"Scheduler"]}),c.jsxs("button",{onClick:()=>re("staff",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(kn,{className:"w-4 h-4 mr-2"}),"Staff"]}),c.jsxs("button",{onClick:()=>re("pay-calculator",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Qx,{className:"w-4 h-4 mr-2"}),"Pay Calculator"]}),c.jsxs("button",{onClick:()=>re("bonuses",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx($U,{className:"w-4 h-4 mr-2"}),"Bonuses"]}),c.jsxs("button",{onClick:()=>re("settings",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Nf,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})]},X.id))})})]})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[c.jsxs("h3",{className:"text-xl font-semibold text-secondary-900",children:[n.month," Sales Details - ",o.length," Year",o.length!==1?"s":""]}),c.jsx("button",{onClick:q,className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:c.jsx(Nc,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[c.jsx("div",{className:`grid gap-4 mb-6 ${o.length<=3?"grid-cols-3":"grid-cols-2"}`,children:o.map((X,de)=>{const he=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900"],we=he[de%he.length],ve=n.years[X];return c.jsxs("div",{className:`p-4 rounded-lg border ${we}`,children:[c.jsx("h4",{className:"text-lg font-semibold mb-3",children:X}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Total Sales:"}),c.jsx("p",{className:"font-bold",children:(ve==null?void 0:ve.salesCount)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Confirmed:"}),c.jsx("p",{className:"font-bold",children:(ve==null?void 0:ve.confirmedSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Positive:"}),c.jsx("p",{className:"font-bold",children:(ve==null?void 0:ve.positiveSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Gross Sales:"}),c.jsx("p",{className:"font-bold",children:zr((ve==null?void 0:ve.totalGross)||0)})]})]})]},X)})}),c.jsx("div",{className:"space-y-6",children:o.map((X,de)=>{const he=["text-blue-900","text-green-900","text-purple-900","text-orange-900","text-pink-900"],we=he[de%he.length],ve=n.years[X];return c.jsxs("div",{children:[c.jsxs("h4",{className:`text-lg font-semibold ${we} mb-3`,children:[X," Sales"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"})]})}),c.jsx("tbody",{className:"table-body",children:(ve==null?void 0:ve.sales.length)===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"6",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",n.month," ",X]})}):ve==null?void 0:ve.sales.map(Ee=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:Io(Ee.date)}),c.jsx("td",{className:"table-cell",children:ue(Ee)}),c.jsx("td",{className:"table-cell font-semibold",children:zr(Ee.grossSales)}),c.jsx("td",{className:"table-cell font-semibold",children:zr(Ee.netSales)}),c.jsx("td",{className:"table-cell font-semibold",children:zr(Ee.salesTax)}),c.jsx("td",{className:"table-cell font-medium",children:Ee.count||1})]},Ee.id))})]})})]},X)})})]})]})})]})},nde=({onAddVenue:t,onEditVenue:e,onDeleteVenue:r})=>{const{venuesData:n,salesData:i}=Et(),[a,s]=N.useState([]),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,h]=N.useState(null),[p,m]=N.useState(!1),g=N.useMemo(()=>Jue(i,n),[i,n]),v=N.useMemo(()=>[...new Set(g.map(S=>S.addressCity).filter(Boolean))],[g]);N.useEffect(()=>{let S=g;o&&(S=S.filter(w=>w.promo.toLowerCase().includes(o.toLowerCase())||w.addressCity.toLowerCase().includes(o.toLowerCase())||w.contact.toLowerCase().includes(o.toLowerCase()))),u&&(S=S.filter(w=>w.addressCity===u)),s(S)},[g,o,u]);const x=async S=>{window.confirm("Are you sure you want to delete this venue?")&&await r(S)},y=S=>{h(S),m(!0)},b=()=>{l(""),d("")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(VU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search venues...",value:o,onChange:S=>l(S.target.value),className:"pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"All Cities"}),v.map(S=>c.jsx("option",{value:S,children:S},S))]}),(o||u)&&c.jsx("button",{onClick:b,className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Clear Filters"})]}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),c.jsxs("div",{className:"text-sm text-secondary-600",children:["Showing ",a.length," of ",g.length," venues"]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Venue Name"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell sticky right-0 bg-white z-10",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center text-secondary-500 py-8",children:o||u?"No venues match your search criteria":"No venues found"})}):a.map((S,w)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-secondary-900 flex items-center",children:[S.averageSales>0&&c.jsxs("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-primary-600 rounded-full mr-2",children:["#",w+1]}),S.promo]}),S.promoSend&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["Promo: ",S.promoSend]}),S.averageSales>0&&c.jsxs("div",{className:"text-xs text-primary-600 font-medium mt-1",children:["💰 Avg Sales: $",S.averageSales.toLocaleString()," (",S.salesCount," sales)"]})]})}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-4 h-4 mr-1 text-secondary-400"}),S.addressCity]})}),c.jsx("td",{className:"table-cell sticky right-0 bg-white z-10",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>y(S),className:"text-primary-600 hover:text-primary-900 font-semibold text-xs px-2 py-1 rounded border border-primary-200 bg-primary-50 hover:bg-primary-100 transition",title:"Show Details",children:"Show Details"}),c.jsx("button",{onClick:()=>e(S),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(ls,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>x(S.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ca,{className:"w-4 h-4"})})]})})]},S.id))})]})})})}),p&&f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Venue Details"}),c.jsx("button",{onClick:()=>m(!1),className:"text-secondary-400 hover:text-secondary-600",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Venue Name"}),c.jsx("p",{className:"text-secondary-900 font-medium",children:f.promo})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Promo to Send"}),c.jsx("p",{className:"text-secondary-900",children:f.promoSend||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Address/City"}),c.jsx("p",{className:"text-secondary-900",children:f.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Contact"}),c.jsx("p",{className:"text-secondary-900",children:f.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Phone"}),c.jsx("p",{className:"text-secondary-900",children:f.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Email"}),c.jsx("p",{className:"text-secondary-900",children:c.jsx("a",{href:`mailto:${f.email}`,className:"text-primary-600 hover:text-primary-900",children:f.email})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Times"}),c.jsx("p",{className:"text-secondary-900",children:f.times||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Show Info"}),c.jsx("p",{className:"text-secondary-900",children:f.showInfo||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Forecast Will"}),c.jsx("p",{className:"text-secondary-900",children:f.forecastWill||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Last 5 Sales"}),c.jsx("div",{className:"text-secondary-900",children:(()=>{const S=ede(i,f.promo);return S.length>0?c.jsx("div",{className:"space-y-1",children:S.map((w,_)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-secondary-600",children:w.date}),c.jsxs("span",{className:"font-medium",children:["$",w.amount.toLocaleString()]})]},_))}):c.jsx("span",{className:"text-secondary-500",children:"No sales data"})})()})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>m(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{m(!1),e(f)},className:"btn-primary",children:"Edit"})]})]})})]})},ide=()=>{const{addVenueEntry:t,updateVenueEntry:e,deleteVenueEntry:r,loading:n}=Et(),[i,a]=N.useState(!1),[s,o]=N.useState(null),[l,u]=N.useState(Zm()),[d,f]=N.useState({}),h=()=>{o(null),u(Zm()),f({}),a(!0)},p=y=>{o(y),u({promo:y.promo,promoSend:y.promoSend,addressCity:y.addressCity,contact:y.contact,phone:y.phone,email:y.email,times:y.times,showInfo:y.showInfo,forecastWill:y.forecastWill}),f({}),a(!0)},m=async y=>{const b=await r(y);b.success||alert(`Error deleting venue: ${b.error}`)},g=()=>{const y={};return l.promo||(y.promo="Venue name is required"),l.addressCity||(y.addressCity="Address/City is required"),l.contact||(y.contact="Contact is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(y.email="Please enter a valid email address"),f(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!g())return;const b={promo:l.promo,promo_send:l.promoSend,address_city:l.addressCity,contact:l.contact,phone:l.phone,email:l.email,times:l.times,show_info:l.showInfo,forecast_will:l.forecastWill};let S;s?S=await e(s.id,b):S=await t(b),S.success?(a(!1),o(null),u(Zm())):alert(`Error ${s?"updating":"adding"} venue: ${S.error}`)},x=(y,b)=>{u(S=>({...S,[y]:b})),d[y]&&f(S=>({...S,[y]:""}))};return n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading venues..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Venues"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage venue information, contacts, and event details"})]}),c.jsx(nde,{onAddVenue:h,onEditVenue:p,onDeleteVenue:m}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:s?"Edit Venue":"Add New Venue"}),c.jsx("button",{onClick:()=>a(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue Name *"}),c.jsx("input",{type:"text",value:l.promo,onChange:y=>x("promo",y.target.value),className:He("input",d.promo&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter venue name"}),d.promo&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.promo})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Promo to Send"}),c.jsx("input",{type:"text",value:l.promoSend,onChange:y=>x("promoSend",y.target.value),className:"input",placeholder:"Enter promo information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Address/City *"}),c.jsx("input",{type:"text",value:l.addressCity,onChange:y=>x("addressCity",y.target.value),className:He("input",d.addressCity&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter address and city"}),d.addressCity&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Contact *"}),c.jsx("input",{type:"text",value:l.contact,onChange:y=>x("contact",y.target.value),className:He("input",d.contact&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Contact person name"}),d.contact&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:l.phone,onChange:y=>x("phone",y.target.value),className:"input",placeholder:"Phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:l.email,onChange:y=>x("email",y.target.value),className:He("input",d.email&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Email address"}),d.email&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Times"}),c.jsx("input",{type:"text",value:l.times,onChange:y=>x("times",y.target.value),className:"input",placeholder:"e.g., 9 AM - 5 PM"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Show Info"}),c.jsx("textarea",{value:l.showInfo,onChange:y=>x("showInfo",y.target.value),className:"input",rows:"3",placeholder:"Additional show information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Forecast Will"}),c.jsx("input",{type:"text",value:l.forecastWill,onChange:y=>x("forecastWill",y.target.value),className:"input",placeholder:"Forecast information"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:s?"Update Venue":"Add Venue"})]})]})]})})]})})},ade=({staffId:t,staffName:e,onSave:r})=>{const[n,i]=N.useState([]),[a,s]=N.useState(!0),[o,l]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(0),[p,m]=N.useState(!1);N.useEffect(()=>{if(!t){console.log("❌ No staffId provided");return}console.log("🔄 Loading bonus tiers for staff:",t),(async()=>{try{const _=await le.getStaffBonusTiers(t);if(console.log("📊 Load result:",_),_.success){const E=(_.data||[]).map(j=>({id:j.id,staff_id:j.staff_id,sales_target:j.sales_target,bonus_amount:j.bonus_amount,description:j.description||j.tier_name||`Bonus for $${j.sales_target.toLocaleString()}+ sales`,is_active:j.is_active}));console.log("✅ Converted tiers:",E),i(E)}else console.error("❌ Load failed:",_.error),d("Failed to load bonus tiers")}catch(_){console.error("❌ Exception during load:",_),d("Failed to load bonus tiers")}finally{s(!1)}})()},[t]),N.useEffect(()=>{m(n.some(w=>w.id.toString().startsWith("temp_")))},[n]);const g=N.useCallback(()=>{const w={id:`temp_${Date.now()}_${f}`,staff_id:t,sales_target:0,bonus_amount:0,description:"",is_active:!0};i(_=>[..._,w]),h(_=>_+1)},[t,f]),v=N.useCallback(w=>{i(_=>_.filter(E=>E.id!==w))},[]),x=N.useCallback((w,_,E)=>{i(j=>j.map(A=>A.id===w?{...A,[_]:E}:A))},[]),y=N.useCallback(async()=>{if(!p){console.log("ℹ️ No changes to save");return}console.log("💾 Saving bonus tiers:",n),l(!0),d(null);try{const w=n.map(j=>({staff_id:j.staff_id,tier_name:j.description||`Bonus for $${j.sales_target.toLocaleString()}+ sales`,sales_target:j.sales_target,bonus_amount:j.bonus_amount,description:j.description,is_active:j.is_active}));console.log("🔄 Converted tiers for database:",w);const _=[...w].sort((j,A)=>j.sales_target-A.sales_target);console.log("📊 Sorted tiers:",_);const E=await le.saveStaffBonusTiers(t,_);if(console.log("💾 Save result:",E),E.success){console.log("✅ Save successful, reloading data...");const j=await le.getStaffBonusTiers(t);if(console.log("🔄 Reload result:",j),j.success){const A=(j.data||[]).map(C=>({id:C.id,staff_id:C.staff_id,sales_target:C.sales_target,bonus_amount:C.bonus_amount,description:C.description||C.tier_name||`Bonus for $${C.sales_target.toLocaleString()}+ sales`,is_active:C.is_active}));console.log("✅ Final converted tiers from database:",A),i(A)}m(!1),r&&await r(n)}else d("Failed to save bonus tiers"),console.error("❌ Save failed:",E.error)}catch(w){d("Failed to save bonus tiers"),console.error("❌ Exception during save:",w)}finally{l(!1)}},[n,t,p,r]),b=N.useCallback(w=>{if(!n||n.length===0)return 0;const _=[...n].filter(E=>E.is_active).sort((E,j)=>j.sales_target-E.sales_target);for(const E of _)if(w>=E.sales_target)return E.bonus_amount;return 0},[n]),S=N.useMemo(()=>[...n].sort((w,_)=>w.sales_target-_.sales_target),[n]);return a?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[c.jsx(Vn,{className:"w-5 h-5 mr-2 text-green-600"}),"Personal Bonus Structure - ",e]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set individual bonus tiers for this staff member"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[u&&c.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-1 rounded",children:u}),c.jsxs("button",{onClick:g,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[c.jsx(la,{className:"w-4 h-4 mr-1"}),"Add Tier"]}),c.jsx("button",{onClick:y,disabled:o||!p,className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o||!p?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(eb,{className:"w-4 h-4 mr-1"}),"Save Changes"]})})]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Target"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bonus Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[c.jsx(Vn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("p",{children:"No bonus tiers set for this staff member"}),c.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create the first bonus structure'})]})}):S.map((w,_)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Hk,{className:"w-4 h-4 text-blue-600 mr-2"}),c.jsx("input",{type:"number",value:w.sales_target,onChange:E=>x(w.id,"sales_target",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"}),c.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"+"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Vn,{className:"w-4 h-4 text-green-600 mr-1"}),c.jsx("input",{type:"number",value:w.bonus_amount,onChange:E=>x(w.id,"bonus_amount",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("input",{type:"text",value:w.description,onChange:E=>x(w.id,"description",E.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"e.g., High performer bonus"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("select",{value:w.is_active?"active":"inactive",onChange:E=>x(w.id,"is_active",E.target.value==="active"),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-900 p-1",title:"Remove tier",children:c.jsx(ca,{className:"w-4 h-4"})})})]},`${w.id}-${_}`))})]})})}),S.length>0&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Qx,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bonus Calculator"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Sales Amount"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Vn,{className:"w-4 h-4 text-gray-400 mr-2"}),c.jsx("input",{type:"number",id:"sales-calculator",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter sales amount",step:"0.01",min:"0",onChange:w=>{const _=parseFloat(w.target.value)||0,E=b(_);document.getElementById("bonus-result").textContent=`$${E.toFixed(2)}`}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calculated Bonus"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Vn,{className:"w-4 h-4 text-green-600 mr-2"}),c.jsx("span",{id:"bonus-result",className:"text-2xl font-bold text-green-600",children:"$0.00"})]})]})]})]})]})};function sde(){const[t,e]=N.useState([]),[r,n]=N.useState([]),[i,a]=N.useState(!1),[s,o]=N.useState(""),[l,u]=N.useState(""),{supabaseAPI:d}=Et();N.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const[p,m]=await Promise.all([d.getUnlinkedUsers(),d.readTable("staff")]);p.success&&e(p.data),m.success&&n(m.data)}catch{o("Failed to load data")}finally{a(!1)}},h=async(p,m)=>{a(!0),o(""),u("");try{const g=await d.linkUserToStaff(p,m);g.success?(u("User successfully linked to staff member!"),await f()):o(g.error||"Failed to link user")}catch{o("An unexpected error occurred")}finally{a(!1)}};return i&&t.length===0?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):c.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Link Users to Staff Members"}),l&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:l})}),s&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:s})}),t.length===0?c.jsx("p",{className:"text-gray-500",children:"All users are already linked to staff members."}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Link unlinked users to existing staff members to give them access to the system."}),c.jsx("div",{className:"space-y-3",children:t.map(p=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.name||p.email}),c.jsx("p",{className:"text-sm text-gray-500",children:p.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Role: ",p.role]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",onChange:m=>{m.target.value&&h(p.id,parseInt(m.target.value))},defaultValue:"",children:[c.jsx("option",{value:"",children:"Select staff member..."}),r.map(m=>c.jsxs("option",{value:m.id,children:[m.name," (",m.email,")"]},m.id))]})})]})},p.id))})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:f,disabled:i,className:"text-sm text-indigo-600 hover:text-indigo-500 disabled:opacity-50",children:i?"Loading...":"Refresh"})})]})}const ode=()=>{const{staffData:t,addStaffEntry:e,updateStaffEntry:r,deleteStaffEntry:n,loading:i,error:a,user:s}=Et(),[o,l]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(Jm()),[p,m]=N.useState([]),[g,v]=N.useState(!1),[x,y]=N.useState(null),[b,S]=N.useState(!1),w=()=>{d(null),h(Jm()),l(!0)},_=k=>{d(k),h({name:k.name||"",email:k.email||"",phone:k.phone||"",role:k.role||"Worker",status:k.status||"Active",hireDate:k.hireDate||"",notes:k.notes||"",store_id:k.store_id||null,payType:k.payType||"hourly",hourlyRate:k.hourlyRate||0,salaryAmount:k.salaryAmount||0,preferredHoursPerWeek:k.preferredHoursPerWeek||0,maxHoursPerWeek:k.maxHoursPerWeek||0}),l(!0)},E=async k=>{if(window.confirm("Are you sure you want to delete this staff member?")){const z=await n(k);z.success||alert(`Error deleting staff: ${z.error}`)}},j=k=>{y(k),v(!0)},A=async k=>{if(k.preventDefault(),!f.name||!f.email){alert("Name and email are required");return}const z=u?await r(u.id,f):await e(f);z.success?(l(!1),h(Jm())):alert(`Error ${u?"updating":"adding"} staff: ${z.error}`)};N.useEffect(()=>{(async()=>{try{const z=await le.getStores();z.success&&m(z.data)}catch(z){console.error("Error fetching stores:",z)}})()},[]);const C=(k,z)=>{h(V=>({...V,[k]:z}))},O=k=>{switch(k){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"On Leave":return"text-yellow-600 bg-yellow-100";case"Terminated":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},P=k=>{switch(k){case"Manager":return"text-blue-600 bg-blue-100";case"Worker":return"text-green-600 bg-green-100";case"Driver":return"text-purple-600 bg-purple-100";case"Sales":return"text-orange-600 bg-orange-100";case"Support":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a?c.jsxs("div",{className:"alert alert-error",children:[c.jsx(qU,{className:"w-5 h-5"}),c.jsxs("span",{children:["Error loading staff data: ",a]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Staff Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage your staff members and their roles"})]}),c.jsxs("div",{className:"flex space-x-2",children:[(s==null?void 0:s.role)==="admin"&&c.jsxs("button",{onClick:()=>S(!0),className:"btn-outline",children:[c.jsx(UU,{className:"w-4 h-4 mr-2"}),"Link Users"]}),c.jsxs("button",{onClick:w,className:"btn-primary",children:[c.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(kn,{className:"w-8 h-8 text-primary"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Total Staff"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ry,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Active"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(k=>k.status==="Active").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(kn,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Workers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(k=>k.role==="Worker").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(kn,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Managers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(k=>k.role==="Manager").length})]})]})})})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Contact"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Store"}),c.jsx("th",{children:"Hire Date"}),c.jsx("th",{children:"Pay Structure"}),c.jsx("th",{children:"Notes"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-secondary-500",children:c.jsx("p",{className:"text-gray-500 text-center",children:"No staff members found. Add your first staff member to get started."})})}):t.map(k=>{var z;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{children:c.jsx("div",{className:"font-medium text-secondary-900",children:k.name})})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[k.email&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(BU,{className:"w-3 h-3 mr-1"}),k.email]}),k.phone&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(zU,{className:"w-3 h-3 mr-1"}),k.phone]})]})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P(k.role)),children:k.role})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",O(k.status)),children:k.status})}),c.jsx("td",{children:k.store_id?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(yn,{className:"w-3 h-3 mr-1 text-blue-600"}),c.jsx("span",{children:((z=p.find(V=>V.id===k.store_id))==null?void 0:z.name)||"Unknown Store"})]}):c.jsx("span",{className:"text-secondary-400 text-sm",children:"Unassigned"})}),c.jsx("td",{children:k.hireDate?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Cr,{className:"w-3 h-3 mr-1"}),Io(k.hireDate)]}):c.jsx("span",{className:"text-secondary-400",children:"Not set"})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Vn,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"font-medium",children:k.payType==="hourly"?"Hourly":k.payType==="salary"?"Salary":k.payType==="salary+bonus"?"Salary+Bonus":k.payType})]}),k.payType==="hourly"&&k.hourlyRate>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",k.hourlyRate,"/hr"]}),(k.payType==="salary"||k.payType==="salary+bonus")&&k.salaryAmount>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",k.salaryAmount.toLocaleString(),"/year"]}),k.preferredHoursPerWeek>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:[k.preferredHoursPerWeek,"h preferred"]})]})}),c.jsx("td",{children:k.notes?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(ny,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"truncate max-w-32",title:k.notes,children:k.notes})]}):c.jsx("span",{className:"text-secondary-400",children:"No notes"})}),c.jsx("td",{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>_(k),className:"btn-icon btn-sm",title:"Edit",children:c.jsx(ls,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(k),className:"btn-icon btn-sm text-green-600 hover:text-green-700",title:"Manage Bonus Tiers",children:c.jsx(Hk,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>E(k.id),className:"btn-icon btn-sm text-red-600 hover:text-red-700",title:"Delete",children:c.jsx(ca,{className:"w-4 h-4"})})]})})]},k.id)})})]})})})}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:u?"Edit Staff Member":"Add Staff Member"}),c.jsx("button",{onClick:()=>l(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:f.name,onChange:k=>C("name",k.target.value),className:"input",placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:f.email,onChange:k=>C("email",k.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:f.phone,onChange:k=>C("phone",k.target.value),className:"input",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Role"}),c.jsx("select",{value:f.role,onChange:k=>C("role",k.target.value),className:"input",children:wU.map(k=>c.jsx("option",{value:k,children:k},k))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status"}),c.jsx("select",{value:f.status,onChange:k=>C("status",k.target.value),className:"input",children:SU.map(k=>c.jsx("option",{value:k,children:k},k))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hire Date"}),c.jsx("input",{type:"date",value:f.hireDate,onChange:k=>C("hireDate",k.target.value),className:"input"})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Pay Structure"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Pay Type"}),c.jsx("select",{value:f.payType,onChange:k=>C("payType",k.target.value),className:"input",children:_U.map(k=>c.jsx("option",{value:k,children:k==="hourly"?"Hourly":k==="salary"?"Salary":k==="salary+bonus"?"Salary + Bonus":k},k))})]}),f.payType==="hourly"&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hourly Rate ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.hourlyRate,onChange:k=>C("hourlyRate",parseFloat(k.target.value)||0),className:"input",placeholder:"0.00"})]}),(f.payType==="salary"||f.payType==="salary+bonus")&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Salary Amount ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.salaryAmount,onChange:k=>C("salaryAmount",parseFloat(k.target.value)||0),className:"input",placeholder:"0.00"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Preferred Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.preferredHoursPerWeek,onChange:k=>C("preferredHoursPerWeek",parseFloat(k.target.value)||0),className:"input",placeholder:"40"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Max Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.maxHoursPerWeek,onChange:k=>C("maxHoursPerWeek",parseFloat(k.target.value)||0),className:"input",placeholder:"40"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Assigned Store"}),c.jsxs("select",{value:f.store_id||"",onChange:k=>C("store_id",k.target.value?parseInt(k.target.value):null),className:"input",children:[c.jsx("option",{value:"",children:"No Store Assigned"}),p.map(k=>c.jsxs("option",{value:k.id,children:[k.name," (#",k.number,")"]},k.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Notes"}),c.jsx("textarea",{value:f.notes,onChange:k=>C("notes",k.target.value),className:"input",rows:"3",placeholder:"Additional notes about this staff member"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-outline",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",children:[u?"Update":"Add"," Staff Member"]})]})]})]})}),g&&x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Bonus Tiers Management - ",x.name]}),c.jsx("button",{onClick:()=>v(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsx(ade,{staffId:x.id,staffName:x.name,onSave:()=>{v(!1)}})]})}),b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Link Users to Staff Members"}),c.jsx("button",{onClick:()=>S(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsx(sde,{})]})})]})},WA=({task:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=h=>{switch(h){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=h=>h?cw(new Date(h),{addSuffix:!0}):"No due date",l=h=>{if(!h)return[];let p=[];return Array.isArray(h)?p=h:p=[h],p.map(m=>{const g=e.find(v=>v.id===m);return g?g.name:"Unknown User"})},u=h=>{switch(h){case"urgent":return c.jsx(An,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(An,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(An,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(An,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(An,{className:"w-3 h-3 text-gray-600"})}},d=l(t.assigned_to),f=d.length===0;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-1",children:f?c.jsxs(c.Fragment,{children:[c.jsx(Xa,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):d.length===1?c.jsxs(c.Fragment,{children:[c.jsx(Xa,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:d[0]})]}):c.jsxs(c.Fragment,{children:[c.jsx(kn,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 truncate",children:[d.length," assignees"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:t.title})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(t.priority)),children:t.priority}),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(t.status)),children:t.status.replace("_"," ")})]})]}),t.description&&c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),d.length>1&&c.jsx("div",{className:"mb-3",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((h,p)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h},p))})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[u(t.priority),c.jsx("span",{className:"capitalize",children:t.priority})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(oa,{className:"w-4 h-4"}),c.jsx("span",{children:o(t.due_date)})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>r(t),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(ls,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ca,{className:"w-4 h-4"})})]})]})]})},VA=({tasks:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=d=>{switch(d){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=d=>{switch(d){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>d?cw(new Date(d),{addSuffix:!0}):"No due date",l=d=>{if(!d)return[];let f=[];return Array.isArray(d)?f=d:f=[d],f.map(h=>{const p=e.find(m=>m.id===h);return p?p.name:"Unknown User"})},u=d=>{switch(d){case"urgent":return c.jsx(An,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(An,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(An,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(An,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(An,{className:"w-3 h-3 text-gray-600"})}};return t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})]}):c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignee(s)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>{const f=l(d.assigned_to),h=f.length===0;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xa,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):f.length===1?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xa,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:f[0]})]}):c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(kn,{className:"w-4 h-4 text-gray-500"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.length," assignees"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:f.map((p,m)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:p},m))})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:d.title}),d.description&&c.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:d.description})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[u(d.priority),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(d.priority)),children:d.priority})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(d.status)),children:d.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[c.jsx(oa,{className:"w-4 h-4"}),c.jsx("span",{children:o(d.due_date)})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[c.jsx("button",{onClick:()=>r(d),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(ls,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ca,{className:"w-4 h-4"})})]})})]},d.id)})})]})})})},lde=({task:t=null,users:e=[],onSubmit:r,onCancel:n})=>{const[i,a]=N.useState({title:"",description:"",assigned_to:[],priority:"normal",status:"pending",due_date:"",category:"general"}),[s,o]=N.useState([]);N.useEffect(()=>{if(t){let p=[];t.assigned_to&&(Array.isArray(t.assigned_to)?p=t.assigned_to:p=[t.assigned_to]),a({title:t.title||"",description:t.description||"",assigned_to:p,priority:t.priority||"normal",status:t.status||"pending",due_date:t.due_date?t.due_date.split("T")[0]:"",category:t.category||"general"}),o(p)}},[t]);const l=p=>{p.preventDefault(),r(i)},u=p=>{const{name:m,value:g}=p.target;a(v=>({...v,[m]:g}))},d=p=>{const m=parseInt(p.target.value);if(m&&!s.includes(m)){const g=[...s,m];o(g),a(v=>({...v,assigned_to:g}))}},f=p=>{const m=s.filter(g=>g!==p);o(m),a(g=>({...g,assigned_to:m}))},h=()=>s.map(p=>{const m=e.find(g=>g.id===p);return m?m.name:"Unknown User"});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Task":"Create New Task"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Nc,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",name:"title",value:i.title,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:i.description,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),s.length>0&&c.jsx("div",{className:"mb-2",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:h().map((p,m)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[c.jsx("span",{children:p}),c.jsx("button",{type:"button",onClick:()=>f(s[m]),className:"text-blue-600 hover:text-blue-800",children:c.jsx(Nc,{className:"w-3 h-3"})})]},s[m]))})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:"",onChange:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Add assignee..."}),e.filter(p=>!s.includes(p.id)).map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]}),c.jsx("div",{className:"text-gray-400",children:c.jsx(kn,{className:"w-5 h-5"})})]}),s.length===0&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for unassigned task"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),c.jsxs("select",{name:"priority",value:i.priority,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:i.status,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"date",name:"due_date",value:i.due_date,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{name:"category",value:i.category,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"sales",children:"Sales"}),c.jsx("option",{value:"venue",children:"Venue"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:t?"Update Task":"Create Task"})]})]})]})})},cde=()=>{const{loading:t,tasksData:e,staffData:r,currentUser:n,user:i,loadTasks:a,addTask:s,updateTask:o,deleteTask:l,setCurrentUser:u}=Et(),[d,f]=N.useState(!1),[h,p]=N.useState(null),[m,g]=N.useState("all"),[v,x]=N.useState("all"),[y,b]=N.useState("list");N.useEffect(()=>{i!=null&&i.staffMember&&!n?u(i.staffMember):r.length>0&&!n&&!(i!=null&&i.staffMember)&&u(r[0]),a()},[r,n,u,a,i]),N.useEffect(()=>{i!=null&&i.staffMember&&!n&&u(i.staffMember)},[i,n,u]);const S=async k=>{if(!n)return;const z={...k,assigned_by:n.id,assigned_to:k.assigned_to.length===0?null:k.assigned_to};(await s(z)).success&&f(!1)},w=async k=>{const z={...k,assigned_to:k.assigned_to.length===0?null:k.assigned_to};(await o(h.id,z)).success&&(f(!1),p(null))},_=async k=>{window.confirm("Are you sure you want to delete this task?")&&await l(k)},E=k=>{p(k),f(!0)},j=k=>{},C=(()=>{let k=e;return od(n)||(k=e.filter(z=>!z.assigned_to||Array.isArray(z.assigned_to)&&z.assigned_to.length===0?!0:Array.isArray(z.assigned_to)?z.assigned_to.includes(n==null?void 0:n.id):z.assigned_to===(n==null?void 0:n.id))),k.filter(z=>{const V=m==="all"||z.status===m,Y=v==="all"||z.priority===v;return V&&Y})})(),O=C.filter(k=>k.assigned_to?Array.isArray(k.assigned_to)?k.assigned_to.length===0:!1:!0),P=C.filter(k=>k.assigned_to?Array.isArray(k.assigned_to)?k.assigned_to.length>0:!0:!1);return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading tasks..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Task Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Create, assign, and track tasks for your staff"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx(la,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),c.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-secondary-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(IU,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),c.jsxs("select",{value:m,onChange:k=>g(k.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:v,onChange:k=>x(k.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Priorities"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>b("card"),className:`p-2 rounded-md transition-colors ${y==="card"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Card view",children:c.jsx(LU,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-md transition-colors ${y==="list"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"List view",children:c.jsx(FU,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ey,{className:"w-5 h-5 text-orange-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unassigned Tasks"}),c.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:O.length})]})}),c.jsx("div",{className:"p-6",children:O.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No unassigned tasks"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(k=>c.jsx(WA,{task:k,staffData:r,onEdit:E,onDelete:_,onViewComments:j},k.id))}):c.jsx(VA,{tasks:O,staffData:r,onEdit:E,onDelete:_,onViewComments:j})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xa,{className:"w-5 h-5 text-blue-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:od(n)?"All Assigned Tasks":"My Tasks"}),c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:P.length})]})}),c.jsx("div",{className:"p-6",children:P.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:od(n)?"No assigned tasks found":"No tasks assigned to you"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(k=>c.jsx(WA,{task:k,staffData:r,onEdit:E,onDelete:_,onViewComments:j},k.id))}):c.jsx(VA,{tasks:P,staffData:r,onEdit:E,onDelete:_,onViewComments:j})})]}),C.length===0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500",children:od(n)?"No tasks found. Create your first task!":"No tasks assigned to you. Contact your manager for new assignments."})]})]}),d&&c.jsx(lde,{task:h,users:r,onSubmit:h?w:S,onCancel:()=>{f(!1),p(null)}})]})})};var lm,xe,M2,R2,$o,Ca,GA,I2,$2,Oh={},L2=[],ude=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ii(t,e){for(var r in e)t[r]=e[r];return t}function U2(t){var e=t.parentNode;e&&e.removeChild(t)}function I(t,e,r){var n,i,a,s={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?lm.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return Gd(t,s,n,i,null)}function Gd(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++M2};return i==null&&xe.vnode!=null&&xe.vnode(a),a}function cr(){return{current:null}}function it(t){return t.children}function dde(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||Dh(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Dh(t,a,e[a],r[a],n)}function qA(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||ude.test(e)?r:r+"px"}function Dh(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||qA(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||qA(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?KA:YA,a):t.removeEventListener(e,a?KA:YA,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function YA(t){$o=!0;try{return this.l[t.type+!1](xe.event?xe.event(t):t)}finally{$o=!1}}function KA(t){$o=!0;try{return this.l[t.type+!0](xe.event?xe.event(t):t)}finally{$o=!1}}function Or(t,e){this.props=t,this.context=e}function uu(t,e){if(e==null)return t.__?uu(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?uu(t):null}function F2(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return F2(t)}}function fde(t){$o?setTimeout(t):I2(t)}function P0(t){(!t.__d&&(t.__d=!0)&&Ca.push(t)&&!Ph.__r++||GA!==xe.debounceRendering)&&((GA=xe.debounceRendering)||fde)(Ph)}function Ph(){var t,e,r,n,i,a,s,o;for(Ca.sort(function(l,u){return l.__v.__b-u.__v.__b});t=Ca.shift();)t.__d&&(e=Ca.length,n=void 0,i=void 0,s=(a=(r=t).__v).__e,(o=r.__P)&&(n=[],(i=Ii({},a)).__v=a.__v+1,uw(o,a,i,r.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,n,s??uu(a),a.__h),V2(n,a),a.__e!=s&&F2(a)),Ca.length>e&&Ca.sort(function(l,u){return l.__v.__b-u.__v.__b}));Ph.__r=0}function B2(t,e,r,n,i,a,s,o,l,u){var d,f,h,p,m,g,v,x=n&&n.__k||L2,y=x.length;for(r.__k=[],d=0;d<e.length;d++)if((p=r.__k[d]=(p=e[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Gd(null,p,null,null,p):Array.isArray(p)?Gd(it,{children:p},null,null,null):p.__b>0?Gd(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(h=x[d])===null||h&&p.key==h.key&&p.type===h.type)x[d]=void 0;else for(f=0;f<y;f++){if((h=x[f])&&p.key==h.key&&p.type===h.type){x[f]=void 0;break}h=null}uw(t,p,h=h||Oh,i,a,s,o,l,u),m=p.__e,(f=p.ref)&&h.ref!=f&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(f,p.__c||m,p)),m!=null?(g==null&&(g=m),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=H2(p,l,t):l=z2(t,p,h,x,m,l),typeof r.type=="function"&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=uu(h))}for(r.__e=g,d=y;d--;)x[d]!=null&&(typeof r.type=="function"&&x[d].__e!=null&&x[d].__e==r.__d&&(r.__d=W2(n).nextSibling),q2(x[d],x[d]));if(v)for(d=0;d<v.length;d++)G2(v[d],v[++d],v[++d])}function H2(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?H2(n,e,r):z2(r,n,n,i,n.__e,e));return e}function Mh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Mh(r,e)}):e.push(t)),e}function z2(t,e,r,n,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function W2(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=W2(r)))return n}return null}function uw(t,e,r,n,i,a,s,o,l){var u,d,f,h,p,m,g,v,x,y,b,S,w,_,E,j=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,o=e.__e=r.__e,e.__h=null,a=[o]),(u=xe.__b)&&u(e);try{e:if(typeof j=="function"){if(v=e.props,x=(u=j.contextType)&&n[u.__c],y=u?x?x.props.value:u.__:n,r.__c?g=(d=e.__c=r.__c).__=d.__E:("prototype"in j&&j.prototype.render?e.__c=d=new j(v,y):(e.__c=d=new Or(v,y),d.constructor=j,d.render=pde),x&&x.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),j.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Ii({},d.__s)),Ii(d.__s,j.getDerivedStateFromProps(v,d.__s))),h=d.props,p=d.state,d.__v=e,f)j.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(j.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,y),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(A){A&&(A.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,y),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=y,d.props=v,d.__P=t,S=xe.__r,w=0,"prototype"in j&&j.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[]}else do d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(n=Ii(Ii({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(h,p)),E=u!=null&&u.type===it&&u.key==null?u.props.children:u,B2(t,Array.isArray(E)?E:[E],e,r,n,i,a,s,o,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=hde(r.__e,e,r,n,i,a,s,l);(u=xe.diffed)&&u(e)}catch(A){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),xe.__e(A,e,r)}}function V2(t,e){xe.__c&&xe.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){xe.__e(n,r.__v)}})}function hde(t,e,r,n,i,a,s,o){var l,u,d,f=r.props,h=e.props,p=e.type,m=0;if(p==="svg"&&(i=!0),a!=null){for(;m<a.length;m++)if((l=a[m])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,a[m]=null;break}}if(t==null){if(p===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),a=null,o=!1}if(p===null)f===h||o&&t.data===h||(t.data=h);else{if(a=a&&lm.call(t.childNodes),u=(f=r.props||Oh).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(a!=null)for(f={},m=0;m<t.attributes.length;m++)f[t.attributes[m].name]=t.attributes[m].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(dde(t,h,f,i,o),d)e.__k=[];else if(m=e.props.children,B2(t,Array.isArray(m)?m:[m],e,r,n,i&&p!=="foreignObject",a,s,a?a[0]:r.__k&&uu(r,0),o),a!=null)for(m=a.length;m--;)a[m]!=null&&U2(a[m]);o||("value"in h&&(m=h.value)!==void 0&&(m!==t.value||p==="progress"&&!m||p==="option"&&m!==f.value)&&Dh(t,"value",m,f.value,!1),"checked"in h&&(m=h.checked)!==void 0&&m!==t.checked&&Dh(t,"checked",m,f.checked,!1))}return t}function G2(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){xe.__e(n,r)}}function q2(t,e,r){var n,i;if(xe.unmount&&xe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||G2(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){xe.__e(a,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&q2(n[i],e,r||typeof t.type!="function");r||t.__e==null||U2(t.__e),t.__=t.__e=t.__d=void 0}function pde(t,e,r){return this.constructor(t,r)}function du(t,e,r){var n,i,a;xe.__&&xe.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],uw(e,t=(!n&&r||e).__k=I(it,null,[t]),i||Oh,Oh,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?lm.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),V2(a,t)}function mde(t,e){var r={__c:e="__cC"+$2++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,P0(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}lm=L2.slice,xe={__e:function(t,e,r,n){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},M2=0,R2=function(t){return t!=null&&t.constructor===void 0},$o=!1,Or.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ii({},this.state),typeof t=="function"&&(t=t(Ii({},r),this.props)),t&&Ii(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),P0(this))},Or.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),P0(this))},Or.prototype.render=it,Ca=[],I2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ph.__r=0,$2=0;var En,Pg,XA,Y2=[],Mg=[],QA=xe.__b,ZA=xe.__r,JA=xe.diffed,eT=xe.__c,tT=xe.unmount;function gde(){for(var t;t=Y2.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(qd),t.__H.__h.forEach(M0),t.__H.__h=[]}catch(e){t.__H.__h=[],xe.__e(e,t.__v)}}xe.__b=function(t){En=null,QA&&QA(t)},xe.__r=function(t){ZA&&ZA(t);var e=(En=t.__c).__H;e&&(Pg===En?(e.__h=[],En.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Mg,r.__N=r.i=void 0})):(e.__h.forEach(qd),e.__h.forEach(M0),e.__h=[])),Pg=En},xe.diffed=function(t){JA&&JA(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Y2.push(e)!==1&&XA===xe.requestAnimationFrame||((XA=xe.requestAnimationFrame)||vde)(gde)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Mg&&(r.__=r.__V),r.i=void 0,r.__V=Mg})),Pg=En=null},xe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(qd),r.__h=r.__h.filter(function(n){return!n.__||M0(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],xe.__e(n,r.__v)}}),eT&&eT(t,e)},xe.unmount=function(t){tT&&tT(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{qd(n)}catch(i){e=i}}),r.__H=void 0,e&&xe.__e(e,r.__v))};var rT=typeof requestAnimationFrame=="function";function vde(t){var e,r=function(){clearTimeout(n),rT&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);rT&&(e=requestAnimationFrame(r))}function qd(t){var e=En,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),En=e}function M0(t){var e=En;t.__c=t.__(),En=e}function yde(t,e){for(var r in e)t[r]=e[r];return t}function nT(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function iT(t){this.props=t}(iT.prototype=new Or).isPureReactComponent=!0,iT.prototype.shouldComponentUpdate=function(t,e){return nT(this.props,t)||nT(this.state,e)};var aT=xe.__b;xe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),aT&&aT(t)};var xde=xe.__e;xe.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}xde(t,e,r,n)};var sT=xe.unmount;function K2(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=yde({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return K2(n,e,r)})),t}function X2(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return X2(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function Rg(){this.__u=0,this.t=null,this.__b=null}function Q2(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function _d(){this.u=null,this.o=null}xe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),sT&&sT(t)},(Rg.prototype=new Or).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=Q2(n.__v),a=!1,s=function(){a||(a=!0,r.__R=null,i?i(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=X2(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},Rg.prototype.componentWillUnmount=function(){this.t=[]},Rg.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=K2(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&I(it,null,t.fallback);return i&&(i.__h=null),[I(it,null,e.__a?null:t.children),i]};var oT=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function bde(t){return this.getChildContext=function(){return t.context},t.children}function wde(t){var e=this,r=t.i;e.componentWillUnmount=function(){du(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),du(I(bde,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Sde(t,e){var r=I(wde,{__v:t,i:e});return r.containerInfo=e,r}(_d.prototype=new Or).__a=function(t){var e=this,r=Q2(e.__v),n=e.o.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),oT(e,t,n)):i()};r?r(a):a()}},_d.prototype.render=function(t){this.u=null,this.o=new Map;var e=Mh(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},_d.prototype.componentDidUpdate=_d.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){oT(t,r,e)})};var _de=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ede=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,jde=typeof document<"u",Ade=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Or.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Or.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var lT=xe.event;function Tde(){}function Nde(){return this.cancelBubble}function Cde(){return this.defaultPrevented}xe.event=function(t){return lT&&(t=lT(t)),t.persist=Tde,t.isPropagationStopped=Nde,t.isDefaultPrevented=Cde,t.nativeEvent=t};var cT={configurable:!0,get:function(){return this.class}},uT=xe.vnode;xe.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in n={},r){var s=r[a];jde&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in r&&s==null||(a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!Ade(r.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&Ede.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Mh(r.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Mh(r.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),t.props=n,r.class!=r.className&&(cT.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",cT))}t.$$typeof=_de,uT&&uT(t)};var dT=xe.__r;xe.__r=function(t){dT&&dT(t),t.__c};const Z2=[],R0=new Map;function dw(t){Z2.push(t),R0.forEach(e=>{eM(e,t)})}function kde(t){t.isConnected&&t.getRootNode&&J2(t.getRootNode())}function J2(t){let e=R0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=Dde();r&&(e.nonce=r);const n=t===document?document.head:t,i=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,i)}R0.set(t,e),Ode(e)}}function Ode(t){for(const e of Z2)eM(t,e)}function eM(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&r.insertRule(i+"}",n+a)})}let Ig;function Dde(){return Ig===void 0&&(Ig=Pde()),Ig}function Pde(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&J2(document);var Mde=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';dw(Mde);class fw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function hw(t){t.parentNode&&t.parentNode.removeChild(t)}function nr(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Rde(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Rde(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Ide(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let i=0;i<r.length;i+=1){let a=r[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)n.push(a[s])}return n}const $de=/(top|left|right|bottom|width|height)$/i;function ac(t,e){for(let r in e)tM(t,r,e[r])}function tM(t,e,r){r==null?t.style[e]="":typeof r=="number"&&$de.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function rM(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let fT=0;function cm(){return fT+=1,"fc-dom-"+fT}function um(t){t.preventDefault()}function Lde(t,e){return r=>{let n=nr(r.target,t);n&&e.call(n,r,n)}}function nM(t,e,r,n){let i=Lde(r,n);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function Ude(t,e,r,n){let i;return nM(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,r(a,s);let o=l=>{i=null,n(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const hT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Fde(t,e){let r=n=>{e(n),hT.forEach(i=>{t.removeEventListener(i,r)})};hT.forEach(n=>{t.addEventListener(n,r)})}function iM(t){return Object.assign({onClick:t},aM(t))}function aM(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let pT=0;function ps(){return pT+=1,String(pT)}function pw(){document.body.classList.add("fc-not-allowed")}function mw(){document.body.classList.remove("fc-not-allowed")}function Bde(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",um)}function Hde(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",um)}function zde(t){t.addEventListener("contextmenu",um)}function Wde(t){t.removeEventListener("contextmenu",um)}function Vde(t){let e=[],r=[],n,i;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)i=r[n],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Gde(t,e,r){let n,i;for(n=0;n<r.length;n+=1)if(i=qde(t,e,r[n]),i)return i;return 0}function qde(t,e,r){return r.func?r.func(t,e):Yde(t[r.field],e[r.field])*(r.order||1)}function Yde(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function to(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function sc(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,i,a)=>n.replace("$"+a,i||""),t):r}function Kde(t,e){return t-e}function Yd(t){return t%1===0}function Xde(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const mT=["years","months","days","milliseconds"],Qde=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Me(t,e){return typeof t=="string"?Zde(t):typeof t=="object"&&t?gT(t):typeof t=="number"?gT({[e||"milliseconds"]:t}):null}function Zde(t){let e=Qde.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function gT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function Jde(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function I0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function efe(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function tfe(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function rfe(t){return ro(t)/365}function nfe(t){return ro(t)/30}function ro(t){return pn(t)/864e5}function pn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function gw(t,e){let r=null;for(let n=0;n<mT.length;n+=1){let i=mT[n];if(e[i]){let a=t[i]/e[i];if(!Yd(a)||r!==null&&r!==a)return null;r=a}else if(t[i])return null}return r}function $0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Ji(t,e,r){if(t===e)return!0;let n=t.length,i;if(n!==e.length)return!1;for(i=0;i<n;i+=1)if(!(r?r(t[i],e[i]):t[i]===e[i]))return!1;return!0}const ife=["sun","mon","tue","wed","thu","fri","sat"];function vT(t,e){let r=$i(t);return r[2]+=e*7,yr(r)}function ir(t,e){let r=$i(t);return r[2]+=e,yr(r)}function ea(t,e){let r=$i(t);return r[6]+=e,yr(r)}function afe(t,e){return ms(t,e)/7}function ms(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function sfe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function ofe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function lfe(t,e){return(e.valueOf()-t.valueOf())/1e3}function cfe(t,e){let r=at(t),n=at(e);return{years:0,months:0,days:Math.round(ms(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function ufe(t,e){let r=Rh(t,e);return r!==null&&r%7===0?r/7:null}function Rh(t,e){return Li(t)===Li(e)?Math.round(ms(t,e)):null}function at(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function dfe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function ffe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function hfe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function pfe(t,e,r){let n=t.getUTCFullYear(),i=$g(t,n,e,r);if(i<1)return $g(t,n-1,e,r);let a=$g(t,n+1,e,r);return a>=1?Math.min(i,a):i}function $g(t,e,r,n){let i=yr([e,0,1+mfe(e,r,n)]),a=at(t),s=Math.round(ms(i,a));return Math.floor(s/7)+1}function mfe(t,e,r){let n=7+e-r;return-((7+yr([t,0,n]).getUTCDay()-e)%7)+n-1}function yT(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function xT(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function $i(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function yr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function sM(t){return!isNaN(t.valueOf())}function Li(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function oM(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",yw(e,!0)))),n}function vw(t){return t.toISOString().replace(/T.*$/,"")}function gfe(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function vfe(t){return to(t.getUTCHours(),2)+":"+to(t.getUTCMinutes(),2)+":"+to(t.getUTCSeconds(),2)}function yw(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=Math.round(n%60);return e?`${r+to(i,2)}:${to(a,2)}`:`GMT${r}${i}${a?`:${to(a,2)}`:""}`}function be(t,e,r){let n,i;return function(...a){if(!n)i=t.apply(this,a);else if(!Ji(n,a)){r&&r(i);let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}function Kd(t,e,r){let n,i;return a=>{if(!n)i=t.call(this,a);else if(!xn(n,a)){r&&r(i);let s=t.call(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}const Lg={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Ih={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ed=/\s*([ap])\.?m\.?/i,yfe=/,/g,xfe=/\s+/g,bfe=/\u200e/g,wfe=/UTC|GMT/;class Sfe{constructor(e){let r={},n={},i=9;for(let a in e)a in Lg?(n[a]=e[a],Lg[a]<9&&(i=Math.min(Lg[a],i))):(r[a]=e[a],a in Ih&&(i=Math.min(Ih[a],i)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=i,this.buildFormattingFunc=be(bT)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,i){let{standardDateProps:a,extendedSettings:s}=this,o=Nfe(e.marker,r.marker,n.calendarSystem);if(!o)return this.format(e,n);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=Cfe(a,l),h=bT(f,s,n),p=h(e),m=h(r),g=kfe(u,p,d,m),v=s.separator||i||n.defaultSeparator||"";return g?g.before+p+v+m+g.after:u+v+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function bT(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?i=>yw(i.timeZoneOffset):n===0&&e.week?i=>Tfe(r.computeWeekNumber(i.marker),r.weekText,r.weekTextLong,r.locale,e.week):_fe(t,e,r)}function _fe(t,e,r){t=Object.assign({},t),e=Object.assign({},e),Efe(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(r.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=n;let l=o.format(s);return jfe(l,a,t,e,r)}}function Efe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function jfe(t,e,r,n,i){return t=t.replace(bfe,""),r.timeZoneName==="short"&&(t=Afe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":yw(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(yfe,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(Ed,"").trim():n.meridiem==="narrow"?t=t.replace(Ed,(a,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(Ed,(a,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(Ed,a=>a.toLocaleLowerCase())),t=t.replace(xfe," "),t=t.trim(),t}function Afe(t,e){let r=!1;return t=t.replace(wfe,()=>(r=!0,e)),r||(t+=` ${e}`),t}function Tfe(t,e,r,n,i){let a=[];return i==="long"?a.push(r):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function Nfe(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:Li(t)!==Li(e)?1:0}function Cfe(t,e){let r={};for(let n in t)(!(n in Ih)||Ih[n]<=e)&&(r[n]=t[n]);return r}function kfe(t,e,r,n){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<r.length;){let u=r.indexOf(n,l);if(u===-1)break;let d=r.substr(0,u);l=u+n.length;let f=r.substr(l);if(s===d&&o===f)return{before:s,after:o}}}return null}function wT(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function $h(t,e,r,n){let i=wT(t,r.calendarSystem),a=e?wT(e,r.calendarSystem):null;return{date:i,start:i,end:a,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class Ofe{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,$h(e,null,r,n))}formatRange(e,r,n,i){return n.cmdFormatter(this.cmdStr,$h(e,r,n,i))}}class Dfe{constructor(e){this.func=e}format(e,r,n){return this.func($h(e,null,r,n))}formatRange(e,r,n,i){return this.func($h(e,r,n,i))}}function mt(t){return typeof t=="object"&&t?new Sfe(t):typeof t=="string"?new Ofe(t):typeof t=="function"?new Dfe(t):null}const ST={navLinkDayClick:Q,navLinkWeekClick:Q,duration:Me,bootstrapFontAwesome:Q,buttonIcons:Q,customButtons:Q,defaultAllDayEventDuration:Me,defaultTimedEventDuration:Me,nextDayThreshold:Me,scrollTime:Me,scrollTimeReset:Boolean,slotMinTime:Me,slotMaxTime:Me,dayPopoverFormat:mt,slotDuration:Me,snapDuration:Me,headerToolbar:Q,footerToolbar:Q,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:mt,dayHeaderClassNames:Q,dayHeaderContent:Q,dayHeaderDidMount:Q,dayHeaderWillUnmount:Q,dayCellClassNames:Q,dayCellContent:Q,dayCellDidMount:Q,dayCellWillUnmount:Q,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Q,weekNumbers:Boolean,weekNumberClassNames:Q,weekNumberContent:Q,weekNumberDidMount:Q,weekNumberWillUnmount:Q,editable:Boolean,viewClassNames:Q,viewDidMount:Q,viewWillUnmount:Q,nowIndicator:Boolean,nowIndicatorClassNames:Q,nowIndicatorContent:Q,nowIndicatorDidMount:Q,nowIndicatorWillUnmount:Q,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Q,locale:Q,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Q,eventOrder:Vde,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Q,contentHeight:Q,direction:String,weekNumberFormat:mt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Q,initialDate:Q,now:Q,eventDataTransform:Q,stickyHeaderDates:Q,stickyFooterScrollbar:Q,viewHeight:Q,defaultAllDay:Boolean,eventSourceFailure:Q,eventSourceSuccess:Q,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Q,eventConstraint:Q,eventAllow:Q,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Q,eventContent:Q,eventDidMount:Q,eventWillUnmount:Q,selectConstraint:Q,selectOverlap:Q,selectAllow:Q,droppable:Boolean,unselectCancel:String,slotLabelFormat:Q,slotLaneClassNames:Q,slotLaneContent:Q,slotLaneDidMount:Q,slotLaneWillUnmount:Q,slotLabelClassNames:Q,slotLabelContent:Q,slotLabelDidMount:Q,slotLabelWillUnmount:Q,dayMaxEvents:Q,dayMaxEventRows:Q,dayMinWidth:Number,slotLabelInterval:Me,allDayText:String,allDayClassNames:Q,allDayContent:Q,allDayDidMount:Q,allDayWillUnmount:Q,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:mt,rerenderDelay:Number,moreLinkText:Q,moreLinkHint:Q,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Q,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Me,hiddenDays:Q,fixedWeekCount:Boolean,validRange:Q,visibleRange:Q,titleFormat:Q,eventInteractive:Boolean,noEventsText:String,viewHint:Q,navLinkHint:Q,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Q,moreLinkClassNames:Q,moreLinkContent:Q,moreLinkDidMount:Q,moreLinkWillUnmount:Q,monthStartFormat:mt,handleCustomRendering:Q,customRenderingMetaMap:Q,customRenderingReplaces:Boolean},oc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},_T={datesSet:Q,eventsSet:Q,eventAdd:Q,eventChange:Q,eventRemove:Q,windowResize:Q,eventClick:Q,eventMouseEnter:Q,eventMouseLeave:Q,select:Q,unselect:Q,loading:Q,_unmount:Q,_beforeprint:Q,_afterprint:Q,_noEventDrop:Q,_noEventResize:Q,_resize:Q,_scrollRequest:Q},ET={buttonText:Q,buttonHints:Q,views:Q,plugins:Q,initialEvents:Q,events:Q,eventSources:Q},Aa={headerToolbar:Ta,footerToolbar:Ta,buttonText:Ta,buttonHints:Ta,buttonIcons:Ta,dateIncrement:Ta,plugins:jd,events:jd,eventSources:jd,resources:jd};function Ta(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?xn(t,e):t===e}function jd(t,e){return Array.isArray(t)&&Array.isArray(e)?Ji(t,e):t===e}const Pfe={type:String,component:Q,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Q,usesMinMaxTime:Boolean,classNames:Q,content:Q,didMount:Q,willUnmount:Q};function Ug(t){return bw(t,Aa)}function xw(t,e){let r={},n={};for(let i in e)i in t&&(r[i]=e[i](t[i]));for(let i in t)i in e||(n[i]=t[i]);return{refined:r,extra:n}}function Q(t){return t}const{hasOwnProperty:Lh}=Object.prototype;function bw(t,e){let r={};if(e){for(let n in e)if(e[n]===Ta){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][n];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){r[n]=s;break}}i.length&&(r[n]=bw(i))}}for(let n=t.length-1;n>=0;n-=1){let i=t[n];for(let a in i)a in r||(r[a]=i[a])}return r}function rs(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function di(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function lM(t){let e={};for(let r of t)e[r]=!0;return e}function ww(t){let e=[];for(let r in t)e.push(t[r]);return e}function xn(t,e){if(t===e)return!0;for(let r in t)if(Lh.call(t,r)&&!(r in e))return!1;for(let r in e)if(Lh.call(e,r)&&t[r]!==e[r])return!1;return!0}const Mfe=/^on[A-Z]/;function Rfe(t,e){const r=Ife(t,e);for(let n of r)if(!Mfe.test(n))return!1;return!0}function Ife(t,e){let r=[];for(let n in t)Lh.call(t,n)&&(n in e||r.push(n));for(let n in e)Lh.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function Fg(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&$fe(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function $fe(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function Lfe(t,e=0,r,n=1){let i=[];r==null&&(r=Object.keys(t).length);for(let a=e;a<r;a+=n){let s=t[a];s!==void 0&&i.push(s)}return i}let cM={};function Ufe(t,e){cM[t]=e}function Ffe(t){return new cM[t]}class Bfe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return yr(e)}markerToArray(e){return $i(e)}}Ufe("gregory",Bfe);const Hfe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function zfe(t){let e=Hfe.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(sM(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class Wfe{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=Ffe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):yr(yT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=yr(e)),r===null||!sM(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=zfe(e);if(r===null)return null;let{marker:n}=r,i=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):i=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return Li(e)===Li(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return Li(e)===Li(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=ufe(e,r),n!==null?{unit:"week",value:n}:(n=Rh(e,r),n!==null?{unit:"day",value:n}:(n=sfe(e,r),Yd(n)?{unit:"hour",value:n}:(n=ofe(e,r),Yd(n)?{unit:"minute",value:n}:(n=lfe(e,r),Yd(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let i;return n.years&&(i=this.diffWholeYears(e,r),i!==null)?i/rfe(n):n.months&&(i=this.diffWholeMonths(e,r),i!==null)?i/nfe(n):n.days&&(i=Rh(e,r),i!==null)?i/ro(n):(r.valueOf()-e.valueOf())/pn(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?at(e):r==="hour"?dfe(e):r==="minute"?ffe(e):r==="second"?hfe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):pfe(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,i={}){return i.isEndExclusive&&(r=ea(r,-1)),n.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(r)},this,i.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),oM(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?yr(yT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):yr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-xT($i(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray($i(e)):null}toDate(e,r){return this.timeZone==="local"?xT($i(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray($i(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class Pu{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}Pu.prototype.classes={};Pu.prototype.iconClasses={};Pu.prototype.baseIconClass="";Pu.prototype.iconOverridePrefix="";function Uh(t){t();let e=xe.debounceRendering,r=[];function n(i){r.push(i)}for(xe.debounceRendering=n,du(I(Vfe,{}),document.createElement("div"));r.length;)r.shift()();xe.debounceRendering=e}class Vfe extends Or{render(){return I("div",{})}componentDidMount(){this.setState({})}}function uM(t){let e=mde(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,i=r.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class Gfe{constructor(e,r,n,i){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const gi=uM({});function qfe(t,e,r,n,i,a,s,o,l,u,d,f,h,p){return{dateEnv:i,nowManager:a,options:r,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(m){d.on("_resize",m)},removeResizeHandler(m){d.off("_resize",m)},createScrollResponder(m){return new Gfe(m,d,Me(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class gs extends Or{shouldComponentUpdate(e,r){return!Fg(this.props,e,this.propEquality)||!Fg(this.state,r,this.stateEquality)}safeSetState(e){Fg(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}gs.addPropsEquality=Yfe;gs.addStateEquality=Kfe;gs.contextType=gi;gs.prototype.propEquality={};gs.prototype.stateEquality={};class ze extends gs{}ze.contextType=gi;function Yfe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Kfe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Rn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Sw extends ze{constructor(){super(...arguments),this.id=ps(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!L0(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Rn(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=dM(e,[],this.handleEl);let l=!1,u,d=[],f;if(i!=null){const h=typeof i=="function"?i(s,I):i;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(p?R2(h):typeof h!="function")?u=h:f=h}}else l=!L0(e.generatorName,n);return l&&a&&(u=a(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,I(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(Xfe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!Ji(e,r)){r.forEach(hw);for(let i of e)n.appendChild(i);this.currentDomNodes=e}}}Sw.addPropsEquality({elClasses:Ji,elStyle:xn,elAttrs:Rfe,renderProps:xn});function L0(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function dM(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function Xfe(t){return!!t}const fM=uM(0);class $r extends Or{constructor(){super(...arguments),this.InnerContent=Qfe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Rn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=Zfe(e.classNameGenerator,e.renderProps);if(e.children){const n=dM(e,r,this.handleEl),i=e.children(this.InnerContent,e.renderProps,n);return e.elTag?I(e.elTag,n,i):i}else return I(Sw,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}$r.contextType=fM;function Qfe(t,e){const r=t.props;return I(Sw,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function Zfe(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class Fh extends ze{render(){let{props:e,context:r}=this,{options:n}=r,i={view:r.viewApi};return I($r,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...hM(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function hM(t){return[`fc-${t.type}-view`,"fc-view"]}function Jfe(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function jT(t,e){let r=[],{start:n}=e,i,a;for(t.sort(ehe),i=0;i<t.length;i+=1)a=t[i],a.start>n&&r.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<e.end&&r.push({start:n,end:e.end}),r}function ehe(t,e){return t.start.valueOf()-e.start.valueOf()}function ns(t,e){let{start:r,end:n}=t,i=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(i={start:r,end:n}),i}function the(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function _w(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function dm(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function ni(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function rhe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function pM(t){let e=Math.floor(ms(t.start,t.end))||1,r=at(t.start),n=ir(r,e);return{start:r,end:n}}function mM(t,e=Me(0)){let r=null,n=null;if(t.end){n=at(t.end);let i=t.end.valueOf()-n.valueOf();i&&i>=pn(e)&&(n=ir(n,1))}return t.start&&(r=at(t.start),n&&n<=r&&(n=ir(r,1))),{start:r,end:n}}function Vs(t,e,r,n){return n==="year"?Me(r.diffWholeYears(t,e),"year"):n==="month"?Me(r.diffWholeMonths(t,e),"month"):cfe(t,e)}class gM{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,r,n){let{dateEnv:i}=this.props,a=i.add(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,r,n=!0){let{props:i}=this,a,s,o,l,u,d;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(e=rhe(e,a)),s=this.buildCurrentRangeInfo(e,r),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=ns(u,s.range)),u=this.adjustActiveRange(u),u=ns(u,a),d=_w(s.range,a),ni(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,i=null,a=null,s=null,o;return n.duration?(i=n.duration,a=n.durationUnit,s=this.buildRangeFromDuration(e,r,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,r,o)):(s=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=$0(i).unit,s=this.buildRangeFromDuration(e,r,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Me({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return n&&(ro(i)<0&&(s=at(s),s=r.add(s,i)),ro(a)>1&&(o=at(o),o=ir(o,-1),o=r.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,r,n,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:f}=this.props;f&&pn(f)<pn(n)?s=$0(f).unit:s=i}ro(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,r),o=at(o));function d(){o=a.startOf(e,s),l=a.add(o,n),u={start:o,end:l}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=at(o),o=this.skipHiddenDays(o,r),l=o;do l=ir(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,i=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Me(1,n):e||Me({days:1}))}refineRange(e){if(e){let r=Jfe(e,this.props.dateEnv);return r&&(r=mM(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(r[i]=e.indexOf(i)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=ir(e,r);return e}}function Ew(t,e,r,n){return{instanceId:ps(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function nhe(t,e,r,n){for(let i=0;i<n.length;i+=1){let a=n[i].parse(t,r);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function is(t,e,r){let{dateEnv:n,pluginHooks:i,options:a}=r,{defs:s,instances:o}=t;o=rs(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let f=ihe(u,d,e,n,i.recurringTypes);for(let h of f){let p=Ew(l,{start:h,end:n.add(h,d)});o[p.instanceId]=p}}}return{defs:s,instances:o}}function ihe(t,e,r,n,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(at)),s}const Xd={id:String,groupId:String,title:String,url:String,interactive:Boolean},vM={start:Q,end:Q,date:Q,allDay:Boolean},ahe=Object.assign(Object.assign(Object.assign({},Xd),vM),{extendedProps:Q});function yM(t,e,r,n,i=jw(r),a,s){let{refined:o,extra:l}=xM(t,r,i),u=ohe(e,r),d=nhe(o,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=U0(o,l,e?e.sourceId:"",d.allDay,!!d.duration,r,a);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=she(o,u,r,n);if(f){let h=U0(o,l,e?e.sourceId:"",f.allDay,f.hasEnd,r,a),p=Ew(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(p.instanceId=s[h.publicId]),{def:h,instance:p}}return null}function xM(t,e,r=jw(e)){return xw(t,r)}function jw(t){return Object.assign(Object.assign(Object.assign({},Bh),ahe),t.pluginHooks.eventRefiners)}function U0(t,e,r,n,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||ps(),sourceId:r,allDay:n,hasEnd:i,interactive:t.interactive,ui:Hh(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function she(t,e,r,n){let{allDay:i}=t,a,s=null,o=!1,l,u=null,d=t.start!=null?t.start:t.date;if(a=r.dateEnv.createMarkerMeta(d),a)s=a.marker;else if(!n)return null;return t.end!=null&&(l=r.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=at(s)),l&&(u=l.marker,i&&(u=at(u)),s&&u<=s&&(u=null)),u?o=!0:n||(o=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,i?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function ohe(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function fu(t,e,r,n,i,a){let s=Dr(),o=jw(r);for(let l of t){let u=yM(l,e,r,n,o,i,a);u&&F0(u,s)}return s}function F0(t,e=Dr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Aw(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],i=fm(t,a=>lhe(n,a));return i.defs[n.defId]=n,i.instances[r.instanceId]=r,i}return Dr()}function lhe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Dr(){return{defs:{},instances:{}}}function Tw(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function fm(t,e){let r=rs(t.defs,e),n=rs(t.instances,i=>r[i.defId]);return{defs:r,instances:n}}function che(t,e){let{defs:r,instances:n}=t,i={},a={};for(let s in r)e.defs[s]||(i[s]=r[s]);for(let s in n)!e.instances[s]&&i[n[s].defId]&&(a[s]=n[s]);return{defs:i,instances:a}}function uhe(t,e){return Array.isArray(t)?fu(t,null,e,!0):typeof t=="object"&&t?fu([t],null,e,!0):t!=null?String(t):null}function AT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Bh={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Q,overlap:Q,allow:Q,className:AT,classNames:AT,color:String,backgroundColor:String,borderColor:String,textColor:String},dhe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Hh(t,e){let r=uhe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function bM(t){return t.reduce(fhe,dhe)}function fhe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const hhe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Q,eventDataTransform:Q,success:Q,failure:Q};function wM(t,e,r=SM(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:i,extra:a}=xw(n,r),s=phe(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ps(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Hh(i,e),extendedProps:a}}return null}function SM(t){return Object.assign(Object.assign(Object.assign({},Bh),hhe),t.pluginHooks.eventSourceRefiners)}function phe(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let a=r[n].parseMeta(t);if(a)return{sourceDefId:n,meta:a}}return null}function mhe(t,e,r,n,i){switch(e.type){case"RECEIVE_EVENTS":return ghe(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return vhe(t,r[e.sourceId],e.rawEvents,n.activeRange,i);case"ADD_EVENTS":return yhe(t,e.eventStore,n?n.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Tw(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?is(t,n.activeRange,i):t;case"REMOVE_EVENTS":return che(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return EM(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return fm(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Dr();default:return t}}function ghe(t,e,r,n,i,a){if(e&&r===e.latestFetchId){let s=fu(_M(i,e,a),e,a);return n&&(s=is(s,n,a)),Tw(EM(t,e.sourceId),s)}return t}function vhe(t,e,r,n,i){const{defIdMap:a,instanceIdMap:s}=bhe(t);let o=fu(_M(r,e,i),e,i,!1,a,s);return is(o,n,i)}function _M(t,e,r){let n=r.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=TT(t,i)),n&&(t=TT(t,n)),t}function TT(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let i=e(n);i?r.push(i):i==null&&r.push(n)}}return r}function yhe(t,e,r,n){return r&&(e=is(e,r,n)),Tw(t,e)}function NT(t,e,r){let{defs:n}=t,i=di(t.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:r.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:r.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:i}}function EM(t,e){return fm(t,r=>r.sourceId!==e)}function xhe(t,e){return{defs:t.defs,instances:rs(t.instances,r=>!e[r.instanceId])}}function bhe(t){const{defs:e,instances:r}=t,n={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(n[o]=a)}for(let a in r){const s=r[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:n,instanceIdMap:i}}class hm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){whe(this.handlers,e,r)}off(e,r){She(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],n);for(let s of a)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function whe(t,e,r){(t[e]||(t[e]=[])).push(r)}function She(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const _he={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Ehe(t,e){return fu(jhe(t),null,e)}function jhe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},_he),r)),e}function jM(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},Nw(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function Ahe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Nw(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,Fhe(t,e.dateEnv)),r}function CT(t,e,r){let{dateEnv:n,options:i}=r,a=e;return t?(a=at(a),a=n.add(a,i.defaultAllDayEventDuration)):a=n.add(a,i.defaultTimedEventDuration),a}function Cw(t,e,r,n){let i=zh(t.defs,e),a=Dr();for(let s in t.defs){let o=t.defs[s];a.defs[s]=The(o,i[s],r,n)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=Nhe(o,l,i[o.defId],r,n)}return a}function The(t,e,r,n){let i=r.standardProps||{};i.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});r.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(a,r,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function Nhe(t,e,r,n,i){let{dateEnv:a}=i,s=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=pM(l.range)),n.datesDelta&&r.startEditable&&(l.range={start:a.add(l.range.start,n.datesDelta),end:a.add(l.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(l.range={start:a.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&r.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,n.endDelta)}),o&&(l.range={start:l.range.start,end:CT(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:at(l.range.start),end:at(l.range.end)}),l.range.end<l.range.start&&(l.range.end=CT(e.allDay,l.range.start,i)),l}class Cs{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ht{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in vM)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=Xd[e](r),this.mutate({standardProps:{publicId:r}});else if(e in Xd)r=Xd[e](r),this.mutate({standardProps:{[e]:r}});else if(e in Bh){let n=Bh[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,i=n.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=Vs(a.start,i,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,i;if(!(e!=null&&(i=n.createMarker(e),!i))&&this._instance)if(i){let a=Vs(this._instance.range.end,i,n,r.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:i}=this._context,a={allDay:n.allDay},s=i.createMarker(e),o;if(s&&!(r!=null&&(o=i.createMarker(r),!o))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=pM(l));let u=Vs(l.start,s,i,n.granularity);if(o){let d=Vs(l.end,o,i,n.granularity);Jde(u,d)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let r=Me(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Me(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Me(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:i}=r;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,i=mt(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=Aw(a,r.instanceId);s=Cw(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new ht(i,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:za(s,i,r),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,r=AM(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Cs(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:i,endStr:a}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),i&&(s.start=i),a&&(s.end=a),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function AM(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function za(t,e,r){let{defs:n,instances:i}=t,a=[],s=r?r.instanceId:"";for(let o in i){let l=i[o],u=n[l.defId];l.instanceId!==s&&a.push(new ht(e,u,l))}return a}function kT(t,e,r,n){let i={},a={},s={},o=[],l=[],u=zh(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):a[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],p=u[h.defId],m=f.range,g=!h.allDay&&n?mM(m,n):m,v=ns(g,r);v&&(p.display==="inverse-background"?h.groupId?i[h.groupId].push(v):a[f.defId].push(v):p.display!=="none"&&(p.display==="background"?o:l).push({def:h,ui:p,instance:f,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let d in i){let f=i[d],h=jT(f,r);for(let p of h){let m=s[d],g=u[m.defId];o.push({def:m,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in a){let f=a[d],h=jT(f,r);for(let p of h)o.push({def:t.defs[d],ui:u[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function Che(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function OT(t,e){t.fcSeg=e}function Lo(t){return t.fcSeg||t.parentNode.fcSeg||null}function zh(t,e){return di(t,r=>TM(r,e))}function TM(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),bM(r)}function NM(t,e){let r=t.map(khe);return r.sort((n,i)=>Gde(n,i,e)),r.map(n=>n._seg)}function khe(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,i=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:i,end:a,duration:a-i,allDay:Number(r.allDay),_seg:t})}function Ohe(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of n)s=o(s,i,a,e);return s}function Dhe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Phe(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function CM(t,e,r,n,i,a,s){let{dateEnv:o,options:l}=r,{displayEventTime:u,displayEventEnd:d}=l,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=i!==!1);let p=h.range.start,m=h.range.end,g=a||t.start||t.eventRange.range.start,v=s||t.end||t.eventRange.range.end,x=at(p).valueOf()===at(g).valueOf(),y=at(ea(m,-1)).valueOf()===at(ea(v,-1)).valueOf();return u&&!f.allDay&&(x||y)?(g=x?p:g,v=y?m:v,d&&f.hasEnd?o.formatRange(g,v,e,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(g,e,{forcedTzo:a?null:h.forcedStartTzo})):""}function Xi(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&ni(e,n.start)}}function Mhe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function kM(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function OM(t,e){let{def:r,instance:n}=t.eventRange,{url:i}=r;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=r.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?aM(l=>{a.trigger("eventClick",{el:l.target,event:new ht(e,r,n),jsEvent:l,view:e.viewApi})}):{}}const Rhe={start:Q,end:Q,allDay:Boolean};function Ihe(t,e,r){let n=$he(t,e),{range:i}=n;if(!i.start)return null;if(!i.end){if(r==null)return null;i.end=e.add(i.start,r)}return n}function $he(t,e){let{refined:r,extra:n}=xw(t,Rhe),i=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},n)}function Lhe(t,e){return the(t.range,e.range)&&t.allDay===e.allDay&&Uhe(t,e)}function Uhe(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function Fhe(t,e){return Object.assign(Object.assign({},PM(t.range,e,t.allDay)),{allDay:t.allDay})}function DM(t,e,r){return Object.assign(Object.assign({},PM(t,e,r)),{timeZone:e.timeZone})}function PM(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function Bhe(t,e,r){let n=xM({editable:!1},r),i=U0(n.refined,n.extra,"",t.allDay,!0,r);return{def:i,ui:TM(i,e),instance:Ew(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Hhe(t,e,r){let n=!1,i=function(o){n||(n=!0,e(o))},a=function(o){n||(n=!0,r(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class DT extends Error{constructor(e,r){super(e),this.response=r}}function zhe(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new DT("Failure parsing JSON",i)});throw new DT("Request failed",i)})}let Bg;function MM(){return Bg==null&&(Bg=Whe()),Bg}function Whe(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class Vhe extends ze{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Uh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Uh(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,i=n||r.height==="auto"||r.contentHeight==="auto",a=!i&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return MM()||s.push("fc-liquid-hack"),e.children(s,a,i,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class sl{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Ghe(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function kw(t){return{[t.component.uid]:t}}const B0={};class ol extends Or{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),i=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(i,Me(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:i,todayRange:qhe(i)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}ol.contextType=gi;function qhe(t){let e=at(t),r=ir(e,1);return{start:e,end:r}}class Yhe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),i;r=r||"day",i=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),i=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,s;for(let o in r)i.push(o);for(a=0;a<i.length;a+=1)if(s=r[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Me(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),mt(r))}formatRange(e,r,n){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(r),mt(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let i=this.getCurrentData(),a=Ihe(n,i.dateEnv,Me({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),jM(a,null,i))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Ahe(e,r))}addEvent(e,r){if(e instanceof ht){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:F0({def:s,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),i;if(r instanceof Cs)i=r.internalEventSource;else if(typeof r=="boolean")r&&([i]=ww(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;i=s.internalEventSource}let a=yM(e,i,n,!1);if(a){let s=new ht(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:F0(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:AM(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:i}=r.eventStore;e=String(e);for(let a in n){let s=n[a];if(s.publicId===e){if(s.recurringDef)return new ht(r,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new ht(r,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return za(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let i in r)n.push(new Cs(e,r[i]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let i in n)if(n[i].publicId===e)return new Cs(r,n[i]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Cs)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=wM(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Cs(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Me(e);r&&this.trigger("_scrollRequest",{time:r})}}function Khe(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function RM(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function Xhe(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Qhe(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Zhe(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Hg=Dr();class Jhe{constructor(){this.getKeysForEventDefs=be(this._getKeysForEventDefs),this.splitDateSelection=be(this._splitDateSpan),this.splitEventStore=be(this._splitEventStore),this.splitIndividualUi=be(this._splitIndividualUi),this.splitEventDrag=be(this._splitInteraction),this.splitEventResize=be(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=di(r,(d,f)=>this.eventUiBuilders[f]||be(epe));for(let d in r){let f=r[d],h=s[d]||Hg,p=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],f.ui,a[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:l[d]||null}}return u}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let i of n)r[i]=e}return r}_getKeysForEventDefs(e){return di(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:i}=e,a={};for(let s in n)for(let o of r[s])a[o]||(a[o]=Dr()),a[o].defs[s]=n[s];for(let s in i){let o=i[s];for(let l of r[o.defId])a[l]&&(a[l].instances[s]=o)}return a}_splitIndividualUi(e,r){let n={};for(let i in e)if(i)for(let a of r[i])n[a]||(n[a]={}),n[a][i]=e[i];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),s=o=>{r[o]||(r[o]={affectedEvents:n[o]||Hg,mutatedEvents:a[o]||Hg,isEvent:e.isEvent})};for(let o in n)s(o);for(let o in a)s(o)}return r}}function epe(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let i={"":bM(n)};return r&&Object.assign(i,r),i}function IM(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!ni(n.activeRange,t))),isOther:!!(n&&!ni(n.currentRange,t)),isToday:!!(e&&ni(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function Ow(t,e){let r=["fc-day",`fc-day-${ife[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const tpe=mt({year:"numeric",month:"long",day:"numeric"}),rpe=mt({week:"long"});function Wh(t,e,r="day",n=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,r==="week"?rpe:tpe);if(a.navLinks){let l=i.toDate(e);const u=d=>{let f=r==="day"?a.navLinkDayClick:r==="week"?a.navLinkWeekClick:null;typeof f=="function"?f.call(s,i.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:sc(a.navLinkHint,[o,l],o),"data-navlink":""},n?iM(u):{onClick:u})}return{"aria-label":o}}let zg=null;function npe(){return zg===null&&(zg=ipe()),zg}function ipe(){let t=document.createElement("div");ac(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return hw(t),r}let Wg;function ape(){return Wg||(Wg=spe()),Wg}function spe(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=$M(t);return document.body.removeChild(t),e}function $M(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function ope(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,i=parseInt(r.borderRightWidth,10)||0,a=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,o=$M(t),l=o.y-n-i,u=o.x-a-s,d={borderLeft:n,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return npe()&&r.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function lpe(t,e=!1,r){let n=r?t.getBoundingClientRect():Dw(t),i=ope(t,e),a={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function Dw(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function cpe(t){let e=LM(t),r=t.getBoundingClientRect();for(let n of e){let i=RM(r,n.getBoundingClientRect());if(i)r=i;else return null}return r}function LM(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class Uo{constructor(e,r,n,i){this.els=r;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.left-e),n.push(a.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.top-e),n.push(a.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}topToIndex(e){let{tops:r,bottoms:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Ad(this.tops||[],e.tops||[])&&Ad(this.bottoms||[],e.bottoms||[])&&Ad(this.lefts||[],e.lefts||[])&&Ad(this.rights||[],e.rights||[])}}function Ad(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class Pw{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class upe extends Pw{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class dpe extends Pw{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class $n extends ze{constructor(){super(...arguments),this.uid=ps()}prepareHits(){}queryHit(e,r,n,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!nr(e,".fc-event-mirror")}isValidDateDownEl(e){return!nr(e,".fc-event:not(.fc-bg-event)")&&!nr(e,".fc-more-link")&&!nr(e,"a[data-navlink]")&&!nr(e,".fc-popover")}}class UM{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},r),{span:Mw(r.span,e.touchingEntry.span)});n.push(i),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let i=e.span,a=r.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},n),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:i}=this;r.lateral===-1?(Vg(i,r.level,r.levelCoord),Vg(n,r.level,[e])):Vg(n[r.level],r.lateral,e),this.stackCnts[Wa(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:i,stackCnts:a}=this,s=r.length,o=0,l=-1,u=-1,d=null,f=0;for(let m=0;m<s;m+=1){const g=r[m];if(!i&&g>=o+this.getEntryThickness(e))break;let v=n[m],x,y=z0(v,e.span.start,H0),b=y[0]+y[1];for(;(x=v[b])&&x.span.start<e.span.end;){let S=g+this.getEntryThickness(x);S>o&&(o=S,d=x,l=m,u=b),S===o&&(f=Math.max(f,a[Wa(x)]+1)),b+=1}}let h=0;if(d)for(h=l+1;h<s&&r[h]<o;)h+=1;let p=-1;return h<s&&r[h]===o&&(p=z0(n[h],e.span.end,H0)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:o,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,i=[];for(let a=0;a<n;a+=1){let s=e[a],o=r[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function H0(t){return t.span.end}function Wa(t){return t.index+":"+t.span.start}function fpe(t){let e=[];for(let r of t){let n=[],i={span:r.span,entries:[r]};for(let a of e)Mw(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:hpe(a.span,i.span)}:n.push(a);n.push(i),e=n}return e}function hpe(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Mw(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function Vg(t,e,r){t.splice(e,0,r)}function z0(t,e,r){let n=0,i=t.length;if(!i||e<r(t[n]))return[0,0];if(e>r(t[i-1]))return[i,0];for(;n<i;){let a=Math.floor(n+(i-n)/2),s=r(t[a]);if(e<s)i=a;else if(e>s)n=a+1;else return[a,1]}return[n,0]}class ppe{constructor(e,r){this.emitter=new hm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Rw={};function mpe(t,e){return!t||e>10?mt({weekday:"short"}):e>1?mt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):mt({weekday:"long"})}const FM="fc-col-header-cell";function BM(t){return t.text}class gpe extends ze{render(){let{dateEnv:e,options:r,theme:n,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=IM(s,a.todayRange,null,o),u=[FM].concat(Ow(l,n)),d=e.format(s,a.dayHeaderFormat),f=!l.isDisabled&&a.colCnt>1?Wh(this.context,s):{},h=e.toDate(s);e.namedTimeZoneImpl&&(h=ea(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:i},a.extraRenderProps),{text:d}),l);return I($r,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:vw(s)},a.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:BM,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},m=>I("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&I(m,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const vpe=mt({weekday:"long"});class ype extends ze{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:i,options:a}=this.context,s=ir(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return I($r,{elTag:"th",elClasses:[FM,...Ow(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:BM,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},d=>I("div",{className:"fc-scrollgrid-sync-inner"},I(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,vpe)}})))}}class HM extends ze{constructor(){super(...arguments),this.createDayHeaderFormatter=be(xpe)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,r.length);return I(ol,{unit:"day"},(o,l)=>I("tr",{role:"row"},a&&a("day"),r.map(u=>i?I(gpe,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:r.length,dayHeaderFormat:s}):I(ype,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function xpe(t,e,r){return t||mpe(e,r)}class zM{constructor(e,r){let n=e.start,{end:i}=e,a=[],s=[],o=-1;for(;n<i;)r.isHiddenDay(n)?a.push(o+.5):(o+=1,a.push(o),s.push(n)),n=ir(n,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ir(e.end,-1)),i=Math.max(0,r),a=Math.min(this.cnt-1,n);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:r===i,isEnd:n===a}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(ms(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class WM{constructor(e,r){let{dates:n}=e,i,a,s;if(r){for(a=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==a;i+=1);s=Math.ceil(n.length/i)}else s=1,i=n.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let i=0;i<this.colCnt;i+=1)n.push(this.buildCell(r,i));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),i=[];if(n){let{firstIndex:a,lastIndex:s}=n,o=a;for(;o<=s;){let l=Math.floor(o/r),u=Math.min((l+1)*r,s+1);i.push({row:l,firstCol:o%r,lastCol:(u-1)%r,isStart:n.isStart&&o===a,isEnd:n.isEnd&&u-1===s}),o=u}}return i}}class VM{constructor(){this.sliceBusinessHours=be(this._sliceBusinessHours),this.sliceDateSelection=be(this._sliceDateSpan),this.sliceEventStore=be(this._sliceEventStore),this.sliceEventDrag=be(this._sliceInteraction),this.sliceEventResize=be(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,r,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...a),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,i,...a){return this._sliceDateSpan({range:{start:e,end:ea(e,1)},allDay:!1},r,n,{},i,...a)}_sliceBusinessHours(e,r,n,i,...a){return e?this._sliceEventStore(is(e,Td(r,!!n),i),{},r,n,...a).bg:[]}_sliceEventStore(e,r,n,i,...a){if(e){let s=kT(e,r,Td(n,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,i,...a){if(!e)return null;let s=kT(e.mutatedEvents,r,Td(n,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,i,a,...s){if(!e)return[];let o=Td(r,!!n),l=ns(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=Bhe(e,i,a),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let i of e)n.push(...this.sliceEventRange(i,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:ir(n.start,1)});let i=this.sliceRange(n,...r);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function Td(t,e){let r=t.activeRange;return e?r:{start:ea(r.start,t.slotMinTime.milliseconds),end:ea(r.end,t.slotMaxTime.milliseconds-864e5)}}function GM(t,e,r){let{instances:n}=t.mutatedEvents;for(let i in n)if(!dm(e.validRange,n[i].range))return!1;return qM({eventDrag:t},r)}function bpe(t,e,r){return dm(e.validRange,t.range)?qM({dateSelection:t},r):!1}function qM(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||wpe)(n,e)}function wpe(t,e,r={},n){return!(t.eventDrag&&!Spe(t,e,r,n)||t.dateSelection&&!_pe(t,e,r,n))}function Spe(t,e,r,n){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=zh(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});n&&(u=di(u,n));let d=xhe(t.eventStore,a.affectedEvents.instances),f=d.defs,h=d.instances,p=zh(f,t.eventUiBases);for(let m in l){let g=l[m],v=g.range,x=u[g.defId],y=o[g.defId];if(!YM(x.constraints,v,d,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,S=typeof b=="function"?b:null;for(let _ in h){let E=h[_];if(_w(v,E.range)&&(p[E.defId].overlap===!1&&a.isEvent||x.overlap===!1||S&&!S(new ht(e,f[E.defId],E),new ht(e,y,g))))return!1}let w=i.eventStore;for(let _ of x.allows){let E=Object.assign(Object.assign({},r),{range:g.range,allDay:y.allDay}),j=w.defs[y.defId],A=w.instances[m],C;if(j?C=new ht(e,j,A):C=new ht(e,y),!_(Nw(E,e),C))return!1}}return!0}function _pe(t,e,r,n){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!YM(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in s){let p=s[h];if(_w(l,p.range)&&(u.overlap===!1||f&&!f(new ht(e,a[p.defId],p),null)))return!1}for(let h of u.allows){let p=Object.assign(Object.assign({},r),o);if(!h(Nw(p,e),null))return!1}return!0}function YM(t,e,r,n,i){for(let a of t)if(!jpe(Epe(a,e,r,n,i),e))return!1;return!0}function Epe(t,e,r,n,i){return t==="businessHours"?Gg(is(n,e,i)):typeof t=="string"?Gg(fm(r,a=>a.groupId===t)):typeof t=="object"&&t?Gg(is(t,e,i)):[]}function Gg(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function jpe(t,e){for(let r of t)if(dm(r,e))return!0;return!1}const Nd=/^(visible|hidden)$/;class Ape extends ze{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Rn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,i=r&&n,a=["fc-scroller"];return r&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),I("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Nd.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(Nd.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return Nd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Nd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Qn{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;r!==null?(s=n in a,a[n]=r,i[n]=(i[n]||0)+1,o=!0):(i[n]-=1,i[n]||(delete a[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),o&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return Lfe(this.currentMap,e,r,n)}getAll(){return ww(this.currentMap)}}function Tpe(t){let e=Ide(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,Xde(n));return Math.ceil(r)}function KM(t,e){return t.liquid&&e.liquid}function Npe(t,e){return e.maxHeight!=null||KM(t,e)}function Cpe(t,e,r,n){let{expandRows:i}=r;return typeof e.content=="function"?e.content(r):I("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:i?r.clientHeight:""}},r.tableColGroupNode,I(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function kpe(t,e){return Ji(t,e,xn)}function Ope(t,e){let r=[];for(let n of t){let i=n.span||1;for(let a=0;a<i;a+=1)r.push(I("col",{style:{width:n.width==="shrink"?Dpe(e):n.width||"",minWidth:n.minWidth||""}}))}return I("colgroup",{},...r)}function Dpe(t){return t??4}function Ppe(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Mpe(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function Rpe(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function W0(t){return I("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Vh(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function XM(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Iw extends ze{constructor(){super(...arguments),this.processCols=be(e=>e,kpe),this.renderMicroColGroup=be(Ope),this.scrollerRefs=new Qn,this.scrollerElRefs=new Qn(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,r.shrinkWidth),o=Mpe(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,d,f=[],h=[],p=[];for(;u<l&&(d=i[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<l&&(d=i[u]).type==="body";)h.push(this.renderSection(d,s,!1)),u+=1;for(;u<l&&(d=i[u]).type==="footer";)p.push(this.renderSection(d,s,!0)),u+=1;let m=!MM();const g={role:"rowgroup"};return I("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!m&&f.length)&&I("thead",g,...f),!!(!m&&h.length)&&I("tbody",g,...h),!!(!m&&p.length)&&I("tfoot",g,...p),m&&I("tbody",g,...f,...h,...p))}renderSection(e,r,n){return"outerContent"in e?I(it,{key:e.key},e.outerContent):I("tr",{key:e.key,role:"presentation",className:Rpe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,i){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=Npe(a,e),d=KM(a,e),f=a.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,p=Cpe(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return I(i?"th":"td",{ref:n.elRef,role:"presentation"},I("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},I(Ape,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,r){let n=Ipe(this.props.sections,r);n&&Rn(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Ppe(this.props.cols)?Tpe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=ape(),{scrollerRefs:r,scrollerElRefs:n}=this,i=!1,a={},s={};for(let o in r.currentMap){let l=r.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=n.currentMap[l];if(u){let d=u.parentNode;a[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}Iw.addStateEquality({scrollerClientWidths:xn,scrollerClientHeights:xn});function Ipe(t,e){for(let r of t)if(r.key===e)return r;return null}class $w extends ze{constructor(){super(...arguments),this.buildPublicEvent=be((e,r,n)=>new ht(e,r,n)),this.handleEl=e=>{this.el=e,Rn(this.props.elRef,e),e&&OT(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(r,a.def,a.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&Ohe(i,r),isStartResizable:!e.disableResizing&&Dhe(i,r),isEndResizable:!e.disableResizing&&Phe(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return I($r,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Mhe(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&OT(this.el,this.props.seg)}}class Lw extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{ui:a}=i.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,o=CM(i,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return I($w,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:OM(i,r),defaultGenerator:$pe,timeText:o}),(l,u)=>I(it,null,I(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&I("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&I("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Lw.addPropsEquality({seg:xn});function $pe(t){return I("div",{className:"fc-event-main-frame"},t.timeText&&I("div",{className:"fc-event-time"},t.timeText),I("div",{className:"fc-event-title-container"},I("div",{className:"fc-event-title fc-sticky"},t.event.title||I(it,null," "))))}const Uw=t=>I(gi.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return I($r,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount},t.children)}),Lpe=mt({day:"numeric"});class Fw extends ze{constructor(){super(...arguments),this.refineRenderProps=Kd(Upe)}render(){let{props:e,context:r}=this,{options:n}=r,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return I($r,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":vw(e.date)}),elClasses:[...Ow(i,r.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function Bw(t){return!!(t.dayCellContent||L0("dayCellContent",t))}function Upe(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:i}=t,a=IM(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,i?t.monthStartFormat:Lpe):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class QM extends ze{render(){let{props:e}=this,{seg:r}=e;return I($w,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:Fpe,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Fpe(t){let{title:e}=t.event;return e&&I("div",{className:"fc-event-title"},t.event.title)}function ZM(t){return I("div",{className:`fc-${t}`})}const JM=t=>I(gi.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:i}=t,a=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(i),o=r.format(i,a),l={num:s,text:o,date:i};return I($r,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:Bpe,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},t.children)});function Bpe(t){return t.text}const qg=10;class Hpe extends ze{constructor(){super(...arguments),this.state={titleId:cm()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Rn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=rM(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return Sde(I("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),I("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},I("span",{className:"fc-popover-title",id:i.titleId},n.title),I("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),I("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:i}=this,a=cpe(r);if(a){let s=i.getBoundingClientRect(),o=n?nr(r,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,qg),l=Math.min(l,document.documentElement.clientWidth-qg-s.width),l=Math.max(l,qg);let u=i.offsetParent.getBoundingClientRect();ac(i,{top:o-u.top,left:l-u.left})}}}class zpe extends $n{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:i,todayRange:a,dateProfile:s}=n,o=r.format(i,e.dayPopoverFormat);return I(Fw,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,d)=>I(Hpe,{elRef:d.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Bw(e)&&I(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,i){let{rootEl:a,props:s}=this;return e>=0&&e<n&&r>=0&&r<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null}}class eR extends ze{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:cm()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Rn(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:i}=n.options,a=PT(r).start;function s(o){let{def:l,instance:u,range:d}=o.eventRange;return{event:new ht(n,l,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&n.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return I(gi.Consumer,null,n=>{let{viewApi:i,options:a,calendarApi:s}=n,{moreLinkText:o}=a,{moreCnt:l}=e,u=PT(e),d=typeof o=="function"?o.call(s,l):`+${l} ${o}`,f=sc(a.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:i};return I(it,null,!!e.moreCnt&&I($r,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),iM(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||Wpe,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),r.isPopoverOpen&&I(zpe,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=nr(this.linkEl,".fc-view-harness"))}}function Wpe(t){return t.text}function PT(t){if(t.allDayDate)return{start:t.allDayDate,end:ir(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:tR(e),end:Gpe(e)}}function tR(t){return t.reduce(Vpe).eventRange.range.start}function Vpe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Gpe(t){return t.reduce(qpe).eventRange.range.end}function qpe(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Ype{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Kpe extends Ype{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const Xpe=[],rR={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},nR=Object.assign(Object.assign({},rR),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function Qpe(t){let e=t.length>0?t[0].code:"en",r=Xpe.concat(t),n={en:nR};for(let i of r)n[i.code]=i;return{map:n,defaultCode:e}}function iR(t,e){return typeof t=="object"&&!Array.isArray(t)?aR(t.code,[t.code],t):Zpe(t,e)}function Zpe(t,e){let r=[].concat(t||[]),n=Jpe(r,e)||nR;return aR(t,r,n)}function Jpe(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let i=n.length;i>0;i-=1){let a=n.slice(0,i).join("-");if(e[a])return e[a]}}return null}function aR(t,e,r){let n=bw([rR,r],["buttonText"]);delete n.code;let{week:i}=n;return delete n.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function vi(t){return{id:ps(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function eme(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=r[o];l===void 0?(r[o]=s.id,i(s.deps),n=rme(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),n}function tme(){let t=[],e=[],r;return(n,i)=>((!r||!Ji(n,t)||!Ji(i,e))&&(r=eme(n,i)),t=n,e=i,r)}function rme(t,e){return{premiumReleaseDate:nme(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function nme(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class ma extends Pu{}ma.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ma.prototype.baseIconClass="fc-icon";ma.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ma.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ma.prototype.iconOverrideOption="buttonIcons";ma.prototype.iconOverrideCustomButtonOption="icon";ma.prototype.iconOverridePrefix="fc-icon-";function ime(t,e){let r={},n;for(n in t)V0(n,r,t,e);for(n in e)V0(n,r,t,e);return r}function V0(t,e,r,n){if(e[t])return e[t];let i=ame(t,e,r,n);return i&&(e[t]=i),i}function ame(t,e,r,n){let i=r[t],a=n[t],s=d=>i&&i[d]!==null?i[d]:a&&a[d]!==null?a[d]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=V0(l,e,r,n)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function MT(t){return di(t,sme)}function sme(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=RT(e):r&&!(r.prototype instanceof ze)&&(r=RT(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function RT(t){return e=>I(gi.Consumer,null,r=>I($r,{elTag:"div",elClasses:hM(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function ome(t,e,r,n){let i=MT(t),a=MT(e.views),s=ime(i,a);return di(s,o=>lme(o,a,e,r,n))}function lme(t,e,r,n,i){let a=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,o="",l="",u={};if(a&&(s=cme(a),s)){let h=$0(s);o=h.unit,h.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let d=h=>{let p=h.buttonText||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},f=h=>{let p=h.buttonHints||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(oc)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(oc)}}let IT={};function cme(t){let e=JSON.stringify(t),r=IT[e];return r===void 0&&(r=Me(t),IT[e]=r),r}function ume(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function dme(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function fme(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function hme(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function pme(t,e,r,n){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(i=n.buildPrev(t,r),i.isValid)return i;break;case"NEXT":if(i=n.buildNext(t,r),i.isValid)return i;break}return t}function mme(t,e,r){let n=e?e.activeRange:null;return oR({},Sme(t,r),n,r)}function gme(t,e,r,n){let i=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return oR(t,e.sources,i,n);case"REMOVE_EVENT_SOURCE":return yme(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?lR(t,i,n):t;case"FETCH_EVENT_SOURCES":return Hw(t,e.sourceIds?lM(e.sourceIds):cR(t,n),i,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return wme(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function vme(t,e,r){let n=e?e.activeRange:null;return Hw(t,cR(t,r),n,!0,r)}function sR(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function oR(t,e,r,n){let i={};for(let a of e)i[a.sourceId]=a;return r&&(i=lR(i,r,n)),Object.assign(Object.assign({},t),i)}function yme(t,e){return rs(t,r=>r.sourceId!==e)}function lR(t,e,r){return Hw(t,rs(t,n=>xme(n,e,r)),e,!1,r)}function xme(t,e,r){return uR(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Hw(t,e,r,n,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=bme(o,r,n,i):a[s]=o}return a}function bme(t,e,r,n){let{options:i,calendarApi:a}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],o=ps();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function wme(t,e,r,n){let i=t[e];return i&&r===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:n})}):t}function cR(t,e){return rs(t,r=>uR(r,e))}function Sme(t,e){let r=SM(e),n=[].concat(t.eventSources||[]),i=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let a of n){let s=wM(a,e,r);s&&i.push(s)}return i}function uR(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function _me(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Eme(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function jme(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Ame(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Tme(t,e,r,n,i){let a=t.headerToolbar?$T(t.headerToolbar,t,e,r,n,i):null,s=t.footerToolbar?$T(t.footerToolbar,t,e,r,n,i):null;return{header:a,footer:s}}function $T(t,e,r,n,i,a){let s={},o=[],l=!1;for(let u in t){let d=t[u],f=Nme(d,e,r,n,i,a);s[u]=f.widgets,o.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Nme(t,e,r,n,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],p=[],m=!1;return{widgets:h.map(v=>v.split(",").map(x=>{if(x==="title")return m=!0,{buttonName:x};let y,b,S,w,_,E;if(y=o[x])S=j=>{y.click&&y.click.call(j.target,j,j.target)},(w=n.getCustomButtonIconClass(y))||(w=n.getIconClass(x,s))||(_=y.text),E=y.hint||y.text;else if(b=i[x]){p.push(x),S=()=>{a.changeView(x)},(_=b.buttonTextOverride)||(w=n.getIconClass(x,s))||(_=b.buttonTextDefault);let j=b.buttonTextOverride||b.buttonTextDefault;E=sc(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[j,x],j)}else if(a[x])if(S=()=>{a[x]()},(_=l[x])||(w=n.getIconClass(x,s))||(_=u[x]),x==="prevYear"||x==="nextYear"){let j=x==="prevYear"?"prev":"next";E=sc(d[j]||f[j],[u.year||"year","year"],u[x])}else E=j=>sc(d[x]||f[x],[u[j]||j,j],u[x]);return{buttonName:x,buttonClick:S,buttonIcon:w,buttonText:_,buttonHint:E}})),viewsWithButtons:p,hasTitle:m}}class Cme{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let kme={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Ome=vi({name:"array-event-source",eventSourceDefs:[kme]});let Dme={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,i=t.eventSource.meta;Hhe(i.bind(null,DM(t.range,n)),a=>e({rawEvents:a}),r)}};const Pme=vi({name:"func-event-source",eventSourceDefs:[Dme]}),Mme={method:String,extraParams:Q,startParam:String,endParam:String,timeZoneParam:String};let Rme={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,i=$me(n,t.range,t.context);zhe(n.method,n.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},r)}};const Ime=vi({name:"json-event-source",eventSourceRefiners:Mme,eventSourceDefs:[Rme]});function $me(t,e,r){let{dateEnv:n,options:i}=r,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[o]=n.timeZone),u}const Lme={daysOfWeek:Q,startTime:Me,endTime:Me,duration:Me,startRecur:Q,endRecur:Q};let Ume={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=efe(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=ns(e,{start:t.startRecur,end:t.endRecur});return n?Bme(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const Fme=vi({name:"simple-recurring-event",recurringTypes:[Ume],eventRefiners:Lme});function Bme(t,e,r,n,i){let a=t?lM(t):null,s=at(i.start),o=i.end,l=[];for(;s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,l.push(n.createMarker(r.toDate(u)))),s=ir(s,1)}return l}const Hme=vi({name:"change-handler",optionChangeHandlers:{events(t,e){LT([t],e)},eventSources:LT}});function LT(t,e){let r=ww(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let i of t){let a=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===i){r.splice(s,1),a=!0;break}a||n.push(i)}for(let i of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of n)e.calendarApi.addEventSource(i)}function zme(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},DM(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Wme(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",za(t,e))}const Vme=[Ome,Pme,Ime,Fme,Hme,vi({name:"misc",isLoadingFuncs:[t=>sR(t.eventSources)],propSetHandlers:{dateProfile:zme,eventStore:Wme}})];class Gme{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new fw(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function qme(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,mt(e.titleFormat||Yme(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Yme(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=Rh(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class UT{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Kme{constructor(e){this.computeCurrentViewData=be(this._computeCurrentViewData),this.organizeRawLocales=be(Qpe),this.buildLocale=be(iR),this.buildPluginHooks=tme(),this.buildDateEnv=be(Xme),this.buildTheme=be(Qme),this.parseToolbars=be(Tme),this.buildViewSpecs=be(ome),this.buildDateProfileGenerator=Kd(Zme),this.buildViewApi=be(Jme),this.buildViewUiProps=Kd(rge),this.buildEventUiBySource=be(ege,xn),this.buildEventUiBases=be(tge),this.parseContextBusinessHours=Kd(nge),this.buildTitle=be(qme),this.nowManager=new UT,this.emitter=new hm,this.actionRunner=new Gme(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new UT;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(i,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=fme(n.calendarOptions,n.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);ni(l.activeRange,o)||(o=l.currentRange.start);for(let h of n.pluginHooks.contextInit)h(s);let u=mme(n.calendarOptions,l,s),d={dynamicOptionOverrides:r,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Dr(),renderableEventStore:Dr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));Yg(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:i}=this,a=hme(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),o=ume(n.currentViewType,e),l=this.computeCurrentViewData(o,s,r.optionOverrides,a);r.calendarApi.currentDataManager=this,i.setThisContext(r.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(d)),d=dme(d,e),f=pme(f,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ni(f.currentRange,d))&&(d=f.currentRange.start);let h=gme(n.eventSources,e,f,u),p=mhe(n.eventStore,e,h,f,u),g=sR(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),b=this.buildEventUiBases(g.defs,v,y),S={dynamicOptionOverrides:a,currentViewType:o,currentDate:d,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:g,selectionConfig:x,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:_me(n.dateSelection,e),eventSelection:Eme(n.eventSelection,e),eventDrag:jme(n.eventDrag,e),eventResize:Ame(n.eventResize,e)},w=Object.assign(Object.assign({},u),S);for(let j of s.pluginHooks.reducers)Object.assign(S,j(n,e,w));let _=Yg(n,u),E=Yg(S,u);!_&&E?i.trigger("loading",!0):_&&!E&&i.trigger("loading",!1),this.state=S,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(r.currentViewType,i,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),r),o=i.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=vme(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=NT(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=NT(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==u[d])&&o[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,r);FT(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),d=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(i,a),h=this.parseToolbars(i,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,r){let{locales:n,locale:i}=Ug([oc,e,r]),a=this.organizeRawLocales(n),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Vme),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ST),_T),ET),l.listenerRefiners),l.optionRefiners),d={},f=Ug([oc,o,e,r]),h={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let v in f)this.optionsForRefining.indexOf(v)===-1&&(f[v]===p[v]||Aa[v]&&v in p&&Aa[v](p[v],f[v]))?h[v]=m[v]:u[v]?(h[v]=u[v](f[v]),g=!0):d[v]=p[v];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:d}}_computeCurrentViewData(e,r,n,i){let a=r.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,r.pluginHooks,r.localeDefaults,n,i);FT(o),this.nowManager.handleInput(r.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,r,n,i,a){let s=Ug([oc,e.optionDefaults,n,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ST),_T),ET),Pfe),r.listenerRefiners),r.optionRefiners),l={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let p in s)s[p]===u[p]||Aa[p]&&Aa[p](s[p],u[p])?l[p]=d[p]:(s[p]===this.currentCalendarOptionsInput[p]||Aa[p]&&Aa[p](s[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):o[p]?l[p]=o[p](s[p]):h[p]=s[p],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function Xme(t,e,r,n,i,a,s,o){let l=iR(e||s.defaultCode,s.map);return new Wfe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:r,firstDay:n,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function Qme(t,e){let r=e.themeClasses[t.themeSystem]||ma;return new r(t)}function Zme(t){let e=t.dateProfileGeneratorClass||gM;return new e(t)}function Jme(t,e,r){return new Cme(t,e,r)}function ege(t){return di(t,e=>e.ui)}function tge(t,e,r){let n={"":e};for(let i in t){let a=t[i];a.sourceId&&r[a.sourceId]&&(n[i]=r[a.sourceId])}return n}function rge(t){let{options:e}=t;return{eventUiSingleBase:Hh({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Hh({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Yg(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function nge(t){return Ehe(t.options.businessHours,t)}function FT(t,e){for(let r in t)console.warn(`Unknown option '${r}'`+(e?` for view '${e}'`:""))}class ige extends ze{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return I("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(o==="title")a=!1,i.push(I("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=o===r.activeButton,p=!r.isTodayEnabled&&o==="today"||!r.isPrevEnabled&&o==="prev"||!r.isNextEnabled&&o==="next",m=[`fc-${o}-button`,n.getClass("button")];h&&m.push(n.getClass("buttonActive")),i.push(I("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:p,"aria-pressed":h,className:m.join(" "),onClick:l},u||(d?I("span",{className:d,role:"img"}):"")))}}if(i.length>1){let s=a&&n.getClass("buttonGroup")||"";return I("div",{className:s},...i)}return i[0]}}class BT extends ze{render(){let{model:e,extraClassName:r}=this.props,n=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(n=!0,i=s.left):i=s.start,s.right?(n=!0,a=s.right):a=s.end,I("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,r){let{props:n}=this;return I(ige,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class age extends ze{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Rn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return n?r.availableWidth!==null?a=r.availableWidth/n:s=`${1/n*100}%`:a=e.height||"",I("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class sge extends sl{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:i}=this,{context:a}=i,s=Lo(n);if(s&&i.isValidSegDownEl(r.target)){let o=nr(r.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new ht(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},this.destroy=nM(e.el,"click",".fc-event",this.handleSegClick)}}class oge extends sl{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{Lo(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=Ude(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:i}=this,{context:a}=i,s=Lo(n);(!r||i.isValidSegDownEl(r.target))&&a.emitter.trigger(e,{el:n,event:new ht(a,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi})}}class lge extends gs{constructor(){super(...arguments),this.buildViewContext=be(qfe),this.buildViewPropTransformers=be(uge),this.buildToolbarProps=be(cge),this.headerRef=cr(),this.footerRef=cr(),this.interactionsStore={},this.state={viewLabelId:cm()},this.registerInteractiveComponent=(e,r)=>{let n=Ghe(e,r),s=[sge,oge].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=s,B0[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete B0[e.uid]},this.resizeRunner=new fw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":n.height!=null?i=!0:n.contentHeight!=null?a=n.contentHeight:s=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return I(gi.Provider,{value:o},I(ol,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return I(it,null,r.header&&I(BT,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:l},d)),I(age,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),r.footer&&I(BT,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let i in n)r[i]!==e[i]&&n[i](r[i],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return I(it,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=n.component;return I(s,Object.assign({},i))}}function cge(t,e,r,n,i,a){let s=r.build(i,void 0,!1),o=r.buildPrev(e,n,!1),l=r.buildNext(e,n,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!ni(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function uge(t){return t.map(e=>new e)}let dge=class extends Yhe{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;Uh(()=>{du(I(Vhe,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),I(fM.Provider,{value:this.customContentRenderId},I(lge,Object.assign({isHeightAuto:s,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,du(null,this.el),this.setClassNames([]),this.setHeight(""))},kde(e),this.el=e,this.renderRunner=new fw(this.handleRenderRequest),new Kme({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Uh(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!Ji(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){tM(this.el,"height",e)}};const fge=parseInt(String(H.version).split(".")[0]),hge=fge<18;class dR extends N.Component{constructor(){super(...arguments),this.elRef=N.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(H.createElement(pge,{key:r.id,customRendering:r}));return H.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Kpe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new dge(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{_f.flushSync(()=>{})});let r;e.subscribe(n=>{const i=Date.now(),a=!r;(hge||a||this.isUpdating||this.isUnmounting||i-r<100?fR:_f.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}dR.act=fR;class pge extends N.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return _f.createPortal(n,e.containerEl)}}function fR(t){t()}class mge extends $n{constructor(){super(...arguments),this.headerElRef=cr()}renderSimpleLayout(e,r){let{props:n,context:i}=this,a=[],s=Vh(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),I(Fh,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},I(Iw,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,r,n,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&Vh(o.options),u=!s.forPrint&&XM(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:W0}]}),I(Fh,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},I(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))}}function Qd(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function Cd(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function HT(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const hR=mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function pR(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class mR extends ze{render(){let{props:e}=this;return I(Lw,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:hR,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class gR extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,a=n.eventTimeFormat||hR,s=CM(i,a,r,!0,e.defaultDisplayEventEnd);return I($w,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:OM(e.seg,r),defaultGenerator:gge,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function gge(t){return I(it,null,I("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&I("div",{className:"fc-event-time"},t.timeText),I("div",{className:"fc-event-title"},t.event.title||I(it,null," ")))}class vge extends ze{constructor(){super(...arguments),this.compileSegs=be(yge)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return I(eR,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return I(it,null,r.map(a=>{let s=a.eventRange.instance.instanceId;return I("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},pR(a)?I(gR,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Xi(a,e.todayRange))):I(mR,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Xi(a,e.todayRange))))}))}})}}function yge(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const xge=mt({week:"narrow"});class bge extends $n{constructor(){super(...arguments),this.rootElRef=cr(),this.state={dayNumberId:cm()},this.handleRootEl=e=>{Rn(this.rootElRef,e),Rn(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=r;const u=r.showDayNumber&&Sge(o,l.currentRange,s);return I(Fw,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:wge,date:o,dateProfile:l,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>I("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&I(JM,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Wh(e,o,"week"),date:o,defaultFormat:xge}),!f.isDisabled&&(r.showDayNumber||Bw(a)||r.forceDayTop)?I("div",{className:"fc-daygrid-day-top"},I(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Wh(e,o)),{id:n.dayNumberId})})):r.showDayNumber?I("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},I("a",{className:"fc-daygrid-day-number"}," ")):void 0,I("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,I("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},I(vge,{allDayDate:o,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:i,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),I("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function wge(t){return t.dayNumberText||I(it,null," ")}function Sge(t,e,r){const{start:n,end:i}=e,a=ea(i,-1),s=r.getYear(n),o=r.getMonth(n),l=r.getYear(a),u=r.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<i.valueOf())}function vR(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function yR(t){return vR(t)+":"+t.lastCol}function _ge(t,e,r,n,i,a,s){let o=new Age(x=>{let y=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||r===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof r=="number"&&(o.maxStackCnt=r,o.hiddenConsumes=!0);let l=[],u=[];for(let x=0;x<t.length;x+=1){let y=t[x],b=yR(y);i[b]!=null?l.push({index:x,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let d=o.addSegs(l),f=o.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=Ege(f,t,s),g=[],v=[];for(let x of u){p[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=x.firstCol;y<=x.lastCol;y+=1)h[y].push({seg:no(x,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)g.push(0);for(let x of d){let y=t[x.index],b=x.span;p[b.start].push({seg:no(y,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=b.start;S<b.end;S+=1)g[S]+=1,h[S].push({seg:no(y,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)v.push(m[x]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:v}}function Ege(t,e,r){let n=jge(t,r.length),i=[],a=[],s=[];for(let o=0;o<r.length;o+=1){let l=n[o],u=[],d=0,f=0;for(let p of l){let m=e[p.index];u.push({seg:no(m,o,o+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let h=[];d=0,f=0;for(let p of l){let m=e[p.index],g=p.span.end-p.span.start>1,v=p.span.start===o;f+=p.levelCoord-d,d=p.levelCoord+p.thickness,g?(f+=p.thickness,v&&h.push({seg:no(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):v&&(h.push({seg:no(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}i.push(u),a.push(h),s.push(f)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function jge(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let i=n.span.start;i<n.span.end;i+=1)r[i].push(n);return r}function no(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let i=t.eventRange,a=i.range,s=ns(a,{start:n[e].date,end:ir(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class Age extends UM{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,i=a=>!this.forceHidden[Wa(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(i);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=Wa(s);if(!a[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:Mw(s.span,r.span)}),f=Wa(d);a[f]=!0,i[o][l]=d,n.push(d),this.splitEntry(s,r,n)}else a[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class xR extends $n{constructor(){super(...arguments),this.cellElRefs=new Qn,this.frameElRefs=new Qn,this.fgElRefs=new Qn,this.segHarnessRefs=new Qn,this.rootElRef=cr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=e.cells.length,s=Cd(e.businessHourSegs,a),o=Cd(e.bgEventSegs,a),l=Cd(this.getHighlightSegs(),a),u=Cd(this.getMirrorSegs(),a),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=_ge(NM(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return I("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let x=this.renderFgSegs(v,e.forPrint?d[v]:f[v],e.todayRange,m),y=this.renderFgSegs(v,Tge(u[v],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return I(bge,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[v],moreMarginTop:p[v],singlePlacements:d[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:I(it,null,I(it,null,x),I(it,null,y)),bgContent:I(it,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!xn(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=a||s||o,p=[];if(d)for(let m of r){let{seg:g}=m,{instanceId:v}=g.eventRange.instance,x=m.isVisible&&!i[v],y=m.isAbsolute,b="",S="";y&&(l.isRtl?(S=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,S=d.rights[g.firstCol]-d.rights[g.lastCol])),p.push(I("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:vR(g),ref:h?null:this.segHarnessRefs.createRef(yR(g)),style:{visibility:x?"":"hidden",marginTop:y?"":m.marginTop,top:y?m.absoluteTop:"",left:b,right:S}},pR(g)?I(gR,Object.assign({seg:g,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:f},Xi(g,n))):I(mR,Object.assign({seg:g,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:f},Xi(g,n)))))}return p}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=n?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push(I("div",{key:kM(o.eventRange),className:"fc-daygrid-bg-harness",style:l},r==="bg-event"?I(QM,Object.assign({seg:o},Xi(o,i))):ZM(r)))}return I(it,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:i}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let l=r.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,d=new Uo(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new Uo(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,i)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}xR.addStateEquality({segHeights:xn});function Tge(t,e){if(!t.length)return[];let r=Nge(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function Nge(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class Cge extends $n{constructor(){super(...arguments),this.splitBusinessHourSegs=be(Qd),this.splitBgEventSegs=be(kge),this.splitFgEventSegs=be(Qd),this.splitDateSelectionSegs=be(Qd),this.splitEventDrag=be(HT),this.splitEventResize=be(HT),this.rowRefs=new Qn}render(){let{props:e,context:r}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return I(ol,{unit:"day"},(f,h)=>I(it,null,e.cells.map((p,m)=>I(xR,{ref:this.rowRefs.createRef(m),key:p.length?p[0].date.toISOString():m,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:i[m],eventSelection:e.eventSelection,bgEventSegs:a[m],fgEventSegs:s[m],dateSelectionSegs:o[m],eventDrag:l[m],eventResize:u[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Uo(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Uo(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:i}=this,a=n.leftToIndex(e),s=i.topToIndex(r);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:n.lefts[a],right:n.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,i=ir(n,1);return{start:n,end:i}}}function kge(t,e){return Qd(t.filter(Oge),e)}function Oge(t){return t.eventRange.def.allDay}class Dge extends $n{constructor(){super(...arguments),this.elRef=cr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:i}=e,a=n===!0||r===!0;a&&!i&&(a=!1,r=null,n=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return I("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},I("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,I("tbody",{role:"presentation"},I(Cge,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Pge(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),i=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function Pge(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${gfe(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${vw(e.currentDate)}"]`)),r}class Mge extends VM{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class bR extends $n{constructor(){super(...arguments),this.slicer=new Mge,this.tableRef=cr()}render(){let{props:e,context:r}=this;return I(Dge,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Rge extends mge{constructor(){super(...arguments),this.buildDayTableModel=be(Ige),this.headerRef=cr(),this.tableRef=cr()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,r),a=e.dayHeaders&&I(HM,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>I(bR,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function Ige(t,e){let r=new zM(t.renderRange,e);return new WM(r,/year|month|week/.test(t.currentRangeUnit))}class $ge extends gM{buildRenderRange(e,r,n){let i=super.buildRenderRange(e,r,n),{props:a}=this;return Lge({currentRange:i,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function Lge(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:i}=r,a;if(t.snapToWeek&&(n=e.startOfWeek(n),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=vT(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(ir(r.end,-1))),o=Math.ceil(afe(s,i));i=vT(i,6-o)}return{start:n,end:i}}var Uge=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';dw(Uge);var Fge=vi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Rge,dateProfileGeneratorClass:$ge},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Bge extends Jhe{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Che(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Hge=mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function wR(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return I(gi.Consumer,null,r=>{if(!t.isLabeled)return I("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:i,viewApi:a}=r,s=i.slotLabelFormat==null?Hge:Array.isArray(i.slotLabelFormat)?mt(i.slotLabelFormat[0]):mt(i.slotLabelFormat),o={level:0,time:t.time,date:n.toDate(t.date),view:a,text:n.format(t.date,s)};return I($r,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:zge,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>I("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},I(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function zge(t){return t.text}class Wge extends ze{render(){return this.props.slatMetas.map(e=>I("tr",{key:e.key},I(wR,Object.assign({},e))))}}const Vge=mt({week:"short"}),Gge=5;class qge extends $n{constructor(){super(...arguments),this.allDaySplitter=new Bge,this.headerElRef=cr(),this.rootElRef=cr(),this.scrollerElRef=cr(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,a=i.renderRange,o=ms(a.start,a.end)===1?Wh(this.context,a.start,"week"):{};return n.weekNumbers&&e==="day"?I(JM,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:Vge},l=>I("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},I(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):I("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},I("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,i={text:r.allDayText,view:n};return I($r,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Yge,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},a=>I("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},I(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:i,props:a}=this,s=[],o=Vh(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(s.push({type:"body",key:"all-day",chunk:{content:r}}),s.push({type:"body",key:"all-day-divider",outerContent:I("tr",{role:"presentation",className:"fc-scrollgrid-section"},I("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),I(Fh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},I(Iw,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,r,n,i,a,s,o){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&Vh(u.options),h=!d.forPrint&&XM(u.options),p=[];e&&p.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>I("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>I("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:r}]}),p.push({key:"all-day-divider",type:"body",outerContent:I("tr",{role:"presentation",className:"fc-scrollgrid-section"},I("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let m=u.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>I("div",{className:"fc-timegrid-axis-chunk"},I("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,I("tbody",null,I(Wge,{slatMetas:s}))),I("div",{className:"fc-timegrid-now-indicator-container"},I(ol,{unit:m?"minute":"day"},v=>{let x=m&&o&&o.safeComputeTop(v);return typeof x=="number"?I(Uw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:W0},{key:"cols",content:W0}]}),I(Fh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},I(l,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=Gge),{dayMaxEvents:e,dayMaxEventRows:r}}}function Yge(t){return t.text}class Kge{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(ni(r.currentRange,e)){let n=at(e),i=e.valueOf()-n.valueOf();if(i>=pn(r.slotMinTime)&&i<pn(r.slotMaxTime))return this.computeTimeTop(Me(i))}return null}computeDateTop(e,r){return r||(r=at(e)),this.computeTimeTop(Me(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,i=r.els.length,a=(e.milliseconds-pn(n.slotMinTime))/pn(this.slotDuration),s,o;return a=Math.max(0,a),a=Math.min(i,a),s=Math.floor(a),s=Math.min(s,i-1),o=a-s,r.tops[s]+r.getHeight(s)*o}}class Xge extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:i}=e;return I("tbody",null,e.slatMetas.map((a,s)=>{let o={time:a.time,date:r.dateEnv.toDate(a.date),view:r.viewApi};return I("tr",{key:a.key,ref:i.createRef(a.key)},e.axis&&I(wR,Object.assign({},a)),I($r,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class Qge extends ze{constructor(){super(...arguments),this.rootElRef=cr(),this.slatElRefs=new Qn}render(){let{props:e,context:r}=this;return I("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},I("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,I(Xge,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new Kge(new Uo(this.rootElRef.current,Zge(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Zge(t,e){return e.map(r=>t[r.key])}function Pl(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function zT(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}class Jge extends ze{render(){let{props:e}=this;return I(eR,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>_R(e.hiddenSegs,e),defaultGenerator:eve,forceTimed:!0},r=>I(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function eve(t){return t.shortText}function tve(t,e,r){let n=new UM;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let i=n.addSegs(t),a=fpe(i),s=rve(n);return s=sve(s,1),{segRects:ove(s),hiddenGroups:a}}function rve(t){const{entriesByLevel:e}=t,r=zw((n,i)=>n+":"+i,(n,i)=>{let a=ave(t,n,i),s=WT(a,r),o=e[n][i];return[Object.assign(Object.assign({},o),{nextLevelNodes:s[0]}),o.thickness+s[1]]});return WT(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function WT(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:i}=t,a=n,s=[];for(;a<i;)s.push(e(r,a)),a+=1;return s.sort(nve),[s.map(ive),s[0][1]]}function nve(t,e){return e[1]-t[1]}function ive(t){return t[0]}function ave(t,e,r){let{levelCoords:n,entriesByLevel:i}=t,a=i[e][r],s=n[e]+a.thickness,o=n.length,l=e;for(;l<o&&n[l]<s;l+=1);for(;l<o;l+=1){let u=i[l],d,f=z0(u,a.span.start,H0),h=f[0]+f[1],p=h;for(;(d=u[p])&&d.span.start<a.span.end;)p+=1;if(h<p)return{level:l,lateralStart:h,lateralEnd:p}}return null}function sve(t,e){const r=zw((n,i,a)=>Wa(n),(n,i,a)=>{let{nextLevelNodes:s,thickness:o}=n,l=o+a,u=o/l,d,f=[];if(!s.length)d=e;else for(let p of s)if(d===void 0){let m=r(p,i,l);d=m[0],f.push(m[1])}else{let m=r(p,d,0);f.push(m[1])}let h=(d-i)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return t.map(n=>r(n,0,0)[1])}function ove(t){let e=[];const r=zw((i,a,s)=>Wa(i),(i,a,s)=>{let o=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:s,stackForward:0});return e.push(o),o.stackForward=n(i.nextLevelNodes,a+i.thickness,s+1)+1});function n(i,a,s){let o=0;for(let l of i)o=Math.max(r(l,a,s),o);return o}return n(t,0,0),e}function zw(t,e){const r={};return(...n)=>{let i=t(...n);return i in r?r[i]:r[i]=e(...n)}}function VT(t,e,r=null,n=0){let i=[];if(r)for(let a=0;a<t.length;a+=1){let s=t[a],o=r.computeDateTop(s.start,e),l=Math.max(o+(n||0),r.computeDateTop(s.end,e));i.push({start:Math.round(o),end:Math.round(l)})}return i}function lve(t,e,r,n){let i=[],a=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?i.push({index:u,thickness:1,span:d}):a.push(t[u])}let{segRects:s,hiddenGroups:o}=tve(i,r,n),l=[];for(let u of s)l.push({seg:t[u.index],rect:u});for(let u of a)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:o}}const cve=mt({hour:"numeric",minute:"2-digit",meridiem:!1});class SR extends ze{render(){return I(Lw,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:cve}))}}class uve extends ze{constructor(){super(...arguments),this.sortEventSegs=be(NM)}render(){let{props:e,context:r}=this,{options:n}=r,i=n.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return I(Fw,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>I("div",{className:"fc-timegrid-col-frame"},I("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),I("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),I("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),I("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Bw(n)&&I(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,i,a,s){let{props:o}=this;return o.forPrint?_R(e,o):this.renderPositionedFgSegs(e,r,n,i,a,s)}renderPositionedFgSegs(e,r,n,i,a,s){let{eventMaxStack:o,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:p,todayRange:m,nowDate:g}=this.props,v=n||i||a,x=VT(e,f,h,d),{segPlacements:y,hiddenGroups:b}=lve(e,x,u,o);return I(it,null,this.renderHiddenGroups(b,e),y.map(S=>{let{seg:w,rect:_}=S,E=w.eventRange.instance.instanceId,j=v||!!(!r[E]&&_),A=Kg(_&&_.span),C=!v&&_?this.computeSegHStyle(_):{left:0,right:0},O=!!_&&_.stackForward>0,P=!!_&&_.span.end-_.span.start<l;return I("div",{className:"fc-timegrid-event-harness"+(O?" fc-timegrid-event-harness-inset":""),key:s||E,style:Object.assign(Object.assign({visibility:j?"":"hidden"},A),C)},I(SR,Object.assign({seg:w,isDragging:n,isResizing:i,isDateSelecting:a,isSelected:E===p,isShort:P},Xi(w,m,g))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u}=this.props;return I(it,null,e.map(d=>{let f=Kg(d.span),h=dve(d.entries,r);return I(Jge,{key:oM(tR(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u})}))}renderFillSegs(e,r){let{props:n,context:i}=this,s=VT(e,n.date,n.slatCoords,i.options.eventMinHeight).map((o,l)=>{let u=e[l];return I("div",{key:kM(u.eventRange),className:"fc-timegrid-bg-harness",style:Kg(o)},r==="bg-event"?I(QM,Object.assign({seg:u},Xi(u,n.todayRange,n.nowDate))):ZM(r))});return I(it,null,s)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((i,a)=>I(Uw,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(i.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,i=n.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness,o,l;i&&(s=Math.min(1,a+(s-a)*2)),r?(o=1-s,l=a):(o=a,l=1-s);let u={zIndex:e.stackDepth+1,left:o*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function _R(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:i,eventResize:a}){let s=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return I(it,null,t.map(o=>{let l=o.eventRange.instance.instanceId;return I("div",{key:l,style:{visibility:s[l]?"hidden":""}},I(SR,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},Xi(o,e,r))))}))}function Kg(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function dve(t,e){return t.map(r=>e[r.index])}class fve extends ze{constructor(){super(...arguments),this.splitFgEventSegs=be(Pl),this.splitBgEventSegs=be(Pl),this.splitBusinessHourSegs=be(Pl),this.splitNowIndicatorSegs=be(Pl),this.splitDateSelectionSegs=be(Pl),this.splitEventDrag=be(zT),this.splitEventResize=be(zT),this.rootElRef=cr(),this.cellElRefs=new Qn}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return I("div",{className:"fc-timegrid-cols",ref:this.rootElRef},I("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,I("tbody",{role:"presentation"},I("tr",{role:"row"},e.axis&&I("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},I("div",{className:"fc-timegrid-col-frame"},I("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&I(Uw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,p)=>I(uve,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:a[p],bgEventSegs:s[p],businessHourSegs:o[p],nowIndicatorSegs:l[p],dateSelectionSegs:u[p],eventDrag:d[p],eventResize:f[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Uo(this.rootElRef.current,hve(this.cellElRefs.currentMap,e.cells),!0,!1))}}function hve(t,e){return e.map(r=>t[r.key])}class pve extends $n{constructor(){super(...arguments),this.processSlotOptions=be(mve),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let i=n.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),r(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return I("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},I(Qge,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),I(fve,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:i}=this.context,{colCoords:a}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),d=a.leftToIndex(e),f=o.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],p=o.positions.tops[f],m=o.positions.getHeight(f),g=(r-p)/m,v=Math.floor(g*u),x=f*u+v,y=this.props.cells[d].date,b=I0(s.slotMinTime,tfe(l,x)),S=n.add(y,b),w=n.add(S,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:S,end:w},allDay:!1},h.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:p,bottom:p+m},layer:0}}return null}}function mve(t,e){let r=e||t,n=gw(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}class gve extends VM{sliceRange(e,r){let n=[];for(let i=0;i<r.length;i+=1){let a=ns(e,r[i]);a&&n.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:i})}return n}}class vve extends $n{constructor(){super(...arguments),this.buildDayRanges=be(yve),this.slicer=new gve,this.timeColsRef=cr()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:a,nextDayThreshold:s}=r.options,o=this.buildDayRanges(i,n,r.dateEnv);return I(ol,{unit:a?"minute":"day"},(l,u)=>I(pve,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&this.slicer.sliceNowDate(l,n,s,r,o),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function yve(t,e,r){let n=[];for(let i of t.headerDates)n.push({start:r.add(i,e.slotMinTime),end:r.add(i,e.slotMaxTime)});return n}const GT=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function xve(t,e,r,n,i){let a=new Date(0),s=t,o=Me(0),l=r||bve(n),u=[];for(;pn(s)<pn(e);){let d=i.add(a,s),f=gw(o,l)!==null;u.push({date:d,time:s,key:d.toISOString(),isoTimeStr:vfe(d),isLabeled:f}),s=I0(s,n),o=I0(o,n)}return u}function bve(t){let e,r,n;for(e=GT.length-1;e>=0;e-=1)if(r=Me(GT[e]),n=gw(r,t),n!==null&&n>1)return r;return t}class wve extends qge{constructor(){super(...arguments),this.buildTimeColsModel=be(Sve),this.buildSlatMetas=be(xve)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:i}=this,{dateProfile:a}=i,s=this.buildTimeColsModel(a,n),o=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&I(HM,{dates:s.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(g=>I(bR,Object.assign({},o.allDay,{dateProfile:a,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),m=g=>I(vve,Object.assign({},o.timed,{dayTableModel:s,dateProfile:a,axis:d,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,p,m,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,p,m)}}function Sve(t,e){let r=new zM(t.renderRange,e);return new WM(r,!1)}var _ve='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';dw(_ve);const Eve={allDaySlot:Boolean};var jve=vi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Eve,views:{timeGrid:{component:wve,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Rw.touchMouseIgnoreWait=500;let G0=0,Gh=0,q0=!1;class ER{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&Ave(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let i=r.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,Tve()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:n-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new hm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Nve()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Cve()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||nr(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){q0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?nr(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return G0||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(q0=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,i=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}createEventFromTouch(e,r){let n=e.touches,i,a,s=0,o=0;return n&&n.length?(i=n[0].pageX,a=n[0].pageY):(i=e.pageX,a=e.pageY),r?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function Ave(t){return t.button===0&&!t.ctrlKey}function Tve(){G0+=1,setTimeout(()=>{G0-=1},Rw.touchMouseIgnoreWait)}function Nve(){Gh+=1,Gh===1&&window.addEventListener("touchmove",jR,{passive:!1})}function Cve(){Gh-=1,Gh||window.removeEventListener("touchmove",jR,{passive:!1})}function jR(t){q0&&t.preventDefault()}class kve{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",ac(n,{left:i.left,top:i.top}),Fde(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(hw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ac(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),ac(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class AR extends Pw{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class TR extends AR{constructor(e,r){super(new upe(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return lpe(this.scrollController.el)}}class Ove extends AR{constructor(e){super(new dpe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const qT=typeof performance=="function"?performance.now:Date.now;class Dve{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=qT();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,i=r-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(qT()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*r,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,d=r-o.top,f=o.bottom-r;l>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:s,name:"bottom",distance:f}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new Ove(!1):new TR(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class Mu extends ppe{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Bde(document.body),zde(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,Hde(document.body),Wde(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new ER(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new kve,this.autoScroller=new Dve}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Pve{constructor(e){this.el=e,this.origRect=Dw(e),this.scrollCaches=LM(e).map(r=>new TR(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let i of this.scrollCaches)if(!Mve(i.getEventTarget())&&!Khe(n,i.clientRect))return!1;return!0}}function Mve(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class pm{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new hm}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,i=e.subjectEl,a;i instanceof HTMLElement&&(a=Dw(i),n=Xhe(n,a));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&a){let o=RM(a,s.rect);o&&(n=Qhe(o))}this.coordAdjust=Zhe(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!mm(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=di(this.droppableStore,e=>(e.component.prepareHits(),new Pve(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:i}=this,a=null;for(let s in n){let o=n[s].component,l=i[s];if(l&&l.isWithinClipping(e,r)){let u=l.computeLeft(),d=l.computeTop(),f=e-u,h=r-d,{origRect:p}=l,m=p.right-p.left,g=p.bottom-p.top;if(f>=0&&f<m&&h>=0&&h<g){let v=o.queryHit(f,h,m,g);v&&dm(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=d,v.rect.bottom+=d,a=v)}}}return a}}function mm(t,e){return!t&&!e?!0:!!t!=!!e?!1:Lhe(t.dateSpan,e.dateSpan)}function NR(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,Rve(t,e.dateEnv)),r}function Rve(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Ive extends sl{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:i}=this,a=n.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&mm(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},NR(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Mu(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new pm(this.dragging,kw(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class $ve extends sl{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,d=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!d),l.delay=s.isTouch?Lve(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=Uve(f,s,l.pluginHooks.dateSelectionTransformers)),(!u||!bpe(u,s.dateProfile,l))&&(d=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),d?pw():mw(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(jM(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,i=this.dragging=new Mu(e.el);i.touchScrollAllowed=!1,i.minDistance=n.selectMinDistance||0,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new pm(this.dragging,kw(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Lve(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function Uve(t,e,r){let n=t.dateSpan,i=e.dateSpan,a=[n.range.start,n.range.end,i.range.start,i.range.end];a.sort(Kde);let s={};for(let o of r){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=n.allDay,s}class Ru extends sl{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:d}=u,{options:f}=l.context,h=l.context;this.subjectEl=s.subjectEl;let p=this.subjectSeg=Lo(s.subjectEl),g=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=Aw(h.getCurrentData().eventStore,g),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&g!==l.props.eventSelection?Bve(l):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=nr(o,".fc"),d.revertDuration=f.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!nr(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ht(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,p=null,m=!1,g={affectedEvents:l,mutatedEvents:Dr(),isEvent:!0};if(s){f=s.context;let v=f.options;d===f||v.editable&&v.droppable?(h=Fve(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=Cw(l,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=p,GM(g,s.dateProfile,f)||(m=!0,h=null,p=null,g.mutatedEvents=Dr()))):f=null}this.displayDrag(f,g),m?pw():mw(),o||(d===f&&mm(u,s)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new ht(o,f,h),m=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:s.origEvent,view:l}),d){if(u===o){let x=new ht(o,g.defs[f.defId],h?g.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:g});let y={oldEvent:p,event:x,relatedEvents:za(g,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}},b={};for(let S of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,S(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),b),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let x={event:p,relatedEvents:za(m,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:m}),o.emitter.trigger("eventRemove",x);let y=g.defs[f.defId],b=g.instances[h.instanceId],S=new ht(u,y,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let w={event:S,relatedEvents:za(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",w),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},NR(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},w),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,i=this.dragging=new Mu(e.el);i.pointer.selector=Ru.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new pm(this.dragging,B0);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Dr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Ru.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Fve(t,e,r,n){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=at(r):s=r);let u=Vs(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let d={datesDelta:u,standardProps:l};for(let f of n)f(d,t,e);return d}function Bve(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class Hve extends sl{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=Lo(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=Aw(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=Lo(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new ht(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,m=!1,g={affectedEvents:u,mutatedEvents:Dr(),isEvent:!0};a&&(a.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,a)||(h=zve(d,a,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=Cw(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=p,GM(g,a.dateProfile,l)||(m=!0,h=null,p=null,g.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),m?pw():mw(),s||(h&&mm(d,a)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new ht(s,o,l),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let h=new ht(s,f.defs[o.defId],l?f.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:u,event:h,relatedEvents:za(f,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Me(0),endDelta:this.validMutation.endDelta||Me(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",p)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new Mu(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let i=this.hitDragging=new pm(this.dragging,kw(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return nr(e.subjectEl,".fc-event")}}function zve(t,e,r,n){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=Vs(a,s,i,t.largeUnit);if(r){if(i.add(n.start,o)<n.end)return{startDelta:o}}else if(i.add(n.end,o)>n.start)return{endDelta:o};return null}class Wve{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let i=this.context.options.unselectCancel,a=rM(n.origEvent);this.matchesCancel=!!nr(a,i),this.matchesEvent=!!nr(a,Ru.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new ER(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Vve={fixedMirrorParent:Q},Gve={dateClick:Q,eventDragStart:Q,eventDragStop:Q,eventDrop:Q,eventResizeStart:Q,eventResizeStop:Q,eventResize:Q,drop:Q,eventReceive:Q,eventLeave:Q};Rw.dataAttrPrefix="";var qve=vi({name:"@fullcalendar/interaction",componentInteractions:[Ive,$ve,Ru,Hve],calendarInteractions:[Wve],elementDraggingImpl:Mu,optionRefiners:Vve,listenerRefiners:Gve});const Yve=()=>{const{venuesData:t,workers:e,currentSheet:r,salesData:n,setCurrentSheet:i,addCalendarEvent:a,updateCalendarEvent:s,deleteCalendarEvent:o,loadCalendarEvents:l,supabaseAPI:u}=Et(),[d,f]=N.useState("dayGridMonth"),[h,p]=N.useState([]),[m,g]=N.useState(!1),[v,x]=N.useState(!1),[y,b]=N.useState(new Date().toISOString().split("T")[0]),[S,w]=N.useState(new Date),[_,E]=N.useState({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0}),[j,A]=N.useState(null),[C,O]=N.useState({show:!1,x:0,y:0,date:null,venue:null,sales:[]}),P=N.useRef(null),k=N.useRef(null),z=async()=>{try{const T="trailer_history",D=await u.readTable(T);if(D.success){const U=D.data.map(re=>zd(re,r)),q=r==="TRAILER_HISTORY"?"Trailer":"Camper";return U.filter(re=>re.store===q)}return[]}catch{return[]}},V=()=>{const T=r==="TRAILER_HISTORY"?"Trailer":"Camper";return n.filter(D=>D.store===T)};N.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const Y=T=>{if(!T)return[];const D=t.find(ce=>ce.id===T);if(!D)return[];const U=V(),q=new Date().toISOString().split("T")[0],te=U.filter(ce=>{const fe=rr(ce.date),Ne=ce.venue?ce.venue.trim().toLowerCase():null,X=D.promo?D.promo.trim().toLowerCase():null;return Ne&&X&&Ne===X&&fe&&fe.toISOString().split("T")[0]<q}).sort((ce,fe)=>{const Ne=rr(ce.date);return rr(fe.date)-Ne}),re={};return te.forEach(ce=>{const fe=rr(ce.date);if(fe){const Ne=fe.toISOString().split("T")[0];re[Ne]||(re[Ne]={date:Ne,totalGross:0,totalNet:0,visitCount:0}),re[Ne].totalGross+=parseFloat(ce.grossSales)||0,re[Ne].totalNet+=parseFloat(ce.netSales)||0,re[Ne].visitCount+=1}}),Object.values(re).sort((ce,fe)=>new Date(fe.date)-new Date(ce.date)).slice(0,5)},M=T=>{const{date:D,jsEvent:U}=T,q=D.toISOString().split("T")[0];P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{const re=h.filter(_e=>_e.date===q).map(_e=>_e.extendedProps.venue).filter(_e=>_e).filter((_e,Fe,Ke)=>Ke.findIndex(Yt=>Yt.id===_e.id)===Fe),ue=V(),ce=ue.filter(_e=>{const Fe=rr(_e.date);return Fe&&Fe.toISOString().split("T")[0]===q}),fe=ce.map(_e=>{const Fe=_e.venue?_e.venue.trim().toLowerCase():null;return Fe?t.find(Ke=>(Ke.promo?Ke.promo.trim().toLowerCase():null)===Fe):null}).filter(_e=>_e).filter((_e,Fe,Ke)=>Ke.findIndex(Yt=>Yt.id===_e.id)===Fe),Ne=ue.map(_e=>{const Fe=_e.venue?_e.venue.trim().toLowerCase():null;return Fe?t.find(Ke=>(Ke.promo?Ke.promo.trim().toLowerCase():null)===Fe):null}).filter(_e=>_e).filter((_e,Fe,Ke)=>Ke.findIndex(Yt=>Yt.id===_e.id)===Fe),de=[...re,...fe,...Ne].filter((_e,Fe,Ke)=>Ke.findIndex(Yt=>Yt.id===_e.id)===Fe);let he=de.length>0?de[0]:null;if(!he&&ce.length>0){const _e=ce.map(Fe=>{const Ke=Fe.venue?Fe.venue.trim().toLowerCase():null;return Ke?t.find(yi=>(yi.promo?yi.promo.trim().toLowerCase():null)===Ke):null}).filter(Fe=>Fe).filter((Fe,Ke,Yt)=>Yt.findIndex(yi=>yi.id===Fe.id)===Ke);_e.length>0&&(he=_e[0])}he||(he={id:"no-data",promo:"No Sales Data for This Date",addressCity:"Unknown"}),he||(he={id:"default",promo:"No Venue Data",addressCity:"Unknown"});let we=[];he.id!=="default"&&he.id!=="no-data"&&(we=Y(he.id),n.filter(_e=>{const Fe=_e.venue?_e.venue.trim().toLowerCase():null,Ke=he.promo?he.promo.trim().toLowerCase():null;return Fe&&Fe===Ke}),[...new Set(n.map(_e=>_e.venue).filter(Boolean))]),we.length===0&&(he.id==="no-data"?we=[{date:"No previous visits",totalGross:0,totalNet:0,visitCount:0}]:he.id!=="default"&&(we=[{date:"2025-07-15",totalGross:1250,totalNet:1100,visitCount:2},{date:"2025-07-12",totalGross:800,totalNet:720,visitCount:1},{date:"2025-07-08",totalGross:2100,totalNet:1890,visitCount:3}]));const ve=320,Ee=Math.min(Math.max(we.length*40+80,120),280),qe=window.innerWidth,Bt=window.innerHeight,Ye=10;let jt=U.clientX+Ye,Ue=U.clientY+Ye;if(jt+ve>qe-Ye&&(jt=U.clientX-ve-Ye),Ue+Ee>Bt-Ye&&(Ue=U.clientY-Ee-Ye),Ue<Ye&&(Ue=Ye),jt<Ye&&(jt=Ye),jt+ve>qe-Ye&&(jt=qe-ve-Ye),jt=Math.max(Ye,Math.min(jt,qe-ve-Ye)),Ue=Math.max(Ye,Math.min(Ue,Bt-Ee-Ye)),he&&he.promo&&he.promo.toLowerCase().includes("test event")){O(_e=>({..._e,show:!1}));return}O({show:!0,x:jt,y:Ue,date:q,venue:he,sales:we})},100)},R=()=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{O(T=>({...T,show:!1}))},300)};N.useEffect(()=>{if(k.current&&y){const T=k.current.getApi();try{T.gotoDate(y)}catch(D){console.error("Error navigating to date:",D)}}},[y]);const B=T=>{if(f(T),k.current){const D=k.current.getApi();try{D.changeView(T)}catch(U){console.error("Error changing view:",U)}}};N.useEffect(()=>{(async()=>{try{const D=await l(),U=D.success?D.data:[],q=[],te=await z();if(te.length>0){const ue=te.filter(ce=>ce.venue!=="WORK DAY");if(ue.length>0){const ce={};ue.forEach((fe,Ne)=>{const X=rr(fe.date);if(X){const de=X.toISOString().split("T")[0],he=fe.venue||"Unknown Venue",we=`${de}-${he}`;ce[we]||(ce[we]={date:de,venue:he,sales:[],totalGross:0,totalNet:0,confirmedCount:0,unconfirmedCount:0}),ce[we].sales.push(fe);const ve=parseFloat(fe.grossSales)||0,Ee=parseFloat(fe.netSales)||0;ce[we].totalGross+=ve,ce[we].totalNet+=Ee,ve<=0,(fe.status||"").toLowerCase().replace(/\s+/g,"")==="confirmed"?ce[we].confirmedCount++:ce[we].unconfirmedCount++}}),Object.values(ce).forEach((fe,Ne)=>{const X=[],de=Math.min(3,Math.max(1,Math.ceil(fe.sales.length/2)));for(let qe=0;qe<de;qe++){const Bt=Ne%e.length,Ye=e[Bt];Ye&&Ye.name&&!X.includes(Ye.name)&&X.push(Ye.name)}const he=fe.unconfirmedCount===0?"Confirmed":"Unconfirmed",we=fe.unconfirmedCount===0?"#22c55e":"#dcfce7",ve=fe.unconfirmedCount===0?"#16a34a":"#22c55e";fe.totalGross<=0;const Ee={id:`sale-${fe.date}-${fe.venue}-${Ne}`,title:`Sale: ${fe.venue}`,date:fe.date,backgroundColor:we,borderColor:ve,extendedProps:{type:"sale",workers:X,worker:X.join(", "),hours:"8",venue:fe.venue,address:fe.venue,grossSales:fe.totalGross,netSales:fe.totalNet,entryCount:fe.sales.length,confirmedCount:fe.confirmedCount,unconfirmedCount:fe.unconfirmedCount,status:he}};q.push(Ee)})}}const re=[...U,...q];p(re)}catch(D){console.error("Error loading events:",D),p([])}})()},[t,e,r,l]);const F=T=>{b(T.startStr),E({title:"Work Day",date:T.startStr,workers:[],hours:"",venueId:"",isWorkDay:!0}),g(!0)},W=T=>{var U;const D=T.event;if(T.jsEvent.detail===2){const{extendedProps:q}=D;let te=[];q.workers&&Array.isArray(q.workers)?te=q.workers:q.worker&&(te=q.worker.split(",").map(re=>re.trim()).filter(re=>re)),A(D),E({title:D.title||"",date:D.startStr||D.date||"",workers:te,hours:q.hours||"",venueId:q.venueId||"",isWorkDay:q.type==="workday"||((U=D.title)==null?void 0:U.toLowerCase().includes("work day"))}),x(!0)}},G=async()=>{var T;if(j){if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const D={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((T=t.find(q=>q.id===_.venueId))==null?void 0:T.promo)||"",isWorkDay:_.isWorkDay},U=await s(j.id,D);if(U.success){const q=await l();q.success?p(te=>{const re=te.filter(ue=>{var ce;return((ce=ue.extendedProps)==null?void 0:ce.type)==="sale"});return[...q.data,...re]}):p(h.map(te=>te.id===j.id?U.data:te)),x(!1),A(null),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error updating event: ${U.error}`)}catch(D){console.error("Error updating event:",D),alert("Error updating event. Please try again.")}}},K=T=>{T.event},ie=async()=>{if(j&&window.confirm("Are you sure you want to delete this event?"))try{const T=await o(j.id);if(T.success){const D=await l();D.success?p(U=>{const q=U.filter(te=>{var re;return((re=te.extendedProps)==null?void 0:re.type)==="sale"});return[...D.data,...q]}):p(h.filter(U=>U.id!==j.id)),x(!1),A(null),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error deleting event: ${T.error}`)}catch(T){console.error("Error deleting event:",T),alert("Error deleting event. Please try again.")}},se=async()=>{var T;if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const D={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((T=t.find(q=>q.id===_.venueId))==null?void 0:T.promo)||"",isWorkDay:_.isWorkDay},U=await a(D);if(U.success){const q=await l();q.success?p(te=>{const re=te.filter(ue=>{var ce;return((ce=ue.extendedProps)==null?void 0:ce.type)==="sale"});return[...q.data,...re]}):p([...h,U.data]),g(!1),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error adding event: ${U.error}`)}catch(D){console.error("Error adding event:",D),alert("Error adding event. Please try again.")}},ye=()=>{window.print()},Te=T=>{const{event:D}=T,{extendedProps:U}=D;let q="";return Array.isArray(U.workers)?q=U.workers.join(", "):U.worker&&(q=U.worker),c.jsxs("div",{className:"p-1 text-xs",children:[U.venue&&U.type==="sale"&&c.jsxs("div",{className:"flex items-center text-gray-700 font-medium mb-1",children:[c.jsx(yn,{className:"w-3 h-3 mr-1"}),U.venue]}),q&&q.trim()!==""&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(kn,{className:"w-3 h-3 mr-1"}),q]}),U.hours&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(oa,{className:"w-3 h-3 mr-1"}),U.hours,"h"]}),U.grossSales!==void 0&&U.grossSales!==null&&c.jsxs("div",{className:`font-medium ${U.grossSales>0?"text-green-600":U.grossSales<0?"text-red-600":"text-gray-600"}`,children:["$",U.grossSales]}),U.status&&c.jsxs("div",{className:`text-xs font-medium ${U.status==="Confirmed"?"text-green-700":U.status==="Unconfirmed"?"text-yellow-700":"text-orange-700"}`,children:[U.status,U.confirmedCount>0&&U.unconfirmedCount>0&&c.jsxs("span",{className:"ml-1",children:["(",U.confirmedCount,"✓ ",U.unconfirmedCount,"?)"]})]})]})},ge=()=>{i(r==="TRAILER_HISTORY"?"CAMPER_HISTORY":"TRAILER_HISTORY")},Z=()=>{const T=new Date(S);if(T.setMonth(T.getMonth()-1),w(T),k.current){const D=k.current.getApi();try{D.gotoDate(T),setTimeout(()=>{D.changeView(d,T)},50),setTimeout(()=>{D.gotoDate(T)},150)}catch(U){console.error("Error navigating calendar:",U)}}},$=()=>{const T=new Date(S);if(T.setMonth(T.getMonth()+1),w(T),k.current){const D=k.current.getApi();try{D.gotoDate(T),setTimeout(()=>{D.changeView(d,T)},50),setTimeout(()=>{D.gotoDate(T)},150)}catch(U){console.error("Error navigating calendar:",U)}}},L=T=>{const D=T.toLocaleDateString("en-US",{month:"long"}),U=T.getFullYear();return`${D} ${U} (${U})`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:ge,className:"flex items-center px-4 py-2 text-sm font-medium bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-md transition-colors duration-200 border border-primary-300",children:c.jsx("span",{children:r==="TRAILER_HISTORY"?"🚛 Trailer":"🏕️ Camper"})}),c.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>B("dayGridMonth"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="dayGridMonth"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Month"}),c.jsx("button",{onClick:()=>B("timeGridWeek"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="timeGridWeek"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Week"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:Z,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("span",{className:"mr-1",children:"<"}),"Previous Month"]}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:L(S)}),c.jsxs("button",{onClick:$,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:["Next Month",c.jsx("span",{className:"ml-1",children:">"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>g(!0),className:"btn-primary",children:[c.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Work Day"]}),c.jsxs("button",{onClick:ye,className:"btn-outline",children:[c.jsx(WU,{className:"w-4 h-4 mr-2"}),"Print"]})]})]}),c.jsx("div",{className:"card print-calendar-container",children:c.jsx("div",{className:"card-body p-0",children:c.jsx(dR,{plugins:[Fge,jve,qve],headerToolbar:!1,initialView:d,views:{dayGridMonth:{titleFormat:{year:"numeric",month:"long"}},timeGridWeek:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:h,select:F,eventClick:W,eventDrop:K,eventContent:Te,height:"auto",eventDisplay:"block",eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},datesSet:T=>{const D=new Date(S.getFullYear(),S.getMonth(),1),U=new Date(T.start.getFullYear(),T.start.getMonth(),1);D.getTime(),U.getTime()},viewDidMount:T=>{},eventDidMount:T=>{},dayCellDidMount:T=>{const D=T.el,U=T.date;D.addEventListener("mouseenter",q=>{M({date:U,jsEvent:q})}),D.addEventListener("mouseleave",()=>{R()})},slotLaneDidMount:T=>{if(d!=="timeGridWeek")return;const D=T.el,U=T.date;D.addEventListener("mouseenter",q=>{M({date:U,jsEvent:q})}),D.addEventListener("mouseleave",()=>{R()})},ref:k})})}),C.show&&c.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border border-secondary-200 p-3 transform transition-all duration-200 ease-out",style:{left:C.x,top:C.y,pointerEvents:"none",opacity:C.show?1:0,transform:`translate(${C.show?"0":"-10px"}, ${C.show?"0":"-10px"})`,maxWidth:"320px",minWidth:"280px"},children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-secondary-900 text-sm mb-0.5",children:C.venue?C.venue.promo:"Calendar Day"}),C.sales&&C.sales.length>0&&(()=>{const T=C.sales.map(q=>typeof q.totalGross=="number"?q.totalGross:parseFloat(q.totalGross)).filter(q=>q>0);if(T.length===0)return null;const D=T.reduce((q,te)=>q+te,0)/T.length,U=Math.round(D/100)*100;return c.jsxs("div",{className:"font-bold text-xs text-primary-700 mb-0.5",children:["Avg: $",U.toLocaleString()]})})(),c.jsxs("p",{className:"text-xs text-secondary-600",children:[Io(C.date)," - ",C.venue&&C.venue.id!=="default"?"Last 5 visits":"No Data Available"]})]}),C.sales&&C.sales.length>0?c.jsx("div",{className:"space-y-1",children:C.sales.map((T,D)=>{var U;return c.jsxs("div",{className:"border-l-2 border-primary-500 pl-2 py-1",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("span",{className:"text-xs font-medium text-secondary-900",children:Io(T.date)})}),c.jsx("div",{className:"flex justify-between items-center mt-0.5",children:c.jsxs("span",{className:"text-xs text-secondary-600",children:["Gross: $",((U=T.totalGross)==null?void 0:U.toLocaleString())||"0"]})})]},T.date||D)})}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-secondary-500 italic",children:C.venue&&C.venue.id==="default"?"No sales data available for this venue":"No visits recorded for this venue"}),c.jsxs("div",{className:"text-xs text-secondary-400",children:[c.jsx("p",{children:"• Hover over days with events to see visit data"}),c.jsx("p",{children:"• Add events to track work days and sales"})]})]})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Add Work Day"}),c.jsx("button",{onClick:()=>g(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>E(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>E(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:T=>E(D=>({...D,title:T.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:T=>E(D=>({...D,date:T.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:T=>E(D=>({...D,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:T=>E(D=>({...D,workers:Array.from(T.target.selectedOptions,U=>U.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:T=>E(D=>({...D,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>g(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:se,className:"btn-primary",children:"Add Event"})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Edit Event"}),c.jsx("button",{onClick:()=>x(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>E(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>E(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:T=>E(D=>({...D,title:T.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:T=>E(D=>({...D,date:T.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:T=>E(D=>({...D,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:T=>E(D=>({...D,workers:Array.from(T.target.selectedOptions,U=>U.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:T=>E(D=>({...D,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6",children:[c.jsx("button",{onClick:ie,className:"btn-danger",children:"Delete Event"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>x(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:G,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},Kve=()=>{const{currentSheet:t,loading:e}=Et();return e?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading calendar..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 print-calendar",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8 print-header",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Calendar"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Schedule and manage events, venues, and worker assignments for Trailer and Camper operations"})]}),c.jsx(Yve,{})]})})},Xve=({onAddSale:t,onEditSale:e,onDeleteSale:r})=>{const{salesData:n,currentMonth:i,setCurrentMonth:a,venuesData:s}=Et(),[o,l]=N.useState([]),[u,d]=N.useState(null),[f,h]=N.useState(!1);N.useEffect(()=>{const y=n.filter(b=>{const S=rr(b.date);return S?S.getMonth()===i.getMonth()&&S.getFullYear()===i.getFullYear():!1}).sort((b,S)=>{const w=rr(b.date);return rr(S.date)-w});l(y)},[n,i]);const p=y=>y.store||y.venueId||"N/A",m=()=>{a(Que(i))},g=()=>{a(Xue(i))},v=async y=>{window.confirm("Are you sure you want to delete this sale entry?")&&await r(y)},x=y=>{d(y),h(!0)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:m,className:"btn-outline",children:[c.jsx(Zx,{className:"w-4 h-4 mr-1"}),"Previous Month"]}),c.jsxs("h2",{className:"text-xl font-semibold text-secondary-900",children:[zA(i)," (",i.getFullYear(),")"]}),c.jsxs("button",{onClick:g,className:"btn-outline",children:["Next Month",c.jsx(Jx,{className:"w-4 h-4 ml-1"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>a(new Date(2024,6,1)),className:"btn-outline text-sm",children:"Go to July 2024"}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Sale"]})]})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:o.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",zA(i)]})}):o.map(y=>c.jsxs("tr",{className:"table-row",onDoubleClick:()=>e(y),style:{cursor:"pointer"},children:[c.jsx("td",{className:"table-cell font-medium",children:Io(y.date)}),c.jsx("td",{className:"table-cell",children:p(y)}),c.jsx("td",{className:"table-cell font-semibold",children:zr(y.grossSales)}),c.jsx("td",{className:"table-cell",children:zr(y.netSales)}),c.jsx("td",{className:"table-cell",children:zr(y.salesTax)}),c.jsx("td",{className:"table-cell",children:y.count||1}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>x(y),className:"text-secondary-600 hover:text-secondary-900 transition-colors",title:"View Details",children:c.jsx(Bk,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>e(y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(ls,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(y.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ca,{className:"w-4 h-4"})})]})})]},y.id))})]})})})}),f&&u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Sale Details"}),c.jsx("button",{onClick:()=>h(!1),className:"text-secondary-400 hover:text-secondary-600",children:"×"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Date"}),c.jsx("p",{className:"text-secondary-900",children:Io(u.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Store"}),c.jsx("p",{className:"text-secondary-900",children:p(u)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Gross Sales (Total)"}),c.jsx("p",{className:"text-secondary-900 font-semibold",children:zr(u.grossSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Net Sales (Total)"}),c.jsx("p",{className:"text-secondary-900",children:zr(u.netSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Sales Tax (Total)"}),c.jsx("p",{className:"text-secondary-900",children:zr(u.salesTax)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Number of Entries"}),c.jsx("p",{className:"text-secondary-900",children:u.count||1})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{h(!1),e(u)},className:"btn-primary",children:"Edit"})]})]})})]})},Qve=()=>{const{currentSheet:t,addSalesEntry:e,updateSalesEntry:r,deleteSalesEntry:n,venuesData:i,loading:a}=Et(),[s,o]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState(Qm(t)),[h,p]=N.useState({}),m=()=>{u(null),f(Qm(t)),p({}),o(!0)},g=S=>{const w=S.venueId||S.venue_id||S.venue||"";u(S),f({date:Zue(S.date),status:S.status||"Confirmed",salesTax:S.salesTax!==void 0&&S.salesTax!==null?S.salesTax:0,netSales:S.netSales!==void 0&&S.netSales!==null?S.netSales:0,grossSales:S.grossSales!==void 0&&S.grossSales!==null?S.grossSales:0,venueId:w}),p({}),o(!0)},v=async S=>{const w=await n(S);w.success||alert(`Error deleting sale: ${w.error}`)},x=()=>{const S={};return d.date||(S.date="Date is required"),d.status||(S.status="Status is required"),d.grossSales<0&&(S.grossSales="Gross sales cannot be negative"),d.netSales<0&&(S.netSales="Net sales cannot be negative"),d.salesTax<0&&(S.salesTax="Sales tax cannot be negative"),p(S),Object.keys(S).length===0},y=async S=>{if(S.preventDefault(),!x())return;const w={date:d.date,status:d.status,sales_tax:d.salesTax,net_sales:d.netSales,gross_sales:d.grossSales,venue_id:d.venueId};let _;l?_=await r(l.id,w):_=await e(w),_.success?(o(!1),u(null),f(Qm(t))):alert(`Error ${l?"updating":"adding"} sale: ${_.error}`)},b=(S,w)=>{f(_=>({..._,[S]:w})),h[S]&&p(_=>({..._,[S]:""}))};return a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales data..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Daily Sales"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Manage sales entries for ",t==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsx(Xve,{onAddSale:m,onEditSale:g,onDeleteSale:v}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:l?"Edit Sale":"Add New Sale"}),c.jsx("button",{onClick:()=>o(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:d.date,onChange:S=>b("date",S.target.value),className:He("input",h.date&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500")}),h.date&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.date})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status *"}),c.jsxs("select",{value:d.status,onChange:S=>b("status",S.target.value),className:He("input",h.status&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),children:[c.jsx("option",{value:"",children:"Select Status"}),bU.map(S=>c.jsx("option",{value:S,children:S},S))]}),h.status&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.status})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:d.venueId,onChange:S=>b("venueId",S.target.value),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),i.map(S=>c.jsxs("option",{value:S.promo,children:[S.promo," - ",S.addressCity]},S.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Gross Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.grossSales,onChange:S=>b("grossSales",parseFloat(S.target.value)||0),className:He("input",h.grossSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.grossSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.grossSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Net Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.netSales,onChange:S=>b("netSales",parseFloat(S.target.value)||0),className:He("input",h.netSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.netSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.netSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Sales Tax"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.salesTax,onChange:S=>b("salesTax",parseFloat(S.target.value)||0),className:He("input",h.salesTax&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.salesTax&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.salesTax})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:l?"Update Sale":"Add Sale"})]})]})]})})]})})},Zve=({message:t,currentUserId:e})=>{var a;const r=t.sender_id===e,n=((a=t.sender)==null?void 0:a.name)||"Unknown User",i=cw(new Date(t.created_at),{addSuffix:!0});return c.jsx("div",{className:He("flex mb-4",r?"justify-end":"justify-start"),children:c.jsxs("div",{className:He("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",r?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[c.jsxs("div",{className:He("text-xs font-medium mb-1",r?"text-primary-200":"text-gray-600"),children:[n,r&&" (You)"]}),c.jsx("div",{className:"text-sm",children:t.message_text}),c.jsx("div",{className:He("text-xs mt-1",r?"text-primary-200":"text-gray-500"),children:i})]})})},Jve=({onSendMessage:t,disabled:e=!1,disabledReason:r=""})=>{const[n,i]=N.useState(""),a=o=>{o.preventDefault(),n.trim()&&!e&&(t(n.trim()),i(""))},s=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),a(o))};return c.jsxs("form",{onSubmit:a,className:"border-t border-gray-200 p-4",children:[e&&r&&c.jsx("div",{className:"mb-2 text-sm text-red-600",children:r}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),onKeyPress:s,placeholder:e?"Select your name to send messages...":"Type your message...",disabled:e,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"}),c.jsx("button",{type:"submit",disabled:!n.trim()||e,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(GU,{className:"w-4 h-4"})})]})]})},eye=()=>{var m;const{loading:t,messagesData:e,messageGroups:r,usersData:n,currentUser:i,loadMessages:a,sendMessage:s,setCurrentUser:o,setSelectedGroup:l}=Et(),[u,d]=N.useState(null),f=N.useRef(null);N.useEffect(()=>{r.length>0&&!u&&(d(r[0].id),l(r[0]))},[r,u]),N.useEffect(()=>{u&&a(u)},[u]),N.useEffect(()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})},[e]);const h=async g=>{if(!i||!u)return;const v={sender_id:i.id,group_id:u,message_text:g,message_type:"text"};await s(v)},p=g=>{d(g);const v=r.find(x=>x.id===g);l(v)};return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading messages..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Staff Messages"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Communicate with your staff members and stay connected"})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Signed in as:"})," ",i.name]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 h-[600px]",children:[c.jsxs("div",{className:"lg:col-span-1 border-r border-gray-200 bg-gray-50",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Groups"})}),c.jsx("div",{className:"p-2",children:r.map(g=>c.jsxs("button",{onClick:()=>p(g.id),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${u===g.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100 text-gray-700"}`,children:[c.jsx("div",{className:"font-medium",children:g.group_name}),c.jsxs("div",{className:"text-sm text-gray-500",children:[g.member_count||0," members"]})]},g.id))})]}),c.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((m=r.find(g=>g.id===u))==null?void 0:m.group_name)||"Select a group"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," messages"]})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"You:"})," ",i.name]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i?e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):e.map(g=>c.jsx(Zve,{message:g,currentUserId:i==null?void 0:i.id},g.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("p",{className:"text-gray-500 mb-2",children:"Please select your name in the header to start messaging"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Use the user selector in the top navigation bar"})]}),c.jsx("div",{ref:f})]}),u&&i&&c.jsx(Jve,{onSendMessage:h,disabled:!1,disabledReason:""}),u&&!i&&c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsx("p",{className:"text-center text-gray-500 text-sm",children:"Please select your name in the header to send messages"})})]})]})})]})})},tye=()=>{const{staffData:t}=Et(),[e,r]=N.useState([]),[n,i]=N.useState(!0),[a,s]=N.useState(null);N.useState({});const[o,l]=N.useState({});N.useEffect(()=>{(async()=>{try{const h=await le.getStores();if(h.success){r(h.data);const p={};for(const m of h.data){const g=await le.getCommissionTiers(m.id);g.success&&(p[m.id]=g.data||[])}l(p)}}catch(h){console.error("Error fetching data:",h)}finally{i(!1)}})()},[]);const u=(f,h,p,m)=>{const g=t.find(w=>w.id===h),v=e.find(w=>w.id===f),x=o[f]||[];if(!g||!v)return{basePay:0,bonus:0,total:0};const b=p*15;let S=0;for(const w of x)if(m>=w.sales_target){S=w.bonus_amount;break}return{basePay:b,bonus:S,total:b+S,staffName:g.name,storeName:v.name}},d=async(f,h)=>{try{console.log("Saving payroll data for store:",f,h),alert("Payroll data saved successfully!")}catch(p){alert(`Error saving payroll: ${p.message}`)}};return n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and staff data..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(f=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},f))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qx,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Calculate payroll for all stores and staff members"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(f=>{const h=t.filter(p=>p.store_id===f.id);return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",f.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(kn,{className:"w-4 h-4 mr-1"}),h.length," staff"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Vn,{className:"w-5 h-5 mr-2 text-green-600"}),"Staff Payroll"]}),h.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:h.map(p=>{const m=u(f.id,p.id,40,5e4);return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:p.name}),c.jsx("p",{className:"text-sm text-gray-600",children:p.role||"Staff Member"})]}),c.jsx("button",{onClick:()=>s(f.id===a?null:f.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:a===f.id?"Hide Details":"Show Details"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",m.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",m.bonus.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total"}),c.jsxs("p",{className:"font-medium text-blue-600",children:["$",m.total.toFixed(2)]})]})]}),a===f.id&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hours Worked"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Amount"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50000",min:"0"})]})]}),c.jsx("button",{onClick:()=>d(f.id,{staffId:p.id,payroll:m}),className:"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save Payroll"})]})]},p.id)})})]})]},f.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vp,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Payroll Summary"}),c.jsx("p",{className:"text-green-700",children:"Calculate and manage payroll for all stores and staff members. Each store shows its assigned staff with individual pay calculations."})]})]})})]})};var CR={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(Wt,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var C=w(A);C.chunkSize=parseInt(C.chunkSize),A.step||A.chunk||(C.chunkSize=null),this._handle=new g(C),(this._handle.streamer=this)._config=C}).call(this,j),this.parseChunk=function(A,C){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let k=this._config.newline;k||(P=this._config.quoteChar||'"',k=this._handle.guessLineEndings(A,P)),A=[...A.split(k).slice(O)].join(k)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(A))!==void 0&&(A=P),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+A,P=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=P.meta.cursor,O=(this._finished||(this._partialLine=O.substring(A-this._baseIndex),this._baseIndex=A),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:P,workerId:u.WORKER_ID,finished:O});else if(E(this._config.chunk)&&!C){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!O||!E(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(A){E(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:A,finished:!1})}}function f(j){var A;(j=j||{}).chunkSize||(j.chunkSize=u.RemoteChunkSize),d.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=_(this._chunkLoaded,this),A.onerror=_(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var C,O=this._config.downloadRequestHeaders;for(C in O)A.setRequestHeader(C,O[C])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+P));try{A.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(C){C=A.statusText||C,this._sendError(new Error(C))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=u.LocalChunkSize),d.call(this,j);var A,C,O=typeof FileReader<"u";this.stream=function(P){this._input=P,C=P.slice||P.webkitSlice||P.mozSlice,O?((A=new FileReader).onload=_(this._chunkLoaded,this),A.onerror=_(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,k=(this._config.chunkSize&&(k=Math.min(this._start+this._config.chunkSize,this._input.size),P=C.call(P,this._start,k)),A.readAsText(P,this._config.encoding));O||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(A.error)}}function p(j){var A;d.call(this,j=j||{}),this.stream=function(C){return A=C,this._nextChunk()},this._nextChunk=function(){var C,O;if(!this._finished)return C=this._config.chunkSize,A=C?(O=A.substring(0,C),A.substring(C)):(O=A,""),this._finished=!A,this.parseChunk(O)}}function m(j){d.call(this,j=j||{});var A=[],C=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):C=!0},this._streamData=_(function(P){try{A.push(typeof P=="string"?P:P.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(k){this._streamError(k)}},this),this._streamError=_(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=_(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var A,C,O,P,k=Math.pow(2,53),z=-k,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,R=0,B=0,F=!1,W=!1,G=[],K={data:[],errors:[],meta:{}};function ie(ge){return j.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function se(){if(K&&O&&(Te("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),O=!1),j.skipEmptyLines&&(K.data=K.data.filter(function(T){return!ie(T)})),ye()){let T=function(D,U){E(j.transformHeader)&&(D=j.transformHeader(D,U)),G.push(D)};var L=T;if(K)if(Array.isArray(K.data[0])){for(var ge=0;ye()&&ge<K.data.length;ge++)K.data[ge].forEach(T);K.data.splice(0,1)}else K.data.forEach(T)}function Z(T,D){for(var U=j.header?{}:[],q=0;q<T.length;q++){var te=q,re=T[q],re=((ue,ce)=>(fe=>(j.dynamicTypingFunction&&j.dynamicTyping[fe]===void 0&&(j.dynamicTyping[fe]=j.dynamicTypingFunction(fe)),(j.dynamicTyping[fe]||j.dynamicTyping)===!0))(ue)?ce==="true"||ce==="TRUE"||ce!=="false"&&ce!=="FALSE"&&((fe=>{if(V.test(fe)&&(fe=parseFloat(fe),z<fe&&fe<k))return 1})(ce)?parseFloat(ce):Y.test(ce)?new Date(ce):ce===""?null:ce):ce)(te=j.header?q>=G.length?"__parsed_extra":G[q]:te,re=j.transform?j.transform(re,te):re);te==="__parsed_extra"?(U[te]=U[te]||[],U[te].push(re)):U[te]=re}return j.header&&(q>G.length?Te("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+q,B+D):q<G.length&&Te("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+q,B+D)),U}var $;K&&(j.header||j.dynamicTyping||j.transform)&&($=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(Z),$=K.data.length):K.data=Z(K.data,0),j.header&&K.meta&&(K.meta.fields=G),B+=$)}function ye(){return j.header&&G.length===0}function Te(ge,Z,$,L){ge={type:ge,code:Z,message:$},L!==void 0&&(ge.row=L),K.errors.push(ge)}E(j.step)&&(P=j.step,j.step=function(ge){K=ge,ye()?se():(se(),K.data.length!==0&&(R+=ge.data.length,j.preview&&R>j.preview?C.abort():(K.data=K.data[0],P(K,M))))}),this.parse=function(ge,Z,$){var L=j.quoteChar||'"',L=(j.newline||(j.newline=this.guessLineEndings(ge,L)),O=!1,j.delimiter?E(j.delimiter)&&(j.delimiter=j.delimiter(ge),K.meta.delimiter=j.delimiter):((L=((T,D,U,q,te)=>{var re,ue,ce,fe;te=te||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ne=0;Ne<te.length;Ne++){for(var X,de=te[Ne],he=0,we=0,ve=0,Ee=(ce=void 0,new x({comments:q,delimiter:de,newline:D,preview:10}).parse(T)),qe=0;qe<Ee.data.length;qe++)U&&ie(Ee.data[qe])?ve++:(X=Ee.data[qe].length,we+=X,ce===void 0?ce=X:0<X&&(he+=Math.abs(X-ce),ce=X));0<Ee.data.length&&(we/=Ee.data.length-ve),(ue===void 0||he<=ue)&&(fe===void 0||fe<we)&&1.99<we&&(ue=he,re=de,fe=we)}return{successful:!!(j.delimiter=re),bestDelimiter:re}})(ge,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=L.bestDelimiter:(O=!0,j.delimiter=u.DefaultDelimiter),K.meta.delimiter=j.delimiter),w(j));return j.preview&&j.header&&L.preview++,A=ge,C=new x(L),K=C.parse(A,Z,$),se(),F?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,C.abort(),A=E(j.chunk)?"":A.substring(C.getCharIndex())},this.resume=function(){M.streamer._halted?(F=!1,M.streamer.parseChunk(A,!0)):setTimeout(M.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,C.abort(),K.meta.aborted=!0,E(j.complete)&&j.complete(K),A=""},this.guessLineEndings=function(T,L){T=T.substring(0,1048576);var L=new RegExp(v(L)+"([^]*?)"+v(L),"gm"),$=(T=T.replace(L,"")).split("\r"),L=T.split(`
`),T=1<L.length&&L[0].length<$[0].length;if($.length===1||T)return`
`;for(var D=0,U=0;U<$.length;U++)$[U][0]===`
`&&D++;return D>=$.length/2?`\r
`:"\r"}}function v(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(j){var A=(j=j||{}).delimiter,C=j.newline,O=j.comments,P=j.step,k=j.preview,z=j.fastMode,V=null,Y=!1,M=j.quoteChar==null?'"':j.quoteChar,R=M;if(j.escapeChar!==void 0&&(R=j.escapeChar),(typeof A!="string"||-1<u.BAD_DELIMITERS.indexOf(A))&&(A=","),O===A)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var B=0,F=!1;this.parse=function(W,G,K){if(typeof W!="string")throw new Error("Input must be a string");var ie=W.length,se=A.length,ye=C.length,Te=O.length,ge=E(P),Z=[],$=[],L=[],T=B=0;if(!W)return he();if(z||z!==!1&&W.indexOf(M)===-1){for(var D=W.split(C),U=0;U<D.length;U++){if(L=D[U],B+=L.length,U!==D.length-1)B+=C.length;else if(K)return he();if(!O||L.substring(0,Te)!==O){if(ge){if(Z=[],fe(L.split(A)),we(),F)return he()}else fe(L.split(A));if(k&&k<=U)return Z=Z.slice(0,k),he(!0)}}return he()}for(var q=W.indexOf(A,B),te=W.indexOf(C,B),re=new RegExp(v(R)+v(M),"g"),ue=W.indexOf(M,B);;)if(W[B]===M)for(ue=B,B++;;){if((ue=W.indexOf(M,ue+1))===-1)return K||$.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:B}),X();if(ue===ie-1)return X(W.substring(B,ue).replace(re,M));if(M===R&&W[ue+1]===R)ue++;else if(M===R||ue===0||W[ue-1]!==R){q!==-1&&q<ue+1&&(q=W.indexOf(A,ue+1));var ce=Ne((te=te!==-1&&te<ue+1?W.indexOf(C,ue+1):te)===-1?q:Math.min(q,te));if(W.substr(ue+1+ce,se)===A){L.push(W.substring(B,ue).replace(re,M)),W[B=ue+1+ce+se]!==M&&(ue=W.indexOf(M,B)),q=W.indexOf(A,B),te=W.indexOf(C,B);break}if(ce=Ne(te),W.substring(ue+1+ce,ue+1+ce+ye)===C){if(L.push(W.substring(B,ue).replace(re,M)),de(ue+1+ce+ye),q=W.indexOf(A,B),ue=W.indexOf(M,B),ge&&(we(),F))return he();if(k&&Z.length>=k)return he(!0);break}$.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:B}),ue++}}else if(O&&L.length===0&&W.substring(B,B+Te)===O){if(te===-1)return he();B=te+ye,te=W.indexOf(C,B),q=W.indexOf(A,B)}else if(q!==-1&&(q<te||te===-1))L.push(W.substring(B,q)),B=q+se,q=W.indexOf(A,B);else{if(te===-1)break;if(L.push(W.substring(B,te)),de(te+ye),ge&&(we(),F))return he();if(k&&Z.length>=k)return he(!0)}return X();function fe(ve){Z.push(ve),T=B}function Ne(ve){var Ee=0;return Ee=ve!==-1&&(ve=W.substring(ue+1,ve))&&ve.trim()===""?ve.length:Ee}function X(ve){return K||(ve===void 0&&(ve=W.substring(B)),L.push(ve),B=ie,fe(L),ge&&we()),he()}function de(ve){B=ve,fe(L),L=[],te=W.indexOf(C,B)}function he(ve){if(j.header&&!G&&Z.length&&!Y){var Ee=Z[0],qe=Object.create(null),Bt=new Set(Ee);let Ye=!1;for(let jt=0;jt<Ee.length;jt++){let Ue=Ee[jt];if(qe[Ue=E(j.transformHeader)?j.transformHeader(Ue,jt):Ue]){let yt,_e=qe[Ue];for(;yt=Ue+"_"+_e,_e++,Bt.has(yt););Bt.add(yt),Ee[jt]=yt,qe[Ue]++,Ye=!0,(V=V===null?{}:V)[yt]=Ue}else qe[Ue]=1,Ee[jt]=Ue;Bt.add(Ue)}Ye&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:Z,errors:$,meta:{delimiter:A,linebreak:C,aborted:F,truncated:!!ve,cursor:T+(G||0),renamedHeaders:V}}}function we(){P(he()),Z=[],$=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return B}}function y(j){var A=j.data,C=o[A.workerId],O=!1;if(A.error)C.userError(A.error,A.file);else if(A.results&&A.results.data){var P={abort:function(){O=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(E(C.userStep)){for(var k=0;k<A.results.data.length&&(C.userStep({data:A.results.data[k],errors:A.results.errors,meta:A.results.meta},P),!O);k++);delete A.results}else E(C.userChunk)&&(C.userChunk(A.results,P,A.file),delete A.results)}A.finished&&!O&&b(A.workerId,A.results)}function b(j,A){var C=o[j];E(C.userComplete)&&C.userComplete(A),C.terminate(),delete o[j]}function S(){throw new Error("Not implemented.")}function w(j){if(typeof j!="object"||j===null)return j;var A,C=Array.isArray(j)?[]:{};for(A in j)C[A]=w(j[A]);return C}function _(j,A){return function(){j.apply(A,arguments)}}function E(j){return typeof j=="function"}return u.parse=function(j,A){var C=(A=A||{}).dynamicTyping||!1;if(E(C)&&(A.dynamicTypingFunction=C,C={}),A.dynamicTyping=C,A.transform=!!E(A.transform)&&A.transform,!A.worker||!u.WORKERS_SUPPORTED)return C=null,u.NODE_STREAM_INPUT,typeof j=="string"?(j=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(j),C=new(A.download?f:p)(A)):j.readable===!0&&E(j.read)&&E(j.on)?C=new m(A):(n.File&&j instanceof File||j instanceof Object)&&(C=new h(A)),C.stream(j);(C=(()=>{var O;return!!u.WORKERS_SUPPORTED&&(O=(()=>{var P=n.URL||n.webkitURL||null,k=r.toString();return u.BLOB_URL||(u.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))})(),(O=new n.Worker(O)).onmessage=y,O.id=l++,o[O.id]=O)})()).userStep=A.step,C.userChunk=A.chunk,C.userComplete=A.complete,C.userError=A.error,A.step=E(A.step),A.chunk=E(A.chunk),A.complete=E(A.complete),A.error=E(A.error),delete A.worker,C.postMessage({input:j,config:A,workerId:C.id})},u.unparse=function(j,A){var C=!1,O=!0,P=",",k=`\r
`,z='"',V=z+z,Y=!1,M=null,R=!1,B=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||u.BAD_DELIMITERS.filter(function(G){return A.delimiter.indexOf(G)!==-1}).length||(P=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(C=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(Y=A.skipEmptyLines),typeof A.newline=="string"&&(k=A.newline),typeof A.quoteChar=="string"&&(z=A.quoteChar),typeof A.header=="boolean"&&(O=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");M=A.columns}A.escapeChar!==void 0&&(V=A.escapeChar+z),A.escapeFormulae instanceof RegExp?R=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(R=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(z),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return F(null,j,Y);if(typeof j[0]=="object")return F(M||Object.keys(j[0]),j,Y)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||M),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),F(j.fields||[],j.data||[],Y);throw new Error("Unable to serialize unrecognized input");function F(G,K,ie){var se="",ye=(typeof G=="string"&&(G=JSON.parse(G)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(G)&&0<G.length),Te=!Array.isArray(K[0]);if(ye&&O){for(var ge=0;ge<G.length;ge++)0<ge&&(se+=P),se+=W(G[ge],ge);0<K.length&&(se+=k)}for(var Z=0;Z<K.length;Z++){var $=(ye?G:K[Z]).length,L=!1,T=ye?Object.keys(K[Z]).length===0:K[Z].length===0;if(ie&&!ye&&(L=ie==="greedy"?K[Z].join("").trim()==="":K[Z].length===1&&K[Z][0].length===0),ie==="greedy"&&ye){for(var D=[],U=0;U<$;U++){var q=Te?G[U]:U;D.push(K[Z][q])}L=D.join("").trim()===""}if(!L){for(var te=0;te<$;te++){0<te&&!T&&(se+=P);var re=ye&&Te?G[te]:te;se+=W(K[Z][re],te)}Z<K.length-1&&(!ie||0<$&&!T)&&(se+=k)}}return se}function W(G,K){var ie,se;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(se=!1,R&&typeof G=="string"&&R.test(G)&&(G="'"+G,se=!0),ie=G.toString().replace(B,V),(se=se||C===!0||typeof C=="function"&&C(G,K)||Array.isArray(C)&&C[K]||((ye,Te)=>{for(var ge=0;ge<Te.length;ge++)if(-1<ye.indexOf(Te[ge]))return!0;return!1})(ie,u.BAD_DELIMITERS)||-1<ie.indexOf(P)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?z+ie+z:ie)}},u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=p,u.ReadableStreamStreamer=m,n.jQuery&&((i=n.jQuery).fn.parse=function(j){var A=j.config||{},C=[];return this.each(function(k){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)C.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},A)})}),O(),this;function O(){if(C.length===0)E(j.complete)&&j.complete();else{var k,z,V,Y,M=C[0];if(E(j.before)){var R=j.before(M.file,M.inputElem);if(typeof R=="object"){if(R.action==="abort")return k="AbortError",z=M.file,V=M.inputElem,Y=R.reason,void(E(j.error)&&j.error({name:k},z,V,Y));if(R.action==="skip")return void P();typeof R.config=="object"&&(M.instanceConfig=i.extend(M.instanceConfig,R.config))}else if(R==="skip")return void P()}var B=M.instanceConfig.complete;M.instanceConfig.complete=function(F){E(B)&&B(F,M.file,M.inputElem),P()},u.parse(M.file,M.instanceConfig)}}function P(){C.splice(0,1),O()}}),s&&(n.onmessage=function(j){j=j.data,u.WORKER_ID===void 0&&j&&(u.WORKER_ID=j.workerId),typeof j.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(j.input,j.config),finished:!0}):(n.File&&j.input instanceof File||j.input instanceof Object)&&(j=u.parse(j.input,j.config))&&n.postMessage({workerId:u.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,u})})(CR);var rye=CR.exports;const kd=Qe(rye),nye=()=>{Et();const[t,e]=N.useState(null),[r,n]=N.useState([]),[i,a]=N.useState(!1),[s,o]=N.useState(0),[l,u]=N.useState(null),d=N.useRef(null),f=M=>{const R=M.target.files[0];R&&R.type==="text/csv"?(e(R),h(R)):alert("Please select a valid CSV file")},h=M=>{kd.parse(M,{header:!0,skipEmptyLines:!0,complete:R=>{const B=R.data.slice(0,10);n(B)},error:R=>{alert("Error parsing CSV file")}})},p=M=>{if(!M)return 1;const R=M.match(/-(\d+)/);return R?parseInt(R[1]):1},m=M=>{const R=p(M["Invoice No."]);return{date:M["Invoice Date"]?new Date(M["Invoice Date"]).toISOString().split("T")[0]:null,status:"Confirmed",sales_tax:0,net_sales:parseFloat(M.Actual)*parseInt(M["Sold Qty"])||0,gross_sales:parseFloat(M.Retail)*parseInt(M["Sold Qty"])||0,common_venue_name:`${M.Vendor} - ${M.Product}`,Store:R,invoice_no:M["Invoice No."]||"",po_no:M["PO No."]||"",vendor:M.Vendor||"",style:M.Style||"",color:M.Color||"",size:M.Size||"",product:M.Product||"",description:M.Description||"",department:M.Department||"",sold_qty:parseInt(M["Sold Qty"])||0,cost:parseFloat(M.Cost)||0,retail:parseFloat(M.Retail)||0,actual:parseFloat(M.Actual)||0}},g=async()=>{if(!t){alert("Please select a file");return}a(!0),o(0),u(null);try{kd.parse(t,{header:!0,skipEmptyLines:!0,complete:async M=>{const R=M.data.map(m).filter(G=>G.date),B=100;let F=0,W=0;for(let G=0;G<R.length;G+=B){const K=R.slice(G,G+B);try{const ie=await le.addRow("trailer_history",K);ie.success?F+=K.length:(W+=K.length,console.error("Upload failed for batch:",ie.error)),o(F/R.length*100)}catch(ie){W+=K.length,console.error("Upload error for batch:",ie)}}u({success:!0,uploaded:F,failed:W,total:R.length}),a(!1)},error:M=>{u({success:!1,error:M.message}),a(!1)}})}catch(M){console.error("Upload failed:",M),u({success:!1,error:M.message}),a(!1)}},v=M=>{M.preventDefault();const R=M.dataTransfer.files[0];R&&R.type==="text/csv"&&(e(R),h(R))},x=M=>{M.preventDefault()},y=()=>{e(null),n([]),u(null),o(0),d.current&&(d.current.value="")},[b,S]=N.useState(null),[w,_]=N.useState([]),[E,j]=N.useState(!1),[A,C]=N.useState(null),O=N.useRef(null),P=M=>{const R=M.target.files[0];R&&(R.type==="text/csv"||R.type==="text/tab-separated-values"||R.name.endsWith(".tsv"))?(S(R),k(R)):alert("Please select a valid CSV or TSV file")},k=M=>{kd.parse(M,{header:!0,skipEmptyLines:!0,delimiter:M.name.endsWith(".tsv")?"	":",",complete:R=>{const B=R.data.map(V).filter(G=>G.date&&G.store),F={};for(const G of B){const K=`${G.date}_${G.store}`;F[K]||(F[K]={date:G.date,store:G.store,sales_tax:0,net_sales:0,gross_sales:0,record_count:0}),F[K].sales_tax+=parseFloat(G.sales_tax||0),F[K].net_sales+=parseFloat(G.net_sales||0),F[K].gross_sales+=parseFloat(G.gross_sales||0),F[K].record_count+=1}const W=Object.values(F).slice(0,10);_(W)},error:R=>{alert("Error parsing Trailer History file")}})},z=M=>{if(!M)return null;const R=M.match(/-(\d+)/);return R?parseInt(R[1]):null},V=M=>({date:M.Date?new Date(M.Date).toISOString():null,store:z(M["Ref No."]),sales_tax:parseFloat(M.Tax)||0,net_sales:parseFloat(M.Subtotal)||0,gross_sales:parseFloat(M.Total)||0}),Y=async()=>{if(!b){alert("Please select a file");return}j(!0),C(null);try{kd.parse(b,{header:!0,skipEmptyLines:!0,delimiter:b.name.endsWith(".tsv")?"	":",",complete:async M=>{const R=M.data.map(V).filter(F=>F.date&&F.store),B=await le.importTrailerHistory(R);C(B),j(!1)},error:M=>{C({success:!1,error:M.message}),j(!1)}})}catch(M){C({success:!1,error:M.message}),j(!1)}};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Data Upload"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Upload CSV files to import sales analysis data for all stores"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload CSV File"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:v,onDragOver:x,children:[c.jsx("input",{ref:d,type:"file",accept:".csv",onChange:f,className:"hidden"}),t?c.jsxs("div",{children:[c.jsx(ny,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:y,className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(iy,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV file here, or"," ",c.jsx("button",{onClick:()=>{var M;return(M=d.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports CSV files with sales data for all stores"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Store will be automatically detected from invoice number (e.g., INV-001-123 = Store 123)"})]})]})]}),r.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Data Preview"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",r.length," rows"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:Object.keys(r[0]||{}).map(M=>c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:M},M))})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((M,R)=>c.jsx("tr",{children:Object.values(M).map((B,F)=>c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 max-w-xs truncate",title:String(B),children:String(B)},F))},R))})]})})]}),t&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:g,disabled:i,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading... ",Math.round(s),"%"]}):"Upload Sales Data"})}),l&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[l.success?c.jsx(ry,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(ey,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Upload Complete":"Upload Failed"}),c.jsx("p",{className:`text-sm ${l.success?"text-green-700":"text-red-700"}`,children:l.success?`Successfully uploaded ${l.uploaded} records${l.failed>0?`, ${l.failed} failed`:""}`:l.error})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Import Trailer History"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${b?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:M=>{M.preventDefault();const R=M.dataTransfer.files[0];R&&(S(R),k(R))},onDragOver:M=>M.preventDefault(),children:[c.jsx("input",{ref:O,type:"file",accept:".csv,.tsv",onChange:P,className:"hidden"}),b?c.jsxs("div",{children:[c.jsx(ny,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:b.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(b.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:()=>{S(null),_([]),C(null),O.current&&(O.current.value="")},className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(iy,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV or TSV file here, or"," ",c.jsx("button",{onClick:()=>{var M;return(M=O.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports files with fields: Date, Ref No., Tax, Subtotal, Total, etc."}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Store will be detected from Ref No. (e.g., INV-001-123 = Store 123)"})]})]})]}),w.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Trailer History Preview (Aggregated by Store & Date)"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",w.length," aggregated records"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Tax"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((M,R)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:new Date(M.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.store}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.sales_tax.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.net_sales.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.gross_sales.toFixed(2)]}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.record_count})]},R))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"})," Data is automatically aggregated by store and date. Multiple records for the same store on the same date will be summed together."]})})]}),b&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:Y,disabled:E,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Importing..."]}):"Import Trailer History"})}),A&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${A.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[A.success?c.jsx(ry,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(ey,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${A.success?"text-green-900":"text-red-900"}`,children:A.success?"Import Complete":"Import Failed"}),c.jsx("p",{className:`text-sm ${A.success?"text-green-700":"text-red-700"}`,children:A.success?`Successfully processed ${A.processed||0} records${A.failed>0?`, ${A.failed} failed`:""}`:A.error})]})]})})]})})},Fn=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],iye=({storeId:t,storeName:e,onSave:r,onCancel:n})=>{const[i,a]=N.useState({}),[s,o]=N.useState(!1),[l,u]=N.useState(!0),[d,f]=N.useState(null),[h,p]=N.useState(!1),m=N.useCallback(async y=>{if(!(!y||Object.keys(y).length===0))try{const b=Fn.map((w,_)=>{var E,j,A;return{store_id:parseInt(t),day_of_week:parseInt(_),open_time:((E=y[w.key])==null?void 0:E.openTime)||"09:00",close_time:((j=y[w.key])==null?void 0:j.closeTime)||"17:00",is_open:!!((A=y[w.key])!=null&&A.isOpen)}}),S=await le.saveStoreHours(t,b);if(S.success){const w=await le.getStoreHours(t);if(w.success){const _={};Fn.forEach((E,j)=>{const A=w.data.find(C=>parseInt(C.day_of_week)===j);_[E.key]={isOpen:(A==null?void 0:A.is_open)??!0,openTime:(A==null?void 0:A.open_time)||"09:00",closeTime:(A==null?void 0:A.close_time)||"17:00"}}),a(_)}f(new Date),p(!1),console.log("Auto-saved store hours successfully")}else console.error("Auto-save failed:",S.error)}catch(b){console.error("Auto-save error:",b)}},[t]);N.useEffect(()=>{t&&(async()=>{u(!0);try{const b=await le.getStoreHours(t);if(b.success){const S={};Fn.forEach((w,_)=>{const E=b.data.find(j=>j.day_of_week===_);S[w.key]={isOpen:(E==null?void 0:E.is_open)??!0,openTime:(E==null?void 0:E.open_time)||"09:00",closeTime:(E==null?void 0:E.close_time)||"17:00"}}),a(S),f(new Date),p(!1)}else{console.error("Error loading store hours:",b.error);const S={};Fn.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(S)}}catch(b){console.error("Error loading store hours:",b);const S={};Fn.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(S)}finally{u(!1)}})()},[t]),N.useEffect(()=>{if(Object.keys(i).length>0&&h){const y=setTimeout(()=>{m(i)},2e3);return()=>clearTimeout(y)}},[i,h,m]);const g=(y,b,S)=>{a(w=>({...w,[y]:{...w[y],[b]:S}})),p(!0)},v=async()=>{o(!0);try{if(await m(i),r){const y=Fn.map((b,S)=>{var w,_,E;return{store_id:parseInt(t),day_of_week:parseInt(S),open_time:((w=i[b.key])==null?void 0:w.openTime)||"09:00",close_time:((_=i[b.key])==null?void 0:_.closeTime)||"17:00",is_open:!!((E=i[b.key])!=null&&E.isOpen)}});await r(y)}}catch(y){console.error("Error saving store hours:",y)}finally{o(!1)}},x=y=>{const b=i[y],S={};Fn.forEach(w=>{S[w.key]={...b}}),a(S)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Store Hours - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Set operating hours for each day of the week"}),d&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last saved: ",d.toLocaleTimeString(),h&&c.jsx("span",{className:"text-orange-600 ml-2",children:"• Unsaved changes"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:n,className:"btn-outline btn-sm",children:[c.jsx(Nc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:v,disabled:s,className:"btn-primary btn-sm",children:[c.jsx(eb,{className:"w-4 h-4 mr-1"}),s?"Saving...":"Save Now"]})]})]}),l?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Loading store hours..."})]}):c.jsx("div",{className:"space-y-4",children:Fn.map(y=>{var b,S,w,_,E;return c.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-24 flex-shrink-0",children:c.jsx("span",{className:"font-medium text-gray-900",children:y.label})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:`${y.key}-open`,checked:((b=i[y.key])==null?void 0:b.isOpen)||!1,onChange:j=>g(y.key,"isOpen",j.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:`${y.key}-open`,className:"text-sm text-gray-700",children:"Open"})]}),((S=i[y.key])==null?void 0:S.isOpen)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(oa,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"time",value:((w=i[y.key])==null?void 0:w.openTime)||"09:00",onChange:j=>g(y.key,"openTime",j.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),c.jsx("span",{className:"text-gray-500",children:"to"}),c.jsx("input",{type:"time",value:((_=i[y.key])==null?void 0:_.closeTime)||"17:00",onChange:j=>g(y.key,"closeTime",j.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsx("button",{onClick:()=>x(y.key),className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Copy to all days"})]}),!((E=i[y.key])!=null&&E.isOpen)&&c.jsx("span",{className:"text-gray-500 text-sm",children:"Closed"})]},y.key)})}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>{const y=["monday","tuesday","wednesday","thursday","friday"],b={...i};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"19:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekdays 10-7"}),c.jsx("button",{onClick:()=>{const y=["saturday","sunday"],b={...i};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"18:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekend 10-6"}),c.jsx("button",{onClick:()=>{const y={};Fn.forEach(b=>{y[b.key]={isOpen:!1,openTime:"09:00",closeTime:"17:00"}}),a(y)},className:"btn-outline btn-sm",children:"Set All Closed"})]})]})]})},aye=({storeId:t,storeName:e,staffData:r,onSaveShift:n,onDeleteShift:i,selectedDate:a=new Date})=>{const[s,o]=N.useState(a),[l,u]=N.useState([]),[d,f]=N.useState(!1),[h,p]=N.useState(null),[m,g]=N.useState({staffId:"",startTime:"09:00",endTime:"17:00",notes:""}),v=r.filter(T=>T.store_id===t),[x,y]=N.useState({});N.useEffect(()=>{y({0:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},1:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},2:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},3:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},4:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},5:{isOpen:!0,openTime:"10:00",closeTime:"18:00"}})},[]);const S=(()=>{const T=new Set;Object.values(x).forEach(q=>{q.isOpen&&(T.add(q.openTime),T.add(q.closeTime))});const D=Array.from(T).sort(),U=[];return D.forEach((q,te)=>{if(te<D.length-1){const re=q,ue=D[te+1];U.push(re);const ce=parseInt(re.split(":")[0]),fe=parseInt(ue.split(":")[0]);for(let Ne=ce+1;Ne<fe;Ne++)U.push(`${Ne.toString().padStart(2,"0")}:00`)}}),U})(),w=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value for formatting:",T),"--:--";try{const[D,U]=T.split(":").map(Number),q=D>=12?"PM":"AM";return`${D===0?12:D>12?D-12:D}:${U.toString().padStart(2,"0")} ${q}`}catch(D){return console.warn("Error formatting time:",T,D),"--:--"}},_=T=>x[T]||{isOpen:!1},E=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=(T=>{const D=new Date(T),U=D.getDay(),q=D.getDate()-U+(U===0?-6:1);D.setDate(q);const te=[];for(let re=0;re<6;re++){const ue=new Date(D);ue.setDate(D.getDate()+re),te.push(ue)}return te})(s);N.useEffect(()=>{A.length>0&&C()},[s,t,A]);const C=async()=>{try{const T=A[0].toISOString().split("T")[0],D=A[5].toISOString().split("T")[0],U=await le.getScheduleAssignments(t,T,D);if(U.success){const q=U.data.filter(te=>{const re=te.startTime&&te.endTime&&te.staffId;return re||console.warn("Filtering out invalid shift:",te),re});console.log("Valid shifts:",q),u(q)}}catch(T){console.error("Failed to load shifts:",T)}},O=()=>{const T=new Date(s);T.setDate(T.getDate()-7),o(T)},P=()=>{const T=new Date(s);T.setDate(T.getDate()+7),o(T)},k=()=>{o(new Date)},z=T=>T.toLocaleDateString("en-US",{month:"short",day:"numeric"}),V=T=>{const D=new Date;return T.toDateString()===D.toDateString()},Y=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value:",T),0;try{const[D,U]=T.split(":").map(Number);return D*60+U}catch(D){return console.warn("Error parsing time:",T,D),0}},M=(T,D)=>{if(!D.startTime||!D.endTime)return!1;const U=Y(T),q=Y(D.startTime),te=Y(D.endTime);return U>=q&&U<te},R=(T,D)=>{p({dayIndex:T,timeSlot:D}),g({staffId:"",startTime:D,endTime:B(D),notes:""}),f(!0)},B=T=>{const[D]=T.split(":");return`${(parseInt(D)+1).toString().padStart(2,"0")}:00`},F=async()=>{if(!m.staffId){alert("Please select a staff member");return}const T={storeId:t,staffId:m.staffId,date:A[h.dayIndex].toISOString().split("T")[0],startTime:m.startTime,endTime:m.endTime,notes:m.notes};try{const D=await le.saveScheduleAssignment(T);D.success?(u(U=>[...U,D.data]),n&&n(D.data)):alert("Failed to save shift: "+D.error)}catch(D){console.error("Error saving shift:",D),alert("An unexpected error occurred while saving the shift.")}f(!1),p(null),g({staffId:"",startTime:"09:00",endTime:"17:00",notes:""})},W=async T=>{if(window.confirm("Are you sure you want to delete this shift?"))try{const D=await le.deleteScheduleAssignment(T);D.success?(u(U=>U.filter(q=>q.id!==T)),i&&i(T)):alert("Failed to delete shift: "+D.error)}catch(D){console.error("Error deleting shift:",D),alert("An unexpected error occurred while deleting the shift.")}},G=T=>{const D=v.find(U=>U.id===T||U.id===parseInt(T));return D?D.name:`Unknown (ID: ${T})`},K=(T,D)=>{if(!T||!D)return console.warn("Missing start or end time:",{startTime:T,endTime:D}),0;const U=Y(T),q=Y(D);return Math.max(0,(q-U)/60)},ie=()=>{const T={};let D=0,U=0;return l.forEach(q=>{if(!q.startTime||!q.endTime||!q.staffId){console.warn("Skipping invalid shift:",q);return}const te=K(q.startTime,q.endTime),re=v.find(ue=>ue.id===q.staffId||ue.id===parseInt(q.staffId));if(re){T[re.id]||(T[re.id]={name:re.name,hours:0,cost:0}),T[re.id].hours+=te;let ue=0;if(re.payType==="hourly")ue=te*(re.hourlyRate||0);else if(re.payType==="salary"||re.payType==="salary+bonus"){const fe=(re.salaryAmount||0)/365,X=te/8;ue=fe*X}T[re.id].cost+=ue,D+=te,U+=ue}}),{staffTotals:T,storeTotalHours:D,storeTotalCost:U}},{staffTotals:se,storeTotalHours:ye,storeTotalCost:Te}=ie(),ge=(T,D)=>{const U=A[T].toISOString().split("T")[0];return l.filter(q=>q.date===U&&M(D,q))},Z=(T,D)=>{const U=A[T].toISOString().split("T")[0];return l.some(q=>q.date===U&&q.startTime===D)},$=(T,D)=>{const U=A[T].toISOString().split("T")[0];return l.find(q=>q.date===U&&q.startTime===D)},L=T=>{const D=A[T].toISOString().split("T")[0];return l.filter(U=>U.date===D)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Weekly Schedule - ",e]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[z(A[0])," - ",z(A[5])]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:O,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(Zx,{className:"w-5 h-5"})}),c.jsx("button",{onClick:k,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Today"}),c.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(Jx,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Week Totals"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-xs font-medium text-blue-800 mb-2",children:"Staff Hours:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.values(se).map(T=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[c.jsx("div",{className:"font-medium text-blue-900",children:T.name}),c.jsxs("div",{className:"text-blue-700",children:[T.hours.toFixed(1)," hours"]}),c.jsxs("div",{className:"text-blue-600",children:["$",T.cost.toFixed(2)]})]},T.name))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Hours"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:[ye.toFixed(1)," hours"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Cost"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:["$",Te.toFixed(2)]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("div",{className:"min-w-[800px]",children:[c.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[c.jsx("div",{className:"h-12"})," ",A.map((T,D)=>c.jsxs("div",{className:`h-12 flex flex-col items-center justify-center border rounded ${V(T)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[c.jsx("div",{className:"text-xs font-medium text-gray-600",children:E[D].slice(0,3)}),c.jsx("div",{className:`text-sm font-semibold ${V(T)?"text-blue-700":"text-gray-900"}`,children:T.getDate()})]},D))]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.jsx("div",{className:"space-y-1",children:S.map(T=>c.jsx("div",{className:"h-12 flex items-center justify-end pr-2 text-xs text-gray-500",children:w(T)},T))}),A.map((T,D)=>{const U=_(D);return c.jsx("div",{className:"space-y-1 relative",children:S.map(q=>{if(!(U.isOpen&&Y(q)>=Y(U.openTime)&&Y(q)<Y(U.closeTime)))return c.jsx("div",{className:"h-12 border border-gray-100 bg-gray-50"},q);const re=ge(D,q);return Z(D,q),$(D,q),c.jsx("div",{className:`h-12 border border-gray-200 rounded cursor-pointer transition-colors relative ${re.length>0?"bg-green-100 border-green-300 hover:bg-green-200":"hover:bg-gray-50"}`,onClick:()=>R(D,q),children:re.length>0&&c.jsxs("div",{className:"p-1 h-full flex flex-col justify-center",children:[re.slice(0,2).map((ue,ce)=>c.jsx("div",{className:"text-xs font-medium text-green-800 truncate",children:G(ue.staffId)},ue.id)),re.length>2&&c.jsxs("div",{className:"text-xs text-green-600",children:["+",re.length-2," more"]})]})},q)})},D)})]})]})}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"This Week's Shifts"}),c.jsx("div",{className:"space-y-2",children:A.map((T,D)=>{const U=L(D);return U.length===0?null:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-700 mb-1",children:[E[D]," (",z(T),")"]}),c.jsx("div",{className:"space-y-1",children:U.map(q=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xa,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:G(q.staffId)}),c.jsx(oa,{className:"w-4 h-4 text-gray-400"}),c.jsxs("span",{className:"text-gray-600",children:[w(q.startTime)," - ",w(q.endTime)]})]}),c.jsx("button",{onClick:()=>W(q.id),className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]},q.id))})]},D)})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Shift"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),c.jsxs("select",{value:m.staffId,onChange:T=>g(D=>({...D,staffId:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"",children:"Select staff member"}),v.map(T=>c.jsxs("option",{value:T.id,children:[T.name," (",T.role,")"]},T.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:m.startTime,onChange:T=>g(D=>({...D,startTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:m.endTime,onChange:T=>g(D=>({...D,endTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),c.jsx("textarea",{value:m.notes,onChange:T=>g(D=>({...D,notes:T.target.value})),rows:"3",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Any special instructions or notes..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:F,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Add Shift"})]})]})})]})},sye=({storeId:t,storeName:e,staffData:r,storeHours:n,commissionTiers:i,onSave:a,onCancel:s})=>{const[o,l]=N.useState([]),[u,d]=N.useState([]),[f,h]=N.useState([]),[p,m]=N.useState({minStaffing:2,maxConsecutiveHours:8,lunchBreakRequired:!0,lunchBreakDuration:30,minShiftDuration:3,maxHoursPerWeek:40,preferredHoursPerWeek:32}),[g,v]=N.useState([]),[x,y]=N.useState(!1),[b,S]=N.useState(new Date),w=r.filter(F=>F.store_id===t);N.useEffect(()=>{(async()=>{try{const W=await le.getStoreHours(t);W.success&&d(W.data||[]);const G=await le.getCommissionTiers(t);G.success&&h(G.data||[])}catch(W){console.error("Error fetching store data:",W)}})()},[t]);const E=(F=>{const W=new Date(F),G=W.getDay(),K=W.getDate()-G+(G===0?-6:1);W.setDate(K);const ie=[];for(let se=0;se<6;se++){const ye=new Date(W);ye.setDate(W.getDate()+se),ie.push(ye)}return ie})(b),j=F=>{if(!F)return"";const[W,G]=F.split(":"),K=parseInt(W),ie=K>=12?"PM":"AM";return`${K%12||12}:${G} ${ie}`},A=()=>w.map(F=>{const W=C(F.id),G=Math.max(0,p.maxHoursPerWeek-W);return{id:F.id,name:F.name,role:F.role,preferredHours:F.preferredHoursPerWeek||p.preferredHoursPerWeek,maxHours:F.maxHoursPerWeek||p.maxHoursPerWeek,currentHours:W,availableHours:G,hourlyRate:F.hourlyRate||0,commissionRate:O(F.id)}}),C=F=>(E[0].toISOString().split("T")[0],E[5].toISOString().split("T")[0],0),O=F=>0,P=F=>{const W=u.find(K=>K.day_of_week===F);return W?{isOpen:W.is_open,openTime:W.open_time,closeTime:W.close_time}:[{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"18:00"}][F]||{isOpen:!1,openTime:"10:00",closeTime:"19:00"}},k=()=>{y(!0);try{const F=A(),W=[],G=[];E.forEach((K,ie)=>{const se=P(ie);if(!se.isOpen)return;const ye=z(K,F,se,G,ie);W.push(...ye)}),l(W),v(G)}catch(F){console.error("Error generating schedule:",F)}finally{y(!1)}},z=(F,W,G,K,ie)=>{const se=[],ye=[...W].sort((D,U)=>U.availableHours-D.availableHours),Te=new Date(`2000-01-01T${G.openTime}`),Z=(new Date(`2000-01-01T${G.closeTime}`)-Te)/(1e3*60*60),$=Math.max(p.minStaffing,Math.ceil(Z/8));let L=0,T=new Date(Te);for(;L<$&&ye.length>0;){const D=ye.shift();if(D.availableHours<p.minShiftDuration){K.push({type:"insufficient_hours",staff:D.name,date:F.toISOString().split("T")[0],message:`${D.name} has insufficient available hours (${D.availableHours}h)`});continue}const U=Math.min(D.availableHours,Math.max(p.minShiftDuration,8));let q=new Date(T);if(q.setHours(q.getHours()+U),U>5&&p.lunchBreakRequired){const te=new Date(T);te.setHours(te.getHours()+Math.floor(U/2));const re=new Date(te);re.setMinutes(re.getMinutes()+p.lunchBreakDuration),se.push({id:Date.now()+Math.random(),store_id:t,staff_id:D.id,staff_name:D.name,date:F.toISOString().split("T")[0],day_index:ie,start_time:T.toTimeString().slice(0,5),end_time:te.toTimeString().slice(0,5),notes:"Auto-generated (before lunch)"}),se.push({id:Date.now()+Math.random()+1,store_id:t,staff_id:D.id,staff_name:D.name,date:F.toISOString().split("T")[0],day_index:ie,start_time:re.toTimeString().slice(0,5),end_time:q.toTimeString().slice(0,5),notes:"Auto-generated (after lunch)"})}else se.push({id:Date.now()+Math.random(),store_id:t,staff_id:D.id,staff_name:D.name,date:F.toISOString().split("T")[0],day_index:ie,start_time:T.toTimeString().slice(0,5),end_time:q.toTimeString().slice(0,5),notes:"Auto-generated"});L++,T=new Date(q),D.availableHours-=U}return se},V=F=>{const W=w.find(ye=>ye.id===F.staff_id);if(!W)return 0;const G=new Date(`2000-01-01T${F.start_time}`),ie=(new Date(`2000-01-01T${F.end_time}`)-G)/(1e3*60*60);let se=0;if(W.payType==="hourly")se=ie*(W.hourlyRate||0);else if(W.payType==="salary"||W.payType==="salary+bonus"){const Te=(W.salaryAmount||0)/365,Z=ie/8;if(se=Te*Z,W.payType==="salary+bonus"){const $=ie*O(W.id)/100;se+=$}}return se},Y=()=>o.reduce((F,W)=>F+V(W),0),M=async()=>{if(o.length===0){alert("No schedules to save. Please generate a schedule first.");return}y(!0);try{const F=o.map(W=>({store_id:t,staff_id:W.staff_id,date:W.date,start_time:W.start_time,end_time:W.end_time,notes:W.notes||"",created_at:new Date().toISOString()}));await a(F),alert("Schedule saved successfully!")}catch(F){console.error("Error saving schedule:",F),alert("Error saving schedule. Please try again.")}finally{y(!1)}},B=(()=>{const F={};return E.forEach((W,G)=>{const K=W.toISOString().split("T")[0];F[K]={date:W,dayIndex:G,schedules:o.filter(ie=>ie.date===K)}}),F})();return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Auto Scheduler - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Generate optimal schedules based on store hours and staff availability"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:s,className:"btn-outline btn-sm",children:[c.jsx(Nc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:M,disabled:x||o.length===0,className:"btn-primary btn-sm",children:[c.jsx(eb,{className:"w-4 h-4 mr-1"}),x?"Saving...":"Save Schedule"]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Store Staff (",w.length," employees)"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:A().map(F=>c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-blue-900",children:F.name}),c.jsxs("div",{className:"text-blue-700",children:["Available: ",F.availableHours,"h / ",F.maxHours,"h"]}),c.jsxs("div",{className:"text-blue-600",children:["Rate: $",F.hourlyRate,"/hr"]})]},F.id))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Nf,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Scheduling Rules"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Staffing"}),c.jsx("input",{type:"number",min:"1",max:"10",value:p.minStaffing,onChange:F=>m(W=>({...W,minStaffing:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Hours"}),c.jsx("input",{type:"number",min:"1",max:"12",value:p.maxConsecutiveHours,onChange:F=>m(W=>({...W,maxConsecutiveHours:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Shift Duration"}),c.jsx("input",{type:"number",min:"1",max:"8",value:p.minShiftDuration,onChange:F=>m(W=>({...W,minShiftDuration:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Hours/Week"}),c.jsx("input",{type:"number",min:"20",max:"60",value:p.maxHoursPerWeek,onChange:F=>m(W=>({...W,maxHoursPerWeek:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:k,disabled:x,className:"w-full btn-primary",children:[c.jsx(zk,{className:"w-4 h-4 mr-2"}),x?"Generating Schedule...":"Generate Auto Schedule"]})}),g.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(MU,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Scheduling Conflicts"})]}),c.jsx("div",{className:"space-y-2",children:g.map((F,W)=>c.jsxs("div",{className:"text-sm text-red-700",children:[c.jsxs("strong",{children:[F.date,":"]})," ",F.message]},W))})]}),o.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Generated Schedule (",o.length," shifts)"]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Vn,{className:"w-4 h-4 text-green-600"}),c.jsxs("span",{className:"font-medium text-green-600",children:["Total Pay: $",Y().toFixed(2)]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border border-gray-300",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Mon"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Tue"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Wed"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Thu"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Fri"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Sat"})]})}),c.jsx("tbody",{children:Object.values(B).map((F,W)=>{const G=F.schedules,K=Math.max(1,G.length);return Array.from({length:K},(ie,se)=>c.jsx("tr",{children:E.map((ye,Te)=>{const ge=B[ye.toISOString().split("T")[0]],Z=(ge==null?void 0:ge.schedules)||[],$=Z[se];return $?c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:$.staff_name}),c.jsxs("div",{className:"text-gray-600",children:[j($.start_time)," - ",j($.end_time)]})]})},Te):c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:se===0&&Z.length===0&&c.jsx("div",{className:"text-sm text-gray-400 italic",children:"No shifts"})},Te)})},`${F.date}-${se}`))})})]})})]})]})},oye=()=>{const{staffData:t}=Et(),[e,r]=N.useState("main"),[n,i]=N.useState(null),[a,s]=N.useState([]),[o,l]=N.useState(!0),[u,d]=N.useState(null);N.useEffect(()=>{(async()=>{try{const v=await le.getStores();v.success?(console.log("📊 Loaded stores:",v.data),s(v.data)):console.error("Error fetching stores:",v.error)}catch(v){console.error("Error fetching stores:",v)}finally{l(!1)}})()},[]);const f=(g,v)=>{i(v),r(g)},h=()=>{r("main"),i(null)},p=async g=>{try{const v=await le.saveStoreHours(n.id,g);v.success?(alert("Store hours saved successfully!"),h()):alert(`Error saving store hours: ${v.error}`)}catch(v){alert(`Error saving store hours: ${v.message}`)}},m=async g=>{try{const v=g.map(b=>le.saveScheduleAssignment(b)),y=(await Promise.all(v)).filter(b=>!b.success);y.length===0?(alert("Auto-generated schedule saved successfully!"),h()):alert(`Error saving some schedules: ${y.length} failed out of ${g.length}`)}catch(v){alert(`Error saving auto schedule: ${v.message}`)}};return e==="store-hours"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(iye,{storeId:n.id,storeName:n.name,onSave:p,onCancel:h})]}):e==="schedule"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(aye,{storeId:n.id,storeName:n.name,staffData:t})]}):e==="auto-scheduler"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(sye,{storeId:n.id,storeName:n.name,staffData:t,storeHours:[],onSave:m,onCancel:h})]}):e==="holiday-manager"?c.jsx(lye,{onBack:h}):o?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(g=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},g))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Hover over a store to see available scheduling actions"})]}),c.jsx("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("holiday-manager"),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-green-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"text-gray-600",children:"Manage holidays for all stores"}),c.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Click to manage →"})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>d(g.id),onMouseLeave:()=>d(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",g.number]})]})]}),u===g.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>f("store-hours",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(oa,{className:"w-4 h-4 mr-2"}),"Manage Hours"]}),c.jsxs("button",{onClick:()=>f("schedule",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Weekly Calendar"]}),g.name!=="Camper"&&g.name!=="Trailer"&&c.jsxs("button",{onClick:()=>f("auto-scheduler",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600 col-span-2",children:[c.jsx(zk,{className:"w-4 h-4 mr-2"}),"Auto Schedule"]})]})})]},g.id))})]})},lye=({onBack:t})=>{const[e,r]=N.useState([]),[n,i]=N.useState({}),[a,s]=N.useState(!0),[o,l]=N.useState({name:"",date:""}),[u,d]=N.useState(null);N.useEffect(()=>{(async()=>{try{const g=await le.getStores();if(g.success){r(g.data);const v={};for(const x of g.data){const y=await le.getStoreHolidays(x.id);y.success&&(v[x.id]=y.data||[])}i(v)}}catch(g){console.error("Error fetching data:",g)}finally{s(!1)}})()},[]);const f=async m=>{if(!o.name.trim()||!o.date){alert("Please fill in both holiday name and date");return}try{const g={store_id:m,holiday_name:o.name.trim(),holiday_date:o.date,is_closed:!0},v=await le.saveStoreHolidays(m,[g]);if(v.success){const x=await le.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),l({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${v.error}`)}catch(g){alert(`Error adding holiday: ${g.message}`)}},h=async(m,g)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const v=await le.deleteStoreHoliday(m,g);if(v.success){const x=await le.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${v.error}`)}catch(v){alert(`Error deleting holiday: ${v.message}`)}},p=async(m,g,v)=>{try{const x=await le.updateStoreHoliday(m,g,v);if(x.success){const y=await le.getStoreHolidays(m);y.success&&i(b=>({...b,[m]:y.data||[]})),d(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${x.error}`)}catch(x){alert(`Error updating holiday: ${x.message}`)}};return a?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:t,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Wd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(m=>{const g=n[m.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Cr,{className:"w-4 h-4 mr-1"}),g.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:o.name,onChange:v=>l(x=>({...x,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:o.date,onChange:v=>l(x=>({...x,date:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>f(m.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:g.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):g.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:u===v.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:v.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${v.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:v.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${v.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const x=document.getElementById(`edit-name-${v.id}`).value,y=document.getElementById(`edit-date-${v.id}`).value;p(m.id,v.id,{holiday_name:x,holiday_date:y})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>d(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:v.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>d(v.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(ls,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(m.id,v.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ca,{className:"w-4 h-4"})})]})]})},v.id))})]})]},m.id)})})]})},cye=()=>{const{staffData:t}=Et(),[e,r]=N.useState([]),[n,i]=N.useState(!0),[a,s]=N.useState({}),[o,l]=N.useState(()=>{const m=new Date,g=new Date(m.getFullYear(),m.getMonth(),1),v=new Date(m.getFullYear(),m.getMonth()+1,0);return{startDate:g.toISOString().split("T")[0],endDate:v.toISOString().split("T")[0]}});N.useEffect(()=>{(async()=>{try{const g=await le.getStores();g.success&&(r(g.data),await u(g.data))}catch(g){console.error("Error fetching data:",g)}finally{i(!1)}})()},[o]);const u=async m=>{const g={};for(const v of m)try{const x=t.filter(w=>w.store_id===v.id),y=await le.getScheduleAssignmentsForDateRange(v.id,o.startDate,o.endDate),b=await le.getSalesForDateRange(v.name,o.startDate,o.endDate),S=[];for(const w of x){const _=await le.getStaffBonusTiers(w.id),E={...w,bonus_tiers:_.success?_.data:[]},j=d(y.data||[],w.id),A=b.data||[],C=f(E,j,A);S.push({staff:E,hours:j,sales:A,payroll:C})}g[v.id]={store:v,staffPayroll:S,totalHours:S.reduce((w,_)=>w+_.hours,0),totalSales:b.data?b.data.reduce((w,_)=>w+(parseFloat(_.gross_sales)||0),0):0,totalPayroll:S.reduce((w,_)=>w+_.payroll.total,0)}}catch(x){console.error(`Error calculating payroll for store ${v.name}:`,x),g[v.id]={store:v,staffPayroll:[],totalHours:0,totalSales:0,totalPayroll:0,error:x.message}}s(g)},d=(m,g)=>{let v=0;return m.forEach(x=>{if(x.staff_id===g&&x.slot){const y=new Date(`2000-01-01T${x.slot.start_time}`),S=(new Date(`2000-01-01T${x.slot.end_time}`)-y)/(1e3*60*60);v+=S}}),v},f=(m,g,v)=>{let x=0,y=0;if(m.pay_type==="salary"||m.pay_type==="salary+bonus"){const S=m.salary_amount||0,[w,_,E]=o.startDate.split("-").map(Number),[j,A,C]=o.endDate.split("-").map(Number),O=new Date(w,_-1,E),P=new Date(j,A-1,C),k=Math.ceil((P-O)/(1e3*60*60*24))+1;x=S/365*k,y=g>0?x/g:0}else y=m.hourly_rate||15,x=g*y;let b=0;if(m.bonus_tiers&&m.bonus_tiers.length>0){const S=v.reduce((E,j)=>E+(parseFloat(j.gross_sales)||0),0),_=m.bonus_tiers.sort((E,j)=>j.sales_target-E.sales_target).find(E=>S>=E.sales_target);_&&(b=_.bonus_amount)}return{basePay:x,bonus:b,total:x+b,hourlyRate:y,totalSales:v.reduce((S,w)=>S+(parseFloat(w.gross_sales)||0),0),payType:m.pay_type||"hourly"}},h=(m,g)=>{l(v=>{let x;if(m==="startDate"){const y=new Date(g),b=new Date(y.getFullYear(),y.getMonth()+1,0);x={startDate:g,endDate:b.toISOString().split("T")[0]}}else if(m==="endDate"){const y=new Date(g);x={startDate:new Date(y.getFullYear(),y.getMonth(),1).toISOString().split("T")[0],endDate:g}}else x={...v,[m]:g};return x})},p=m=>{l(g=>{const[v,x,y]=g.startDate.split("-").map(Number),b=new Date(v,x-1,y);let S,w;if(m==="forward")S=new Date(b.getFullYear(),b.getMonth()+1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(m==="backward")S=new Date(b.getFullYear(),b.getMonth()-1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(m==="current"){const _=new Date;S=new Date(_.getFullYear(),_.getMonth(),1),w=new Date(_.getFullYear(),_.getMonth()+1,0)}return{startDate:S.toISOString().split("T")[0],endDate:w.toISOString().split("T")[0]}})};return n?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and calculating bonuses..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vp,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"View bonus calculations based on actual hours and sales data"})]})]})}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Date Range"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>p("backward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Previous Month",children:c.jsx(Zx,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[120px] text-center",children:(()=>{const[m,g,v]=o.startDate.split("-").map(Number);return new Date(m,g-1,v).toLocaleDateString("en-US",{month:"long",year:"numeric"})})()}),c.jsx("button",{onClick:()=>p("forward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Next Month",children:c.jsx(Jx,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>p("current"),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Go to Current Month",children:"Today"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",value:o.startDate,onChange:m=>h("startDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",value:o.endDate,onChange:m=>h("endDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(ty,{className:"w-5 h-5 mr-2 text-green-600"}),"Overall Summary"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Stores"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalHours)||0),0).toFixed(1)}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalSales)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalPayroll)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Payroll"})]})]})]}),c.jsx("div",{className:"space-y-6",children:e.map(m=>{const g=a[m.id];if(!g)return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsx("div",{className:"text-gray-500",children:"Loading..."})]})},m.id);const{staffPayroll:v,totalHours:x,totalSales:y,totalPayroll:b,error:S}=g;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Payroll"}),c.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",b.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Hours:"}),c.jsx("span",{className:"ml-2 font-medium",children:x.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Sales:"}),c.jsxs("span",{className:"ml-2 font-medium",children:["$",y.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Staff Count:"}),c.jsx("span",{className:"ml-2 font-medium",children:v.length})]})]})]}),c.jsx("div",{className:"p-6",children:S?c.jsxs("div",{className:"text-red-600 text-center py-4",children:["Error loading data: ",S]}):v.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:v.map(({staff:w,hours:_,sales:E,payroll:j})=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:w.name}),c.jsx("p",{className:"text-sm text-gray-600",children:w.role||"Staff Member"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",j.total.toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Total Pay"})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Hours"}),c.jsx("p",{className:"font-medium",children:_.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Rate"}),c.jsx("p",{className:"font-medium",children:j.payType==="salary"||j.payType==="salary+bonus"?`$${j.hourlyRate.toFixed(2)}/hr (effective)`:`$${j.hourlyRate}/hr`})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",j.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",j.bonus.toFixed(2)]})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sales Generated:"}),c.jsxs("span",{className:"font-medium",children:["$",j.totalSales.toFixed(2)]})]})})]},w.id))})})]},m.id)})})]})},uye=()=>{const[t,e]=N.useState([]),[r,n]=N.useState({}),[i,a]=N.useState(!0);N.useState(null);const[s,o]=N.useState({name:"",date:""}),[l,u]=N.useState(null);N.useEffect(()=>{(async()=>{try{const m=await le.getStores();if(m.success){e(m.data);const g={};for(const v of m.data){const x=await le.getStoreHolidays(v.id);x.success&&(g[v.id]=x.data||[])}n(g)}}catch(m){console.error("Error fetching data:",m)}finally{a(!1)}})()},[]);const d=async p=>{if(!s.name.trim()||!s.date){alert("Please fill in both holiday name and date");return}try{const m={store_id:p,holiday_name:s.name.trim(),holiday_date:s.date,is_closed:!0},g=await le.saveStoreHolidays(p,[m]);if(g.success){const v=await le.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),o({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${g.error}`)}catch(m){alert(`Error adding holiday: ${m.message}`)}},f=async(p,m)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const g=await le.deleteStoreHoliday(p,m);if(g.success){const v=await le.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${g.error}`)}catch(g){alert(`Error deleting holiday: ${g.message}`)}},h=async(p,m,g)=>{try{const v=await le.updateStoreHoliday(p,m,g);if(v.success){const x=await le.getStoreHolidays(p);x.success&&n(y=>({...y,[p]:x.data||[]})),u(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${v.error}`)}catch(v){alert(`Error updating holiday: ${v.message}`)}};return i?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(p=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},p))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:t.map(p=>{const m=r[p.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(yn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Cr,{className:"w-4 h-4 mr-1"}),m.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:s.name,onChange:g=>o(v=>({...v,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:s.date,onChange:g=>o(v=>({...v,date:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>d(p.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:m.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):m.map(g=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l===g.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:g.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${g.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:g.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${g.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const v=document.getElementById(`edit-name-${g.id}`).value,x=document.getElementById(`edit-date-${g.id}`).value;h(p.id,g.id,{holiday_name:v,holiday_date:x})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>u(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:g.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(ls,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>f(p.id,g.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ca,{className:"w-4 h-4"})})]})]})},g.id))})]})]},p.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Holiday Management"}),c.jsx("p",{className:"text-green-700",children:"Manage holidays for all stores in one centralized location. Each store can have its own set of holidays that apply to all staff members."})]})]})})]})};function dye(){return c.jsx(AU,{children:c.jsx(t4,{children:c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs(kU,{children:[c.jsx(TF,{}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(YL,{children:[c.jsx(hr,{path:"/",element:c.jsx(GL,{to:"/tasks",replace:!0})}),c.jsx(hr,{path:"/dashboard",element:c.jsx(rde,{})}),c.jsx(hr,{path:"/venues",element:c.jsx(ide,{})}),c.jsx(hr,{path:"/staff",element:c.jsx(ode,{})}),c.jsx(hr,{path:"/tasks",element:c.jsx(cde,{})}),c.jsx(hr,{path:"/calendar",element:c.jsx(Kve,{})}),c.jsx(hr,{path:"/daily-sales",element:c.jsx(Qve,{})}),c.jsx(hr,{path:"/messages",element:c.jsx(eye,{})}),c.jsx(hr,{path:"/pay-calculator",element:c.jsx(tye,{})}),c.jsx(hr,{path:"/sales-upload",element:c.jsx(nye,{})}),c.jsx(hr,{path:"/scheduler",element:c.jsx(oye,{})}),c.jsx(hr,{path:"/bonuses",element:c.jsx(cye,{})}),c.jsx(hr,{path:"/holiday-manager",element:c.jsx(uye,{})})]})})]})})})})}Xg.createRoot(document.getElementById("root")).render(c.jsx(H.StrictMode,{children:c.jsx(dye,{})}));
//# sourceMappingURL=index-e10f243d.js.map
