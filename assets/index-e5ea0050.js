function RR(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function IR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var ZT={exports:{}},Jh={},JT={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),$R=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),FR=Symbol.for("react.strict_mode"),UR=Symbol.for("react.profiler"),BR=Symbol.for("react.provider"),HR=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),WR=Symbol.for("react.suspense"),VR=Symbol.for("react.memo"),GR=Symbol.for("react.lazy"),Qw=Symbol.iterator;function qR(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var eN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tN=Object.assign,rN={};function Vo(t,e,r){this.props=t,this.context=e,this.refs=rN,this.updater=r||eN}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nN(){}nN.prototype=Vo.prototype;function Z0(t,e,r){this.props=t,this.context=e,this.refs=rN,this.updater=r||eN}var J0=Z0.prototype=new nN;J0.constructor=Z0;tN(J0,Vo.prototype);J0.isPureReactComponent=!0;var Xw=Array.isArray,aN=Object.prototype.hasOwnProperty,ex={current:null},iN={key:!0,ref:!0,__self:!0,__source:!0};function sN(t,e,r){var n,a={},i=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)aN.call(e,n)&&!iN.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:bu,type:t,key:i,ref:s,props:a,_owner:ex.current}}function YR(t,e){return{$$typeof:bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tx(t){return typeof t=="object"&&t!==null&&t.$$typeof===bu}function KR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zw=/\/+/g;function xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KR(""+t.key):e.toString(36)}function Id(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case bu:case $R:s=!0}}if(s)return s=t,a=a(s),t=n===""?"."+xp(s,0):n,Xw(a)?(r="",t!=null&&(r=t.replace(Zw,"$&/")+"/"),Id(a,e,r,"",function(u){return u})):a!=null&&(tx(a)&&(a=YR(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Zw,"$&/")+"/")+t)),e.push(a)),1;if(s=0,n=n===""?".":n+":",Xw(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+xp(i,o);s+=Id(i,e,r,l,a)}else if(l=qR(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+xp(i,o++),s+=Id(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hu(t,e,r){if(t==null)return t;var n=[],a=0;return Id(t,n,"","",function(i){return e.call(r,i,a++)}),n}function QR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dr={current:null},$d={transition:null},XR={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:$d,ReactCurrentOwner:ex};function oN(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Hu,forEach:function(t,e,r){Hu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!tx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Vo;De.Fragment=LR;De.Profiler=UR;De.PureComponent=Z0;De.StrictMode=FR;De.Suspense=WR;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR;De.act=oN;De.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=tN({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=ex.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)aN.call(e,l)&&!iN.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:bu,type:t.type,key:a,ref:i,props:n,_owner:s}};De.createContext=function(t){return t={$$typeof:HR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BR,_context:t},t.Consumer=t};De.createElement=sN;De.createFactory=function(t){var e=sN.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:zR,render:t}};De.isValidElement=tx;De.lazy=function(t){return{$$typeof:GR,_payload:{_status:-1,_result:t},_init:QR}};De.memo=function(t,e){return{$$typeof:VR,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=$d.transition;$d.transition={};try{t()}finally{$d.transition=e}};De.unstable_act=oN;De.useCallback=function(t,e){return dr.current.useCallback(t,e)};De.useContext=function(t){return dr.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return dr.current.useDeferredValue(t)};De.useEffect=function(t,e){return dr.current.useEffect(t,e)};De.useId=function(){return dr.current.useId()};De.useImperativeHandle=function(t,e,r){return dr.current.useImperativeHandle(t,e,r)};De.useInsertionEffect=function(t,e){return dr.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return dr.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return dr.current.useMemo(t,e)};De.useReducer=function(t,e,r){return dr.current.useReducer(t,e,r)};De.useRef=function(t){return dr.current.useRef(t)};De.useState=function(t){return dr.current.useState(t)};De.useSyncExternalStore=function(t,e,r){return dr.current.useSyncExternalStore(t,e,r)};De.useTransition=function(){return dr.current.useTransition()};De.version="18.3.1";JT.exports=De;var N=JT.exports;const W=Je(N),ZR=RR({__proto__:null,default:W},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=N,eI=Symbol.for("react.element"),tI=Symbol.for("react.fragment"),rI=Object.prototype.hasOwnProperty,nI=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aI={key:!0,ref:!0,__self:!0,__source:!0};function lN(t,e,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)rI.call(e,n)&&!aI.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:eI,type:t,key:i,ref:s,props:a,_owner:nI.current}}Jh.Fragment=tI;Jh.jsx=lN;Jh.jsxs=lN;ZT.exports=Jh;var c=ZT.exports,Jg={},cN={exports:{}},Rr={},uN={exports:{}},dN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,B){var F=I.length;I.push(B);e:for(;0<F;){var z=F-1>>>1,G=I[z];if(0<a(G,B))I[z]=B,I[F]=G,F=z;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var B=I[0],F=I.pop();if(F!==B){I[0]=F;e:for(var z=0,G=I.length,q=G>>>1;z<q;){var ae=2*(z+1)-1,ce=I[ae],ye=ae+1,Te=I[ye];if(0>a(ce,F))ye<G&&0>a(Te,ce)?(I[z]=Te,I[ye]=F,z=ye):(I[z]=ce,I[ae]=F,z=ae);else if(ye<G&&0>a(Te,F))I[z]=Te,I[ye]=F,z=ye;else break e}}return B}function a(I,B){var F=I.sortIndex-B.sortIndex;return F!==0?F:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=I)n(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(u)}}function S(I){if(g=!1,b(I),!p)if(r(l)!==null)p=!0,V(w);else{var B=r(u);B!==null&&M(S,B.startTime-I)}}function w(I,B){p=!1,g&&(g=!1,x(j),j=-1),m=!0;var F=h;try{for(b(B),f=r(l);f!==null&&(!(f.expirationTime>B)||I&&!P());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var G=z(f.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(l)&&n(l),b(B)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var ae=r(u);ae!==null&&M(S,ae.startTime-B),q=!1}return q}finally{f=null,h=F,m=!1}}var _=!1,E=null,j=-1,T=5,O=-1;function P(){return!(t.unstable_now()-O<T)}function D(){if(E!==null){var I=t.unstable_now();O=I;var B=!0;try{B=E(!0,I)}finally{B?k():(_=!1,E=null)}}else _=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=D,k=function(){H.postMessage(null)}}else k=function(){v(D,0)};function V(I){E=I,_||(_=!0,k())}function M(I,B){j=v(function(){I(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,V(w))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var F=h;h=B;try{return I()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=h;h=I;try{return B()}finally{h=F}},t.unstable_scheduleCallback=function(I,B,F){var z=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=F+G,I={id:d++,callback:B,priorityLevel:I,startTime:F,expirationTime:G,sortIndex:-1},F>z?(I.sortIndex=F,e(u,I),r(l)===null&&I===r(u)&&(g?(x(j),j=-1):g=!0,M(S,F-z))):(I.sortIndex=G,e(l,I),p||m||(p=!0,V(w))),I},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(I){var B=h;return function(){var F=h;h=B;try{return I.apply(this,arguments)}finally{h=F}}}})(dN);uN.exports=dN;var iI=uN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI=N,Pr=iI;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fN=new Set,mc={};function cs(t,e){lo(t,e),lo(t+"Capture",e)}function lo(t,e){for(mc[t]=e,t=0;t<e.length;t++)fN.add(e[t])}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ev=Object.prototype.hasOwnProperty,oI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jw={},eS={};function lI(t){return ev.call(eS,t)?!0:ev.call(Jw,t)?!1:oI.test(t)?eS[t]=!0:(Jw[t]=!0,!1)}function cI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uI(t,e,r,n){if(e===null||typeof e>"u"||cI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,r,n,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function nx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rx,nx);qt[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rx,nx);qt[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rx,nx);qt[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ax(t,e,r,n){var a=qt.hasOwnProperty(e)?qt[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uI(e,r,a,n)&&(r=null),n||a===null?lI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fa=sI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),tv=Symbol.for("react.profiler"),hN=Symbol.for("react.provider"),mN=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),rv=Symbol.for("react.suspense"),nv=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),pN=Symbol.for("react.offscreen"),tS=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=tS&&t[tS]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,bp;function Ul(t){if(bp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bp=e&&e[1]||""}return`
`+bp+t}var wp=!1;function Sp(t,e){if(!t||wp)return"";wp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{wp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ul(t):""}function dI(t){switch(t.tag){case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return t=Sp(t.type,!1),t;case 11:return t=Sp(t.type.render,!1),t;case 1:return t=Sp(t.type,!0),t;default:return""}}function av(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case Ms:return"Portal";case tv:return"Profiler";case ix:return"StrictMode";case rv:return"Suspense";case nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mN:return(t.displayName||"Context")+".Consumer";case hN:return(t._context.displayName||"Context")+".Provider";case sx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ox:return e=t.displayName||null,e!==null?e:av(t.type)||"Memo";case _a:e=t._payload,t=t._init;try{return av(t(e))}catch{}}return null}function fI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return av(e);case 8:return e===ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Za(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hI(t){var e=gN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wu(t){t._valueTracker||(t._valueTracker=hI(t))}function vN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iv(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function rS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Za(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yN(t,e){e=e.checked,e!=null&&ax(t,"checked",e,!1)}function sv(t,e){yN(t,e);var r=Za(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ov(t,e.type,r):e.hasOwnProperty("defaultValue")&&ov(t,e.type,Za(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ov(t,e,r){(e!=="number"||nf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bl=Array.isArray;function Qs(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Za(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function lv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Bl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Za(r)}}function xN(t,e){var r=Za(e.value),n=Za(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function iS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vu,wN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vu=Vu||document.createElement("div"),Vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mI=["Webkit","ms","Moz","O"];Object.keys(Gl).forEach(function(t){mI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gl[e]=Gl[t]})});function SN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gl.hasOwnProperty(t)&&Gl[t]?(""+e).trim():e+"px"}function _N(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=SN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var pI=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uv(t,e){if(e){if(pI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function dv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fv=null;function lx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hv=null,Xs=null,Zs=null;function sS(t){if(t=_u(t)){if(typeof hv!="function")throw Error(te(280));var e=t.stateNode;e&&(e=am(e),hv(t.stateNode,t.type,e))}}function EN(t){Xs?Zs?Zs.push(t):Zs=[t]:Xs=t}function jN(){if(Xs){var t=Xs,e=Zs;if(Zs=Xs=null,sS(t),e)for(t=0;t<e.length;t++)sS(e[t])}}function AN(t,e){return t(e)}function TN(){}var _p=!1;function NN(t,e,r){if(_p)return t(e,r);_p=!0;try{return AN(t,e,r)}finally{_p=!1,(Xs!==null||Zs!==null)&&(TN(),jN())}}function gc(t,e){var r=t.stateNode;if(r===null)return null;var n=am(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var mv=!1;if(aa)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){mv=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{mv=!1}function gI(t,e,r,n,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var ql=!1,af=null,sf=!1,pv=null,vI={onError:function(t){ql=!0,af=t}};function yI(t,e,r,n,a,i,s,o,l){ql=!1,af=null,gI.apply(vI,arguments)}function xI(t,e,r,n,a,i,s,o,l){if(yI.apply(this,arguments),ql){if(ql){var u=af;ql=!1,af=null}else throw Error(te(198));sf||(sf=!0,pv=u)}}function us(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function CN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oS(t){if(us(t)!==t)throw Error(te(188))}function bI(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return oS(a),t;if(i===n)return oS(a),e;i=i.sibling}throw Error(te(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function kN(t){return t=bI(t),t!==null?ON(t):null}function ON(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ON(t);if(e!==null)return e;t=t.sibling}return null}var DN=Pr.unstable_scheduleCallback,lS=Pr.unstable_cancelCallback,wI=Pr.unstable_shouldYield,SI=Pr.unstable_requestPaint,St=Pr.unstable_now,_I=Pr.unstable_getCurrentPriorityLevel,cx=Pr.unstable_ImmediatePriority,PN=Pr.unstable_UserBlockingPriority,of=Pr.unstable_NormalPriority,EI=Pr.unstable_LowPriority,MN=Pr.unstable_IdlePriority,em=null,kn=null;function jI(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(em,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:NI,AI=Math.log,TI=Math.LN2;function NI(t){return t>>>=0,t===0?32:31-(AI(t)/TI|0)|0}var Gu=64,qu=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Hl(o):(i&=s,i!==0&&(n=Hl(i)))}else s=r&~a,s!==0?n=Hl(s):i!==0&&(n=Hl(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vn(e),a=1<<r,n|=t[r],e&=~a;return n}function CI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-vn(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=CI(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function gv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RN(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function Ep(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=r}function OI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-vn(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function ux(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vn(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var Ge=0;function IN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $N,dx,LN,FN,UN,vv=!1,Yu=[],Fa=null,Ua=null,Ba=null,vc=new Map,yc=new Map,Na=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cS(t,e){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(e.pointerId)}}function vl(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=_u(e),e!==null&&dx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function PI(t,e,r,n,a){switch(e){case"focusin":return Fa=vl(Fa,t,e,r,n,a),!0;case"dragenter":return Ua=vl(Ua,t,e,r,n,a),!0;case"mouseover":return Ba=vl(Ba,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return vc.set(i,vl(vc.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,yc.set(i,vl(yc.get(i)||null,t,e,r,n,a)),!0}return!1}function BN(t){var e=Pi(t.target);if(e!==null){var r=us(e);if(r!==null){if(e=r.tag,e===13){if(e=CN(r),e!==null){t.blockedOn=e,UN(t.priority,function(){LN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=yv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);fv=n,r.target.dispatchEvent(n),fv=null}else return e=_u(r),e!==null&&dx(e),t.blockedOn=r,!1;e.shift()}return!0}function uS(t,e,r){Ld(t)&&r.delete(e)}function MI(){vv=!1,Fa!==null&&Ld(Fa)&&(Fa=null),Ua!==null&&Ld(Ua)&&(Ua=null),Ba!==null&&Ld(Ba)&&(Ba=null),vc.forEach(uS),yc.forEach(uS)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,vv||(vv=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,MI)))}function xc(t){function e(a){return yl(a,t)}if(0<Yu.length){yl(Yu[0],t);for(var r=1;r<Yu.length;r++){var n=Yu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fa!==null&&yl(Fa,t),Ua!==null&&yl(Ua,t),Ba!==null&&yl(Ba,t),vc.forEach(e),yc.forEach(e),r=0;r<Na.length;r++)n=Na[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Na.length&&(r=Na[0],r.blockedOn===null);)BN(r),r.blockedOn===null&&Na.shift()}var Js=fa.ReactCurrentBatchConfig,cf=!0;function RI(t,e,r,n){var a=Ge,i=Js.transition;Js.transition=null;try{Ge=1,fx(t,e,r,n)}finally{Ge=a,Js.transition=i}}function II(t,e,r,n){var a=Ge,i=Js.transition;Js.transition=null;try{Ge=4,fx(t,e,r,n)}finally{Ge=a,Js.transition=i}}function fx(t,e,r,n){if(cf){var a=yv(t,e,r,n);if(a===null)Mp(t,e,n,uf,r),cS(t,n);else if(PI(a,t,e,r,n))n.stopPropagation();else if(cS(t,n),e&4&&-1<DI.indexOf(t)){for(;a!==null;){var i=_u(a);if(i!==null&&$N(i),i=yv(t,e,r,n),i===null&&Mp(t,e,n,uf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Mp(t,e,n,null,r)}}var uf=null;function yv(t,e,r,n){if(uf=null,t=lx(n),t=Pi(t),t!==null)if(e=us(t),e===null)t=null;else if(r=e.tag,r===13){if(t=CN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uf=t,null}function HN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_I()){case cx:return 1;case PN:return 4;case of:case EI:return 16;case MN:return 536870912;default:return 16}default:return 16}}var Da=null,hx=null,Fd=null;function zN(){if(Fd)return Fd;var t,e=hx,r=e.length,n,a="value"in Da?Da.value:Da.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return Fd=a.slice(t,1<n?1-n:void 0)}function Ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function dS(){return!1}function Ir(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ku:dS,this.isPropagationStopped=dS,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mx=Ir(Go),Su=vt({},Go,{view:0,detail:0}),$I=Ir(Su),jp,Ap,xl,tm=vt({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:px,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(jp=t.screenX-xl.screenX,Ap=t.screenY-xl.screenY):Ap=jp=0,xl=t),jp)},movementY:function(t){return"movementY"in t?t.movementY:Ap}}),fS=Ir(tm),LI=vt({},tm,{dataTransfer:0}),FI=Ir(LI),UI=vt({},Su,{relatedTarget:0}),Tp=Ir(UI),BI=vt({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),HI=Ir(BI),zI=vt({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WI=Ir(zI),VI=vt({},Go,{data:0}),hS=Ir(VI),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YI[t])?!!e[t]:!1}function px(){return KI}var QI=vt({},Su,{key:function(t){if(t.key){var e=GI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:px,charCode:function(t){return t.type==="keypress"?Ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XI=Ir(QI),ZI=vt({},tm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mS=Ir(ZI),JI=vt({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:px}),e$=Ir(JI),t$=vt({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),r$=Ir(t$),n$=vt({},tm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a$=Ir(n$),i$=[9,13,27,32],gx=aa&&"CompositionEvent"in window,Yl=null;aa&&"documentMode"in document&&(Yl=document.documentMode);var s$=aa&&"TextEvent"in window&&!Yl,WN=aa&&(!gx||Yl&&8<Yl&&11>=Yl),pS=String.fromCharCode(32),gS=!1;function VN(t,e){switch(t){case"keyup":return i$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function o$(t,e){switch(t){case"compositionend":return GN(e);case"keypress":return e.which!==32?null:(gS=!0,pS);case"textInput":return t=e.data,t===pS&&gS?null:t;default:return null}}function l$(t,e){if(Is)return t==="compositionend"||!gx&&VN(t,e)?(t=zN(),Fd=hx=Da=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WN&&e.locale!=="ko"?null:e.data;default:return null}}var c$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c$[t.type]:e==="textarea"}function qN(t,e,r,n){EN(n),e=df(e,"onChange"),0<e.length&&(r=new mx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Kl=null,bc=null;function u$(t){aC(t,0)}function rm(t){var e=Fs(t);if(vN(e))return t}function d$(t,e){if(t==="change")return e}var YN=!1;if(aa){var Np;if(aa){var Cp="oninput"in document;if(!Cp){var yS=document.createElement("div");yS.setAttribute("oninput","return;"),Cp=typeof yS.oninput=="function"}Np=Cp}else Np=!1;YN=Np&&(!document.documentMode||9<document.documentMode)}function xS(){Kl&&(Kl.detachEvent("onpropertychange",KN),bc=Kl=null)}function KN(t){if(t.propertyName==="value"&&rm(bc)){var e=[];qN(e,bc,t,lx(t)),NN(u$,e)}}function f$(t,e,r){t==="focusin"?(xS(),Kl=e,bc=r,Kl.attachEvent("onpropertychange",KN)):t==="focusout"&&xS()}function h$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rm(bc)}function m$(t,e){if(t==="click")return rm(e)}function p$(t,e){if(t==="input"||t==="change")return rm(e)}function g$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:g$;function wc(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ev.call(e,a)||!xn(t[a],e[a]))return!1}return!0}function bS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wS(t,e){var r=bS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bS(r)}}function QN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XN(){for(var t=window,e=nf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=nf(t.document)}return e}function vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v$(t){var e=XN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&QN(r.ownerDocument.documentElement,r)){if(n!==null&&vx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=wS(r,i);var s=wS(r,n);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y$=aa&&"documentMode"in document&&11>=document.documentMode,$s=null,xv=null,Ql=null,bv=!1;function SS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bv||$s==null||$s!==nf(n)||(n=$s,"selectionStart"in n&&vx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ql&&wc(Ql,n)||(Ql=n,n=df(xv,"onSelect"),0<n.length&&(e=new mx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=$s)))}function Qu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ls={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},kp={},ZN={};aa&&(ZN=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function nm(t){if(kp[t])return kp[t];if(!Ls[t])return t;var e=Ls[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ZN)return kp[t]=e[r];return t}var JN=nm("animationend"),eC=nm("animationiteration"),tC=nm("animationstart"),rC=nm("transitionend"),nC=new Map,_S="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){nC.set(t,e),cs(e,[t])}for(var Op=0;Op<_S.length;Op++){var Dp=_S[Op],x$=Dp.toLowerCase(),b$=Dp[0].toUpperCase()+Dp.slice(1);ni(x$,"on"+b$)}ni(JN,"onAnimationEnd");ni(eC,"onAnimationIteration");ni(tC,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(rC,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w$=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function ES(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xI(n,e,void 0,t),t.currentTarget=null}function aC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;ES(a,o,u),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;ES(a,o,u),i=l}}}if(sf)throw t=pv,sf=!1,pv=null,t}function ot(t,e){var r=e[jv];r===void 0&&(r=e[jv]=new Set);var n=t+"__bubble";r.has(n)||(iC(e,t,2,!1),r.add(n))}function Pp(t,e,r){var n=0;e&&(n|=4),iC(r,t,n,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Sc(t){if(!t[Xu]){t[Xu]=!0,fN.forEach(function(r){r!=="selectionchange"&&(w$.has(r)||Pp(r,!1,t),Pp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,Pp("selectionchange",!1,e))}}function iC(t,e,r,n){switch(HN(e)){case 1:var a=RI;break;case 4:a=II;break;default:a=fx}r=a.bind(null,e,r,t),a=void 0,!mv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Mp(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Pi(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}NN(function(){var u=i,d=lx(r),f=[];e:{var h=nC.get(t);if(h!==void 0){var m=mx,p=t;switch(t){case"keypress":if(Ud(r)===0)break e;case"keydown":case"keyup":m=XI;break;case"focusin":p="focus",m=Tp;break;case"focusout":p="blur",m=Tp;break;case"beforeblur":case"afterblur":m=Tp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=e$;break;case JN:case eC:case tC:m=HI;break;case rC:m=r$;break;case"scroll":m=$I;break;case"wheel":m=a$;break;case"copy":case"cut":case"paste":m=WI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mS}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=gc(y,x),S!=null&&g.push(_c(y,S,b)))),v)break;y=y.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==fv&&(p=r.relatedTarget||r.fromElement)&&(Pi(p)||p[ia]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Pi(p):null,p!==null&&(v=us(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=fS,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=mS,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=m==null?h:Fs(m),b=p==null?h:Fs(p),h=new g(S,y+"leave",m,r,d),h.target=v,h.relatedTarget=b,S=null,Pi(d)===u&&(g=new g(x,y+"enter",p,r,d),g.target=b,g.relatedTarget=v,S=g),v=S,m&&p)t:{for(g=m,x=p,y=0,b=g;b;b=ws(b))y++;for(b=0,S=x;S;S=ws(S))b++;for(;0<y-b;)g=ws(g),y--;for(;0<b-y;)x=ws(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=ws(g),x=ws(x)}g=null}else g=null;m!==null&&jS(f,h,m,g,!1),p!==null&&v!==null&&jS(f,v,p,g,!0)}}e:{if(h=u?Fs(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=d$;else if(vS(h))if(YN)w=p$;else{w=h$;var _=f$}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=m$);if(w&&(w=w(t,u))){qN(f,w,r,d);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&ov(h,"number",h.value)}switch(_=u?Fs(u):window,t){case"focusin":(vS(_)||_.contentEditable==="true")&&($s=_,xv=u,Ql=null);break;case"focusout":Ql=xv=$s=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,SS(f,r,d);break;case"selectionchange":if(y$)break;case"keydown":case"keyup":SS(f,r,d)}var E;if(gx)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Is?VN(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(WN&&r.locale!=="ko"&&(Is||j!=="onCompositionStart"?j==="onCompositionEnd"&&Is&&(E=zN()):(Da=d,hx="value"in Da?Da.value:Da.textContent,Is=!0)),_=df(u,j),0<_.length&&(j=new hS(j,t,null,r,d),f.push({event:j,listeners:_}),E?j.data=E:(E=GN(r),E!==null&&(j.data=E)))),(E=s$?o$(t,r):l$(t,r))&&(u=df(u,"onBeforeInput"),0<u.length&&(d=new hS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}aC(f,e)})}function _c(t,e,r){return{instance:t,listener:e,currentTarget:r}}function df(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=gc(t,r),i!=null&&n.unshift(_c(t,i,a)),i=gc(t,e),i!=null&&n.push(_c(t,i,a))),t=t.return}return n}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jS(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=gc(r,i),l!=null&&s.unshift(_c(r,l,o))):a||(l=gc(r,i),l!=null&&s.push(_c(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var S$=/\r\n?/g,_$=/\u0000|\uFFFD/g;function AS(t){return(typeof t=="string"?t:""+t).replace(S$,`
`).replace(_$,"")}function Zu(t,e,r){if(e=AS(e),AS(t)!==e&&r)throw Error(te(425))}function ff(){}var wv=null,Sv=null;function _v(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,E$=typeof clearTimeout=="function"?clearTimeout:void 0,TS=typeof Promise=="function"?Promise:void 0,j$=typeof queueMicrotask=="function"?queueMicrotask:typeof TS<"u"?function(t){return TS.resolve(null).then(t).catch(A$)}:Ev;function A$(t){setTimeout(function(){throw t})}function Rp(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),xc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);xc(e)}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),An="__reactFiber$"+qo,Ec="__reactProps$"+qo,ia="__reactContainer$"+qo,jv="__reactEvents$"+qo,T$="__reactListeners$"+qo,N$="__reactHandles$"+qo;function Pi(t){var e=t[An];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ia]||r[An]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=NS(t);t!==null;){if(r=t[An])return r;t=NS(t)}return e}t=r,r=t.parentNode}return null}function _u(t){return t=t[An]||t[ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function am(t){return t[Ec]||null}var Av=[],Us=-1;function ai(t){return{current:t}}function ut(t){0>Us||(t.current=Av[Us],Av[Us]=null,Us--)}function nt(t,e){Us++,Av[Us]=t.current,t.current=e}var Ja={},ir=ai(Ja),xr=ai(!1),qi=Ja;function co(t,e){var r=t.type.contextTypes;if(!r)return Ja;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function br(t){return t=t.childContextTypes,t!=null}function hf(){ut(xr),ut(ir)}function CS(t,e,r){if(ir.current!==Ja)throw Error(te(168));nt(ir,e),nt(xr,r)}function sC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(te(108,fI(t)||"Unknown",a));return vt({},r,n)}function mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ja,qi=ir.current,nt(ir,t),nt(xr,xr.current),!0}function kS(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=sC(t,e,qi),n.__reactInternalMemoizedMergedChildContext=t,ut(xr),ut(ir),nt(ir,t)):ut(xr),nt(xr,r)}var Vn=null,im=!1,Ip=!1;function oC(t){Vn===null?Vn=[t]:Vn.push(t)}function C$(t){im=!0,oC(t)}function ii(){if(!Ip&&Vn!==null){Ip=!0;var t=0,e=Ge;try{var r=Vn;for(Ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vn=null,im=!1}catch(a){throw Vn!==null&&(Vn=Vn.slice(t+1)),DN(cx,ii),a}finally{Ge=e,Ip=!1}}return null}var Bs=[],Hs=0,pf=null,gf=0,Hr=[],zr=0,Yi=null,Gn=1,qn="";function wi(t,e){Bs[Hs++]=gf,Bs[Hs++]=pf,pf=t,gf=e}function lC(t,e,r){Hr[zr++]=Gn,Hr[zr++]=qn,Hr[zr++]=Yi,Yi=t;var n=Gn;t=qn;var a=32-vn(n)-1;n&=~(1<<a),r+=1;var i=32-vn(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Gn=1<<32-vn(e)+a|r<<a|n,qn=i+t}else Gn=1<<i|r<<a|n,qn=t}function yx(t){t.return!==null&&(wi(t,1),lC(t,1,0))}function xx(t){for(;t===pf;)pf=Bs[--Hs],Bs[Hs]=null,gf=Bs[--Hs],Bs[Hs]=null;for(;t===Yi;)Yi=Hr[--zr],Hr[zr]=null,qn=Hr[--zr],Hr[zr]=null,Gn=Hr[--zr],Hr[zr]=null}var kr=null,Nr=null,dt=!1,fn=null;function cC(t,e){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function OS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,Nr=Ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,Nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yi!==null?{id:Gn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,kr=t,Nr=null,!0):!1;default:return!1}}function Tv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nv(t){if(dt){var e=Nr;if(e){var r=e;if(!OS(t,e)){if(Tv(t))throw Error(te(418));e=Ha(r.nextSibling);var n=kr;e&&OS(t,e)?cC(n,r):(t.flags=t.flags&-4097|2,dt=!1,kr=t)}}else{if(Tv(t))throw Error(te(418));t.flags=t.flags&-4097|2,dt=!1,kr=t}}}function DS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Ju(t){if(t!==kr)return!1;if(!dt)return DS(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_v(t.type,t.memoizedProps)),e&&(e=Nr)){if(Tv(t))throw uC(),Error(te(418));for(;e;)cC(t,e),e=Ha(e.nextSibling)}if(DS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Nr=Ha(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Nr=null}}else Nr=kr?Ha(t.stateNode.nextSibling):null;return!0}function uC(){for(var t=Nr;t;)t=Ha(t.nextSibling)}function uo(){Nr=kr=null,dt=!1}function bx(t){fn===null?fn=[t]:fn.push(t)}var k$=fa.ReactCurrentBatchConfig;function bl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function ed(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PS(t){var e=t._init;return e(t._payload)}function dC(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Ga(x,y),x.index=0,x.sibling=null,x}function i(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,S){return y===null||y.tag!==6?(y=zp(b,x.mode,S),y.return=x,y):(y=a(y,b),y.return=x,y)}function l(x,y,b,S){var w=b.type;return w===Rs?d(x,y,b.props.children,S,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_a&&PS(w)===y.type)?(S=a(y,b.props),S.ref=bl(x,y,b),S.return=x,S):(S=qd(b.type,b.key,b.props,null,x.mode,S),S.ref=bl(x,y,b),S.return=x,S)}function u(x,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Wp(b,x.mode,S),y.return=x,y):(y=a(y,b.children||[]),y.return=x,y)}function d(x,y,b,S,w){return y===null||y.tag!==7?(y=Hi(b,x.mode,S,w),y.return=x,y):(y=a(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zp(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zu:return b=qd(y.type,y.key,y.props,null,x.mode,b),b.ref=bl(x,null,y),b.return=x,b;case Ms:return y=Wp(y,x.mode,b),y.return=x,y;case _a:var S=y._init;return f(x,S(y._payload),b)}if(Bl(y)||pl(y))return y=Hi(y,x.mode,b,null),y.return=x,y;ed(x,y)}return null}function h(x,y,b,S){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(x,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zu:return b.key===w?l(x,y,b,S):null;case Ms:return b.key===w?u(x,y,b,S):null;case _a:return w=b._init,h(x,y,w(b._payload),S)}if(Bl(b)||pl(b))return w!==null?null:d(x,y,b,S,null);ed(x,b)}return null}function m(x,y,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,o(y,x,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zu:return x=x.get(S.key===null?b:S.key)||null,l(y,x,S,w);case Ms:return x=x.get(S.key===null?b:S.key)||null,u(y,x,S,w);case _a:var _=S._init;return m(x,y,b,_(S._payload),w)}if(Bl(S)||pl(S))return x=x.get(b)||null,d(y,x,S,w,null);ed(y,S)}return null}function p(x,y,b,S){for(var w=null,_=null,E=y,j=y=0,T=null;E!==null&&j<b.length;j++){E.index>j?(T=E,E=null):T=E.sibling;var O=h(x,E,b[j],S);if(O===null){E===null&&(E=T);break}t&&E&&O.alternate===null&&e(x,E),y=i(O,y,j),_===null?w=O:_.sibling=O,_=O,E=T}if(j===b.length)return r(x,E),dt&&wi(x,j),w;if(E===null){for(;j<b.length;j++)E=f(x,b[j],S),E!==null&&(y=i(E,y,j),_===null?w=E:_.sibling=E,_=E);return dt&&wi(x,j),w}for(E=n(x,E);j<b.length;j++)T=m(E,x,j,b[j],S),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=i(T,y,j),_===null?w=T:_.sibling=T,_=T);return t&&E.forEach(function(P){return e(x,P)}),dt&&wi(x,j),w}function g(x,y,b,S){var w=pl(b);if(typeof w!="function")throw Error(te(150));if(b=w.call(b),b==null)throw Error(te(151));for(var _=w=null,E=y,j=y=0,T=null,O=b.next();E!==null&&!O.done;j++,O=b.next()){E.index>j?(T=E,E=null):T=E.sibling;var P=h(x,E,O.value,S);if(P===null){E===null&&(E=T);break}t&&E&&P.alternate===null&&e(x,E),y=i(P,y,j),_===null?w=P:_.sibling=P,_=P,E=T}if(O.done)return r(x,E),dt&&wi(x,j),w;if(E===null){for(;!O.done;j++,O=b.next())O=f(x,O.value,S),O!==null&&(y=i(O,y,j),_===null?w=O:_.sibling=O,_=O);return dt&&wi(x,j),w}for(E=n(x,E);!O.done;j++,O=b.next())O=m(E,x,j,O.value,S),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?j:O.key),y=i(O,y,j),_===null?w=O:_.sibling=O,_=O);return t&&E.forEach(function(D){return e(x,D)}),dt&&wi(x,j),w}function v(x,y,b,S){if(typeof b=="object"&&b!==null&&b.type===Rs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zu:e:{for(var w=b.key,_=y;_!==null;){if(_.key===w){if(w=b.type,w===Rs){if(_.tag===7){r(x,_.sibling),y=a(_,b.props.children),y.return=x,x=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_a&&PS(w)===_.type){r(x,_.sibling),y=a(_,b.props),y.ref=bl(x,_,b),y.return=x,x=y;break e}r(x,_);break}else e(x,_);_=_.sibling}b.type===Rs?(y=Hi(b.props.children,x.mode,S,b.key),y.return=x,x=y):(S=qd(b.type,b.key,b.props,null,x.mode,S),S.ref=bl(x,y,b),S.return=x,x=S)}return s(x);case Ms:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=a(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=Wp(b,x.mode,S),y.return=x,x=y}return s(x);case _a:return _=b._init,v(x,y,_(b._payload),S)}if(Bl(b))return p(x,y,b,S);if(pl(b))return g(x,y,b,S);ed(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,b),y.return=x,x=y):(r(x,y),y=zp(b,x.mode,S),y.return=x,x=y),s(x)):r(x,y)}return v}var fo=dC(!0),fC=dC(!1),vf=ai(null),yf=null,zs=null,wx=null;function Sx(){wx=zs=yf=null}function _x(t){var e=vf.current;ut(vf),t._currentValue=e}function Cv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function eo(t,e){yf=t,wx=zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(wx!==t)if(t={context:t,memoizedValue:e,next:null},zs===null){if(yf===null)throw Error(te(308));zs=t,yf.dependencies={lanes:0,firstContext:t}}else zs=zs.next=t;return e}var Mi=null;function Ex(t){Mi===null?Mi=[t]:Mi.push(t)}function hC(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Ex(e)):(r.next=a.next,a.next=r),e.interleaved=r,sa(t,n)}function sa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ea=!1;function jx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function za(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,sa(t,r)}return a=n.interleaved,a===null?(e.next=e,Ex(n)):(e.next=a.next,a.next=e),n.interleaved=e,sa(t,r)}function Bd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ux(t,r)}}function MS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xf(t,e,r,n){var a=t.updateQueue;Ea=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,d=u=l=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,g=o;switch(h=e,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=vt({},f,h);break e;case 2:Ea=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Qi|=s,t.lanes=s,t.memoizedState=f}}function RS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(te(191,a));a.call(n)}}}var Eu={},On=ai(Eu),jc=ai(Eu),Ac=ai(Eu);function Ri(t){if(t===Eu)throw Error(te(174));return t}function Ax(t,e){switch(nt(Ac,e),nt(jc,t),nt(On,Eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cv(e,t)}ut(On),nt(On,e)}function ho(){ut(On),ut(jc),ut(Ac)}function pC(t){Ri(Ac.current);var e=Ri(On.current),r=cv(e,t.type);e!==r&&(nt(jc,t),nt(On,r))}function Tx(t){jc.current===t&&(ut(On),ut(jc))}var mt=ai(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $p=[];function Nx(){for(var t=0;t<$p.length;t++)$p[t]._workInProgressVersionPrimary=null;$p.length=0}var Hd=fa.ReactCurrentDispatcher,Lp=fa.ReactCurrentBatchConfig,Ki=0,gt=null,Ot=null,Lt=null,wf=!1,Xl=!1,Tc=0,O$=0;function Kt(){throw Error(te(321))}function Cx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xn(t[r],e[r]))return!1;return!0}function kx(t,e,r,n,a,i){if(Ki=i,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hd.current=t===null||t.memoizedState===null?R$:I$,t=r(n,a),Xl){i=0;do{if(Xl=!1,Tc=0,25<=i)throw Error(te(301));i+=1,Lt=Ot=null,e.updateQueue=null,Hd.current=$$,t=r(n,a)}while(Xl)}if(Hd.current=Sf,e=Ot!==null&&Ot.next!==null,Ki=0,Lt=Ot=gt=null,wf=!1,e)throw Error(te(300));return t}function Ox(){var t=Tc!==0;return Tc=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?gt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Xr(){if(Ot===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Lt===null?gt.memoizedState:Lt.next;if(e!==null)Lt=e,Ot=t;else{if(t===null)throw Error(te(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?gt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Nc(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=Xr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Ot,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,u=i;do{var d=u.lane;if((Ki&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,gt.lanes|=d,Qi|=d}u=u.next}while(u!==null&&u!==i);l===null?s=n:l.next=o,xn(n,e.memoizedState)||(gr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,gt.lanes|=i,Qi|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Up(t){var e=Xr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);xn(i,e.memoizedState)||(gr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function gC(){}function vC(t,e){var r=gt,n=Xr(),a=e(),i=!xn(n.memoizedState,a);if(i&&(n.memoizedState=a,gr=!0),n=n.queue,Dx(bC.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,Cc(9,xC.bind(null,r,n,a,e),void 0,null),Ft===null)throw Error(te(349));Ki&30||yC(r,e,a)}return a}function yC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xC(t,e,r,n){e.value=r,e.getSnapshot=n,wC(e)&&SC(t)}function bC(t,e,r){return r(function(){wC(e)&&SC(t)})}function wC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xn(t,r)}catch{return!0}}function SC(t){var e=sa(t,1);e!==null&&yn(e,t,1,-1)}function IS(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:t},e.queue=t,t=t.dispatch=M$.bind(null,gt,t),[e.memoizedState,t]}function Cc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _C(){return Xr().memoizedState}function zd(t,e,r,n){var a=En();gt.flags|=t,a.memoizedState=Cc(1|e,r,void 0,n===void 0?null:n)}function sm(t,e,r,n){var a=Xr();n=n===void 0?null:n;var i=void 0;if(Ot!==null){var s=Ot.memoizedState;if(i=s.destroy,n!==null&&Cx(n,s.deps)){a.memoizedState=Cc(e,r,i,n);return}}gt.flags|=t,a.memoizedState=Cc(1|e,r,i,n)}function $S(t,e){return zd(8390656,8,t,e)}function Dx(t,e){return sm(2048,8,t,e)}function EC(t,e){return sm(4,2,t,e)}function jC(t,e){return sm(4,4,t,e)}function AC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TC(t,e,r){return r=r!=null?r.concat([t]):null,sm(4,4,AC.bind(null,e,t),r)}function Px(){}function NC(t,e){var r=Xr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function CC(t,e){var r=Xr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kC(t,e,r){return Ki&21?(xn(r,e)||(r=RN(),gt.lanes|=r,Qi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=r)}function D$(t,e){var r=Ge;Ge=r!==0&&4>r?r:4,t(!0);var n=Lp.transition;Lp.transition={};try{t(!1),e()}finally{Ge=r,Lp.transition=n}}function OC(){return Xr().memoizedState}function P$(t,e,r){var n=Va(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DC(t))PC(e,r);else if(r=hC(t,e,r,n),r!==null){var a=cr();yn(r,t,n,a),MC(r,e,n)}}function M$(t,e,r){var n=Va(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DC(t))PC(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,xn(o,s)){var l=e.interleaved;l===null?(a.next=a,Ex(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=hC(t,e,a,n),r!==null&&(a=cr(),yn(r,t,n,a),MC(r,e,n))}}function DC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function PC(t,e){Xl=wf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ux(t,r)}}var Sf={readContext:Qr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},R$={readContext:Qr,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:$S,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zd(4194308,4,AC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var r=En();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=En();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=P$.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:IS,useDebugValue:Px,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=IS(!1),e=t[0];return t=D$.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,a=En();if(dt){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Ft===null)throw Error(te(349));Ki&30||yC(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,$S(bC.bind(null,n,i,t),[t]),n.flags|=2048,Cc(9,xC.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=En(),e=Ft.identifierPrefix;if(dt){var r=qn,n=Gn;r=(n&~(1<<32-vn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Tc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=O$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I$={readContext:Qr,useCallback:NC,useContext:Qr,useEffect:Dx,useImperativeHandle:TC,useInsertionEffect:EC,useLayoutEffect:jC,useMemo:CC,useReducer:Fp,useRef:_C,useState:function(){return Fp(Nc)},useDebugValue:Px,useDeferredValue:function(t){var e=Xr();return kC(e,Ot.memoizedState,t)},useTransition:function(){var t=Fp(Nc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:gC,useSyncExternalStore:vC,useId:OC,unstable_isNewReconciler:!1},$$={readContext:Qr,useCallback:NC,useContext:Qr,useEffect:Dx,useImperativeHandle:TC,useInsertionEffect:EC,useLayoutEffect:jC,useMemo:CC,useReducer:Up,useRef:_C,useState:function(){return Up(Nc)},useDebugValue:Px,useDeferredValue:function(t){var e=Xr();return Ot===null?e.memoizedState=t:kC(e,Ot.memoizedState,t)},useTransition:function(){var t=Up(Nc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:gC,useSyncExternalStore:vC,useId:OC,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function kv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var om={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cr(),a=Va(t),i=Zn(n,a);i.payload=e,r!=null&&(i.callback=r),e=za(t,i,a),e!==null&&(yn(e,t,a,n),Bd(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cr(),a=Va(t),i=Zn(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=za(t,i,a),e!==null&&(yn(e,t,a,n),Bd(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cr(),n=Va(t),a=Zn(r,n);a.tag=2,e!=null&&(a.callback=e),e=za(t,a,n),e!==null&&(yn(e,t,n,r),Bd(e,t,n))}};function LS(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!wc(r,n)||!wc(a,i):!0}function RC(t,e,r){var n=!1,a=Ja,i=e.contextType;return typeof i=="object"&&i!==null?i=Qr(i):(a=br(e)?qi:ir.current,n=e.contextTypes,i=(n=n!=null)?co(t,a):Ja),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=om,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function FS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&om.enqueueReplaceState(e,e.state,null)}function Ov(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},jx(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Qr(i):(i=br(e)?qi:ir.current,a.context=co(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(kv(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&om.enqueueReplaceState(a,a.state,null),xf(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var r="",n=e;do r+=dI(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Bp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Dv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var L$=typeof WeakMap=="function"?WeakMap:Map;function IC(t,e,r){r=Zn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ef||(Ef=!0,Hv=n),Dv(t,e)},r}function $C(t,e,r){r=Zn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Dv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Dv(t,e),typeof n!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function US(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new L$;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=Z$.bind(null,t,e,r),e.then(t,t))}function BS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HS(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zn(-1,1),e.tag=2,za(r,e,1))),r.lanes|=1),t)}var F$=fa.ReactCurrentOwner,gr=!1;function or(t,e,r,n){e.child=t===null?fC(e,null,r,n):fo(e,t.child,r,n)}function zS(t,e,r,n,a){r=r.render;var i=e.ref;return eo(e,a),n=kx(t,e,r,n,i,a),r=Ox(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,oa(t,e,a)):(dt&&r&&yx(e),e.flags|=1,or(t,e,n,a),e.child)}function WS(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Bx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,LC(t,e,i,n,a)):(t=qd(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:wc,r(s,n)&&t.ref===e.ref)return oa(t,e,a)}return e.flags|=1,t=Ga(i,n),t.ref=e.ref,t.return=e,e.child=t}function LC(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(wc(i,n)&&t.ref===e.ref)if(gr=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,oa(t,e,a)}return Pv(t,e,r,n,a)}function FC(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Vs,jr),jr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Vs,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,nt(Vs,jr),jr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,nt(Vs,jr),jr|=n;return or(t,e,a,r),e.child}function UC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Pv(t,e,r,n,a){var i=br(r)?qi:ir.current;return i=co(e,i),eo(e,a),r=kx(t,e,r,n,i,a),n=Ox(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,oa(t,e,a)):(dt&&n&&yx(e),e.flags|=1,or(t,e,r,a),e.child)}function VS(t,e,r,n,a){if(br(r)){var i=!0;mf(e)}else i=!1;if(eo(e,a),e.stateNode===null)Wd(t,e),RC(e,r,n),Ov(e,r,n,a),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=br(r)?qi:ir.current,u=co(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&FS(e,s,n,u),Ea=!1;var h=e.memoizedState;s.state=h,xf(e,n,s,a),l=e.memoizedState,o!==n||h!==l||xr.current||Ea?(typeof d=="function"&&(kv(e,r,d,n),l=e.memoizedState),(o=Ea||LS(e,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,mC(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:on(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qr(l):(l=br(r)?qi:ir.current,l=co(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&FS(e,s,n,l),Ea=!1,h=e.memoizedState,s.state=h,xf(e,n,s,a);var p=e.memoizedState;o!==f||h!==p||xr.current||Ea?(typeof m=="function"&&(kv(e,r,m,n),p=e.memoizedState),(u=Ea||LS(e,r,u,n,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Mv(t,e,r,n,i,a)}function Mv(t,e,r,n,a,i){UC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return a&&kS(e,r,!1),oa(t,e,i);n=e.stateNode,F$.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=fo(e,t.child,null,i),e.child=fo(e,null,o,i)):or(t,e,o,i),e.memoizedState=n.state,a&&kS(e,r,!0),e.child}function BC(t){var e=t.stateNode;e.pendingContext?CS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&CS(t,e.context,!1),Ax(t,e.containerInfo)}function GS(t,e,r,n,a){return uo(),bx(a),e.flags|=256,or(t,e,r,n),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function HC(t,e,r){var n=e.pendingProps,a=mt.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),nt(mt,a&1),t===null)return Nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,i?(n=e.mode,i=e.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=um(s,n,0,null),t=Hi(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Iv(r),e.memoizedState=Rv,t):Mx(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return U$(t,e,s,n,o,a,r);if(i){i=n.fallback,s=e.mode,a=t.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ga(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ga(o,i):(i=Hi(i,s,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,s=t.child.memoizedState,s=s===null?Iv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~r,e.memoizedState=Rv,n}return i=t.child,t=i.sibling,n=Ga(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Mx(t,e){return e=um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function td(t,e,r,n){return n!==null&&bx(n),fo(e,t.child,null,r),t=Mx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U$(t,e,r,n,a,i,s){if(r)return e.flags&256?(e.flags&=-257,n=Bp(Error(te(422))),td(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=um({mode:"visible",children:n.children},a,0,null),i=Hi(i,a,s,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&fo(e,t.child,null,s),e.child.memoizedState=Iv(s),e.memoizedState=Rv,i);if(!(e.mode&1))return td(t,e,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(te(419)),n=Bp(i,n,void 0),td(t,e,s,n)}if(o=(s&t.childLanes)!==0,gr||o){if(n=Ft,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,sa(t,a),yn(n,t,a,-1))}return Ux(),n=Bp(Error(te(421))),td(t,e,s,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=J$.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Nr=Ha(a.nextSibling),kr=e,dt=!0,fn=null,t!==null&&(Hr[zr++]=Gn,Hr[zr++]=qn,Hr[zr++]=Yi,Gn=t.id,qn=t.overflow,Yi=e),e=Mx(e,n.children),e.flags|=4096,e)}function qS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Cv(t.return,e,r)}function Hp(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function zC(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(or(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qS(t,r,e);else if(t.tag===19)qS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nt(mt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&bf(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Hp(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&bf(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Hp(e,!0,r,null,i);break;case"together":Hp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=Ga(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ga(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function B$(t,e,r){switch(e.tag){case 3:BC(e),uo();break;case 5:pC(e);break;case 1:br(e.type)&&mf(e);break;case 4:Ax(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;nt(vf,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nt(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?HC(t,e,r):(nt(mt,mt.current&1),t=oa(t,e,r),t!==null?t.sibling:null);nt(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zC(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),nt(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,FC(t,e,r)}return oa(t,e,r)}var WC,$v,VC,GC;WC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$v=function(){};VC=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ri(On.current);var i=null;switch(r){case"input":a=iv(t,a),n=iv(t,n),i=[];break;case"select":a=vt({},a,{value:void 0}),n=vt({},n,{value:void 0}),i=[];break;case"textarea":a=lv(t,a),n=lv(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ff)}uv(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};GC=function(t,e,r,n){r!==n&&(e.flags|=4)};function wl(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function H$(t,e,r){var n=e.pendingProps;switch(xx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return br(e.type)&&hf(),Qt(e),null;case 3:return n=e.stateNode,ho(),ut(xr),ut(ir),Nx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Vv(fn),fn=null))),$v(t,e),Qt(e),null;case 5:Tx(e);var a=Ri(Ac.current);if(r=e.type,t!==null&&e.stateNode!=null)VC(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Qt(e),null}if(t=Ri(On.current),Ju(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[An]=e,n[Ec]=i,t=(e.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(a=0;a<zl.length;a++)ot(zl[a],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":rS(n,i),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ot("invalid",n);break;case"textarea":aS(n,i),ot("invalid",n)}uv(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zu(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zu(n.textContent,o,t),a=["children",""+o]):mc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ot("scroll",n)}switch(r){case"input":Wu(n),nS(n,i,!0);break;case"textarea":Wu(n),iS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ff)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[An]=e,t[Ec]=n,WC(t,e,!1,!1),e.stateNode=t;e:{switch(s=dv(r,n),r){case"dialog":ot("cancel",t),ot("close",t),a=n;break;case"iframe":case"object":case"embed":ot("load",t),a=n;break;case"video":case"audio":for(a=0;a<zl.length;a++)ot(zl[a],t);a=n;break;case"source":ot("error",t),a=n;break;case"img":case"image":case"link":ot("error",t),ot("load",t),a=n;break;case"details":ot("toggle",t),a=n;break;case"input":rS(t,n),a=iv(t,n),ot("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=vt({},n,{value:void 0}),ot("invalid",t);break;case"textarea":aS(t,n),a=lv(t,n),ot("invalid",t);break;default:a=n}uv(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?_N(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wN(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&pc(t,l):typeof l=="number"&&pc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ot("scroll",t):l!=null&&ax(t,i,l,s))}switch(r){case"input":Wu(t),nS(t,n,!1);break;case"textarea":Wu(t),iS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Za(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Qs(t,!!n.multiple,i,!1):n.defaultValue!=null&&Qs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ff)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)GC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Ri(Ac.current),Ri(On.current),Ju(e)){if(n=e.stateNode,r=e.memoizedProps,n[An]=e,(i=n.nodeValue!==r)&&(t=kr,t!==null))switch(t.tag){case 3:Zu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[An]=e,e.stateNode=n}return Qt(e),null;case 13:if(ut(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Nr!==null&&e.mode&1&&!(e.flags&128))uC(),uo(),e.flags|=98560,i=!1;else if(i=Ju(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[An]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),i=!1}else fn!==null&&(Vv(fn),fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Dt===0&&(Dt=3):Ux())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return ho(),$v(t,e),t===null&&Sc(e.stateNode.containerInfo),Qt(e),null;case 10:return _x(e.type._context),Qt(e),null;case 17:return br(e.type)&&hf(),Qt(e),null;case 19:if(ut(mt),i=e.memoizedState,i===null)return Qt(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)wl(i,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=bf(t),s!==null){for(e.flags|=128,wl(i,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nt(mt,mt.current&1|2),e.child}t=t.sibling}i.tail!==null&&St()>po&&(e.flags|=128,n=!0,wl(i,!1),e.lanes=4194304)}else{if(!n)if(t=bf(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!dt)return Qt(e),null}else 2*St()-i.renderingStartTime>po&&r!==1073741824&&(e.flags|=128,n=!0,wl(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=St(),e.sibling=null,r=mt.current,nt(mt,n?r&1|2:r&1),e):(Qt(e),null);case 22:case 23:return Fx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jr&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function z$(t,e){switch(xx(e),e.tag){case 1:return br(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ho(),ut(xr),ut(ir),Nx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tx(e),null;case 13:if(ut(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(mt),null;case 4:return ho(),null;case 10:return _x(e.type._context),null;case 22:case 23:return Fx(),null;case 24:return null;default:return null}}var rd=!1,Jt=!1,W$=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ws(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function Lv(t,e,r){try{r()}catch(n){xt(t,e,n)}}var YS=!1;function V$(t,e){if(wv=cf,t=XN(),vx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sv={focusedElem:t,selectionRange:r},cf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:on(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){xt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return p=YS,YS=!1,p}function Zl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Lv(e,r,i)}a=a.next}while(a!==n)}}function lm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qC(t){var e=t.alternate;e!==null&&(t.alternate=null,qC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[Ec],delete e[jv],delete e[T$],delete e[N$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YC(t){return t.tag===5||t.tag===3||t.tag===4}function KS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ff));else if(n!==4&&(t=t.child,t!==null))for(Uv(t,e,r),t=t.sibling;t!==null;)Uv(t,e,r),t=t.sibling}function Bv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Bv(t,e,r),t=t.sibling;t!==null;)Bv(t,e,r),t=t.sibling}var zt=null,ln=!1;function xa(t,e,r){for(r=r.child;r!==null;)KC(t,e,r),r=r.sibling}function KC(t,e,r){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(em,r)}catch{}switch(r.tag){case 5:Jt||Ws(r,e);case 6:var n=zt,a=ln;zt=null,xa(t,e,r),zt=n,ln=a,zt!==null&&(ln?(t=zt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(ln?(t=zt,r=r.stateNode,t.nodeType===8?Rp(t.parentNode,r):t.nodeType===1&&Rp(t,r),xc(t)):Rp(zt,r.stateNode));break;case 4:n=zt,a=ln,zt=r.stateNode.containerInfo,ln=!0,xa(t,e,r),zt=n,ln=a;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Lv(r,e,s),a=a.next}while(a!==n)}xa(t,e,r);break;case 1:if(!Jt&&(Ws(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xt(r,e,o)}xa(t,e,r);break;case 21:xa(t,e,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,xa(t,e,r),Jt=n):xa(t,e,r);break;default:xa(t,e,r)}}function QS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new W$),e.forEach(function(n){var a=eL.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function rn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:zt=o.stateNode,ln=!1;break e;case 3:zt=o.stateNode.containerInfo,ln=!0;break e;case 4:zt=o.stateNode.containerInfo,ln=!0;break e}o=o.return}if(zt===null)throw Error(te(160));KC(i,s,a),zt=null,ln=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){xt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QC(e,t),e=e.sibling}function QC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),_n(t),n&4){try{Zl(3,t,t.return),lm(3,t)}catch(g){xt(t,t.return,g)}try{Zl(5,t,t.return)}catch(g){xt(t,t.return,g)}}break;case 1:rn(e,t),_n(t),n&512&&r!==null&&Ws(r,r.return);break;case 5:if(rn(e,t),_n(t),n&512&&r!==null&&Ws(r,r.return),t.flags&32){var a=t.stateNode;try{pc(a,"")}catch(g){xt(t,t.return,g)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&yN(a,i),dv(o,s);var u=dv(o,i);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?_N(a,f):d==="dangerouslySetInnerHTML"?wN(a,f):d==="children"?pc(a,f):ax(a,d,f,u)}switch(o){case"input":sv(a,i);break;case"textarea":xN(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qs(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qs(a,!!i.multiple,i.defaultValue,!0):Qs(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ec]=i}catch(g){xt(t,t.return,g)}}break;case 6:if(rn(e,t),_n(t),n&4){if(t.stateNode===null)throw Error(te(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(g){xt(t,t.return,g)}}break;case 3:if(rn(e,t),_n(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xc(e.containerInfo)}catch(g){xt(t,t.return,g)}break;case 4:rn(e,t),_n(t);break;case 13:rn(e,t),_n(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||($x=St())),n&4&&QS(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||d,rn(e,t),Jt=u):rn(e,t),_n(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(f=me=d;me!==null;){switch(h=me,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zl(4,h,h.return);break;case 1:Ws(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){xt(n,r,g)}}break;case 5:Ws(h,h.return);break;case 22:if(h.memoizedState!==null){ZS(f);continue}}m!==null?(m.return=h,me=m):ZS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=SN("display",s))}catch(g){xt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){xt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rn(e,t),_n(t),n&4&&QS(t);break;case 21:break;default:rn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(YC(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(pc(a,""),n.flags&=-33);var i=KS(t);Bv(t,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=KS(t);Uv(t,o,s);break;default:throw Error(te(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G$(t,e,r){me=t,XC(t)}function XC(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var a=me,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||rd;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Jt;o=rd;var u=Jt;if(rd=s,(Jt=l)&&!u)for(me=a;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?JS(a):l!==null?(l.return=s,me=l):JS(a);for(;i!==null;)me=i,XC(i),i=i.sibling;me=a,rd=o,Jt=u}XS(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,me=i):XS(t)}}function XS(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||lm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:on(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&RS(e,i,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}RS(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Jt||e.flags&512&&Fv(e)}catch(h){xt(e,e.return,h)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function ZS(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function JS(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lm(4,e)}catch(l){xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){xt(e,a,l)}}var i=e.return;try{Fv(e)}catch(l){xt(e,i,l)}break;case 5:var s=e.return;try{Fv(e)}catch(l){xt(e,s,l)}}}catch(l){xt(e,e.return,l)}if(e===t){me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,me=o;break}me=e.return}}var q$=Math.ceil,_f=fa.ReactCurrentDispatcher,Rx=fa.ReactCurrentOwner,qr=fa.ReactCurrentBatchConfig,Ie=0,Ft=null,Tt=null,Gt=0,jr=0,Vs=ai(0),Dt=0,kc=null,Qi=0,cm=0,Ix=0,Jl=null,mr=null,$x=0,po=1/0,zn=null,Ef=!1,Hv=null,Wa=null,nd=!1,Pa=null,jf=0,ec=0,zv=null,Vd=-1,Gd=0;function cr(){return Ie&6?St():Vd!==-1?Vd:Vd=St()}function Va(t){return t.mode&1?Ie&2&&Gt!==0?Gt&-Gt:k$.transition!==null?(Gd===0&&(Gd=RN()),Gd):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:HN(t.type)),t):1}function yn(t,e,r,n){if(50<ec)throw ec=0,zv=null,Error(te(185));wu(t,r,n),(!(Ie&2)||t!==Ft)&&(t===Ft&&(!(Ie&2)&&(cm|=r),Dt===4&&Ca(t,Gt)),wr(t,n),r===1&&Ie===0&&!(e.mode&1)&&(po=St()+500,im&&ii()))}function wr(t,e){var r=t.callbackNode;kI(t,e);var n=lf(t,t===Ft?Gt:0);if(n===0)r!==null&&lS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&lS(r),e===1)t.tag===0?C$(e_.bind(null,t)):oC(e_.bind(null,t)),j$(function(){!(Ie&6)&&ii()}),r=null;else{switch(IN(n)){case 1:r=cx;break;case 4:r=PN;break;case 16:r=of;break;case 536870912:r=MN;break;default:r=of}r=ik(r,ZC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ZC(t,e){if(Vd=-1,Gd=0,Ie&6)throw Error(te(327));var r=t.callbackNode;if(to()&&t.callbackNode!==r)return null;var n=lf(t,t===Ft?Gt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Af(t,n);else{e=n;var a=Ie;Ie|=2;var i=ek();(Ft!==t||Gt!==e)&&(zn=null,po=St()+500,Bi(t,e));do try{Q$();break}catch(o){JC(t,o)}while(1);Sx(),_f.current=i,Ie=a,Tt!==null?e=0:(Ft=null,Gt=0,e=Dt)}if(e!==0){if(e===2&&(a=gv(t),a!==0&&(n=a,e=Wv(t,a))),e===1)throw r=kc,Bi(t,0),Ca(t,n),wr(t,St()),r;if(e===6)Ca(t,n);else{if(a=t.current.alternate,!(n&30)&&!Y$(a)&&(e=Af(t,n),e===2&&(i=gv(t),i!==0&&(n=i,e=Wv(t,i))),e===1))throw r=kc,Bi(t,0),Ca(t,n),wr(t,St()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:Si(t,mr,zn);break;case 3:if(Ca(t,n),(n&130023424)===n&&(e=$x+500-St(),10<e)){if(lf(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){cr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Ev(Si.bind(null,t,mr,zn),e);break}Si(t,mr,zn);break;case 4:if(Ca(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var s=31-vn(n);i=1<<s,s=e[s],s>a&&(a=s),n&=~i}if(n=a,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*q$(n/1960))-n,10<n){t.timeoutHandle=Ev(Si.bind(null,t,mr,zn),n);break}Si(t,mr,zn);break;case 5:Si(t,mr,zn);break;default:throw Error(te(329))}}}return wr(t,St()),t.callbackNode===r?ZC.bind(null,t):null}function Wv(t,e){var r=Jl;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=Af(t,e),t!==2&&(e=mr,mr=r,e!==null&&Vv(e)),t}function Vv(t){mr===null?mr=t:mr.push.apply(mr,t)}function Y$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!xn(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ca(t,e){for(e&=~Ix,e&=~cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vn(e),n=1<<r;t[r]=-1,e&=~n}}function e_(t){if(Ie&6)throw Error(te(327));to();var e=lf(t,0);if(!(e&1))return wr(t,St()),null;var r=Af(t,e);if(t.tag!==0&&r===2){var n=gv(t);n!==0&&(e=n,r=Wv(t,n))}if(r===1)throw r=kc,Bi(t,0),Ca(t,e),wr(t,St()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,mr,zn),wr(t,St()),null}function Lx(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(po=St()+500,im&&ii())}}function Xi(t){Pa!==null&&Pa.tag===0&&!(Ie&6)&&to();var e=Ie;Ie|=1;var r=qr.transition,n=Ge;try{if(qr.transition=null,Ge=1,t)return t()}finally{Ge=n,qr.transition=r,Ie=e,!(Ie&6)&&ii()}}function Fx(){jr=Vs.current,ut(Vs)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,E$(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(xx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hf();break;case 3:ho(),ut(xr),ut(ir),Nx();break;case 5:Tx(n);break;case 4:ho();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:_x(n.type._context);break;case 22:case 23:Fx()}r=r.return}if(Ft=t,Tt=t=Ga(t.current,null),Gt=jr=e,Dt=0,kc=null,Ix=cm=Qi=0,mr=Jl=null,Mi!==null){for(e=0;e<Mi.length;e++)if(r=Mi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Mi=null}return t}function JC(t,e){do{var r=Tt;try{if(Sx(),Hd.current=Sf,wf){for(var n=gt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wf=!1}if(Ki=0,Lt=Ot=gt=null,Xl=!1,Tc=0,Rx.current=null,r===null||r.return===null){Dt=1,kc=e,Tt=null;break}e:{var i=t,s=r.return,o=r,l=e;if(e=Gt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=BS(s);if(m!==null){m.flags&=-257,HS(m,s,o,i,e),m.mode&1&&US(i,u,e),e=m,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){US(i,u,e),Ux();break e}l=Error(te(426))}}else if(dt&&o.mode&1){var v=BS(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),HS(v,s,o,i,e),bx(mo(l,o));break e}}i=l=mo(l,o),Dt!==4&&(Dt=2),Jl===null?Jl=[i]:Jl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=IC(i,l,e);MS(i,x);break e;case 1:o=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wa===null||!Wa.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=$C(i,o,e);MS(i,S);break e}}i=i.return}while(i!==null)}rk(r)}catch(w){e=w,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(1)}function ek(){var t=_f.current;return _f.current=Sf,t===null?Sf:t}function Ux(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(Qi&268435455)&&!(cm&268435455)||Ca(Ft,Gt)}function Af(t,e){var r=Ie;Ie|=2;var n=ek();(Ft!==t||Gt!==e)&&(zn=null,Bi(t,e));do try{K$();break}catch(a){JC(t,a)}while(1);if(Sx(),Ie=r,_f.current=n,Tt!==null)throw Error(te(261));return Ft=null,Gt=0,Dt}function K$(){for(;Tt!==null;)tk(Tt)}function Q$(){for(;Tt!==null&&!wI();)tk(Tt)}function tk(t){var e=ak(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?rk(t):Tt=e,Rx.current=null}function rk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=z$(r,e),r!==null){r.flags&=32767,Tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Tt=null;return}}else if(r=H$(r,e,jr),r!==null){Tt=r;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Dt===0&&(Dt=5)}function Si(t,e,r){var n=Ge,a=qr.transition;try{qr.transition=null,Ge=1,X$(t,e,r,n)}finally{qr.transition=a,Ge=n}return null}function X$(t,e,r,n){do to();while(Pa!==null);if(Ie&6)throw Error(te(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(OI(t,i),t===Ft&&(Tt=Ft=null,Gt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nd||(nd=!0,ik(of,function(){return to(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qr.transition,qr.transition=null;var s=Ge;Ge=1;var o=Ie;Ie|=4,Rx.current=null,V$(t,r),QC(r,t),v$(Sv),cf=!!wv,Sv=wv=null,t.current=r,G$(r),SI(),Ie=o,Ge=s,qr.transition=i}else t.current=r;if(nd&&(nd=!1,Pa=t,jf=a),i=t.pendingLanes,i===0&&(Wa=null),jI(r.stateNode),wr(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ef)throw Ef=!1,t=Hv,Hv=null,t;return jf&1&&t.tag!==0&&to(),i=t.pendingLanes,i&1?t===zv?ec++:(ec=0,zv=t):ec=0,ii(),null}function to(){if(Pa!==null){var t=IN(jf),e=qr.transition,r=Ge;try{if(qr.transition=null,Ge=16>t?16:t,Pa===null)var n=!1;else{if(t=Pa,Pa=null,jf=0,Ie&6)throw Error(te(331));var a=Ie;for(Ie|=4,me=t.current;me!==null;){var i=me,s=i.child;if(me.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(me=u;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Zl(8,d,i)}var f=d.child;if(f!==null)f.return=d,me=f;else for(;me!==null;){d=me;var h=d.sibling,m=d.return;if(qC(d),d===u){me=null;break}if(h!==null){h.return=m,me=h;break}me=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}me=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,me=s;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zl(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,me=x;break e}me=i.return}}var y=t.current;for(me=y;me!==null;){s=me;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,me=b;else e:for(s=y;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:lm(9,o)}}catch(w){xt(o,o.return,w)}if(o===s){me=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,me=S;break e}me=o.return}}if(Ie=a,ii(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(em,t)}catch{}n=!0}return n}finally{Ge=r,qr.transition=e}}return!1}function t_(t,e,r){e=mo(r,e),e=IC(t,e,1),t=za(t,e,1),e=cr(),t!==null&&(wu(t,1,e),wr(t,e))}function xt(t,e,r){if(t.tag===3)t_(t,t,r);else for(;e!==null;){if(e.tag===3){t_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wa===null||!Wa.has(n))){t=mo(r,t),t=$C(e,t,1),e=za(e,t,1),t=cr(),e!==null&&(wu(e,1,t),wr(e,t));break}}e=e.return}}function Z$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&r,Ft===t&&(Gt&r)===r&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>St()-$x?Bi(t,0):Ix|=r),wr(t,e)}function nk(t,e){e===0&&(t.mode&1?(e=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):e=1);var r=cr();t=sa(t,e),t!==null&&(wu(t,e,r),wr(t,r))}function J$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),nk(t,r)}function eL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),nk(t,r)}var ak;ak=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return gr=!1,B$(t,e,r);gr=!!(t.flags&131072)}else gr=!1,dt&&e.flags&1048576&&lC(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wd(t,e),t=e.pendingProps;var a=co(e,ir.current);eo(e,r),a=kx(null,e,n,t,a,r);var i=Ox();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,br(n)?(i=!0,mf(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jx(e),a.updater=om,e.stateNode=a,a._reactInternals=e,Ov(e,n,t,r),e=Mv(null,e,n,!0,i,r)):(e.tag=0,dt&&i&&yx(e),or(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=rL(n),t=on(n,t),a){case 0:e=Pv(null,e,n,t,r);break e;case 1:e=VS(null,e,n,t,r);break e;case 11:e=zS(null,e,n,t,r);break e;case 14:e=WS(null,e,n,on(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:on(n,a),Pv(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:on(n,a),VS(t,e,n,a,r);case 3:e:{if(BC(e),t===null)throw Error(te(387));n=e.pendingProps,i=e.memoizedState,a=i.element,mC(t,e),xf(e,n,null,r);var s=e.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=mo(Error(te(423)),e),e=GS(t,e,n,r,a);break e}else if(n!==a){a=mo(Error(te(424)),e),e=GS(t,e,n,r,a);break e}else for(Nr=Ha(e.stateNode.containerInfo.firstChild),kr=e,dt=!0,fn=null,r=fC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(uo(),n===a){e=oa(t,e,r);break e}or(t,e,n,r)}e=e.child}return e;case 5:return pC(e),t===null&&Nv(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,_v(n,a)?s=null:i!==null&&_v(n,i)&&(e.flags|=32),UC(t,e),or(t,e,s,r),e.child;case 6:return t===null&&Nv(e),null;case 13:return HC(t,e,r);case 4:return Ax(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fo(e,null,n,r):or(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:on(n,a),zS(t,e,n,a,r);case 7:return or(t,e,e.pendingProps,r),e.child;case 8:return or(t,e,e.pendingProps.children,r),e.child;case 12:return or(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,nt(vf,n._currentValue),n._currentValue=s,i!==null)if(xn(i.value,s)){if(i.children===a.children&&!xr.current){e=oa(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Zn(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Cv(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(te(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Cv(s,r,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}or(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,eo(e,r),a=Qr(a),n=n(a),e.flags|=1,or(t,e,n,r),e.child;case 14:return n=e.type,a=on(n,e.pendingProps),a=on(n.type,a),WS(t,e,n,a,r);case 15:return LC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:on(n,a),Wd(t,e),e.tag=1,br(n)?(t=!0,mf(e)):t=!1,eo(e,r),RC(e,n,a),Ov(e,n,a,r),Mv(null,e,n,!0,t,r);case 19:return zC(t,e,r);case 22:return FC(t,e,r)}throw Error(te(156,e.tag))};function ik(t,e){return DN(t,e)}function tL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,r,n){return new tL(t,e,r,n)}function Bx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rL(t){if(typeof t=="function")return Bx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sx)return 11;if(t===ox)return 14}return 2}function Ga(t,e){var r=t.alternate;return r===null?(r=Vr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function qd(t,e,r,n,a,i){var s=2;if(n=t,typeof t=="function")Bx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rs:return Hi(r.children,a,i,e);case ix:s=8,a|=8;break;case tv:return t=Vr(12,r,e,a|2),t.elementType=tv,t.lanes=i,t;case rv:return t=Vr(13,r,e,a),t.elementType=rv,t.lanes=i,t;case nv:return t=Vr(19,r,e,a),t.elementType=nv,t.lanes=i,t;case pN:return um(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hN:s=10;break e;case mN:s=9;break e;case sx:s=11;break e;case ox:s=14;break e;case _a:s=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Vr(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Hi(t,e,r,n){return t=Vr(7,t,n,e),t.lanes=r,t}function um(t,e,r,n){return t=Vr(22,t,n,e),t.elementType=pN,t.lanes=r,t.stateNode={isHidden:!1},t}function zp(t,e,r){return t=Vr(6,t,null,e),t.lanes=r,t}function Wp(t,e,r){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nL(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hx(t,e,r,n,a,i,s,o,l){return t=new nL(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jx(i),t}function aL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sk(t){if(!t)return Ja;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(br(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(br(r))return sC(t,r,e)}return e}function ok(t,e,r,n,a,i,s,o,l){return t=Hx(r,n,!0,t,a,i,s,o,l),t.context=sk(null),r=t.current,n=cr(),a=Va(r),i=Zn(n,a),i.callback=e??null,za(r,i,a),t.current.lanes=a,wu(t,a,n),wr(t,n),t}function dm(t,e,r,n){var a=e.current,i=cr(),s=Va(a);return r=sk(r),e.context===null?e.context=r:e.pendingContext=r,e=Zn(i,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=za(a,e,s),t!==null&&(yn(t,a,s,i),Bd(t,a,s)),s}function Tf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zx(t,e){r_(t,e),(t=t.alternate)&&r_(t,e)}function iL(){return null}var lk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wx(t){this._internalRoot=t}fm.prototype.render=Wx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));dm(t,e,null,null)};fm.prototype.unmount=Wx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xi(function(){dm(null,t,null,null)}),e[ia]=null}};function fm(t){this._internalRoot=t}fm.prototype.unstable_scheduleHydration=function(t){if(t){var e=FN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Na.length&&e!==0&&e<Na[r].priority;r++);Na.splice(r,0,t),r===0&&BN(t)}};function Vx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n_(){}function sL(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Tf(s);i.call(u)}}var s=ok(e,n,t,0,null,!1,!1,"",n_);return t._reactRootContainer=s,t[ia]=s.current,Sc(t.nodeType===8?t.parentNode:t),Xi(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Tf(l);o.call(u)}}var l=Hx(t,0,!1,null,null,!1,!1,"",n_);return t._reactRootContainer=l,t[ia]=l.current,Sc(t.nodeType===8?t.parentNode:t),Xi(function(){dm(e,l,r,n)}),l}function mm(t,e,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=Tf(s);o.call(l)}}dm(e,s,t,a)}else s=sL(r,e,t,a,n);return Tf(s)}$N=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Hl(e.pendingLanes);r!==0&&(ux(e,r|1),wr(e,St()),!(Ie&6)&&(po=St()+500,ii()))}break;case 13:Xi(function(){var n=sa(t,1);if(n!==null){var a=cr();yn(n,t,1,a)}}),zx(t,1)}};dx=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var r=cr();yn(e,t,134217728,r)}zx(t,134217728)}};LN=function(t){if(t.tag===13){var e=Va(t),r=sa(t,e);if(r!==null){var n=cr();yn(r,t,e,n)}zx(t,e)}};FN=function(){return Ge};UN=function(t,e){var r=Ge;try{return Ge=t,e()}finally{Ge=r}};hv=function(t,e,r){switch(e){case"input":if(sv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=am(n);if(!a)throw Error(te(90));vN(n),sv(n,a)}}}break;case"textarea":xN(t,r);break;case"select":e=r.value,e!=null&&Qs(t,!!r.multiple,e,!1)}};AN=Lx;TN=Xi;var oL={usingClientEntryPoint:!1,Events:[_u,Fs,am,EN,jN,Lx]},Sl={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lL={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kN(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||iL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{em=ad.inject(lL),kn=ad}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;Rr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(e))throw Error(te(200));return aL(t,e,null,r)};Rr.createRoot=function(t,e){if(!Vx(t))throw Error(te(299));var r=!1,n="",a=lk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Hx(t,1,!1,null,null,r,!1,n,a),t[ia]=e.current,Sc(t.nodeType===8?t.parentNode:t),new Wx(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=kN(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return Xi(t)};Rr.hydrate=function(t,e,r){if(!hm(e))throw Error(te(200));return mm(null,t,e,!0,r)};Rr.hydrateRoot=function(t,e,r){if(!Vx(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=lk;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=ok(e,null,t,1,r??null,a,!1,i,s),t[ia]=e.current,Sc(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new fm(e)};Rr.render=function(t,e,r){if(!hm(e))throw Error(te(200));return mm(null,t,e,!1,r)};Rr.unmountComponentAtNode=function(t){if(!hm(t))throw Error(te(40));return t._reactRootContainer?(Xi(function(){mm(null,null,t,!1,function(){t._reactRootContainer=null,t[ia]=null})}),!0):!1};Rr.unstable_batchedUpdates=Lx;Rr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!hm(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return mm(t,e,r,!1,n)};Rr.version="18.3.1-next-f1338f8080-20240426";function ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ck)}catch(t){console.error(t)}}ck(),cN.exports=Rr;var Nf=cN.exports,a_=Nf;Jg.createRoot=a_.createRoot,Jg.hydrateRoot=a_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oc.apply(this,arguments)}var Ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ma||(Ma={}));const i_="popstate";function cL(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return Gv("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Cf(a)}return dL(e,r,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uL(){return Math.random().toString(36).substr(2,8)}function s_(t,e){return{usr:t.state,key:t.key,idx:e}}function Gv(t,e,r,n){return r===void 0&&(r=null),Oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:r,key:e&&e.key||n||uL()})}function Cf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function dL(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Ma.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Oc({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Ma.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:x})}function h(v,x){o=Ma.Push;let y=Gv(g.location,v,x);r&&r(y,v),u=d()+1;let b=s_(y,u),S=g.createHref(y);try{s.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(S)}i&&l&&l({action:o,location:g.location,delta:1})}function m(v,x){o=Ma.Replace;let y=Gv(g.location,v,x);r&&r(y,v),u=d();let b=s_(y,u),S=g.createHref(y);s.replaceState(b,"",S),i&&l&&l({action:o,location:g.location,delta:0})}function p(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Cf(v);return y=y.replace(/ $/,"%20"),Et(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return o},get location(){return t(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(i_,f),l=v,()=>{a.removeEventListener(i_,f),l=null}},createHref(v){return e(a,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return s.go(v)}};return g}var o_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o_||(o_={}));function fL(t,e,r){return r===void 0&&(r="/"),hL(t,e,r,!1)}function hL(t,e,r,n){let a=typeof e=="string"?Yo(e):e,i=Gx(a.pathname||"/",r);if(i==null)return null;let s=dk(t);mL(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=jL(i);o=_L(s[l],u,n)}return o}function dk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Et(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=qa([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dk(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:wL(u,i.index),routesMeta:d})};return t.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of fk(i.path))a(i,s,l)}),e}function fk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=fk(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function mL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pL=/^:[\w-]+$/,gL=3,vL=2,yL=1,xL=10,bL=-2,l_=t=>t==="*";function wL(t,e){let r=t.split("/"),n=r.length;return r.some(l_)&&(n+=bL),e&&(n+=vL),r.filter(a=>!l_(a)).reduce((a,i)=>a+(pL.test(i)?gL:i===""?yL:xL),n)}function SL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function _L(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=c_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=c_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:qa([i,f.pathname]),pathnameBase:CL(qa([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=qa([i,f.pathnameBase]))}return s}function c_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=EL(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=o[f]||"";s=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function EL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),uk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function jL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function AL(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Yo(t):t;return{pathname:r?r.startsWith("/")?r:TL(r,e):e,search:kL(n),hash:OL(a)}}function TL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Vp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NL(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qx(t,e){let r=NL(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yx(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Yo(t):(a=Oc({},t),Et(!a.pathname||!a.pathname.includes("?"),Vp("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Vp("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Vp("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=AL(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const qa=t=>t.join("/").replace(/\/\/+/g,"/"),CL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hk=["post","put","patch","delete"];new Set(hk);const PL=["get",...hk];new Set(PL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dc.apply(this,arguments)}const Kx=N.createContext(null),ML=N.createContext(null),si=N.createContext(null),pm=N.createContext(null),oi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),mk=N.createContext(null);function RL(t,e){let{relative:r}=e===void 0?{}:e;Ko()||Et(!1);let{basename:n,navigator:a}=N.useContext(si),{hash:i,pathname:s,search:o}=vk(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:qa([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Ko(){return N.useContext(pm)!=null}function Qo(){return Ko()||Et(!1),N.useContext(pm).location}function pk(t){N.useContext(si).static||N.useLayoutEffect(t)}function gk(){let{isDataRoute:t}=N.useContext(oi);return t?YL():IL()}function IL(){Ko()||Et(!1);let t=N.useContext(Kx),{basename:e,future:r,navigator:n}=N.useContext(si),{matches:a}=N.useContext(oi),{pathname:i}=Qo(),s=JSON.stringify(qx(a,r.v7_relativeSplatPath)),o=N.useRef(!1);return pk(()=>{o.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Yx(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qa([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}function vk(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=N.useContext(si),{matches:a}=N.useContext(oi),{pathname:i}=Qo(),s=JSON.stringify(qx(a,n.v7_relativeSplatPath));return N.useMemo(()=>Yx(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function $L(t,e){return LL(t,e)}function LL(t,e,r,n){Ko()||Et(!1);let{navigator:a}=N.useContext(si),{matches:i}=N.useContext(oi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Qo(),d;if(e){var f;let v=typeof e=="string"?Yo(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Et(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=fL(t,{pathname:m}),g=zL(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:qa([l,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:qa([l,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return e&&g?N.createElement(pm.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ma.Pop}},g):g}function FL(){let t=qL(),e=DL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:a},r):null,i)}const UL=N.createElement(FL,null);class BL extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(oi.Provider,{value:this.props.routeContext},N.createElement(mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HL(t){let{routeContext:e,match:r,children:n}=t,a=N.useContext(Kx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(oi.Provider,{value:e},n)}function zL(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Et(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,p=!1,g=null,v=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||UL,l&&(u<0&&h===0?(KL("route-fallback",!1),p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return m?b=g:p?b=v:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,N.createElement(HL,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(BL,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var yk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yk||{}),kf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kf||{});function WL(t){let e=N.useContext(Kx);return e||Et(!1),e}function VL(t){let e=N.useContext(ML);return e||Et(!1),e}function GL(t){let e=N.useContext(oi);return e||Et(!1),e}function xk(t){let e=GL(),r=e.matches[e.matches.length-1];return r.route.id||Et(!1),r.route.id}function qL(){var t;let e=N.useContext(mk),r=VL(kf.UseRouteError),n=xk(kf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function YL(){let{router:t}=WL(yk.UseNavigateStable),e=xk(kf.UseNavigateStable),r=N.useRef(!1);return pk(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Dc({fromRouteId:e},i)))},[t,e])}const u_={};function KL(t,e,r){!e&&!u_[t]&&(u_[t]=!0)}function QL(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function XL(t){let{to:e,replace:r,state:n,relative:a}=t;Ko()||Et(!1);let{future:i,static:s}=N.useContext(si),{matches:o}=N.useContext(oi),{pathname:l}=Qo(),u=gk(),d=Yx(e,qx(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function sr(t){Et(!1)}function ZL(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Ma.Pop,navigator:i,static:s=!1,future:o}=t;Ko()&&Et(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:i,static:s,future:Dc({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Yo(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=N.useMemo(()=>{let v=Gx(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:a}},[l,d,f,h,m,p,a]);return g==null?null:N.createElement(si.Provider,{value:u},N.createElement(pm.Provider,{children:r,value:g}))}function JL(t){let{children:e,location:r}=t;return $L(qv(e),r)}new Promise(()=>{});function qv(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,a)=>{if(!N.isValidElement(n))return;let i=[...e,a];if(n.type===N.Fragment){r.push.apply(r,qv(n.props.children,i));return}n.type!==sr&&Et(!1),!n.props.index||!n.props.children||Et(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=qv(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(this,arguments)}function e4(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function t4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r4(t,e){return t.button===0&&(!e||e==="_self")&&!t4(t)}const n4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a4="6";try{window.__reactRouterVersion=a4}catch{}const i4="startTransition",d_=ZR[i4];function s4(t){let{basename:e,children:r,future:n,window:a}=t,i=N.useRef();i.current==null&&(i.current=cL({window:a,v5Compat:!0}));let s=i.current,[o,l]=N.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=N.useCallback(f=>{u&&d_?d_(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>s.listen(d),[s,d]),N.useEffect(()=>QL(n),[n]),N.createElement(ZL,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const o4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ss=N.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=e4(e,n4),{basename:m}=N.useContext(si),p,g=!1;if(typeof u=="string"&&l4.test(u)&&(p=u,o4))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=Gx(S.pathname,m);S.origin===b.origin&&w!=null?u=w+S.search+S.hash:g=!0}catch{}let v=RL(u,{relative:a}),x=c4(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||x(b)}return N.createElement("a",Yv({},h,{href:p||v,onClick:g||i?n:y,ref:r,target:l}))});var f_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f_||(f_={}));var h_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h_||(h_={}));function c4(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=e===void 0?{}:e,l=gk(),u=Qo(),d=vk(t,{relative:s});return N.useCallback(f=>{if(r4(f,r)){f.preventDefault();let h=n!==void 0?n:Cf(u)===Cf(d);l(t,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,d,n,a,r,t,i,s,o])}const u4="modulepreload",d4=function(t){return"/scrub-shop-road-app/"+t},m_={},ju=function(e,r,n){if(!r||r.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=d4(i),i in m_)return;m_[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const f=a[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":u4,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},f4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Qx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class h4 extends Qx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p_ extends Qx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g_ extends Qx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kv||(Kv={}));var m4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class p4{constructor(e,{headers:r={},customFetch:n,region:a=Kv.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=f4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return m4(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(g=>{throw new h4(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new p_(f);if(!f.ok)throw new g_(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof g_||a instanceof p_?a.context:void 0}}})}}var pr={},Xx={},gm={},Au={},vm={},ym={},g4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},go=g4();const v4=go.fetch,bk=go.fetch.bind(go),wk=go.Headers,y4=go.Request,x4=go.Response,Xo=Object.freeze(Object.defineProperty({__proto__:null,Headers:wk,Request:y4,Response:x4,default:bk,fetch:v4},Symbol.toStringTag,{value:"Module"})),b4=IR(Xo);var xm={};Object.defineProperty(xm,"__esModule",{value:!0});let w4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xm.default=w4;var Sk=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ym,"__esModule",{value:!0});const S4=Sk(b4),_4=Sk(xm);let E4=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=S4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,o,l;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&g===""?(h=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new _4.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,o,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};ym.default=E4;var j4=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vm,"__esModule",{value:!0});const A4=j4(ym);let T4=class extends A4.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vm.default=T4;var N4=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Au,"__esModule",{value:!0});const C4=N4(vm);let k4=class extends C4.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Au.default=k4;var O4=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gm,"__esModule",{value:!0});const _l=O4(Au);let D4=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new _l.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new _l.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _l.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new _l.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _l.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};gm.default=D4;var bm={},wm={};Object.defineProperty(wm,"__esModule",{value:!0});wm.version=void 0;wm.version="0.0.0-automated";Object.defineProperty(bm,"__esModule",{value:!0});bm.DEFAULT_HEADERS=void 0;const P4=wm;bm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${P4.version}`};var _k=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xx,"__esModule",{value:!0});const M4=_k(gm),R4=_k(Au),I4=bm;let $4=class Ek{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},I4.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new M4.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ek(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new R4.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Xx.default=$4;var Zo=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});pr.PostgrestError=pr.PostgrestBuilder=pr.PostgrestTransformBuilder=pr.PostgrestFilterBuilder=pr.PostgrestQueryBuilder=pr.PostgrestClient=void 0;const jk=Zo(Xx);pr.PostgrestClient=jk.default;const Ak=Zo(gm);pr.PostgrestQueryBuilder=Ak.default;const Tk=Zo(Au);pr.PostgrestFilterBuilder=Tk.default;const Nk=Zo(vm);pr.PostgrestTransformBuilder=Nk.default;const Ck=Zo(ym);pr.PostgrestBuilder=Ck.default;const kk=Zo(xm);pr.PostgrestError=kk.default;var L4=pr.default={PostgrestClient:jk.default,PostgrestQueryBuilder:Ak.default,PostgrestFilterBuilder:Tk.default,PostgrestTransformBuilder:Nk.default,PostgrestBuilder:Ck.default,PostgrestError:kk.default};const{PostgrestClient:F4,PostgrestQueryBuilder:Sye,PostgrestFilterBuilder:_ye,PostgrestTransformBuilder:Eye,PostgrestBuilder:jye,PostgrestError:Aye}=L4;function U4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const B4=U4(),H4="2.11.15",z4=`realtime-js/${H4}`,W4="1.0.0",Ok=1e4,V4=1e3;var tc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tc||(tc={}));var Xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xt||(Xt={}));var cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cn||(cn={}));var Qv;(function(t){t.websocket="websocket"})(Qv||(Qv={}));var ki;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ki||(ki={}));class G4{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+a));s=s+a;const l=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Dk{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const v_=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=q4(s,t,e,a),i),{})},q4=(t,e,r,n)=>{const a=e.find(o=>o.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?Pk(i,s):Xv(s)},Pk=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return X4(e,r)}switch(t){case tt.bool:return Y4(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return K4(e);case tt.json:case tt.jsonb:return Q4(e);case tt.timestamp:return Z4(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return Xv(e);default:return Xv(e)}},Xv=t=>t,Y4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},K4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},X4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>Pk(e,o))}return t},Z4=t=>typeof t=="string"?t.replace(" ","T"):t,Mk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Gp{constructor(e,r,n={},a=Ok){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var y_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(y_||(y_={}));class rc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=rc.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=rc.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(i,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),p=d.filter(v=>m.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(o[u]=p),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,a(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(x_||(x_={}));var b_;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(b_||(b_={}));var Wn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wn||(Wn={}));class Zx{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gp(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Dk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new rc(this),this.broadcastEndpointURL=Mk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(Wn.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Wn.CLOSED));const l={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Wn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let g=0;g<m;g++){const v=h[g],{filter:{event:x,schema:y,table:b,filter:S}}=v,w=d&&d[g];if(w&&w.event===x&&w.schema===y&&w.table===b&&w.filter===S)p.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Xt.errored,e==null||e(Wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(Wn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Xt.errored,e==null||e(Wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Gp(this,cn.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Gp(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=cn;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,g,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var p,g,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const S=m.id,w=(p=m.filter)===null||p===void 0?void 0:p.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:v,commit_timestamp:x,type:y,errors:b}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zx.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=v_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=v_(e.columns,e.old_record)),r}}const w_=()=>{},J4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e3{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ok,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=w_,this.ref=0,this.logger=w_,this.conn=null,this.sendBuffer=[],this.serializer=new G4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${Qv.websocket}`,this.httpEndpoint=Mk(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=B4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W4}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tc.connecting:return ki.Connecting;case tc.open:return ki.Open;case tc.closing:return ki.Closing;default:return ki.Closed}}isConnected(){return this.connectionState()===ki.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Zx(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:z4};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(cn.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(V4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([J4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Jx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function It(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class t3 extends Jx{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zv extends Jx{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var r3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Rk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},n3=()=>r3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ju(()=>Promise.resolve().then(()=>Xo),void 0)).Response:Response}),Jv=t=>{if(Array.isArray(t))return t.map(r=>Jv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Jv(n)}),e};var ds=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const qp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),a3=(t,e,r)=>ds(void 0,void 0,void 0,function*(){const n=yield n3();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new t3(qp(a),t.status||500))}).catch(a=>{e(new Zv(qp(a),a))}):e(new Zv(qp(t),t))}),i3=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Tu(t,e,r,n,a,i){return ds(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,i3(e,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>a3(l,o,n))})})}function Of(t,e,r,n){return ds(this,void 0,void 0,function*(){return Tu(t,"GET",e,r,n)})}function ja(t,e,r,n,a){return ds(this,void 0,void 0,function*(){return Tu(t,"POST",e,n,a,r)})}function s3(t,e,r,n,a){return ds(this,void 0,void 0,function*(){return Tu(t,"PUT",e,n,a,r)})}function o3(t,e,r,n){return ds(this,void 0,void 0,function*(){return Tu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ik(t,e,r,n,a){return ds(this,void 0,void 0,function*(){return Tu(t,"DELETE",e,n,a,r)})}var hr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const l3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c3{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Rk(a)}uploadOrUpdate(e,r,n,a){return hr(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},S_),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(It(i))return{data:null,error:i};throw i}})}upload(e,r,n){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return hr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:S_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(It(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return hr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ja(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new Jx("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}update(e,r,n){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return hr(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(It(a))return{data:null,error:a};throw a}})}copy(e,r,n){return hr(this,void 0,void 0,function*(){try{return{data:{path:(yield ja(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(It(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return hr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield ja(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(It(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return hr(this,void 0,void 0,function*(){try{const a=yield ja(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(It(a))return{data:null,error:a};throw a}})}download(e,r){return hr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Of(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(It(o))return{data:null,error:o};throw o}})}info(e){return hr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Of(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jv(n),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}exists(e){return hr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield o3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(It(n)&&n instanceof Zv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return hr(this,void 0,void 0,function*(){try{return{data:yield Ik(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}list(e,r,n){return hr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},l3),r),{prefix:e||""});return{data:yield ja(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(It(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const u3="2.7.1",d3={"X-Client-Info":`storage-js/${u3}`};var _s=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class f3{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},d3),r),this.fetch=Rk(n)}listBuckets(){return _s(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(It(e))return{data:null,error:e};throw e}})}getBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _s(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return _s(this,void 0,void 0,function*(){try{return{data:yield s3(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield Ik(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}}class h3 extends f3{constructor(e,r={},n){super(e,r,n)}from(e){return new c3(this.url,this.headers,e,this.fetch)}}const m3="2.50.5";let Wl="";typeof Deno<"u"?Wl="deno":typeof document<"u"?Wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wl="react-native":Wl="node";const p3={"X-Client-Info":`supabase-js-${Wl}/${m3}`},g3={headers:p3},v3={schema:"public"},y3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x3={};var b3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const w3=t=>{let e;return t?e=t:typeof fetch>"u"?e=bk:e=fetch,(...r)=>e(...r)},S3=()=>typeof Headers>"u"?wk:Headers,_3=(t,e,r)=>{const n=w3(r),a=S3();return(i,s)=>b3(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var E3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function j3(t){return t.endsWith("/")?t:t+"/"}function A3(t,e){var r,n;const{db:a,auth:i,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>E3(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const $k="2.70.0",Ds=30*1e3,ey=3,Yp=ey*Ds,T3="http://localhost:9999",N3="supabase.auth.token",C3={"X-Client-Info":`gotrue-js/${$k}`},ty="X-Supabase-Api-Version",Lk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O3=6e5;class eb extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class D3 extends eb{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function P3(t){return Ae(t)&&t.name==="AuthApiError"}class Fk extends eb{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class li extends eb{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Sa extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M3(t){return Ae(t)&&t.name==="AuthSessionMissingError"}class id extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sd extends li{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class od extends li{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R3(t){return Ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class __ extends li{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ry extends li{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Kp(t){return Ae(t)&&t.name==="AuthRetryableFetchError"}class E_ extends li{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nc extends li{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),j_=` 	
\r=`.split(""),I3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<j_.length;e+=1)t[j_[e].charCodeAt(0)]=-2;for(let e=0;e<Df.length;e+=1)t[Df[e].charCodeAt(0)]=e;return t})();function A_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Df[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Df[n]),e.queuedBits-=6}}function Uk(t,e,r){const n=I3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function T_(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{F3(s,n,r)};for(let s=0;s<t.length;s+=1)Uk(t.charCodeAt(s),a,i);return e.join("")}function $3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function L3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}$3(n,e)}}function F3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function U3(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Uk(t.charCodeAt(a),r,n);return new Uint8Array(e)}function B3(t){const e=[];return L3(t,r=>e.push(r)),new Uint8Array(e)}function H3(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>A_(a,r,n)),A_(null,r,n),e.join("")}function z3(t){return Math.round(Date.now()/1e3)+t}function W3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},ac=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function V3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const Bk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},G3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hk=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ld=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cd=async(t,e)=>{await t.removeItem(e)};class Sm{constructor(){this.promise=new Sm.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sm.promiseConstructor=Promise;function Qp(t){const e=t.split(".");if(e.length!==3)throw new nc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!k3.test(e[n]))throw new nc("JWT not in base64url format");return{header:JSON.parse(T_(e[0])),payload:JSON.parse(T_(e[1])),signature:U3(e[2]),raw:{header:e[0],payload:e[1]}}}async function q3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Y3(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function K3(t){return("0"+t.toString(16)).substr(-2)}function Q3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,K3).join("")}async function X3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Z3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await X3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(t,e,r=!1){const n=Q3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Hk(t,`${e}-code-verifier`,a);const i=await Z3(n);return[i,n===i?"plain":"s256"]}const J3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eF(t){const e=t.headers.get(ty);if(!e||!e.match(J3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(t){if(!nF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var aF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const _i=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iF=[502,503,504];async function N_(t){var e;if(!G3(t))throw new ry(_i(t),0);if(iF.includes(t.status))throw new ry(_i(t),t.status);let r;try{r=await t.json()}catch(i){throw new Fk(_i(i),i)}let n;const a=eF(t);if(a&&a.getTime()>=Lk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new E_(_i(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new E_(_i(r),t.status,r.weak_password.reasons);throw new D3(_i(r),t.status||500,n)}const sF=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ke(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[ty]||(i[ty]=Lk["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await oF(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function oF(t,e,r,n,a,i){const s=sF(e,n,a,i);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new ry(_i(l),0)}if(o.ok||await N_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await N_(l)}}function Hn(t){var e;let r=null;dF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=z3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function C_(t){const e=Hn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ka(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lF(t){return{data:t,error:null}}function cF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=aF(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function uF(t){return t}function dF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Xp=["global","local","others"];var fF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class hF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Bk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Xp[0]){if(Xp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xp.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ka})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=fF(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:cF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ka})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:uF});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){js(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ka})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){js(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ka})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){js(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ka})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){js(e.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){js(e.userId),js(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}const mF={getItem:t=>ac()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ac()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ac()&&globalThis.localStorage.removeItem(t)}};function k_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function pF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const As={debug:!!(globalThis&&ac()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gF extends zk{}async function vF(t,e,r){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),As.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{As.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw As.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(As.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}pF();const yF={url:T3,storageKey:N3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O_(t,e,r){return await r()}class Pc{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pc.nextInstanceID,Pc.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},yF),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new hF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Bk(a.fetch),this.lock=a.lock||O_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vF:this.lock=O_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:ac()?this.storage=mF:(this.memoryStorage={},this.storage=k_(this.memoryStorage)):(this.memoryStorage={},this.storage=k_(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$k}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=V3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),R3(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new Fk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Hn}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Es(this.storage,this.storageKey)),i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Hn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hn})}else throw new sd("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:o}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C_})}else if("phone"in e){const{phone:i,password:s,options:o}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C_})}else throw new sd("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new id}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,s,o,l,u,d,f,h,m;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:b}=e;let S;if(sn())if(typeof x=="object")S=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let E;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")E=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)E=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)p=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:v,error:x}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:H3(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Hn});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new id}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Ae(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await ld(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Hn});if(await cd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new id}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,o=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Hn}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new id}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Es(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new sd("You must provide either an email or phone number.")}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Hn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ae(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Es(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:lF})}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Sa;const{error:a}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new sd("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ld(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Yp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ka}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sa}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ka})})}catch(r){if(Ae(r))return M3(r)&&(await this._removeSession(),await cd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Sa;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Es(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ka});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sa;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Qp(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Sa;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!sn())throw new od("No browser detected.");if(e.error||e.error_description||e.error_code)throw new od(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new __("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new __("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!s||!u)throw new od("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ld(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(P3(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await cd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=W3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Es(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return sn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Y3(async a=>(a>0&&await q3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Kp(i)&&Date.now()+s-n<Ds})}catch(n){if(this._debug(r,"error",n),Ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ld(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Yp;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Yp}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Kp(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Sm;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Sa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Ae(i)){const s={session:null,error:i};return Kp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Hk(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await cd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ds);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ds}ms, refresh threshold is ${ey} ticks`),a<=ey&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Es(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Qp(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+O3>Date.now()))return n;const{data:a,error:i}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new nc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===e),!n)throw new nc("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=Qp(n);if(tF(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:s},error:null}}const u=rF(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,B3(`${o}.${l}`)))throw new nc("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}Pc.nextInstanceID=0;const xF=Pc;class bF extends xF{constructor(e){super(e)}}var wF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class SF{constructor(e,r,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=j3(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:v3,realtime:x3,auth:Object.assign(Object.assign({},y3),{storageKey:u}),global:g3},f=A3(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=_3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new F4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new p4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new h3(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return wF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new e3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _F=(t,e,r)=>new SF(t,e,r),Zp="https://kvsbrrmzedadyffqtcdq.supabase.co",Jp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw";let Q=null;try{Zp&&Zp!=="https://placeholder.supabase.co"&&Jp&&Jp!=="placeholder-key"&&(Q=_F(Zp,Jp))}catch(t){console.error("Failed to create Supabase client:",t)}class Aa{constructor(){this.isAuthenticated=!0,Aa.mockMessages||(Aa.mockMessages=[])}async init(){try{if(!Q)return!0;const{data:e,error:r}=await Q.from("venues").select("count").limit(1);return r?(console.error("Supabase connection failed:",r),!1):!0}catch(e){return console.error("Failed to initialize Supabase API:",e),!1}}getMockData(e){return{venues:[],trailer_history:[],camper_history:[],staff:[]}[e]||[]}async readTable(e,r={}){try{if(!Q)return{success:!0,data:this.getMockData(e)};let n=[],a=0;const i=1e3;let s=!0;for(;s;){let o=Q.from(e).select("*");r.filters&&Object.entries(r.filters).forEach(([d,f])=>{o=o.eq(d,f)}),r.dateFrom&&r.dateTo&&(o=o.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?o=o.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):e.includes("history")?o=o.order("date",{ascending:!1}):o=o.order("id",{ascending:!1}),o=o.range(a*i,(a+1)*i-1);const{data:l,error:u}=await o;if(u)throw new Error(u.message);l&&l.length>0?(n=n.concat(l),a++,l.length<i&&(s=!1),a>50&&(console.warn(`[readTable] Stopping pagination after 50 pages to prevent infinite loop for ${e}`),s=!1)):s=!1}return{success:!0,data:n}}catch(n){return console.error(`Failed to read from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async addRow(e,r){try{if(!Q)return{success:!0,data:{...r,id:Date.now()},message:"Row added successfully (mock mode)"};const{data:n,error:a}=await Q.from(e).insert([r]).select();if(a)throw new Error(a.message);return{success:!0,data:n[0],message:"Row added successfully"}}catch(n){return console.error(`Failed to add row to ${e}:`,n),{success:!1,error:n.message}}}async updateRow(e,r,n){try{if(!Q)return{success:!0,data:{id:r,...n},message:"Row updated successfully (mock mode)"};const{data:a,error:i}=await Q.from(e).update(n).eq("id",r).select();if(i)throw new Error(i.message);return{success:!0,data:a[0],message:"Row updated successfully"}}catch(a){return console.error(`Failed to update row in ${e}:`,a),{success:!1,error:a.message}}}async deleteRow(e,r){try{if(!Q)return{success:!0,message:"Row deleted successfully (mock mode)"};const{error:n}=await Q.from(e).delete().eq("id",r);if(n)throw new Error(n.message);return{success:!0,message:"Row deleted successfully"}}catch(n){return console.error(`Failed to delete row from ${e}:`,n),{success:!1,error:n.message}}}async getTableInfo(e){try{if(!Q){const a=this.getMockData(e);return{success:!0,data:{title:e,rowCount:a.length,columnCount:a.length>0?Object.keys(a[0]).length:0}}}const{count:r,error:n}=await Q.from(e).select("*",{count:"exact",head:!0});if(n)throw new Error(n.message);return{success:!0,data:{title:e,rowCount:r||0,columnCount:10}}}catch(r){return console.error(`Failed to get table info for ${e}:`,r),{success:!1,error:r.message}}}async searchData(e,r,n=null){try{if(!Q){const o=this.getMockData(e);return r?{success:!0,data:o.filter(u=>n?u[n]&&u[n].toString().toLowerCase().includes(r.toLowerCase()):Object.values(u).some(d=>d&&d.toString().toLowerCase().includes(r.toLowerCase())))}:{success:!0,data:o}}let a=Q.from(e).select("*");r&&(n?a=a.ilike(n,`%${r}%`):a=a.or(`name.ilike.%${r}%,email.ilike.%${r}%,promo.ilike.%${r}%`));const{data:i,error:s}=await a;if(s)throw new Error(s.message);return{success:!0,data:i||[]}}catch(a){return console.error(`Failed to search data in ${e}:`,a),{success:!1,error:a.message,data:[]}}}async getSalesWithVenues(e,r={}){try{if(!Q){const s=this.getMockData(e),o=this.getMockData("venues");return{success:!0,data:s.map(u=>({...u,venues:o.find(d=>d.id===u.venue_id)||{}}))}}let n=Q.from(e).select(`
          *,
          venues (
            id,
            promo,
            address_city,
            contact,
            phone,
            email
          )
        `);r.dateFrom&&r.dateTo&&(n=n.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?n=n.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):n=n.order("date",{ascending:!1});const{data:a,error:i}=await n;if(i)throw new Error(i.message);return{success:!0,data:a||[]}}catch(n){return console.error(`Failed to get sales with venues from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async getDashboardStats(){try{if(!Q){const u=this.getMockData("trailer_history"),d=this.getMockData("camper_history"),f=this.getMockData("venues"),h=this.getMockData("staff");return{success:!0,data:{trailerHistory:u,camperHistory:d,venueCount:f.length,staffCount:h.length}}}const{data:e,error:r}=await Q.from("trailer_history").select("gross_sales, net_sales, sales_tax, date");if(r)throw new Error(r.message);const{data:n,error:a}=await Q.from("camper_history").select("gross_sales, net_sales, sales_tax, date");if(a)throw new Error(a.message);const{count:i,error:s}=await Q.from("venues").select("*",{count:"exact",head:!0});if(s)throw new Error(s.message);const{count:o,error:l}=await Q.from("staff").select("*",{count:"exact",head:!0});if(l)throw new Error(l.message);return{success:!0,data:{trailerHistory:e||[],camperHistory:n||[],venueCount:i||0,staffCount:o||0}}}catch(e){return console.error("Failed to get dashboard stats:",e),{success:!1,error:e.message}}}async getCurrentUser(){var e;try{if(!Q)return{success:!1,error:"Supabase not configured"};const{data:{user:r},error:n}=await Q.auth.getUser();if(n)return{success:!1,error:n.message};if(!r)return{success:!1,error:"No user found"};const{data:a,error:i}=await Q.from("users").select("*").eq("email",r.email).single();return i&&i.code!=="PGRST116"&&console.warn("Could not fetch user profile:",i),{success:!0,data:{id:r.id,email:r.email,name:(a==null?void 0:a.name)||((e=r.user_metadata)==null?void 0:e.name)||r.email,role:(a==null?void 0:a.role)||"user",created_at:r.created_at,last_sign_in:r.last_sign_in_at}}}catch(r){return console.error("Failed to get current user:",r),{success:!1,error:r.message}}}async signIn(e,r){var n;try{if(!Q)return{success:!1,error:"Supabase not configured"};const{data:a,error:i}=await Q.auth.signInWithPassword({email:e,password:r});if(i)return{success:!1,error:i.message};const s={id:a.user.id,email:a.user.email,name:((n=a.user.user_metadata)==null?void 0:n.name)||a.user.email,role:"user",created_at:a.user.created_at,last_sign_in:a.user.last_sign_in_at},{data:o}=await Q.from("users").select("*").eq("email",a.user.email).single();if(o&&(s.name=o.name,s.role=o.role,s.staff_id=o.staff_id),o!=null&&o.staff_id){const{data:l}=await Q.from("staff").select("*").eq("id",o.staff_id).single();l&&(s.staffMember=l,s.name=l.name||s.name)}return{success:!0,data:s}}catch(a){return console.error("Failed to sign in:",a),{success:!1,error:a.message}}}async signUp(e,r,n){try{if(!Q)return{success:!1,error:"Supabase not configured"};const{data:a,error:i}=await Q.auth.signUp({email:e,password:r,options:{data:{name:n}}});if(i)return{success:!1,error:i.message};if(a.user)try{const{error:s}=await Q.from("users").insert([{id:a.user.id,email:a.user.email,name:n,role:"user",is_active:!0}]);s&&s.code!=="23505"&&console.warn("Could not create user profile:",s)}catch(s){console.warn("Profile creation failed, but auth succeeded:",s)}return{success:!0,data:a.user}}catch(a){return console.error("Failed to sign up:",a),{success:!1,error:a.message}}}async signOut(){try{if(!Q)return{success:!1,error:"Supabase not configured"};const{error:e}=await Q.auth.signOut();return e?{success:!1,error:e.message}:{success:!0}}catch(e){return console.error("Failed to sign out:",e),{success:!1,error:e.message}}}async resetPassword(e){try{if(!Q)return{success:!1,error:"Supabase not configured"};const{error:r}=await Q.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to reset password:",r),{success:!1,error:r.message}}}async resendConfirmationEmail(e){try{if(!Q)return{success:!1,error:"Supabase not configured"};const{error:r}=await Q.auth.resend({type:"signup",email:e});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to resend confirmation email:",r),{success:!1,error:r.message}}}async updateProfile(e,r){try{if(!Q)return{success:!1,error:"Supabase not configured"};const{data:n,error:a}=await Q.from("users").update(r).eq("id",e).select().single();return a?{success:!1,error:a.message}:{success:!0,data:n}}catch(n){return console.error("Failed to update profile:",n),{success:!1,error:n.message}}}async linkUserToStaff(e,r){try{if(!Q)return{success:!1,error:"Supabase not configured"};const{data:n,error:a}=await Q.from("users").update({staff_id:r}).eq("id",e).select().single();return a?{success:!1,error:a.message}:{success:!0,data:n}}catch(n){return console.error("Failed to link user to staff:",n),{success:!1,error:n.message}}}async getUnlinkedUsers(){try{if(!Q)return{success:!1,error:"Supabase not configured"};const{data:e,error:r}=await Q.from("users").select("*").is("staff_id",null).order("created_at",{ascending:!1});return r?{success:!1,error:r.message}:{success:!0,data:e||[]}}catch(e){return console.error("Failed to get unlinked users:",e),{success:!1,error:e.message}}}async authenticate(){return(await this.getCurrentUser()).success}async getUsers(){try{if(!Q)return{success:!0,data:[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}]};const{data:{user:e}}=await Q.auth.getUser();if(!e)return{success:!0,data:[]};const{data:r}=await Q.from("users").select("role").eq("email",e.email).single();let n=Q.from("users").select("*");(r==null?void 0:r.role)==="admin"?n=n.eq("is_active",!0).order("name"):n=n.eq("email",e.email);const{data:a,error:i}=await n;if(i)throw new Error(i.message);return{success:!0,data:a||[]}}catch(e){return console.error("Failed to get users:",e),{success:!1,error:e.message,data:[]}}}async addUser(e){try{if(!Q)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}};const{data:r,error:n}=await Q.from("users").insert([e]).select().single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to add user:",r),{success:!1,error:r.message}}}async updateUser(e,r){try{if(!Q)return{success:!0,data:{id:e,...r}};const{data:n,error:a}=await Q.from("users").update(r).eq("id",e).select().single();if(a)throw new Error(a.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update user:",n),{success:!1,error:n.message}}}async getMessageGroups(){try{if(!Q)return{success:!0,data:[{id:1,group_name:"General",created_by:1,is_active:!0}]};const{data:e,error:r}=await Q.from("message_groups").select("*").eq("is_active",!0).order("group_name");if(r)throw new Error(r.message);return{success:!0,data:e||[]}}catch(e){return console.error("Failed to get message groups:",e),{success:!1,error:e.message,data:[]}}}async getGroupMembers(e){try{if(!Q)return{success:!0,data:[{id:1,group_id:1,user_id:1,role:"admin"},{id:2,group_id:1,user_id:2,role:"member"},{id:3,group_id:1,user_id:3,role:"member"},{id:4,group_id:1,user_id:4,role:"member"},{id:5,group_id:1,user_id:5,role:"admin"},{id:6,group_id:1,user_id:6,role:"member"}]};const{data:r,error:n}=await Q.from("group_members").select(`
          *,
          staff (id, name, email, role)
        `).eq("group_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get group members:",r),{success:!1,error:r.message,data:[]}}}async getMessages(e=null,r=null,n=50){try{if(!Q){let o=Aa.mockMessages||[];return e&&(o=o.filter(l=>l.group_id===e)),o.sort((l,u)=>new Date(l.created_at)-new Date(u.created_at)),n&&(o=o.slice(0,n)),{success:!0,data:o}}let a=Q.from("team_messages").select("*").eq("is_deleted",!1).order("created_at",{ascending:!0}).limit(n);e?a=a.eq("group_id",e):r&&(a=a.eq("recipient_id",r));const{data:i,error:s}=await a;if(s)throw new Error(s.message);return{success:!0,data:i||[]}}catch(a){return console.error("Failed to get messages:",a),{success:!1,error:a.message,data:[]}}}async sendMessage(e){try{if(!Q){const i=[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}].find(o=>o.id===e.sender_id)||{id:e.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"},s={id:Date.now(),...e,created_at:new Date().toISOString(),sender:{id:i.id,name:i.name,email:i.email}};return Aa.mockMessages||(Aa.mockMessages=[]),Aa.mockMessages.push(s),{success:!0,data:s}}const{data:r,error:n}=await Q.from("team_messages").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to send message:",r),{success:!1,error:r.message}}}async getTasks(e=null,r=null){try{if(!Q)return{success:!0,data:[]};let n=Q.from("tasks").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("assigned_to",e)),r&&(n=n.eq("status",r));const{data:a,error:i}=await n;if(i)throw new Error(i.message);return{success:!0,data:a||[]}}catch(n){return console.error("Failed to get tasks:",n),{success:!1,error:n.message,data:[]}}}async createTask(e){try{if(!Q)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};const{data:r,error:n}=await Q.from("tasks").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to create task:",r),{success:!1,error:r.message}}}async updateTask(e,r){try{if(!Q)return{success:!0,data:{id:e,...r}};const{data:n,error:a}=await Q.from("tasks").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(a)throw new Error(a.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update task:",n),{success:!1,error:n.message}}}async deleteTask(e){try{if(!Q)return{success:!0};const{error:r}=await Q.from("tasks").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete task:",r),{success:!1,error:r.message}}}async getTaskComments(e){try{return{success:!0,data:[]}}catch(r){return console.error("Failed to get task comments:",r),{success:!1,error:r.message,data:[]}}}async addTaskComment(e){try{return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}}}catch(r){return console.error("Failed to add task comment:",r),{success:!1,error:r.message}}}async addSalesAnalysisBatch(e){try{if(!Q)return{success:!0,data:e.map((a,i)=>({...a,id:Date.now()+i}))};const{data:r,error:n}=await Q.from("sales_analysis").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to add sales analysis batch:",r),{success:!1,error:r.message}}}async getSalesAnalysis(e={}){try{if(!Q)return{success:!0,data:[]};let r=[],n=0;const a=1e3;let i=!0;for(;i;){let s=Q.from("sales_analysis").select("*").order("invoice_date",{ascending:!1}).range(n*a,(n+1)*a-1);e.storeIds&&e.storeIds.length>0?s=s.in("store_id",e.storeIds):e.storeId&&(s=s.eq("store_id",e.storeId)),e.startDate&&(s=s.gte("invoice_date",e.startDate)),e.endDate&&(s=s.lte("invoice_date",e.endDate)),e.vendor&&(s=s.eq("vendor",e.vendor)),e.department&&(s=s.eq("department",e.department));const{data:o,error:l}=await s;if(l)throw console.error(" [getSalesAnalysis] Database error:",l),new Error(l.message);o&&o.length>0?(r=r.concat(o),n++,o.length<a&&(i=!1),n>10&&(console.warn(" [getSalesAnalysis] Stopping pagination after 10 pages to prevent infinite loop"),i=!1)):i=!1}return{success:!0,data:r}}catch(r){return console.error(" [getSalesAnalysis] Failed to get sales analysis:",r),{success:!1,error:r.message,data:[]}}}async getSalesAnalysisStats(e={}){try{if(!Q)return{success:!0,data:{totalSales:0,totalCost:0,totalProfit:0,totalItems:0,avgProfitMargin:0,topVendors:[],topDepartments:[]}};let r=[],n=0;const a=1e3;let i=!0;for(;i;){const{data:d,error:f}=await Q.from("sales_analysis").select("*").range(n*a,(n+1)*a-1);if(f)throw console.error(" [getSalesAnalysisStats] Database error:",f),new Error(f.message);d&&d.length>0?(r=r.concat(d),n++,d.length<a&&(i=!1),n>10&&(console.warn(" [getSalesAnalysisStats] Stopping pagination after 10 pages to prevent infinite loop"),i=!1)):i=!1}const s=r,o={totalSales:0,totalCost:0,totalProfit:0,totalItems:0,vendors:{},departments:{}};s.forEach(d=>{const f=parseFloat(d.actual)||0,h=parseFloat(d.cost)||0,m=parseInt(d.sold_qty)||0;o.totalSales+=f*m,o.totalCost+=h*m,o.totalItems+=m,d.vendor&&(o.vendors[d.vendor]||(o.vendors[d.vendor]=0),o.vendors[d.vendor]+=f*m),d.department&&(o.departments[d.department]||(o.departments[d.department]=0),o.departments[d.department]+=f*m)}),o.totalProfit=o.totalSales-o.totalCost,o.avgProfitMargin=o.totalSales>0?o.totalProfit/o.totalSales*100:0;const l=Object.entries(o.vendors).map(([d,f])=>({vendor:d,sales:f})).sort((d,f)=>f.sales-d.sales).slice(0,5),u=Object.entries(o.departments).map(([d,f])=>({department:d,sales:f})).sort((d,f)=>f.sales-d.sales).slice(0,5);return{success:!0,data:{...o,topVendors:l,topDepartments:u}}}catch(r){return console.error("Failed to get sales analysis stats:",r),{success:!1,error:r.message}}}async deleteSalesAnalysis(e){try{if(!Q)return{success:!0};const{error:r}=await Q.from("sales_analysis").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete sales analysis record:",r),{success:!1,error:r.message}}}async clearSalesAnalysis(e=null){try{if(!Q)return{success:!0};let r=Q.from("sales_analysis").delete();e&&(r=r.eq("store_id",e));const{error:n}=await r;if(n)throw new Error(n.message);return{success:!0}}catch(r){return console.error("Failed to clear sales analysis:",r),{success:!1,error:r.message}}}async getStoreHours(e){try{if(!Q)return{success:!0,data:[]};const{data:r,error:n}=await Q.from("store_hours").select("*").eq("store_id",e).order("day_of_week");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store hours:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHours(e,r){try{if(!Q)return console.log("Mock: Saving store hours:",r),{success:!0};const{error:n}=await Q.from("store_hours").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:a}=await Q.from("store_hours").insert(r);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save store hours:",n),{success:!1,error:n.message}}}async getStoreHolidays(e){try{if(!Q)return{success:!0,data:[]};const{data:r,error:n}=await Q.from("store_holidays").select("*").eq("store_id",e).order("date");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store holidays:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHolidays(e,r){try{if(!Q)return console.log("Mock: Saving store holidays:",r),{success:!0};const{error:n}=await Q.from("store_holidays").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:a}=await Q.from("store_holidays").insert(r);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save store holidays:",n),{success:!1,error:n.message}}}async getCommissionTiers(e){try{if(!Q)return{success:!0,data:[]};const{data:r,error:n}=await Q.from("commission_tiers").select("*").eq("store_id",e).order("sales_target");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get commission tiers:",r),{success:!1,error:r.message,data:[]}}}async saveCommissionTiers(e,r){try{if(!Q)return console.log("Mock: Saving commission tiers:",r),{success:!0};console.log("saveCommissionTiers called with storeId:",e,"tiersData:",r);const{error:n}=await Q.from("commission_tiers").delete().eq("store_id",e);if(n)throw new Error(n.message);const a=r.filter(s=>s.sales_target>0&&s.bonus_amount>0).map(s=>{const o=s.tier_name&&s.tier_name.trim()||`Bonus for $${s.sales_target.toLocaleString()}+ sales`;return{store_id:s.store_id,tier_name:o,sales_target:s.sales_target,commission_rate:s.commission_rate||0,bonus_amount:s.bonus_amount}});console.log("Final insertData to send to database:",a);const{error:i}=await Q.from("commission_tiers").insert(a);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save commission tiers:",n),{success:!1,error:n.message}}}async getStaffCommissionRates(e){try{if(!Q)return{success:!0,data:[]};const{data:r,error:n}=await Q.from("staff_commission_rates").select("*").eq("store_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get staff commission rates:",r),{success:!1,error:r.message,data:[]}}}async saveStaffCommissionRates(e,r){try{if(!Q)return console.log("Mock: Saving staff commission rates:",r),{success:!0};const{error:n}=await Q.from("staff_commission_rates").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:a}=await Q.from("staff_commission_rates").insert(r);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save staff commission rates:",n),{success:!1,error:n.message}}}async getScheduleSlots(e,r,n){try{if(!Q)return{success:!0,data:[]};const{data:a,error:i}=await Q.from("schedule_slots").select("*").eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(i)throw new Error(i.message);return{success:!0,data:a||[]}}catch(a){return console.error("Failed to get schedule slots:",a),{success:!1,error:a.message,data:[]}}}async saveScheduleSlot(e){try{if(!Q)return console.log("Mock: Saving schedule slot:",e),{success:!0};const{error:r}=await Q.from("schedule_slots").upsert(e,{onConflict:"store_id,date,start_time"});if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to save schedule slot:",r),{success:!1,error:r.message}}}async deleteScheduleSlot(e){try{if(!Q)return console.log("Mock: Deleting schedule slot:",e),{success:!0};const{error:r}=await Q.from("schedule_slots").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule slot:",r),{success:!1,error:r.message}}}async getScheduleAssignments(e,r,n){try{if(!Q)return{success:!0,data:[]};const{data:a,error:i}=await Q.from("schedule_assignments").select(`
          *,
          staff:staff_id(name, role)
        `).eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(i)throw new Error(i.message);return{success:!0,data:(a||[]).map(o=>({id:o.id,storeId:o.store_id,staffId:o.staff_id,date:o.date,startTime:o.start_time,endTime:o.end_time,notes:o.notes,staff:o.staff}))}}catch(a){return console.error("Failed to get schedule assignments:",a),{success:!1,error:a.message,data:[]}}}async saveScheduleAssignment(e){try{if(!Q)return console.log("Mock: Saving schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const r={store_id:e.storeId,staff_id:e.staffId,date:e.date,start_time:e.startTime,end_time:e.endTime,notes:e.notes},{data:n,error:a}=await Q.from("schedule_assignments").upsert(r,{onConflict:"staff_id,date,start_time"}).select();if(a)throw new Error(a.message);return{success:!0,data:n!=null&&n[0]?{id:n[0].id,storeId:n[0].store_id,staffId:n[0].staff_id,date:n[0].date,startTime:n[0].start_time,endTime:n[0].end_time,notes:n[0].notes}:e}}catch(r){return console.error("Failed to save schedule assignment:",r),{success:!1,error:r.message}}}async createScheduleAssignment(e){try{if(!Q)return console.log("Mock: Creating schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const{data:r,error:n}=await Q.from("schedule_assignments").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:(r==null?void 0:r[0])||e}}catch(r){return console.error("Failed to create schedule assignment:",r),{success:!1,error:r.message}}}async deleteScheduleAssignment(e){try{if(!Q)return console.log("Mock: Deleting schedule assignment:",e),{success:!0};const{error:r}=await Q.from("schedule_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule assignment:",r),{success:!1,error:r.message}}}async importTrailerHistory(e){if(!Array.isArray(e)||e.length===0)return{success:!1,error:"No data to import",processed:0,failed:0};if(!Q)return{success:!0,processed:e.length,failed:0};const r={};for(const i of e){const s=`${i.date}_${i.store}`;r[s]||(r[s]={date:i.date,Store:i.store,sales_tax:0,net_sales:0,gross_sales:0}),r[s].sales_tax+=parseFloat(i.sales_tax||0),r[s].net_sales+=parseFloat(i.net_sales||0),r[s].gross_sales+=parseFloat(i.gross_sales||0)}let n=0,a=0;for(const i of Object.values(r))try{const{error:s}=await Q.from("trailer_history").upsert([i],{onConflict:["date","Store"]});s?(a++,console.error("Upsert error:",s)):n++}catch(s){a++,console.error("Exception during upsert:",s)}return{success:a===0,processed:n,failed:a}}async getSalesForPeriod(e,r,n){try{if(!Q)return{success:!0,data:[{date:r,store:e,total_sales:15e3},{date:n,store:e,total_sales:18e3}]};const{data:a,error:i}=await Q.from("trailer_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n),{data:s,error:o}=await Q.from("camper_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n);if(i)throw i;if(o)throw o;const u=[...a||[],...s||[]].reduce((d,f)=>{const h=f.date;return d[h]||(d[h]={date:h,store:e,total_sales:0}),d[h].total_sales+=parseFloat(f.gross_sales||0),d},{});return{success:!0,data:Object.values(u)}}catch(a){return console.error("Error fetching sales data:",a),{success:!1,error:a.message}}}async getSalesByStaff(e,r,n){try{return Q?{success:!0,data:[{date:r,staff_id:e,sales_amount:5e3},{date:n,staff_id:e,sales_amount:6e3}]}:{success:!0,data:[]}}catch(a){return console.error("Error fetching staff sales:",a),{success:!1,error:a.message}}}async getPayrollHistory(e,r,n){try{if(!Q)return{success:!0,data:[]};const{data:a,error:i}=await Q.from("payroll_history").select("*").eq("store_id",e).gte("pay_period_start",r).lte("pay_period_end",n).order("pay_period_start",{ascending:!1});if(i)throw i;return{success:!0,data:a||[]}}catch(a){return console.error("Error fetching payroll history:",a),{success:!1,error:a.message}}}async savePayrollRecord(e){try{if(!Q)return{success:!0,data:{id:Date.now()}};const{data:r,error:n}=await Q.from("payroll_history").insert([e]).select();if(n)throw n;return{success:!0,data:r[0]}}catch(r){return console.error("Error saving payroll record:",r),{success:!1,error:r.message}}}async getStores(){try{if(!Q)return{success:!0,data:[{id:1,name:"Spartanburg",number:"1"},{id:2,name:"Greenville",number:"3"},{id:3,name:"Columbia",number:"4"},{id:4,name:"Trailer",number:"5"},{id:5,name:"Camper",number:"7"}]};const{data:e,error:r}=await Q.from("stores").select("*").eq("is_active",!0).order("number");if(r)throw r;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching stores:",e),{success:!1,error:e.message}}}async getStaffBonusTiers(e){try{console.log(" Getting staff bonus tiers for staffId:",e);const{data:r,error:n}=await Q.from("staff_bonus_tiers").select("*").eq("staff_id",e).order("sales_target",{ascending:!0});return n?(console.error(" Error fetching staff bonus tiers:",n),{success:!1,error:n.message}):(console.log(" Staff bonus tiers fetched successfully:",r),{success:!0,data:r})}catch(r){return console.error(" Exception in getStaffBonusTiers:",r),{success:!1,error:r.message}}}async saveStaffBonusTiers(e,r){try{if(console.log(" Saving staff bonus tiers for staffId:",e,"tiersData:",r),!Q)return console.log(" Supabase not available, returning mock success"),{success:!0,data:r};console.log(" Deleting existing tiers for staff:",e);const{error:n}=await Q.from("staff_bonus_tiers").delete().eq("staff_id",e);if(n)return console.error(" Error deleting existing staff bonus tiers:",n),{success:!1,error:n.message};if(console.log(" Successfully deleted existing tiers"),!r||r.length===0)return console.log(" No tiers to save, deletion completed"),{success:!0,data:[]};console.log(" Inserting new tiers:",r);const{data:a,error:i}=await Q.from("staff_bonus_tiers").insert(r).select();return i?(console.error(" Error saving staff bonus tiers:",i),console.error(" Error details:",{code:i.code,message:i.message,details:i.details,hint:i.hint}),{success:!1,error:i.message}):(console.log(" Staff bonus tiers saved successfully:",a),{success:!0,data:a})}catch(n){return console.error(" Exception in saveStaffBonusTiers:",n),{success:!1,error:n.message}}}async calculateStaffBonus(e,r){try{console.log(" Calculating staff bonus for staffId:",e,"salesAmount:",r);const{data:n,error:a}=await Q.from("staff_bonus_tiers").select("*").eq("staff_id",e).eq("is_active",!0).order("sales_target",{ascending:!1});if(a)return console.error(" Error calculating staff bonus:",a),{success:!1,error:a.message};let i=0;for(const s of n||[])if(r>=s.sales_target){i=s.bonus_amount;break}return console.log(" Staff bonus calculated:",i),{success:!0,data:i}}catch(n){return console.error(" Exception in calculateStaffBonus:",n),{success:!1,error:n.message}}}async getScheduleAssignmentsForDateRange(e,r,n){try{console.log(" Getting schedule assignments for store:",e,"date range:",r,"to",n);const{data:a,error:i}=await Q.from("schedule_assignments").select(`
          *,
          slot:schedule_slots(*)
        `).eq("slot.store_id",e).gte("slot.slot_date",r).lte("slot.slot_date",n);return i?(console.error(" Error fetching schedule assignments:",i),{success:!1,error:i.message}):(console.log(" Schedule assignments fetched:",a),{success:!0,data:a||[]})}catch(a){return console.error(" Exception in getScheduleAssignmentsForDateRange:",a),{success:!1,error:a.message}}}async getSalesForDateRange(e,r,n){try{console.log(" Getting sales for store:",e,"date range:",r,"to",n);const{data:a,error:i}=await Q.from("trailer_history").select("date, Store, gross_sales").order("date",{ascending:!1}).limit(5);i?console.error(" Error fetching sample data:",i):console.log(" Sample dates from trailer_history:",a);const{data:s,error:o}=await Q.from("trailer_history").select("*").gte("date",r).lte("date",n);if(o)return console.error(" Error fetching sales data:",o),{success:!1,error:o.message};console.log(" Raw data for date range:",(s==null?void 0:s.length)||0,"records");const l=(s||[]).filter(u=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"}[u.Store]||u.Store)===e);return console.log(" Sales fetched for store:",e,l),{success:!0,data:l}}catch(a){return console.error(" Exception in getSalesForDateRange:",a),{success:!1,error:a.message}}}async savePayrollRecord(e){try{console.log(" Saving payroll record:",e);const{data:r,error:n}=await Q.from("payroll_records").insert(e).select();return n?(console.error(" Error saving payroll record:",n),{success:!1,error:n.message}):(console.log(" Payroll record saved:",r),{success:!0,data:r})}catch(r){return console.error(" Exception in savePayrollRecord:",r),{success:!1,error:r.message}}}}const oe=new Aa,Yd=(t,e)=>{const r=s=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"})[s]||`Store ${s}`,n=t.Store||t.store||null,a=n?r(String(n)):e==="TRAILER_HISTORY"?"Trailer":"Camper";return{id:t.id||null,date:t.date||"",status:t.status||"",salesTax:parseFloat(t.sales_tax||0)||0,netSales:parseFloat(t.net_sales||0)||0,grossSales:parseFloat(t.gross_sales||0)||0,store:a,venue:t.common_venue_name||t.venue_name||"",sheetType:e}},EF=t=>{const e={};return t.forEach((n,a)=>{const i=String(n.store||"Unknown Store"),s=n.date||"";if(!s)return;let o=s;s.includes(" ")&&(o=s.split(" ")[0]);const l=`${i}_${o}`;e[l]||(e[l]={store:i,venue:n.venue||"",date:o,salesTax:0,netSales:0,grossSales:0,count:0});const u=parseFloat(n.salesTax||0)||0,d=parseFloat(n.netSales||0)||0,f=parseFloat(n.grossSales||0)||0;e[l].salesTax+=u,e[l].netSales+=d,e[l].grossSales+=f,e[l].count+=1}),Object.values(e).sort((n,a)=>{const i=new Date(n.date),s=new Date(a.date);return i.getTime()!==s.getTime()?i-s:String(n.store).localeCompare(String(a.store))})},ud=t=>({id:t.id||null,promo:t.promo||"",promoSend:t.promo_to_send||"",addressCity:t.address_city||"",contact:t.contact||"",phone:t.phone||"",email:t.email||"",times:t.times||"",showInfo:t.show_info||"",forecastWill:t.forecast||""}),D_=t=>({id:t.id||null,name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hireDate:t.hire_date||"",notes:t.notes||"",store_id:t.store_id||null,payType:t.pay_type||"hourly",hourlyRate:parseFloat(t.hourly_rate||0)||0,salaryAmount:parseFloat(t.salary_amount||0)||0,preferredHoursPerWeek:parseFloat(t.preferred_hours_per_week||0)||0,maxHoursPerWeek:parseFloat(t.max_hours_per_week||0)||0}),P_=(t,e=!1)=>{const r={name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hire_date:t.hireDate||"",notes:t.notes||"",store_id:t.store_id||null,pay_type:t.payType||"hourly",hourly_rate:parseFloat(t.hourlyRate||0)||0,salary_amount:parseFloat(t.salaryAmount||0)||0,preferred_hours_per_week:parseFloat(t.preferredHoursPerWeek||0)||0,max_hours_per_week:parseFloat(t.maxHoursPerWeek||0)||0};return e&&t.id&&(r.id=t.id),r},jF=["Confirmed","Pending","Closed","Cancelled","Rescheduled"],AF=["Manager","Worker","Driver","Sales","Support"],TF=["Active","Inactive","On Leave","Terminated"],NF=["hourly","salary","salary+bonus"],eg=t=>({date:new Date().toISOString().split("T")[0],status:"Confirmed",salesTax:0,netSales:0,grossSales:0,venueId:"",sheetType:t}),tg=()=>({promo:"",promoSend:"",addressCity:"",contact:"",phone:"",email:"",times:"",showInfo:"",forecastWill:""}),rg=()=>({name:"",email:"",phone:"",role:"Worker",status:"Active",hireDate:new Date().toISOString().split("T")[0],notes:"",store_id:null,payType:"hourly",hourlyRate:0,salaryAmount:0,preferredHoursPerWeek:0,maxHoursPerWeek:0}),CF={currentSheet:"TRAILER_HISTORY",salesData:[],venuesData:[],staffData:[],loading:!1,error:null,currentMonth:new Date,selectedVenue:null,isAuthenticated:!1,user:null,usersData:[],messagesData:[],messageGroups:[],currentUser:null,selectedGroup:null,tasksData:[],taskComments:[],selectedTask:null,salesAnalysisData:[],salesAnalysisStats:{}},se={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_SALES_DATA:"SET_SALES_DATA",SET_VENUES_DATA:"SET_VENUES_DATA",SET_STAFF_DATA:"SET_STAFF_DATA",SET_CURRENT_SHEET:"SET_CURRENT_SHEET",SET_CURRENT_MONTH:"SET_CURRENT_MONTH",SET_SELECTED_VENUE:"SET_SELECTED_VENUE",ADD_SALES_ENTRY:"ADD_SALES_ENTRY",UPDATE_SALES_ENTRY:"UPDATE_SALES_ENTRY",DELETE_SALES_ENTRY:"DELETE_SALES_ENTRY",ADD_VENUE_ENTRY:"ADD_VENUE_ENTRY",UPDATE_VENUE_ENTRY:"UPDATE_VENUE_ENTRY",DELETE_VENUE_ENTRY:"DELETE_VENUE_ENTRY",ADD_STAFF_ENTRY:"ADD_STAFF_ENTRY",UPDATE_STAFF_ENTRY:"UPDATE_STAFF_ENTRY",DELETE_STAFF_ENTRY:"DELETE_STAFF_ENTRY",SET_IS_AUTHENTICATED:"SET_IS_AUTHENTICATED",SET_USER:"SET_USER",SET_USERS_DATA:"SET_USERS_DATA",SET_MESSAGES_DATA:"SET_MESSAGES_DATA",SET_MESSAGE_GROUPS:"SET_MESSAGE_GROUPS",ADD_MESSAGE:"ADD_MESSAGE",SET_CURRENT_USER:"SET_CURRENT_USER",SET_SELECTED_GROUP:"SET_SELECTED_GROUP",SET_TASKS_DATA:"SET_TASKS_DATA",ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",SET_TASK_COMMENTS:"SET_TASK_COMMENTS",ADD_TASK_COMMENT:"ADD_TASK_COMMENT",SET_SELECTED_TASK:"SET_SELECTED_TASK",SET_SALES_ANALYSIS_DATA:"SET_SALES_ANALYSIS_DATA",SET_SALES_ANALYSIS_STATS:"SET_SALES_ANALYSIS_STATS"};function kF(t,e){switch(e.type){case se.SET_CURRENT_SHEET:return{...t,currentSheet:e.payload};case se.SET_LOADING:return{...t,loading:e.payload};case se.SET_ERROR:return{...t,error:e.payload,loading:!1};case se.SET_SALES_DATA:return{...t,salesData:e.payload,loading:!1,error:null};case se.SET_VENUES_DATA:return{...t,venuesData:e.payload,loading:!1,error:null};case se.SET_STAFF_DATA:return{...t,staffData:e.payload,loading:!1,error:null};case se.ADD_SALES_ENTRY:return{...t,salesData:[...t.salesData,e.payload]};case se.UPDATE_SALES_ENTRY:return{...t,salesData:t.salesData.map(r=>r.id===e.payload.id?e.payload:r)};case se.DELETE_SALES_ENTRY:return{...t,salesData:t.salesData.filter(r=>r.id!==e.payload)};case se.ADD_VENUE_ENTRY:return{...t,venuesData:[...t.venuesData,e.payload]};case se.UPDATE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.map(r=>r.id===e.payload.id?e.payload:r)};case se.DELETE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.filter(r=>r.id!==e.payload)};case se.ADD_STAFF_ENTRY:return{...t,staffData:[...t.staffData,e.payload]};case se.UPDATE_STAFF_ENTRY:return{...t,staffData:t.staffData.map(r=>r.id===e.payload.id?e.payload:r)};case se.DELETE_STAFF_ENTRY:return{...t,staffData:t.staffData.filter(r=>r.id!==e.payload)};case se.SET_CURRENT_MONTH:return{...t,currentMonth:e.payload};case se.SET_SELECTED_VENUE:return{...t,selectedVenue:e.payload};case se.SET_IS_AUTHENTICATED:return{...t,isAuthenticated:e.payload};case se.SET_USER:return{...t,user:e.payload,isAuthenticated:!!e.payload};case se.SET_USERS_DATA:return{...t,usersData:e.payload};case se.SET_MESSAGES_DATA:return{...t,messagesData:e.payload};case se.SET_MESSAGE_GROUPS:return{...t,messageGroups:e.payload};case se.ADD_MESSAGE:return{...t,messagesData:[...t.messagesData,e.payload]};case se.SET_CURRENT_USER:return{...t,currentUser:e.payload};case se.SET_SELECTED_GROUP:return{...t,selectedGroup:e.payload};case se.SET_TASKS_DATA:return{...t,tasksData:e.payload};case se.ADD_TASK:return{...t,tasksData:[e.payload,...t.tasksData]};case se.UPDATE_TASK:return{...t,tasksData:t.tasksData.map(r=>r.id===e.payload.id?e.payload:r)};case se.DELETE_TASK:return{...t,tasksData:t.tasksData.filter(r=>r.id!==e.payload)};case se.SET_TASK_COMMENTS:return{...t,taskComments:e.payload};case se.ADD_TASK_COMMENT:return{...t,taskComments:[e.payload,...t.taskComments]};case se.SET_SELECTED_TASK:return{...t,selectedTask:e.payload};case se.SET_SALES_ANALYSIS_DATA:return{...t,salesAnalysisData:e.payload};case se.SET_SALES_ANALYSIS_STATS:return{...t,salesAnalysisStats:e.payload};default:return t}}const Wk=N.createContext();function OF({children:t}){const[e,r]=N.useReducer(kF,CF),n=async()=>{try{const[A,C]=await Promise.all([oe.getUsers(),oe.getMessageGroups()]);A.success&&r({type:se.SET_USERS_DATA,payload:A.data}),C.success&&r({type:se.SET_MESSAGE_GROUPS,payload:C.data})}catch(A){console.error("Failed to load staff and groups data:",A)}};N.useEffect(()=>{setTimeout(()=>{a()},100)},[]),N.useEffect(()=>{i()},[e.currentSheet]);const a=async()=>{r({type:se.SET_LOADING,payload:!0});try{if(await oe.init()){await O();const C=new Promise((R,U)=>setTimeout(()=>U(new Error("Data loading timeout")),1e4));try{await Promise.race([Promise.all([i(),s(),o()]),C]),n(),I()}catch(R){console.warn("Data loading timed out, continuing with app:",R)}}}catch(A){console.error("Failed to initialize app:",A),r({type:se.SET_ERROR,payload:A.message})}finally{r({type:se.SET_LOADING,payload:!1})}},i=async()=>{try{const A="trailer_history",C=await oe.readTable(A);if(C.success){const R=C.data.map(Z=>Yd(Z,e.currentSheet)),U=EF(R);r({type:se.SET_SALES_DATA,payload:U})}else r({type:se.SET_ERROR,payload:C.error})}catch(A){r({type:se.SET_ERROR,payload:A.message})}},s=async()=>{try{const A=await oe.readTable("venues");if(A.success){const C=A.data.map(R=>ud(R));r({type:se.SET_VENUES_DATA,payload:C})}else r({type:se.SET_ERROR,payload:A.error})}catch(A){r({type:se.SET_ERROR,payload:A.message})}},o=async()=>{try{const A=await oe.readTable("staff");if(A.success){const C=A.data.map(R=>D_(R));r({type:se.SET_STAFF_DATA,payload:C})}else{const C=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:se.SET_STAFF_DATA,payload:C})}}catch{const C=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:se.SET_STAFF_DATA,payload:C})}},l=A=>{r({type:se.SET_CURRENT_SHEET,payload:A})},u=async A=>{try{const C="trailer_history",R=Yd(A,e.currentSheet),U=await oe.addRow(C,R);if(U.success){const Z=Yd(U.data,e.currentSheet);return r({type:se.ADD_SALES_ENTRY,payload:Z}),{success:!0}}else return{success:!1,error:U.error}}catch(C){return{success:!1,error:C.message}}},d=async(A,C)=>{try{const R=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",U=await oe.updateRow(R,A,C);if(U.success){const Z={...C,id:A};return r({type:se.UPDATE_SALES_ENTRY,payload:Z}),{success:!0}}else return{success:!1,error:U.error}}catch(R){return{success:!1,error:R.message}}},f=async A=>{try{const C=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",R=await oe.deleteRow(C,A);return R.success?(r({type:se.DELETE_SALES_ENTRY,payload:A}),{success:!0}):{success:!1,error:R.error}}catch(C){return{success:!1,error:C.message}}},h=async A=>{try{const C=ud(A),R=await oe.addRow("venues",C);if(R.success){const U=ud(R.data);return r({type:se.ADD_VENUE_ENTRY,payload:U}),{success:!0}}else return{success:!1,error:R.error}}catch(C){return{success:!1,error:C.message}}},m=async(A,C)=>{try{const R=ud(C),U=await oe.updateRow("venues",A,R);if(U.success){const Z={...C,id:A};return r({type:se.UPDATE_VENUE_ENTRY,payload:Z}),{success:!0}}else return{success:!1,error:U.error}}catch(R){return{success:!1,error:R.message}}},p=async A=>{try{const C=await oe.deleteRow("venues",A);return C.success?(r({type:se.DELETE_VENUE_ENTRY,payload:A}),{success:!0}):{success:!1,error:C.error}}catch(C){return{success:!1,error:C.message}}},g=async A=>{try{const C=P_(A,!0),R=await oe.addRow("staff",C);if(R.success){const U=D_(R.data);return r({type:se.ADD_STAFF_ENTRY,payload:U}),{success:!0}}else return{success:!1,error:R.error}}catch(C){return{success:!1,error:C.message}}},v=async(A,C)=>{try{const R=P_(C,!1),U=await oe.updateRow("staff",A,R);if(U.success){const Z={...C,id:A};return r({type:se.UPDATE_STAFF_ENTRY,payload:Z}),{success:!0}}else return{success:!1,error:U.error}}catch(R){return{success:!1,error:R.message}}},x=async A=>{try{const C=await oe.deleteRow("staff",A);return C.success?(r({type:se.DELETE_STAFF_ENTRY,payload:A}),{success:!0}):{success:!1,error:C.error}}catch(C){return{success:!1,error:C.message}}},y=A=>{r({type:se.SET_CURRENT_MONTH,payload:A})},b=A=>{r({type:se.SET_SELECTED_VENUE,payload:A})},S=()=>{r({type:se.SET_ERROR,payload:null})},w=A=>{r({type:se.SET_IS_AUTHENTICATED,payload:A})},_=A=>{r({type:se.SET_USER,payload:A})},E=async(A,C)=>{try{const R=await oe.signIn(A,C);return R.success?(_(R.data),{success:!0}):{success:!1,error:R.error}}catch(R){return{success:!1,error:R.message}}},j=async(A,C,R)=>{try{const U=await oe.signUp(A,C,R);return U.success?{success:!0}:{success:!1,error:U.error}}catch(U){return{success:!1,error:U.message}}},T=async()=>{try{const A=await oe.signOut();return A.success?(_(null),{success:!0}):{success:!1,error:A.error}}catch(A){return{success:!1,error:A.message}}},O=async()=>{try{const A=await oe.getCurrentUser();return A.success?(_(A.data),!0):(_(null),!1)}catch{return _(null),!1}},P=async A=>{try{const C=await oe.resendConfirmationEmail(A);return C.success?{success:!0}:{success:!1,error:C.error}}catch(C){return{success:!1,error:C.message}}},D=async A=>{try{if(A){const C=await oe.init();return r({type:se.SET_IS_AUTHENTICATED,payload:C}),C}else return r({type:se.SET_IS_AUTHENTICATED,payload:!1}),!0}catch(C){return console.error("Supabase connection toggle error:",C),r({type:se.SET_IS_AUTHENTICATED,payload:!1}),!1}},k=()=>e.staffData.filter(A=>A.status==="Active"),$=async A=>{try{const C=await oe.getMessages(A);if(C.success){const R=C.data.map(U=>{const Z=e.usersData.find(ee=>ee.id===U.sender_id);return{...U,sender:Z?{id:Z.id,name:Z.name,email:Z.email}:{id:U.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"}}});r({type:se.SET_MESSAGES_DATA,payload:R})}}catch(C){console.error("Failed to load messages:",C)}},H=async A=>{var C,R;try{const U=await oe.sendMessage(A);if(U.success){const Z={...U.data,sender:{id:A.sender_id,name:((C=e.currentUser)==null?void 0:C.name)||"Unknown User",email:((R=e.currentUser)==null?void 0:R.email)||"unknown@scrubshop.com"}};return r({type:se.ADD_MESSAGE,payload:Z}),{success:!0}}else return{success:!1,error:U.error}}catch(U){return{success:!1,error:U.message}}},V=A=>{r({type:se.SET_CURRENT_USER,payload:A})},M=A=>{r({type:se.SET_SELECTED_GROUP,payload:A})},I=async()=>{try{const A=await oe.getTasks();A.success&&r({type:se.SET_TASKS_DATA,payload:A.data})}catch(A){console.error("Failed to load tasks:",A)}},B=async A=>{try{const C=await oe.createTask(A);return C.success?(r({type:se.ADD_TASK,payload:C.data}),{success:!0}):{success:!1,error:C.error}}catch(C){return{success:!1,error:C.message}}},F=async(A,C)=>{try{const R=await oe.updateTask(A,C);return R.success?(r({type:se.UPDATE_TASK,payload:{id:A,...C}}),{success:!0}):{success:!1,error:R.error}}catch(R){return{success:!1,error:R.message}}},z=async A=>{try{const C=await oe.deleteTask(A);return C.success?(r({type:se.DELETE_TASK,payload:A}),{success:!0}):{success:!1,error:C.error}}catch(C){return{success:!1,error:C.message}}},G=async A=>{try{const C=await oe.getTaskComments(A);C.success&&r({type:se.SET_TASK_COMMENTS,payload:C.data})}catch(C){console.error("Failed to load task comments:",C)}},q=async A=>{try{const C=await oe.addTaskComment(A);return C.success?(r({type:se.ADD_TASK_COMMENT,payload:C.data}),{success:!0}):{success:!1,error:C.error}}catch(C){return{success:!1,error:C.message}}},ae=A=>{r({type:se.SET_SELECTED_TASK,payload:A})},ce=async()=>{try{const A=await oe.getSalesAnalysisData();A.success&&r({type:se.SET_SALES_ANALYSIS_DATA,payload:A.data})}catch(A){console.error("Failed to load sales analysis data:",A)}},ye=async()=>{try{const A=await oe.getSalesAnalysisStats();A.success&&r({type:se.SET_SALES_ANALYSIS_STATS,payload:A.data})}catch(A){console.error("Failed to load sales analysis stats:",A)}},Te=W.useCallback(async A=>{try{let C=A.isWorkDay?"WORK DAY":A.venue||"";if(A.isWorkDay&&A.workers&&A.workers.length>0){const Z=A.workers.join(","),ee=A.hours||"0";C=`WORK DAY|${Z}|${ee}`}const R={date:A.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:C,Store:A.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},U=await oe.addRow("trailer_history",R);return U.success?{success:!0,data:{id:U.data.id,title:A.title,date:A.date,backgroundColor:A.isWorkDay?"#fefce8":"#dcfce7",borderColor:A.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:A.isWorkDay?"workday":"sale",workers:A.workers,worker:A.workers.join(", "),hours:A.hours,venueId:A.venueId,venue:e.venuesData.find(ee=>ee.id===A.venueId)}}}:{success:!1,error:U.error}}catch(C){return{success:!1,error:C.message}}},[e.currentSheet,e.venuesData]),ge=W.useCallback(async(A,C)=>{try{let R=C.isWorkDay?"WORK DAY":C.venue||"";if(C.isWorkDay&&C.workers&&C.workers.length>0){const ee=C.workers.join(","),le=C.hours||"0";R=`WORK DAY|${ee}|${le}`}const U={date:C.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:R,Store:C.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},Z=await oe.updateRow("trailer_history",A,U);return Z.success?{success:!0,data:{id:A,title:C.title,date:C.date,backgroundColor:C.isWorkDay?"#fefce8":"#dcfce7",borderColor:C.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:C.isWorkDay?"workday":"sale",workers:C.workers,worker:C.workers.join(", "),hours:C.hours,venueId:C.venueId,venue:e.venuesData.find(le=>le.id===C.venueId)}}}:{success:!1,error:Z.error}}catch(R){return{success:!1,error:R.message}}},[e.currentSheet,e.venuesData]),X=W.useCallback(async A=>{try{const C=await oe.deleteRow("trailer_history",A);return C.success?{success:!0}:{success:!1,error:C.error}}catch(C){return{success:!1,error:C.message}}},[]),ne=W.useCallback(async()=>{try{const A=await oe.readTable("trailer_history",{filters:{Store:99}});return A.success?{success:!0,data:A.data.map(R=>{let U=[],Z="";if(R.common_venue_name.startsWith("WORK DAY|")){const ee=R.common_venue_name.split("|");ee.length>=3&&(U=ee[1].split(",").filter(le=>le.trim()!==""),Z=ee[2]||"")}return{id:R.id,title:"Work Day",date:R.date,backgroundColor:"#fefce8",borderColor:"#fde047",extendedProps:{type:"workday",workers:U,worker:U.join(", "),hours:Z,venueId:null,venue:null}}})}:{success:!1,error:A.error}}catch(A){return{success:!1,error:A.message}}},[]),re={...e,workers:k(),supabaseAPI:oe,setCurrentSheet:l,addSalesEntry:u,updateSalesEntry:d,deleteSalesEntry:f,addVenueEntry:h,updateVenueEntry:m,deleteVenueEntry:p,addStaffEntry:g,updateStaffEntry:v,deleteStaffEntry:x,setCurrentMonth:y,setSelectedVenue:b,clearError:S,loadSalesData:i,loadVenuesData:s,loadStaffData:o,setIsAuthenticated:w,setUser:_,signIn:E,signUp:j,signOut:T,checkAuth:O,resendConfirmationEmail:P,toggleSupabaseConnection:D,loadStaffAndGroups:n,loadMessages:$,sendMessage:H,setCurrentUser:V,setSelectedGroup:M,loadTasks:I,addTask:B,updateTask:F,deleteTask:z,loadTaskComments:G,addTaskComment:q,setSelectedTask:ae,loadSalesAnalysisData:ce,loadSalesAnalysisStats:ye,addCalendarEvent:Te,updateCalendarEvent:ge,deleteCalendarEvent:X,loadCalendarEvents:ne};return c.jsx(Wk.Provider,{value:re,children:t})}function wt(){const t=N.useContext(Wk);if(!t)throw new Error("useApp must be used within an AppProvider");return t}function DF({onSuccess:t,onSwitchToRegister:e}){const[r,n]=N.useState(""),[a,i]=N.useState(""),[s,o]=N.useState(!1),[l,u]=N.useState(""),{signIn:d}=wt(),f=async h=>{h.preventDefault(),o(!0),u("");try{const m=await d(r,a);m.success?t&&t():u(m.error||"Login failed")}catch(m){u("An unexpected error occurred"),console.error("Login error:",m)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Scrub Shop"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your sales dashboard and management tools"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:h=>n(h.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:a,onChange:h=>i(h.target.value)})]})]}),l&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:l})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Don't have an account? Sign up"})})]})]})})}function PF({email:t,onConfirmed:e}){const[r,n]=N.useState(!1),[a,i]=N.useState(""),[s,o]=N.useState(""),{resendConfirmationEmail:l}=wt(),u=async()=>{n(!0),i(""),o("");try{const d=await l(t);d.success?o("Confirmation email sent! Please check your inbox."):i(d.error||"Failed to resend confirmation email")}catch(d){i("An unexpected error occurred"),console.error("Resend error:",d)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Email"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["We sent a confirmation email to ",t]})]}),c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please check your email and click the confirmation link to verify your account."}),s&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:s})}),a&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:a})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:u,disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending...":"Resend Confirmation Email"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"I've Confirmed My Email"})]}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try resending."})})]})})]})})}function MF({onSuccess:t,onSwitchToLogin:e}){const[r,n]=N.useState(""),[a,i]=N.useState(""),[s,o]=N.useState(""),[l,u]=N.useState(""),[d,f]=N.useState(!1),[h,m]=N.useState(""),[p,g]=N.useState(""),[v,x]=N.useState(!1),{signUp:y}=wt(),b=async S=>{if(S.preventDefault(),f(!0),m(""),g(""),a!==s){m("Passwords do not match"),f(!1);return}if(a.length<6){m("Password must be at least 6 characters long"),f(!1);return}try{const w=await y(r,a,l);w.success?x(!0):m(w.error||"Registration failed")}catch(w){m("An unexpected error occurred"),console.error("Registration error:",w)}finally{f(!1)}};return v?c.jsx(PF,{email:r,onConfirmed:t}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Scrub Shop management team"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:l,onChange:S=>u(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:S=>n(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password (min 6 characters)",value:a,onChange:S=>i(S.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:S=>o(S.target.value)})]})]}),h&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:h})}),p&&c.jsx("div",{className:"rounded-md bg-green-50 p-4",children:c.jsx("div",{className:"text-sm text-green-700",children:p})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating account...":"Create account"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Already have an account? Sign in"})})]})]})})}function RF({children:t}){const{user:e,loading:r}=wt(),[n,a]=W.useState(!1);return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):e?t:n?c.jsx(MF,{onSuccess:()=>a(!1),onSwitchToLogin:()=>a(!1)}):c.jsx(DF,{onSuccess:()=>{},onSwitchToRegister:()=>a(!0)})}var IF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $F=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LF=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:o,...l},u)=>N.createElement("svg",{ref:u,...IF,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:`lucide lucide-${$F(t)}`,...l},[...e.map(([d,f])=>N.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Ee=LF;const ny=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),FF=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Kd=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Mc=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),tb=Ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Cr=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),M_=Ee("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),ay=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),UF=Ee("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ic=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),rb=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),nb=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ci=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Tn=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),BF=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Vk=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),iy=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),HF=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Nn=Ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),zF=Ee("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),WF=Ee("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),VF=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),GF=Ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),qF=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bn=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),YF=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),fs=Ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),KF=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ui=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),QF=Ee("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),ab=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),XF=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ZF=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Pf=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),JF=Ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Gk=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),di=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),vo=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sy=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Zi=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dn=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),eU=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Rc=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qk=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Yk(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Yk(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function tU(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Yk(t))&&(n&&(n+=" "),n+=e);return n}function rU(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=Kk(e))&&(n&&(n+=" "),n+=r);return n}function Kk(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=Kk(t[n]))&&(r&&(r+=" "),r+=e);return r}var ib="-";function nU(t){var e=iU(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,a=n===void 0?{}:n;function i(o){var l=o.split(ib);return l[0]===""&&l.length!==1&&l.shift(),Qk(l,e)||aU(o)}function s(o,l){var u=r[o]||[];return l&&a[o]?[].concat(u,a[o]):u}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function Qk(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),a=n?Qk(t.slice(1),n):void 0;if(a)return a;if(e.validators.length!==0){var i=t.join(ib);return(s=e.validators.find(function(o){var l=o.validator;return l(i)}))==null?void 0:s.classGroupId}}var R_=/^\[(.+)\]$/;function aU(t){if(R_.test(t)){var e=R_.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function iU(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},a=oU(Object.entries(t.classGroups),r);return a.forEach(function(i){var s=i[0],o=i[1];oy(o,n,s,e)}),n}function oy(t,e,r,n){t.forEach(function(a){if(typeof a=="string"){var i=a===""?e:I_(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(sU(a)){oy(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(function(s){var o=s[0],l=s[1];oy(l,I_(e,o),r,n)})})}function I_(t,e){var r=t;return e.split(ib).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function sU(t){return t.isThemeGetter}function oU(t,e){return e?t.map(function(r){var n=r[0],a=r[1],i=a.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[e+l,u]})):s});return[n,i]}):t}function lU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function a(i,s){r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):a(s,o)}}}var Xk="!";function cU(t){var e=t.separator||":",r=e.length===1,n=e[0],a=e.length;return function(s){for(var o=[],l=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===n&&(r||s.slice(f,f+a)===e)){o.push(s.slice(u,f)),u=f+a;continue}if(h==="/"){d=f;continue}}h==="["?l++:h==="]"&&l--}var m=o.length===0?s:s.substring(u),p=m.startsWith(Xk),g=p?m.substring(1):m,v=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}}}function uU(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var a=n[0]==="[";a?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function dU(t){return{cache:lU(t.cacheSize),splitModifiers:cU(t),...nU(t)}}var fU=/\s+/;function hU(t,e){var r=e.splitModifiers,n=e.getClassGroupId,a=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(fU).map(function(s){var o=r(s),l=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),m=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};m=!1}var p=uU(l).join(":"),g=u?p+Xk:p;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:s,hasPostfixModifier:m}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,d=o+l;return i.has(d)?!1:(i.add(d),a(l,u).forEach(function(f){return i.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function mU(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,a,i,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(m,p){return p(m)},d());return n=dU(h),a=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){var d=a(u);if(d)return d;var f=hU(u,n);return i(u,f),f}return function(){return s(rU.apply(null,arguments))}}function st(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var Zk=/^\[(?:([a-z-]+):)?(.+)\]$/i,pU=/^\d+\/\d+$/,gU=new Set(["px","full","screen"]),vU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xU=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nn(t){return Ii(t)||gU.has(t)||pU.test(t)||ly(t)}function ly(t){return hs(t,"length",jU)}function bU(t){return hs(t,"size",Jk)}function wU(t){return hs(t,"position",Jk)}function SU(t){return hs(t,"url",AU)}function dd(t){return hs(t,"number",Ii)}function Ii(t){return!Number.isNaN(Number(t))}function _U(t){return t.endsWith("%")&&Ii(t.slice(0,-1))}function El(t){return $_(t)||hs(t,"number",$_)}function Pe(t){return Zk.test(t)}function jl(){return!0}function ba(t){return vU.test(t)}function EU(t){return hs(t,"",TU)}function hs(t,e,r){var n=Zk.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function jU(t){return yU.test(t)}function Jk(){return!1}function AU(t){return t.startsWith("url(")}function $_(t){return Number.isInteger(Number(t))}function TU(t){return xU.test(t)}function NU(){var t=st("colors"),e=st("spacing"),r=st("blur"),n=st("brightness"),a=st("borderColor"),i=st("borderRadius"),s=st("borderSpacing"),o=st("borderWidth"),l=st("contrast"),u=st("grayscale"),d=st("hueRotate"),f=st("invert"),h=st("gap"),m=st("gradientColorStops"),p=st("gradientColorStopPositions"),g=st("inset"),v=st("margin"),x=st("opacity"),y=st("padding"),b=st("saturate"),S=st("scale"),w=st("sepia"),_=st("skew"),E=st("space"),j=st("translate"),T=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},P=function(){return["auto",Pe,e]},D=function(){return[Pe,e]},k=function(){return["",nn]},$=function(){return["auto",Ii,Pe]},H=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},M=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},I=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",Pe]},F=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[Ii,dd]},G=function(){return[Ii,Pe]};return{cacheSize:500,theme:{colors:[jl],spacing:[nn],blur:["none","",ba,Pe],brightness:z(),borderColor:[t],borderRadius:["none","","full",ba,Pe],borderSpacing:D(),borderWidth:k(),contrast:z(),grayscale:B(),hueRotate:G(),invert:B(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[_U,ly],inset:P(),margin:P(),opacity:z(),padding:D(),saturate:z(),scale:z(),sepia:B(),skew:G(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ba]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(H(),[Pe])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",El]}],"grid-cols":[{"grid-cols":[jl]}],"col-start-end":[{col:["auto",{span:["full",El]},Pe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[jl]}],"row-start-end":[{row:["auto",{span:[El]},Pe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(I())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(I(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(I(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Pe,e]}],"min-w":[{"min-w":["min","max","fit",Pe,nn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ba]},ba,Pe]}],h:[{h:[Pe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Pe,nn]}],"max-h":[{"max-h":[Pe,e,"min","max","fit"]}],"font-size":[{text:["base",ba,ly]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dd]}],"font-family":[{font:[jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Ii,dd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pe,nn]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nn]}],"underline-offset":[{"underline-offset":["auto",Pe,nn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(H(),[wU])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[Pe,nn]}],"outline-w":[{outline:[nn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ba,EU]}],"shadow-color":[{shadow:[jl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ba,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[El,Pe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nn,dd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var CU=mU(NU);function He(...t){return CU(tU(t))}function kU(){const{user:t,signOut:e}=wt();return t?c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:t.name||t.email}),t.role&&c.jsxs("span",{className:"ml-2 text-gray-500",children:["(",t.role,")"]})]}),c.jsx("button",{onClick:e,className:"text-sm text-gray-500 hover:text-gray-700",children:"Sign out"})]}):null}const Rt={MANAGER:"Manager",WORKER:"Worker"},OU={"/dashboard":[Rt.MANAGER,Rt.WORKER],"/tasks":[Rt.MANAGER,Rt.WORKER],"/messages":[Rt.MANAGER,Rt.WORKER],"/sales-analysis":[Rt.MANAGER],"/scheduler":[Rt.MANAGER,Rt.WORKER],"/daily-sales":[Rt.MANAGER],"/venues":[Rt.MANAGER,Rt.WORKER],"/calendar":[Rt.MANAGER,Rt.WORKER],"/bonuses":[Rt.MANAGER],"/staff":[Rt.MANAGER],"/admin/sales-upload":[Rt.MANAGER]},DU=(t,e)=>{if(!t||!t.role)return!1;const r=OU[e];return r?r.includes(t.role):!1},ng=(t,e)=>e?t.filter(r=>DU(e,r.href)):[],fd=t=>t&&t.role===Rt.MANAGER,PU=()=>{const t=Qo(),{currentSheet:e,setCurrentSheet:r,currentUser:n,setCurrentUser:a,staffData:i}=wt(),[s,o]=N.useState(!1),[l,u]=N.useState(!1),[d,f]=N.useState(!1),h=N.useRef(null),m=N.useRef(null),p=N.useRef(null);N.useEffect(()=>{const E=j=>{h.current&&!h.current.contains(j.target)&&o(!1),m.current&&!m.current.contains(j.target)&&u(!1),p.current&&!p.current.contains(j.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const g=E=>E==="/"?t.pathname==="/":t.pathname.startsWith(E),v=E=>{const j=i.find(T=>T.id===parseInt(E));a(j),o(!1)},x=[{name:"Dashboard",href:"/dashboard",icon:Mc},{name:"Tasks",href:"/tasks",icon:UF},{name:"Messages",href:"/messages",icon:YF},{name:"Sales Analysis",href:"/sales-analysis",icon:vo},{name:"Scheduler",href:"/scheduler",icon:ci}],y=[{name:"Daily Sales",href:"/daily-sales",icon:Mc},{name:"Venues",href:"/venues",icon:bn},{name:"Calendar",href:"/calendar",icon:Cr},{name:"Bonuses",href:"/bonuses",icon:vo}],b=[{name:"Staff",href:"/staff",icon:Dn},{name:"Sales Upload",href:"/admin/sales-upload",icon:sy}],S=ng(x,n),w=ng(y,n),_=ng(b,n);return c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-secondary-200 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"Scrub Shop Road App"})}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[S.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g(E.href)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)}),w.length>0&&c.jsxs("div",{className:"relative",ref:m,onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=m.current)!=null&&E.matches(":hover")||u(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/daily-sales")||g("/venues")||g("/calendar")||g("/bonuses")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(M_,{className:"w-4 h-4 mr-2"}),"ROAD",c.jsx(ic,{className:"w-4 h-4 ml-1"})]}),l&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=m.current)!=null&&E.matches(":hover")||u(!1)},200)},children:w.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(E.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)})})]}),_.length>0&&c.jsxs("div",{className:"relative",ref:p,onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=p.current)!=null&&E.matches(":hover")||f(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/staff")||g("/admin/sales-upload")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(Pf,{className:"w-4 h-4 mr-2"}),"ADMIN",c.jsx(ic,{className:"w-4 h-4 ml-1"})]}),d&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=p.current)!=null&&E.matches(":hover")||f(!1)},200)},children:_.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(E.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(kU,{}),n&&c.jsx("div",{className:"hidden sm:flex items-center px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:c.jsx("span",{className:"font-medium",children:n.role||"No Role"})}),c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(Zi,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:n?`${n.name} (${n.role||"No Role"})`:"Select User"}),c.jsx(ic,{className:"w-4 h-4"})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Select your name"}),i.map(E=>c.jsx("button",{onClick:()=>v(E.id),className:He("w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors",(n==null?void 0:n.id)===E.id?"bg-primary-50 text-primary-700":"text-gray-700"),children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:E.name}),c.jsx("div",{className:"text-xs text-gray-500",children:E.role||"No Role"})]})},E.id))]})]})]})]}),c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-secondary-200",children:[S.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)}),w.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(M_,{className:"w-4 h-4 mb-1"}),"ROAD"]}),_.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(Pf,{className:"w-4 h-4 mb-1"}),"ADMIN"]})]}),w.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:w.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)})})}),_.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:_.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)})})})]})]})})};function eO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=eO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=eO(t))&&(n&&(n+=" "),n+=e);return n}var MU=Array.isArray,Sr=MU,RU=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,tO=RU,IU=tO,$U=typeof self=="object"&&self&&self.Object===Object&&self,LU=IU||$U||Function("return this")(),$n=LU,FU=$n,UU=FU.Symbol,Nu=UU,L_=Nu,rO=Object.prototype,BU=rO.hasOwnProperty,HU=rO.toString,Al=L_?L_.toStringTag:void 0;function zU(t){var e=BU.call(t,Al),r=t[Al];try{t[Al]=void 0;var n=!0}catch{}var a=HU.call(t);return n&&(e?t[Al]=r:delete t[Al]),a}var WU=zU,VU=Object.prototype,GU=VU.toString;function qU(t){return GU.call(t)}var YU=qU,F_=Nu,KU=WU,QU=YU,XU="[object Null]",ZU="[object Undefined]",U_=F_?F_.toStringTag:void 0;function JU(t){return t==null?t===void 0?ZU:XU:U_&&U_ in Object(t)?KU(t):QU(t)}var ha=JU;function eB(t){return t!=null&&typeof t=="object"}var ma=eB,tB=ha,rB=ma,nB="[object Symbol]";function aB(t){return typeof t=="symbol"||rB(t)&&tB(t)==nB}var Jo=aB,iB=Sr,sB=Jo,oB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lB=/^\w*$/;function cB(t,e){if(iB(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||sB(t)?!0:lB.test(t)||!oB.test(t)||e!=null&&t in Object(e)}var sb=cB;function uB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fi=uB;const el=Je(fi);var dB=ha,fB=fi,hB="[object AsyncFunction]",mB="[object Function]",pB="[object GeneratorFunction]",gB="[object Proxy]";function vB(t){if(!fB(t))return!1;var e=dB(t);return e==mB||e==pB||e==hB||e==gB}var ob=vB;const Ce=Je(ob);var yB=$n,xB=yB["__core-js_shared__"],bB=xB,ag=bB,B_=function(){var t=/[^.]+$/.exec(ag&&ag.keys&&ag.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wB(t){return!!B_&&B_ in t}var SB=wB,_B=Function.prototype,EB=_B.toString;function jB(t){if(t!=null){try{return EB.call(t)}catch{}try{return t+""}catch{}}return""}var nO=jB,AB=ob,TB=SB,NB=fi,CB=nO,kB=/[\\^$.*+?()[\]{}|]/g,OB=/^\[object .+?Constructor\]$/,DB=Function.prototype,PB=Object.prototype,MB=DB.toString,RB=PB.hasOwnProperty,IB=RegExp("^"+MB.call(RB).replace(kB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $B(t){if(!NB(t)||TB(t))return!1;var e=AB(t)?IB:OB;return e.test(CB(t))}var LB=$B;function FB(t,e){return t==null?void 0:t[e]}var UB=FB,BB=LB,HB=UB;function zB(t,e){var r=HB(t,e);return BB(r)?r:void 0}var ms=zB,WB=ms,VB=WB(Object,"create"),_m=VB,H_=_m;function GB(){this.__data__=H_?H_(null):{},this.size=0}var qB=GB;function YB(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var KB=YB,QB=_m,XB="__lodash_hash_undefined__",ZB=Object.prototype,JB=ZB.hasOwnProperty;function e6(t){var e=this.__data__;if(QB){var r=e[t];return r===XB?void 0:r}return JB.call(e,t)?e[t]:void 0}var t6=e6,r6=_m,n6=Object.prototype,a6=n6.hasOwnProperty;function i6(t){var e=this.__data__;return r6?e[t]!==void 0:a6.call(e,t)}var s6=i6,o6=_m,l6="__lodash_hash_undefined__";function c6(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=o6&&e===void 0?l6:e,this}var u6=c6,d6=qB,f6=KB,h6=t6,m6=s6,p6=u6;function tl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tl.prototype.clear=d6;tl.prototype.delete=f6;tl.prototype.get=h6;tl.prototype.has=m6;tl.prototype.set=p6;var g6=tl;function v6(){this.__data__=[],this.size=0}var y6=v6;function x6(t,e){return t===e||t!==t&&e!==e}var lb=x6,b6=lb;function w6(t,e){for(var r=t.length;r--;)if(b6(t[r][0],e))return r;return-1}var Em=w6,S6=Em,_6=Array.prototype,E6=_6.splice;function j6(t){var e=this.__data__,r=S6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():E6.call(e,r,1),--this.size,!0}var A6=j6,T6=Em;function N6(t){var e=this.__data__,r=T6(e,t);return r<0?void 0:e[r][1]}var C6=N6,k6=Em;function O6(t){return k6(this.__data__,t)>-1}var D6=O6,P6=Em;function M6(t,e){var r=this.__data__,n=P6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var R6=M6,I6=y6,$6=A6,L6=C6,F6=D6,U6=R6;function rl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rl.prototype.clear=I6;rl.prototype.delete=$6;rl.prototype.get=L6;rl.prototype.has=F6;rl.prototype.set=U6;var jm=rl,B6=ms,H6=$n,z6=B6(H6,"Map"),cb=z6,z_=g6,W6=jm,V6=cb;function G6(){this.size=0,this.__data__={hash:new z_,map:new(V6||W6),string:new z_}}var q6=G6;function Y6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var K6=Y6,Q6=K6;function X6(t,e){var r=t.__data__;return Q6(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Am=X6,Z6=Am;function J6(t){var e=Z6(this,t).delete(t);return this.size-=e?1:0,e}var eH=J6,tH=Am;function rH(t){return tH(this,t).get(t)}var nH=rH,aH=Am;function iH(t){return aH(this,t).has(t)}var sH=iH,oH=Am;function lH(t,e){var r=oH(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var cH=lH,uH=q6,dH=eH,fH=nH,hH=sH,mH=cH;function nl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nl.prototype.clear=uH;nl.prototype.delete=dH;nl.prototype.get=fH;nl.prototype.has=hH;nl.prototype.set=mH;var ub=nl,aO=ub,pH="Expected a function";function db(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(pH);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(db.Cache||aO),r}db.Cache=aO;var iO=db;const gH=Je(iO);var vH=iO,yH=500;function xH(t){var e=vH(t,function(n){return r.size===yH&&r.clear(),n}),r=e.cache;return e}var bH=xH,wH=bH,SH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_H=/\\(\\)?/g,EH=wH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SH,function(r,n,a,i){e.push(a?i.replace(_H,"$1"):n||r)}),e}),jH=EH;function AH(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var fb=AH,W_=Nu,TH=fb,NH=Sr,CH=Jo,kH=1/0,V_=W_?W_.prototype:void 0,G_=V_?V_.toString:void 0;function sO(t){if(typeof t=="string")return t;if(NH(t))return TH(t,sO)+"";if(CH(t))return G_?G_.call(t):"";var e=t+"";return e=="0"&&1/t==-kH?"-0":e}var OH=sO,DH=OH;function PH(t){return t==null?"":DH(t)}var oO=PH,MH=Sr,RH=sb,IH=jH,$H=oO;function LH(t,e){return MH(t)?t:RH(t,e)?[t]:IH($H(t))}var lO=LH,FH=Jo,UH=1/0;function BH(t){if(typeof t=="string"||FH(t))return t;var e=t+"";return e=="0"&&1/t==-UH?"-0":e}var Tm=BH,HH=lO,zH=Tm;function WH(t,e){e=HH(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[zH(e[r++])];return r&&r==n?t:void 0}var hb=WH,VH=hb;function GH(t,e,r){var n=t==null?void 0:VH(t,e);return n===void 0?r:n}var cO=GH;const Yr=Je(cO);function qH(t){return t==null}var YH=qH;const Oe=Je(YH);var KH=ha,QH=Sr,XH=ma,ZH="[object String]";function JH(t){return typeof t=="string"||!QH(t)&&XH(t)&&KH(t)==ZH}var e5=JH;const Ji=Je(e5);var uO={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=Symbol.for("react.element"),pb=Symbol.for("react.portal"),Nm=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),Dm=Symbol.for("react.context"),t5=Symbol.for("react.server_context"),Pm=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),$m=Symbol.for("react.lazy"),r5=Symbol.for("react.offscreen"),dO;dO=Symbol.for("react.module.reference");function en(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mb:switch(t=t.type,t){case Nm:case km:case Cm:case Mm:case Rm:return t;default:switch(t=t&&t.$$typeof,t){case t5:case Dm:case Pm:case $m:case Im:case Om:return t;default:return e}}case pb:return e}}}qe.ContextConsumer=Dm;qe.ContextProvider=Om;qe.Element=mb;qe.ForwardRef=Pm;qe.Fragment=Nm;qe.Lazy=$m;qe.Memo=Im;qe.Portal=pb;qe.Profiler=km;qe.StrictMode=Cm;qe.Suspense=Mm;qe.SuspenseList=Rm;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(t){return en(t)===Dm};qe.isContextProvider=function(t){return en(t)===Om};qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mb};qe.isForwardRef=function(t){return en(t)===Pm};qe.isFragment=function(t){return en(t)===Nm};qe.isLazy=function(t){return en(t)===$m};qe.isMemo=function(t){return en(t)===Im};qe.isPortal=function(t){return en(t)===pb};qe.isProfiler=function(t){return en(t)===km};qe.isStrictMode=function(t){return en(t)===Cm};qe.isSuspense=function(t){return en(t)===Mm};qe.isSuspenseList=function(t){return en(t)===Rm};qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nm||t===km||t===Cm||t===Mm||t===Rm||t===r5||typeof t=="object"&&t!==null&&(t.$$typeof===$m||t.$$typeof===Im||t.$$typeof===Om||t.$$typeof===Dm||t.$$typeof===Pm||t.$$typeof===dO||t.getModuleId!==void 0)};qe.typeOf=en;uO.exports=qe;var n5=uO.exports,a5=ha,i5=ma,s5="[object Number]";function o5(t){return typeof t=="number"||i5(t)&&a5(t)==s5}var fO=o5;const l5=Je(fO);var c5=fO;function u5(t){return c5(t)&&t!=+t}var d5=u5;const Cu=Je(d5);var pn=function(e){return e===0?0:e>0?1:-1},$i=function(e){return Ji(e)&&e.indexOf("%")===e.length-1},ie=function(e){return l5(e)&&!Cu(e)},f5=function(e){return Oe(e)},Pt=function(e){return ie(e)||Ji(e)},h5=0,ku=function(e){var r=++h5;return"".concat(e||"").concat(r)},es=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!Ji(e))return n;var i;if($i(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return Cu(i)&&(i=n),a&&i>r&&(i=r),i},Oa=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},m5=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},hn=function(e,r){return ie(e)&&ie(r)?function(n){return e+n*(r-e)}:function(){return r}};function Mf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Yr(n,e))===r})}var p5=function(e,r){return ie(e)&&ie(r)?e-r:Ji(e)&&Ji(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ro(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var g5=["viewBox","children"],v5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],q_=["points","pathLength"],ig={svg:g5,polygon:q_,polyline:q_},gb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!el(n))return null;var a={};return Object.keys(n).forEach(function(i){gb.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},y5=function(e,r,n){return function(a){return e(r,n,a),null}},If=function(e,r,n){if(!el(e)||cy(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];gb.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=y5(s,r,n))}),a},x5=["children"],b5=["children"];function Y_(t,e){if(t==null)return{};var r=w5(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}var K_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Q_=null,sg=null,vb=function t(e){if(e===Q_&&Array.isArray(sg))return sg;var r=[];return N.Children.forEach(e,function(n){Oe(n)||(n5.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),sg=r,Q_=e,r};function Kr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Jn(a)}):n=[Jn(e)],vb(t).forEach(function(a){var i=Yr(a,"type.displayName")||Yr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ar(t,e){var r=Kr(t,e);return r&&r[0]}var X_=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ie(n)||n<=0||!ie(a)||a<=0)},S5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_5=function(e){return e&&e.type&&Ji(e.type)&&S5.indexOf(e.type)>=0},E5=function(e){return e&&uy(e)==="object"&&"clipDot"in e},j5=function(e,r,n,a){var i,s=(i=ig==null?void 0:ig[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ce(e)&&(a&&s.includes(r)||v5.includes(r))||n&&gb.includes(r)},Re=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(N.isValidElement(e)&&(a=e.props),!el(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;j5((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},dy=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Z_(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!Z_(i,s))return!1}return!0},Z_=function(e,r){if(Oe(e)&&Oe(r))return!0;if(!Oe(e)&&!Oe(r)){var n=e.props||{},a=n.children,i=Y_(n,x5),s=r.props||{},o=s.children,l=Y_(s,b5);return a&&o?ro(i,l)&&dy(a,o):!a&&!o?ro(i,l):!1}return!1},J_=function(e,r){var n=[],a={};return vb(e).forEach(function(i,s){if(_5(i))n.push(i);else if(i){var o=Jn(i.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!a[o])){var f=u(i,o,s);n.push(f),a[o]=!0}}}),n},A5=function(e){var r=e&&e.type;return r&&K_[r]?K_[r]:null},T5=function(e,r){return vb(r).indexOf(e)},N5=["children","width","height","viewBox","className","style","title","desc"];function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fy.apply(this,arguments)}function C5(t,e){if(t==null)return{};var r=k5(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hy(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,o=t.title,l=t.desc,u=C5(t,N5),d=a||{width:r,height:n,x:0,y:0},f=$e("recharts-surface",i);return W.createElement("svg",fy({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,o),W.createElement("desc",null,l),e)}var O5=["children","className"];function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},my.apply(this,arguments)}function D5(t,e){if(t==null)return{};var r=P5(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _t=W.forwardRef(function(t,e){var r=t.children,n=t.className,a=D5(t,O5),i=$e("recharts-layer",n);return W.createElement("g",my({className:i},Re(a,!0),{ref:e}),r)}),ea=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function M5(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var R5=M5,I5=R5;function $5(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:I5(t,e,r)}var L5=$5,F5="\\ud800-\\udfff",U5="\\u0300-\\u036f",B5="\\ufe20-\\ufe2f",H5="\\u20d0-\\u20ff",z5=U5+B5+H5,W5="\\ufe0e\\ufe0f",V5="\\u200d",G5=RegExp("["+V5+F5+z5+W5+"]");function q5(t){return G5.test(t)}var hO=q5;function Y5(t){return t.split("")}var K5=Y5,mO="\\ud800-\\udfff",Q5="\\u0300-\\u036f",X5="\\ufe20-\\ufe2f",Z5="\\u20d0-\\u20ff",J5=Q5+X5+Z5,ez="\\ufe0e\\ufe0f",tz="["+mO+"]",py="["+J5+"]",gy="\\ud83c[\\udffb-\\udfff]",rz="(?:"+py+"|"+gy+")",pO="[^"+mO+"]",gO="(?:\\ud83c[\\udde6-\\uddff]){2}",vO="[\\ud800-\\udbff][\\udc00-\\udfff]",nz="\\u200d",yO=rz+"?",xO="["+ez+"]?",az="(?:"+nz+"(?:"+[pO,gO,vO].join("|")+")"+xO+yO+")*",iz=xO+yO+az,sz="(?:"+[pO+py+"?",py,gO,vO,tz].join("|")+")",oz=RegExp(gy+"(?="+gy+")|"+sz+iz,"g");function lz(t){return t.match(oz)||[]}var cz=lz,uz=K5,dz=hO,fz=cz;function hz(t){return dz(t)?fz(t):uz(t)}var mz=hz,pz=L5,gz=hO,vz=mz,yz=oO;function xz(t){return function(e){e=yz(e);var r=gz(e)?vz(e):void 0,n=r?r[0]:e.charAt(0),a=r?pz(r,1).join(""):e.slice(1);return n[t]()+a}}var bz=xz,wz=bz,Sz=wz("toUpperCase"),_z=Sz;const Lm=Je(_z);function rt(t){return function(){return t}}const bO=Math.cos,$f=Math.sin,Sn=Math.sqrt,Lf=Math.PI,Fm=2*Lf,vy=Math.PI,yy=2*vy,Ei=1e-6,Ez=yy-Ei;function wO(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function jz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wO;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Az{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wO:jz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-e,u=a-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ei)if(!(Math.abs(f*l-u*d)>Ei)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-s,p=a-o,g=l*l+u*u,v=m*m+p*p,x=Math.sqrt(g),y=Math.sqrt(h),b=i*Math.tan((vy-Math.acos((g+h-v)/(2*x*y)))/2),S=b/y,w=b/x;Math.abs(S-1)>Ei&&this._append`L${e+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=e+w*l},${this._y1=r+w*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=e+o,d=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ei||Math.abs(this._y1-d)>Ei)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%yy+yy),h>Ez?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ei&&this._append`A${n},${n},0,${+(h>=vy)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Az(e)}function xb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SO(t){this._context=t}SO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Um(t){return new SO(t)}function _O(t){return t[0]}function EO(t){return t[1]}function jO(t,e){var r=rt(!0),n=null,a=Um,i=null,s=yb(o);t=typeof t=="function"?t:t===void 0?_O:rt(t),e=typeof e=="function"?e:e===void 0?EO:rt(e);function o(l){var u,d=(l=xb(l)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,l),+e(f,u,l));if(m)return i=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:rt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function hd(t,e,r){var n=null,a=rt(!0),i=null,s=Um,o=null,l=yb(u);t=typeof t=="function"?t:t===void 0?_O:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?EO:rt(+r);function u(f){var h,m,p,g=(f=xb(f)).length,v,x=!1,y,b=new Array(g),S=new Array(g);for(i==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],S[p]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+t(v,h,f),S[h]=+e(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):S[h]))}if(y)return o=null,y+""||null}function d(){return jO().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:rt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class AO{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Tz(t){return new AO(t,!0)}function Nz(t){return new AO(t,!1)}const bb={draw(t,e){const r=Sn(e/Lf);t.moveTo(r,0),t.arc(0,0,r,0,Fm)}},Cz={draw(t,e){const r=Sn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},TO=Sn(1/3),kz=TO*2,Oz={draw(t,e){const r=Sn(e/kz),n=r*TO;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Dz={draw(t,e){const r=Sn(e),n=-r/2;t.rect(n,n,r,r)}},Pz=.8908130915292852,NO=$f(Lf/10)/$f(7*Lf/10),Mz=$f(Fm/10)*NO,Rz=-bO(Fm/10)*NO,Iz={draw(t,e){const r=Sn(e*Pz),n=Mz*r,a=Rz*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=Fm*i/5,o=bO(s),l=$f(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*a,l*n+o*a)}t.closePath()}},og=Sn(3),$z={draw(t,e){const r=-Sn(e/(og*3));t.moveTo(0,r*2),t.lineTo(-og*r,-r),t.lineTo(og*r,-r),t.closePath()}},Lr=-.5,Fr=Sn(3)/2,xy=1/Sn(12),Lz=(xy/2+1)*3,Fz={draw(t,e){const r=Sn(e/Lz),n=r/2,a=r*xy,i=n,s=r*xy+r,o=-i,l=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,l),t.lineTo(Lr*n-Fr*a,Fr*n+Lr*a),t.lineTo(Lr*i-Fr*s,Fr*i+Lr*s),t.lineTo(Lr*o-Fr*l,Fr*o+Lr*l),t.lineTo(Lr*n+Fr*a,Lr*a-Fr*n),t.lineTo(Lr*i+Fr*s,Lr*s-Fr*i),t.lineTo(Lr*o+Fr*l,Lr*l-Fr*o),t.closePath()}};function Uz(t,e){let r=null,n=yb(a);t=typeof t=="function"?t:rt(t||bb),e=typeof e=="function"?e:rt(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:rt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:rt(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ff(){}function Uf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function CO(t){this._context=t}CO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bz(t){return new CO(t)}function kO(t){this._context=t}kO.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hz(t){return new kO(t)}function OO(t){this._context=t}OO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Uf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zz(t){return new OO(t)}function DO(t){this._context=t}DO.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Wz(t){return new DO(t)}function e1(t){return t<0?-1:1}function t1(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(e1(i)+e1(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function r1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function lg(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function Bf(t){this._context=t}Bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lg(this,this._t0,r1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lg(this,r1(this,r=t1(this,t,e)),r);break;default:lg(this,this._t0,r=t1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function PO(t){this._context=new MO(t)}(PO.prototype=Object.create(Bf.prototype)).point=function(t,e){Bf.prototype.point.call(this,e,t)};function MO(t){this._context=t}MO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function Vz(t){return new Bf(t)}function Gz(t){return new PO(t)}function RO(t){this._context=t}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=n1(t),a=n1(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function n1(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function qz(t){return new RO(t)}function Bm(t,e){this._context=t,this._t=e}Bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Yz(t){return new Bm(t,.5)}function Kz(t){return new Bm(t,0)}function Qz(t){return new Bm(t,1)}function yo(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function by(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Xz(t,e){return t[e]}function Zz(t){const e=[];return e.key=t,e}function Jz(){var t=rt([]),e=by,r=yo,n=Xz;function a(i){var s=Array.from(t.apply(this,arguments),Zz),o,l=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=xb(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:rt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:rt(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?by:typeof i=="function"?i:rt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??yo,a):r},a}function eW(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}yo(t,e)}}function tW(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}yo(t,e)}}function rW(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=t[e[p]],v=g[n][1]||0,x=g[n-1][1]||0;m+=v-x}l+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,yo(t,e)}}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}var nW=["type","size","sizeType"];function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wy.apply(this,arguments)}function a1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(r),!0).forEach(function(n){aW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aW(t,e,r){return e=iW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iW(t){var e=sW(t,"string");return Ic(e)=="symbol"?e:e+""}function sW(t,e){if(Ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oW(t,e){if(t==null)return{};var r=lW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var IO={symbolCircle:bb,symbolCross:Cz,symbolDiamond:Oz,symbolSquare:Dz,symbolStar:Iz,symbolTriangle:$z,symbolWye:Fz},cW=Math.PI/180,uW=function(e){var r="symbol".concat(Lm(e));return IO[r]||bb},dW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*cW;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fW=function(e,r){IO["symbol".concat(Lm(e))]=r},wb=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,o=s===void 0?"area":s,l=oW(e,nW),u=i1(i1({},l),{},{type:n,size:i,sizeType:o}),d=function(){var v=uW(n),x=Uz().type(v).size(dW(i,o,n));return x()},f=u.className,h=u.cx,m=u.cy,p=Re(u,!0);return h===+h&&m===+m&&i===+i?W.createElement("path",wy({},p,{className:$e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};wb.registerSymbol=fW;function xo(t){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(t)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sy.apply(this,arguments)}function s1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(r),!0).forEach(function(n){$c(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LO(n.key),n)}}function pW(t,e,r){return e&&o1(t.prototype,e),r&&o1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gW(t,e,r){return e=Hf(e),vW(t,$O()?Reflect.construct(e,r||[],Hf(t).constructor):e.apply(t,r))}function vW(t,e){if(e&&(xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yW(t)}function yW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(t)}function xW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_y(t,e)}function $c(t,e,r){return e=LO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LO(t){var e=bW(t,"string");return xo(e)=="symbol"?e:e+""}function bW(t,e){if(xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ur=32,Sb=function(t){function e(){return mW(this,e),gW(this,e,arguments)}return xW(e,t),pW(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ur/2,s=Ur/6,o=Ur/3,l=n.inactive?a:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ur,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Ur,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ur/8,"h").concat(Ur,"v").concat(Ur*3/4,"h").concat(-Ur,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var u=hW({},n);return delete u.legendIcon,W.cloneElement(n.legendIcon,u)}return W.createElement(wb,{fill:l,cx:i,cy:i,size:Ur,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ur,height:Ur},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,p){var g=m.formatter||l,v=$e($c($c({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Ce(m.value)?null:m.value;ea(!Ce(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return W.createElement("li",Sy({className:v,style:f,key:"legend-item-".concat(p)},If(n.props,m,p)),W.createElement(hy,{width:s,height:s,viewBox:d,style:h},n.renderIcon(m)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,m,p):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(N.PureComponent);$c(Sb,"displayName","Legend");$c(Sb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var wW=jm;function SW(){this.__data__=new wW,this.size=0}var _W=SW;function EW(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var jW=EW;function AW(t){return this.__data__.get(t)}var TW=AW;function NW(t){return this.__data__.has(t)}var CW=NW,kW=jm,OW=cb,DW=ub,PW=200;function MW(t,e){var r=this.__data__;if(r instanceof kW){var n=r.__data__;if(!OW||n.length<PW-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new DW(n)}return r.set(t,e),this.size=r.size,this}var RW=MW,IW=jm,$W=_W,LW=jW,FW=TW,UW=CW,BW=RW;function al(t){var e=this.__data__=new IW(t);this.size=e.size}al.prototype.clear=$W;al.prototype.delete=LW;al.prototype.get=FW;al.prototype.has=UW;al.prototype.set=BW;var FO=al,HW="__lodash_hash_undefined__";function zW(t){return this.__data__.set(t,HW),this}var WW=zW;function VW(t){return this.__data__.has(t)}var GW=VW,qW=ub,YW=WW,KW=GW;function zf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new qW;++e<r;)this.add(t[e])}zf.prototype.add=zf.prototype.push=YW;zf.prototype.has=KW;var UO=zf;function QW(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var BO=QW;function XW(t,e){return t.has(e)}var HO=XW,ZW=UO,JW=BO,e8=HO,t8=1,r8=2;function n8(t,e,r,n,a,i){var s=r&t8,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=r&r8?new ZW:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var p=t[f],g=e[f];if(n)var v=s?n(g,p,f,e,t,i):n(p,g,f,t,e,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!JW(e,function(x,y){if(!e8(m,y)&&(p===x||a(p,x,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var zO=n8,a8=$n,i8=a8.Uint8Array,s8=i8;function o8(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var l8=o8;function c8(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var _b=c8,l1=Nu,c1=s8,u8=lb,d8=zO,f8=l8,h8=_b,m8=1,p8=2,g8="[object Boolean]",v8="[object Date]",y8="[object Error]",x8="[object Map]",b8="[object Number]",w8="[object RegExp]",S8="[object Set]",_8="[object String]",E8="[object Symbol]",j8="[object ArrayBuffer]",A8="[object DataView]",u1=l1?l1.prototype:void 0,cg=u1?u1.valueOf:void 0;function T8(t,e,r,n,a,i,s){switch(r){case A8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case j8:return!(t.byteLength!=e.byteLength||!i(new c1(t),new c1(e)));case g8:case v8:case b8:return u8(+t,+e);case y8:return t.name==e.name&&t.message==e.message;case w8:case _8:return t==e+"";case x8:var o=f8;case S8:var l=n&m8;if(o||(o=h8),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=p8,s.set(t,e);var d=d8(o(t),o(e),n,a,i,s);return s.delete(t),d;case E8:if(cg)return cg.call(t)==cg.call(e)}return!1}var N8=T8;function C8(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var WO=C8,k8=WO,O8=Sr;function D8(t,e,r){var n=e(t);return O8(t)?n:k8(n,r(t))}var P8=D8;function M8(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[a++]=s)}return i}var R8=M8;function I8(){return[]}var $8=I8,L8=R8,F8=$8,U8=Object.prototype,B8=U8.propertyIsEnumerable,d1=Object.getOwnPropertySymbols,H8=d1?function(t){return t==null?[]:(t=Object(t),L8(d1(t),function(e){return B8.call(t,e)}))}:F8,z8=H8;function W8(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var V8=W8,G8=ha,q8=ma,Y8="[object Arguments]";function K8(t){return q8(t)&&G8(t)==Y8}var Q8=K8,f1=Q8,X8=ma,VO=Object.prototype,Z8=VO.hasOwnProperty,J8=VO.propertyIsEnumerable,eV=f1(function(){return arguments}())?f1:function(t){return X8(t)&&Z8.call(t,"callee")&&!J8.call(t,"callee")},Eb=eV,Wf={exports:{}};function tV(){return!1}var rV=tV;Wf.exports;(function(t,e){var r=$n,n=rV,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Wf,Wf.exports);var GO=Wf.exports,nV=9007199254740991,aV=/^(?:0|[1-9]\d*)$/;function iV(t,e){var r=typeof t;return e=e??nV,!!e&&(r=="number"||r!="symbol"&&aV.test(t))&&t>-1&&t%1==0&&t<e}var jb=iV,sV=9007199254740991;function oV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sV}var Ab=oV,lV=ha,cV=Ab,uV=ma,dV="[object Arguments]",fV="[object Array]",hV="[object Boolean]",mV="[object Date]",pV="[object Error]",gV="[object Function]",vV="[object Map]",yV="[object Number]",xV="[object Object]",bV="[object RegExp]",wV="[object Set]",SV="[object String]",_V="[object WeakMap]",EV="[object ArrayBuffer]",jV="[object DataView]",AV="[object Float32Array]",TV="[object Float64Array]",NV="[object Int8Array]",CV="[object Int16Array]",kV="[object Int32Array]",OV="[object Uint8Array]",DV="[object Uint8ClampedArray]",PV="[object Uint16Array]",MV="[object Uint32Array]",lt={};lt[AV]=lt[TV]=lt[NV]=lt[CV]=lt[kV]=lt[OV]=lt[DV]=lt[PV]=lt[MV]=!0;lt[dV]=lt[fV]=lt[EV]=lt[hV]=lt[jV]=lt[mV]=lt[pV]=lt[gV]=lt[vV]=lt[yV]=lt[xV]=lt[bV]=lt[wV]=lt[SV]=lt[_V]=!1;function RV(t){return uV(t)&&cV(t.length)&&!!lt[lV(t)]}var IV=RV;function $V(t){return function(e){return t(e)}}var qO=$V,Vf={exports:{}};Vf.exports;(function(t,e){var r=tO,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Vf,Vf.exports);var LV=Vf.exports,FV=IV,UV=qO,h1=LV,m1=h1&&h1.isTypedArray,BV=m1?UV(m1):FV,YO=BV,HV=V8,zV=Eb,WV=Sr,VV=GO,GV=jb,qV=YO,YV=Object.prototype,KV=YV.hasOwnProperty;function QV(t,e){var r=WV(t),n=!r&&zV(t),a=!r&&!n&&VV(t),i=!r&&!n&&!a&&qV(t),s=r||n||a||i,o=s?HV(t.length,String):[],l=o.length;for(var u in t)(e||KV.call(t,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||GV(u,l)))&&o.push(u);return o}var XV=QV,ZV=Object.prototype;function JV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ZV;return t===r}var e7=JV;function t7(t,e){return function(r){return t(e(r))}}var KO=t7,r7=KO,n7=r7(Object.keys,Object),a7=n7,i7=e7,s7=a7,o7=Object.prototype,l7=o7.hasOwnProperty;function c7(t){if(!i7(t))return s7(t);var e=[];for(var r in Object(t))l7.call(t,r)&&r!="constructor"&&e.push(r);return e}var u7=c7,d7=ob,f7=Ab;function h7(t){return t!=null&&f7(t.length)&&!d7(t)}var Ou=h7,m7=XV,p7=u7,g7=Ou;function v7(t){return g7(t)?m7(t):p7(t)}var Hm=v7,y7=P8,x7=z8,b7=Hm;function w7(t){return y7(t,b7,x7)}var S7=w7,p1=S7,_7=1,E7=Object.prototype,j7=E7.hasOwnProperty;function A7(t,e,r,n,a,i){var s=r&_7,o=p1(t),l=o.length,u=p1(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:j7.call(e,h)))return!1}var m=i.get(t),p=i.get(e);if(m&&p)return m==e&&p==t;var g=!0;i.set(t,e),i.set(e,t);for(var v=s;++f<l;){h=o[f];var x=t[h],y=e[h];if(n)var b=s?n(y,x,h,e,t,i):n(x,y,h,t,e,i);if(!(b===void 0?x===y||a(x,y,r,n,i):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return i.delete(t),i.delete(e),g}var T7=A7,N7=ms,C7=$n,k7=N7(C7,"DataView"),O7=k7,D7=ms,P7=$n,M7=D7(P7,"Promise"),R7=M7,I7=ms,$7=$n,L7=I7($7,"Set"),QO=L7,F7=ms,U7=$n,B7=F7(U7,"WeakMap"),H7=B7,Ey=O7,jy=cb,Ay=R7,Ty=QO,Ny=H7,XO=ha,il=nO,g1="[object Map]",z7="[object Object]",v1="[object Promise]",y1="[object Set]",x1="[object WeakMap]",b1="[object DataView]",W7=il(Ey),V7=il(jy),G7=il(Ay),q7=il(Ty),Y7=il(Ny),ji=XO;(Ey&&ji(new Ey(new ArrayBuffer(1)))!=b1||jy&&ji(new jy)!=g1||Ay&&ji(Ay.resolve())!=v1||Ty&&ji(new Ty)!=y1||Ny&&ji(new Ny)!=x1)&&(ji=function(t){var e=XO(t),r=e==z7?t.constructor:void 0,n=r?il(r):"";if(n)switch(n){case W7:return b1;case V7:return g1;case G7:return v1;case q7:return y1;case Y7:return x1}return e});var K7=ji,ug=FO,Q7=zO,X7=N8,Z7=T7,w1=K7,S1=Sr,_1=GO,J7=YO,eG=1,E1="[object Arguments]",j1="[object Array]",md="[object Object]",tG=Object.prototype,A1=tG.hasOwnProperty;function rG(t,e,r,n,a,i){var s=S1(t),o=S1(e),l=s?j1:w1(t),u=o?j1:w1(e);l=l==E1?md:l,u=u==E1?md:u;var d=l==md,f=u==md,h=l==u;if(h&&_1(t)){if(!_1(e))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new ug),s||J7(t)?Q7(t,e,r,n,a,i):X7(t,e,l,r,n,a,i);if(!(r&eG)){var m=d&&A1.call(t,"__wrapped__"),p=f&&A1.call(e,"__wrapped__");if(m||p){var g=m?t.value():t,v=p?e.value():e;return i||(i=new ug),a(g,v,r,n,i)}}return h?(i||(i=new ug),Z7(t,e,r,n,a,i)):!1}var nG=rG,aG=nG,T1=ma;function ZO(t,e,r,n,a){return t===e?!0:t==null||e==null||!T1(t)&&!T1(e)?t!==t&&e!==e:aG(t,e,r,n,ZO,a)}var Tb=ZO,iG=FO,sG=Tb,oG=1,lG=2;function cG(t,e,r,n){var a=r.length,i=a,s=!n;if(t==null)return!i;for(t=Object(t);a--;){var o=r[a];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++a<i;){o=r[a];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new iG;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?sG(d,u,oG|lG,n,f):h))return!1}}return!0}var uG=cG,dG=fi;function fG(t){return t===t&&!dG(t)}var JO=fG,hG=JO,mG=Hm;function pG(t){for(var e=mG(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,hG(a)]}return e}var gG=pG;function vG(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var eD=vG,yG=uG,xG=gG,bG=eD;function wG(t){var e=xG(t);return e.length==1&&e[0][2]?bG(e[0][0],e[0][1]):function(r){return r===t||yG(r,t,e)}}var SG=wG;function _G(t,e){return t!=null&&e in Object(t)}var EG=_G,jG=lO,AG=Eb,TG=Sr,NG=jb,CG=Ab,kG=Tm;function OG(t,e,r){e=jG(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var s=kG(e[n]);if(!(i=t!=null&&r(t,s)))break;t=t[s]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&CG(a)&&NG(s,a)&&(TG(t)||AG(t)))}var DG=OG,PG=EG,MG=DG;function RG(t,e){return t!=null&&MG(t,e,PG)}var IG=RG,$G=Tb,LG=cO,FG=IG,UG=sb,BG=JO,HG=eD,zG=Tm,WG=1,VG=2;function GG(t,e){return UG(t)&&BG(e)?HG(zG(t),e):function(r){var n=LG(r,t);return n===void 0&&n===e?FG(r,t):$G(e,n,WG|VG)}}var qG=GG;function YG(t){return t}var sl=YG;function KG(t){return function(e){return e==null?void 0:e[t]}}var QG=KG,XG=hb;function ZG(t){return function(e){return XG(e,t)}}var JG=ZG,e9=QG,t9=JG,r9=sb,n9=Tm;function a9(t){return r9(t)?e9(n9(t)):t9(t)}var i9=a9,s9=SG,o9=qG,l9=sl,c9=Sr,u9=i9;function d9(t){return typeof t=="function"?t:t==null?l9:typeof t=="object"?c9(t)?o9(t[0],t[1]):s9(t):u9(t)}var hi=d9;function f9(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var tD=f9;function h9(t){return t!==t}var m9=h9;function p9(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var g9=p9,v9=tD,y9=m9,x9=g9;function b9(t,e,r){return e===e?x9(t,e,r):v9(t,y9,r)}var w9=b9,S9=w9;function _9(t,e){var r=t==null?0:t.length;return!!r&&S9(t,e,0)>-1}var E9=_9;function j9(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var A9=j9;function T9(){}var N9=T9,dg=QO,C9=N9,k9=_b,O9=1/0,D9=dg&&1/k9(new dg([,-0]))[1]==O9?function(t){return new dg(t)}:C9,P9=D9,M9=UO,R9=E9,I9=A9,$9=HO,L9=P9,F9=_b,U9=200;function B9(t,e,r){var n=-1,a=R9,i=t.length,s=!0,o=[],l=o;if(r)s=!1,a=I9;else if(i>=U9){var u=e?null:L9(t);if(u)return F9(u);s=!1,a=$9,l=new M9}else l=e?[]:o;e:for(;++n<i;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else a(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var H9=B9,z9=hi,W9=H9;function V9(t,e){return t&&t.length?W9(t,z9(e)):[]}var G9=V9;const N1=Je(G9);function rD(t,e,r){return e===!0?N1(t,r):Ce(e)?N1(t,e):t}function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}var q9=["ref"];function C1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(r),!0).forEach(function(n){zm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aD(n.key),n)}}function K9(t,e,r){return e&&k1(t.prototype,e),r&&k1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q9(t,e,r){return e=Gf(e),X9(t,nD()?Reflect.construct(e,r||[],Gf(t).constructor):e.apply(t,r))}function X9(t,e){if(e&&(bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z9(t)}function Z9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nD=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(t)}function J9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cy(t,e)}function Cy(t,e){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cy(t,e)}function zm(t,e,r){return e=aD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aD(t){var e=eq(t,"string");return bo(e)=="symbol"?e:e+""}function eq(t,e){if(bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tq(t,e){if(t==null)return{};var r=rq(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nq(t){return t.value}function aq(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=tq(e,q9);return W.createElement(Sb,r)}var O1=1,Ya=function(t){function e(){var r;Y9(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Q9(this,e,[].concat(a)),zm(r,"lastBoundingBox",{width:-1,height:-1}),r}return J9(e,t),K9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>O1||Math.abs(a.height-this.lastBoundingBox.height)>O1)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Un({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Un(Un({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Un(Un({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},aq(i,Un(Un({},this.props),{},{payload:rD(d,u,nq)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Un(Un({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&ie(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);zm(Ya,"displayName","Legend");zm(Ya,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var D1=Nu,iq=Eb,sq=Sr,P1=D1?D1.isConcatSpreadable:void 0;function oq(t){return sq(t)||iq(t)||!!(P1&&t&&t[P1])}var lq=oq,cq=WO,uq=lq;function iD(t,e,r,n,a){var i=-1,s=t.length;for(r||(r=uq),a||(a=[]);++i<s;){var o=t[i];e>0&&r(o)?e>1?iD(o,e-1,r,n,a):cq(a,o):n||(a[a.length]=o)}return a}var sD=iD;function dq(t){return function(e,r,n){for(var a=-1,i=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++a];if(r(i[l],l,i)===!1)break}return e}}var fq=dq,hq=fq,mq=hq(),pq=mq,gq=pq,vq=Hm;function yq(t,e){return t&&gq(t,e,vq)}var oD=yq,xq=Ou;function bq(t,e){return function(r,n){if(r==null)return r;if(!xq(r))return t(r,n);for(var a=r.length,i=e?a:-1,s=Object(r);(e?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var wq=bq,Sq=oD,_q=wq,Eq=_q(Sq),Nb=Eq,jq=Nb,Aq=Ou;function Tq(t,e){var r=-1,n=Aq(t)?Array(t.length):[];return jq(t,function(a,i,s){n[++r]=e(a,i,s)}),n}var lD=Tq;function Nq(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Cq=Nq,M1=Jo;function kq(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=M1(t),s=e!==void 0,o=e===null,l=e===e,u=M1(e);if(!o&&!u&&!i&&t>e||i&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&t<e||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var Oq=kq,Dq=Oq;function Pq(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,s=a.length,o=r.length;++n<s;){var l=Dq(a[n],i[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Mq=Pq,fg=fb,Rq=hb,Iq=hi,$q=lD,Lq=Cq,Fq=qO,Uq=Mq,Bq=sl,Hq=Sr;function zq(t,e,r){e.length?e=fg(e,function(i){return Hq(i)?function(s){return Rq(s,i.length===1?i[0]:i)}:i}):e=[Bq];var n=-1;e=fg(e,Fq(Iq));var a=$q(t,function(i,s,o){var l=fg(e,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return Lq(a,function(i,s){return Uq(i,s,r)})}var Wq=zq;function Vq(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Gq=Vq,qq=Gq,R1=Math.max;function Yq(t,e,r){return e=R1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=R1(n.length-e,0),s=Array(i);++a<i;)s[a]=n[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=n[a];return o[e]=r(s),qq(t,this,o)}}var Kq=Yq;function Qq(t){return function(){return t}}var Xq=Qq,Zq=ms,Jq=function(){try{var t=Zq(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cD=Jq,eY=Xq,I1=cD,tY=sl,rY=I1?function(t,e){return I1(t,"toString",{configurable:!0,enumerable:!1,value:eY(e),writable:!0})}:tY,nY=rY,aY=800,iY=16,sY=Date.now;function oY(t){var e=0,r=0;return function(){var n=sY(),a=iY-(n-r);if(r=n,a>0){if(++e>=aY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lY=oY,cY=nY,uY=lY,dY=uY(cY),fY=dY,hY=sl,mY=Kq,pY=fY;function gY(t,e){return pY(mY(t,e,hY),t+"")}var vY=gY,yY=lb,xY=Ou,bY=jb,wY=fi;function SY(t,e,r){if(!wY(r))return!1;var n=typeof e;return(n=="number"?xY(r)&&bY(e,r.length):n=="string"&&e in r)?yY(r[e],t):!1}var Wm=SY,_Y=sD,EY=Wq,jY=vY,$1=Wm,AY=jY(function(t,e){if(t==null)return[];var r=e.length;return r>1&&$1(t,e[0],e[1])?e=[]:r>2&&$1(e[0],e[1],e[2])&&(e=[e[0]]),EY(t,_Y(e,1),[])}),TY=AY;const Cb=Je(TY);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ky.apply(this,arguments)}function NY(t,e){return DY(t)||OY(t,e)||kY(t,e)||CY()}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kY(t,e){if(t){if(typeof t=="string")return L1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(t,e)}}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function DY(t){if(Array.isArray(t))return t}function F1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(r),!0).forEach(function(n){PY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PY(t,e,r){return e=MY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MY(t){var e=RY(t,"string");return Lc(e)=="symbol"?e:e+""}function RY(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IY(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var $Y=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,p=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var D={padding:0,margin:0},k=(h?Cb(d,h):d).map(function($,H){if($.type==="none")return null;var V=hg({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),M=$.formatter||f||IY,I=$.value,B=$.name,F=I,z=B;if(M&&F!=null&&z!=null){var G=M(I,B,$,H,d);if(Array.isArray(G)){var q=NY(G,2);F=q[0],z=q[1]}else F=G}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},Pt(z)?W.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Pt(z)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},F),W.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},S=hg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=hg({margin:0},u),_=!Oe(g),E=_?g:"",j=$e("recharts-default-tooltip",m),T=$e("recharts-tooltip-label",p);_&&v&&d!==void 0&&d!==null&&(E=v(g,d));var O=y?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",ky({className:j,style:S},O),W.createElement("p",{className:T,style:w},W.isValidElement(E)?E:"".concat(E)),b())};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function pd(t,e,r){return e=LY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LY(t){var e=FY(t,"string");return Fc(e)=="symbol"?e:e+""}function FY(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tl="recharts-tooltip-wrapper",UY={visibility:"hidden"};function BY(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $e(Tl,pd(pd(pd(pd({},"".concat(Tl,"-right"),ie(r)&&e&&ie(e.x)&&r>=e.x),"".concat(Tl,"-left"),ie(r)&&e&&ie(e.x)&&r<e.x),"".concat(Tl,"-bottom"),ie(n)&&e&&ie(e.y)&&n>=e.y),"".concat(Tl,"-top"),ie(n)&&e&&ie(e.y)&&n<e.y))}function U1(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(i&&ie(i[n]))return i[n];var d=r[n]-o-a,f=r[n]+a;if(e[n])return s[n]?d:f;if(s[n]){var h=d,m=l[n];return h<m?Math.max(f,l[n]):Math.max(d,l[n])}var p=f+o,g=l[n]+u;return p>g?Math.max(d,l[n]):Math.max(f,l[n])}function HY(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function zY(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=U1({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=U1({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=HY({translateX:d,translateY:f,useTranslate3d:o})):u=UY,{cssProperties:u,cssClasses:BY({translateX:d,translateY:f,coordinate:r})}}function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function B1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function H1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(r),!0).forEach(function(n){Dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function VY(t,e,r){return e&&z1(t.prototype,e),r&&z1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GY(t,e,r){return e=qf(e),qY(t,uD()?Reflect.construct(e,r||[],qf(t).constructor):e.apply(t,r))}function qY(t,e){if(e&&(wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YY(t)}function YY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(t)}function KY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oy(t,e)}function Dy(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=QY(t,"string");return wo(e)=="symbol"?e:e+""}function QY(t,e){if(wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W1=1,XY=function(t){function e(){var r;WY(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=GY(this,e,[].concat(a)),Dy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dy(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return KY(e,t),VY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>W1||Math.abs(n.height-this.state.lastBoundingBox.height)>W1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,p=a.position,g=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,b=zY({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=b.cssClasses,w=b.cssProperties,_=H1(H1({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return W.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(j){n.wrapperNode=j}},u)}}])}(N.PureComponent),ZY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ta={isSsr:ZY(),get:function(e){return ta[e]},set:function(e,r){if(typeof e=="string")ta[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(a){ta[a]=e[a]})}}};function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function V1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(r),!0).forEach(function(n){kb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hD(n.key),n)}}function eK(t,e,r){return e&&q1(t.prototype,e),r&&q1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tK(t,e,r){return e=Yf(e),rK(t,fD()?Reflect.construct(e,r||[],Yf(t).constructor):e.apply(t,r))}function rK(t,e){if(e&&(So(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nK(t)}function nK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(t)}function aK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Py(t,e)}function kb(t,e,r){return e=hD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hD(t){var e=iK(t,"string");return So(e)=="symbol"?e:e+""}function iK(t,e){if(So(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sK(t){return t.dataKey}function oK(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement($Y,e)}var Br=function(t){function e(){return JY(this,e),tK(this,e,arguments)}return aK(e,t),eK(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,p=a.payload,g=a.payloadUniqBy,v=a.position,x=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,w=p??[];f&&w.length&&(w=rD(p.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,sK));var _=w.length>0;return W.createElement(XY,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:_,offset:m,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:S},oK(u,G1(G1({},this.props),{},{payload:w})))}}])}(N.PureComponent);kb(Br,"displayName","Tooltip");kb(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ta.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lK=$n,cK=function(){return lK.Date.now()},uK=cK,dK=/\s/;function fK(t){for(var e=t.length;e--&&dK.test(t.charAt(e)););return e}var hK=fK,mK=hK,pK=/^\s+/;function gK(t){return t&&t.slice(0,mK(t)+1).replace(pK,"")}var vK=gK,yK=vK,Y1=fi,xK=Jo,K1=0/0,bK=/^[-+]0x[0-9a-f]+$/i,wK=/^0b[01]+$/i,SK=/^0o[0-7]+$/i,_K=parseInt;function EK(t){if(typeof t=="number")return t;if(xK(t))return K1;if(Y1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Y1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=yK(t);var r=wK.test(t);return r||SK.test(t)?_K(t.slice(2),r?2:8):bK.test(t)?K1:+t}var mD=EK,jK=fi,mg=uK,Q1=mD,AK="Expected a function",TK=Math.max,NK=Math.min;function CK(t,e,r){var n,a,i,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(AK);e=Q1(e)||0,jK(r)&&(d=!!r.leading,f="maxWait"in r,i=f?TK(Q1(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function m(_){var E=n,j=a;return n=a=void 0,u=_,s=t.apply(j,E),s}function p(_){return u=_,o=setTimeout(x,e),d?m(_):s}function g(_){var E=_-l,j=_-u,T=e-E;return f?NK(T,i-j):T}function v(_){var E=_-l,j=_-u;return l===void 0||E>=e||E<0||f&&j>=i}function x(){var _=mg();if(v(_))return y(_);o=setTimeout(x,g(_))}function y(_){return o=void 0,h&&n?m(_):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=a=o=void 0}function S(){return o===void 0?s:y(mg())}function w(){var _=mg(),E=v(_);if(n=arguments,a=this,l=_,E){if(o===void 0)return p(l);if(f)return clearTimeout(o),o=setTimeout(x,e),m(l)}return o===void 0&&(o=setTimeout(x,e)),s}return w.cancel=b,w.flush=S,w}var kK=CK,OK=kK,DK=fi,PK="Expected a function";function MK(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(PK);return DK(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),OK(t,e,{leading:n,maxWait:e,trailing:a})}var RK=MK;const pD=Je(RK);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function X1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(r),!0).forEach(function(n){IK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IK(t,e,r){return e=$K(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $K(t){var e=LK(t,"string");return Uc(e)=="symbol"?e:e+""}function LK(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FK(t,e){return zK(t)||HK(t,e)||BK(t,e)||UK()}function UK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BK(t,e){if(t){if(typeof t=="string")return Z1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(t,e)}}function Z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function zK(t){if(Array.isArray(t))return t}var My=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,p=t.debounce,g=p===void 0?0:p,v=t.id,x=t.className,y=t.onResize,b=t.style,S=b===void 0?{}:b,w=N.useRef(null),_=N.useRef();_.current=y,N.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=N.useState({containerWidth:a.width,containerHeight:a.height}),j=FK(E,2),T=j[0],O=j[1],P=N.useCallback(function(k,$){O(function(H){var V=Math.round(k),M=Math.round($);return H.containerWidth===V&&H.containerHeight===M?H:{containerWidth:V,containerHeight:M}})},[]);N.useEffect(function(){var k=function(B){var F,z=B[0].contentRect,G=z.width,q=z.height;P(G,q),(F=_.current)===null||F===void 0||F.call(_,G,q)};g>0&&(k=pD(k,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(k),H=w.current.getBoundingClientRect(),V=H.width,M=H.height;return P(V,M),$.observe(w.current),function(){$.disconnect()}},[P,g]);var D=N.useMemo(function(){var k=T.containerWidth,$=T.containerHeight;if(k<0||$<0)return null;ea($i(s)||$i(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ea(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=$i(s)?k:s,V=$i(l)?$:l;r&&r>0&&(H?V=H/r:V&&(H=V*r),h&&V>h&&(V=h)),ea(H>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,s,l,d,f,r);var M=!Array.isArray(m)&&Jn(m.type).endsWith("Chart");return W.Children.map(m,function(I){return W.isValidElement(I)?N.cloneElement(I,gd({width:H,height:V},M?{style:gd({height:"100%",width:"100%",maxHeight:V,maxWidth:H},I.props.style)}:{})):I})},[r,m,l,h,f,d,T,s]);return W.createElement("div",{id:v?"".concat(v):void 0,className:$e("recharts-responsive-container",x),style:gd(gd({},S),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},D)}),gD=function(e){return null};gD.displayName="Cell";function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function J1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ry(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(r),!0).forEach(function(n){WK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WK(t,e,r){return e=VK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VK(t){var e=GK(t,"string");return Bc(e)=="symbol"?e:e+""}function GK(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ts={widthCache:{},cacheCount:0},qK=2e3,YK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eE="recharts_measurement_span";function KK(t){var e=Ry({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var sc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ta.isSsr)return{width:0,height:0};var n=KK(r),a=JSON.stringify({text:e,copyStyle:n});if(Ts.widthCache[a])return Ts.widthCache[a];try{var i=document.getElementById(eE);i||(i=document.createElement("span"),i.setAttribute("id",eE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=Ry(Ry({},YK),n);Object.assign(i.style,s),i.textContent="".concat(e);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Ts.widthCache[a]=l,++Ts.cacheCount>qK&&(Ts.cacheCount=0,Ts.widthCache={}),l}catch{return{width:0,height:0}}},QK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Kf(t,e){return eQ(t)||JK(t,e)||ZK(t,e)||XK()}function XK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZK(t,e){if(t){if(typeof t=="string")return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function eQ(t){if(Array.isArray(t))return t}function tQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nQ(n.key),n)}}function rQ(t,e,r){return e&&rE(t.prototype,e),r&&rE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nQ(t){var e=aQ(t,"string");return Hc(e)=="symbol"?e:e+""}function aQ(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oQ=Object.keys(vD),Gs="NaN";function lQ(t,e){return t*vD[e]}var vd=function(){function t(e,r){tQ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!iQ.test(r)&&(this.num=NaN,this.unit=""),oQ.includes(r)&&(this.num=lQ(e,r),this.unit="px")}return rQ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=sQ.exec(r))!==null&&n!==void 0?n:[],i=Kf(a,3),s=i[1],o=i[2];return new t(parseFloat(s),o??"")}}])}();function yD(t){if(t.includes(Gs))return Gs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=nE.exec(e))!==null&&r!==void 0?r:[],a=Kf(n,4),i=a[1],s=a[2],o=a[3],l=vd.parse(i??""),u=vd.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Gs;e=e.replace(nE,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=aE.exec(e))!==null&&f!==void 0?f:[],m=Kf(h,4),p=m[1],g=m[2],v=m[3],x=vd.parse(p??""),y=vd.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return Gs;e=e.replace(aE,b.toString())}return e}var iE=/\(([^()]*)\)/;function cQ(t){for(var e=t;e.includes("(");){var r=iE.exec(e),n=Kf(r,2),a=n[1];e=e.replace(iE,yD(a))}return e}function uQ(t){var e=t.replace(/\s+/g,"");return e=cQ(e),e=yD(e),e}function dQ(t){try{return uQ(t)}catch{return Gs}}function pg(t){var e=dQ(t.slice(5,-1));return e===Gs?"":e}var fQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hQ=["dx","dy","angle","className","breakAll"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iy.apply(this,arguments)}function sE(t,e){if(t==null)return{};var r=mQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oE(t,e){return yQ(t)||vQ(t,e)||gQ(t,e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gQ(t,e){if(t){if(typeof t=="string")return lE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(t,e)}}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function yQ(t){if(Array.isArray(t))return t}var xD=/[ \f\n\r\t\v\u2028\u2029]+/,bD=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Oe(r)||(n?i=r.toString().split(""):i=r.toString().split(xD));var s=i.map(function(l){return{word:l,width:sc(l,a).width}}),o=n?0:sc("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},xQ=function(e,r,n,a,i){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=ie(s),f=o,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(V,M){var I=M.word,B=M.width,F=V[V.length-1];if(F&&(a==null||i||F.width+B+n<Number(a)))F.words.push(I),F.width+=B+n;else{var z={words:[I],width:B};V.push(z)}return V},[])},m=h(r),p=function(H){return H.reduce(function(V,M){return V.width>M.width?V:M})};if(!d)return m;for(var g="",v=function(H){var V=f.slice(0,H),M=bD({breakAll:u,style:l,children:V+g}).wordsWithComputedWidth,I=h(M),B=I.length>s||p(I).width>Number(a);return[B,I]},x=0,y=f.length-1,b=0,S;x<=y&&b<=f.length-1;){var w=Math.floor((x+y)/2),_=w-1,E=v(_),j=oE(E,2),T=j[0],O=j[1],P=v(w),D=oE(P,1),k=D[0];if(!T&&!k&&(x=w+1),T&&k&&(y=w-1),!T&&k){S=O;break}b++}return S||m},cE=function(e){var r=Oe(e)?[]:e.toString().split(xD);return[{words:r}]},bQ=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!ta.isSsr){var l,u,d=bD({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return cE(a);return xQ({breakAll:s,children:a,maxLines:o,style:i},l,u,r,n)}return cE(a)},uE="#808080",Qf=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,p=e.verticalAnchor,g=p===void 0?"end":p,v=e.fill,x=v===void 0?uE:v,y=sE(e,fQ),b=N.useMemo(function(){return bQ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,w=y.dy,_=y.angle,E=y.className,j=y.breakAll,T=sE(y,hQ);if(!Pt(n)||!Pt(i))return null;var O=n+(ie(S)?S:0),P=i+(ie(w)?w:0),D;switch(g){case"start":D=pg("calc(".concat(u,")"));break;case"middle":D=pg("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:D=pg("calc(".concat(b.length-1," * -").concat(o,")"));break}var k=[];if(f){var $=b[0].width,H=y.width;k.push("scale(".concat((ie(H)?H/$:1)/$,")"))}return _&&k.push("rotate(".concat(_,", ").concat(O,", ").concat(P,")")),k.length&&(T.transform=k.join(" ")),W.createElement("text",Iy({},Re(T,!0),{x:O,y:P,className:$e("recharts-text",E),textAnchor:m,fill:x.includes("url")?uE:x}),b.map(function(V,M){var I=V.words.join(j?"":" ");return W.createElement("tspan",{x:O,dy:M===0?D:o,key:"".concat(I,"-").concat(M)},I)}))};function Ka(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ob(t){let e,r,n;t.length!==2?(e=Ka,r=(o,l)=>Ka(t(o),l),n=(o,l)=>t(o)-l):(e=t===Ka||t===wQ?t:SQ,r=t,n=t);function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=a(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function SQ(){return 0}function wD(t){return t===null?NaN:+t}function*_Q(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const EQ=Ob(Ka),jQ=EQ.right;Ob(wD).center;const Du=jQ;class dE extends Map{constructor(e,r=NQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(fE(this,e))}has(e){return super.has(fE(this,e))}set(e,r){return super.set(AQ(this,e),r)}delete(e){return super.delete(TQ(this,e))}}function fE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function AQ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function TQ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function NQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function CQ(t=Ka){if(t===Ka)return SD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function SD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kQ=Math.sqrt(50),OQ=Math.sqrt(10),DQ=Math.sqrt(2);function Xf(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=kQ?10:i>=OQ?5:i>=DQ?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Xf(t,e,r*2):[o,l,u]}function $y(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?Xf(e,t,r):Xf(t,e,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function Ly(t,e,r){return e=+e,t=+t,r=+r,Xf(t,e,r)[2]}function Fy(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Ly(e,t,r):Ly(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function hE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of t)(a=e(a,++n,t))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function mE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of t)(a=e(a,++n,t))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function _D(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?SD:CQ(a);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(e-u*f/l+h)),p=Math.min(n,Math.floor(e+(l-u)*f/l+h));_D(t,e,m,p,a)}const i=t[e];let s=r,o=n;for(Nl(t,r,e),a(t[n],i)>0&&Nl(t,r,n);s<o;){for(Nl(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?Nl(t,r,o):(++o,Nl(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Nl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function PQ(t,e,r){if(t=Float64Array.from(_Q(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return mE(t);if(e>=1)return hE(t);var n,a=(n-1)*e,i=Math.floor(a),s=hE(_D(t,i).subarray(0,i+1)),o=mE(t.subarray(i+1));return s+(o-s)*(a-i)}}function MQ(t,e,r=wD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function RQ(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function tn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Uy=Symbol("implicit");function Db(){var t=new dE,e=[],r=[],n=Uy;function a(i){let s=t.get(i);if(s===void 0){if(n!==Uy)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new dE;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Db(e,r).unknown(n)},tn.apply(a,arguments),a}function zc(){var t=Db().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=a<n,p=m?a:n,g=m?n:a;i=(g-p)/Math.max(1,h-l+u*2),o&&(i=Math.floor(i)),p+=(g-p-i*(h-l))*d,s=i*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=RQ(h).map(function(x){return p+i*x});return r(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return zc(e(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(d)},tn.apply(f(),arguments)}function ED(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ED(e())},t}function oc(){return ED(zc.apply(null,arguments).paddingInner(1))}function Pb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function jD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Pu(){}var Wc=.7,Zf=1/Wc,no="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IQ=/^#([0-9a-f]{3,8})$/,$Q=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),LQ=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),FQ=new RegExp(`^rgba\\(${no},${no},${no},${Vc}\\)$`),UQ=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${Vc}\\)$`),BQ=new RegExp(`^hsl\\(${Vc},${Pn},${Pn}\\)$`),HQ=new RegExp(`^hsla\\(${Vc},${Pn},${Pn},${Vc}\\)$`),pE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pb(Pu,Gc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gE,formatHex:gE,formatHex8:zQ,formatHsl:WQ,formatRgb:vE,toString:vE});function gE(){return this.rgb().formatHex()}function zQ(){return this.rgb().formatHex8()}function WQ(){return AD(this).formatHsl()}function vE(){return this.rgb().formatRgb()}function Gc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=IQ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?yE(e):r===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$Q.exec(t))?new vr(e[1],e[2],e[3],1):(e=LQ.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=FQ.exec(t))?yd(e[1],e[2],e[3],e[4]):(e=UQ.exec(t))?yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BQ.exec(t))?wE(e[1],e[2]/100,e[3]/100,1):(e=HQ.exec(t))?wE(e[1],e[2]/100,e[3]/100,e[4]):pE.hasOwnProperty(t)?yE(pE[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function yE(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function yd(t,e,r,n){return n<=0&&(t=e=r=NaN),new vr(t,e,r,n)}function VQ(t){return t instanceof Pu||(t=Gc(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function By(t,e,r,n){return arguments.length===1?VQ(t):new vr(t,e,r,n??1)}function vr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Pb(vr,By,jD(Pu,{brighter(t){return t=t==null?Zf:Math.pow(Zf,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wc:Math.pow(Wc,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(zi(this.r),zi(this.g),zi(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xE,formatHex:xE,formatHex8:GQ,formatRgb:bE,toString:bE}));function xE(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}`}function GQ(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}${Li((isNaN(this.opacity)?1:this.opacity)*255)}`}function bE(){const t=Jf(this.opacity);return`${t===1?"rgb(":"rgba("}${zi(this.r)}, ${zi(this.g)}, ${zi(this.b)}${t===1?")":`, ${t})`}`}function Jf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Li(t){return t=zi(t),(t<16?"0":"")+t.toString(16)}function wE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new mn(t,e,r,n)}function AD(t){if(t instanceof mn)return new mn(t.h,t.s,t.l,t.opacity);if(t instanceof Pu||(t=Gc(t)),!t)return new mn;if(t instanceof mn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new mn(s,o,l,t.opacity)}function qQ(t,e,r,n){return arguments.length===1?AD(t):new mn(t,e,r,n??1)}function mn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Pb(mn,qQ,jD(Pu,{brighter(t){return t=t==null?Zf:Math.pow(Zf,t),new mn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wc:Math.pow(Wc,t),new mn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new vr(gg(t>=240?t-240:t+120,a,n),gg(t,a,n),gg(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new mn(SE(this.h),xd(this.s),xd(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jf(this.opacity);return`${t===1?"hsl(":"hsla("}${SE(this.h)}, ${xd(this.s)*100}%, ${xd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SE(t){return t=(t||0)%360,t<0?t+360:t}function xd(t){return Math.max(0,Math.min(1,t||0))}function gg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Mb=t=>()=>t;function YQ(t,e){return function(r){return t+r*e}}function KQ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function QQ(t){return(t=+t)==1?TD:function(e,r){return r-e?KQ(e,r,t):Mb(isNaN(e)?r:e)}}function TD(t,e){var r=e-t;return r?YQ(t,r):Mb(isNaN(t)?e:t)}const _E=function t(e){var r=QQ(e);function n(a,i){var s=r((a=By(a)).r,(i=By(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),u=TD(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function XQ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function ZQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JQ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=ol(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function eX(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function eh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function tX(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=ol(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Hy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vg=new RegExp(Hy.source,"g");function rX(t){return function(){return t}}function nX(t){return function(e){return t(e)+""}}function aX(t,e){var r=Hy.lastIndex=vg.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Hy.exec(t))&&(a=vg.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:eh(n,a)})),r=vg.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?nX(l[0].x):rX(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function ol(t,e){var r=typeof e,n;return e==null||r==="boolean"?Mb(e):(r==="number"?eh:r==="string"?(n=Gc(e))?(e=n,_E):aX:e instanceof Gc?_E:e instanceof Date?eX:ZQ(e)?XQ:Array.isArray(e)?JQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tX:eh)(t,e)}function Rb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function iX(t,e){e===void 0&&(e=t,t=ol);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function sX(t){return function(){return t}}function th(t){return+t}var EE=[0,1];function lr(t){return t}function zy(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:sX(isNaN(e)?NaN:.5)}function oX(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function lX(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=zy(a,n),i=r(s,i)):(n=zy(n,a),i=r(i,s)),function(o){return i(n(o))}}function cX(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=zy(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var l=Du(t,o,1,n)-1;return i[l](a[l](o))}}function Mu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vm(){var t=EE,e=EE,r=ol,n,a,i,s=lr,o,l,u;function d(){var h=Math.min(t.length,e.length);return s!==lr&&(s=oX(t[0],t[h-1])),o=h>2?cX:lX,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(e,t.map(n),eh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,th),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=Rb,d()},f.clamp=function(h){return arguments.length?(s=h?!0:lr,d()):s!==lr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function Ib(){return Vm()(lr,lr)}function uX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rh(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _o(t){return t=rh(Math.abs(t)),t?t[1]:NaN}function dX(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function fX(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var hX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qc(t){if(!(e=hX.exec(t)))throw new Error("invalid format: "+t);var e;return new $b({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qc.prototype=$b.prototype;function $b(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mX(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var ND;function pX(t,e){var r=rh(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(ND=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+rh(t,Math.max(0,e+i-1))[0]}function jE(t,e){var r=rh(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const AE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jE(t*100,e),r:jE,s:pX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TE(t){return t}var NE=Array.prototype.map,CE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gX(t){var e=t.grouping===void 0||t.thousands===void 0?TE:dX(NE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?TE:fX(NE.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=qc(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(y=!0,w="g"):AE[w]||(b===void 0&&(b=12),S=!0,w="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=g==="$"?n:/[%p]/.test(w)?s:"",j=AE[w],T=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(P){var D=_,k=E,$,H,V;if(w==="c")k=j(P)+k,P="";else{P=+P;var M=P<0||1/P<0;if(P=isNaN(P)?l:j(Math.abs(P),b),S&&(P=mX(P)),M&&+P==0&&p!=="+"&&(M=!1),D=(M?p==="("?p:o:p==="-"||p==="("?"":p)+D,k=(w==="s"?CE[8+ND/3]:"")+k+(M&&p==="("?")":""),T){for($=-1,H=P.length;++$<H;)if(V=P.charCodeAt($),48>V||V>57){k=(V===46?a+P.slice($+1):P.slice($))+k,P=P.slice(0,$);break}}}y&&!v&&(P=e(P,1/0));var I=D.length+P.length+k.length,B=I<x?new Array(x-I+1).join(h):"";switch(y&&v&&(P=e(B+P,B.length?x-k.length:1/0),B=""),m){case"<":P=D+P+k+B;break;case"=":P=D+B+P+k;break;case"^":P=B.slice(0,I=B.length>>1)+D+P+k+B.slice(I);break;default:P=B+D+P+k;break}return i(P)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=qc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(_o(h)/3)))*3,g=Math.pow(10,-p),v=CE[8+p/3];return function(x){return m(g*x)+v}}return{format:u,formatPrefix:d}}var bd,Lb,CD;vX({thousands:",",grouping:[3],currency:["$",""]});function vX(t){return bd=gX(t),Lb=bd.format,CD=bd.formatPrefix,bd}function yX(t){return Math.max(0,-_o(Math.abs(t)))}function xX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_o(e)/3)))*3-_o(Math.abs(t)))}function bX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_o(e)-_o(t))+1}function kD(t,e,r,n){var a=Fy(t,e,r),i;switch(n=qc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=xX(a,s))&&(n.precision=i),CD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bX(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=yX(a))&&(n.precision=i-(n.type==="%")*2);break}}return Lb(n)}function mi(t){var e=t.domain;return t.ticks=function(r){var n=e();return $y(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return kD(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=Ly(s,o,r),u===l)return n[a]=s,n[i]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function nh(){var t=Ib();return t.copy=function(){return Mu(t,nh())},tn.apply(t,arguments),mi(t)}function OD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,th),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return OD(t).unknown(e)},t=arguments.length?Array.from(t,th):[0,1],mi(r)}function DD(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function kE(t){return Math.log(t)}function OE(t){return Math.exp(t)}function wX(t){return-Math.log(-t)}function SX(t){return-Math.exp(-t)}function _X(t){return isFinite(t)?+("1e"+t):t<0?0:t}function EX(t){return t===10?_X:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DE(t){return(e,r)=>-t(-e,r)}function Fb(t){const e=t(kE,OE),r=e.domain;let n=10,a,i;function s(){return a=jX(n),i=EX(n),r()[0]<0?(a=DE(a),i=DE(i),t(wX,SX)):t(kE,OE),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,g;const v=o==null?10:+o;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/i(-h):p*i(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/i(-h):p*i(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=$y(u,d,v))}else x=$y(h,m,Math.min(m-h,v)).map(i);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=qc(l)).precision==null&&(l.trim=!0),l=Lb(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(DD(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function PD(){const t=Fb(Vm()).domain([1,10]);return t.copy=()=>Mu(t,PD()).base(t.base()),tn.apply(t,arguments),t}function PE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ME(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ub(t){var e=1,r=t(PE(e),ME(e));return r.constant=function(n){return arguments.length?t(PE(e=+n),ME(e)):e},mi(r)}function MD(){var t=Ub(Vm());return t.copy=function(){return Mu(t,MD()).constant(t.constant())},tn.apply(t,arguments)}function RE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function AX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TX(t){return t<0?-t*t:t*t}function Bb(t){var e=t(lr,lr),r=1;function n(){return r===1?t(lr,lr):r===.5?t(AX,TX):t(RE(r),RE(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},mi(e)}function Hb(){var t=Bb(Vm());return t.copy=function(){return Mu(t,Hb()).exponent(t.exponent())},tn.apply(t,arguments),t}function NX(){return Hb.apply(null,arguments).exponent(.5)}function IE(t){return Math.sign(t)*t*t}function CX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RD(){var t=Ib(),e=[0,1],r=!1,n;function a(i){var s=CX(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(IE(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,th)).map(IE)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return RD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},tn.apply(a,arguments),mi(a)}function ID(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=MQ(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[Du(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ka),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ID().domain(t).range(e).unknown(n)},tn.apply(i,arguments)}function $D(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Du(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $D().domain([t,e]).range(a).unknown(i)},tn.apply(mi(s),arguments)}function LD(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Du(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return LD().domain(t).range(e).unknown(r)},tn.apply(a,arguments)}const yg=new Date,xg=new Date;function Mt(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<s);return l},a.filter=i=>Mt(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(yg.setTime(+i),xg.setTime(+s),t(yg),t(xg),Math.floor(r(yg,xg))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const ah=Mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ah.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ah);ah.range;const Yn=1e3,Gr=Yn*60,Kn=Gr*60,la=Kn*24,zb=la*7,$E=la*30,bg=la*365,Fi=Mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCSeconds());Fi.range;const Wb=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yn)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getMinutes());Wb.range;const Vb=Mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getUTCMinutes());Vb.range;const Gb=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yn-t.getMinutes()*Gr)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getHours());Gb.range;const qb=Mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getUTCHours());qb.range;const Ru=Mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gr)/la,t=>t.getDate()-1);Ru.range;const Gm=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/la,t=>t.getUTCDate()-1);Gm.range;const FD=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/la,t=>Math.floor(t/la));FD.range;function ps(t){return Mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/zb)}const qm=ps(0),ih=ps(1),kX=ps(2),OX=ps(3),Eo=ps(4),DX=ps(5),PX=ps(6);qm.range;ih.range;kX.range;OX.range;Eo.range;DX.range;PX.range;function gs(t){return Mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/zb)}const Ym=gs(0),sh=gs(1),MX=gs(2),RX=gs(3),jo=gs(4),IX=gs(5),$X=gs(6);Ym.range;sh.range;MX.range;RX.range;jo.range;IX.range;$X.range;const Yb=Mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Yb.range;const Kb=Mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Kb.range;const ca=Mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ca.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ca.range;const ua=Mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ua.range;function UD(t,e,r,n,a,i){const s=[[Fi,1,Yn],[Fi,5,5*Yn],[Fi,15,15*Yn],[Fi,30,30*Yn],[i,1,Gr],[i,5,5*Gr],[i,15,15*Gr],[i,30,30*Gr],[a,1,Kn],[a,3,3*Kn],[a,6,6*Kn],[a,12,12*Kn],[n,1,la],[n,2,2*la],[r,1,zb],[e,1,$E],[e,3,3*$E],[t,1,bg]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function l(u,d,f){const h=Math.abs(d-u)/f,m=Ob(([,,v])=>v).right(s,h);if(m===s.length)return t.every(Fy(u/bg,d/bg,f));if(m===0)return ah.every(Math.max(Fy(u,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[LX,FX]=UD(ua,Kb,Ym,FD,qb,Vb),[UX,BX]=UD(ca,Yb,qm,Ru,Gb,Wb);function wg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function HX(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=kl(a),d=Ol(a),f=kl(i),h=Ol(i),m=kl(s),p=Ol(s),g=kl(o),v=Ol(o),x=kl(l),y=Ol(l),b={a:M,A:I,b:B,B:F,c:null,d:zE,e:zE,f:dZ,g:wZ,G:_Z,H:lZ,I:cZ,j:uZ,L:BD,m:fZ,M:hZ,p:z,q:G,Q:GE,s:qE,S:mZ,u:pZ,U:gZ,V:vZ,w:yZ,W:xZ,x:null,X:null,y:bZ,Y:SZ,Z:EZ,"%":VE},S={a:q,A:ae,b:ce,B:ye,c:null,d:WE,e:WE,f:NZ,g:LZ,G:UZ,H:jZ,I:AZ,j:TZ,L:zD,m:CZ,M:kZ,p:Te,q:ge,Q:GE,s:qE,S:OZ,u:DZ,U:PZ,V:MZ,w:RZ,W:IZ,x:null,X:null,y:$Z,Y:FZ,Z:BZ,"%":VE},w={a:O,A:P,b:D,B:k,c:$,d:BE,e:BE,f:aZ,g:UE,G:FE,H:HE,I:HE,j:eZ,L:nZ,m:JX,M:tZ,p:T,q:ZX,Q:sZ,s:oZ,S:rZ,u:qX,U:YX,V:KX,w:GX,W:QX,x:H,X:V,y:UE,Y:FE,Z:XX,"%":iZ};b.x=_(r,b),b.X=_(n,b),b.c=_(e,b),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(X,ne){return function(re){var A=[],C=-1,R=0,U=X.length,Z,ee,le;for(re instanceof Date||(re=new Date(+re));++C<U;)X.charCodeAt(C)===37&&(A.push(X.slice(R,C)),(ee=LE[Z=X.charAt(++C)])!=null?Z=X.charAt(++C):ee=Z==="e"?" ":"0",(le=ne[Z])&&(Z=le(re,ee)),A.push(Z),R=C+1);return A.push(X.slice(R,C)),A.join("")}}function E(X,ne){return function(re){var A=Cl(1900,void 0,1),C=j(A,X,re+="",0),R,U;if(C!=re.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(ne&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(R=Sg(Cl(A.y,0,1)),U=R.getUTCDay(),R=U>4||U===0?sh.ceil(R):sh(R),R=Gm.offset(R,(A.V-1)*7),A.y=R.getUTCFullYear(),A.m=R.getUTCMonth(),A.d=R.getUTCDate()+(A.w+6)%7):(R=wg(Cl(A.y,0,1)),U=R.getDay(),R=U>4||U===0?ih.ceil(R):ih(R),R=Ru.offset(R,(A.V-1)*7),A.y=R.getFullYear(),A.m=R.getMonth(),A.d=R.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),U="Z"in A?Sg(Cl(A.y,0,1)).getUTCDay():wg(Cl(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(U+5)%7:A.w+A.U*7-(U+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,Sg(A)):wg(A)}}function j(X,ne,re,A){for(var C=0,R=ne.length,U=re.length,Z,ee;C<R;){if(A>=U)return-1;if(Z=ne.charCodeAt(C++),Z===37){if(Z=ne.charAt(C++),ee=w[Z in LE?ne.charAt(C++):Z],!ee||(A=ee(X,re,A))<0)return-1}else if(Z!=re.charCodeAt(A++))return-1}return A}function T(X,ne,re){var A=u.exec(ne.slice(re));return A?(X.p=d.get(A[0].toLowerCase()),re+A[0].length):-1}function O(X,ne,re){var A=m.exec(ne.slice(re));return A?(X.w=p.get(A[0].toLowerCase()),re+A[0].length):-1}function P(X,ne,re){var A=f.exec(ne.slice(re));return A?(X.w=h.get(A[0].toLowerCase()),re+A[0].length):-1}function D(X,ne,re){var A=x.exec(ne.slice(re));return A?(X.m=y.get(A[0].toLowerCase()),re+A[0].length):-1}function k(X,ne,re){var A=g.exec(ne.slice(re));return A?(X.m=v.get(A[0].toLowerCase()),re+A[0].length):-1}function $(X,ne,re){return j(X,e,ne,re)}function H(X,ne,re){return j(X,r,ne,re)}function V(X,ne,re){return j(X,n,ne,re)}function M(X){return s[X.getDay()]}function I(X){return i[X.getDay()]}function B(X){return l[X.getMonth()]}function F(X){return o[X.getMonth()]}function z(X){return a[+(X.getHours()>=12)]}function G(X){return 1+~~(X.getMonth()/3)}function q(X){return s[X.getUTCDay()]}function ae(X){return i[X.getUTCDay()]}function ce(X){return l[X.getUTCMonth()]}function ye(X){return o[X.getUTCMonth()]}function Te(X){return a[+(X.getUTCHours()>=12)]}function ge(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ne=_(X+="",b);return ne.toString=function(){return X},ne},parse:function(X){var ne=E(X+="",!1);return ne.toString=function(){return X},ne},utcFormat:function(X){var ne=_(X+="",S);return ne.toString=function(){return X},ne},utcParse:function(X){var ne=E(X+="",!0);return ne.toString=function(){return X},ne}}}var LE={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,zX=/^%/,WX=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function VX(t){return t.replace(WX,"\\$&")}function kl(t){return new RegExp("^(?:"+t.map(VX).join("|")+")","i")}function Ol(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function GX(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function qX(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function YX(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function KX(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function QX(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function FE(t,e,r){var n=Ut.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function UE(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function XX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ZX(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function JX(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function BE(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function eZ(t,e,r){var n=Ut.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function HE(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function tZ(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function rZ(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function nZ(t,e,r){var n=Ut.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function aZ(t,e,r){var n=Ut.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iZ(t,e,r){var n=zX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function sZ(t,e,r){var n=Ut.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function oZ(t,e,r){var n=Ut.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function zE(t,e){return Le(t.getDate(),e,2)}function lZ(t,e){return Le(t.getHours(),e,2)}function cZ(t,e){return Le(t.getHours()%12||12,e,2)}function uZ(t,e){return Le(1+Ru.count(ca(t),t),e,3)}function BD(t,e){return Le(t.getMilliseconds(),e,3)}function dZ(t,e){return BD(t,e)+"000"}function fZ(t,e){return Le(t.getMonth()+1,e,2)}function hZ(t,e){return Le(t.getMinutes(),e,2)}function mZ(t,e){return Le(t.getSeconds(),e,2)}function pZ(t){var e=t.getDay();return e===0?7:e}function gZ(t,e){return Le(qm.count(ca(t)-1,t),e,2)}function HD(t){var e=t.getDay();return e>=4||e===0?Eo(t):Eo.ceil(t)}function vZ(t,e){return t=HD(t),Le(Eo.count(ca(t),t)+(ca(t).getDay()===4),e,2)}function yZ(t){return t.getDay()}function xZ(t,e){return Le(ih.count(ca(t)-1,t),e,2)}function bZ(t,e){return Le(t.getFullYear()%100,e,2)}function wZ(t,e){return t=HD(t),Le(t.getFullYear()%100,e,2)}function SZ(t,e){return Le(t.getFullYear()%1e4,e,4)}function _Z(t,e){var r=t.getDay();return t=r>=4||r===0?Eo(t):Eo.ceil(t),Le(t.getFullYear()%1e4,e,4)}function EZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function WE(t,e){return Le(t.getUTCDate(),e,2)}function jZ(t,e){return Le(t.getUTCHours(),e,2)}function AZ(t,e){return Le(t.getUTCHours()%12||12,e,2)}function TZ(t,e){return Le(1+Gm.count(ua(t),t),e,3)}function zD(t,e){return Le(t.getUTCMilliseconds(),e,3)}function NZ(t,e){return zD(t,e)+"000"}function CZ(t,e){return Le(t.getUTCMonth()+1,e,2)}function kZ(t,e){return Le(t.getUTCMinutes(),e,2)}function OZ(t,e){return Le(t.getUTCSeconds(),e,2)}function DZ(t){var e=t.getUTCDay();return e===0?7:e}function PZ(t,e){return Le(Ym.count(ua(t)-1,t),e,2)}function WD(t){var e=t.getUTCDay();return e>=4||e===0?jo(t):jo.ceil(t)}function MZ(t,e){return t=WD(t),Le(jo.count(ua(t),t)+(ua(t).getUTCDay()===4),e,2)}function RZ(t){return t.getUTCDay()}function IZ(t,e){return Le(sh.count(ua(t)-1,t),e,2)}function $Z(t,e){return Le(t.getUTCFullYear()%100,e,2)}function LZ(t,e){return t=WD(t),Le(t.getUTCFullYear()%100,e,2)}function FZ(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function UZ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?jo(t):jo.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function BZ(){return"+0000"}function VE(){return"%"}function GE(t){return+t}function qE(t){return Math.floor(+t/1e3)}var Ns,VD,GD;HZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HZ(t){return Ns=HX(t),VD=Ns.format,Ns.parse,GD=Ns.utcFormat,Ns.utcParse,Ns}function zZ(t){return new Date(t)}function WZ(t){return t instanceof Date?+t:+new Date(+t)}function Qb(t,e,r,n,a,i,s,o,l,u){var d=Ib(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),S=u("%Y");function w(_){return(l(_)<_?m:o(_)<_?p:s(_)<_?g:i(_)<_?v:n(_)<_?a(_)<_?x:y:r(_)<_?b:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,WZ)):h().map(zZ)},d.ticks=function(_){var E=h();return t(E[0],E[E.length-1],_??10)},d.tickFormat=function(_,E){return E==null?w:u(E)},d.nice=function(_){var E=h();return(!_||typeof _.range!="function")&&(_=e(E[0],E[E.length-1],_??10)),_?h(DD(E,_)):d},d.copy=function(){return Mu(d,Qb(t,e,r,n,a,i,s,o,l,u))},d}function VZ(){return tn.apply(Qb(UX,BX,ca,Yb,qm,Ru,Gb,Wb,Fi,VD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GZ(){return tn.apply(Qb(LX,FX,ua,Kb,Ym,Gm,qb,Vb,Fi,GD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Km(){var t=0,e=1,r,n,a,i,s=lr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(ol),u.rangeRound=d(Rb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function pi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qD(){var t=mi(Km()(lr));return t.copy=function(){return pi(t,qD())},pa.apply(t,arguments)}function YD(){var t=Fb(Km()).domain([1,10]);return t.copy=function(){return pi(t,YD()).base(t.base())},pa.apply(t,arguments)}function KD(){var t=Ub(Km());return t.copy=function(){return pi(t,KD()).constant(t.constant())},pa.apply(t,arguments)}function Xb(){var t=Bb(Km());return t.copy=function(){return pi(t,Xb()).exponent(t.exponent())},pa.apply(t,arguments)}function qZ(){return Xb.apply(null,arguments).exponent(.5)}function QD(){var t=[],e=lr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Du(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ka),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>PQ(t,i/n))},r.copy=function(){return QD(e).domain(t)},pa.apply(r,arguments)}function Qm(){var t=0,e=.5,r=1,n=1,a,i,s,o,l,u=lr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?o:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,a=d(t=+t),i=d(e=+e),s=d(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=iX(g,[x,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(ol),m.rangeRound=p(Rb),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(t),i=g(e),s=g(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function XD(){var t=mi(Qm()(lr));return t.copy=function(){return pi(t,XD())},pa.apply(t,arguments)}function ZD(){var t=Fb(Qm()).domain([.1,1,10]);return t.copy=function(){return pi(t,ZD()).base(t.base())},pa.apply(t,arguments)}function JD(){var t=Ub(Qm());return t.copy=function(){return pi(t,JD()).constant(t.constant())},pa.apply(t,arguments)}function Zb(){var t=Bb(Qm());return t.copy=function(){return pi(t,Zb()).exponent(t.exponent())},pa.apply(t,arguments)}function YZ(){return Zb.apply(null,arguments).exponent(.5)}const YE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zc,scaleDiverging:XD,scaleDivergingLog:ZD,scaleDivergingPow:Zb,scaleDivergingSqrt:YZ,scaleDivergingSymlog:JD,scaleIdentity:OD,scaleImplicit:Uy,scaleLinear:nh,scaleLog:PD,scaleOrdinal:Db,scalePoint:oc,scalePow:Hb,scaleQuantile:ID,scaleQuantize:$D,scaleRadial:RD,scaleSequential:qD,scaleSequentialLog:YD,scaleSequentialPow:Xb,scaleSequentialQuantile:QD,scaleSequentialSqrt:qZ,scaleSequentialSymlog:KD,scaleSqrt:NX,scaleSymlog:MD,scaleThreshold:LD,scaleTime:VZ,scaleUtc:GZ,tickFormat:kD},Symbol.toStringTag,{value:"Module"}));var KZ=Jo;function QZ(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],s=e(i);if(s!=null&&(o===void 0?s===s&&!KZ(s):r(s,o)))var o=s,l=i}return l}var e2=QZ;function XZ(t,e){return t>e}var ZZ=XZ,JZ=e2,eJ=ZZ,tJ=sl;function rJ(t){return t&&t.length?JZ(t,tJ,eJ):void 0}var nJ=rJ;const Xm=Je(nJ);function aJ(t,e){return t<e}var iJ=aJ,sJ=e2,oJ=iJ,lJ=sl;function cJ(t){return t&&t.length?sJ(t,lJ,oJ):void 0}var uJ=cJ;const Zm=Je(uJ);var dJ=fb,fJ=hi,hJ=lD,mJ=Sr;function pJ(t,e){var r=mJ(t)?dJ:hJ;return r(t,fJ(e))}var gJ=pJ,vJ=sD,yJ=gJ;function xJ(t,e){return vJ(yJ(t,e),1)}var bJ=xJ;const wJ=Je(bJ);var SJ=Tb;function _J(t,e){return SJ(t,e)}var EJ=_J;const Jm=Je(EJ);var ll=1e9,jJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ew,ft=!0,Zr="[DecimalError] ",Wi=Zr+"Invalid argument: ",Jb=Zr+"Exponent out of range: ",cl=Math.floor,Ai=Math.pow,AJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tr,$t=1e7,ct=7,t2=9007199254740991,oh=cl(t2/ct),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(t){return ra(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,r=e.constructor;return et(ra(e,new r(t),0,1),r.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return Nt(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Tr))throw Error(Zr+"NaN");if(r.s<1)throw Error(Zr+(r.s?"NaN":"-Infinity"));return r.eq(Tr)?new n(0):(ft=!1,e=ra(Yc(r,i),Yc(t,i),i),ft=!0,et(e,a))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?a2(e,t):r2(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Zr+"NaN");return r.s?(ft=!1,e=ra(r,t,0,1).times(t),ft=!0,r.minus(e)):et(new n(r),a)};pe.naturalExponential=pe.exp=function(){return n2(this)};pe.naturalLogarithm=pe.ln=function(){return Yc(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r2(e,t):a2(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wi+t);if(e=Nt(a)+1,n=a.d.length-1,r=n*ct+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pe.squareRoot=pe.sqrt=function(){var t,e,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Zr+"NaN")}for(t=Nt(o),ft=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=Cn(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=cl((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(ra(o,i,s+2)).times(.5),Cn(i.d).slice(0,s)===(e=Cn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(et(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return ft=!0,et(n,r)};pe.times=pe.mul=function(t){var e,r,n,a,i,s,o,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=m.length,l<u&&(i=h,h=m,m=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=l+n;a>n;)o=i[a]+m[n]*h[a-n-1]+e,i[a--]=o%$t|0,e=o/$t|0;i[a]=(i[a]+e)%$t|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,ft?et(t,f.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Rn(t,0,ll),e===void 0?e=n.rounding:Rn(e,0,8),et(r,t+Nt(r)+1,e))};pe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ts(n,!0):(Rn(t,0,ll),e===void 0?e=a.rounding:Rn(e,0,8),n=et(new a(n),t+1,e),r=ts(n,!0,t+1)),r};pe.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ts(a):(Rn(t,0,ll),e===void 0?e=i.rounding:Rn(e,0,8),n=et(new i(a),t+Nt(a)+1,e),r=ts(n.abs(),!1,t+Nt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return et(new e(t),Nt(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,r,n,a,i,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Tr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Zr+"Infinity");return o}if(o.eq(Tr))return o;if(n=l.precision,t.eq(Tr))return et(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=d<0?-d:d)<=t2){for(a=new l(Tr),e=Math.ceil(n/ct+4),ft=!1;r%2&&(a=a.times(o),QE(a.d,e)),r=cl(r/2),r!==0;)o=o.times(o),QE(o.d,e);return ft=!0,t.s<0?new l(Tr).div(a):et(a,n)}}else if(i<0)throw Error(Zr+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ft=!1,a=t.times(Yc(o,n+u)),ft=!0,a=n2(a),a.s=i,a};pe.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Nt(a),n=ts(a,r<=i.toExpNeg||r>=i.toExpPos)):(Rn(t,1,ll),e===void 0?e=i.rounding:Rn(e,0,8),a=et(new i(a),t,e),r=Nt(a),n=ts(a,t<=r||r<=i.toExpNeg,t)),n};pe.toSignificantDigits=pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Rn(t,1,ll),e===void 0?e=n.rounding:Rn(e,0,8)),et(new n(r),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Nt(t),r=t.constructor;return ts(t,e<=r.toExpNeg||e>=r.toExpPos)};function r2(t,e){var r,n,a,i,s,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ft?et(e,f):e;if(l=t.d,u=e.d,s=t.e,a=e.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=u.length):(n=u,a=s,o=l.length),s=Math.ceil(f/ct),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/$t|0,l[i]%=$t;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=a,ft?et(e,f):e}function Rn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Wi+t)}function Cn(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=ct-n.length,r&&(i+=Ta(r)),i+=n;s=t[e],n=s+"",r=ct-n.length,r&&(i+=Ta(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ra=function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%$t|0,s=i/$t|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*$t+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,u,d,f,h,m,p,g,v,x,y,b,S,w,_,E,j,T=n.constructor,O=n.s==a.s?1:-1,P=n.d,D=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Zr+"Division by zero");for(l=n.e-a.e,E=D.length,w=P.length,m=new T(O),p=m.d=[],u=0;D[u]==(P[u]||0);)++u;if(D[u]>(P[u]||0)&&--l,i==null?y=i=T.precision:s?y=i+(Nt(n)-Nt(a))+1:y=i,y<0)return new T(0);if(y=y/ct+2|0,u=0,E==1)for(d=0,D=D[0],y++;(u<w||d)&&y--;u++)b=d*$t+(P[u]||0),p[u]=b/D|0,d=b%D|0;else{for(d=$t/(D[0]+1)|0,d>1&&(D=t(D,d),P=t(P,d),E=D.length,w=P.length),S=E,g=P.slice(0,E),v=g.length;v<E;)g[v++]=0;j=D.slice(),j.unshift(0),_=D[0],D[1]>=$t/2&&++_;do d=0,o=e(D,g,E,v),o<0?(x=g[0],E!=v&&(x=x*$t+(g[1]||0)),d=x/_|0,d>1?(d>=$t&&(d=$t-1),f=t(D,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,r(f,E<h?j:D,h))):(d==0&&(o=d=1),f=D.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=e(D,g,E,v),o<1&&(d++,r(g,E<v?j:D,v))),v=g.length):o===0&&(d++,g=[0]),p[u++]=d,o&&g[0]?g[v++]=P[S]||0:(g=[P[S]],v=1);while((S++<w||g[0]!==void 0)&&y--)}return p[0]||p.shift(),m.e=l,et(m,s?i+Nt(m)+1:i)}}();function n2(t,e){var r,n,a,i,s,o,l=0,u=0,d=t.constructor,f=d.precision;if(Nt(t)>16)throw Error(Jb+Nt(t));if(!t.s)return new d(Tr);for(e==null?(ft=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Ai(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(Tr),d.precision=o;;){if(a=et(a.times(t),o),r=r.times(++l),s=i.plus(ra(a,r,o)),Cn(s.d).slice(0,o)===Cn(i.d).slice(0,o)){for(;u--;)i=et(i.times(i),o);return d.precision=f,e==null?(ft=!0,et(i,f)):i}i=s}}function Nt(t){for(var e=t.e*ct,r=t.d[0];r>=10;r/=10)e++;return e}function _g(t,e,r){if(e>t.LN10.sd())throw ft=!0,r&&(t.precision=r),Error(Zr+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Ta(t){for(var e="";t--;)e+="0";return e}function Yc(t,e){var r,n,a,i,s,o,l,u,d,f=1,h=10,m=t,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Zr+(m.s?"NaN":"-Infinity"));if(m.eq(Tr))return new g(0);if(e==null?(ft=!1,u=v):u=e,m.eq(10))return e==null&&(ft=!0),_g(g,u);if(u+=h,g.precision=u,r=Cn(p),n=r.charAt(0),i=Nt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Cn(m.d),n=r.charAt(0),f++;i=Nt(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return l=_g(g,u+2,v).times(i+""),m=Yc(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(ft=!0,et(m,v)):m;for(o=s=m=ra(m.minus(Tr),m.plus(Tr),u),d=et(m.times(m),u),a=3;;){if(s=et(s.times(d),u),l=o.plus(ra(s,new g(a),u)),Cn(l.d).slice(0,u)===Cn(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(_g(g,u+2,v).times(i+""))),o=ra(o,new g(f),u),g.precision=v,e==null?(ft=!0,et(o,v)):o;o=l,a+=2}}function KE(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=cl(r/ct),t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=ct;n<a;)t.d.push(+e.slice(n,n+=ct));e=e.slice(n),n=ct-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),ft&&(t.e>oh||t.e<-oh))throw Error(Jb+r)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,r){var n,a,i,s,o,l,u,d,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=ct,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ct),i=f.length,d>=i)return t;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=ct,a=n-ct+s}if(r!==void 0&&(i=Ai(10,s-a-1),o=u/i%10|0,l=e<0||f[d+1]!==void 0||u%i,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/Ai(10,s-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(i=Nt(t),f.length=1,e=e-i-1,f[0]=Ai(10,(ct-e%ct)%ct),t.e=cl(-e/ct)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ai(10,ct-n),f[d]=a>0?(u/Ai(10,s-a)%Ai(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==$t&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=$t)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ft&&(t.e>oh||t.e<-oh))throw Error(Jb+Nt(t));return t}function a2(t,e){var r,n,a,i,s,o,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ft?et(e,m):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),a=Math.max(Math.ceil(m/ct),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=$t-1;--l[i],l[a]+=$t}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ft?et(e,m):e):new h(0)}function ts(t,e,r){var n,a=Nt(t),i=Cn(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Ta(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ta(-a-1)+i,r&&(n=r-s)>0&&(i+=Ta(n))):a>=s?(i+=Ta(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Ta(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Ta(n))),t.s<0?"-"+i:i}function QE(t,e){if(t.length>e)return t.length=e,!0}function i2(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wi+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return KE(s,i.toString())}else if(typeof i!="string")throw Error(Wi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,AJ.test(i))KE(s,i);else throw Error(Wi+i)}if(a.prototype=pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=i2,a.config=a.set=TJ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function TJ(t){if(!t||typeof t!="object")throw Error(Zr+"Object expected");var e,r,n,a=["precision",1,ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(cl(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Wi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wi+r+": "+n);return this}var ew=i2(jJ);Tr=new ew(1);const Xe=ew;function NJ(t){return DJ(t)||OJ(t)||kJ(t)||CJ()}function CJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return Wy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(t,e)}}function OJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function DJ(t){if(Array.isArray(t))return Wy(t)}function Wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var PJ=function(e){return e},s2={"@@functional/placeholder":!0},o2=function(e){return e===s2},XE=function(e){return function r(){return arguments.length===0||arguments.length===1&&o2(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},MJ=function t(e,r){return e===1?r:XE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==s2}).length;return s>=e?r.apply(void 0,a):t(e-s,XE(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=a.map(function(f){return o2(f)?l.shift():f});return r.apply(void 0,NJ(d).concat(l))}))})},ep=function(e){return MJ(e.length,e)},Vy=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},RJ=ep(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),IJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return PJ;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},Gy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},l2=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=e.apply(void 0,i)),n}};function $J(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function LJ(t,e,r){for(var n=new Xe(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var FJ=ep(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),UJ=ep(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),BJ=ep(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const tp={rangeStep:LJ,getDigitCount:$J,interpolateNumber:FJ,uninterpolateNumber:UJ,uninterpolateTruncation:BJ};function qy(t){return WJ(t)||zJ(t)||c2(t)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function WJ(t){if(Array.isArray(t))return Yy(t)}function Kc(t,e){return qJ(t)||GJ(t,e)||c2(t,e)||VJ()}function VJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c2(t,e){if(t){if(typeof t=="string")return Yy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(t,e)}}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function qJ(t){if(Array.isArray(t))return t}function u2(t){var e=Kc(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function d2(t,e,r){if(t.lte(0))return new Xe(0);var n=tp.getDigitCount(t.toNumber()),a=new Xe(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new Xe(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return e?l:new Xe(Math.ceil(l))}function YJ(t,e,r){var n=1,a=new Xe(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Xe(10).pow(tp.getDigitCount(t)-1),a=new Xe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Xe(Math.floor(t)))}else t===0?a=new Xe(Math.floor((e-1)/2)):r||(a=new Xe(Math.floor(t)));var s=Math.floor((e-1)/2),o=IJ(RJ(function(l){return a.add(new Xe(l-s).mul(n)).toNumber()}),Vy);return o(0,e)}function f2(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var i=d2(new Xe(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new Xe(0):(s=new Xe(t).add(e).div(2),s=s.sub(new Xe(s).mod(i)));var o=Math.ceil(s.sub(t).div(i).toNumber()),l=Math.ceil(new Xe(e).sub(s).div(i).toNumber()),u=o+l+1;return u>r?f2(t,e,r,n,a+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:i,tickMin:s.sub(new Xe(o).mul(i)),tickMax:s.add(new Xe(l).mul(i))})}function KJ(t){var e=Kc(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=u2([r,n]),l=Kc(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(qy(Vy(0,a-1).map(function(){return 1/0}))):[].concat(qy(Vy(0,a-1).map(function(){return-1/0})),[d]);return r>n?Gy(f):f}if(u===d)return YJ(u,a,i);var h=f2(u,d,s,i),m=h.step,p=h.tickMin,g=h.tickMax,v=tp.rangeStep(p,g.add(new Xe(.1).mul(m)),m);return r>n?Gy(v):v}function QJ(t,e){var r=Kc(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=u2([n,a]),o=Kc(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(e,2),f=d2(new Xe(u).sub(l).div(d-1),i,0),h=[].concat(qy(tp.rangeStep(new Xe(l),new Xe(u).sub(new Xe(.99).mul(f)),f)),[u]);return n>a?Gy(h):h}var XJ=l2(KJ),ZJ=l2(QJ),JJ=!0,Eg="Invariant failed";function rs(t,e){if(!t){if(JJ)throw new Error(Eg);var r=typeof e=="function"?e():e,n=r?"".concat(Eg,": ").concat(r):Eg;throw new Error(n)}}var eee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lh.apply(this,arguments)}function tee(t,e){return iee(t)||aee(t,e)||nee(t,e)||ree()}function ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nee(t,e){if(t){if(typeof t=="string")return ZE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(t,e)}}function ZE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function iee(t){if(Array.isArray(t))return t}function see(t,e){if(t==null)return{};var r=oee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p2(n.key),n)}}function cee(t,e,r){return e&&JE(t.prototype,e),r&&JE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uee(t,e,r){return e=ch(e),dee(t,h2()?Reflect.construct(e,r||[],ch(t).constructor):e.apply(t,r))}function dee(t,e){if(e&&(Ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fee(t)}function fee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(t)}function hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ky(t,e)}function m2(t,e,r){return e=p2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p2(t){var e=mee(t,"string");return Ao(e)=="symbol"?e:e+""}function mee(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iu=function(t){function e(){return lee(this,e),uee(this,e,arguments)}return hee(e,t),cee(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=see(n,eee),m=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&rs(!1);var p=l.map(function(g){var v=u(g,o),x=v.x,y=v.y,b=v.value,S=v.errorVal;if(!S)return null;var w=[],_,E;if(Array.isArray(S)){var j=tee(S,2);_=j[0],E=j[1]}else _=E=S;if(i==="vertical"){var T=d.scale,O=y+a,P=O+s,D=O-s,k=T(b-_),$=T(b+E);w.push({x1:$,y1:P,x2:$,y2:D}),w.push({x1:k,y1:O,x2:$,y2:O}),w.push({x1:k,y1:P,x2:k,y2:D})}else if(i==="horizontal"){var H=f.scale,V=x+a,M=V-s,I=V+s,B=H(b-_),F=H(b+E);w.push({x1:M,y1:F,x2:I,y2:F}),w.push({x1:V,y1:B,x2:V,y2:F}),w.push({x1:M,y1:B,x2:I,y2:B})}return W.createElement(_t,lh({className:"recharts-errorBar",key:"bar-".concat(w.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},m),w.map(function(z){return W.createElement("line",lh({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return W.createElement(_t,{className:"recharts-errorBars"},p)}}])}(W.Component);m2(Iu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});m2(Iu,"displayName","ErrorBar");function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){pee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pee(t,e,r){return e=gee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gee(t){var e=vee(t,"string");return Qc(e)=="symbol"?e:e+""}function vee(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g2=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=Ar(r,Ya);if(!s)return null;var o=Ya.defaultProps,l=o!==void 0?bi(bi({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?bi(bi({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:p,type:l.iconType||v||"square",color:tw(f),value:g||p,payload:m}}),bi(bi(bi({},l),Ya.getWithHeight(s,a)),{},{payload:u,item:s})};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function tj(t){return wee(t)||bee(t)||xee(t)||yee()}function yee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xee(t,e){if(t){if(typeof t=="string")return Qy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qy(t,e)}}function bee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wee(t){if(Array.isArray(t))return Qy(t)}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(r),!0).forEach(function(n){ao(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ao(t,e,r){return e=See(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=_ee(t,"string");return Xc(e)=="symbol"?e:e+""}function _ee(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mr(t,e,r){return Oe(t)||Oe(e)?r:Pt(e)?Yr(t,e,r):Ce(e)?e(t):r}function lc(t,e,r,n){var a=wJ(t,function(o){return Mr(o,e)});if(r==="number"){var i=a.filter(function(o){return ie(o)||parseFloat(o)});return i.length?[Zm(i),Xm(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Oe(o)}):a;return s.map(function(o){return Pt(o)||o instanceof Date?o:""})}var Eee=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<o;u++){var d=u>0?a[u-1].coordinate:a[o-1].coordinate,f=a[u].coordinate,h=u>=o-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(pn(f-d)!==pn(h-f)){var p=[];if(pn(h-f)===pn(l[1]-l[0])){m=h;var g=f+l[1]-l[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){s=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(e>(y+f)/2&&e<=(b+f)/2){s=a[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},tw=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},jee=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,u=o.length;l<u;l++)for(var d=i[o[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,x=g.filter(function(E){return Jn(E.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?bt(bt({},y),x[0].props):x[0].props,S=b.barSize,w=b[v];s[w]||(s[w]=[]);var _=Oe(S)?r:S;s[w].push({item:x[0],stackList:x.slice(1),barSize:Oe(_)?void 0:es(_,n,0)})}}return s},Aee=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=es(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=a/l,p=s.reduce(function(S,w){return S+w.barSize||0},0);p+=(l-1)*u,p>=a&&(p-=(l-1)*u,u=0),p>=a&&m>0&&(h=!0,m*=.9,p=l*m);var g=(a-p)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(S,w){var _={item:w.item,position:{offset:v.offset+v.size+u,size:h?m:w.barSize}},E=[].concat(tj(S),[_]);return v=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:v})}),E},f)}else{var x=es(n,a,0,!0);a-2*x-(l-1)*u<=0&&(u=0);var y=(a-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(S,w,_){var E=[].concat(tj(S),[{item:w.item,position:{offset:x+(y+u)*_+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},f)}return d},Tee=function(e,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=g2({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&ie(e[m]))return bt(bt({},e),{},ao({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&ie(e[p]))return bt(bt({},e),{},ao({},p,e[p]+(h||0)))}return e},Nee=function(e,r,n){return Oe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},v2=function(e,r,n,a,i){var s=r.props.children,o=Kr(s,Iu).filter(function(u){return Nee(a,i,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Mr(d,n);if(Oe(f))return u;var h=Array.isArray(f)?[Zm(f),Xm(f)]:[f,f],m=l.reduce(function(p,g){var v=Mr(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Cee=function(e,r,n,a,i){var s=r.map(function(o){return v2(e,o,n,i,a)}).filter(function(o){return!Oe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},y2=function(e,r,n,a,i){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&v2(e,l,u,a)||lc(e,u,n,i)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},x2=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},b2=function(e,r,n,a){if(a)return e.map(function(l){return l.coordinate});var i,s,o=e.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Qn=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?pn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Cu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},jg=new WeakMap,wd=function(e,r){if(typeof r!="function")return e;jg.has(e)||jg.set(e,new WeakMap);var n=jg.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},kee=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,o=e.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:zc(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:nh(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:oc(),realScaleType:"point"}:i==="category"?{scale:zc(),realScaleType:"band"}:{scale:nh(),realScaleType:"linear"};if(Ji(a)){var l="scale".concat(Lm(a));return{scale:(YE[l]||oc)(),realScaleType:YE[l]?l:"point"}}return Ce(a)?{scale:a}:{scale:oc(),realScaleType:"point"}},nj=1e-4,Oee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-nj,s=Math.max(a[0],a[1])+nj,o=e(r[0]),l=e(r[n-1]);(o<i||o>s||l<i||l>s)&&e.domain([r[0],r[n-1]])}},Dee=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},Pee=function(e,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!ie(e[0])||e[0]<n)&&(i[0]=n),(!ie(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Mee=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Cu(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},Ree=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Cu(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Iee={sign:Mee,expand:eW,none:yo,silhouette:tW,wiggle:rW,positive:Ree},$ee=function(e,r,n){var a=r.map(function(o){return o.props.dataKey}),i=Iee[n],s=Jz().keys(a).value(function(o,l){return+Mr(o,l,0)}).order(by).offset(i);return s(e)},Lee=function(e,r,n,a,i,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var x=p[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Pt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[ku("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return bt(bt({},f),{},ao({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return bt(bt({},g),{},ao({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:$ee(e,x.items,i)}))},p)}return bt(bt({},f),{},ao({},h,m))},d)},Fee=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=XJ(u,i,o);return e.domain([Zm(d),Xm(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),h=ZJ(f,i,o);return{niceTicks:h}}return null};function aj(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(a[e.dataKey])){var o=Mf(r,"value",a[e.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Mr(a,Oe(s)?e.dataKey:s);return Oe(l)?null:e.scale(l)}var ij=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Mr(s,r.dataKey,r.domain[o]);return Oe(l)?null:r.scale(l)-i/2+a},Uee=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Bee=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Pt(i)){var s=r[i];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Hee=function(e){return e.reduce(function(r,n){return[Zm(n.concat([r[0]]).filter(ie)),Xm(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},w2=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],o=s.stackedData,l=o.reduce(function(u,d){var f=Hee(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},sj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xy=function(e,r,n){if(Ce(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ie(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(sj.test(e[0])){var i=+sj.exec(e[0])[1];a[0]=r[0]-i}else Ce(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ie(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(oj.test(e[1])){var s=+oj.exec(e[1])[1];a[1]=r[1]+s}else Ce(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},uh=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Cb(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},lj=function(e,r,n){return!e||!e.length||Jm(e,Yr(n,"type.defaultProps.domain"))?r:e},S2=function(e,r){var n=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return bt(bt({},Re(e,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:tw(e),value:Mr(r,a),type:l,payload:r,chartType:u,hide:d})};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(r),!0).forEach(function(n){zee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zee(t,e,r){return e=Wee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wee(t){var e=Vee(t,"string");return Zc(e)=="symbol"?e:e+""}function Vee(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dh=Math.PI/180,Gee=function(e){return e*180/Math.PI},Vt=function(e,r,n,a){return{x:e+Math.cos(-dh*a)*n,y:r+Math.sin(-dh*a)*n}},qee=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Yee=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,o=qee({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,u=Math.acos(l);return a>s&&(u=2*Math.PI-u),{radius:o,angle:Gee(u),angleInRadian:u}},Kee=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Qee=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},dj=function(e,r){var n=e.x,a=e.y,i=Yee({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=Kee(r),f=d.startAngle,h=d.endAngle,m=o,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?uj(uj({},r),{},{radius:s,angle:Qee(m,r)}):null};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var Xee=["offset"];function Zee(t){return rte(t)||tte(t)||ete(t)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(t,e){if(t){if(typeof t=="string")return Zy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zy(t,e)}}function tte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rte(t){if(Array.isArray(t))return Zy(t)}function Zy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nte(t,e){if(t==null)return{};var r=ate(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ate(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(r),!0).forEach(function(n){ite(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ite(t,e,r){return e=ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ste(t){var e=ote(t,"string");return Jc(e)=="symbol"?e:e+""}function ote(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}var lte=function(e){var r=e.value,n=e.formatter,a=Oe(e.children)?r:e.children;return Ce(n)?n(a):a},cte=function(e,r){var n=pn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},ute=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,o=e.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,p=l.endAngle,g=l.clockWise,v=(f+h)/2,x=cte(m,p),y=x>=0?1:-1,b,S;a==="insideStart"?(b=m+y*s,S=g):a==="insideEnd"?(b=p-y*s,S=!g):a==="end"&&(b=p+y*s,S=g),S=x<=0?S:!S;var w=Vt(u,d,v,b),_=Vt(u,d,v,b+(S?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),j=Oe(e.id)?ku("recharts-radial-line-"):e.id;return W.createElement("text",eu({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",o)}),W.createElement("defs",null,W.createElement("path",{id:j,d:E})),W.createElement("textPath",{xlinkHref:"#".concat(j)},r))},dte=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Vt(s,o,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Vt(s,o,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},fte=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*a,x=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var b={x:o+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:m};return kt(kt({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:p};return kt(kt({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var w={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return kt(kt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var _={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return kt(kt({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return i==="insideLeft"?kt({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},E):i==="insideRight"?kt({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},E):i==="insideTop"?kt({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:p},E):i==="insideBottom"?kt({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},E):i==="insideTopLeft"?kt({x:o+v,y:l+h,textAnchor:y,verticalAnchor:p},E):i==="insideTopRight"?kt({x:o+u-v,y:l+h,textAnchor:x,verticalAnchor:p},E):i==="insideBottomLeft"?kt({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:m},E):i==="insideBottomRight"?kt({x:o+u-v,y:l+d-h,textAnchor:x,verticalAnchor:m},E):el(i)&&(ie(i.x)||$i(i.x))&&(ie(i.y)||$i(i.y))?kt({x:o+es(i.x,u),y:l+es(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):kt({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},hte=function(e){return"cx"in e&&ie(e.cx)};function er(t){var e=t.offset,r=e===void 0?5:e,n=nte(t,Xee),a=kt({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Oe(o)&&Oe(l)&&!N.isValidElement(u)&&!Ce(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var m;if(Ce(u)){if(m=N.createElement(u,a),N.isValidElement(m))return m}else m=lte(a);var p=hte(i),g=Re(a,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ute(a,m,g);var v=p?dte(a):fte(a);return W.createElement(Qf,eu({className:$e("recharts-label",f)},g,v,{breakAll:h}),m)}er.displayName="Label";var _2=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,p=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ie(g)&&ie(v)){if(ie(f)&&ie(h))return{x:f,y:h,width:g,height:v};if(ie(m)&&ie(p))return{x:m,y:p,width:g,height:v}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},mte=function(e,r){return e?e===!0?W.createElement(er,{key:"label-implicit",viewBox:r}):Pt(e)?W.createElement(er,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===er?N.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(er,{key:"label-implicit",content:e,viewBox:r}):Ce(e)?W.createElement(er,{key:"label-implicit",content:e,viewBox:r}):el(e)?W.createElement(er,eu({viewBox:r},e,{key:"label-implicit"})):null:null},pte=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=_2(e),s=Kr(a,er).map(function(l,u){return N.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=mte(e.label,r||i);return[o].concat(Zee(s))};er.parseViewBox=_2;er.renderCallByParent=pte;function gte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var vte=gte;const yte=Je(vte);function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}var xte=["valueAccessor"],bte=["data","dataKey","clockWise","id","textBreakAll"];function wte(t){return jte(t)||Ete(t)||_te(t)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(t,e){if(t){if(typeof t=="string")return Jy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(t,e)}}function Ete(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jte(t){if(Array.isArray(t))return Jy(t)}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){Ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ate(t,e,r){return e=Tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tte(t){var e=Nte(t,"string");return tu(e)=="symbol"?e:e+""}function Nte(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pj(t,e){if(t==null)return{};var r=Cte(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kte=function(e){return Array.isArray(e.value)?yte(e.value):e.value};function Qa(t){var e=t.valueAccessor,r=e===void 0?kte:e,n=pj(t,xte),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=pj(n,bte);return!a||!a.length?null:W.createElement(_t,{className:"recharts-label-list"},a.map(function(d,f){var h=Oe(i)?r(d,f):Mr(d&&d.payload,i),m=Oe(o)?{}:{id:"".concat(o,"-").concat(f)};return W.createElement(er,fh({},Re(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:er.parseViewBox(Oe(s)?d:mj(mj({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Qa.displayName="LabelList";function Ote(t,e){return t?t===!0?W.createElement(Qa,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Ce(t)?W.createElement(Qa,{key:"labelList-implicit",data:e,content:t}):el(t)?W.createElement(Qa,fh({data:e},t,{key:"labelList-implicit"})):null:null}function Dte(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Kr(n,Qa).map(function(s,o){return N.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return a;var i=Ote(t.label,e);return[i].concat(wte(a))}Qa.renderCallByParent=Dte;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){Pte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pte(t,e,r){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mte(t){var e=Rte(t,"string");return ru(e)=="symbol"?e:e+""}function Rte(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ite=function(e,r){var n=pn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Sd=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+a,f=Math.asin(l/d)/dh,h=u?i:i+s*f,m=Vt(r,n,d,h),p=Vt(r,n,a,h),g=u?i-s*f:i,v=Vt(r,n,d*Math.cos(f*dh),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},E2=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Ite(s,o),u=s+l,d=Vt(r,n,i,s),f=Vt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Vt(r,n,a,s),p=Vt(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},$te=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=pn(d-u),h=Sd({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=Sd({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(S<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):E2({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var _=Sd({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=_.circleTangency,j=_.lineTangency,T=_.theta,O=Sd({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=O.circleTangency,D=O.lineTangency,k=O.theta,$=l?Math.abs(u-d):Math.abs(u-d)-T-k;if($<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Lte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j2=function(e){var r=vj(vj({},Lte),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var m=$e("recharts-sector",h),p=s-i,g=es(o,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=$te({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=E2({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),W.createElement("path",e0({},Re(r,!0),{className:m,d:v,role:"img"}))};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(r),!0).forEach(function(n){Fte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fte(t,e,r){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ute(t){var e=Bte(t,"string");return nu(e)=="symbol"?e:e+""}function Bte(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bj={curveBasisClosed:Hz,curveBasisOpen:zz,curveBasis:Bz,curveBumpX:Tz,curveBumpY:Nz,curveLinearClosed:Wz,curveLinear:Um,curveMonotoneX:Vz,curveMonotoneY:Gz,curveNatural:qz,curveStep:Yz,curveStepAfter:Qz,curveStepBefore:Kz},_d=function(e){return e.x===+e.x&&e.y===+e.y},Dl=function(e){return e.x},Pl=function(e){return e.y},Hte=function(e,r){if(Ce(e))return e;var n="curve".concat(Lm(e));return(n==="curveMonotone"||n==="curveBump")&&r?bj["".concat(n).concat(r==="vertical"?"Y":"X")]:bj[n]||Um},zte=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=Hte(n,o),f=u?i.filter(function(g){return _d(g)}):i,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return _d(g)}):s,p=f.map(function(g,v){return xj(xj({},g),{},{base:m[v]})});return o==="vertical"?h=hd().y(Pl).x1(Dl).x0(function(g){return g.base.x}):h=hd().x(Dl).y1(Pl).y0(function(g){return g.base.y}),h.defined(_d).curve(d),h(p)}return o==="vertical"&&ie(s)?h=hd().y(Pl).x1(Dl).x0(s):ie(s)?h=hd().x(Dl).y1(Pl).y0(s):h=jO().x(Dl).y(Pl),h.defined(_d).curve(d),h(f)},r0=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?zte(e):a;return N.createElement("path",t0({},Re(e,!1),Rf(e),{className:$e("recharts-curve",r),d:s,ref:i}))},A2={exports:{}},Wte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vte=Wte,Gte=Vte;function T2(){}function N2(){}N2.resetWarningCache=T2;var qte=function(){function t(n,a,i,s,o,l){if(l!==Gte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:N2,resetWarningCache:T2};return r.PropTypes=r,r};A2.exports=qte();var Yte=A2.exports;const Be=Je(Yte);var Kte=Object.getOwnPropertyNames,Qte=Object.getOwnPropertySymbols,Xte=Object.prototype.hasOwnProperty;function wj(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Ed(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=t(r,n,a);return i.delete(r),i.delete(n),l}}function Sj(t){return Kte(t).concat(Qte(t))}var Zte=Object.hasOwn||function(t,e){return Xte.call(t,e)};function vs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Jte="__v",ere="__o",tre="_owner",_j=Object.getOwnPropertyDescriptor,Ej=Object.keys;function rre(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function nre(t,e){return vs(t.getTime(),e.getTime())}function are(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ire(t,e){return t===e}function jj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,m=o.value;if(r.equals(h[0],m[0],l,f,t,e,r)&&r.equals(h[1],m[1],h[0],m[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var sre=vs;function ore(t,e,r){var n=Ej(t),a=n.length;if(Ej(e).length!==a)return!1;for(;a-- >0;)if(!C2(t,e,r,n[a]))return!1;return!0}function Ml(t,e,r){var n=Sj(t),a=n.length;if(Sj(e).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!C2(t,e,r,i)||(s=_j(t,i),o=_j(e,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function lre(t,e){return vs(t.valueOf(),e.valueOf())}function cre(t,e){return t.source===e.source&&t.flags===e.flags}function Aj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,o;(s=i.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!a[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function ure(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function dre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function C2(t,e,r,n){return(n===tre||n===ere||n===Jte)&&(t.$$typeof||e.$$typeof)?!0:Zte(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var fre="[object Arguments]",hre="[object Boolean]",mre="[object Date]",pre="[object Error]",gre="[object Map]",vre="[object Number]",yre="[object Object]",xre="[object RegExp]",bre="[object Set]",wre="[object String]",Sre="[object URL]",_re=Array.isArray,Tj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Nj=Object.assign,Ere=Object.prototype.toString.call.bind(Object.prototype.toString);function jre(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var x=typeof p;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(p,g,v):x==="function"?a(p,g,v):!1;var y=p.constructor;if(y!==g.constructor)return!1;if(y===Object)return o(p,g,v);if(_re(p))return e(p,g,v);if(Tj!=null&&Tj(p))return f(p,g,v);if(y===Date)return r(p,g,v);if(y===RegExp)return u(p,g,v);if(y===Map)return i(p,g,v);if(y===Set)return d(p,g,v);var b=Ere(p);return b===mre?r(p,g,v):b===xre?u(p,g,v):b===gre?i(p,g,v):b===bre?d(p,g,v):b===yre?typeof p.then!="function"&&typeof g.then!="function"&&o(p,g,v):b===Sre?h(p,g,v):b===pre?n(p,g,v):b===fre?o(p,g,v):b===hre||b===vre||b===wre?l(p,g,v):!1}}function Are(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Ml:rre,areDatesEqual:nre,areErrorsEqual:are,areFunctionsEqual:ire,areMapsEqual:n?wj(jj,Ml):jj,areNumbersEqual:sre,areObjectsEqual:n?Ml:ore,arePrimitiveWrappersEqual:lre,areRegExpsEqual:cre,areSetsEqual:n?wj(Aj,Ml):Aj,areTypedArraysEqual:n?Ml:ure,areUrlsEqual:dre};if(r&&(a=Nj({},a,r(a))),e){var i=Ed(a.areArraysEqual),s=Ed(a.areMapsEqual),o=Ed(a.areObjectsEqual),l=Ed(a.areSetsEqual);a=Nj({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function Tre(t){return function(e,r,n,a,i,s,o){return t(e,r,o)}}function Nre(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return r(l,u,{cache:h,equals:a,meta:m,strict:i})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,s)}}var Cre=gi();gi({strict:!0});gi({circular:!0});gi({circular:!0,strict:!0});gi({createInternalComparator:function(){return vs}});gi({strict:!0,createInternalComparator:function(){return vs}});gi({circular:!0,createInternalComparator:function(){return vs}});gi({circular:!0,createInternalComparator:function(){return vs},strict:!0});function gi(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,o=Are(t),l=jre(o),u=n?n(l):Tre(l);return Nre({circular:r,comparator:l,createState:a,equals:u,strict:s})}function kre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Cj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):kre(a)};requestAnimationFrame(n)}function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function Ore(t){return Rre(t)||Mre(t)||Pre(t)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pre(t,e){if(t){if(typeof t=="string")return kj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kj(t,e)}}function kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rre(t){if(Array.isArray(t))return t}function Ire(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=Ore(s),l=o[0],u=o.slice(1);if(typeof l=="number"){Cj(a.bind(null,u),l);return}a(l),Cj(a.bind(null,u));return}n0(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(r),!0).forEach(function(n){k2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k2(t,e,r){return e=$re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $re(t){var e=Lre(t,"string");return au(e)==="symbol"?e:String(e)}function Lre(t,e){if(au(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fre=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Ure=function(e){return e},Bre=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cc=function(e,r){return Object.keys(r).reduce(function(n,a){return Dj(Dj({},n),{},k2({},a,e(a,r[a])))},{})},Pj=function(e,r,n){return e.map(function(a){return"".concat(Bre(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Hre(t,e){return Vre(t)||Wre(t,e)||O2(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Vre(t){if(Array.isArray(t))return t}function Gre(t){return Kre(t)||Yre(t)||O2(t)||qre()}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2(t,e){if(t){if(typeof t=="string")return a0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a0(t,e)}}function Yre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kre(t){if(Array.isArray(t))return a0(t)}function a0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hh=1e-4,D2=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},P2=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Mj=function(e,r){return function(n){var a=D2(e,r);return P2(a,n)}},Qre=function(e,r){return function(n){var a=D2(e,r),i=[].concat(Gre(a.map(function(s,o){return s*o}).slice(1)),[0]);return P2(i,n)}},Rj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Hre(u,4);a=d[0],i=d[1],s=d[2],o=d[3]}}}var f=Mj(a,s),h=Mj(i,o),m=Qre(a,s),p=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,S=0;S<8;++S){var w=f(b)-y,_=m(b);if(Math.abs(w-y)<hh||_<hh)return h(b);b=p(b-w/_)}return h(b)};return g.isStepper=!1,g},Xre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*n,p=h*i,g=h+(m-p)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<hh&&Math.abs(g)<hh?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},Zre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Rj(a);case"spring":return Xre();default:if(a.split("(")[0]==="cubic-bezier")return Rj(a)}return typeof a=="function"?a:null};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Ij(t){return tne(t)||ene(t)||M2(t)||Jre()}function Jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tne(t){if(Array.isArray(t))return s0(t)}function $j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(r),!0).forEach(function(n){i0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i0(t,e,r){return e=rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rne(t){var e=nne(t,"string");return iu(e)==="symbol"?e:String(e)}function nne(t,e){if(iu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ane(t,e){return one(t)||sne(t,e)||M2(t,e)||ine()}function ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2(t,e){if(t){if(typeof t=="string")return s0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s0(t,e)}}function s0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function one(t){if(Array.isArray(t))return t}var mh=function(e,r,n){return e+(r-e)*n},o0=function(e){var r=e.from,n=e.to;return r!==n},lne=function t(e,r,n){var a=cc(function(i,s){if(o0(s)){var o=e(s.from,s.to,s.velocity),l=ane(o,2),u=l[0],d=l[1];return Ht(Ht({},s),{},{from:u,velocity:d})}return s},r);return n<1?cc(function(i,s){return o0(s)?Ht(Ht({},s),{},{velocity:mh(s.velocity,a[i].velocity,n),from:mh(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const cne=function(t,e,r,n,a){var i=Fre(t,e),s=i.reduce(function(v,x){return Ht(Ht({},v),{},i0({},x,[t[x],e[x]]))},{}),o=i.reduce(function(v,x){return Ht(Ht({},v),{},i0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return cc(function(x,y){return y.from},o)},m=function(){return!Object.values(o).filter(o0).length},p=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=lne(r,o,b),a(Ht(Ht(Ht({},t),e),h())),u=x,m()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,b=cc(function(w,_){return mh.apply(void 0,Ij(_).concat([r(y)]))},s);if(a(Ht(Ht(Ht({},t),e),b)),y<1)l=requestAnimationFrame(f);else{var S=cc(function(w,_){return mh.apply(void 0,Ij(_).concat([r(1)]))},s);a(Ht(Ht(Ht({},t),e),S))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}var une=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dne(t,e){if(t==null)return{};var r=fne(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fne(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Ag(t){return gne(t)||pne(t)||mne(t)||hne()}function hne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mne(t,e){if(t){if(typeof t=="string")return l0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(t,e)}}function pne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gne(t){if(Array.isArray(t))return l0(t)}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(r),!0).forEach(function(n){Vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vl(t,e,r){return e=R2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R2(n.key),n)}}function yne(t,e,r){return e&&Fj(t.prototype,e),r&&Fj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R2(t){var e=xne(t,"string");return To(e)==="symbol"?e:String(e)}function xne(t,e){if(To(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(To(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c0(t,e)}function c0(t,e){return c0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c0(t,e)}function wne(t){var e=Sne();return function(){var n=ph(t),a;if(e){var i=ph(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return u0(this,a)}}function u0(t,e){if(e&&(To(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d0(t)}function d0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(t)}var rp=function(t){bne(r,t);var e=wne(r);function r(n,a){var i;vne(this,r),i=e.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(d0(i)),i.changeStyle=i.changeStyle.bind(d0(i)),!o||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),u0(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},u0(i);i.state={style:l?Vl({},l,u):u}}else i.state={style:{}};return i}return yne(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(o){if(!s){var m={style:l?Vl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(Cre(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:a.to;if(this.state&&h){var v={style:l?Vl({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(an(an({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=cne(s,o,Zre(u),l,this.changeStyle),p=function(){i.stopJSAnimation=m()};this.manager.start([h,d,p,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,S=b===void 0?"ease":b,w=v.style,_=v.properties,E=v.onAnimationEnd,j=x>0?s[x-1]:v,T=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Ag(g),[i.runJSAnimation.bind(i,{from:j.style,to:w,duration:y,easing:S}),y]);var O=Pj(T,y,S),P=an(an(an({},j.style),w),{},{transition:O});return[].concat(Ag(g),[P,y,E]).filter(Ure)};return this.manager.start([l].concat(Ag(s.reduce(m,[d,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Ire());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=o?Vl({},o,l):l,v=Pj(Object.keys(g),s,u);p.start([d,i,an(an({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=dne(a,une),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!o||u===0||s<=0)return i;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,x=p.className,y=N.cloneElement(m,an(an({},l),{},{style:an(an({},v),d),className:x}));return y};return u===1?f(N.Children.only(i)):W.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),r}(N.PureComponent);rp.displayName="Animate";rp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};rp.propTypes={from:Be.oneOfType([Be.object,Be.string]),to:Be.oneOfType([Be.object,Be.string]),attributeName:Be.string,duration:Be.number,begin:Be.number,easing:Be.oneOfType([Be.string,Be.func]),steps:Be.arrayOf(Be.shape({duration:Be.number.isRequired,style:Be.object.isRequired,easing:Be.oneOfType([Be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Be.func]),properties:Be.arrayOf("string"),onAnimationEnd:Be.func})),children:Be.oneOfType([Be.node,Be.func]),isActive:Be.bool,canBegin:Be.bool,onAnimationEnd:Be.func,shouldReAnimate:Be.bool,onAnimationStart:Be.func,onAnimationReStart:Be.func};const No=rp;function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gh.apply(this,arguments)}function _ne(t,e){return Tne(t)||Ane(t,e)||jne(t,e)||Ene()}function Ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t,e){if(t){if(typeof t=="string")return Uj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(t,e)}}function Uj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ane(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Tne(t){if(Array.isArray(t))return t}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){Nne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nne(t,e,r){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cne(t){var e=kne(t,"string");return su(e)=="symbol"?e:e+""}function kne(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zj=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>s?s:i[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+a-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+a)),d+="L ".concat(e+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var p=Math.min(s,i);d="M ".concat(e,",").concat(r+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(r,`
            L `).concat(e+n-l*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*p,`
            L `).concat(e+n,",").concat(r+a-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-l*p,",").concat(r+a,`
            L `).concat(e+l*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+a-o*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},One=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(i,i+o),d=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Dne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rw=function(e){var r=Hj(Hj({},Dne),e),n=N.useRef(),a=N.useState(-1),i=_ne(a,2),s=i[0],o=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=$e("recharts-rectangle",m);return y?W.createElement(No,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:p,isActive:y},function(S){var w=S.width,_=S.height,E=S.x,j=S.y;return W.createElement(No,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:p},W.createElement("path",gh({},Re(r,!0),{className:b,d:zj(E,j,w,_,h),ref:n})))}):W.createElement("path",gh({},Re(r,!0),{className:b,d:zj(l,u,d,f,h)}))};function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f0.apply(this,arguments)}var nw=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=$e("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",f0({},Re(e,!1),Rf(e),{className:s,cx:r,cy:n,r:a})):null};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}var Pne=["x","y","top","left","width","height","className"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h0.apply(this,arguments)}function Wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(r),!0).forEach(function(n){Rne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rne(t,e,r){return e=Ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ine(t){var e=$ne(t,"string");return ou(e)=="symbol"?e:e+""}function $ne(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lne(t,e){if(t==null)return{};var r=Fne(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Une=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Bne=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,p=e.className,g=Lne(e,Pne),v=Mne({x:n,y:i,top:o,left:u,width:f,height:m},g);return!ie(n)||!ie(i)||!ie(f)||!ie(m)||!ie(o)||!ie(u)?null:W.createElement("path",h0({},Re(v,!0),{className:$e("recharts-cross",p),d:Une(n,i,f,m,o,u)}))},Hne=KO,zne=Hne(Object.getPrototypeOf,Object),Wne=zne,Vne=ha,Gne=Wne,qne=ma,Yne="[object Object]",Kne=Function.prototype,Qne=Object.prototype,I2=Kne.toString,Xne=Qne.hasOwnProperty,Zne=I2.call(Object);function Jne(t){if(!qne(t)||Vne(t)!=Yne)return!1;var e=Gne(t);if(e===null)return!0;var r=Xne.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&I2.call(r)==Zne}var eae=Jne;const tae=Je(eae);var rae=ha,nae=ma,aae="[object Boolean]";function iae(t){return t===!0||t===!1||nae(t)&&rae(t)==aae}var sae=iae;const oae=Je(sae);function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vh.apply(this,arguments)}function lae(t,e){return fae(t)||dae(t,e)||uae(t,e)||cae()}function cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uae(t,e){if(t){if(typeof t=="string")return Vj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vj(t,e)}}function Vj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function fae(t){if(Array.isArray(t))return t}function Gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(r),!0).forEach(function(n){hae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hae(t,e,r){return e=mae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mae(t){var e=pae(t,"string");return lu(e)=="symbol"?e:e+""}function pae(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yj=function(e,r,n,a,i){var s=n-a,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+i),o+="L ".concat(e+n-s/2-a,",").concat(r+i),o+="L ".concat(e,",").concat(r," Z"),o},gae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vae=function(e){var r=qj(qj({},gae),e),n=N.useRef(),a=N.useState(-1),i=lae(a,2),s=i[0],o=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=$e("recharts-trapezoid",m);return x?W.createElement(No,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:p,isActive:x},function(b){var S=b.upperWidth,w=b.lowerWidth,_=b.height,E=b.x,j=b.y;return W.createElement(No,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},W.createElement("path",vh({},Re(r,!0),{className:y,d:Yj(E,j,S,w,_),ref:n})))}):W.createElement("g",null,W.createElement("path",vh({},Re(r,!0),{className:y,d:Yj(l,u,d,f,h)})))},yae=["option","shapeType","propTransformer","activeClassName","isActive"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function xae(t,e){if(t==null)return{};var r=bae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e,r){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sae(t){var e=_ae(t,"string");return cu(e)=="symbol"?e:e+""}function _ae(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eae(t,e){return yh(yh({},e),t)}function jae(t,e){return t==="symbols"}function Qj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(rw,r);case"trapezoid":return W.createElement(vae,r);case"sector":return W.createElement(j2,r);case"symbols":if(jae(e))return W.createElement(wb,r);break;default:return null}}function Aae(t){return N.isValidElement(t)?t.props:t}function Tae(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?Eae:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,o=t.isActive,l=xae(t,yae),u;if(N.isValidElement(e))u=N.cloneElement(e,yh(yh({},l),Aae(e)));else if(Ce(e))u=e(l);else if(tae(e)&&!oae(e)){var d=a(e,l);u=W.createElement(Qj,{shapeType:r,elementProps:d})}else{var f=l;u=W.createElement(Qj,{shapeType:r,elementProps:f})}return o?W.createElement(_t,{className:s},u):u}function np(t,e){return e!=null&&"trapezoids"in t.props}function ap(t,e){return e!=null&&"sectors"in t.props}function uu(t,e){return e!=null&&"points"in t.props}function Nae(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function Cae(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function kae(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Oae(t,e){var r;return np(t,e)?r=Nae:ap(t,e)?r=Cae:uu(t,e)&&(r=kae),r}function Dae(t,e){var r;return np(t,e)?r="trapezoids":ap(t,e)?r="sectors":uu(t,e)&&(r="points"),r}function Pae(t,e){if(np(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ap(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return uu(t,e)?e.payload:{}}function Mae(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Dae(r,e),i=Pae(r,e),s=n.filter(function(l,u){var d=Jm(i,l),f=r.props[a].filter(function(p){var g=Oae(r,e);return g(p,e)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),o=n.indexOf(s[s.length-1]);return o}var Rae=Math.ceil,Iae=Math.max;function $ae(t,e,r,n){for(var a=-1,i=Iae(Rae((e-t)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=t,t+=r;return s}var Lae=$ae,Fae=mD,Xj=1/0,Uae=17976931348623157e292;function Bae(t){if(!t)return t===0?t:0;if(t=Fae(t),t===Xj||t===-Xj){var e=t<0?-1:1;return e*Uae}return t===t?t:0}var $2=Bae,Hae=Lae,zae=Wm,Tg=$2;function Wae(t){return function(e,r,n){return n&&typeof n!="number"&&zae(e,r,n)&&(r=n=void 0),e=Tg(e),r===void 0?(r=e,e=0):r=Tg(r),n=n===void 0?e<r?1:-1:Tg(n),Hae(e,r,n,t)}}var Vae=Wae,Gae=Vae,qae=Gae(),Yae=qae;const xh=Je(Yae);function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Jj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(r),!0).forEach(function(n){L2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L2(t,e,r){return e=Kae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kae(t){var e=Qae(t,"string");return du(e)=="symbol"?e:e+""}function Qae(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xae=["Webkit","Moz","O","ms"],Zae=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Xae.reduce(function(i,s){return Jj(Jj({},i),{},L2({},s+n,r))},{});return a[e]=r,a};function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bh.apply(this,arguments)}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ng(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){Er(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U2(n.key),n)}}function eie(t,e,r){return e&&tA(t.prototype,e),r&&tA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tie(t,e,r){return e=wh(e),rie(t,F2()?Reflect.construct(e,r||[],wh(t).constructor):e.apply(t,r))}function rie(t,e){if(e&&(Co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(t)}function nie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F2=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(t)}function aie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m0(t,e)}function m0(t,e){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m0(t,e)}function Er(t,e,r){return e=U2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U2(t){var e=iie(t,"string");return Co(e)=="symbol"?e:e+""}function iie(t,e){if(Co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sie=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=oc().domain(xh(0,l)).range([i,i+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},rA=function(e){return e.changedTouches&&!!e.changedTouches.length},ko=function(t){function e(r){var n;return Jae(this,e),n=tie(this,e,[r]),Er(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Er(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Er(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Er(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Er(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Er(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Er(n,"handleSlideDragStart",function(a){var i=rA(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return aie(e,t),eie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=e.getIndexInRange(s,f),p=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:p===d?d:p-p%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Mr(i[n],o,n);return Ce(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,p=l.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=rA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),x[s]=u+y;var b=this.getIndex(x),S=b.startIndex,w=b.endIndex,_=function(){var j=v.length-1;return s==="startX"&&(o>l?S%g===0:w%g===0)||o<l&&w===j||s==="endX"&&(o>l?w%g===0:S%g===0)||o>l&&w===j};this.setState(Er(Er({},s,u+y),"brushMoveStartX",n.pageX),function(){p&&_()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[a],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var m=o[h];a==="startX"&&m>=u||a==="endX"&&m<=l||this.setState(Er({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return W.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?W.cloneElement(f,{x:a,y:i,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,p=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=Ng(Ng({},Re(this.props,!1)),{},{x,y:u,width:d,height:f}),b=m||"Min value: ".concat((i=p[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=p[v])===null||s===void 0?void 0:s.name);return W.createElement(_t,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return W.createElement(_t,{className:"recharts-brush-texts"},W.createElement(Qf,bh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+o/2},p),this.getTextOfTick(a)),W.createElement(Qf,bh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+o/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!ie(o)||!ie(l)||!ie(u)||!ie(d)||u<=0||d<=0)return null;var b=$e("recharts-brush",i),S=W.Children.count(s)===1,w=Zae("userSelect","none");return W.createElement(_t,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(i+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),W.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return W.isValidElement(n)?i=W.cloneElement(n,a):Ce(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Ng({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?sie({data:i,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(N.PureComponent);Er(ko,"displayName","Brush");Er(ko,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oie=Nb;function lie(t,e){var r;return oie(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var cie=lie,uie=BO,die=hi,fie=cie,hie=Sr,mie=Wm;function pie(t,e,r){var n=hie(t)?uie:fie;return r&&mie(t,e,r)&&(e=void 0),n(t,die(e))}var gie=pie;const vie=Je(gie);var Mn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},nA=cD;function yie(t,e,r){e=="__proto__"&&nA?nA(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var xie=yie,bie=xie,wie=oD,Sie=hi;function _ie(t,e){var r={};return e=Sie(e),wie(t,function(n,a,i){bie(r,a,e(n,a,i))}),r}var Eie=_ie;const jie=Je(Eie);function Aie(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Tie=Aie,Nie=Nb;function Cie(t,e){var r=!0;return Nie(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var kie=Cie,Oie=Tie,Die=kie,Pie=hi,Mie=Sr,Rie=Wm;function Iie(t,e,r){var n=Mie(t)?Oie:Die;return r&&Rie(t,e,r)&&(e=void 0),n(t,Pie(e))}var $ie=Iie;const B2=Je($ie);var Lie=["x","y"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}function aA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(r),!0).forEach(function(n){Fie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fie(t,e,r){return e=Uie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uie(t){var e=Bie(t,"string");return fu(e)=="symbol"?e:e+""}function Bie(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hie(t,e){if(t==null)return{};var r=zie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wie(t,e){var r=t.x,n=t.y,a=Hie(t,Lie),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),h=parseInt(f,10);return Rl(Rl(Rl(Rl(Rl({},e),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function iA(t){return W.createElement(Tae,p0({shapeType:"rectangle",propTransformer:Wie,activeClassName:"recharts-active-bar"},t))}var Vie=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=ie(n)||f5(n);return i?e(n,a):(i||rs(!1),r)}},Gie=["value","background"],H2;function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function qie(t,e){if(t==null)return{};var r=Yie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sh.apply(this,arguments)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){Ra(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W2(n.key),n)}}function Qie(t,e,r){return e&&oA(t.prototype,e),r&&oA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xie(t,e,r){return e=_h(e),Zie(t,z2()?Reflect.construct(e,r||[],_h(t).constructor):e.apply(t,r))}function Zie(t,e){if(e&&(Oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jie(t)}function Jie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z2=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(t)}function ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g0(t,e)}function g0(t,e){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g0(t,e)}function Ra(t,e,r){return e=W2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W2(t){var e=tse(t,"string");return Oo(e)=="symbol"?e:e+""}function tse(t,e){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ei=function(t){function e(){var r;Kie(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xie(this,e,[].concat(a)),Ra(r,"state",{isAnimationFinished:!1}),Ra(r,"id",ku("recharts-bar-")),Ra(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ra(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return ese(e,t),Qie(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var m=h===l,p=m?u:s,g=At(At(At({},d),f),{},{isActive:m,option:p,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return W.createElement(_t,Sh({className:"recharts-bar-rectangle"},If(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),W.createElement(iA,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return W.createElement(No,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=i.map(function(v,x){var y=h&&h[x];if(y){var b=hn(y.x,v.x),S=hn(y.y,v.y),w=hn(y.width,v.width),_=hn(y.height,v.height);return At(At({},v),{},{x:b(p),y:S(p),width:w(p),height:_(p)})}if(s==="horizontal"){var E=hn(0,v.height),j=E(p);return At(At({},v),{},{y:v.y+v.height-j,height:j})}var T=hn(0,v.width),O=T(p);return At(At({},v),{},{width:O})});return W.createElement(_t,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Jm(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Re(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=qie(u,Gie);if(!f)return null;var m=At(At(At(At(At({},h),{},{fill:"#eee"},f),l),If(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(iA,Sh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=Kr(d,Iu);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Mr(v,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(_t,p,f.map(function(g){return W.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,x=$e("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,S=y||b,w=Oe(g)?this.id:g;return W.createElement(_t,{className:x},y||b?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(w)},W.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,W.createElement(_t,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!m||v)&&Qa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);H2=ei;Ra(ei,"displayName","Bar");Ra(ei,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ta.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ra(ei,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=Dee(n,r);if(!m)return null;var p=e.layout,g=r.type.defaultProps,v=g!==void 0?At(At({},g),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,S=p==="horizontal"?s:i,w=u?S.scale.domain():null,_=Uee({numericAxis:S}),E=Kr(y,gD),j=f.map(function(T,O){var P,D,k,$,H,V;u?P=Pee(u[d+O],w):(P=Mr(T,x),Array.isArray(P)||(P=[_,P]));var M=Vie(b,H2.defaultProps.minPointSize)(P[1],O);if(p==="horizontal"){var I,B=[s.scale(P[0]),s.scale(P[1])],F=B[0],z=B[1];D=ij({axis:i,ticks:o,bandSize:a,offset:m.offset,entry:T,index:O}),k=(I=z??F)!==null&&I!==void 0?I:void 0,$=m.size;var G=F-z;if(H=Number.isNaN(G)?0:G,V={x:D,y:s.y,width:$,height:s.height},Math.abs(M)>0&&Math.abs(H)<Math.abs(M)){var q=pn(H||M)*(Math.abs(M)-Math.abs(H));k-=q,H+=q}}else{var ae=[i.scale(P[0]),i.scale(P[1])],ce=ae[0],ye=ae[1];if(D=ce,k=ij({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:T,index:O}),$=ye-ce,H=m.size,V={x:i.x,y:k,width:i.width,height:H},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var Te=pn($||M)*(Math.abs(M)-Math.abs($));$+=Te}}return At(At(At({},T),{},{x:D,y:k,width:$,height:H,value:u?P:P[1],payload:T,background:V},E&&E[O]&&E[O].props),{},{tooltipPayload:[S2(r,T)],tooltipPosition:{x:D+$/2,y:k+H/2}})});return At({data:j,layout:p},h)});function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V2(n.key),n)}}function nse(t,e,r){return e&&lA(t.prototype,e),r&&lA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(r),!0).forEach(function(n){ip(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ip(t,e,r){return e=V2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V2(t){var e=ase(t,"string");return hu(e)=="symbol"?e:e+""}function ase(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G2=function(e,r,n,a,i){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ar(u,ei);return d.reduce(function(m,p){var g=r[p],v=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,S=g.mirror,w=g.reversed,_="".concat(v).concat(S?"Mirror":""),E,j,T,O,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var D=x[1]-x[0],k=1/0,$=g.categoricalDomain.sort(p5);if($.forEach(function(ae,ce){ce>0&&(k=Math.min((ae||0)-($[ce-1]||0),k))}),Number.isFinite(k)){var H=k/D,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=H*V/2),g.padding==="no-gap"){var M=es(e.barCategoryGap,H*V),I=H*V/2;E=I-M-(I-M)/V*M}}}a==="xAxis"?j=[n.left+(b.left||0)+(E||0),n.left+n.width-(b.right||0)-(E||0)]:a==="yAxis"?j=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(E||0),n.top+n.height-(b.bottom||0)-(E||0)]:j=g.range,w&&(j=[j[1],j[0]]);var B=kee(g,i,h),F=B.scale,z=B.realScaleType;F.domain(x).range(j),Oee(F);var G=Fee(F,un(un({},g),{},{realScaleType:z}));a==="xAxis"?(P=v==="top"&&!S||v==="bottom"&&S,T=n.left,O=f[_]-P*g.height):a==="yAxis"&&(P=v==="left"&&!S||v==="right"&&S,T=f[_]-P*g.width,O=n.top);var q=un(un(un({},g),G),{},{realScaleType:z,x:T,y:O,scale:F,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return q.bandSize=uh(q,G),!g.hide&&a==="xAxis"?f[_]+=(P?-1:1)*q.height:g.hide||(f[_]+=(P?-1:1)*q.width),un(un({},m),{},ip({},p,q))},{})},q2=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},ise=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return q2({x:r,y:n},{x:a,y:i})},Y2=function(){function t(e){rse(this,t),this.scale=e}return nse(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();ip(Y2,"EPS",1e-4);var aw=function(e){var r=Object.keys(e).reduce(function(n,a){return un(un({},n),{},ip({},a,Y2.create(e[a])))},{});return un(un({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return jie(a,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return B2(a,function(i,s){return r[s].isInRange(i)})}})};function sse(t){return(t%180+180)%180}var ose=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=sse(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},lse=hi,cse=Ou,use=Hm;function dse(t){return function(e,r,n){var a=Object(e);if(!cse(e)){var i=lse(r);e=use(e),r=function(o){return i(a[o],o,a)}}var s=t(e,r,n);return s>-1?a[i?e[s]:s]:void 0}}var fse=dse,hse=$2;function mse(t){var e=hse(t),r=e%1;return e===e?r?e-r:e:0}var pse=mse,gse=tD,vse=hi,yse=pse,xse=Math.max;function bse(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:yse(r);return a<0&&(a=xse(n+a,0)),gse(t,vse(e),a)}var wse=bse,Sse=fse,_se=wse,Ese=Sse(_se),jse=Ese;const Ase=Je(jse);var Tse=gH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),iw=N.createContext(void 0),sw=N.createContext(void 0),K2=N.createContext(void 0),Q2=N.createContext({}),X2=N.createContext(void 0),Z2=N.createContext(0),J2=N.createContext(0),uA=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=Tse(i);return W.createElement(iw.Provider,{value:n},W.createElement(sw.Provider,{value:a},W.createElement(Q2.Provider,{value:i},W.createElement(K2.Provider,{value:d},W.createElement(X2.Provider,{value:s},W.createElement(Z2.Provider,{value:u},W.createElement(J2.Provider,{value:l},o)))))))},Nse=function(){return N.useContext(X2)},eP=function(e){var r=N.useContext(iw);r==null&&rs(!1);var n=r[e];return n==null&&rs(!1),n},Cse=function(){var e=N.useContext(iw);return Oa(e)},kse=function(){var e=N.useContext(sw),r=Ase(e,function(n){return B2(n.domain,Number.isFinite)});return r||Oa(e)},tP=function(e){var r=N.useContext(sw);r==null&&rs(!1);var n=r[e];return n==null&&rs(!1),n},Ose=function(){var e=N.useContext(K2);return e},Dse=function(){return N.useContext(Q2)},ow=function(){return N.useContext(J2)},lw=function(){return N.useContext(Z2)};function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function Pse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nP(n.key),n)}}function Mse(t,e,r){return e&&dA(t.prototype,e),r&&dA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rse(t,e,r){return e=Eh(e),Ise(t,rP()?Reflect.construct(e,r||[],Eh(t).constructor):e.apply(t,r))}function Ise(t,e){if(e&&(Do(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(t)}function $se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rP=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(t)}function Lse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v0(t,e)}function fA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(r),!0).forEach(function(n){cw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cw(t,e,r){return e=nP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nP(t){var e=Fse(t,"string");return Do(e)=="symbol"?e:e+""}function Fse(t,e){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Use(t,e){return Wse(t)||zse(t,e)||Hse(t,e)||Bse()}function Bse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hse(t,e){if(t){if(typeof t=="string")return mA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mA(t,e)}}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Wse(t){if(Array.isArray(t))return t}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}var Vse=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Ce(e)?n=e(r):n=W.createElement("line",y0({},r,{className:"recharts-reference-line-line"})),n},Gse=function(e,r,n,a,i,s,o,l,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var p=u.y,g=e.y.apply(p,{position:s});if(Mn(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:s});if(Mn(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:f+m},{x:y,y:f}];return o==="top"?b.reverse():b}if(a){var S=u.segment,w=S.map(function(_){return e.apply(_,{position:s})});return Mn(u,"discard")&&vie(w,function(_){return!e.isInRange(_)})?null:w}return null};function qse(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=Nse(),d=eP(a),f=tP(i),h=Ose();if(!u||!h)return null;ea(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=aw({x:d.scale,y:f.scale}),p=Pt(e),g=Pt(r),v=n&&n.length===2,x=Gse(m,p,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=Use(x,2),b=y[0],S=b.x,w=b.y,_=y[1],E=_.x,j=_.y,T=Mn(t,"hidden")?"url(#".concat(u,")"):void 0,O=hA(hA({clipPath:T},Re(t,!0)),{},{x1:S,y1:w,x2:E,y2:j});return W.createElement(_t,{className:$e("recharts-reference-line",o)},Vse(s,O),er.renderCallByParent(t,ise({x1:S,y1:w,x2:E,y2:j})))}var uw=function(t){function e(){return Pse(this,e),Rse(this,e,arguments)}return Lse(e,t),Mse(e,[{key:"render",value:function(){return W.createElement(qse,this.props)}}])}(W.Component);cw(uw,"displayName","ReferenceLine");cw(uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x0.apply(this,arguments)}function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(r),!0).forEach(function(n){sp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iP(n.key),n)}}function Kse(t,e,r){return e&&vA(t.prototype,e),r&&vA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qse(t,e,r){return e=jh(e),Xse(t,aP()?Reflect.construct(e,r||[],jh(t).constructor):e.apply(t,r))}function Xse(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zse(t)}function Zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aP=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(t)}function Jse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b0(t,e)}function b0(t,e){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b0(t,e)}function sp(t,e,r){return e=iP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iP(t){var e=eoe(t,"string");return Po(e)=="symbol"?e:e+""}function eoe(t,e){if(Po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var toe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=aw({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Mn(e,"discard")&&!s.isInRange(o)?null:o},op=function(t){function e(){return Yse(this,e),Qse(this,e,arguments)}return Jse(e,t),Kse(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Pt(a),d=Pt(i);if(ea(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=toe(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,x=Mn(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=gA(gA({clipPath:x},Re(this.props,!0)),{},{cx:h,cy:m});return W.createElement(_t,{className:$e("recharts-reference-dot",v)},e.renderDot(g,y),er.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(W.Component);sp(op,"displayName","ReferenceDot");sp(op,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sp(op,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ce(t)?r=t(e):r=W.createElement(nw,x0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w0.apply(this,arguments)}function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){lp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oP(n.key),n)}}function noe(t,e,r){return e&&bA(t.prototype,e),r&&bA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aoe(t,e,r){return e=Ah(e),ioe(t,sP()?Reflect.construct(e,r||[],Ah(t).constructor):e.apply(t,r))}function ioe(t,e){if(e&&(Mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return soe(t)}function soe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}function ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S0(t,e)}function lp(t,e,r){return e=oP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oP(t){var e=loe(t,"string");return Mo(e)=="symbol"?e:e+""}function loe(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var coe=function(e,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=aw({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Mn(i,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:q2(m,p)},cp=function(t){function e(){return roe(this,e),aoe(this,e,arguments)}return ooe(e,t),noe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ea(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pt(a),h=Pt(i),m=Pt(s),p=Pt(o),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=coe(f,h,m,p,this.props);if(!v&&!g)return null;var x=Mn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(_t,{className:$e("recharts-reference-area",l)},e.renderRect(g,xA(xA({clipPath:x},Re(this.props,!0)),v)),er.renderCallByParent(this.props,v))}}])}(W.Component);lp(cp,"displayName","ReferenceArea");lp(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lp(cp,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ce(t)?r=t(e):r=W.createElement(rw,w0({},e,{className:"recharts-reference-area-rect"})),r});function lP(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)if(r===void 0||r(t[a])===!0)n.push(t[a]);else return;return n}function uoe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return ose(n,r)}function doe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,o=t.height;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Th(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function foe(t,e){return lP(t,e+1)}function hoe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,f=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:lP(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(p,g)),v},y=p.coordinate,b=l===0||Th(t,y,x,d,o);b||(l=0,d=s,u+=1),b&&(d=y+t*(x()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function wA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wA(Object(r),!0).forEach(function(n){moe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function moe(t,e,r){return e=poe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function poe(t){var e=goe(t,"string");return mu(e)=="symbol"?e:e+""}function goe(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function voe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=e.start,l=e.end,u=function(h){var m=i[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);i[h]=m=Zt(Zt({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else i[h]=m=Zt(Zt({},m),{},{tickCoord:m.coordinate});var x=Th(t,m.tickCoord,g,o,l);x&&(l=m.tickCoord-t*(g()/2+a),i[h]=Zt(Zt({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function yoe(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(i){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=Zt(Zt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Th(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+a),s[o-1]=Zt(Zt({},d),{},{isShow:!0}))}for(var p=i?o-1:o,g=function(y){var b=s[y],S,w=function(){return S===void 0&&(S=r(b,y)),S};if(y===0){var _=t*(b.coordinate-t*w()/2-l);s[y]=b=Zt(Zt({},b),{},{tickCoord:_<0?b.coordinate-_*t:b.coordinate})}else s[y]=b=Zt(Zt({},b),{},{tickCoord:b.coordinate});var E=Th(t,b.tickCoord,w,l,u);E&&(l=b.tickCoord+t*(w()/2+a),s[y]=Zt(Zt({},b),{},{isShow:!0}))},v=0;v<p;v++)g(v);return s}function dw(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(ie(l)||ta.isSsr)return foe(a,typeof l=="number"&&ie(l)?l:0);var h=[],m=o==="top"||o==="bottom"?"width":"height",p=d&&m==="width"?sc(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,S){var w=Ce(u)?u(b.value,S):b.value;return m==="width"?uoe(sc(w,{fontSize:e,letterSpacing:r}),p,f):sc(w,{fontSize:e,letterSpacing:r})[m]},v=a.length>=2?pn(a[1].coordinate-a[0].coordinate):1,x=doe(i,v,m);return l==="equidistantPreserveStart"?hoe(v,x,g,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=yoe(v,x,g,a,s,l==="preserveStartEnd"):h=voe(v,x,g,a,s),h.filter(function(y){return y.isShow}))}var xoe=["viewBox"],boe=["viewBox"],woe=["ticks"];function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qs.apply(this,arguments)}function SA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(r),!0).forEach(function(n){fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cg(t,e){if(t==null)return{};var r=Soe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Soe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uP(n.key),n)}}function Eoe(t,e,r){return e&&_A(t.prototype,e),r&&_A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function joe(t,e,r){return e=Nh(e),Aoe(t,cP()?Reflect.construct(e,r||[],Nh(t).constructor):e.apply(t,r))}function Aoe(t,e){if(e&&(Ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Toe(t)}function Toe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nh(t)}function Noe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_0(t,e)}function fw(t,e,r){return e=uP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uP(t){var e=Coe(t,"string");return Ro(e)=="symbol"?e:e+""}function Coe(t,e){if(Ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ul=function(t){function e(r){var n;return _oe(this,e),n=joe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Noe(e,t),Eoe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Cg(n,xoe),o=this.props,l=o.viewBox,u=Cg(o,boe);return!ro(i,l)||!ro(s,u)||!ro(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,p,g,v,x,y,b=f?-1:1,S=n.tickSize||d,w=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=s+ +!f*l,g=v-b*S,y=g-b*h,x=w;break;case"left":g=v=n.coordinate,p=i+ +!f*o,m=p-b*S,x=m-b*h,y=w;break;case"right":g=v=n.coordinate,p=i+ +f*o,m=p+b*S,x=m+b*h,y=w;break;default:m=p=n.coordinate,v=s+ +f*l,g=v+b*S,y=g+b*h,x=w;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Ct(Ct(Ct({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Ct(Ct({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Ct(Ct({},f),{},{x1:a+m*s,y1:i,x2:a+m*s,y2:i+o})}return W.createElement("line",qs({},f,{className:$e("recharts-cartesian-axis-line",Yr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,m=dw(Ct(Ct({},this.props),{},{ticks:n}),a,i),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Re(this.props,!1),x=Re(d,!1),y=Ct(Ct({},v),{},{fill:"none"},Re(l,!1)),b=m.map(function(S,w){var _=s.getTickLineCoord(S),E=_.line,j=_.tick,T=Ct(Ct(Ct(Ct({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),j),{},{index:w,payload:S,visibleTicksCount:m.length,tickFormatter:f});return W.createElement(_t,qs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},If(s.props,S,w)),l&&W.createElement("line",qs({},y,E,{className:$e("recharts-cartesian-axis-tick-line",Yr(l,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ce(f)?f(S.value,w):S.value).concat(h||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Cg(f,woe),p=h;return Ce(l)&&(p=h&&h.length>0?l(this.props):l(m)),s<=0||o<=0||!p||!p.length?null:W.createElement(_t,{className:$e("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=$e(a.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(n)?s=W.cloneElement(n,Ct(Ct({},a),{},{className:o})):Ce(n)?s=n(Ct(Ct({},a),{},{className:o})):s=W.createElement(Qf,qs({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(N.Component);fw(ul,"displayName","CartesianAxis");fw(ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var koe=["x1","y1","x2","y2","key"],Ooe=["offset"];function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function EA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(r),!0).forEach(function(n){Doe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Doe(t,e,r){return e=Poe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Poe(t){var e=Moe(t,"string");return ns(e)=="symbol"?e:e+""}function Moe(t,e){if(ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ui(){return Ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ui.apply(this,arguments)}function jA(t,e){if(t==null)return{};var r=Roe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Roe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ioe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.ry;return W.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dP(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ce(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,o=e.key,l=jA(e,koe),u=Re(l,!1);u.offset;var d=jA(u,Ooe);r=W.createElement("line",Ui({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function $oe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=tr(tr({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return dP(a,u)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Loe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=tr(tr({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return dP(a,u)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Foe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+s-h:d[m+1]-h;if(g<=0)return null;var v=m%e.length;return W.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Uoe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?i+o-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return W.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Boe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return b2(dw(tr(tr(tr({},ul.defaultProps),n),{},{ticks:Qn(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Hoe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return b2(dw(tr(tr(tr({},ul.defaultProps),n),{},{ticks:Qn(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Cs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ch(t){var e,r,n,a,i,s,o=ow(),l=lw(),u=Dse(),d=tr(tr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Cs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Cs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Cs.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Cs.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Cs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Cs.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Cse(),b=kse();if(!ie(m)||m<=0||!ie(p)||p<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Boe,w=d.horizontalCoordinatesGenerator||Hoe,_=d.horizontalPoints,E=d.verticalPoints;if((!_||!_.length)&&Ce(w)){var j=v&&v.length,T=w({yAxis:b?tr(tr({},b),{},{ticks:j?v:b.ticks}):void 0,width:o,height:l,offset:u},j?!0:g);ea(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ns(T),"]")),Array.isArray(T)&&(_=T)}if((!E||!E.length)&&Ce(S)){var O=x&&x.length,P=S({xAxis:y?tr(tr({},y),{},{ticks:O?x:y.ticks}):void 0,width:o,height:l,offset:u},O?!0:g);ea(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ns(P),"]")),Array.isArray(P)&&(E=P)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(Ioe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement($oe,Ui({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:b})),W.createElement(Loe,Ui({},d,{offset:u,verticalPoints:E,xAxis:y,yAxis:b})),W.createElement(Foe,Ui({},d,{horizontalPoints:_})),W.createElement(Uoe,Ui({},d,{verticalPoints:E})))}Ch.displayName="CartesianGrid";var zoe=["type","layout","connectNulls","ref"],Woe=["key"];function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function AA(t,e){if(t==null)return{};var r=Voe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Voe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function TA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(r),!0).forEach(function(n){dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ks(t){return Koe(t)||Yoe(t)||qoe(t)||Goe()}function Goe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(t,e){if(t){if(typeof t=="string")return E0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(t,e)}}function Yoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Koe(t){if(Array.isArray(t))return E0(t)}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hP(n.key),n)}}function Xoe(t,e,r){return e&&NA(t.prototype,e),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zoe(t,e,r){return e=kh(e),Joe(t,fP()?Reflect.construct(e,r||[],kh(t).constructor):e.apply(t,r))}function Joe(t,e){if(e&&(Io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ele(t)}function ele(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(t)}function tle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j0(t,e)}function j0(t,e){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j0(t,e)}function dn(t,e,r){return e=hP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hP(t){var e=rle(t,"string");return Io(e)=="symbol"?e:e+""}function rle(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dl=function(t){function e(){var r;Qoe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Zoe(this,e,[].concat(a)),dn(r,"state",{isAnimationFinished:!0,totalLength:0}),dn(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),dn(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,m=[],p=0,g=0;p<l.length;g+=l[p],++p)if(g+l[p]>f){m=[].concat(ks(l.slice(0,p)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(ks(e.repeat(l,d)),ks(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),dn(r,"id",ku("recharts-line-")),dn(r,"pathRef",function(s){r.mainCurve=s}),dn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),dn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return tle(e,t),Xoe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=Kr(d,Iu);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Mr(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(_t,m,f.map(function(p){return W.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,f=Re(this.props,!1),h=Re(l,!0),m=u.map(function(g,v){var x=_r(_r(_r({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return W.createElement(_t,uc({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=AA(o,zoe),h=_r(_r(_r({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:d});return W.createElement(r0,uc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,p=s.animateNewValues,g=s.width,v=s.height,x=this.state,y=x.prevPoints,b=x.totalLength;return W.createElement(No,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(y){var _=y.length/o.length,E=o.map(function(D,k){var $=Math.floor(k*_);if(y[$]){var H=y[$],V=hn(H.x,D.x),M=hn(H.y,D.y);return _r(_r({},D),{},{x:V(w),y:M(w)})}if(p){var I=hn(g*2,D.x),B=hn(v/2,D.y);return _r(_r({},D),{},{x:I(w),y:B(w)})}return _r(_r({},D),{},{x:D.x,y:D.y})});return i.renderCurveStatically(E,n,a)}var j=hn(0,b),T=j(w),O;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});O=i.getStrokeDasharray(T,b,P)}else O=i.generateSimpleStrokeDasharray(b,T);return i.renderCurveStatically(o,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!Jm(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,p=a.height,g=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=$e("recharts-line",l),S=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,_=S||w,E=Oe(v)?this.id:v,j=(n=Re(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=j.r,O=T===void 0?3:T,P=j.strokeWidth,D=P===void 0?2:P,k=E5(s)?s:{},$=k.clipDot,H=$===void 0?!0:$,V=O*2+D;return W.createElement(_t,{className:b},S||w?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(E)},W.createElement("rect",{x:S?h:h-m/2,y:w?f:f-p/2,width:S?m:m*2,height:w?p:p*2})),!H&&W.createElement("clipPath",{id:"clipPath-dots-".concat(E)},W.createElement("rect",{x:h-V/2,y:f-V/2,width:m+V,height:p+V}))):null,!y&&this.renderCurve(_,E),this.renderErrorBar(_,E),(y||s)&&this.renderDots(_,H,E),(!g||x)&&Qa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(ks(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(ks(s),ks(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(W.isValidElement(n))i=W.cloneElement(n,a);else if(Ce(n))i=n(a);else{var s=a.key,o=AA(a,Woe),l=$e("recharts-line-dot",typeof n!="boolean"?n.className:"");i=W.createElement(nw,uc({key:s},o,{className:l}))}return i}}])}(N.PureComponent);dn(dl,"displayName","Line");dn(dl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ta.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dn(dl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,m){var p=Mr(h,s);return d==="horizontal"?{x:aj({axis:r,ticks:a,bandSize:o,entry:h,index:m}),y:Oe(p)?null:n.scale(p),value:p,payload:h}:{x:Oe(p)?null:r.scale(p),y:aj({axis:n,ticks:i,bandSize:o,entry:h,index:m}),value:p,payload:h}});return _r({points:f,layout:d},u)});function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gP(n.key),n)}}function ale(t,e,r){return e&&CA(t.prototype,e),r&&CA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ile(t,e,r){return e=Oh(e),sle(t,mP()?Reflect.construct(e,r||[],Oh(t).constructor):e.apply(t,r))}function sle(t,e){if(e&&($o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ole(t)}function ole(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mP=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(t)}function lle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A0(t,e)}function pP(t,e,r){return e=gP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gP(t){var e=cle(t,"string");return $o(e)=="symbol"?e:e+""}function cle(t,e){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function ule(t){var e=t.xAxisId,r=ow(),n=lw(),a=eP(e);return a==null?null:N.createElement(ul,T0({},a,{className:$e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qn(s,!0)}}))}var as=function(t){function e(){return nle(this,e),ile(this,e,arguments)}return lle(e,t),ale(e,[{key:"render",value:function(){return N.createElement(ule,this.props)}}])}(N.Component);pP(as,"displayName","XAxis");pP(as,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xP(n.key),n)}}function fle(t,e,r){return e&&kA(t.prototype,e),r&&kA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hle(t,e,r){return e=Dh(e),mle(t,vP()?Reflect.construct(e,r||[],Dh(t).constructor):e.apply(t,r))}function mle(t,e){if(e&&(Lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ple(t)}function ple(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vP=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}function gle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N0(t,e)}function yP(t,e,r){return e=xP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xP(t){var e=vle(t,"string");return Lo(e)=="symbol"?e:e+""}function vle(t,e){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}var yle=function(e){var r=e.yAxisId,n=ow(),a=lw(),i=tP(r);return i==null?null:N.createElement(ul,C0({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Qn(o,!0)}}))},is=function(t){function e(){return dle(this,e),hle(this,e,arguments)}return gle(e,t),fle(e,[{key:"render",value:function(){return N.createElement(yle,this.props)}}])}(N.Component);yP(is,"displayName","YAxis");yP(is,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OA(t){return Sle(t)||wle(t)||ble(t)||xle()}function xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ble(t,e){if(t){if(typeof t=="string")return k0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(t,e)}}function wle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sle(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var O0=function(e,r,n,a,i){var s=Kr(e,uw),o=Kr(e,op),l=[].concat(OA(s),OA(o)),u=Kr(e,cp),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Mn(v.props,"extendDomain")&&ie(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&Mn(v.props,"extendDomain")&&ie(v.props[m])&&ie(v.props[p])){var x=v.props[m],y=v.props[p];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return i&&i.length&&(h=i.reduce(function(g,v){return ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},bP={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,h),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,v=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(bP);var _le=bP.exports;const Ele=Je(_le);var kg=new Ele,Og="recharts.syncMouseEvents";function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function jle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wP(n.key),n)}}function Ale(t,e,r){return e&&DA(t.prototype,e),r&&DA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dg(t,e,r){return e=wP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wP(t){var e=Tle(t,"string");return pu(e)=="symbol"?e:e+""}function Tle(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nle=function(){function t(){jle(this,t),Dg(this,"activeIndex",0),Dg(this,"coordinateList",[]),Dg(this,"layout","horizontal")}return Ale(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Cle(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&ie(n)&&ie(a))return!0}return!1}function kle(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function SP(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=Vt(e,r,n,a),o=Vt(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Ole(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Vt(o,l,u,f),m=Vt(o,l,d,f);n=h.x,a=h.y,i=m.x,s=m.y}else return SP(e);return[{x:n,y:a},{x:i,y:s}]}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){Dle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dle(t,e,r){return e=Ple(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ple(t){var e=Mle(t,"string");return gu(e)=="symbol"?e:e+""}function Mle(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var p,g=r0;if(h==="ScatterChart")p=s,g=Bne;else if(h==="BarChart")p=kle(f,s,l,d),g=rw;else if(f==="radial"){var v=SP(s),x=v.cx,y=v.cy,b=v.radius,S=v.startAngle,w=v.endAngle;p={cx:x,cy:y,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},g=j2}else p={points:Ole(f,s,l)},g=r0;var _=jd(jd(jd(jd({stroke:"#ccc",pointerEvents:"none"},l),p),Re(m,!1)),{},{payload:o,payloadIndex:u,className:$e("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,_):N.createElement(g,_)}var Ile=["item"],$le=["children","className","width","height","style","compact","title","desc"];function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ys.apply(this,arguments)}function MA(t,e){return Ule(t)||Fle(t,e)||EP(t,e)||Lle()}function Lle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Ule(t){if(Array.isArray(t))return t}function RA(t,e){if(t==null)return{};var r=Ble(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ble(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jP(n.key),n)}}function zle(t,e,r){return e&&IA(t.prototype,e),r&&IA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wle(t,e,r){return e=Ph(e),Vle(t,_P()?Reflect.construct(e,r||[],Ph(t).constructor):e.apply(t,r))}function Vle(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(t)}function Gle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(t)}function qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D0(t,e)}function Uo(t){return Qle(t)||Kle(t)||EP(t)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EP(t,e){if(t){if(typeof t=="string")return P0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P0(t,e)}}function Kle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qle(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(r),!0).forEach(function(n){Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Se(t,e,r){return e=jP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jP(t){var e=Xle(t,"string");return Fo(e)=="symbol"?e:e+""}function Xle(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zle={xAxis:["bottom","top"],yAxis:["left","right"]},Jle={width:"100%",height:"100%"},AP={x:0,y:0};function Ad(t){return t}var ece=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},tce=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,o=a.radius;return J(J(J({},a),Vt(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,u=a.angle;return J(J(J({},a),Vt(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return AP},up=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Uo(o),Uo(u)):o},[]);return s.length>0?s:e&&e.length&&ie(a)&&ie(i)?e.slice(a,i+1):[]};function TP(t){return t==="number"?[0,"auto"]:void 0}var M0=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,o=up(r,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?o:f;h=Mf(m,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Uo(l),[S2(u,h)]):l},[])},LA=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=ece(i,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=Eee(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=M0(e,r,d,f),m=tce(n,o,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},rce=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=x2(d,i);return n.reduce(function(p,g){var v,x=g.type.defaultProps!==void 0?J(J({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,S=x.allowDataOverflow,w=x.allowDuplicatedCategory,_=x.scale,E=x.ticks,j=x.includeHidden,T=x[s];if(p[T])return p;var O=up(e.data,{graphicalItems:a.filter(function(G){var q,ae=s in G.props?G.props[s]:(q=G.type.defaultProps)===null||q===void 0?void 0:q[s];return ae===T}),dataStartIndex:l,dataEndIndex:u}),P=O.length,D,k,$;Cle(x.domain,S,y)&&(D=Xy(x.domain,null,S),m&&(y==="number"||_!=="auto")&&($=lc(O,b,"category")));var H=TP(y);if(!D||D.length===0){var V,M=(V=x.domain)!==null&&V!==void 0?V:H;if(b){if(D=lc(O,b,y),y==="category"&&m){var I=m5(D);w&&I?(k=D,D=xh(0,P)):w||(D=lj(M,D,g).reduce(function(G,q){return G.indexOf(q)>=0?G:[].concat(Uo(G),[q])},[]))}else if(y==="category")w?D=D.filter(function(G){return G!==""&&!Oe(G)}):D=lj(M,D,g).reduce(function(G,q){return G.indexOf(q)>=0||q===""||Oe(q)?G:[].concat(Uo(G),[q])},[]);else if(y==="number"){var B=Cee(O,a.filter(function(G){var q,ae,ce=s in G.props?G.props[s]:(q=G.type.defaultProps)===null||q===void 0?void 0:q[s],ye="hide"in G.props?G.props.hide:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ce===T&&(j||!ye)}),b,i,d);B&&(D=B)}m&&(y==="number"||_!=="auto")&&($=lc(O,b,"category"))}else m?D=xh(0,P):o&&o[T]&&o[T].hasStack&&y==="number"?D=h==="expand"?[0,1]:w2(o[T].stackGroups,l,u):D=y2(O,a.filter(function(G){var q=s in G.props?G.props[s]:G.type.defaultProps[s],ae="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return q===T&&(j||!ae)}),y,d,!0);if(y==="number")D=O0(f,D,T,i,E),M&&(D=Xy(M,D,S));else if(y==="category"&&M){var F=M,z=D.every(function(G){return F.indexOf(G)>=0});z&&(D=F)}}return J(J({},p),{},Se({},T,J(J({},x),{},{axisType:i,domain:D,categoricalDomain:$,duplicateDomain:k,originalDomain:(v=x.domain)!==null&&v!==void 0?v:H,isCategorical:m,layout:d})))},{})},nce=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=up(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=h.length,p=x2(d,i),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?J(J({},x.type.defaultProps),x.props):x.props,b=y[s],S=TP("number");if(!v[b]){g++;var w;return p?w=xh(0,m):o&&o[b]&&o[b].hasStack?(w=w2(o[b].stackGroups,l,u),w=O0(f,w,b,i)):(w=Xy(S,y2(h,n.filter(function(_){var E,j,T=s in _.props?_.props[s]:(E=_.type.defaultProps)===null||E===void 0?void 0:E[s],O="hide"in _.props?_.props.hide:(j=_.type.defaultProps)===null||j===void 0?void 0:j.hide;return T===b&&!O}),"number",d),a.defaultProps.allowDataOverflow),w=O0(f,w,b,i)),J(J({},v),{},Se({},b,J(J({axisType:i},a.defaultProps),{},{hide:!0,orientation:Yr(Zle,"".concat(i,".").concat(g%2),null),domain:w,originalDomain:S,isCategorical:p,layout:d})))}return v},{})},ace=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),h=Kr(d,i),m={};return h&&h.length?m=rce(e,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(m=nce(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),m},ice=function(e){var r=Oa(e),n=Qn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Cb(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uh(r,n)}},FA=function(e){var r=e.children,n=e.defaultShowTooltip,a=Ar(r,ko),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},sce=function(e){return!e||!e.length?!1:e.some(function(r){var n=Jn(r&&r.type);return n&&n.indexOf("Bar")>=0})},UA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oce=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Ar(f,ko),p=Ar(f,Ya),g=Object.keys(l).reduce(function(w,_){var E=l[_],j=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},Se({},j,w[j]+E.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,_){var E=s[_],j=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},Se({},j,Yr(w,"".concat(j))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=J(J({},v),g),y=x.bottom;m&&(x.bottom+=m.props.height||ko.defaultProps.height),p&&r&&(x=Tee(x,a,n,r));var b=u-x.left-x.right,S=d-x.top-x.bottom;return J(J({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(S,0)})},lce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},NP=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var b=y.graphicalItems,S=y.stackGroups,w=y.offset,_=y.updateId,E=y.dataStartIndex,j=y.dataEndIndex,T=x.barSize,O=x.layout,P=x.barGap,D=x.barCategoryGap,k=x.maxBarSize,$=UA(O),H=$.numericAxisName,V=$.cateAxisName,M=sce(b),I=[];return b.forEach(function(B,F){var z=up(x.data,{graphicalItems:[B],dataStartIndex:E,dataEndIndex:j}),G=B.type.defaultProps!==void 0?J(J({},B.type.defaultProps),B.props):B.props,q=G.dataKey,ae=G.maxBarSize,ce=G["".concat(H,"Id")],ye=G["".concat(V,"Id")],Te={},ge=l.reduce(function(Ne,Y){var de=y["".concat(Y.axisType,"Map")],he=G["".concat(Y.axisType,"Id")];de&&de[he]||Y.axisType==="zAxis"||rs(!1);var we=de[he];return J(J({},Ne),{},Se(Se({},Y.axisType,we),"".concat(Y.axisType,"Ticks"),Qn(we)))},Te),X=ge[V],ne=ge["".concat(V,"Ticks")],re=S&&S[ce]&&S[ce].hasStack&&Bee(B,S[ce].stackGroups),A=Jn(B.type).indexOf("Bar")>=0,C=uh(X,ne),R=[],U=M&&jee({barSize:T,stackGroups:S,totalSize:lce(ge,V)});if(A){var Z,ee,le=Oe(ae)?k:ae,ue=(Z=(ee=uh(X,ne,!0))!==null&&ee!==void 0?ee:le)!==null&&Z!==void 0?Z:0;R=Aee({barGap:P,barCategoryGap:D,bandSize:ue!==C?ue:C,sizeList:U[ye],maxBarSize:le}),ue!==C&&(R=R.map(function(Ne){return J(J({},Ne),{},{position:J(J({},Ne.position),{},{offset:Ne.position.offset-ue/2})})}))}var fe=B&&B.type&&B.type.getComposedData;fe&&I.push({props:J(J({},fe(J(J({},ge),{},{displayedData:z,props:x,dataKey:q,item:B,bandSize:C,barPosition:R,offset:w,stackedData:re,layout:O,dataStartIndex:E,dataEndIndex:j}))),{},Se(Se(Se({key:B.key||"item-".concat(F)},H,ge[H]),V,ge[V]),"animationId",_)),childIndex:T5(B,x.children),item:B})}),I},m=function(x,y){var b=x.props,S=x.dataStartIndex,w=x.dataEndIndex,_=x.updateId;if(!X_({props:b}))return null;var E=b.children,j=b.layout,T=b.stackOffset,O=b.data,P=b.reverseStackOrder,D=UA(j),k=D.numericAxisName,$=D.cateAxisName,H=Kr(E,n),V=Lee(O,H,"".concat(k,"Id"),"".concat($,"Id"),T,P),M=l.reduce(function(G,q){var ae="".concat(q.axisType,"Map");return J(J({},G),{},Se({},ae,ace(b,J(J({},q),{},{graphicalItems:H,stackGroups:q.axisType===k&&V,dataStartIndex:S,dataEndIndex:w}))))},{}),I=oce(J(J({},M),{},{props:b,graphicalItems:H}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(G){M[G]=d(b,M[G],I,G.replace("Map",""),r)});var B=M["".concat($,"Map")],F=ice(B),z=h(b,J(J({},M),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:H,stackGroups:V,offset:I}));return J(J({formattedGraphicalItems:z,graphicalItems:H,offset:I,stackGroups:V},F),M)},p=function(v){function x(y){var b,S,w;return Hle(this,x),w=Wle(this,x,[y]),Se(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(w,"accessibilityManager",new Nle),Se(w,"handleLegendBBoxUpdate",function(_){if(_){var E=w.state,j=E.dataStartIndex,T=E.dataEndIndex,O=E.updateId;w.setState(J({legendBBox:_},m({props:w.props,dataStartIndex:j,dataEndIndex:T,updateId:O},J(J({},w.state),{},{legendBBox:_}))))}}),Se(w,"handleReceiveSyncEvent",function(_,E,j){if(w.props.syncId===_){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Se(w,"handleBrushChange",function(_){var E=_.startIndex,j=_.endIndex;if(E!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return J({dataStartIndex:E,dataEndIndex:j},m({props:w.props,dataStartIndex:E,dataEndIndex:j,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),Se(w,"handleMouseEnter",function(_){var E=w.getMouseInfo(_);if(E){var j=J(J({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseEnter;Ce(T)&&T(j,_)}}),Se(w,"triggeredAfterMouseMove",function(_){var E=w.getMouseInfo(_),j=E?J(J({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var T=w.props.onMouseMove;Ce(T)&&T(j,_)}),Se(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Se(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Se(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),Se(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var j=w.props.onMouseLeave;Ce(j)&&j(E,_)}),Se(w,"handleOuterEvent",function(_){var E=A5(_),j=Yr(w.props,"".concat(E));if(E&&Ce(j)){var T,O;/.*touch.*/i.test(E)?O=w.getMouseInfo(_.changedTouches[0]):O=w.getMouseInfo(_),j((T=O)!==null&&T!==void 0?T:{},_)}}),Se(w,"handleClick",function(_){var E=w.getMouseInfo(_);if(E){var j=J(J({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var T=w.props.onClick;Ce(T)&&T(j,_)}}),Se(w,"handleMouseDown",function(_){var E=w.props.onMouseDown;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"handleMouseUp",function(_){var E=w.props.onMouseUp;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Se(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),Se(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),Se(w,"handleDoubleClick",function(_){var E=w.props.onDoubleClick;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"handleContextMenu",function(_){var E=w.props.onContextMenu;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),Se(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&kg.emit(Og,w.props.syncId,_,w.eventEmitterSymbol)}),Se(w,"applySyncEvent",function(_){var E=w.props,j=E.layout,T=E.syncMethod,O=w.state.updateId,P=_.dataStartIndex,D=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(J({dataStartIndex:P,dataEndIndex:D},m({props:w.props,dataStartIndex:P,dataEndIndex:D,updateId:O},w.state)));else if(_.activeTooltipIndex!==void 0){var k=_.chartX,$=_.chartY,H=_.activeTooltipIndex,V=w.state,M=V.offset,I=V.tooltipTicks;if(!M)return;if(typeof T=="function")H=T(I,_);else if(T==="value"){H=-1;for(var B=0;B<I.length;B++)if(I[B].value===_.activeLabel){H=B;break}}var F=J(J({},M),{},{x:M.left,y:M.top}),z=Math.min(k,F.x+F.width),G=Math.min($,F.y+F.height),q=I[H]&&I[H].value,ae=M0(w.state,w.props.data,H),ce=I[H]?{x:j==="horizontal"?I[H].coordinate:z,y:j==="horizontal"?G:I[H].coordinate}:AP;w.setState(J(J({},_),{},{activeLabel:q,activeCoordinate:ce,activePayload:ae,activeTooltipIndex:H}))}else w.setState(_)}),Se(w,"renderCursor",function(_){var E,j=w.state,T=j.isTooltipActive,O=j.activeCoordinate,P=j.activePayload,D=j.offset,k=j.activeTooltipIndex,$=j.tooltipAxisBandSize,H=w.getTooltipEventType(),V=(E=_.props.active)!==null&&E!==void 0?E:T,M=w.props.layout,I=_.key||"_recharts-cursor";return W.createElement(Rle,{key:I,activeCoordinate:O,activePayload:P,activeTooltipIndex:k,chartName:r,element:_,isActive:V,layout:M,offset:D,tooltipAxisBandSize:$,tooltipEventType:H})}),Se(w,"renderPolarAxis",function(_,E,j){var T=Yr(_,"type.axisType"),O=Yr(w.state,"".concat(T,"Map")),P=_.type.defaultProps,D=P!==void 0?J(J({},P),_.props):_.props,k=O&&O[D["".concat(T,"Id")]];return N.cloneElement(_,J(J({},k),{},{className:$e(T,k.className),key:_.key||"".concat(E,"-").concat(j),ticks:Qn(k,!0)}))}),Se(w,"renderPolarGrid",function(_){var E=_.props,j=E.radialLines,T=E.polarAngles,O=E.polarRadius,P=w.state,D=P.radiusAxisMap,k=P.angleAxisMap,$=Oa(D),H=Oa(k),V=H.cx,M=H.cy,I=H.innerRadius,B=H.outerRadius;return N.cloneElement(_,{polarAngles:Array.isArray(T)?T:Qn(H,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(O)?O:Qn($,!0).map(function(F){return F.coordinate}),cx:V,cy:M,innerRadius:I,outerRadius:B,key:_.key||"polar-grid",radialLines:j})}),Se(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,E=w.props,j=E.children,T=E.width,O=E.height,P=w.props.margin||{},D=T-(P.left||0)-(P.right||0),k=g2({children:j,formattedGraphicalItems:_,legendWidth:D,legendContent:u});if(!k)return null;var $=k.item,H=RA(k,Ile);return N.cloneElement($,J(J({},H),{},{chartWidth:T,chartHeight:O,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Se(w,"renderTooltip",function(){var _,E=w.props,j=E.children,T=E.accessibilityLayer,O=Ar(j,Br);if(!O)return null;var P=w.state,D=P.isTooltipActive,k=P.activeCoordinate,$=P.activePayload,H=P.activeLabel,V=P.offset,M=(_=O.props.active)!==null&&_!==void 0?_:D;return N.cloneElement(O,{viewBox:J(J({},V),{},{x:V.left,y:V.top}),active:M,label:H,payload:M?$:[],coordinate:k,accessibilityLayer:T})}),Se(w,"renderBrush",function(_){var E=w.props,j=E.margin,T=E.data,O=w.state,P=O.offset,D=O.dataStartIndex,k=O.dataEndIndex,$=O.updateId;return N.cloneElement(_,{key:_.key||"_recharts-brush",onChange:wd(w.handleBrushChange,_.props.onChange),data:T,x:ie(_.props.x)?_.props.x:P.left,y:ie(_.props.y)?_.props.y:P.top+P.height+P.brushBottom-(j.bottom||0),width:ie(_.props.width)?_.props.width:P.width,startIndex:D,endIndex:k,updateId:"brush-".concat($)})}),Se(w,"renderReferenceElement",function(_,E,j){if(!_)return null;var T=w,O=T.clipPathId,P=w.state,D=P.xAxisMap,k=P.yAxisMap,$=P.offset,H=_.type.defaultProps||{},V=_.props,M=V.xAxisId,I=M===void 0?H.xAxisId:M,B=V.yAxisId,F=B===void 0?H.yAxisId:B;return N.cloneElement(_,{key:_.key||"".concat(E,"-").concat(j),xAxis:D[I],yAxis:k[F],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:O})}),Se(w,"renderActivePoints",function(_){var E=_.item,j=_.activePoint,T=_.basePoint,O=_.childIndex,P=_.isRange,D=[],k=E.props.key,$=E.item.type.defaultProps!==void 0?J(J({},E.item.type.defaultProps),E.item.props):E.item.props,H=$.activeDot,V=$.dataKey,M=J(J({index:O,dataKey:V,cx:j.x,cy:j.y,r:4,fill:tw(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Re(H,!1)),Rf(H));return D.push(x.renderActiveDot(H,M,"".concat(k,"-activePoint-").concat(O))),T?D.push(x.renderActiveDot(H,J(J({},M),{},{cx:T.x,cy:T.y}),"".concat(k,"-basePoint-").concat(O))):P&&D.push(null),D}),Se(w,"renderGraphicChild",function(_,E,j){var T=w.filterFormatItem(_,E,j);if(!T)return null;var O=w.getTooltipEventType(),P=w.state,D=P.isTooltipActive,k=P.tooltipAxis,$=P.activeTooltipIndex,H=P.activeLabel,V=w.props.children,M=Ar(V,Br),I=T.props,B=I.points,F=I.isRange,z=I.baseLine,G=T.item.type.defaultProps!==void 0?J(J({},T.item.type.defaultProps),T.item.props):T.item.props,q=G.activeDot,ae=G.hide,ce=G.activeBar,ye=G.activeShape,Te=!!(!ae&&D&&M&&(q||ce||ye)),ge={};O!=="axis"&&M&&M.props.trigger==="click"?ge={onClick:wd(w.handleItemMouseEnter,_.props.onClick)}:O!=="axis"&&(ge={onMouseLeave:wd(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:wd(w.handleItemMouseEnter,_.props.onMouseEnter)});var X=N.cloneElement(_,J(J({},T.props),ge));function ne(Y){return typeof k.dataKey=="function"?k.dataKey(Y.payload):null}if(Te)if($>=0){var re,A;if(k.dataKey&&!k.allowDuplicatedCategory){var C=typeof k.dataKey=="function"?ne:"payload.".concat(k.dataKey.toString());re=Mf(B,C,H),A=F&&z&&Mf(z,C,H)}else re=B==null?void 0:B[$],A=F&&z&&z[$];if(ye||ce){var R=_.props.activeIndex!==void 0?_.props.activeIndex:$;return[N.cloneElement(_,J(J(J({},T.props),ge),{},{activeIndex:R})),null,null]}if(!Oe(re))return[X].concat(Uo(w.renderActivePoints({item:T,activePoint:re,basePoint:A,childIndex:$,isRange:F})))}else{var U,Z=(U=w.getItemByXY(w.state.activeCoordinate))!==null&&U!==void 0?U:{graphicalItem:X},ee=Z.graphicalItem,le=ee.item,ue=le===void 0?_:le,fe=ee.childIndex,Ne=J(J(J({},T.props),ge),{},{activeIndex:fe});return[N.cloneElement(ue,Ne),null,null]}return F?[X,null,null]:[X,null]}),Se(w,"renderCustomized",function(_,E,j){return N.cloneElement(_,J(J({key:"recharts-customized-".concat(j)},w.props),w.state))}),Se(w,"renderMap",{CartesianGrid:{handler:Ad,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Ad},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Ad},YAxis:{handler:Ad},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:ku("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=pD(w.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return qle(x,v),zle(x,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,_=b.height,E=b.layout,j=Ar(S,Br);if(j){var T=j.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,P=M0(this.state,w,T,O),D=this.state.tooltipTicks[T].coordinate,k=(this.state.offset.top+_)/2,$=E==="horizontal",H=$?{x:D,y:k}:{y:D,x:k},V=this.state.formattedGraphicalItems.find(function(I){var B=I.item;return B.type.name==="Scatter"});V&&(H=J(J({},H),V.props.points[T].tooltipPosition),P=V.props.points[T].tooltipPayload);var M={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:P,activeCoordinate:H};this.setState(M),this.renderCursor(j),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){dy([Ar(b.children,Br)],[Ar(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ar(this.props.children,Br);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return o.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=QK(w),E={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},j=w.width/S.offsetWidth||1,T=this.inRange(E.chartX,E.chartY,j);if(!T)return null;var O=this.state,P=O.xAxisMap,D=O.yAxisMap,k=this.getTooltipEventType(),$=LA(this.state,this.props.data,this.props.layout,T);if(k!=="axis"&&P&&D){var H=Oa(P).scale,V=Oa(D).scale,M=H&&H.invert?H.invert(E.chartX):null,I=V&&V.invert?V.invert(E.chartY):null;return J(J({},E),{},{xValue:M,yValue:I},$)}return $?J(J({},E),$):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,E=b/w,j=S/w;if(_==="horizontal"||_==="vertical"){var T=this.state.offset,O=E>=T.left&&E<=T.left+T.width&&j>=T.top&&j<=T.top+T.height;return O?{x:E,y:j}:null}var P=this.state,D=P.angleAxisMap,k=P.radiusAxisMap;if(D&&k){var $=Oa(D);return dj({x:E,y:j},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Ar(b,Br),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Rf(this.props,this.handleOuterEvent);return J(J({},E),_)}},{key:"addListener",value:function(){kg.on(Og,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kg.removeListener(Og,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var _=this.state.formattedGraphicalItems,E=0,j=_.length;E<j;E++){var T=_[E];if(T.item===b||T.props.key===b.key||S===Jn(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,E=S.height,j=S.width;return W.createElement("defs",null,W.createElement("clipPath",{id:b},W.createElement("rect",{x:w,y:_,height:E,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=MA(w,2),E=_[0],j=_[1];return J(J({},S),{},Se({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=MA(w,2),E=_[0],j=_[1];return J(J({},S),{},Se({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var E=0,j=w.length;E<j;E++){var T=w[E],O=T.props,P=T.item,D=P.type.defaultProps!==void 0?J(J({},P.type.defaultProps),P.props):P.props,k=Jn(P.type);if(k==="Bar"){var $=(O.data||[]).find(function(I){return One(b,I)});if($)return{graphicalItem:T,payload:$}}else if(k==="RadialBar"){var H=(O.data||[]).find(function(I){return dj(b,I)});if(H)return{graphicalItem:T,payload:H}}else if(np(T,_)||ap(T,_)||uu(T,_)){var V=Mae({graphicalItem:T,activeTooltipItem:_,itemData:D.data}),M=D.activeIndex===void 0?V:D.activeIndex;return{graphicalItem:J(J({},T),{},{childIndex:M}),payload:uu(T,_)?D.data[V]:T.props.data[V]}}}return null}},{key:"render",value:function(){var b=this;if(!X_(this))return null;var S=this.props,w=S.children,_=S.className,E=S.width,j=S.height,T=S.style,O=S.compact,P=S.title,D=S.desc,k=RA(S,$le),$=Re(k,!1);if(O)return W.createElement(uA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(hy,Ys({},$,{width:E,height:j,title:P,desc:D}),this.renderClipPath(),J_(w,this.renderMap)));if(this.props.accessibilityLayer){var H,V;$.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,$.role=(V=this.props.role)!==null&&V!==void 0?V:"application",$.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},$.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return W.createElement(uA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",Ys({className:$e("recharts-wrapper",_),style:J({position:"relative",cursor:"default",width:E,height:j},T)},M,{ref:function(B){b.container=B}}),W.createElement(hy,Ys({},$,{width:E,height:j,title:P,desc:D,style:Jle}),this.renderClipPath(),J_(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Se(p,"displayName",r),Se(p,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Se(p,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,S=v.children,w=v.width,_=v.height,E=v.layout,j=v.stackOffset,T=v.margin,O=x.dataStartIndex,P=x.dataEndIndex;if(x.updateId===void 0){var D=FA(v);return J(J(J({},D),{},{updateId:0},m(J(J({props:v},D),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:S})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||_!==x.prevHeight||E!==x.prevLayout||j!==x.prevStackOffset||!ro(T,x.prevMargin)){var k=FA(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},H=J(J({},LA(x,b,E)),{},{updateId:x.updateId+1}),V=J(J(J({},k),$),H);return J(J(J({},V),m(J({props:v},V),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:j,prevMargin:T,prevChildren:S})}if(!dy(S,x.prevChildren)){var M,I,B,F,z=Ar(S,ko),G=z&&(M=(I=z.props)===null||I===void 0?void 0:I.startIndex)!==null&&M!==void 0?M:O,q=z&&(B=(F=z.props)===null||F===void 0?void 0:F.endIndex)!==null&&B!==void 0?B:P,ae=G!==O||q!==P,ce=!Oe(b),ye=ce&&!ae?x.updateId:x.updateId+1;return J(J({updateId:ye},m(J(J({props:v},x),{},{updateId:ye,dataStartIndex:G,dataEndIndex:q}),x)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:q})}return null}),Se(p,"renderActiveDot",function(v,x,y){var b;return N.isValidElement(v)?b=N.cloneElement(v,x):Ce(v)?b=v(x):b=W.createElement(nw,x),W.createElement(_t,{className:"recharts-active-dot",key:y},b)});var g=N.forwardRef(function(x,y){return W.createElement(p,Ys({},x,{ref:y}))});return g.displayName=p.displayName,g},CP=NP({chartName:"LineChart",GraphicalChild:dl,axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:is}],formatAxisMap:G2}),cce=NP({chartName:"BarChart",GraphicalChild:ei,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:as},{axisType:"yAxis",AxisComp:is}],formatAxisMap:G2});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function Jr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ze(t){ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Mh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function uce(t,e){ze(2,arguments);var r=Ze(t),n=Jr(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function kP(t,e){ze(2,arguments);var r=Ze(t),n=Jr(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function dce(t,e){ze(2,arguments);var r=Ze(t).getTime(),n=Jr(e);return new Date(r+n)}var fce={};function $u(){return fce}function R0(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Qd(t,e){ze(2,arguments);var r=Ze(t),n=Ze(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var OP=6e4,DP=36e5;function hce(t){return ze(1,arguments),t instanceof Date||Mh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mce(t){if(ze(1,arguments),!hce(t)&&typeof t!="number")return!1;var e=Ze(t);return!isNaN(Number(e))}function pce(t,e){ze(2,arguments);var r=Ze(t),n=Ze(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function gce(t,e){return ze(2,arguments),Ze(t).getTime()-Ze(e).getTime()}var BA={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},vce="trunc";function yce(t){return t?BA[t]:BA[vce]}function xce(t){ze(1,arguments);var e=Ze(t);return e.setHours(23,59,59,999),e}function bce(t){ze(1,arguments);var e=Ze(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function wce(t){ze(1,arguments);var e=Ze(t);return xce(e).getTime()===bce(e).getTime()}function Sce(t,e){ze(2,arguments);var r=Ze(t),n=Ze(e),a=Qd(r,n),i=Math.abs(pce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=Qd(r,n)===-a;wce(Ze(t))&&i===1&&Qd(t,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function _ce(t,e,r){ze(2,arguments);var n=gce(t,e)/1e3;return yce(r==null?void 0:r.roundingMethod)(n)}function Ece(t,e){ze(2,arguments);var r=Jr(e);return dce(t,-r)}var jce=864e5;function Ace(t){ze(1,arguments);var e=Ze(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=r-n;return Math.floor(a/jce)+1}function Rh(t){ze(1,arguments);var e=1,r=Ze(t),n=r.getUTCDay(),a=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function PP(t){ze(1,arguments);var e=Ze(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Rh(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=Rh(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Tce(t){ze(1,arguments);var e=PP(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Rh(r);return n}var Nce=6048e5;function Cce(t){ze(1,arguments);var e=Ze(t),r=Rh(e).getTime()-Tce(e).getTime();return Math.round(r/Nce)+1}function Ih(t,e){var r,n,a,i,s,o,l,u;ze(1,arguments);var d=$u(),f=Jr((r=(n=(a=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ze(t),m=h.getUTCDay(),p=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function MP(t,e){var r,n,a,i,s,o,l,u;ze(1,arguments);var d=Ze(t),f=d.getUTCFullYear(),h=$u(),m=Jr((r=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,m),p.setUTCHours(0,0,0,0);var g=Ih(p,e),v=new Date(0);v.setUTCFullYear(f,0,m),v.setUTCHours(0,0,0,0);var x=Ih(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function kce(t,e){var r,n,a,i,s,o,l,u;ze(1,arguments);var d=$u(),f=Jr((r=(n=(a=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=MP(t,e),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var p=Ih(m,e);return p}var Oce=6048e5;function Dce(t,e){ze(1,arguments);var r=Ze(t),n=Ih(r,e).getTime()-kce(r,e).getTime();return Math.round(n/Oce)+1}function Ve(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Pce={y:function(e,r){var n=e.getUTCFullYear(),a=n>0?n:1-n;return Ve(r==="yy"?a%100:a,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Ve(n+1,2)},d:function(e,r){return Ve(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Ve(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Ve(e.getUTCHours(),r.length)},m:function(e,r){return Ve(e.getUTCMinutes(),r.length)},s:function(e,r){return Ve(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Ve(i,r.length)}};const wa=Pce;var Os={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mce={G:function(e,r,n){var a=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return wa.y(e,r)},Y:function(e,r,n,a){var i=MP(e,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return Ve(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ve(s,r.length)},R:function(e,r){var n=PP(e);return Ve(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Ve(n,r.length)},Q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ve(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ve(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){var a=e.getUTCMonth();switch(r){case"M":case"MM":return wa.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){var a=e.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Ve(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){var i=Dce(e,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Ve(i,r.length)},I:function(e,r,n){var a=Cce(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Ve(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):wa.d(e,r)},D:function(e,r,n){var a=Ace(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ve(a,r.length)},E:function(e,r,n){var a=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){var i=e.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Ve(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){var i=e.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Ve(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var a=e.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Ve(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var a=e.getUTCHours(),i;switch(a===12?i=Os.noon:a===0?i=Os.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var a=e.getUTCHours(),i;switch(a>=17?i=Os.evening:a>=12?i=Os.afternoon:a>=4?i=Os.morning:i=Os.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return wa.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):wa.H(e,r)},K:function(e,r,n){var a=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ve(a,r.length)},k:function(e,r,n){var a=e.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ve(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):wa.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):wa.s(e,r)},S:function(e,r){return wa.S(e,r)},X:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return zA(s);case"XXXX":case"XX":return Ti(s);case"XXXXX":case"XXX":default:return Ti(s,":")}},x:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"x":return zA(s);case"xxxx":case"xx":return Ti(s);case"xxxxx":case"xxx":default:return Ti(s,":")}},O:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+HA(s,":");case"OOOO":default:return"GMT"+Ti(s,":")}},z:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+HA(s,":");case"zzzz":default:return"GMT"+Ti(s,":")}},t:function(e,r,n,a){var i=a._originalDate||e,s=Math.floor(i.getTime()/1e3);return Ve(s,r.length)},T:function(e,r,n,a){var i=a._originalDate||e,s=i.getTime();return Ve(s,r.length)}};function HA(t,e){var r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=e||"";return r+String(a)+s+Ve(i,2)}function zA(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Ve(Math.abs(t)/60,2)}return Ti(t,e)}function Ti(t,e){var r=e||"",n=t>0?"-":"+",a=Math.abs(t),i=Ve(Math.floor(a/60),2),s=Ve(a%60,2);return n+i+r+s}const Rce=Mce;var WA=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},RP=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ice=function(e,r){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return WA(e,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",WA(a,r)).replace("{{time}}",RP(i,r))},$ce={p:RP,P:Ice};const Lce=$ce;var Fce=["D","DD"],Uce=["YY","YYYY"];function Bce(t){return Fce.indexOf(t)!==-1}function Hce(t){return Uce.indexOf(t)!==-1}function VA(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wce=function(e,r,n){var a,i=zce[e];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const Vce=Wce;function Pg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var Gce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kce={date:Pg({formats:Gce,defaultWidth:"full"}),time:Pg({formats:qce,defaultWidth:"full"}),dateTime:Pg({formats:Yce,defaultWidth:"full"})};const Qce=Kce;var Xce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zce=function(e,r,n,a){return Xce[e]};const Jce=Zce;function Il(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=t.formattingValues[s]||t.formattingValues[i]}else{var o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return a[u]}}var eue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sue=function(e,r){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oue={ordinalNumber:sue,era:Il({values:eue,defaultWidth:"wide"}),quarter:Il({values:tue,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Il({values:rue,defaultWidth:"wide"}),day:Il({values:nue,defaultWidth:"wide"}),dayPeriod:Il({values:aue,defaultWidth:"wide",formattingValues:iue,defaultFormattingWidth:"wide"})};const lue=oue;function $l(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;var s=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?uue(o,function(f){return f.test(s)}):cue(o,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function cue(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function uue(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function due(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var a=n[0],i=e.match(t.parsePattern);if(!i)return null;var s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=e.slice(a.length);return{value:s,rest:o}}}var fue=/^(\d+)(th|st|nd|rd)?/i,hue=/\d+/i,mue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pue={any:[/^b/i,/^(a|c)/i]},gue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vue={any:[/1/i,/2/i,/3/i,/4/i]},yue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Eue={ordinalNumber:due({matchPattern:fue,parsePattern:hue,valueCallback:function(e){return parseInt(e,10)}}),era:$l({matchPatterns:mue,defaultMatchWidth:"wide",parsePatterns:pue,defaultParseWidth:"any"}),quarter:$l({matchPatterns:gue,defaultMatchWidth:"wide",parsePatterns:vue,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$l({matchPatterns:yue,defaultMatchWidth:"wide",parsePatterns:xue,defaultParseWidth:"any"}),day:$l({matchPatterns:bue,defaultMatchWidth:"wide",parsePatterns:wue,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:Sue,defaultMatchWidth:"any",parsePatterns:_ue,defaultParseWidth:"any"})};const jue=Eue;var Aue={code:"en-US",formatDistance:Vce,formatLong:Qce,formatRelative:Jce,localize:lue,match:jue,options:{weekStartsOn:0,firstWeekContainsDate:1}};const IP=Aue;var Tue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cue=/^'([^]*?)'?$/,kue=/''/g,Oue=/[a-zA-Z]/;function Oi(t,e,r){var n,a,i,s,o,l,u,d,f,h,m,p,g,v,x,y,b,S;ze(2,arguments);var w=String(e),_=$u(),E=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:_.locale)!==null&&n!==void 0?n:IP,j=Jr((i=(s=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:_.firstWeekContainsDate)!==null&&s!==void 0?s:(f=_.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Jr((m=(p=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:_.weekStartsOn)!==null&&p!==void 0?p:(b=_.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&m!==void 0?m:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var O=Ze(t);if(!mce(O))throw new RangeError("Invalid time value");var P=R0(O),D=Ece(O,P),k={firstWeekContainsDate:j,weekStartsOn:T,locale:E,_originalDate:O},$=w.match(Nue).map(function(H){var V=H[0];if(V==="p"||V==="P"){var M=Lce[V];return M(H,E.formatLong)}return H}).join("").match(Tue).map(function(H){if(H==="''")return"'";var V=H[0];if(V==="'")return Due(H);var M=Rce[V];if(M)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Hce(H)&&VA(H,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Bce(H)&&VA(H,e,String(t)),M(D,H,E.localize,k);if(V.match(Oue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return H}).join("");return $}function Due(t){var e=t.match(Cue);return e?e[1].replace(kue,"'"):t}function $P(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Pue(t){return $P({},t)}var GA=1440,Mue=2520,Mg=43200,Rue=86400;function Iue(t,e,r){var n,a;ze(2,arguments);var i=$u(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:IP;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Qd(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var l=$P(Pue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=Ze(e),d=Ze(t)):(u=Ze(t),d=Ze(e));var f=_ce(d,u),h=(R0(d)-R0(u))/1e3,m=Math.round((f-h)/60),p;if(m<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<GA){var g=Math.round(m/60);return s.formatDistance("aboutXHours",g,l)}else{if(m<Mue)return s.formatDistance("xDays",1,l);if(m<Mg){var v=Math.round(m/GA);return s.formatDistance("xDays",v,l)}else if(m<Rue)return p=Math.round(m/Mg),s.formatDistance("aboutXMonths",p,l)}if(p=Sce(d,u),p<12){var x=Math.round(m/Mg);return s.formatDistance("xMonths",x,l)}else{var y=p%12,b=Math.floor(p/12);return y<3?s.formatDistance("aboutXYears",b,l):y<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function hw(t,e){return ze(1,arguments),Iue(t,Date.now(),e)}function $ue(t,e){ze(2,arguments);var r=Jr(e);return uce(t,-r)}function I0(t,e){var r;ze(1,arguments);var n=Jr((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var a=Bue(t),i;if(a.date){var s=Hue(a.date,n);i=zue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,u;if(a.time&&(l=Wue(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(u=Vue(a.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+l+u)}var Td={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Uue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bue(t){var e={},r=t.split(Td.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Td.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Td.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var a=Td.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Hue(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function zue(t,e){if(e===null)return new Date(NaN);var r=t.match(Lue);if(!r)return new Date(NaN);var n=!!r[4],a=Ll(r[1]),i=Ll(r[2])-1,s=Ll(r[3]),o=Ll(r[4]),l=Ll(r[5])-1;if(n)return Que(e,o,l)?Gue(e,o,l):new Date(NaN);var u=new Date(0);return!Yue(e,i,s)||!Kue(e,a)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(a,s)),u)}function Ll(t){return t?parseInt(t):1}function Wue(t){var e=t.match(Fue);if(!e)return NaN;var r=Rg(e[1]),n=Rg(e[2]),a=Rg(e[3]);return Xue(r,n,a)?r*DP+n*OP+a*1e3:NaN}function Rg(t){return t&&parseFloat(t.replace(",","."))||0}function Vue(t){if(t==="Z")return 0;var e=t.match(Uue);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Zue(n,a)?r*(n*DP+a*OP):NaN}function Gue(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var que=[31,null,31,30,31,30,31,31,30,31,30,31];function LP(t){return t%400===0||t%4===0&&t%100!==0}function Yue(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(que[e]||(LP(t)?29:28))}function Kue(t,e){return e>=1&&e<=(LP(t)?366:365)}function Que(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Xue(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Zue(t,e){return e>=0&&e<=59}function Jue(t,e){ze(2,arguments);var r=Jr(e);return kP(t,-r)}const Bo=(t,e="MM/dd/yy")=>{if(!t)return"N/A";try{const r=typeof t=="string"?rr(t):t;return!r||isNaN(r.getTime())?"Invalid Date":Oi(r,e)}catch(r){return console.warn("Error formatting date:",t,r),"Invalid Date"}},Wr=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),ede=t=>kP(t,1),tde=t=>Jue(t,1),qA=t=>Oi(t,"MMMM yyyy"),rr=t=>{if(!t)return null;try{if(typeof t=="string"&&t.includes(" 0:00:00")){const n=t.split(" 0:00:00")[0],a=new Date(n+"T00:00:00");if(!isNaN(a.getTime()))return a}const e=I0(t);if(!isNaN(e.getTime()))return e;const r=new Date(t);return isNaN(r.getTime())?null:r}catch{return null}},rde=t=>{if(!t)return"";if(typeof t=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}T/.test(t))return t.slice(0,10)}const e=typeof t=="string"?rr(t):t;if(!e||isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},nde=(t,e)=>e.map(n=>{const i=t.filter(o=>{const l=o.venue?o.venue.trim().toLowerCase():null,u=n.promo?n.promo.trim().toLowerCase():null;return l&&u&&l===u&&o.grossSales>0}).map(o=>({...o,date:new Date(o.date)})).sort((o,l)=>l.date-o.date).slice(0,5).map(o=>o.grossSales);let s=0;return i.length>0&&(s=i.reduce((l,u)=>l+u,0)/i.length,s=Math.round(s/100)*100),{...n,averageSales:s,salesCount:i.length}}).sort((n,a)=>a.averageSales-n.averageSales),ade=(t,e)=>t.filter(n=>{const a=n.venue?n.venue.trim().toLowerCase():null,i=e?e.trim().toLowerCase():null;return a&&i&&a===i&&n.grossSales>0}).map(n=>({...n,date:new Date(n.date)})).sort((n,a)=>a.date-n.date).slice(0,5).map(n=>({date:n.date.toLocaleDateString(),amount:n.grossSales})),ide=({salesData:t,currentSheet:e,selectedYears:r=[new Date().getFullYear()]})=>{const[n,a]=N.useState(!1),i=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((u,d)=>{const f={month:u};return r.forEach(h=>{const p=t.filter(g=>{const v=rr(g.date);return v&&v.getMonth()===d&&v.getFullYear()===h}).reduce((g,v)=>g+(v.grossSales||0),0);f[h]=p}),f}),s=N.useMemo(()=>i(),[t,r]),o=({active:l,payload:u,label:d})=>l&&u&&u.length?c.jsxs("div",{className:"bg-white p-3 border border-secondary-200 rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium text-secondary-900",children:d}),u.map((f,h)=>c.jsxs("p",{style:{color:f.color},className:"text-sm",children:[f.name,": ",Wr(f.value)]},h))]}):null;return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Gross Sales: ",r.length>1?`${r.length} Years`:r[0]," (",e==="TRAILER_HISTORY"?"Trailer":"Camper",")"]}),r.length>1&&c.jsxs("button",{className:`mt-2 sm:mt-0 px-3 py-1 rounded border text-xs font-semibold transition ${n?"bg-primary-600 text-white border-primary-600":"bg-white text-primary-600 border-primary-200 hover:bg-primary-50"}`,onClick:()=>a(l=>!l),children:[n?"Hide":"Show"," All Years"]})]}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"h-96",children:c.jsx(My,{width:"100%",height:"100%",children:c.jsxs(CP,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(Ch,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(as,{dataKey:"month",stroke:"#64748b",fontSize:12}),c.jsx(is,{stroke:"#64748b",fontSize:12,tickFormatter:l=>`$${(l/1e3).toFixed(0)}k`,domain:[0,5e5]}),c.jsx(Br,{content:c.jsx(o,{})}),c.jsx(Ya,{}),r.map((l,u)=>{const d=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"],f=d[u%d.length];return c.jsx(dl,{type:"monotone",dataKey:l,stroke:f,strokeWidth:2,dot:{fill:f,strokeWidth:2,r:4},activeDot:{r:6,stroke:"#94a3b8",strokeWidth:2},name:`${l}`},l)})]})})})})]})},sde=()=>{var ue,fe,Ne;const{salesData:t,currentSheet:e,loading:r}=wt(),[n,a]=N.useState(null),[i,s]=N.useState(new Date().getMonth()),[o,l]=N.useState([new Date().getFullYear()]),[u,d]=N.useState([]),[f,h]=N.useState(!1),[m,p]=N.useState(!1),[g,v]=N.useState(null),x=N.useRef(null),y=N.useRef(null),[b,S]=N.useState([]),[w,_]=N.useState(!0),[E,j]=N.useState(null),[T,O]=N.useState([]),[P,D]=N.useState([new Date().getFullYear()]),[k,$]=N.useState(!1),H=N.useRef(null),V=N.useRef(null);N.useEffect(()=>{const Y=de=>{x.current&&!x.current.contains(de.target)&&h(!1),y.current&&!y.current.contains(de.target)&&p(!1)};return(f||m)&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[f,m]),N.useEffect(()=>($(!0),H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{O(u),$(!1)},800),()=>{H.current&&clearTimeout(H.current)}),[u]),N.useEffect(()=>($(!0),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{D(o),$(!1)},800),()=>{V.current&&clearTimeout(V.current)}),[o]),N.useEffect(()=>()=>{H.current&&clearTimeout(H.current),V.current&&clearTimeout(V.current)},[]),N.useEffect(()=>{(async()=>{try{const de=await oe.getStores();de.success?S(de.data):console.error("Error fetching stores:",de.error)}catch(de){console.error("Error fetching stores:",de)}finally{_(!1)}})()},[]);const M=["Trailer","Camper","Spartanburg","Greenville","Columbia"],I=()=>{const Y=Array.from(new Set(t.map(de=>de.store).filter(Boolean)));return Y.length===0?M:Y},B=N.useCallback(()=>T.length===0?t:t.filter(de=>T.includes(de.store)),[T,t]),F=N.useCallback(Y=>{d(de=>de.includes(Y)?de.filter(he=>he!==Y):[...de,Y])},[]),z=N.useCallback(()=>{const Y=I();d(Y)},[]),G=N.useCallback(()=>{d([])},[]),q=N.useCallback(Y=>{l(de=>{if(de.includes(Y)){const he=de.filter(we=>we!==Y);return he.length>0?he:[new Date().getFullYear()]}else return de.length<5?[...de,Y].sort((he,we)=>we-he):de})},[]),ae=N.useCallback(()=>{const Y=new Date().getFullYear(),de=[Y,Y-1,Y-2,Y-3,Y-4];l(de)},[]),ce=N.useCallback(()=>{l([new Date().getFullYear()])},[]),ye=()=>o.length===0?"Select Years":o.length===1?o[0].toString():o.length===5?"All Years":`${o.length} Years Selected`,Te=()=>u.length===0?"All Stores":u.length===1?u[0]:u.length===I().length?"All Stores":`${u.length} Stores Selected`,ge=N.useCallback(()=>{const Y=B(),de=new Date,he=de.getMonth(),we=de.getFullYear(),ve={};P.forEach(Fe=>{const yt=Y.filter(Fn=>{const yi=rr(Fn.date);return yi&&yi.getFullYear()===Fe}),_e=yt.reduce((Fn,yi)=>Fn+(yi.grossSales||0),0),Ue=yt.filter(Fn=>(Fn.grossSales||0)>0).length;let Qe,Yt,ya;if(Fe===we){const Fn=Math.max(0,he-1);Qe=Fn+1;const yi=yt.filter(ml=>{const Bu=rr(ml.date);return Bu&&Bu.getMonth()<=Fn}),Yw=yi.reduce((ml,Bu)=>ml+(Bu.grossSales||0),0),Kw=yi.filter(ml=>(ml.grossSales||0)>0).length;Yt=Qe>0?Math.round(Yw/Qe):0,ya=Kw>0?Math.round(Yw/Kw):0}else Qe=12,Yt=Qe>0?Math.round(_e/Qe):0,ya=Ue>0?Math.round(_e/Ue):0;ve[Fe]={totalGross:Math.round(_e),positiveSalesCount:Ue,monthlyAverage:Yt,averagePerSale:ya,monthsToCount:Qe}});const je=P[0]||we,Ye=Y.filter(Fe=>{const yt=rr(Fe.date);return yt&&yt.getMonth()===i&&yt.getFullYear()===je}),Bt=Ye,Ke=Ye.reduce((Fe,yt)=>Fe+(yt.grossSales||0),0),jt=Ye.filter(Fe=>(Fe.grossSales||0)>0).length;return{selectedYearsData:ve,confirmedMonthSalesCount:Bt.length,positiveMonthSalesCount:jt,monthTotalGross:Math.round(Ke),primaryYear:je}},[B,P,i]),X=N.useMemo(()=>ge(),[ge]),ne=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],re=()=>{var Y;return((Y=ne.find(de=>de.value===i))==null?void 0:Y.label)||"Unknown"},A=N.useCallback(()=>{const Y=["January","February","March","April","May","June","July","August","September","October","November","December"],de=[];return Y.forEach((he,we)=>{const ve={month:he,monthIndex:we,years:{}};let je=!1;P.forEach(Ye=>{const Bt=B().filter(yt=>{const _e=rr(yt.date);return _e&&_e.getMonth()===we&&_e.getFullYear()===Ye}),Ke=Bt.reduce((yt,_e)=>yt+(_e.grossSales||0),0),jt=Bt.length,Fe=Bt.filter(yt=>(yt.grossSales||0)>0).length;ve.years[Ye]={salesCount:Bt.length,confirmedSales:jt,positiveSales:Fe,totalGross:Ke,sales:Bt},Bt.length>0&&(je=!0)}),je&&de.push(ve)}),de},[B,P]),C=N.useMemo(()=>A(),[A]),R=Y=>{a(Y)},U=()=>{a(null)},Z=Y=>{s(parseInt(Y.target.value))},ee=(Y,de)=>{switch(Y){case"scheduler":window.location.href=`/scheduler?store=${de.id}`;break;case"staff":window.location.href=`/staff?store=${de.id}`;break;case"reports":window.location.href=`/sales-analysis?store=${de.id}`;break;case"pay-calculator":window.location.href=`/pay-calculator?store=${de.id}`;break;case"bonuses":window.location.href=`/bonuses?store=${de.id}`;break;case"settings":window.location.href=`/venues?store=${de.id}`;break}},le=Y=>Y.store==="Trailer"||Y.store==="Camper"?Y.store:Y.venue||Y.store||"N/A";return r?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading dashboard..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please wait while we load your data"})]})}):t.length===0&&!r?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your dashboard will show sales analytics once you have data in your system."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Try adding some sales entries or check your data connection."})]})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative",ref:x,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Filter by Store"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>h(!f),className:"block w-full sm:w-64 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:Te()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(ic,{className:"h-4 w-4 text-secondary-400"})})]}),f&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-64 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:z,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:G,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:I().map(Y=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:u.includes(Y),onChange:()=>F(Y),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:Y})]},Y))})]})]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative mr-4",ref:y,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Select Years"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>p(!m),className:"block w-full sm:w-48 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:ye()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(ic,{className:"h-4 w-4 text-secondary-400"})})]}),m&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-48 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:ae,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:ce,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:Array.from({length:5},(Y,de)=>new Date().getFullYear()-de).map(Y=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:o.includes(Y),onChange:()=>q(Y),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:Y})]},Y))})]})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[18rem_1fr_22rem] gap-6 mb-8 items-stretch",children:[c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"18rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Tn,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Total Gross Sales"}),k?c.jsx("div",{className:"flex flex-col gap-1",children:o.map(Y=>c.jsxs("div",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[Y," - ",c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-20 ml-2 rounded"})]},Y))}):c.jsx("div",{className:"flex flex-col gap-1",children:P.map(Y=>{var de;return c.jsxs("span",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[Y," - $",((de=X.selectedYearsData[Y])==null?void 0:de.totalGross.toLocaleString())||"0"]},Y)})})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"40rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Cr,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 min-w-0",children:[c.jsxs("p",{className:"text-base font-bold text-primary-700 whitespace-nowrap",children:["Month Sales [",e==="TRAILER_HISTORY"?"Trailer":"Camper"," Only]"]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("select",{value:i,onChange:Z,className:"text-xs border border-secondary-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",style:{maxWidth:"8rem"},children:ne.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value))})})]}),k?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-32 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-40 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-48 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Confirmed: ",X.confirmedMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Completed Sales: ",X.positiveMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Total Gross Sales (",re()," ",X.primaryYear,"): $",X.monthTotalGross.toLocaleString()]})]})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"22rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(vo,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Average"}),k?c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),o.map(Y=>c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:Y}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"})]},Y))]}):c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),P.map(Y=>{var de,he,we,ve,je,Ye;return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:Y}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:["$",((de=X.selectedYearsData[Y])==null?void 0:de.averagePerSale.toLocaleString())||"0"]}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap cursor-help relative group",onMouseEnter:()=>v(Y),onMouseLeave:()=>v(null),children:["$",((he=X.selectedYearsData[Y])==null?void 0:he.monthlyAverage.toLocaleString())||"0",g===Y&&c.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[c.jsxs("div",{children:[((we=X.selectedYearsData[Y])==null?void 0:we.monthsToCount)||0," month",(((ve=X.selectedYearsData[Y])==null?void 0:ve.monthsToCount)||0)!==1?"s":""," used"]}),c.jsxs("div",{children:["Total: $",((je=X.selectedYearsData[Y])==null?void 0:je.totalGross.toLocaleString())||"0"]}),c.jsxs("div",{children:["Monthly Average: $",((Ye=X.selectedYearsData[Y])==null?void 0:Ye.monthlyAverage.toLocaleString())||"0"]}),c.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]},Y)}),c.jsx("div",{className:"mt-2 text-xs text-secondary-600",children:X.primaryYear===new Date().getFullYear()?`Based on ${((ue=X.selectedYearsData[X.primaryYear])==null?void 0:ue.monthsToCount)||0} month${(((fe=X.selectedYearsData[X.primaryYear])==null?void 0:fe.monthsToCount)||0)!==1?"s":""} (Jan - ${((Ne=ne[Math.max(0,new Date().getMonth()-1)])==null?void 0:Ne.label)||"Previous Month"})`:"Based on 12 months"})]})]})]})})})]}),c.jsx("div",{className:"mb-8",children:k?c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})})})}):c.jsx(ide,{salesData:B(),currentSheet:e,selectedYears:P})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Monthly Sales Statistics - Last 3 Years"})}),c.jsx("div",{className:"card-body",children:k?c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsxs("thead",{className:"table-header",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Month"}),P.map(Y=>c.jsx("th",{className:"table-header-cell",colSpan:"3",children:Y},Y)),c.jsx("th",{className:"table-header-cell",children:"Actions"})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell"}),P.map(Y=>c.jsxs(W.Fragment,{children:[c.jsx("th",{className:"table-header-cell text-xs",children:"Sales"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Confirmed"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Gross Sales"})]},Y)),c.jsx("th",{className:"table-header-cell"})]})]}),c.jsx("tbody",{className:"table-body",children:C.map((Y,de)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:Y.month}),P.map(he=>{var we,ve,je;return c.jsxs(W.Fragment,{children:[c.jsx("td",{className:"table-cell",children:((we=Y.years[he])==null?void 0:we.salesCount)||0}),c.jsx("td",{className:"table-cell",children:((ve=Y.years[he])==null?void 0:ve.confirmedSales)||0}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(((je=Y.years[he])==null?void 0:je.totalGross)||0)})]},he)}),c.jsx("td",{className:"table-cell",children:c.jsx("button",{onClick:()=>R(Y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"View Details",children:c.jsx(Vk,{className:"w-4 h-4"})})})]},de))})]})})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Store Management"}),c.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Hover over a store to see available actions"})]}),c.jsx("div",{className:"card-body",children:w?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(Y=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},Y))}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(Y=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>j(Y.id),onMouseLeave:()=>j(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:Y.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",Y.number]})]})]}),E===Y.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>ee("scheduler",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ci,{className:"w-4 h-4 mr-2"}),"Scheduler"]}),c.jsxs("button",{onClick:()=>ee("staff",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Staff"]}),c.jsxs("button",{onClick:()=>ee("reports",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Reports"]}),c.jsxs("button",{onClick:()=>ee("pay-calculator",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(tb,{className:"w-4 h-4 mr-2"}),"Pay Calculator"]}),c.jsxs("button",{onClick:()=>ee("bonuses",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(zF,{className:"w-4 h-4 mr-2"}),"Bonuses"]}),c.jsxs("button",{onClick:()=>ee("settings",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Pf,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})]},Y.id))})})]})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[c.jsxs("h3",{className:"text-xl font-semibold text-secondary-900",children:[n.month," Sales Details - ",o.length," Year",o.length!==1?"s":""]}),c.jsx("button",{onClick:U,className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:c.jsx(Rc,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[c.jsx("div",{className:`grid gap-4 mb-6 ${o.length<=3?"grid-cols-3":"grid-cols-2"}`,children:o.map((Y,de)=>{const he=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900"],we=he[de%he.length],ve=n.years[Y];return c.jsxs("div",{className:`p-4 rounded-lg border ${we}`,children:[c.jsx("h4",{className:"text-lg font-semibold mb-3",children:Y}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Total Sales:"}),c.jsx("p",{className:"font-bold",children:(ve==null?void 0:ve.salesCount)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Confirmed:"}),c.jsx("p",{className:"font-bold",children:(ve==null?void 0:ve.confirmedSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Positive:"}),c.jsx("p",{className:"font-bold",children:(ve==null?void 0:ve.positiveSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Gross Sales:"}),c.jsx("p",{className:"font-bold",children:Wr((ve==null?void 0:ve.totalGross)||0)})]})]})]},Y)})}),c.jsx("div",{className:"space-y-6",children:o.map((Y,de)=>{const he=["text-blue-900","text-green-900","text-purple-900","text-orange-900","text-pink-900"],we=he[de%he.length],ve=n.years[Y];return c.jsxs("div",{children:[c.jsxs("h4",{className:`text-lg font-semibold ${we} mb-3`,children:[Y," Sales"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"})]})}),c.jsx("tbody",{className:"table-body",children:(ve==null?void 0:ve.sales.length)===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"6",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",n.month," ",Y]})}):ve==null?void 0:ve.sales.map(je=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:Bo(je.date)}),c.jsx("td",{className:"table-cell",children:le(je)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(je.grossSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(je.netSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(je.salesTax)}),c.jsx("td",{className:"table-cell font-medium",children:je.count||1})]},je.id))})]})})]},Y)})})]})]})})]})},ode=({onAddVenue:t,onEditVenue:e,onDeleteVenue:r})=>{const{venuesData:n,salesData:a}=wt(),[i,s]=N.useState([]),[o,l]=N.useState(""),[u,d]=N.useState(""),[f,h]=N.useState(null),[m,p]=N.useState(!1),g=N.useMemo(()=>nde(a,n),[a,n]),v=N.useMemo(()=>[...new Set(g.map(S=>S.addressCity).filter(Boolean))],[g]);N.useEffect(()=>{let S=g;o&&(S=S.filter(w=>w.promo.toLowerCase().includes(o.toLowerCase())||w.addressCity.toLowerCase().includes(o.toLowerCase())||w.contact.toLowerCase().includes(o.toLowerCase()))),u&&(S=S.filter(w=>w.addressCity===u)),s(S)},[g,o,u]);const x=async S=>{window.confirm("Are you sure you want to delete this venue?")&&await r(S)},y=S=>{h(S),p(!0)},b=()=>{l(""),d("")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(XF,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search venues...",value:o,onChange:S=>l(S.target.value),className:"pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"All Cities"}),v.map(S=>c.jsx("option",{value:S,children:S},S))]}),(o||u)&&c.jsx("button",{onClick:b,className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Clear Filters"})]}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(ui,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),c.jsxs("div",{className:"text-sm text-secondary-600",children:["Showing ",i.length," of ",g.length," venues"]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Venue Name"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell sticky right-0 bg-white z-10",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:i.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center text-secondary-500 py-8",children:o||u?"No venues match your search criteria":"No venues found"})}):i.map((S,w)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-secondary-900 flex items-center",children:[S.averageSales>0&&c.jsxs("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-primary-600 rounded-full mr-2",children:["#",w+1]}),S.promo]}),S.promoSend&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["Promo: ",S.promoSend]}),S.averageSales>0&&c.jsxs("div",{className:"text-xs text-primary-600 font-medium mt-1",children:[" Avg Sales: $",S.averageSales.toLocaleString()," (",S.salesCount," sales)"]})]})}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-4 h-4 mr-1 text-secondary-400"}),S.addressCity]})}),c.jsx("td",{className:"table-cell sticky right-0 bg-white z-10",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>y(S),className:"text-primary-600 hover:text-primary-900 font-semibold text-xs px-2 py-1 rounded border border-primary-200 bg-primary-50 hover:bg-primary-100 transition",title:"Show Details",children:"Show Details"}),c.jsx("button",{onClick:()=>e(S),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>x(S.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(di,{className:"w-4 h-4"})})]})})]},S.id))})]})})})}),m&&f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Venue Details"}),c.jsx("button",{onClick:()=>p(!1),className:"text-secondary-400 hover:text-secondary-600",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Venue Name"}),c.jsx("p",{className:"text-secondary-900 font-medium",children:f.promo})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Promo to Send"}),c.jsx("p",{className:"text-secondary-900",children:f.promoSend||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Address/City"}),c.jsx("p",{className:"text-secondary-900",children:f.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Contact"}),c.jsx("p",{className:"text-secondary-900",children:f.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Phone"}),c.jsx("p",{className:"text-secondary-900",children:f.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Email"}),c.jsx("p",{className:"text-secondary-900",children:c.jsx("a",{href:`mailto:${f.email}`,className:"text-primary-600 hover:text-primary-900",children:f.email})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Times"}),c.jsx("p",{className:"text-secondary-900",children:f.times||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Show Info"}),c.jsx("p",{className:"text-secondary-900",children:f.showInfo||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Forecast Will"}),c.jsx("p",{className:"text-secondary-900",children:f.forecastWill||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Last 5 Sales"}),c.jsx("div",{className:"text-secondary-900",children:(()=>{const S=ade(a,f.promo);return S.length>0?c.jsx("div",{className:"space-y-1",children:S.map((w,_)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-secondary-600",children:w.date}),c.jsxs("span",{className:"font-medium",children:["$",w.amount.toLocaleString()]})]},_))}):c.jsx("span",{className:"text-secondary-500",children:"No sales data"})})()})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>p(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{p(!1),e(f)},className:"btn-primary",children:"Edit"})]})]})})]})},lde=()=>{const{addVenueEntry:t,updateVenueEntry:e,deleteVenueEntry:r,loading:n}=wt(),[a,i]=N.useState(!1),[s,o]=N.useState(null),[l,u]=N.useState(tg()),[d,f]=N.useState({}),h=()=>{o(null),u(tg()),f({}),i(!0)},m=y=>{o(y),u({promo:y.promo,promoSend:y.promoSend,addressCity:y.addressCity,contact:y.contact,phone:y.phone,email:y.email,times:y.times,showInfo:y.showInfo,forecastWill:y.forecastWill}),f({}),i(!0)},p=async y=>{const b=await r(y);b.success||alert(`Error deleting venue: ${b.error}`)},g=()=>{const y={};return l.promo||(y.promo="Venue name is required"),l.addressCity||(y.addressCity="Address/City is required"),l.contact||(y.contact="Contact is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(y.email="Please enter a valid email address"),f(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!g())return;const b={promo:l.promo,promo_send:l.promoSend,address_city:l.addressCity,contact:l.contact,phone:l.phone,email:l.email,times:l.times,show_info:l.showInfo,forecast_will:l.forecastWill};let S;s?S=await e(s.id,b):S=await t(b),S.success?(i(!1),o(null),u(tg())):alert(`Error ${s?"updating":"adding"} venue: ${S.error}`)},x=(y,b)=>{u(S=>({...S,[y]:b})),d[y]&&f(S=>({...S,[y]:""}))};return n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading venues..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Venues"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage venue information, contacts, and event details"})]}),c.jsx(ode,{onAddVenue:h,onEditVenue:m,onDeleteVenue:p}),a&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:s?"Edit Venue":"Add New Venue"}),c.jsx("button",{onClick:()=>i(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue Name *"}),c.jsx("input",{type:"text",value:l.promo,onChange:y=>x("promo",y.target.value),className:He("input",d.promo&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter venue name"}),d.promo&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.promo})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Promo to Send"}),c.jsx("input",{type:"text",value:l.promoSend,onChange:y=>x("promoSend",y.target.value),className:"input",placeholder:"Enter promo information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Address/City *"}),c.jsx("input",{type:"text",value:l.addressCity,onChange:y=>x("addressCity",y.target.value),className:He("input",d.addressCity&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter address and city"}),d.addressCity&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Contact *"}),c.jsx("input",{type:"text",value:l.contact,onChange:y=>x("contact",y.target.value),className:He("input",d.contact&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Contact person name"}),d.contact&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:l.phone,onChange:y=>x("phone",y.target.value),className:"input",placeholder:"Phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:l.email,onChange:y=>x("email",y.target.value),className:He("input",d.email&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Email address"}),d.email&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Times"}),c.jsx("input",{type:"text",value:l.times,onChange:y=>x("times",y.target.value),className:"input",placeholder:"e.g., 9 AM - 5 PM"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Show Info"}),c.jsx("textarea",{value:l.showInfo,onChange:y=>x("showInfo",y.target.value),className:"input",rows:"3",placeholder:"Additional show information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Forecast Will"}),c.jsx("input",{type:"text",value:l.forecastWill,onChange:y=>x("forecastWill",y.target.value),className:"input",placeholder:"Forecast information"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:s?"Update Venue":"Add Venue"})]})]})]})})]})})},cde=({staffId:t,staffName:e,onSave:r})=>{const[n,a]=N.useState([]),[i,s]=N.useState(!0),[o,l]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(0),[m,p]=N.useState(!1);N.useEffect(()=>{if(!t){console.log(" No staffId provided");return}console.log(" Loading bonus tiers for staff:",t),(async()=>{try{const _=await oe.getStaffBonusTiers(t);if(console.log(" Load result:",_),_.success){const E=(_.data||[]).map(j=>({id:j.id,staff_id:j.staff_id,sales_target:j.sales_target,bonus_amount:j.bonus_amount,description:j.description||j.tier_name||`Bonus for $${j.sales_target.toLocaleString()}+ sales`,is_active:j.is_active}));console.log(" Converted tiers:",E),a(E)}else console.error(" Load failed:",_.error),d("Failed to load bonus tiers")}catch(_){console.error(" Exception during load:",_),d("Failed to load bonus tiers")}finally{s(!1)}})()},[t]),N.useEffect(()=>{p(n.some(w=>w.id.toString().startsWith("temp_")))},[n]);const g=N.useCallback(()=>{const w={id:`temp_${Date.now()}_${f}`,staff_id:t,sales_target:0,bonus_amount:0,description:"",is_active:!0};a(_=>[..._,w]),h(_=>_+1)},[t,f]),v=N.useCallback(w=>{a(_=>_.filter(E=>E.id!==w))},[]),x=N.useCallback((w,_,E)=>{a(j=>j.map(T=>T.id===w?{...T,[_]:E}:T))},[]),y=N.useCallback(async()=>{if(!m){console.log(" No changes to save");return}console.log(" Saving bonus tiers:",n),l(!0),d(null);try{const w=n.map(j=>({staff_id:j.staff_id,tier_name:j.description||`Bonus for $${j.sales_target.toLocaleString()}+ sales`,sales_target:j.sales_target,bonus_amount:j.bonus_amount,description:j.description,is_active:j.is_active}));console.log(" Converted tiers for database:",w);const _=[...w].sort((j,T)=>j.sales_target-T.sales_target);console.log(" Sorted tiers:",_);const E=await oe.saveStaffBonusTiers(t,_);if(console.log(" Save result:",E),E.success){console.log(" Save successful, reloading data...");const j=await oe.getStaffBonusTiers(t);if(console.log(" Reload result:",j),j.success){const T=(j.data||[]).map(O=>({id:O.id,staff_id:O.staff_id,sales_target:O.sales_target,bonus_amount:O.bonus_amount,description:O.description||O.tier_name||`Bonus for $${O.sales_target.toLocaleString()}+ sales`,is_active:O.is_active}));console.log(" Final converted tiers from database:",T),a(T)}p(!1),r&&await r(n)}else d("Failed to save bonus tiers"),console.error(" Save failed:",E.error)}catch(w){d("Failed to save bonus tiers"),console.error(" Exception during save:",w)}finally{l(!1)}},[n,t,m,r]),b=N.useCallback(w=>{if(!n||n.length===0)return 0;const _=[...n].filter(E=>E.is_active).sort((E,j)=>j.sales_target-E.sales_target);for(const E of _)if(w>=E.sales_target)return E.bonus_amount;return 0},[n]),S=N.useMemo(()=>[...n].sort((w,_)=>w.sales_target-_.sales_target),[n]);return i?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[c.jsx(Tn,{className:"w-5 h-5 mr-2 text-green-600"}),"Personal Bonus Structure - ",e]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set individual bonus tiers for this staff member"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[u&&c.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-1 rounded",children:u}),c.jsxs("button",{onClick:g,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[c.jsx(ui,{className:"w-4 h-4 mr-1"}),"Add Tier"]}),c.jsx("button",{onClick:y,disabled:o||!m,className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o||!m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ab,{className:"w-4 h-4 mr-1"}),"Save Changes"]})})]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Target"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bonus Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[c.jsx(Tn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("p",{children:"No bonus tiers set for this staff member"}),c.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create the first bonus structure'})]})}):S.map((w,_)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gk,{className:"w-4 h-4 text-blue-600 mr-2"}),c.jsx("input",{type:"number",value:w.sales_target,onChange:E=>x(w.id,"sales_target",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"}),c.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"+"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-4 h-4 text-green-600 mr-1"}),c.jsx("input",{type:"number",value:w.bonus_amount,onChange:E=>x(w.id,"bonus_amount",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("input",{type:"text",value:w.description,onChange:E=>x(w.id,"description",E.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"e.g., High performer bonus"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("select",{value:w.is_active?"active":"inactive",onChange:E=>x(w.id,"is_active",E.target.value==="active"),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-900 p-1",title:"Remove tier",children:c.jsx(di,{className:"w-4 h-4"})})})]},`${w.id}-${_}`))})]})})}),S.length>0&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(tb,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bonus Calculator"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Sales Amount"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-4 h-4 text-gray-400 mr-2"}),c.jsx("input",{type:"number",id:"sales-calculator",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter sales amount",step:"0.01",min:"0",onChange:w=>{const _=parseFloat(w.target.value)||0,E=b(_);document.getElementById("bonus-result").textContent=`$${E.toFixed(2)}`}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calculated Bonus"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-4 h-4 text-green-600 mr-2"}),c.jsx("span",{id:"bonus-result",className:"text-2xl font-bold text-green-600",children:"$0.00"})]})]})]})]})]})};function ude(){const[t,e]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!1),[s,o]=N.useState(""),[l,u]=N.useState(""),{supabaseAPI:d}=wt();N.useEffect(()=>{f()},[]);const f=async()=>{i(!0);try{const[m,p]=await Promise.all([d.getUnlinkedUsers(),d.readTable("staff")]);m.success&&e(m.data),p.success&&n(p.data)}catch{o("Failed to load data")}finally{i(!1)}},h=async(m,p)=>{i(!0),o(""),u("");try{const g=await d.linkUserToStaff(m,p);g.success?(u("User successfully linked to staff member!"),await f()):o(g.error||"Failed to link user")}catch{o("An unexpected error occurred")}finally{i(!1)}};return a&&t.length===0?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):c.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Link Users to Staff Members"}),l&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:l})}),s&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:s})}),t.length===0?c.jsx("p",{className:"text-gray-500",children:"All users are already linked to staff members."}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Link unlinked users to existing staff members to give them access to the system."}),c.jsx("div",{className:"space-y-3",children:t.map(m=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:m.name||m.email}),c.jsx("p",{className:"text-sm text-gray-500",children:m.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Role: ",m.role]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",onChange:p=>{p.target.value&&h(m.id,parseInt(p.target.value))},defaultValue:"",children:[c.jsx("option",{value:"",children:"Select staff member..."}),r.map(p=>c.jsxs("option",{value:p.id,children:[p.name," (",p.email,")"]},p.id))]})})]})},m.id))})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:f,disabled:a,className:"text-sm text-indigo-600 hover:text-indigo-500 disabled:opacity-50",children:a?"Loading...":"Refresh"})})]})}const dde=()=>{const{staffData:t,addStaffEntry:e,updateStaffEntry:r,deleteStaffEntry:n,loading:a,error:i,user:s}=wt(),[o,l]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(rg()),[m,p]=N.useState([]),[g,v]=N.useState(!1),[x,y]=N.useState(null),[b,S]=N.useState(!1),w=()=>{d(null),h(rg()),l(!0)},_=k=>{d(k),h({name:k.name||"",email:k.email||"",phone:k.phone||"",role:k.role||"Worker",status:k.status||"Active",hireDate:k.hireDate||"",notes:k.notes||"",store_id:k.store_id||null,payType:k.payType||"hourly",hourlyRate:k.hourlyRate||0,salaryAmount:k.salaryAmount||0,preferredHoursPerWeek:k.preferredHoursPerWeek||0,maxHoursPerWeek:k.maxHoursPerWeek||0}),l(!0)},E=async k=>{if(window.confirm("Are you sure you want to delete this staff member?")){const $=await n(k);$.success||alert(`Error deleting staff: ${$.error}`)}},j=k=>{y(k),v(!0)},T=async k=>{if(k.preventDefault(),!f.name||!f.email){alert("Name and email are required");return}const $=u?await r(u.id,f):await e(f);$.success?(l(!1),h(rg())):alert(`Error ${u?"updating":"adding"} staff: ${$.error}`)};N.useEffect(()=>{(async()=>{try{const $=await oe.getStores();$.success&&p($.data)}catch($){console.error("Error fetching stores:",$)}})()},[]);const O=(k,$)=>{h(H=>({...H,[k]:$}))},P=k=>{switch(k){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"On Leave":return"text-yellow-600 bg-yellow-100";case"Terminated":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},D=k=>{switch(k){case"Manager":return"text-blue-600 bg-blue-100";case"Worker":return"text-green-600 bg-green-100";case"Driver":return"text-purple-600 bg-purple-100";case"Sales":return"text-orange-600 bg-orange-100";case"Support":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i?c.jsxs("div",{className:"alert alert-error",children:[c.jsx(eU,{className:"w-5 h-5"}),c.jsxs("span",{children:["Error loading staff data: ",i]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Staff Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage your staff members and their roles"})]}),c.jsxs("div",{className:"flex space-x-2",children:[(s==null?void 0:s.role)==="admin"&&c.jsxs("button",{onClick:()=>S(!0),className:"btn-outline",children:[c.jsx(VF,{className:"w-4 h-4 mr-2"}),"Link Users"]}),c.jsxs("button",{onClick:w,className:"btn-primary",children:[c.jsx(ui,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-primary"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Total Staff"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(ay,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Active"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(k=>k.status==="Active").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Workers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(k=>k.role==="Worker").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Managers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(k=>k.role==="Manager").length})]})]})})})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Contact"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Store"}),c.jsx("th",{children:"Hire Date"}),c.jsx("th",{children:"Pay Structure"}),c.jsx("th",{children:"Notes"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-secondary-500",children:c.jsx("p",{className:"text-gray-500 text-center",children:"No staff members found. Add your first staff member to get started."})})}):t.map(k=>{var $;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{children:c.jsx("div",{className:"font-medium text-secondary-900",children:k.name})})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[k.email&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(qF,{className:"w-3 h-3 mr-1"}),k.email]}),k.phone&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(KF,{className:"w-3 h-3 mr-1"}),k.phone]})]})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",D(k.role)),children:k.role})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P(k.status)),children:k.status})}),c.jsx("td",{children:k.store_id?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(bn,{className:"w-3 h-3 mr-1 text-blue-600"}),c.jsx("span",{children:(($=m.find(H=>H.id===k.store_id))==null?void 0:$.name)||"Unknown Store"})]}):c.jsx("span",{className:"text-secondary-400 text-sm",children:"Unassigned"})}),c.jsx("td",{children:k.hireDate?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Cr,{className:"w-3 h-3 mr-1"}),Bo(k.hireDate)]}):c.jsx("span",{className:"text-secondary-400",children:"Not set"})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Tn,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"font-medium",children:k.payType==="hourly"?"Hourly":k.payType==="salary"?"Salary":k.payType==="salary+bonus"?"Salary+Bonus":k.payType})]}),k.payType==="hourly"&&k.hourlyRate>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",k.hourlyRate,"/hr"]}),(k.payType==="salary"||k.payType==="salary+bonus")&&k.salaryAmount>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",k.salaryAmount.toLocaleString(),"/year"]}),k.preferredHoursPerWeek>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:[k.preferredHoursPerWeek,"h preferred"]})]})}),c.jsx("td",{children:k.notes?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(iy,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"truncate max-w-32",title:k.notes,children:k.notes})]}):c.jsx("span",{className:"text-secondary-400",children:"No notes"})}),c.jsx("td",{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>_(k),className:"btn-icon btn-sm",title:"Edit",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(k),className:"btn-icon btn-sm text-green-600 hover:text-green-700",title:"Manage Bonus Tiers",children:c.jsx(Gk,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>E(k.id),className:"btn-icon btn-sm text-red-600 hover:text-red-700",title:"Delete",children:c.jsx(di,{className:"w-4 h-4"})})]})})]},k.id)})})]})})})}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:u?"Edit Staff Member":"Add Staff Member"}),c.jsx("button",{onClick:()=>l(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:T,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:f.name,onChange:k=>O("name",k.target.value),className:"input",placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:f.email,onChange:k=>O("email",k.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:f.phone,onChange:k=>O("phone",k.target.value),className:"input",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Role"}),c.jsx("select",{value:f.role,onChange:k=>O("role",k.target.value),className:"input",children:AF.map(k=>c.jsx("option",{value:k,children:k},k))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status"}),c.jsx("select",{value:f.status,onChange:k=>O("status",k.target.value),className:"input",children:TF.map(k=>c.jsx("option",{value:k,children:k},k))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hire Date"}),c.jsx("input",{type:"date",value:f.hireDate,onChange:k=>O("hireDate",k.target.value),className:"input"})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Pay Structure"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Pay Type"}),c.jsx("select",{value:f.payType,onChange:k=>O("payType",k.target.value),className:"input",children:NF.map(k=>c.jsx("option",{value:k,children:k==="hourly"?"Hourly":k==="salary"?"Salary":k==="salary+bonus"?"Salary + Bonus":k},k))})]}),f.payType==="hourly"&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hourly Rate ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.hourlyRate,onChange:k=>O("hourlyRate",parseFloat(k.target.value)||0),className:"input",placeholder:"0.00"})]}),(f.payType==="salary"||f.payType==="salary+bonus")&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Salary Amount ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.salaryAmount,onChange:k=>O("salaryAmount",parseFloat(k.target.value)||0),className:"input",placeholder:"0.00"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Preferred Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.preferredHoursPerWeek,onChange:k=>O("preferredHoursPerWeek",parseFloat(k.target.value)||0),className:"input",placeholder:"40"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Max Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.maxHoursPerWeek,onChange:k=>O("maxHoursPerWeek",parseFloat(k.target.value)||0),className:"input",placeholder:"40"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Assigned Store"}),c.jsxs("select",{value:f.store_id||"",onChange:k=>O("store_id",k.target.value?parseInt(k.target.value):null),className:"input",children:[c.jsx("option",{value:"",children:"No Store Assigned"}),m.map(k=>c.jsxs("option",{value:k.id,children:[k.name," (#",k.number,")"]},k.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Notes"}),c.jsx("textarea",{value:f.notes,onChange:k=>O("notes",k.target.value),className:"input",rows:"3",placeholder:"Additional notes about this staff member"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-outline",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",children:[u?"Update":"Add"," Staff Member"]})]})]})]})}),g&&x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Bonus Tiers Management - ",x.name]}),c.jsx("button",{onClick:()=>v(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsx(cde,{staffId:x.id,staffName:x.name,onSave:()=>{v(!1)}})]})}),b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Link Users to Staff Members"}),c.jsx("button",{onClick:()=>S(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsx(ude,{})]})})]})},YA=({task:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:a})=>{const i=h=>{switch(h){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=h=>h?hw(new Date(h),{addSuffix:!0}):"No due date",l=h=>{if(!h)return[];let m=[];return Array.isArray(h)?m=h:m=[h],m.map(p=>{const g=e.find(v=>v.id===p);return g?g.name:"Unknown User"})},u=h=>{switch(h){case"urgent":return c.jsx(Nn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Nn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Nn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"})}},d=l(t.assigned_to),f=d.length===0;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-1",children:f?c.jsxs(c.Fragment,{children:[c.jsx(Zi,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):d.length===1?c.jsxs(c.Fragment,{children:[c.jsx(Zi,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:d[0]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Dn,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 truncate",children:[d.length," assignees"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:t.title})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",i(t.priority)),children:t.priority}),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(t.status)),children:t.status.replace("_"," ")})]})]}),t.description&&c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),d.length>1&&c.jsx("div",{className:"mb-3",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((h,m)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h},m))})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[u(t.priority),c.jsx("span",{className:"capitalize",children:t.priority})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ci,{className:"w-4 h-4"}),c.jsx("span",{children:o(t.due_date)})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>r(t),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(di,{className:"w-4 h-4"})})]})]})]})},KA=({tasks:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:a})=>{const i=d=>{switch(d){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=d=>{switch(d){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>d?hw(new Date(d),{addSuffix:!0}):"No due date",l=d=>{if(!d)return[];let f=[];return Array.isArray(d)?f=d:f=[d],f.map(h=>{const m=e.find(p=>p.id===h);return m?m.name:"Unknown User"})},u=d=>{switch(d){case"urgent":return c.jsx(Nn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Nn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Nn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"})}};return t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})]}):c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignee(s)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>{const f=l(d.assigned_to),h=f.length===0;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Zi,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):f.length===1?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Zi,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:f[0]})]}):c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dn,{className:"w-4 h-4 text-gray-500"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.length," assignees"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:f.map((m,p)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:m},p))})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:d.title}),d.description&&c.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:d.description})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[u(d.priority),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",i(d.priority)),children:d.priority})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(d.status)),children:d.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[c.jsx(ci,{className:"w-4 h-4"}),c.jsx("span",{children:o(d.due_date)})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[c.jsx("button",{onClick:()=>r(d),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(di,{className:"w-4 h-4"})})]})})]},d.id)})})]})})})},fde=({task:t=null,users:e=[],onSubmit:r,onCancel:n})=>{const[a,i]=N.useState({title:"",description:"",assigned_to:[],priority:"normal",status:"pending",due_date:"",category:"general"}),[s,o]=N.useState([]);N.useEffect(()=>{if(t){let m=[];t.assigned_to&&(Array.isArray(t.assigned_to)?m=t.assigned_to:m=[t.assigned_to]),i({title:t.title||"",description:t.description||"",assigned_to:m,priority:t.priority||"normal",status:t.status||"pending",due_date:t.due_date?t.due_date.split("T")[0]:"",category:t.category||"general"}),o(m)}},[t]);const l=m=>{m.preventDefault(),r(a)},u=m=>{const{name:p,value:g}=m.target;i(v=>({...v,[p]:g}))},d=m=>{const p=parseInt(m.target.value);if(p&&!s.includes(p)){const g=[...s,p];o(g),i(v=>({...v,assigned_to:g}))}},f=m=>{const p=s.filter(g=>g!==m);o(p),i(g=>({...g,assigned_to:p}))},h=()=>s.map(m=>{const p=e.find(g=>g.id===m);return p?p.name:"Unknown User"});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Task":"Create New Task"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rc,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",name:"title",value:a.title,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:a.description,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),s.length>0&&c.jsx("div",{className:"mb-2",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:h().map((m,p)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[c.jsx("span",{children:m}),c.jsx("button",{type:"button",onClick:()=>f(s[p]),className:"text-blue-600 hover:text-blue-800",children:c.jsx(Rc,{className:"w-3 h-3"})})]},s[p]))})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:"",onChange:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Add assignee..."}),e.filter(m=>!s.includes(m.id)).map(m=>c.jsx("option",{value:m.id,children:m.name},m.id))]}),c.jsx("div",{className:"text-gray-400",children:c.jsx(Dn,{className:"w-5 h-5"})})]}),s.length===0&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for unassigned task"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),c.jsxs("select",{name:"priority",value:a.priority,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:a.status,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"date",name:"due_date",value:a.due_date,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{name:"category",value:a.category,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"sales",children:"Sales"}),c.jsx("option",{value:"venue",children:"Venue"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:t?"Update Task":"Create Task"})]})]})]})})},hde=()=>{const{loading:t,tasksData:e,staffData:r,currentUser:n,user:a,loadTasks:i,addTask:s,updateTask:o,deleteTask:l,setCurrentUser:u}=wt(),[d,f]=N.useState(!1),[h,m]=N.useState(null),[p,g]=N.useState("all"),[v,x]=N.useState("all"),[y,b]=N.useState("list");N.useEffect(()=>{a!=null&&a.staffMember&&!n?u(a.staffMember):r.length>0&&!n&&!(a!=null&&a.staffMember)&&u(r[0]),i()},[r,n,u,i,a]),N.useEffect(()=>{a!=null&&a.staffMember&&!n&&u(a.staffMember)},[a,n,u]);const S=async k=>{if(!n)return;const $={...k,assigned_by:n.id,assigned_to:k.assigned_to.length===0?null:k.assigned_to};(await s($)).success&&f(!1)},w=async k=>{const $={...k,assigned_to:k.assigned_to.length===0?null:k.assigned_to};(await o(h.id,$)).success&&(f(!1),m(null))},_=async k=>{window.confirm("Are you sure you want to delete this task?")&&await l(k)},E=k=>{m(k),f(!0)},j=k=>{},O=(()=>{let k=e;return fd(n)||(k=e.filter($=>!$.assigned_to||Array.isArray($.assigned_to)&&$.assigned_to.length===0?!0:Array.isArray($.assigned_to)?$.assigned_to.includes(n==null?void 0:n.id):$.assigned_to===(n==null?void 0:n.id))),k.filter($=>{const H=p==="all"||$.status===p,V=v==="all"||$.priority===v;return H&&V})})(),P=O.filter(k=>k.assigned_to?Array.isArray(k.assigned_to)?k.assigned_to.length===0:!1:!0),D=O.filter(k=>k.assigned_to?Array.isArray(k.assigned_to)?k.assigned_to.length>0:!0:!1);return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading tasks..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Task Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Create, assign, and track tasks for your staff"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx(ui,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),c.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-secondary-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(HF,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),c.jsxs("select",{value:p,onChange:k=>g(k.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:v,onChange:k=>x(k.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Priorities"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>b("card"),className:`p-2 rounded-md transition-colors ${y==="card"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Card view",children:c.jsx(WF,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-md transition-colors ${y==="list"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"List view",children:c.jsx(GF,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ny,{className:"w-5 h-5 text-orange-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unassigned Tasks"}),c.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:P.length})]})}),c.jsx("div",{className:"p-6",children:P.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No unassigned tasks"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(k=>c.jsx(YA,{task:k,staffData:r,onEdit:E,onDelete:_,onViewComments:j},k.id))}):c.jsx(KA,{tasks:P,staffData:r,onEdit:E,onDelete:_,onViewComments:j})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Zi,{className:"w-5 h-5 text-blue-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:fd(n)?"All Assigned Tasks":"My Tasks"}),c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:D.length})]})}),c.jsx("div",{className:"p-6",children:D.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:fd(n)?"No assigned tasks found":"No tasks assigned to you"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(k=>c.jsx(YA,{task:k,staffData:r,onEdit:E,onDelete:_,onViewComments:j},k.id))}):c.jsx(KA,{tasks:D,staffData:r,onEdit:E,onDelete:_,onViewComments:j})})]}),O.length===0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500",children:fd(n)?"No tasks found. Create your first task!":"No tasks assigned to you. Contact your manager for new assignments."})]})]}),d&&c.jsx(fde,{task:h,users:r,onSubmit:h?w:S,onCancel:()=>{f(!1),m(null)}})]})})};var dp,xe,FP,UP,Ho,Di,QA,BP,HP,$h={},zP=[],mde=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ia(t,e){for(var r in e)t[r]=e[r];return t}function WP(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,r){var n,a,i,s={};for(i in e)i=="key"?n=e[i]:i=="ref"?a=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?dp.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return Xd(t,s,n,a,null)}function Xd(t,e,r,n,a){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++FP};return a==null&&xe.vnode!=null&&xe.vnode(i),i}function ur(){return{current:null}}function at(t){return t.children}function pde(t,e,r,n,a){var i;for(i in r)i==="children"||i==="key"||i in e||Lh(t,i,null,r[i],n);for(i in e)a&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===e[i]||Lh(t,i,e[i],r[i],n)}function XA(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||mde.test(e)?r:r+"px"}function Lh(t,e,r,n,a){var i;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||XA(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||XA(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?JA:ZA,i):t.removeEventListener(e,i?JA:ZA,i);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function ZA(t){Ho=!0;try{return this.l[t.type+!1](xe.event?xe.event(t):t)}finally{Ho=!1}}function JA(t){Ho=!0;try{return this.l[t.type+!0](xe.event?xe.event(t):t)}finally{Ho=!1}}function Or(t,e){this.props=t,this.context=e}function vu(t,e){if(e==null)return t.__?vu(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?vu(t):null}function VP(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return VP(t)}}function gde(t){Ho?setTimeout(t):BP(t)}function $0(t){(!t.__d&&(t.__d=!0)&&Di.push(t)&&!Fh.__r++||QA!==xe.debounceRendering)&&((QA=xe.debounceRendering)||gde)(Fh)}function Fh(){var t,e,r,n,a,i,s,o;for(Di.sort(function(l,u){return l.__v.__b-u.__v.__b});t=Di.shift();)t.__d&&(e=Di.length,n=void 0,a=void 0,s=(i=(r=t).__v).__e,(o=r.__P)&&(n=[],(a=Ia({},i)).__v=i.__v+1,mw(o,i,a,r.__n,o.ownerSVGElement!==void 0,i.__h!=null?[s]:null,n,s??vu(i),i.__h),QP(n,i),i.__e!=s&&VP(i)),Di.length>e&&Di.sort(function(l,u){return l.__v.__b-u.__v.__b}));Fh.__r=0}function GP(t,e,r,n,a,i,s,o,l,u){var d,f,h,m,p,g,v,x=n&&n.__k||zP,y=x.length;for(r.__k=[],d=0;d<e.length;d++)if((m=r.__k[d]=(m=e[d])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?Xd(null,m,null,null,m):Array.isArray(m)?Xd(at,{children:m},null,null,null):m.__b>0?Xd(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=r,m.__b=r.__b+1,(h=x[d])===null||h&&m.key==h.key&&m.type===h.type)x[d]=void 0;else for(f=0;f<y;f++){if((h=x[f])&&m.key==h.key&&m.type===h.type){x[f]=void 0;break}h=null}mw(t,m,h=h||$h,a,i,s,o,l,u),p=m.__e,(f=m.ref)&&h.ref!=f&&(v||(v=[]),h.ref&&v.push(h.ref,null,m),v.push(f,m.__c||p,m)),p!=null?(g==null&&(g=p),typeof m.type=="function"&&m.__k===h.__k?m.__d=l=qP(m,l,t):l=YP(t,m,h,x,p,l),typeof r.type=="function"&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=vu(h))}for(r.__e=g,d=y;d--;)x[d]!=null&&(typeof r.type=="function"&&x[d].__e!=null&&x[d].__e==r.__d&&(r.__d=KP(n).nextSibling),ZP(x[d],x[d]));if(v)for(d=0;d<v.length;d++)XP(v[d],v[++d],v[++d])}function qP(t,e,r){for(var n,a=t.__k,i=0;a&&i<a.length;i++)(n=a[i])&&(n.__=t,e=typeof n.type=="function"?qP(n,e,r):YP(r,n,n,a,n.__e,e));return e}function Uh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Uh(r,e)}):e.push(t)),e}function YP(t,e,r,n,a,i){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||a!=i||a.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(a),s=null;else{for(o=i,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==a)break e;t.insertBefore(a,i),s=i}return s!==void 0?s:a.nextSibling}function KP(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=KP(r)))return n}return null}function mw(t,e,r,n,a,i,s,o,l){var u,d,f,h,m,p,g,v,x,y,b,S,w,_,E,j=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,o=e.__e=r.__e,e.__h=null,i=[o]),(u=xe.__b)&&u(e);try{e:if(typeof j=="function"){if(v=e.props,x=(u=j.contextType)&&n[u.__c],y=u?x?x.props.value:u.__:n,r.__c?g=(d=e.__c=r.__c).__=d.__E:("prototype"in j&&j.prototype.render?e.__c=d=new j(v,y):(e.__c=d=new Or(v,y),d.constructor=j,d.render=yde),x&&x.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),j.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Ia({},d.__s)),Ia(d.__s,j.getDerivedStateFromProps(v,d.__s))),h=d.props,m=d.state,d.__v=e,f)j.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(j.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,y),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(T){T&&(T.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,y),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,m,p)})}if(d.context=y,d.props=v,d.__P=t,S=xe.__r,w=0,"prototype"in j&&j.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[]}else do d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(n=Ia(Ia({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(p=d.getSnapshotBeforeUpdate(h,m)),E=u!=null&&u.type===at&&u.key==null?u.props.children:u,GP(t,Array.isArray(E)?E:[E],e,r,n,a,i,s,o,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else i==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=vde(r.__e,e,r,n,a,i,s,l);(u=xe.diffed)&&u(e)}catch(T){e.__v=null,(l||i!=null)&&(e.__e=o,e.__h=!!l,i[i.indexOf(o)]=null),xe.__e(T,e,r)}}function QP(t,e){xe.__c&&xe.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){xe.__e(n,r.__v)}})}function vde(t,e,r,n,a,i,s,o){var l,u,d,f=r.props,h=e.props,m=e.type,p=0;if(m==="svg"&&(a=!0),i!=null){for(;p<i.length;p++)if((l=i[p])&&"setAttribute"in l==!!m&&(m?l.localName===m:l.nodeType===3)){t=l,i[p]=null;break}}if(t==null){if(m===null)return document.createTextNode(h);t=a?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),i=null,o=!1}if(m===null)f===h||o&&t.data===h||(t.data=h);else{if(i=i&&dp.call(t.childNodes),u=(f=r.props||$h).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(i!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(pde(t,h,f,a,o),d)e.__k=[];else if(p=e.props.children,GP(t,Array.isArray(p)?p:[p],e,r,n,a&&m!=="foreignObject",i,s,i?i[0]:r.__k&&vu(r,0),o),i!=null)for(p=i.length;p--;)i[p]!=null&&WP(i[p]);o||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||m==="progress"&&!p||m==="option"&&p!==f.value)&&Lh(t,"value",p,f.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&Lh(t,"checked",p,f.checked,!1))}return t}function XP(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){xe.__e(n,r)}}function ZP(t,e,r){var n,a;if(xe.unmount&&xe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||XP(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){xe.__e(i,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&ZP(n[a],e,r||typeof t.type!="function");r||t.__e==null||WP(t.__e),t.__=t.__e=t.__d=void 0}function yde(t,e,r){return this.constructor(t,r)}function yu(t,e,r){var n,a,i;xe.__&&xe.__(t,e),a=(n=typeof r=="function")?null:r&&r.__k||e.__k,i=[],mw(e,t=(!n&&r||e).__k=L(at,null,[t]),a||$h,$h,e.ownerSVGElement!==void 0,!n&&r?[r]:a?null:e.firstChild?dp.call(e.childNodes):null,i,!n&&r?r:a?a.__e:e.firstChild,n),QP(i,t)}function xde(t,e){var r={__c:e="__cC"+HP++,__:t,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,i;return this.getChildContext||(a=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&a.some(function(o){o.__e=!0,$0(o)})},this.sub=function(s){a.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){a.splice(a.indexOf(s),1),o&&o.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}dp=zP.slice,xe={__e:function(t,e,r,n){for(var a,i,s;e=e.__;)if((a=e.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(t)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,n||{}),s=a.__d),s)return a.__E=a}catch(o){t=o}throw t}},FP=0,UP=function(t){return t!=null&&t.constructor===void 0},Ho=!1,Or.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ia({},this.state),typeof t=="function"&&(t=t(Ia({},r),this.props)),t&&Ia(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),$0(this))},Or.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),$0(this))},Or.prototype.render=at,Di=[],BP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fh.__r=0,HP=0;var jn,Ig,eT,JP=[],$g=[],tT=xe.__b,rT=xe.__r,nT=xe.diffed,aT=xe.__c,iT=xe.unmount;function bde(){for(var t;t=JP.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Zd),t.__H.__h.forEach(L0),t.__H.__h=[]}catch(e){t.__H.__h=[],xe.__e(e,t.__v)}}xe.__b=function(t){jn=null,tT&&tT(t)},xe.__r=function(t){rT&&rT(t);var e=(jn=t.__c).__H;e&&(Ig===jn?(e.__h=[],jn.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=$g,r.__N=r.i=void 0})):(e.__h.forEach(Zd),e.__h.forEach(L0),e.__h=[])),Ig=jn},xe.diffed=function(t){nT&&nT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(JP.push(e)!==1&&eT===xe.requestAnimationFrame||((eT=xe.requestAnimationFrame)||wde)(bde)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==$g&&(r.__=r.__V),r.i=void 0,r.__V=$g})),Ig=jn=null},xe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Zd),r.__h=r.__h.filter(function(n){return!n.__||L0(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],xe.__e(n,r.__v)}}),aT&&aT(t,e)},xe.unmount=function(t){iT&&iT(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Zd(n)}catch(a){e=a}}),r.__H=void 0,e&&xe.__e(e,r.__v))};var sT=typeof requestAnimationFrame=="function";function wde(t){var e,r=function(){clearTimeout(n),sT&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);sT&&(e=requestAnimationFrame(r))}function Zd(t){var e=jn,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),jn=e}function L0(t){var e=jn;t.__c=t.__(),jn=e}function Sde(t,e){for(var r in e)t[r]=e[r];return t}function oT(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function lT(t){this.props=t}(lT.prototype=new Or).isPureReactComponent=!0,lT.prototype.shouldComponentUpdate=function(t,e){return oT(this.props,t)||oT(this.state,e)};var cT=xe.__b;xe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),cT&&cT(t)};var _de=xe.__e;xe.__e=function(t,e,r,n){if(t.then){for(var a,i=e;i=i.__;)if((a=i.__c)&&a.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),a.__c(t,e)}_de(t,e,r,n)};var uT=xe.unmount;function eM(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Sde({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return eM(n,e,r)})),t}function tM(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return tM(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function Lg(){this.__u=0,this.t=null,this.__b=null}function rM(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Nd(){this.u=null,this.o=null}xe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),uT&&uT(t)},(Lg.prototype=new Or).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var a=rM(n.__v),i=!1,s=function(){i||(i=!0,r.__R=null,a?a(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=tM(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},Lg.prototype.componentWillUnmount=function(){this.t=[]},Lg.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=eM(this.__b,r,n.__O=n.__P)}this.__b=null}var a=e.__a&&L(at,null,t.fallback);return a&&(a.__h=null),[L(at,null,e.__a?null:t.children),a]};var dT=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function Ede(t){return this.getChildContext=function(){return t.context},t.children}function jde(t){var e=this,r=t.i;e.componentWillUnmount=function(){yu(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,a){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),yu(L(Ede,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Ade(t,e){var r=L(jde,{__v:t,i:e});return r.containerInfo=e,r}(Nd.prototype=new Or).__a=function(t){var e=this,r=rM(e.__v),n=e.o.get(t);return n[0]++,function(a){var i=function(){e.props.revealOrder?(n.push(a),dT(e,t,n)):a()};r?r(i):i()}},Nd.prototype.render=function(t){this.u=null,this.o=new Map;var e=Uh(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Nd.prototype.componentDidUpdate=Nd.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){dT(t,r,e)})};var Tde=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Nde=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Cde=typeof document<"u",kde=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Or.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Or.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var fT=xe.event;function Ode(){}function Dde(){return this.cancelBubble}function Pde(){return this.defaultPrevented}xe.event=function(t){return fT&&(t=fT(t)),t.persist=Ode,t.isPropagationStopped=Dde,t.isDefaultPrevented=Pde,t.nativeEvent=t};var hT={configurable:!0,get:function(){return this.class}},mT=xe.vnode;xe.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var i in n={},r){var s=r[i];Cde&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in r&&s==null||(i==="defaultValue"&&"value"in r&&r.value==null?i="value":i==="download"&&s===!0?s="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!kde(r.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():a&&Nde.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),n[i]&&(i="oninputCapture")),n[i]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Uh(r.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Uh(r.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),t.props=n,r.class!=r.className&&(hT.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",hT))}t.$$typeof=Tde,mT&&mT(t)};var pT=xe.__r;xe.__r=function(t){pT&&pT(t),t.__c};const nM=[],F0=new Map;function pw(t){nM.push(t),F0.forEach(e=>{iM(e,t)})}function Mde(t){t.isConnected&&t.getRootNode&&aM(t.getRootNode())}function aM(t){let e=F0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=Ide();r&&(e.nonce=r);const n=t===document?document.head:t,a=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,a)}F0.set(t,e),Rde(e)}}function Rde(t){for(const e of nM)iM(t,e)}function iM(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((a,i)=>{a=a.trim(),a&&r.insertRule(a+"}",n+i)})}let Fg;function Ide(){return Fg===void 0&&(Fg=$de()),Fg}function $de(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&aM(document);var Lde=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';pw(Lde);class gw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function vw(t){t.parentNode&&t.parentNode.removeChild(t)}function nr(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Fde(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Fde(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Ude(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let a=0;a<r.length;a+=1){let i=r[a].querySelectorAll(e);for(let s=0;s<i.length;s+=1)n.push(i[s])}return n}const Bde=/(top|left|right|bottom|width|height)$/i;function dc(t,e){for(let r in e)sM(t,r,e[r])}function sM(t,e,r){r==null?t.style[e]="":typeof r=="number"&&Bde.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function oM(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let gT=0;function fp(){return gT+=1,"fc-dom-"+gT}function hp(t){t.preventDefault()}function Hde(t,e){return r=>{let n=nr(r.target,t);n&&e.call(n,r,n)}}function lM(t,e,r,n){let a=Hde(r,n);return t.addEventListener(e,a),()=>{t.removeEventListener(e,a)}}function zde(t,e,r,n){let a;return lM(t,"mouseover",e,(i,s)=>{if(s!==a){a=s,r(i,s);let o=l=>{a=null,n(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const vT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Wde(t,e){let r=n=>{e(n),vT.forEach(a=>{t.removeEventListener(a,r)})};vT.forEach(n=>{t.addEventListener(n,r)})}function cM(t){return Object.assign({onClick:t},uM(t))}function uM(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let yT=0;function ys(){return yT+=1,String(yT)}function yw(){document.body.classList.add("fc-not-allowed")}function xw(){document.body.classList.remove("fc-not-allowed")}function Vde(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",hp)}function Gde(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",hp)}function qde(t){t.addEventListener("contextmenu",hp)}function Yde(t){t.removeEventListener("contextmenu",hp)}function Kde(t){let e=[],r=[],n,a;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)a=r[n],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function Qde(t,e,r){let n,a;for(n=0;n<r.length;n+=1)if(a=Xde(t,e,r[n]),a)return a;return 0}function Xde(t,e,r){return r.func?r.func(t,e):Zde(t[r.field],e[r.field])*(r.order||1)}function Zde(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function io(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function fc(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,a,i)=>n.replace("$"+i,a||""),t):r}function Jde(t,e){return t-e}function Jd(t){return t%1===0}function efe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const xT=["years","months","days","milliseconds"],tfe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Me(t,e){return typeof t=="string"?rfe(t):typeof t=="object"&&t?bT(t):typeof t=="number"?bT({[e||"milliseconds"]:t}):null}function rfe(t){let e=tfe.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function bT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function nfe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function U0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function afe(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function ife(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function sfe(t){return so(t)/365}function ofe(t){return so(t)/30}function so(t){return gn(t)/864e5}function gn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function bw(t,e){let r=null;for(let n=0;n<xT.length;n+=1){let a=xT[n];if(e[a]){let i=t[a]/e[a];if(!Jd(i)||r!==null&&r!==i)return null;r=i}else if(t[a])return null}return r}function B0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ti(t,e,r){if(t===e)return!0;let n=t.length,a;if(n!==e.length)return!1;for(a=0;a<n;a+=1)if(!(r?r(t[a],e[a]):t[a]===e[a]))return!1;return!0}const lfe=["sun","mon","tue","wed","thu","fri","sat"];function wT(t,e){let r=$a(t);return r[2]+=e*7,yr(r)}function ar(t,e){let r=$a(t);return r[2]+=e,yr(r)}function ri(t,e){let r=$a(t);return r[6]+=e,yr(r)}function cfe(t,e){return xs(t,e)/7}function xs(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function ufe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function dfe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function ffe(t,e){return(e.valueOf()-t.valueOf())/1e3}function hfe(t,e){let r=it(t),n=it(e);return{years:0,months:0,days:Math.round(xs(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function mfe(t,e){let r=Bh(t,e);return r!==null&&r%7===0?r/7:null}function Bh(t,e){return La(t)===La(e)?Math.round(xs(t,e)):null}function it(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function pfe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function gfe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function vfe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function yfe(t,e,r){let n=t.getUTCFullYear(),a=Ug(t,n,e,r);if(a<1)return Ug(t,n-1,e,r);let i=Ug(t,n+1,e,r);return i>=1?Math.min(a,i):a}function Ug(t,e,r,n){let a=yr([e,0,1+xfe(e,r,n)]),i=it(t),s=Math.round(xs(a,i));return Math.floor(s/7)+1}function xfe(t,e,r){let n=7+e-r;return-((7+yr([t,0,n]).getUTCDay()-e)%7)+n-1}function ST(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function _T(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function $a(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function yr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function dM(t){return!isNaN(t.valueOf())}function La(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function fM(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",Sw(e,!0)))),n}function ww(t){return t.toISOString().replace(/T.*$/,"")}function bfe(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function wfe(t){return io(t.getUTCHours(),2)+":"+io(t.getUTCMinutes(),2)+":"+io(t.getUTCSeconds(),2)}function Sw(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),i=Math.round(n%60);return e?`${r+io(a,2)}:${io(i,2)}`:`GMT${r}${a}${i?`:${io(i,2)}`:""}`}function be(t,e,r){let n,a;return function(...i){if(!n)a=t.apply(this,i);else if(!ti(n,i)){r&&r(a);let s=t.apply(this,i);(!e||!e(s,a))&&(a=s)}return n=i,a}}function ef(t,e,r){let n,a;return i=>{if(!n)a=t.call(this,i);else if(!wn(n,i)){r&&r(a);let s=t.call(this,i);(!e||!e(s,a))&&(a=s)}return n=i,a}}const Bg={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Hh={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Cd=/\s*([ap])\.?m\.?/i,Sfe=/,/g,_fe=/\s+/g,Efe=/\u200e/g,jfe=/UTC|GMT/;class Afe{constructor(e){let r={},n={},a=9;for(let i in e)i in Bg?(n[i]=e[i],Bg[i]<9&&(a=Math.min(Bg[i],a))):(r[i]=e[i],i in Hh&&(a=Math.min(Hh[i],a)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=a,this.buildFormattingFunc=be(ET)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,a){let{standardDateProps:i,extendedSettings:s}=this,o=Dfe(e.marker,r.marker,n.calendarSystem);if(!o)return this.format(e,n);let l=o;l>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(l=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=Pfe(i,l),h=ET(f,s,n),m=h(e),p=h(r),g=Mfe(u,m,d,p),v=s.separator||a||n.defaultSeparator||"";return g?g.before+m+v+p+g.after:u+v+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ET(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?a=>Sw(a.timeZoneOffset):n===0&&e.week?a=>Ofe(r.computeWeekNumber(a.marker),r.weekText,r.weekTextLong,r.locale,e.week):Tfe(t,e,r)}function Tfe(t,e,r){t=Object.assign({},t),e=Object.assign({},e),Nfe(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),a;if(e.omitZeroMinute){let i=Object.assign({},t);delete i.minute,a=new Intl.DateTimeFormat(r.locale.codes,i)}return i=>{let{marker:s}=i,o;a&&!s.getUTCMinutes()?o=a:o=n;let l=o.format(s);return Cfe(l,i,t,e,r)}}function Nfe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Cfe(t,e,r,n,a){return t=t.replace(Efe,""),r.timeZoneName==="short"&&(t=kfe(t,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Sw(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(Sfe,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(Cd,"").trim():n.meridiem==="narrow"?t=t.replace(Cd,(i,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(Cd,(i,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(Cd,i=>i.toLocaleLowerCase())),t=t.replace(_fe," "),t=t.trim(),t}function kfe(t,e){let r=!1;return t=t.replace(jfe,()=>(r=!0,e)),r||(t+=` ${e}`),t}function Ofe(t,e,r,n,a){let i=[];return a==="long"?i.push(r):(a==="short"||a==="narrow")&&i.push(e),(a==="long"||a==="short")&&i.push(" "),i.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&i.reverse(),i.join("")}function Dfe(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:La(t)!==La(e)?1:0}function Pfe(t,e){let r={};for(let n in t)(!(n in Hh)||Hh[n]<=e)&&(r[n]=t[n]);return r}function Mfe(t,e,r,n){let a=0;for(;a<t.length;){let i=t.indexOf(e,a);if(i===-1)break;let s=t.substr(0,i);a=i+e.length;let o=t.substr(a),l=0;for(;l<r.length;){let u=r.indexOf(n,l);if(u===-1)break;let d=r.substr(0,u);l=u+n.length;let f=r.substr(l);if(s===d&&o===f)return{before:s,after:o}}}return null}function jT(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function zh(t,e,r,n){let a=jT(t,r.calendarSystem),i=e?jT(e,r.calendarSystem):null;return{date:a,start:a,end:i,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class Rfe{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,zh(e,null,r,n))}formatRange(e,r,n,a){return n.cmdFormatter(this.cmdStr,zh(e,r,n,a))}}class Ife{constructor(e){this.func=e}format(e,r,n){return this.func(zh(e,null,r,n))}formatRange(e,r,n,a){return this.func(zh(e,r,n,a))}}function pt(t){return typeof t=="object"&&t?new Afe(t):typeof t=="string"?new Rfe(t):typeof t=="function"?new Ife(t):null}const AT={navLinkDayClick:K,navLinkWeekClick:K,duration:Me,bootstrapFontAwesome:K,buttonIcons:K,customButtons:K,defaultAllDayEventDuration:Me,defaultTimedEventDuration:Me,nextDayThreshold:Me,scrollTime:Me,scrollTimeReset:Boolean,slotMinTime:Me,slotMaxTime:Me,dayPopoverFormat:pt,slotDuration:Me,snapDuration:Me,headerToolbar:K,footerToolbar:K,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:pt,dayHeaderClassNames:K,dayHeaderContent:K,dayHeaderDidMount:K,dayHeaderWillUnmount:K,dayCellClassNames:K,dayCellContent:K,dayCellDidMount:K,dayCellWillUnmount:K,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:K,weekNumbers:Boolean,weekNumberClassNames:K,weekNumberContent:K,weekNumberDidMount:K,weekNumberWillUnmount:K,editable:Boolean,viewClassNames:K,viewDidMount:K,viewWillUnmount:K,nowIndicator:Boolean,nowIndicatorClassNames:K,nowIndicatorContent:K,nowIndicatorDidMount:K,nowIndicatorWillUnmount:K,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:K,locale:K,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:K,eventOrder:Kde,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:K,contentHeight:K,direction:String,weekNumberFormat:pt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:K,initialDate:K,now:K,eventDataTransform:K,stickyHeaderDates:K,stickyFooterScrollbar:K,viewHeight:K,defaultAllDay:Boolean,eventSourceFailure:K,eventSourceSuccess:K,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:K,eventConstraint:K,eventAllow:K,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:K,eventContent:K,eventDidMount:K,eventWillUnmount:K,selectConstraint:K,selectOverlap:K,selectAllow:K,droppable:Boolean,unselectCancel:String,slotLabelFormat:K,slotLaneClassNames:K,slotLaneContent:K,slotLaneDidMount:K,slotLaneWillUnmount:K,slotLabelClassNames:K,slotLabelContent:K,slotLabelDidMount:K,slotLabelWillUnmount:K,dayMaxEvents:K,dayMaxEventRows:K,dayMinWidth:Number,slotLabelInterval:Me,allDayText:String,allDayClassNames:K,allDayContent:K,allDayDidMount:K,allDayWillUnmount:K,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:pt,rerenderDelay:Number,moreLinkText:K,moreLinkHint:K,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:K,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Me,hiddenDays:K,fixedWeekCount:Boolean,validRange:K,visibleRange:K,titleFormat:K,eventInteractive:Boolean,noEventsText:String,viewHint:K,navLinkHint:K,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:K,moreLinkClassNames:K,moreLinkContent:K,moreLinkDidMount:K,moreLinkWillUnmount:K,monthStartFormat:pt,handleCustomRendering:K,customRenderingMetaMap:K,customRenderingReplaces:Boolean},hc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},TT={datesSet:K,eventsSet:K,eventAdd:K,eventChange:K,eventRemove:K,windowResize:K,eventClick:K,eventMouseEnter:K,eventMouseLeave:K,select:K,unselect:K,loading:K,_unmount:K,_beforeprint:K,_afterprint:K,_noEventDrop:K,_noEventResize:K,_resize:K,_scrollRequest:K},NT={buttonText:K,buttonHints:K,views:K,plugins:K,initialEvents:K,events:K,eventSources:K},Ni={headerToolbar:Ci,footerToolbar:Ci,buttonText:Ci,buttonHints:Ci,buttonIcons:Ci,dateIncrement:Ci,plugins:kd,events:kd,eventSources:kd,resources:kd};function Ci(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?wn(t,e):t===e}function kd(t,e){return Array.isArray(t)&&Array.isArray(e)?ti(t,e):t===e}const $fe={type:String,component:K,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:K,usesMinMaxTime:Boolean,classNames:K,content:K,didMount:K,willUnmount:K};function Hg(t){return Ew(t,Ni)}function _w(t,e){let r={},n={};for(let a in e)a in t&&(r[a]=e[a](t[a]));for(let a in t)a in e||(n[a]=t[a]);return{refined:r,extra:n}}function K(t){return t}const{hasOwnProperty:Wh}=Object.prototype;function Ew(t,e){let r={};if(e){for(let n in e)if(e[n]===Ci){let a=[];for(let i=t.length-1;i>=0;i-=1){let s=t[i][n];if(typeof s=="object"&&s)a.unshift(s);else if(s!==void 0){r[n]=s;break}}a.length&&(r[n]=Ew(a))}}for(let n=t.length-1;n>=0;n-=1){let a=t[n];for(let i in a)i in r||(r[i]=a[i])}return r}function ss(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function da(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function hM(t){let e={};for(let r of t)e[r]=!0;return e}function jw(t){let e=[];for(let r in t)e.push(t[r]);return e}function wn(t,e){if(t===e)return!0;for(let r in t)if(Wh.call(t,r)&&!(r in e))return!1;for(let r in e)if(Wh.call(e,r)&&t[r]!==e[r])return!1;return!0}const Lfe=/^on[A-Z]/;function Ffe(t,e){const r=Ufe(t,e);for(let n of r)if(!Lfe.test(n))return!1;return!0}function Ufe(t,e){let r=[];for(let n in t)Wh.call(t,n)&&(n in e||r.push(n));for(let n in e)Wh.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function zg(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&Bfe(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function Bfe(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function Hfe(t,e=0,r,n=1){let a=[];r==null&&(r=Object.keys(t).length);for(let i=e;i<r;i+=n){let s=t[i];s!==void 0&&a.push(s)}return a}let mM={};function zfe(t,e){mM[t]=e}function Wfe(t){return new mM[t]}class Vfe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return yr(e)}markerToArray(e){return $a(e)}}zfe("gregory",Vfe);const Gfe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function qfe(t){let e=Gfe.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(dM(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class Yfe{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=Wfe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):yr(ST(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=yr(e)),r===null||!dM(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=qfe(e);if(r===null)return null;let{marker:n}=r,a=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):a=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return La(e)===La(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return La(e)===La(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=mfe(e,r),n!==null?{unit:"week",value:n}:(n=Bh(e,r),n!==null?{unit:"day",value:n}:(n=ufe(e,r),Jd(n)?{unit:"hour",value:n}:(n=dfe(e,r),Jd(n)?{unit:"minute",value:n}:(n=ffe(e,r),Jd(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let a;return n.years&&(a=this.diffWholeYears(e,r),a!==null)?a/sfe(n):n.months&&(a=this.diffWholeMonths(e,r),a!==null)?a/ofe(n):n.days&&(a=Bh(e,r),a!==null)?a/so(n):(r.valueOf()-e.valueOf())/gn(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?it(e):r==="hour"?pfe(e):r==="minute"?gfe(e):r==="second"?vfe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):yfe(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,a={}){return a.isEndExclusive&&(r=ri(r,-1)),n.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(r)},this,a.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),fM(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?yr(ST(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):yr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-_T($a(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray($a(e)):null}toDate(e,r){return this.timeZone==="local"?_T($a(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray($a(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class Lu{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}Lu.prototype.classes={};Lu.prototype.iconClasses={};Lu.prototype.baseIconClass="";Lu.prototype.iconOverridePrefix="";function Vh(t){t();let e=xe.debounceRendering,r=[];function n(a){r.push(a)}for(xe.debounceRendering=n,yu(L(Kfe,{}),document.createElement("div"));r.length;)r.shift()();xe.debounceRendering=e}class Kfe extends Or{render(){return L("div",{})}componentDidMount(){this.setState({})}}function pM(t){let e=xde(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,a=r.apply(this,arguments);if(n){let i=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&i.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{i.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{i.splice(i.indexOf(s),1),o&&o.call(s)}}}return a},e}class Qfe{constructor(e,r,n,a){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=a,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ga=pM({});function Xfe(t,e,r,n,a,i,s,o,l,u,d,f,h,m){return{dateEnv:a,nowManager:i,options:r,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(p){d.on("_resize",p)},removeResizeHandler(p){d.off("_resize",p)},createScrollResponder(p){return new Qfe(p,d,Me(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:m}}class bs extends Or{shouldComponentUpdate(e,r){return!zg(this.props,e,this.propEquality)||!zg(this.state,r,this.stateEquality)}safeSetState(e){zg(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}bs.addPropsEquality=Zfe;bs.addStateEquality=Jfe;bs.contextType=ga;bs.prototype.propEquality={};bs.prototype.stateEquality={};class We extends bs{}We.contextType=ga;function Zfe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Jfe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function In(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Aw extends We{constructor(){super(...arguments),this.id=ys(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!H0(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&In(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:a,defaultGenerator:i,renderProps:s}=e,o=gM(e,[],this.handleEl);let l=!1,u,d=[],f;if(a!=null){const h=typeof a=="function"?a(s,L):a;if(h===!0)l=!0;else{const m=h&&typeof h=="object";m&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:m&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(m?UP(h):typeof h!="function")?u=h:f=h}}else l=!H0(e.generatorName,n);return l&&i&&(u=i(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,L(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:a}=this,{handleCustomRendering:i,customRenderingMetaMap:s}=a.options;if(i){const o=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];o&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(ehe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!ti(e,r)){r.forEach(vw);for(let a of e)n.appendChild(a);this.currentDomNodes=e}}}Aw.addPropsEquality({elClasses:ti,elStyle:wn,elAttrs:Ffe,renderProps:wn});function H0(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function gM(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function ehe(t){return!!t}const vM=pM(0);class $r extends Or{constructor(){super(...arguments),this.InnerContent=the.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(In(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=rhe(e.classNameGenerator,e.renderProps);if(e.children){const n=gM(e,r,this.handleEl),a=e.children(this.InnerContent,e.renderProps,n);return e.elTag?L(e.elTag,n,a):a}else return L(Aw,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}$r.contextType=vM;function the(t,e){const r=t.props;return L(Aw,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function rhe(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class Gh extends We{render(){let{props:e,context:r}=this,{options:n}=r,a={view:r.viewApi};return L($r,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...yM(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function yM(t){return[`fc-${t.type}-view`,"fc-view"]}function nhe(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function CT(t,e){let r=[],{start:n}=e,a,i;for(t.sort(ahe),a=0;a<t.length;a+=1)i=t[a],i.start>n&&r.push({start:n,end:i.start}),i.end>n&&(n=i.end);return n<e.end&&r.push({start:n,end:e.end}),r}function ahe(t,e){return t.start.valueOf()-e.start.valueOf()}function os(t,e){let{start:r,end:n}=t,a=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(a={start:r,end:n}),a}function ihe(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Tw(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function mp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function na(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function she(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function xM(t){let e=Math.floor(xs(t.start,t.end))||1,r=it(t.start),n=ar(r,e);return{start:r,end:n}}function bM(t,e=Me(0)){let r=null,n=null;if(t.end){n=it(t.end);let a=t.end.valueOf()-n.valueOf();a&&a>=gn(e)&&(n=ar(n,1))}return t.start&&(r=it(t.start),n&&n<=r&&(n=ar(r,1))),{start:r,end:n}}function Ks(t,e,r,n){return n==="year"?Me(r.diffWholeYears(t,e),"year"):n==="month"?Me(r.diffWholeMonths(t,e),"month"):hfe(t,e)}class wM{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:a}=this.props,i=a.subtract(a.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,r,n){let{dateEnv:a}=this.props,i=a.add(a.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,r,n=!0){let{props:a}=this,i,s,o,l,u,d;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(e=she(e,i)),s=this.buildCurrentRangeInfo(e,r),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,a.showNonCurrentDates||(u=os(u,s.range)),u=this.adjustActiveRange(u),u=os(u,i),d=Tw(s.range,i),na(l,e)||(e=l.start),{currentDate:e,validRange:i,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,a=null,i=null,s=null,o;return n.duration?(a=n.duration,i=n.durationUnit,s=this.buildRangeFromDuration(e,r,a,i)):(o=this.props.dayCount)?(i="day",s=this.buildRangeFromDayCount(e,r,o)):(s=this.buildCustomVisibleRange(e))?i=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(a=this.getFallbackDuration(),i=B0(a).unit,s=this.buildRangeFromDuration(e,r,a,i)),{duration:a,unit:i,range:s}}getFallbackDuration(){return Me({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:a,slotMaxTime:i}=this.props,{start:s,end:o}=e;return n&&(so(a)<0&&(s=it(s),s=r.add(s,a)),so(i)>1&&(o=it(o),o=ar(o,-1),o=r.add(o,i))),{start:s,end:o}}buildRangeFromDuration(e,r,n,a){let{dateEnv:i,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:f}=this.props;f&&gn(f)<gn(n)?s=B0(f).unit:s=a}so(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,r),o=it(o));function d(){o=i.startOf(e,s),l=i.add(o,n),u={start:o,end:l}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:a,dateAlignment:i}=this.props,s=0,o=e,l;i&&(o=a.startOf(o,i)),o=it(o),o=this.skipHiddenDays(o,r),l=o;do l=ar(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,a=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,i=this.refineRange(a);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Me(1,n):e||Me({days:1}))}refineRange(e){if(e){let r=nhe(e,this.props.dateEnv);return r&&(r=bM(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(r[a]=e.indexOf(a)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=ar(e,r);return e}}function Nw(t,e,r,n){return{instanceId:ys(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function ohe(t,e,r,n){for(let a=0;a<n.length;a+=1){let i=n[a].parse(t,r);if(i){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=i.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:i.duration,typeData:i.typeData,typeId:a}}}return null}function ls(t,e,r){let{dateEnv:n,pluginHooks:a,options:i}=r,{defs:s,instances:o}=t;o=ss(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let f=lhe(u,d,e,n,a.recurringTypes);for(let h of f){let m=Nw(l,{start:h,end:n.add(h,d)});o[m.instanceId]=m}}}return{defs:s,instances:o}}function lhe(t,e,r,n,a){let s=a[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(it)),s}const tf={id:String,groupId:String,title:String,url:String,interactive:Boolean},SM={start:K,end:K,date:K,allDay:Boolean},che=Object.assign(Object.assign(Object.assign({},tf),SM),{extendedProps:K});function _M(t,e,r,n,a=Cw(r),i,s){let{refined:o,extra:l}=EM(t,r,a),u=dhe(e,r),d=ohe(o,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=z0(o,l,e?e.sourceId:"",d.allDay,!!d.duration,r,i);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=uhe(o,u,r,n);if(f){let h=z0(o,l,e?e.sourceId:"",f.allDay,f.hasEnd,r,i),m=Nw(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(m.instanceId=s[h.publicId]),{def:h,instance:m}}return null}function EM(t,e,r=Cw(e)){return _w(t,r)}function Cw(t){return Object.assign(Object.assign(Object.assign({},qh),che),t.pluginHooks.eventRefiners)}function z0(t,e,r,n,a,i,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||ys(),sourceId:r,allDay:n,hasEnd:a,interactive:t.interactive,ui:Yh(t,i),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of i.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function uhe(t,e,r,n){let{allDay:a}=t,i,s=null,o=!1,l,u=null,d=t.start!=null?t.start:t.date;if(i=r.dateEnv.createMarkerMeta(d),i)s=i.marker;else if(!n)return null;return t.end!=null&&(l=r.dateEnv.createMarkerMeta(t.end)),a==null&&(e!=null?a=e:a=(!i||i.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),a&&s&&(s=it(s)),l&&(u=l.marker,a&&(u=it(u)),s&&u<=s&&(u=null)),u?o=!0:n||(o=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,a?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:a,hasEnd:o,range:{start:s,end:u},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function dhe(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function xu(t,e,r,n,a,i){let s=Dr(),o=Cw(r);for(let l of t){let u=_M(l,e,r,n,o,a,i);u&&W0(u,s)}return s}function W0(t,e=Dr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function kw(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],a=pp(t,i=>fhe(n,i));return a.defs[n.defId]=n,a.instances[r.instanceId]=r,a}return Dr()}function fhe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Dr(){return{defs:{},instances:{}}}function Ow(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function pp(t,e){let r=ss(t.defs,e),n=ss(t.instances,a=>r[a.defId]);return{defs:r,instances:n}}function hhe(t,e){let{defs:r,instances:n}=t,a={},i={};for(let s in r)e.defs[s]||(a[s]=r[s]);for(let s in n)!e.instances[s]&&a[n[s].defId]&&(i[s]=n[s]);return{defs:a,instances:i}}function mhe(t,e){return Array.isArray(t)?xu(t,null,e,!0):typeof t=="object"&&t?xu([t],null,e,!0):t!=null?String(t):null}function kT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const qh={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:K,overlap:K,allow:K,className:kT,classNames:kT,color:String,backgroundColor:String,borderColor:String,textColor:String},phe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Yh(t,e){let r=mhe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function jM(t){return t.reduce(ghe,phe)}function ghe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const vhe={id:String,defaultAllDay:Boolean,url:String,format:String,events:K,eventDataTransform:K,success:K,failure:K};function AM(t,e,r=TM(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:a,extra:i}=_w(n,r),s=yhe(a,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:ys(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Yh(a,e),extendedProps:i}}return null}function TM(t){return Object.assign(Object.assign(Object.assign({},qh),vhe),t.pluginHooks.eventSourceRefiners)}function yhe(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let i=r[n].parseMeta(t);if(i)return{sourceDefId:n,meta:i}}return null}function xhe(t,e,r,n,a){switch(e.type){case"RECEIVE_EVENTS":return bhe(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return whe(t,r[e.sourceId],e.rawEvents,n.activeRange,a);case"ADD_EVENTS":return She(t,e.eventStore,n?n.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Ow(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ls(t,n.activeRange,a):t;case"REMOVE_EVENTS":return hhe(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return CM(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return pp(t,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Dr();default:return t}}function bhe(t,e,r,n,a,i){if(e&&r===e.latestFetchId){let s=xu(NM(a,e,i),e,i);return n&&(s=ls(s,n,i)),Ow(CM(t,e.sourceId),s)}return t}function whe(t,e,r,n,a){const{defIdMap:i,instanceIdMap:s}=Ehe(t);let o=xu(NM(r,e,a),e,a,!1,i,s);return ls(o,n,a)}function NM(t,e,r){let n=r.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(t=OT(t,a)),n&&(t=OT(t,n)),t}function OT(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let a=e(n);a?r.push(a):a==null&&r.push(n)}}return r}function She(t,e,r,n){return r&&(e=ls(e,r,n)),Ow(t,e)}function DT(t,e,r){let{defs:n}=t,a=da(t.instances,i=>n[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:r.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:r.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:i.forcedEndTzo}));return{defs:n,instances:a}}function CM(t,e){return pp(t,r=>r.sourceId!==e)}function _he(t,e){return{defs:t.defs,instances:ss(t.instances,r=>!e[r.instanceId])}}function Ehe(t){const{defs:e,instances:r}=t,n={},a={};for(let i in e){const s=e[i],{publicId:o}=s;o&&(n[o]=i)}for(let i in r){const s=r[i],o=e[s.defId],{publicId:l}=o;l&&(a[l]=i)}return{defIdMap:n,instanceIdMap:a}}class gp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){jhe(this.handlers,e,r)}off(e,r){Ahe(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],a=this.options&&this.options[e],i=[].concat(a||[],n);for(let s of i)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function jhe(t,e,r){(t[e]||(t[e]=[])).push(r)}function Ahe(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const The={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Nhe(t,e){return xu(Che(t),null,e)}function Che(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},The),r)),e}function kM(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},Dw(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function khe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Dw(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,Whe(t,e.dateEnv)),r}function PT(t,e,r){let{dateEnv:n,options:a}=r,i=e;return t?(i=it(i),i=n.add(i,a.defaultAllDayEventDuration)):i=n.add(i,a.defaultTimedEventDuration),i}function Pw(t,e,r,n){let a=Kh(t.defs,e),i=Dr();for(let s in t.defs){let o=t.defs[s];i.defs[s]=Ohe(o,a[s],r,n)}for(let s in t.instances){let o=t.instances[s],l=i.defs[o.defId];i.instances[s]=Dhe(o,l,a[o.defId],r,n)}return i}function Ohe(t,e,r,n){let a=r.standardProps||{};a.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(a.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},t),a),{ui:Object.assign(Object.assign({},t.ui),a.ui)});r.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(i,r,n);return!i.hasEnd&&n.options.forceEventDuration&&(i.hasEnd=!0),i}function Dhe(t,e,r,n,a){let{dateEnv:i}=a,s=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=xM(l.range)),n.datesDelta&&r.startEditable&&(l.range={start:i.add(l.range.start,n.datesDelta),end:i.add(l.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(l.range={start:i.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&r.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,n.endDelta)}),o&&(l.range={start:l.range.start,end:PT(e.allDay,l.range.start,a)}),e.allDay&&(l.range={start:it(l.range.start),end:it(l.range.end)}),l.range.end<l.range.start&&(l.range.end=PT(e.allDay,l.range.start,a)),l}class Ps{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ht{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in SM)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=tf[e](r),this.mutate({standardProps:{publicId:r}});else if(e in tf)r=tf[e](r),this.mutate({standardProps:{[e]:r}});else if(e in qh){let n=qh[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,a=n.createMarker(e);if(a&&this._instance){let i=this._instance.range,s=Ks(i.start,a,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,a;if(!(e!=null&&(a=n.createMarker(e),!a))&&this._instance)if(a){let i=Ks(this._instance.range.end,a,n,r.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:a}=this._context,i={allDay:n.allDay},s=a.createMarker(e),o;if(s&&!(r!=null&&(o=a.createMarker(r),!o))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=xM(l));let u=Ks(l.start,s,a,n.granularity);if(o){let d=Ks(l.end,o,a,n.granularity);nfe(u,d)?this.mutate({datesDelta:u,standardProps:i}):this.mutate({startDelta:u,endDelta:d,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:u,standardProps:i})}}moveStart(e){let r=Me(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Me(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Me(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:a}=r;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=a),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,a=pt(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,a,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,a,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,a=this._context,{eventStore:i}=a.getCurrentData(),s=kw(i,r.instanceId);s=Pw(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let l=new ht(a,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:s}),a.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Vi(s,a,r),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,r=OM(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Ps(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:a,endStr:i}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),a&&(s.start=a),i&&(s.end=i),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function OM(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function Vi(t,e,r){let{defs:n,instances:a}=t,i=[],s=r?r.instanceId:"";for(let o in a){let l=a[o],u=n[l.defId];l.instanceId!==s&&i.push(new ht(e,u,l))}return i}function MT(t,e,r,n){let a={},i={},s={},o=[],l=[],u=Kh(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(a[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):i[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],m=u[h.defId],p=f.range,g=!h.allDay&&n?bM(p,n):p,v=os(g,r);v&&(m.display==="inverse-background"?h.groupId?a[h.groupId].push(v):i[f.defId].push(v):m.display!=="none"&&(m.display==="background"?o:l).push({def:h,ui:m,instance:f,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let d in a){let f=a[d],h=CT(f,r);for(let m of h){let p=s[d],g=u[p.defId];o.push({def:p,ui:g,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let d in i){let f=i[d],h=CT(f,r);for(let m of h)o.push({def:t.defs[d],ui:u[d],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function Phe(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function RT(t,e){t.fcSeg=e}function zo(t){return t.fcSeg||t.parentNode.fcSeg||null}function Kh(t,e){return da(t,r=>DM(r,e))}function DM(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),jM(r)}function PM(t,e){let r=t.map(Mhe);return r.sort((n,a)=>Qde(n,a,e)),r.map(n=>n._seg)}function Mhe(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,a=n.start?n.start.valueOf():0,i=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:a,end:i,duration:i-a,allDay:Number(r.allDay),_seg:t})}function Rhe(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:a,ui:i}=t.eventRange,s=i.startEditable;for(let o of n)s=o(s,a,i,e);return s}function Ihe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function $he(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function MM(t,e,r,n,a,i,s){let{dateEnv:o,options:l}=r,{displayEventTime:u,displayEventEnd:d}=l,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=a!==!1);let m=h.range.start,p=h.range.end,g=i||t.start||t.eventRange.range.start,v=s||t.end||t.eventRange.range.end,x=it(m).valueOf()===it(g).valueOf(),y=it(ri(p,-1)).valueOf()===it(ri(v,-1)).valueOf();return u&&!f.allDay&&(x||y)?(g=x?m:g,v=y?p:v,d&&f.hasEnd?o.formatRange(g,v,e,{forcedStartTzo:i?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(g,e,{forcedTzo:i?null:h.forcedStartTzo})):""}function Xa(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&na(e,n.start)}}function Lhe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function RM(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function IM(t,e){let{def:r,instance:n}=t.eventRange,{url:a}=r;if(a)return{href:a};let{emitter:i,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=r.interactive,o==null&&(o=!!i.hasHandlers("eventClick"))),o?uM(l=>{i.trigger("eventClick",{el:l.target,event:new ht(e,r,n),jsEvent:l,view:e.viewApi})}):{}}const Fhe={start:K,end:K,allDay:Boolean};function Uhe(t,e,r){let n=Bhe(t,e),{range:a}=n;if(!a.start)return null;if(!a.end){if(r==null)return null;a.end=e.add(a.start,r)}return n}function Bhe(t,e){let{refined:r,extra:n}=_w(t,Fhe),a=r.start?e.createMarkerMeta(r.start):null,i=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=a&&a.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:i?i.marker:null},allDay:s},n)}function Hhe(t,e){return ihe(t.range,e.range)&&t.allDay===e.allDay&&zhe(t,e)}function zhe(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function Whe(t,e){return Object.assign(Object.assign({},LM(t.range,e,t.allDay)),{allDay:t.allDay})}function $M(t,e,r){return Object.assign(Object.assign({},LM(t,e,r)),{timeZone:e.timeZone})}function LM(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function Vhe(t,e,r){let n=EM({editable:!1},r),a=z0(n.refined,n.extra,"",t.allDay,!0,r);return{def:a,ui:DM(a,e),instance:Nw(a.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Ghe(t,e,r){let n=!1,a=function(o){n||(n=!0,e(o))},i=function(o){n||(n=!0,r(o))},s=t(a,i);s&&typeof s.then=="function"&&s.then(a,i)}class IT extends Error{constructor(e,r){super(e),this.response=r}}function qhe(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(a=>{if(a.ok)return a.json().then(i=>[i,a],()=>{throw new IT("Failure parsing JSON",a)});throw new IT("Request failed",a)})}let Wg;function FM(){return Wg==null&&(Wg=Yhe()),Wg}function Yhe(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class Khe extends We{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Vh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Vh(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,a=n||r.height==="auto"||r.contentHeight==="auto",i=!a&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return FM()||s.push("fc-liquid-hack"),e.children(s,i,a,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class fl{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Qhe(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Mw(t){return{[t.component.uid]:t}}const V0={};class hl extends Or{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),a=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(a,Me(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:Xhe(a)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}hl.contextType=ga;function Xhe(t){let e=it(t),r=ar(e,1);return{start:e,end:r}}class Zhe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),a;r=r||"day",a=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),a=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),i,s;for(let o in r)a.push(o);for(i=0;i<a.length;i+=1)if(s=r[a[i]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Me(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),pt(r))}formatRange(e,r,n){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(r),pt(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let a=this.getCurrentData(),i=Uhe(n,a.dateEnv,Me({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),kM(i,null,a))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),khe(e,r))}addEvent(e,r){if(e instanceof ht){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:W0({def:s,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),a;if(r instanceof Ps)a=r.internalEventSource;else if(typeof r=="boolean")r&&([a]=jw(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;a=s.internalEventSource}let i=_M(e,a,n,!1);if(i){let s=new ht(n,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:W0(i)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:OM(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:a}=r.eventStore;e=String(e);for(let i in n){let s=n[i];if(s.publicId===e){if(s.recurringDef)return new ht(r,s,null);for(let o in a){let l=a[o];if(l.defId===s.defId)return new ht(r,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Vi(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let a in r)n.push(new Ps(e,r[a]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let a in n)if(n[a].publicId===e)return new Ps(r,n[a]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Ps)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=AM(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Ps(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Me(e);r&&this.trigger("_scrollRequest",{time:r})}}function Jhe(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function UM(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function eme(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function tme(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function rme(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Vg=Dr();class nme{constructor(){this.getKeysForEventDefs=be(this._getKeysForEventDefs),this.splitDateSelection=be(this._splitDateSpan),this.splitEventStore=be(this._splitEventStore),this.splitIndividualUi=be(this._splitIndividualUi),this.splitEventDrag=be(this._splitInteraction),this.splitEventResize=be(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=da(r,(d,f)=>this.eventUiBuilders[f]||be(ame));for(let d in r){let f=r[d],h=s[d]||Vg,m=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:a[d]||null,eventStore:h,eventUiBases:m(e.eventUiBases[""],f.ui,i[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:l[d]||null}}return u}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let a of n)r[a]=e}return r}_getKeysForEventDefs(e){return da(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:a}=e,i={};for(let s in n)for(let o of r[s])i[o]||(i[o]=Dr()),i[o].defs[s]=n[s];for(let s in a){let o=a[s];for(let l of r[o.defId])i[l]&&(i[l].instances[s]=o)}return i}_splitIndividualUi(e,r){let n={};for(let a in e)if(a)for(let i of r[a])n[i]||(n[i]={}),n[i][a]=e[a];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),a=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,a),s=o=>{r[o]||(r[o]={affectedEvents:n[o]||Vg,mutatedEvents:i[o]||Vg,isEvent:e.isEvent})};for(let o in n)s(o);for(let o in i)s(o)}return r}}function ame(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let a={"":jM(n)};return r&&Object.assign(a,r),a}function BM(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!na(n.activeRange,t))),isOther:!!(n&&!na(n.currentRange,t)),isToday:!!(e&&na(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function Rw(t,e){let r=["fc-day",`fc-day-${lfe[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const ime=pt({year:"numeric",month:"long",day:"numeric"}),sme=pt({week:"long"});function Qh(t,e,r="day",n=!0){const{dateEnv:a,options:i,calendarApi:s}=t;let o=a.format(e,r==="week"?sme:ime);if(i.navLinks){let l=a.toDate(e);const u=d=>{let f=r==="day"?i.navLinkDayClick:r==="week"?i.navLinkWeekClick:null;typeof f=="function"?f.call(s,a.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:fc(i.navLinkHint,[o,l],o),"data-navlink":""},n?cM(u):{onClick:u})}return{"aria-label":o}}let Gg=null;function ome(){return Gg===null&&(Gg=lme()),Gg}function lme(){let t=document.createElement("div");dc(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return vw(t),r}let qg;function cme(){return qg||(qg=ume()),qg}function ume(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=HM(t);return document.body.removeChild(t),e}function HM(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function dme(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,a=parseInt(r.borderRightWidth,10)||0,i=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,o=HM(t),l=o.y-n-a,u=o.x-i-s,d={borderLeft:n,borderRight:a,borderTop:i,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return ome()&&r.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function fme(t,e=!1,r){let n=r?t.getBoundingClientRect():Iw(t),a=dme(t,e),i={left:n.left+a.borderLeft+a.scrollbarLeft,right:n.right-a.borderRight-a.scrollbarRight,top:n.top+a.borderTop,bottom:n.bottom-a.borderBottom-a.scrollbarBottom};return e&&(i.left+=a.paddingLeft,i.right-=a.paddingRight,i.top+=a.paddingTop,i.bottom-=a.paddingBottom),i}function Iw(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function hme(t){let e=zM(t),r=t.getBoundingClientRect();for(let n of e){let a=UM(r,n.getBoundingClientRect());if(a)r=a;else return null}return r}function zM(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class Wo{constructor(e,r,n,a){this.els=r;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),a&&this.buildElVerticals(i.top)}buildElHorizontals(e){let r=[],n=[];for(let a of this.els){let i=a.getBoundingClientRect();r.push(i.left-e),n.push(i.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let a of this.els){let i=a.getBoundingClientRect();r.push(i.top-e),n.push(i.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,a=r.length,i;for(i=0;i<a;i+=1)if(e>=r[i]&&e<n[i])return i}topToIndex(e){let{tops:r,bottoms:n}=this,a=r.length,i;for(i=0;i<a;i+=1)if(e>=r[i]&&e<n[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Od(this.tops||[],e.tops||[])&&Od(this.bottoms||[],e.bottoms||[])&&Od(this.lefts||[],e.lefts||[])&&Od(this.rights||[],e.rights||[])}}function Od(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class $w{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class mme extends $w{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class pme extends $w{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Ln extends We{constructor(){super(...arguments),this.uid=ys()}prepareHits(){}queryHit(e,r,n,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!nr(e,".fc-event-mirror")}isValidDateDownEl(e){return!nr(e,".fc-event:not(.fc-bg-event)")&&!nr(e,".fc-more-link")&&!nr(e,"a[data-navlink]")&&!nr(e,".fc-popover")}}class WM{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},r),{span:Lw(r.span,e.touchingEntry.span)});n.push(a),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let a=e.span,i=r.span;a.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:i.start}},n),a.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:a.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:a}=this;r.lateral===-1?(Yg(a,r.level,r.levelCoord),Yg(n,r.level,[e])):Yg(n[r.level],r.lateral,e),this.stackCnts[Gi(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:a,stackCnts:i}=this,s=r.length,o=0,l=-1,u=-1,d=null,f=0;for(let p=0;p<s;p+=1){const g=r[p];if(!a&&g>=o+this.getEntryThickness(e))break;let v=n[p],x,y=q0(v,e.span.start,G0),b=y[0]+y[1];for(;(x=v[b])&&x.span.start<e.span.end;){let S=g+this.getEntryThickness(x);S>o&&(o=S,d=x,l=p,u=b),S===o&&(f=Math.max(f,i[Gi(x)]+1)),b+=1}}let h=0;if(d)for(h=l+1;h<s&&r[h]<o;)h+=1;let m=-1;return h<s&&r[h]===o&&(m=q0(n[h],e.span.end,G0)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:o,level:h,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,a=[];for(let i=0;i<n;i+=1){let s=e[i],o=r[i];for(let l of s)a.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return a}}function G0(t){return t.span.end}function Gi(t){return t.index+":"+t.span.start}function gme(t){let e=[];for(let r of t){let n=[],a={span:r.span,entries:[r]};for(let i of e)Lw(i.span,a.span)?a={entries:i.entries.concat(a.entries),span:vme(i.span,a.span)}:n.push(i);n.push(a),e=n}return e}function vme(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Lw(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function Yg(t,e,r){t.splice(e,0,r)}function q0(t,e,r){let n=0,a=t.length;if(!a||e<r(t[n]))return[0,0];if(e>r(t[a-1]))return[a,0];for(;n<a;){let i=Math.floor(n+(a-n)/2),s=r(t[i]);if(e<s)a=i;else if(e>s)n=i+1;else return[i,1]}return[n,0]}class yme{constructor(e,r){this.emitter=new gp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Fw={};function xme(t,e){return!t||e>10?pt({weekday:"short"}):e>1?pt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):pt({weekday:"long"})}const VM="fc-col-header-cell";function GM(t){return t.text}class bme extends We{render(){let{dateEnv:e,options:r,theme:n,viewApi:a}=this.context,{props:i}=this,{date:s,dateProfile:o}=i,l=BM(s,i.todayRange,null,o),u=[VM].concat(Rw(l,n)),d=e.format(s,i.dayHeaderFormat),f=!l.isDisabled&&i.colCnt>1?Qh(this.context,s):{},h=e.toDate(s);e.namedTimeZoneImpl&&(h=ri(h,36e5));let m=Object.assign(Object.assign(Object.assign({date:h,view:a},i.extraRenderProps),{text:d}),l);return L($r,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":l.isDisabled?void 0:ww(s)},i.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:GM,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},p=>L("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&L(p,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const wme=pt({weekday:"long"});class Sme extends We{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:a,options:i}=this.context,s=ar(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:a}),e.extraRenderProps),{text:l});return L($r,{elTag:"th",elClasses:[VM,...Rw(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:GM,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},d=>L("div",{className:"fc-scrollgrid-sync-inner"},L(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,wme)}})))}}class qM extends We{constructor(){super(...arguments),this.createDayHeaderFormatter=be(_me)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:a,renderIntro:i}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,r.length);return L(hl,{unit:"day"},(o,l)=>L("tr",{role:"row"},i&&i("day"),r.map(u=>a?L(bme,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:r.length,dayHeaderFormat:s}):L(Sme,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function _me(t,e,r){return t||xme(e,r)}class YM{constructor(e,r){let n=e.start,{end:a}=e,i=[],s=[],o=-1;for(;n<a;)r.isHiddenDay(n)?i.push(o+.5):(o+=1,i.push(o),s.push(n)),n=ar(n,1);this.dates=s,this.indices=i,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ar(e.end,-1)),a=Math.max(0,r),i=Math.min(this.cnt-1,n);return a=Math.ceil(a),i=Math.floor(i),a<=i?{firstIndex:a,lastIndex:i,isStart:r===a,isEnd:n===i}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(xs(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class KM{constructor(e,r){let{dates:n}=e,a,i,s;if(r){for(i=n[0].getUTCDay(),a=1;a<n.length&&n[a].getUTCDay()!==i;a+=1);s=Math.ceil(n.length/a)}else s=1,a=n.length;this.rowCnt=s,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let a=0;a<this.colCnt;a+=1)n.push(this.buildCell(r,a));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),a=[];if(n){let{firstIndex:i,lastIndex:s}=n,o=i;for(;o<=s;){let l=Math.floor(o/r),u=Math.min((l+1)*r,s+1);a.push({row:l,firstCol:o%r,lastCol:(u-1)%r,isStart:n.isStart&&o===i,isEnd:n.isEnd&&u-1===s}),o=u}}return a}}class QM{constructor(){this.sliceBusinessHours=be(this._sliceBusinessHours),this.sliceDateSelection=be(this._sliceDateSpan),this.sliceEventStore=be(this._sliceEventStore),this.sliceEventDrag=be(this._sliceInteraction),this.sliceEventResize=be(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,a,...i){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,r,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,a,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,a,...i),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...i),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,a,...i){return this._sliceDateSpan({range:{start:e,end:ri(e,1)},allDay:!1},r,n,{},a,...i)}_sliceBusinessHours(e,r,n,a,...i){return e?this._sliceEventStore(ls(e,Dd(r,!!n),a),{},r,n,...i).bg:[]}_sliceEventStore(e,r,n,a,...i){if(e){let s=MT(e,r,Dd(n,!!a),a);return{bg:this.sliceEventRanges(s.bg,i),fg:this.sliceEventRanges(s.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,a,...i){if(!e)return null;let s=MT(e.mutatedEvents,r,Dd(n,!!a),a);return{segs:this.sliceEventRanges(s.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,a,i,...s){if(!e)return[];let o=Dd(r,!!n),l=os(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=Vhe(e,a,i),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let a of e)n.push(...this.sliceEventRange(a,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:ar(n.start,1)});let a=this.sliceRange(n,...r);for(let i of a)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return a}}function Dd(t,e){let r=t.activeRange;return e?r:{start:ri(r.start,t.slotMinTime.milliseconds),end:ri(r.end,t.slotMaxTime.milliseconds-864e5)}}function XM(t,e,r){let{instances:n}=t.mutatedEvents;for(let a in n)if(!mp(e.validRange,n[a].range))return!1;return ZM({eventDrag:t},r)}function Eme(t,e,r){return mp(e.validRange,t.range)?ZM({dateSelection:t},r):!1}function ZM(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||jme)(n,e)}function jme(t,e,r={},n){return!(t.eventDrag&&!Ame(t,e,r,n)||t.dateSelection&&!Tme(t,e,r,n))}function Ame(t,e,r,n){let a=e.getCurrentData(),i=t.eventDrag,s=i.mutatedEvents,o=s.defs,l=s.instances,u=Kh(o,i.isEvent?t.eventUiBases:{"":a.selectionConfig});n&&(u=da(u,n));let d=_he(t.eventStore,i.affectedEvents.instances),f=d.defs,h=d.instances,m=Kh(f,t.eventUiBases);for(let p in l){let g=l[p],v=g.range,x=u[g.defId],y=o[g.defId];if(!JM(x.constraints,v,d,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,S=typeof b=="function"?b:null;for(let _ in h){let E=h[_];if(Tw(v,E.range)&&(m[E.defId].overlap===!1&&i.isEvent||x.overlap===!1||S&&!S(new ht(e,f[E.defId],E),new ht(e,y,g))))return!1}let w=a.eventStore;for(let _ of x.allows){let E=Object.assign(Object.assign({},r),{range:g.range,allDay:y.allDay}),j=w.defs[y.defId],T=w.instances[p],O;if(j?O=new ht(e,j,T):O=new ht(e,y),!_(Dw(E,e),O))return!1}}return!0}function Tme(t,e,r,n){let a=t.eventStore,i=a.defs,s=a.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!JM(u.constraints,l,a,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in s){let m=s[h];if(Tw(l,m.range)&&(u.overlap===!1||f&&!f(new ht(e,i[m.defId],m),null)))return!1}for(let h of u.allows){let m=Object.assign(Object.assign({},r),o);if(!h(Dw(m,e),null))return!1}return!0}function JM(t,e,r,n,a){for(let i of t)if(!Cme(Nme(i,e,r,n,a),e))return!1;return!0}function Nme(t,e,r,n,a){return t==="businessHours"?Kg(ls(n,e,a)):typeof t=="string"?Kg(pp(r,i=>i.groupId===t)):typeof t=="object"&&t?Kg(ls(t,e,a)):[]}function Kg(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function Cme(t,e){for(let r of t)if(mp(r,e))return!0;return!1}const Pd=/^(visible|hidden)$/;class kme extends We{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,In(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,a=r&&n,i=["fc-scroller"];return r&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),L("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Pd.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(Pd.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return Pd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Pd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Xn{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:a,currentMap:i}=this,s=!1,o=!1;r!==null?(s=n in i,i[n]=r,a[n]=(a[n]||0)+1,o=!0):(a[n]-=1,a[n]||(delete i[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),o&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return Hfe(this.currentMap,e,r,n)}getAll(){return jw(this.currentMap)}}function Ome(t){let e=Ude(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,efe(n));return Math.ceil(r)}function eR(t,e){return t.liquid&&e.liquid}function Dme(t,e){return e.maxHeight!=null||eR(t,e)}function Pme(t,e,r,n){let{expandRows:a}=r;return typeof e.content=="function"?e.content(r):L("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:a?r.clientHeight:""}},r.tableColGroupNode,L(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function Mme(t,e){return ti(t,e,wn)}function Rme(t,e){let r=[];for(let n of t){let a=n.span||1;for(let i=0;i<a;i+=1)r.push(L("col",{style:{width:n.width==="shrink"?Ime(e):n.width||"",minWidth:n.minWidth||""}}))}return L("colgroup",{},...r)}function Ime(t){return t??4}function $me(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Lme(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function Fme(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function Y0(t){return L("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Xh(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function tR(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Uw extends We{constructor(){super(...arguments),this.processCols=be(e=>e,Mme),this.renderMicroColGroup=be(Rme),this.scrollerRefs=new Xn,this.scrollerElRefs=new Xn(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,a=e.sections||[],i=this.processCols(e.cols),s=this.renderMicroColGroup(i,r.shrinkWidth),o=Lme(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=a.length,u=0,d,f=[],h=[],m=[];for(;u<l&&(d=a[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<l&&(d=a[u]).type==="body";)h.push(this.renderSection(d,s,!1)),u+=1;for(;u<l&&(d=a[u]).type==="footer";)m.push(this.renderSection(d,s,!0)),u+=1;let p=!FM();const g={role:"rowgroup"};return L("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!p&&f.length)&&L("thead",g,...f),!!(!p&&h.length)&&L("tbody",g,...h),!!(!p&&m.length)&&L("tfoot",g,...m),p&&L("tbody",g,...f,...h,...m))}renderSection(e,r,n){return"outerContent"in e?L(at,{key:e.key},e.outerContent):L("tr",{key:e.key,role:"presentation",className:Fme(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,a){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=Dme(i,e),d=eR(i,e),f=i.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,m=Pme(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return L(a?"th":"td",{ref:n.elRef,role:"presentation"},L("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},L(kme,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,r){let n=Ume(this.props.sections,r);n&&In(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return $me(this.props.cols)?Ome(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=cme(),{scrollerRefs:r,scrollerElRefs:n}=this,a=!1,i={},s={};for(let o in r.currentMap){let l=r.currentMap[o];if(l&&l.needsYScrolling()){a=!0;break}}for(let o of this.props.sections){let l=o.key,u=n.currentMap[l];if(u){let d=u.parentNode;i[l]=Math.floor(d.getBoundingClientRect().width-(a?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:i,scrollerClientHeights:s}}}Uw.addStateEquality({scrollerClientWidths:wn,scrollerClientHeights:wn});function Ume(t,e){for(let r of t)if(r.key===e)return r;return null}class Bw extends We{constructor(){super(...arguments),this.buildPublicEvent=be((e,r,n)=>new ht(e,r,n)),this.handleEl=e=>{this.el=e,In(this.props.elRef,e),e&&RT(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:a}=e,{eventRange:i}=a,{ui:s}=i,o={event:this.buildPublicEvent(r,i.def,i.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&Rhe(a,r),isStartResizable:!e.disableResizing&&Ihe(a,r),isEndResizable:!e.disableResizing&&$he(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return L($r,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Lhe(o),...a.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&RT(this.el,this.props.seg)}}class Hw extends We{render(){let{props:e,context:r}=this,{options:n}=r,{seg:a}=e,{ui:i}=a.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,o=MM(a,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return L(Bw,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:IM(a,r),defaultGenerator:Bme,timeText:o}),(l,u)=>L(at,null,L(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Hw.addPropsEquality({seg:wn});function Bme(t){return L("div",{className:"fc-event-main-frame"},t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title-container"},L("div",{className:"fc-event-title fc-sticky"},t.event.title||L(at,null,""))))}const zw=t=>L(ga.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return L($r,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount},t.children)}),Hme=pt({day:"numeric"});class Ww extends We{constructor(){super(...arguments),this.refineRenderProps=ef(zme)}render(){let{props:e,context:r}=this,{options:n}=r,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return L($r,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":ww(e.date)}),elClasses:[...Rw(a,r.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function Vw(t){return!!(t.dayCellContent||H0("dayCellContent",t))}function zme(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:a}=t,i=BM(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,a?t.monthStartFormat:Hme):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},i),{isMonthStart:a,dayNumberText:s}),t.extraRenderProps)}class rR extends We{render(){let{props:e}=this,{seg:r}=e;return L(Bw,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:Wme,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Wme(t){let{title:e}=t.event;return e&&L("div",{className:"fc-event-title"},t.event.title)}function nR(t){return L("div",{className:`fc-${t}`})}const aR=t=>L(ga.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:a}=t,i=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(a),o=r.format(a,i),l={num:s,text:o,date:a};return L($r,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:Vme,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},t.children)});function Vme(t){return t.text}const Qg=10;class Gme extends We{constructor(){super(...arguments),this.state={titleId:fp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&In(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=oM(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:a}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return Ade(L("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),L("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},L("span",{className:"fc-popover-title",id:a.titleId},n.title),L("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),L("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:a}=this,i=hme(r);if(i){let s=a.getBoundingClientRect(),o=n?nr(r,".fc-scrollgrid").getBoundingClientRect().top:i.top,l=e?i.right-s.width:i.left;o=Math.max(o,Qg),l=Math.min(l,document.documentElement.clientWidth-Qg-s.width),l=Math.max(l,Qg);let u=a.offsetParent.getBoundingClientRect();dc(a,{top:o-u.top,left:l-u.left})}}}class qme extends Ln{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:a,todayRange:i,dateProfile:s}=n,o=r.format(a,e.dayPopoverFormat);return L(Ww,{elRef:this.handleRootEl,date:a,dateProfile:s,todayRange:i},(l,u,d)=>L(Gme,{elRef:d.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Vw(e)&&L(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,a){let{rootEl:i,props:s}=this;return e>=0&&e<n&&r>=0&&r<a?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:a},layer:1}:null}}class iR extends We{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:fp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&In(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:a}=n.options,i=$T(r).start;function s(o){let{def:l,instance:u,range:d}=o.eventRange;return{event:new ht(n,l,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof a=="function"&&(a=a({date:i,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&n.calendarApi.zoomTo(i,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return L(ga.Consumer,null,n=>{let{viewApi:a,options:i,calendarApi:s}=n,{moreLinkText:o}=i,{moreCnt:l}=e,u=$T(e),d=typeof o=="function"?o.call(s,l):`+${l} ${o}`,f=fc(i.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:a};return L(at,null,!!e.moreCnt&&L($r,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),cM(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||Yme,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),r.isPopoverOpen&&L(qme,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=nr(this.linkEl,".fc-view-harness"))}}function Yme(t){return t.text}function $T(t){if(t.allDayDate)return{start:t.allDayDate,end:ar(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:sR(e),end:Qme(e)}}function sR(t){return t.reduce(Kme).eventRange.range.start}function Kme(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Qme(t){return t.reduce(Xme).eventRange.range.end}function Xme(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Zme{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Jme extends Zme{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const epe=[],oR={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},lR=Object.assign(Object.assign({},oR),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function tpe(t){let e=t.length>0?t[0].code:"en",r=epe.concat(t),n={en:lR};for(let a of r)n[a.code]=a;return{map:n,defaultCode:e}}function cR(t,e){return typeof t=="object"&&!Array.isArray(t)?uR(t.code,[t.code],t):rpe(t,e)}function rpe(t,e){let r=[].concat(t||[]),n=npe(r,e)||lR;return uR(t,r,n)}function npe(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let a=n.length;a>0;a-=1){let i=n.slice(0,a).join("-");if(e[i])return e[i]}}return null}function uR(t,e,r){let n=Ew([oR,r],["buttonText"]);delete n.code;let{week:a}=n;return delete n.week,{codeArg:t,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function va(t){return{id:ys(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function ape(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(i){for(let s of i){const o=s.name,l=r[o];l===void 0?(r[o]=s.id,a(s.deps),n=spe(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&a(t),a(e),n}function ipe(){let t=[],e=[],r;return(n,a)=>((!r||!ti(n,t)||!ti(a,e))&&(r=ape(n,a)),t=n,e=a,r)}function spe(t,e){return{premiumReleaseDate:ope(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function ope(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class vi extends Lu{}vi.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};vi.prototype.baseIconClass="fc-icon";vi.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};vi.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};vi.prototype.iconOverrideOption="buttonIcons";vi.prototype.iconOverrideCustomButtonOption="icon";vi.prototype.iconOverridePrefix="fc-icon-";function lpe(t,e){let r={},n;for(n in t)K0(n,r,t,e);for(n in e)K0(n,r,t,e);return r}function K0(t,e,r,n){if(e[t])return e[t];let a=cpe(t,e,r,n);return a&&(e[t]=a),a}function cpe(t,e,r,n){let a=r[t],i=n[t],s=d=>a&&a[d]!==null?a[d]:i&&i[d]!==null?i[d]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=K0(l,e,r,n)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),i?i.rawOptions:{})}:null}function LT(t){return da(t,upe)}function upe(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=FT(e):r&&!(r.prototype instanceof We)&&(r=FT(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function FT(t){return e=>L(ga.Consumer,null,r=>L($r,{elTag:"div",elClasses:yM(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function dpe(t,e,r,n){let a=LT(t),i=LT(e.views),s=lpe(a,i);return da(s,o=>fpe(o,i,e,r,n))}function fpe(t,e,r,n,a){let i=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,o="",l="",u={};if(i&&(s=hpe(i),s)){let h=B0(s);o=h.unit,h.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let d=h=>{let m=h.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&m[p]!=null?m[p]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null},f=h=>{let m=h.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&m[p]!=null?m[p]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(a)||t.defaults.buttonText||d(hc)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(a)||t.defaults.buttonHint||f(hc)}}let UT={};function hpe(t){let e=JSON.stringify(t),r=UT[e];return r===void 0&&(r=Me(t),UT[e]=r),r}function mpe(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function ppe(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function gpe(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function vpe(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function ype(t,e,r,n){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(a=n.buildPrev(t,r),a.isValid)return a;break;case"NEXT":if(a=n.buildNext(t,r),a.isValid)return a;break}return t}function xpe(t,e,r){let n=e?e.activeRange:null;return fR({},Ape(t,r),n,r)}function bpe(t,e,r,n){let a=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return fR(t,e.sources,a,n);case"REMOVE_EVENT_SOURCE":return Spe(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?hR(t,a,n):t;case"FETCH_EVENT_SOURCES":return Gw(t,e.sourceIds?hM(e.sourceIds):mR(t,n),a,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return jpe(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function wpe(t,e,r){let n=e?e.activeRange:null;return Gw(t,mR(t,r),n,!0,r)}function dR(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function fR(t,e,r,n){let a={};for(let i of e)a[i.sourceId]=i;return r&&(a=hR(a,r,n)),Object.assign(Object.assign({},t),a)}function Spe(t,e){return ss(t,r=>r.sourceId!==e)}function hR(t,e,r){return Gw(t,ss(t,n=>_pe(n,e,r)),e,!1,r)}function _pe(t,e,r){return pR(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Gw(t,e,r,n,a){let i={};for(let s in t){let o=t[s];e[s]?i[s]=Epe(o,r,n,a):i[s]=o}return i}function Epe(t,e,r,n){let{options:a,calendarApi:i}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],o=ys();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},l=>{let{rawEvents:u}=l;a.eventSourceSuccess&&(u=a.eventSourceSuccess.call(i,u,l.response)||u),t.success&&(u=t.success.call(i,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(i,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function jpe(t,e,r,n){let a=t[e];return a&&r===a.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:n})}):t}function mR(t,e){return ss(t,r=>pR(r,e))}function Ape(t,e){let r=TM(e),n=[].concat(t.eventSources||[]),a=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let i of n){let s=AM(i,e,r);s&&a.push(s)}return a}function pR(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Tpe(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Npe(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Cpe(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function kpe(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Ope(t,e,r,n,a){let i=t.headerToolbar?BT(t.headerToolbar,t,e,r,n,a):null,s=t.footerToolbar?BT(t.footerToolbar,t,e,r,n,a):null;return{header:i,footer:s}}function BT(t,e,r,n,a,i){let s={},o=[],l=!1;for(let u in t){let d=t[u],f=Dpe(d,e,r,n,a,i);s[u]=f.widgets,o.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Dpe(t,e,r,n,a,i){let s=e.direction==="rtl",o=e.customButtons||{},l=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],m=[],p=!1;return{widgets:h.map(v=>v.split(",").map(x=>{if(x==="title")return p=!0,{buttonName:x};let y,b,S,w,_,E;if(y=o[x])S=j=>{y.click&&y.click.call(j.target,j,j.target)},(w=n.getCustomButtonIconClass(y))||(w=n.getIconClass(x,s))||(_=y.text),E=y.hint||y.text;else if(b=a[x]){m.push(x),S=()=>{i.changeView(x)},(_=b.buttonTextOverride)||(w=n.getIconClass(x,s))||(_=b.buttonTextDefault);let j=b.buttonTextOverride||b.buttonTextDefault;E=fc(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[j,x],j)}else if(i[x])if(S=()=>{i[x]()},(_=l[x])||(w=n.getIconClass(x,s))||(_=u[x]),x==="prevYear"||x==="nextYear"){let j=x==="prevYear"?"prev":"next";E=fc(d[j]||f[j],[u.year||"year","year"],u[x])}else E=j=>fc(d[x]||f[x],[u[j]||j,j],u[x]);return{buttonName:x,buttonClick:S,buttonIcon:w,buttonText:_,buttonHint:E}})),viewsWithButtons:m,hasTitle:p}}class Ppe{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Mpe={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Rpe=va({name:"array-event-source",eventSourceDefs:[Mpe]});let Ipe={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,a=t.eventSource.meta;Ghe(a.bind(null,$M(t.range,n)),i=>e({rawEvents:i}),r)}};const $pe=va({name:"func-event-source",eventSourceDefs:[Ipe]}),Lpe={method:String,extraParams:K,startParam:String,endParam:String,timeZoneParam:String};let Fpe={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,a=Bpe(n,t.range,t.context);qhe(n.method,n.url,a).then(([i,s])=>{e({rawEvents:i,response:s})},r)}};const Upe=va({name:"json-event-source",eventSourceRefiners:Lpe,eventSourceDefs:[Fpe]});function Bpe(t,e,r){let{dateEnv:n,options:a}=r,i,s,o,l,u={};return i=t.startParam,i==null&&(i=a.startParam),s=t.endParam,s==null&&(s=a.endParam),o=t.timeZoneParam,o==null&&(o=a.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[i]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[o]=n.timeZone),u}const Hpe={daysOfWeek:K,startTime:Me,endTime:Me,duration:Me,startRecur:K,endRecur:K};let zpe={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=afe(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=os(e,{start:t.startRecur,end:t.endRecur});return n?Vpe(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const Wpe=va({name:"simple-recurring-event",recurringTypes:[zpe],eventRefiners:Hpe});function Vpe(t,e,r,n,a){let i=t?hM(t):null,s=it(a.start),o=a.end,l=[];for(;s<o;){let u;(!i||i[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,l.push(n.createMarker(r.toDate(u)))),s=ar(s,1)}return l}const Gpe=va({name:"change-handler",optionChangeHandlers:{events(t,e){HT([t],e)},eventSources:HT}});function HT(t,e){let r=jw(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let a of t){let i=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===a){r.splice(s,1),i=!0;break}i||n.push(a)}for(let a of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of n)e.calendarApi.addEventSource(a)}function qpe(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},$M(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Ype(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",Vi(t,e))}const Kpe=[Rpe,$pe,Upe,Wpe,Gpe,va({name:"misc",isLoadingFuncs:[t=>dR(t.eventSources)],propSetHandlers:{dateProfile:qpe,eventStore:Ype}})];class Qpe{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new gw(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Xpe(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,pt(e.titleFormat||Zpe(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Zpe(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=Bh(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class zT{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Jpe{constructor(e){this.computeCurrentViewData=be(this._computeCurrentViewData),this.organizeRawLocales=be(tpe),this.buildLocale=be(cR),this.buildPluginHooks=ipe(),this.buildDateEnv=be(ege),this.buildTheme=be(tge),this.parseToolbars=be(Ope),this.buildViewSpecs=be(dpe),this.buildDateProfileGenerator=ef(rge),this.buildViewApi=be(nge),this.buildViewUiProps=ef(sge),this.buildEventUiBySource=be(age,wn),this.buildEventUiBases=be(ige),this.parseContextBusinessHours=ef(oge),this.buildTitle=be(Xpe),this.nowManager=new zT,this.emitter=new gp,this.actionRunner=new Qpe(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new zT;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),a=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(a,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=gpe(n.calendarOptions,n.dateEnv,this.nowManager),l=i.dateProfileGenerator.build(o);na(l.activeRange,o)||(o=l.currentRange.start);for(let h of n.pluginHooks.contextInit)h(s);let u=xpe(n.calendarOptions,l,s),d={dynamicOptionOverrides:r,currentViewType:a,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Dr(),renderableEventStore:Dr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));Xg(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:a}=this,i=vpe(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,i,r.calendarApi),o=mpe(n.currentViewType,e),l=this.computeCurrentViewData(o,s,r.optionOverrides,i);r.calendarApi.currentDataManager=this,a.setThisContext(r.calendarApi),a.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(d)),d=ppe(d,e),f=ype(f,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!na(f.currentRange,d))&&(d=f.currentRange.start);let h=bpe(n.eventSources,e,f,u),m=xhe(n.eventStore,e,h,f,u),g=dR(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||m,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),b=this.buildEventUiBases(g.defs,v,y),S={dynamicOptionOverrides:i,currentViewType:o,currentDate:d,dateProfile:f,eventSources:h,eventStore:m,renderableEventStore:g,selectionConfig:x,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:Tpe(n.dateSelection,e),eventSelection:Npe(n.eventSelection,e),eventDrag:Cpe(n.eventDrag,e),eventResize:kpe(n.eventResize,e)},w=Object.assign(Object.assign({},u),S);for(let j of s.pluginHooks.reducers)Object.assign(S,j(n,e,w));let _=Xg(n,u),E=Xg(S,u);!_&&E?a.trigger("loading",!0):_&&!E&&a.trigger("loading",!1),this.state=S,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,a=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(r.currentViewType,a,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,i.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),i),r),o=a.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=a.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=wpe(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=DT(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=DT(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==u[d])&&o[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:i,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,r);WT(l);let u=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,i,o,a.defaultRangeSeparator),d=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(a,i),h=this.parseToolbars(a,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:i,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,r){let{locales:n,locale:a}=Hg([hc,e,r]),i=this.organizeRawLocales(n),s=i.map,o=this.buildLocale(a||i.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Kpe),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AT),TT),NT),l.listenerRefiners),l.optionRefiners),d={},f=Hg([hc,o,e,r]),h={},m=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,g=!1;for(let v in f)this.optionsForRefining.indexOf(v)===-1&&(f[v]===m[v]||Ni[v]&&v in m&&Ni[v](m[v],f[v]))?h[v]=p[v]:u[v]?(h[v]=u[v](f[v]),g=!0):d[v]=m[v];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:i,localeDefaults:o,extra:d}}_computeCurrentViewData(e,r,n,a){let i=r.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(i,r.pluginHooks,r.localeDefaults,n,a);WT(o),this.nowManager.handleInput(r.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:i,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,r,n,a,i){let s=Hg([hc,e.optionDefaults,n,a,e.optionOverrides,i]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AT),TT),NT),$fe),r.listenerRefiners),r.optionRefiners),l={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let m in s)s[m]===u[m]||Ni[m]&&Ni[m](s[m],u[m])?l[m]=d[m]:(s[m]===this.currentCalendarOptionsInput[m]||Ni[m]&&Ni[m](s[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(l[m]=this.currentCalendarOptionsRefined[m]):o[m]?l[m]=o[m](s[m]):h[m]=s[m],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function ege(t,e,r,n,a,i,s,o){let l=cR(e||s.defaultCode,s.map);return new Yfe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:r,firstDay:n,weekText:a,cmdFormatter:i.cmdFormatter,defaultSeparator:o})}function tge(t,e){let r=e.themeClasses[t.themeSystem]||vi;return new r(t)}function rge(t){let e=t.dateProfileGeneratorClass||wM;return new e(t)}function nge(t,e,r){return new Ppe(t,e,r)}function age(t){return da(t,e=>e.ui)}function ige(t,e,r){let n={"":e};for(let a in t){let i=t[a];i.sourceId&&r[i.sourceId]&&(n[a]=r[i.sourceId])}return n}function sge(t){let{options:e}=t;return{eventUiSingleBase:Yh({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Yh({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Xg(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function oge(t){return Nhe(t.options.businessHours,t)}function WT(t,e){for(let r in t)console.warn(`Unknown option '${r}'`+(e?` for view '${e}'`:""))}class lge extends We{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return L("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,a=[],i=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(o==="title")i=!1,a.push(L("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=o===r.activeButton,m=!r.isTodayEnabled&&o==="today"||!r.isPrevEnabled&&o==="prev"||!r.isNextEnabled&&o==="next",p=[`fc-${o}-button`,n.getClass("button")];h&&p.push(n.getClass("buttonActive")),a.push(L("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:m,"aria-pressed":h,className:p.join(" "),onClick:l},u||(d?L("span",{className:d,role:"img"}):"")))}}if(a.length>1){let s=i&&n.getClass("buttonGroup")||"";return L("div",{className:s},...a)}return a[0]}}class VT extends We{render(){let{model:e,extraClassName:r}=this.props,n=!1,a,i,s=e.sectionWidgets,o=s.center;return s.left?(n=!0,a=s.left):a=s.start,s.right?(n=!0,i=s.right):i=s.end,L("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",o||[]),this.renderSection("end",i||[]))}renderSection(e,r){let{props:n}=this;return L(lge,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class cge extends We{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,In(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,a=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",s="";return n?r.availableWidth!==null?i=r.availableWidth/n:s=`${1/n*100}%`:i=e.height||"",L("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:i,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class uge extends fl{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:a}=this,{context:i}=a,s=zo(n);if(s&&a.isValidSegDownEl(r.target)){let o=nr(r.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:n,event:new ht(a.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:i.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},this.destroy=lM(e.el,"click",".fc-event",this.handleSegClick)}}class dge extends fl{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{zo(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=zde(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:a}=this,{context:i}=a,s=zo(n);(!r||a.isValidSegDownEl(r.target))&&i.emitter.trigger(e,{el:n,event:new ht(i,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:i.viewApi})}}class fge extends bs{constructor(){super(...arguments),this.buildViewContext=be(Xfe),this.buildViewPropTransformers=be(mge),this.buildToolbarProps=be(hge),this.headerRef=ur(),this.footerRef=ur(),this.interactionsStore={},this.state={viewLabelId:fp()},this.registerInteractiveComponent=(e,r)=>{let n=Qhe(e,r),s=[uge,dge].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=s,V0[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete V0[e.uid]},this.resizeRunner=new gw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,a=!1,i="",s;e.isHeightAuto||e.forPrint?i="":n.height!=null?a=!0:n.contentHeight!=null?i=n.contentHeight:s=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return L(ga.Provider,{value:o},L(hl,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return L(at,null,r.header&&L(VT,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:l},d)),L(cge,{liquid:a,height:i,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),r.footer&&L(VT,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let a in n)r[a]!==e[a]&&n[a](r[a],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return L(at,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(r.viewPropsTransformers);for(let o of i)Object.assign(a,o.transform(a,e));let s=n.component;return L(s,Object.assign({},a))}}function hge(t,e,r,n,a,i){let s=r.build(a,void 0,!1),o=r.buildPrev(e,n,!1),l=r.buildNext(e,n,!1);return{title:i,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!na(e.currentRange,a),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function mge(t){return t.map(e=>new e)}let pge=class extends Zhe{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;Vh(()=>{yu(L(Khe,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(a,i,s,o)=>(this.setClassNames(a),this.setHeight(i),L(vM.Provider,{value:this.customContentRenderId},L(fge,Object.assign({isHeightAuto:s,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,yu(null,this.el),this.setClassNames([]),this.setHeight(""))},Mde(e),this.el=e,this.renderRunner=new gw(this.handleRenderRequest),new Jpe({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Vh(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!ti(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){sM(this.el,"height",e)}};const gge=parseInt(String(W.version).split(".")[0]),vge=gge<18;class gR extends N.Component{constructor(){super(...arguments),this.elRef=N.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(W.createElement(yge,{key:r.id,customRendering:r}));return W.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Jme;this.handleCustomRendering=e.handle.bind(e),this.calendar=new pge(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Nf.flushSync(()=>{})});let r;e.subscribe(n=>{const a=Date.now(),i=!r;(vge||i||this.isUpdating||this.isUnmounting||a-r<100?vR:Nf.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=a,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}gR.act=vR;class yge extends N.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return Nf.createPortal(n,e.containerEl)}}function vR(t){t()}class xge extends Ln{constructor(){super(...arguments),this.headerElRef=ur()}renderSimpleLayout(e,r){let{props:n,context:a}=this,i=[],s=Xh(a.options);return e&&i.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),L(Gh,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},L(Uw,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,r,n,a){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&Xh(o.options),u=!s.forPrint&&tR(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Y0}]}),L(Gh,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},L(i,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:a}]}],sections:d}))}}function rf(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function Md(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function GT(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const yR=pt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function xR(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class bR extends We{render(){let{props:e}=this;return L(Hw,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:yR,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class wR extends We{render(){let{props:e,context:r}=this,{options:n}=r,{seg:a}=e,i=n.eventTimeFormat||yR,s=MM(a,i,r,!0,e.defaultDisplayEventEnd);return L(Bw,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:IM(e.seg,r),defaultGenerator:bge,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function bge(t){return L(at,null,L("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title"},t.event.title||L(at,null,"")))}class wge extends We{constructor(){super(...arguments),this.compileSegs=be(Sge)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return L(iR,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return L(at,null,r.map(i=>{let s=i.eventRange.instance.instanceId;return L("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:a[s]?"hidden":""}},xR(i)?L(wR,Object.assign({seg:i,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Xa(i,e.todayRange))):L(bR,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Xa(i,e.todayRange))))}))}})}}function Sge(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const _ge=pt({week:"narrow"});class Ege extends Ln{constructor(){super(...arguments),this.rootElRef=ur(),this.state={dayNumberId:fp()},this.handleRootEl=e=>{In(this.rootElRef,e),In(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:a}=this,{options:i,dateEnv:s}=e,{date:o,dateProfile:l}=r;const u=r.showDayNumber&&Age(o,l.currentRange,s);return L(Ww,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:jge,date:o,dateProfile:l,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>L("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&L(aR,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Qh(e,o,"week"),date:o,defaultFormat:_ge}),!f.isDisabled&&(r.showDayNumber||Vw(i)||r.forceDayTop)?L("div",{className:"fc-daygrid-day-top"},L(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Qh(e,o)),{id:n.dayNumberId})})):r.showDayNumber?L("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},L("a",{className:"fc-daygrid-day-number"},"")):void 0,L("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,L("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},L(wge,{allDayDate:o,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:a,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),L("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function jge(t){return t.dayNumberText||L(at,null,"")}function Age(t,e,r){const{start:n,end:a}=e,i=ri(a,-1),s=r.getYear(n),o=r.getMonth(n),l=r.getYear(i),u=r.getMonth(i);return!(s===l&&o===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<a.valueOf())}function SR(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function _R(t){return SR(t)+":"+t.lastCol}function Tge(t,e,r,n,a,i,s){let o=new kge(x=>{let y=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return a[y]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||r===!0?(o.maxCoord=i,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof r=="number"&&(o.maxStackCnt=r,o.hiddenConsumes=!0);let l=[],u=[];for(let x=0;x<t.length;x+=1){let y=t[x],b=_R(y);a[b]!=null?l.push({index:x,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let d=o.addSegs(l),f=o.toRects(),{singleColPlacements:h,multiColPlacements:m,leftoverMargins:p}=Nge(f,t,s),g=[],v=[];for(let x of u){m[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=x.firstCol;y<=x.lastCol;y+=1)h[y].push({seg:oo(x,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)g.push(0);for(let x of d){let y=t[x.index],b=x.span;m[b.start].push({seg:oo(y,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=b.start;S<b.end;S+=1)g[S]+=1,h[S].push({seg:oo(y,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)v.push(p[x]);return{singleColPlacements:h,multiColPlacements:m,moreCnts:g,moreMarginTops:v}}function Nge(t,e,r){let n=Cge(t,r.length),a=[],i=[],s=[];for(let o=0;o<r.length;o+=1){let l=n[o],u=[],d=0,f=0;for(let m of l){let p=e[m.index];u.push({seg:oo(p,o,o+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-d}),d=m.levelCoord+m.thickness}let h=[];d=0,f=0;for(let m of l){let p=e[m.index],g=m.span.end-m.span.start>1,v=m.span.start===o;f+=m.levelCoord-d,d=m.levelCoord+m.thickness,g?(f+=m.thickness,v&&h.push({seg:oo(p,m.span.start,m.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):v&&(h.push({seg:oo(p,m.span.start,m.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:f}),f=0)}a.push(u),i.push(h),s.push(f)}return{singleColPlacements:a,multiColPlacements:i,leftoverMargins:s}}function Cge(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let a=n.span.start;a<n.span.end;a+=1)r[a].push(n);return r}function oo(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let a=t.eventRange,i=a.range,s=os(i,{start:n[e].date,end:ar(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:s},isStart:t.isStart&&s.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===i.end.valueOf()})}class kge extends WM{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,a=i=>!this.forceHidden[Gi(i)];for(let i=0;i<n.length;i+=1)n[i]=n[i].filter(a);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:a,forceHidden:i}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=Gi(s);if(!i[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:Lw(s.span,r.span)}),f=Gi(d);i[f]=!0,a[o][l]=d,n.push(d),this.splitEntry(s,r,n)}else i[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class ER extends Ln{constructor(){super(...arguments),this.cellElRefs=new Xn,this.frameElRefs=new Xn,this.fgElRefs=new Xn,this.segHarnessRefs=new Xn,this.rootElRef=ur(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:a}=n,i=e.cells.length,s=Md(e.businessHourSegs,i),o=Md(e.bgEventSegs,i),l=Md(this.getHighlightSegs(),i),u=Md(this.getMirrorSegs(),i),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:m}=Tge(PM(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return L("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let x=this.renderFgSegs(v,e.forPrint?d[v]:f[v],e.todayRange,p),y=this.renderFgSegs(v,Oge(u[v],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return L(Ege,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[v],moreMarginTop:m[v],singlePlacements:d[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:L(at,null,L(at,null,x),L(at,null,y)),bgContent:L(at,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!wn(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,a,i,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=i||s||o,m=[];if(d)for(let p of r){let{seg:g}=p,{instanceId:v}=g.eventRange.instance,x=p.isVisible&&!a[v],y=p.isAbsolute,b="",S="";y&&(l.isRtl?(S=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,S=d.rights[g.firstCol]-d.rights[g.lastCol])),m.push(L("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:SR(g),ref:h?null:this.segHarnessRefs.createRef(_R(g)),style:{visibility:x?"":"hidden",marginTop:y?"":p.marginTop,top:y?p.absoluteTop:"",left:b,right:S}},xR(g)?L(wR,Object.assign({seg:g,isDragging:i,isSelected:v===u,defaultDisplayEventEnd:f},Xa(g,n))):L(bR,Object.assign({seg:g,isDragging:i,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:f},Xa(g,n)))))}return m}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:a}=this.props,{framePositions:i}=this.state,s=[];if(i)for(let o of e){let l=n?{right:0,left:i.lefts[o.lastCol]-i.lefts[o.firstCol]}:{left:0,right:i.rights[o.firstCol]-i.rights[o.lastCol]};s.push(L("div",{key:RM(o.eventRange),className:"fc-daygrid-bg-harness",style:l},r==="bg-event"?L(rR,Object.assign({seg:o},Xa(o,a))):nR(r)))}return L(at,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:a}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let l=r.cells.map(u=>a.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,d=new Wo(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new Wo(u,l,!0,!1)})}}const i=this.state.segHeights,s=this.querySegHeights(),o=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let a=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,a)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}ER.addStateEquality({segHeights:wn});function Oge(t,e){if(!t.length)return[];let r=Dge(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function Dge(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class Pge extends Ln{constructor(){super(...arguments),this.splitBusinessHourSegs=be(rf),this.splitBgEventSegs=be(Mge),this.splitFgEventSegs=be(rf),this.splitDateSelectionSegs=be(rf),this.splitEventDrag=be(GT),this.splitEventResize=be(GT),this.rowRefs=new Xn}render(){let{props:e,context:r}=this,n=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return L(hl,{unit:"day"},(f,h)=>L(at,null,e.cells.map((m,p)=>L(ER,{ref:this.rowRefs.createRef(p),key:m.length?m[0].date.toISOString():p,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:a[p],eventSelection:e.eventSelection,bgEventSegs:i[p],fgEventSegs:s[p],dateSelectionSegs:o[p],eventDrag:l[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Wo(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Wo(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:a}=this,i=n.leftToIndex(e),s=a.topToIndex(r);if(s!=null&&i!=null){let o=this.props.cells[s][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,i),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,i),rect:{left:n.lefts[i],right:n.rights[i],top:a.tops[s],bottom:a.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,a=ar(n,1);return{start:n,end:a}}}function Mge(t,e){return rf(t.filter(Rge),e)}function Rge(t){return t.eventRange.def.allDay}class Ige extends Ln{constructor(){super(...arguments),this.elRef=ur(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:a}=e,i=n===!0||r===!0;i&&!a&&(i=!1,r=null,n=null);let s=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return L("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,L("tbody",{role:"presentation"},L(Pge,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=$ge(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),a=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function $ge(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${bfe(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${ww(e.currentDate)}"]`)),r}class Lge extends QM{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class jR extends Ln{constructor(){super(...arguments),this.slicer=new Lge,this.tableRef=ur()}render(){let{props:e,context:r}=this;return L(Ige,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Fge extends xge{constructor(){super(...arguments),this.buildDayTableModel=be(Uge),this.headerRef=ur(),this.tableRef=ur()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,a=this.buildDayTableModel(n.dateProfile,r),i=e.dayHeaders&&L(qM,{ref:this.headerRef,dateProfile:n.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),s=o=>L(jR,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:a,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,s,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,s)}}function Uge(t,e){let r=new YM(t.renderRange,e);return new KM(r,/year|month|week/.test(t.currentRangeUnit))}class Bge extends wM{buildRenderRange(e,r,n){let a=super.buildRenderRange(e,r,n),{props:i}=this;return Hge({currentRange:a,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function Hge(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:a}=r,i;if(t.snapToWeek&&(n=e.startOfWeek(n),i=e.startOfWeek(a),i.valueOf()!==a.valueOf()&&(a=wT(i,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(ar(r.end,-1))),o=Math.ceil(cfe(s,a));a=wT(a,6-o)}return{start:n,end:a}}var zge=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';pw(zge);var Wge=va({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Fge,dateProfileGeneratorClass:Bge},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Vge extends nme{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Phe(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Gge=pt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function AR(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return L(ga.Consumer,null,r=>{if(!t.isLabeled)return L("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:a,viewApi:i}=r,s=a.slotLabelFormat==null?Gge:Array.isArray(a.slotLabelFormat)?pt(a.slotLabelFormat[0]):pt(a.slotLabelFormat),o={level:0,time:t.time,date:n.toDate(t.date),view:i,text:n.format(t.date,s)};return L($r,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:qge,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},l=>L("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},L(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function qge(t){return t.text}class Yge extends We{render(){return this.props.slatMetas.map(e=>L("tr",{key:e.key},L(AR,Object.assign({},e))))}}const Kge=pt({week:"short"}),Qge=5;class Xge extends Ln{constructor(){super(...arguments),this.allDaySplitter=new Vge,this.headerElRef=ur(),this.rootElRef=ur(),this.scrollerElRef=ur(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:a}=this.props,i=a.renderRange,o=xs(i.start,i.end)===1?Qh(this.context,i.start,"week"):{};return n.weekNumbers&&e==="day"?L(aR,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:Kge},l=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},L(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):L("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},L("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,a={text:r.allDayText,view:n};return L($r,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Zge,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},i=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},L(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:a,props:i}=this,s=[],o=Xh(a.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(s.push({type:"body",key:"all-day",chunk:{content:r}}),s.push({type:"body",key:"all-day-divider",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!a.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),L(Gh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},L(Uw,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,r,n,a,i,s,o){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&Xh(u.options),h=!d.forPrint&&tR(u.options),m=[];e&&m.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>L("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>L("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:r}]}),m.push({key:"all-day-divider",type:"body",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let p=u.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>L("div",{className:"fc-timegrid-axis-chunk"},L("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,L("tbody",null,L(Yge,{slatMetas:s}))),L("div",{className:"fc-timegrid-now-indicator-container"},L(hl,{unit:p?"minute":"day"},v=>{let x=p&&o&&o.safeComputeTop(v);return typeof x=="number"?L(zw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Y0},{key:"cols",content:Y0}]}),L(Gh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},L(l,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:i}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=Qge),{dayMaxEvents:e,dayMaxEventRows:r}}}function Zge(t){return t.text}class Jge{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(na(r.currentRange,e)){let n=it(e),a=e.valueOf()-n.valueOf();if(a>=gn(r.slotMinTime)&&a<gn(r.slotMaxTime))return this.computeTimeTop(Me(a))}return null}computeDateTop(e,r){return r||(r=it(e)),this.computeTimeTop(Me(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,a=r.els.length,i=(e.milliseconds-gn(n.slotMinTime))/gn(this.slotDuration),s,o;return i=Math.max(0,i),i=Math.min(a,i),s=Math.floor(i),s=Math.min(s,a-1),o=i-s,r.tops[s]+r.getHeight(s)*o}}class eve extends We{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:a}=e;return L("tbody",null,e.slatMetas.map((i,s)=>{let o={time:i.time,date:r.dateEnv.toDate(i.date),view:r.viewApi};return L("tr",{key:i.key,ref:a.createRef(i.key)},e.axis&&L(AR,Object.assign({},i)),L($r,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class tve extends We{constructor(){super(...arguments),this.rootElRef=ur(),this.slatElRefs=new Xn}render(){let{props:e,context:r}=this;return L("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},L("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,L(eve,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new Jge(new Wo(this.rootElRef.current,rve(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function rve(t,e){return e.map(r=>t[r.key])}function Fl(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function qT(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}class nve extends We{render(){let{props:e}=this;return L(iR,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>NR(e.hiddenSegs,e),defaultGenerator:ave,forceTimed:!0},r=>L(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function ave(t){return t.shortText}function ive(t,e,r){let n=new WM;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let a=n.addSegs(t),i=gme(a),s=sve(n);return s=uve(s,1),{segRects:dve(s),hiddenGroups:i}}function sve(t){const{entriesByLevel:e}=t,r=qw((n,a)=>n+":"+a,(n,a)=>{let i=cve(t,n,a),s=YT(i,r),o=e[n][a];return[Object.assign(Object.assign({},o),{nextLevelNodes:s[0]}),o.thickness+s[1]]});return YT(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function YT(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:a}=t,i=n,s=[];for(;i<a;)s.push(e(r,i)),i+=1;return s.sort(ove),[s.map(lve),s[0][1]]}function ove(t,e){return e[1]-t[1]}function lve(t){return t[0]}function cve(t,e,r){let{levelCoords:n,entriesByLevel:a}=t,i=a[e][r],s=n[e]+i.thickness,o=n.length,l=e;for(;l<o&&n[l]<s;l+=1);for(;l<o;l+=1){let u=a[l],d,f=q0(u,i.span.start,G0),h=f[0]+f[1],m=h;for(;(d=u[m])&&d.span.start<i.span.end;)m+=1;if(h<m)return{level:l,lateralStart:h,lateralEnd:m}}return null}function uve(t,e){const r=qw((n,a,i)=>Gi(n),(n,a,i)=>{let{nextLevelNodes:s,thickness:o}=n,l=o+i,u=o/l,d,f=[];if(!s.length)d=e;else for(let m of s)if(d===void 0){let p=r(m,a,l);d=p[0],f.push(p[1])}else{let p=r(m,d,0);f.push(p[1])}let h=(d-a)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return t.map(n=>r(n,0,0)[1])}function dve(t){let e=[];const r=qw((a,i,s)=>Gi(a),(a,i,s)=>{let o=Object.assign(Object.assign({},a),{levelCoord:i,stackDepth:s,stackForward:0});return e.push(o),o.stackForward=n(a.nextLevelNodes,i+a.thickness,s+1)+1});function n(a,i,s){let o=0;for(let l of a)o=Math.max(r(l,i,s),o);return o}return n(t,0,0),e}function qw(t,e){const r={};return(...n)=>{let a=t(...n);return a in r?r[a]:r[a]=e(...n)}}function KT(t,e,r=null,n=0){let a=[];if(r)for(let i=0;i<t.length;i+=1){let s=t[i],o=r.computeDateTop(s.start,e),l=Math.max(o+(n||0),r.computeDateTop(s.end,e));a.push({start:Math.round(o),end:Math.round(l)})}return a}function fve(t,e,r,n){let a=[],i=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?a.push({index:u,thickness:1,span:d}):i.push(t[u])}let{segRects:s,hiddenGroups:o}=ive(a,r,n),l=[];for(let u of s)l.push({seg:t[u.index],rect:u});for(let u of i)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:o}}const hve=pt({hour:"numeric",minute:"2-digit",meridiem:!1});class TR extends We{render(){return L(Hw,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:hve}))}}class mve extends We{constructor(){super(...arguments),this.sortEventSegs=be(PM)}render(){let{props:e,context:r}=this,{options:n}=r,a=n.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||a&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return L(Ww,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!a,"mirror")),L("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Vw(n)&&L(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,a,i,s){let{props:o}=this;return o.forPrint?NR(e,o):this.renderPositionedFgSegs(e,r,n,a,i,s)}renderPositionedFgSegs(e,r,n,a,i,s){let{eventMaxStack:o,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:m,todayRange:p,nowDate:g}=this.props,v=n||a||i,x=KT(e,f,h,d),{segPlacements:y,hiddenGroups:b}=fve(e,x,u,o);return L(at,null,this.renderHiddenGroups(b,e),y.map(S=>{let{seg:w,rect:_}=S,E=w.eventRange.instance.instanceId,j=v||!!(!r[E]&&_),T=Zg(_&&_.span),O=!v&&_?this.computeSegHStyle(_):{left:0,right:0},P=!!_&&_.stackForward>0,D=!!_&&_.span.end-_.span.start<l;return L("div",{className:"fc-timegrid-event-harness"+(P?" fc-timegrid-event-harness-inset":""),key:s||E,style:Object.assign(Object.assign({visibility:j?"":"hidden"},T),O)},L(TR,Object.assign({seg:w,isDragging:n,isResizing:a,isDateSelecting:i,isSelected:E===m,isShort:D},Xa(w,p,g))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:a,todayRange:i,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u}=this.props;return L(at,null,e.map(d=>{let f=Zg(d.span),h=pve(d.entries,r);return L(nve,{key:fM(sR(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:a,todayRange:i,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u})}))}renderFillSegs(e,r){let{props:n,context:a}=this,s=KT(e,n.date,n.slatCoords,a.options.eventMinHeight).map((o,l)=>{let u=e[l];return L("div",{key:RM(u.eventRange),className:"fc-timegrid-bg-harness",style:Zg(o)},r==="bg-event"?L(rR,Object.assign({seg:u},Xa(u,n.todayRange,n.nowDate))):nR(r))});return L(at,null,s)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((a,i)=>L(zw,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(a.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,a=n.slotEventOverlap,i=e.levelCoord,s=e.levelCoord+e.thickness,o,l;a&&(s=Math.min(1,i+(s-i)*2)),r?(o=1-s,l=i):(o=i,l=1-s);let u={zIndex:e.stackDepth+1,left:o*100+"%",right:l*100+"%"};return a&&!e.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function NR(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:a,eventResize:i}){let s=(a?a.affectedInstances:null)||(i?i.affectedInstances:null)||{};return L(at,null,t.map(o=>{let l=o.eventRange.instance.instanceId;return L("div",{key:l,style:{visibility:s[l]?"hidden":""}},L(TR,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},Xa(o,e,r))))}))}function Zg(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function pve(t,e){return t.map(r=>e[r.index])}class gve extends We{constructor(){super(...arguments),this.splitFgEventSegs=be(Fl),this.splitBgEventSegs=be(Fl),this.splitBusinessHourSegs=be(Fl),this.splitNowIndicatorSegs=be(Fl),this.splitDateSelectionSegs=be(Fl),this.splitEventDrag=be(qT),this.splitEventResize=be(qT),this.rootElRef=ur(),this.cellElRefs=new Xn}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),a=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,a),s=this.splitBgEventSegs(e.bgEventSegs,a),o=this.splitBusinessHourSegs(e.businessHourSegs,a),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,a),u=this.splitDateSelectionSegs(e.dateSelectionSegs,a),d=this.splitEventDrag(e.eventDrag,a),f=this.splitEventResize(e.eventResize,a);return L("div",{className:"fc-timegrid-cols",ref:this.rootElRef},L("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,L("tbody",{role:"presentation"},L("tr",{role:"row"},e.axis&&L("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&L(zw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,m)=>L(mve,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:i[m],bgEventSegs:s[m],businessHourSegs:o[m],nowIndicatorSegs:l[m],dateSelectionSegs:u[m],eventDrag:d[m],eventResize:f[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Wo(this.rootElRef.current,vve(this.cellElRefs.currentMap,e.cells),!0,!1))}}function vve(t,e){return e.map(r=>t[r.key])}class yve extends Ln{constructor(){super(...arguments),this.processSlotOptions=be(xve),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let a=n.computeTimeTop(e.time);a=Math.ceil(a),a&&(a+=1),r(a)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return L("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L(tve,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),L(gve,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:a}=this.context,{colCoords:i}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),d=i.leftToIndex(e),f=o.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],m=o.positions.tops[f],p=o.positions.getHeight(f),g=(r-m)/p,v=Math.floor(g*u),x=f*u+v,y=this.props.cells[d].date,b=U0(s.slotMinTime,ife(l,x)),S=n.add(y,b),w=n.add(S,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:S,end:w},allDay:!1},h.extraDateSpan),dayEl:i.els[d],rect:{left:i.lefts[d],right:i.rights[d],top:m,bottom:m+p},layer:0}}return null}}function xve(t,e){let r=e||t,n=bw(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}class bve extends QM{sliceRange(e,r){let n=[];for(let a=0;a<r.length;a+=1){let i=os(e,r[a]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:a})}return n}}class wve extends Ln{constructor(){super(...arguments),this.buildDayRanges=be(Sve),this.slicer=new bve,this.timeColsRef=ur()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:a}=e,{nowIndicator:i,nextDayThreshold:s}=r.options,o=this.buildDayRanges(a,n,r.dateEnv);return L(hl,{unit:i?"minute":"day"},(l,u)=>L(yve,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:a.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:i&&this.slicer.sliceNowDate(l,n,s,r,o),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Sve(t,e,r){let n=[];for(let a of t.headerDates)n.push({start:r.add(a,e.slotMinTime),end:r.add(a,e.slotMaxTime)});return n}const QT=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function _ve(t,e,r,n,a){let i=new Date(0),s=t,o=Me(0),l=r||Eve(n),u=[];for(;gn(s)<gn(e);){let d=a.add(i,s),f=bw(o,l)!==null;u.push({date:d,time:s,key:d.toISOString(),isoTimeStr:wfe(d),isLabeled:f}),s=U0(s,n),o=U0(o,n)}return u}function Eve(t){let e,r,n;for(e=QT.length-1;e>=0;e-=1)if(r=Me(QT[e]),n=bw(r,t),n!==null&&n>1)return r;return t}class jve extends Xge{constructor(){super(...arguments),this.buildTimeColsModel=be(Ave),this.buildSlatMetas=be(_ve)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:a}=this,{dateProfile:i}=a,s=this.buildTimeColsModel(i,n),o=this.allDaySplitter.splitProps(a),l=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&L(qM,{dates:s.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(g=>L(jR,Object.assign({},o.allDay,{dateProfile:i,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),p=g=>L(wve,Object.assign({},o.timed,{dayTableModel:s,dateProfile:i,axis:d,slotDuration:e.slotDuration,slatMetas:l,forPrint:a.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,m,p,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,m,p)}}function Ave(t,e){let r=new YM(t.renderRange,e);return new KM(r,!1)}var Tve='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';pw(Tve);const Nve={allDaySlot:Boolean};var Cve=va({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Nve,views:{timeGrid:{component:jve,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Fw.touchMouseIgnoreWait=500;let Q0=0,Zh=0,X0=!1;class CR{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&kve(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let a=r.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,Ove()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:a,deltaX:n-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new gp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Dve()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Pve()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||nr(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){X0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?nr(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Q0||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(X0=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,a=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:a}}createEventFromTouch(e,r){let n=e.touches,a,i,s=0,o=0;return n&&n.length?(a=n[0].pageX,i=n[0].pageY):(a=e.pageX,i=e.pageY),r?(this.origPageX=a,this.origPageY=i):(s=a-this.origPageX,o=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:i,deltaX:s,deltaY:o}}}function kve(t){return t.button===0&&!t.ctrlKey}function Ove(){Q0+=1,setTimeout(()=>{Q0-=1},Fw.touchMouseIgnoreWait)}function Dve(){Zh+=1,Zh===1&&window.addEventListener("touchmove",kR,{passive:!1})}function Pve(){Zh-=1,Zh||window.removeEventListener("touchmove",kR,{passive:!1})}function kR(t){X0&&t.preventDefault()}class Mve{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",dc(n,{left:a.left,top:a.top}),Wde(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(vw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&dc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),dc(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class OR extends $w{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class DR extends OR{constructor(e,r){super(new mme(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return fme(this.scrollController.el)}}class Rve extends OR{constructor(e){super(new pme,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const XT=typeof performance=="function"?performance.now:Date.now;class Ive{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=XT();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,a=r-window.scrollY,i=this.pointerScreenY===null?0:a-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(XT()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:a}=this,i=a-e.distance,s=i*i/(a*a)*this.maxVelocity*r,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,a=null,i=this.scrollCaches||[];for(let s of i){let o=s.clientRect,l=e-o.left,u=o.right-e,d=r-o.top,f=o.bottom-r;l>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!a||a.distance>d)&&(a={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!a||a.distance>f)&&(a={scrollCache:s,name:"bottom",distance:f}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!a||a.distance>l)&&(a={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!a||a.distance>u)&&(a={scrollCache:s,name:"right",distance:u}))}return a}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new Rve(!1):new DR(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class Fu extends yme{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Vde(document.body),qde(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let i=this.minDistance,s,{deltaX:o,deltaY:l}=a;s=o*o+l*l,s>=i*i&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,Gde(document.body),Yde(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new CR(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new Mve,this.autoScroller=new Ive}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class $ve{constructor(e){this.el=e,this.origRect=Iw(e),this.scrollCaches=zM(e).map(r=>new DR(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let a of this.scrollCaches)if(!Lve(a.getEventTarget())&&!Jhe(n,a.clientRect))return!1;return!0}}function Lve(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class vp{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):a.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new gp}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,a=e.subjectEl,i;a instanceof HTMLElement&&(i=Iw(a),n=eme(n,i));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&i){let o=UM(i,s.rect);o&&(n=tme(o))}this.coordAdjust=rme(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!yp(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=da(this.droppableStore,e=>(e.component.prepareHits(),new $ve(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:a}=this,i=null;for(let s in n){let o=n[s].component,l=a[s];if(l&&l.isWithinClipping(e,r)){let u=l.computeLeft(),d=l.computeTop(),f=e-u,h=r-d,{origRect:m}=l,p=m.right-m.left,g=m.bottom-m.top;if(f>=0&&f<p&&h>=0&&h<g){let v=o.queryHit(f,h,p,g);v&&mp(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!i||v.layer>i.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=d,v.rect.bottom+=d,i=v)}}}return i}}function yp(t,e){return!t&&!e?!0:!!t!=!!e?!1:Hhe(t.dateSpan,e.dateSpan)}function PR(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,Fve(t,e.dateEnv)),r}function Fve(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Uve extends fl{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:a}=this,i=n.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=n=>{let{component:a}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&yp(s,o)){let{context:l}=a,u=Object.assign(Object.assign({},PR(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Fu(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new vp(this.dragging,Mw(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Bve extends fl{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,d=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!d),l.delay=s.isTouch?Hve(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=zve(f,s,l.pluginHooks.dateSelectionTransformers)),(!u||!Eme(u,s.dateProfile,l))&&(d=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),d?yw():xw(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(kM(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,a=this.dragging=new Fu(e.el);a.touchScrollAllowed=!1,a.minDistance=n.selectMinDistance||0,a.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new vp(this.dragging,Mw(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Hve(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function zve(t,e,r){let n=t.dateSpan,a=e.dateSpan,i=[n.range.start,n.range.end,a.range.start,a.range.end];i.sort(Jde);let s={};for(let o of r){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:i[0],end:i[3]},s.allDay=n.allDay,s}class Uu extends fl{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:d}=u,{options:f}=l.context,h=l.context;this.subjectEl=s.subjectEl;let m=this.subjectSeg=zo(s.subjectEl),g=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=kw(h.getCurrentData().eventStore,g),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&g!==l.props.eventSelection?Vve(l):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=nr(o,".fc"),d.revertDuration=f.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!nr(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ht(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,m=null,p=!1,g={affectedEvents:l,mutatedEvents:Dr(),isEvent:!0};if(s){f=s.context;let v=f.options;d===f||v.editable&&v.droppable?(h=Wve(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(m=Pw(l,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=m,XM(g,s.dateProfile,f)||(p=!0,h=null,m=null,g.mutatedEvents=Dr()))):f=null}this.displayDrag(f,g),p?yw():xw(),o||(d===f&&yp(u,s)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,m=new ht(o,f,h),p=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:s.origEvent,view:l}),d){if(u===o){let x=new ht(o,g.defs[f.defId],h?g.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:g});let y={oldEvent:m,event:x,relatedEvents:Vi(g,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}},b={};for(let S of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,S(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),b),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let x={event:m,relatedEvents:Vi(p,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:p}),o.emitter.trigger("eventRemove",x);let y=g.defs[f.defId],b=g.instances[h.instanceId],S=new ht(u,y,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let w={event:S,relatedEvents:Vi(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",w),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},PR(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},w),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,a=this.dragging=new Fu(e.el);a.pointer.selector=Uu.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new vp(this.dragging,V0);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,a=this.receivingContext;a&&a!==e&&(a===n?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Dr(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Uu.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Wve(t,e,r,n){let a=t.dateSpan,i=e.dateSpan,s=a.range.start,o=i.range.start,l={};a.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?s=it(r):s=r);let u=Ks(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let d={datesDelta:u,standardProps:l};for(let f of n)f(d,t,e);return d}function Vve(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class Gve extends fl{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:s}=this,o=this.querySegEl(i),l=zo(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=i=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=kw(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(i);this.draggingSegEl=l,this.draggingSeg=zo(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new ht(s,o.def,o.instance),jsEvent:i.origEvent,view:s.viewApi})},this.handleHitUpdate=(i,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,m=null,p=!1,g={affectedEvents:u,mutatedEvents:Dr(),isEvent:!0};i&&(i.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,i)||(h=qve(d,i,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(m=Pw(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=m,XM(g,i.dateProfile,l)||(p=!0,h=null,m=null,g.mutatedEvents=null)),m?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?yw():xw(),s||(h&&yp(d,i)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=m)},this.handleDragEnd=i=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new ht(s,o,l),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:i.origEvent,view:s.viewApi}),this.validMutation){let h=new ht(s,f.defs[o.defId],l?f.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let m={oldEvent:u,event:h,relatedEvents:Vi(f,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Me(0),endDelta:this.validMutation.endDelta||Me(0),jsEvent:i.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",m)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new Fu(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let a=this.hitDragging=new vp(this.dragging,Mw(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return nr(e.subjectEl,".fc-event")}}function qve(t,e,r,n){let a=t.context.dateEnv,i=t.dateSpan.range.start,s=e.dateSpan.range.start,o=Ks(i,s,a,t.largeUnit);if(r){if(a.add(n.start,o)<n.end)return{startDelta:o}}else if(a.add(n.end,o)>n.start)return{endDelta:o};return null}class Yve{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let a=this.context.options.unselectCancel,i=oM(n.origEvent);this.matchesCancel=!!nr(i,a),this.matchesEvent=!!nr(i,Uu.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:a}=this,{documentPointer:i}=this,s=a.getCurrentData();if(!i.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=a.options.unselectAuto;o&&(!o||!this.matchesCancel)&&a.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new CR(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Kve={fixedMirrorParent:K},Qve={dateClick:K,eventDragStart:K,eventDragStop:K,eventDrop:K,eventResizeStart:K,eventResizeStop:K,eventResize:K,drop:K,eventReceive:K,eventLeave:K};Fw.dataAttrPrefix="";var Xve=va({name:"@fullcalendar/interaction",componentInteractions:[Uve,Bve,Uu,Gve],calendarInteractions:[Yve],elementDraggingImpl:Fu,optionRefiners:Kve,listenerRefiners:Qve});const Zve=()=>{const{venuesData:t,workers:e,currentSheet:r,salesData:n,setCurrentSheet:a,addCalendarEvent:i,updateCalendarEvent:s,deleteCalendarEvent:o,loadCalendarEvents:l,supabaseAPI:u}=wt(),[d,f]=N.useState("dayGridMonth"),[h,m]=N.useState([]),[p,g]=N.useState(!1),[v,x]=N.useState(!1),[y,b]=N.useState(new Date().toISOString().split("T")[0]),[S,w]=N.useState(new Date),[_,E]=N.useState({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0}),[j,T]=N.useState(null),[O,P]=N.useState({show:!1,x:0,y:0,date:null,venue:null,sales:[]}),D=N.useRef(null),k=N.useRef(null),$=async()=>{try{const A="trailer_history",C=await u.readTable(A);if(C.success){const R=C.data.map(ee=>Yd(ee,r)),U=r==="TRAILER_HISTORY"?"Trailer":"Camper";return R.filter(ee=>ee.store===U)}return[]}catch{return[]}},H=()=>{const A=r==="TRAILER_HISTORY"?"Trailer":"Camper";return n.filter(C=>C.store===A)};N.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]);const V=A=>{if(!A)return[];const C=t.find(ue=>ue.id===A);if(!C)return[];const R=H(),U=new Date().toISOString().split("T")[0],Z=R.filter(ue=>{const fe=rr(ue.date),Ne=ue.venue?ue.venue.trim().toLowerCase():null,Y=C.promo?C.promo.trim().toLowerCase():null;return Ne&&Y&&Ne===Y&&fe&&fe.toISOString().split("T")[0]<U}).sort((ue,fe)=>{const Ne=rr(ue.date);return rr(fe.date)-Ne}),ee={};return Z.forEach(ue=>{const fe=rr(ue.date);if(fe){const Ne=fe.toISOString().split("T")[0];ee[Ne]||(ee[Ne]={date:Ne,totalGross:0,totalNet:0,visitCount:0}),ee[Ne].totalGross+=parseFloat(ue.grossSales)||0,ee[Ne].totalNet+=parseFloat(ue.netSales)||0,ee[Ne].visitCount+=1}}),Object.values(ee).sort((ue,fe)=>new Date(fe.date)-new Date(ue.date)).slice(0,5)},M=A=>{const{date:C,jsEvent:R}=A,U=C.toISOString().split("T")[0];D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{const ee=h.filter(_e=>_e.date===U).map(_e=>_e.extendedProps.venue).filter(_e=>_e).filter((_e,Ue,Qe)=>Qe.findIndex(Yt=>Yt.id===_e.id)===Ue),le=H(),ue=le.filter(_e=>{const Ue=rr(_e.date);return Ue&&Ue.toISOString().split("T")[0]===U}),fe=ue.map(_e=>{const Ue=_e.venue?_e.venue.trim().toLowerCase():null;return Ue?t.find(Qe=>(Qe.promo?Qe.promo.trim().toLowerCase():null)===Ue):null}).filter(_e=>_e).filter((_e,Ue,Qe)=>Qe.findIndex(Yt=>Yt.id===_e.id)===Ue),Ne=le.map(_e=>{const Ue=_e.venue?_e.venue.trim().toLowerCase():null;return Ue?t.find(Qe=>(Qe.promo?Qe.promo.trim().toLowerCase():null)===Ue):null}).filter(_e=>_e).filter((_e,Ue,Qe)=>Qe.findIndex(Yt=>Yt.id===_e.id)===Ue),de=[...ee,...fe,...Ne].filter((_e,Ue,Qe)=>Qe.findIndex(Yt=>Yt.id===_e.id)===Ue);let he=de.length>0?de[0]:null;if(!he&&ue.length>0){const _e=ue.map(Ue=>{const Qe=Ue.venue?Ue.venue.trim().toLowerCase():null;return Qe?t.find(ya=>(ya.promo?ya.promo.trim().toLowerCase():null)===Qe):null}).filter(Ue=>Ue).filter((Ue,Qe,Yt)=>Yt.findIndex(ya=>ya.id===Ue.id)===Qe);_e.length>0&&(he=_e[0])}he||(he={id:"no-data",promo:"No Sales Data for This Date",addressCity:"Unknown"}),he||(he={id:"default",promo:"No Venue Data",addressCity:"Unknown"});let we=[];he.id!=="default"&&he.id!=="no-data"&&(we=V(he.id),n.filter(_e=>{const Ue=_e.venue?_e.venue.trim().toLowerCase():null,Qe=he.promo?he.promo.trim().toLowerCase():null;return Ue&&Ue===Qe}),[...new Set(n.map(_e=>_e.venue).filter(Boolean))]),we.length===0&&(he.id==="no-data"?we=[{date:"No previous visits",totalGross:0,totalNet:0,visitCount:0}]:he.id!=="default"&&(we=[{date:"2025-07-15",totalGross:1250,totalNet:1100,visitCount:2},{date:"2025-07-12",totalGross:800,totalNet:720,visitCount:1},{date:"2025-07-08",totalGross:2100,totalNet:1890,visitCount:3}]));const ve=320,je=Math.min(Math.max(we.length*40+80,120),280),Ye=window.innerWidth,Bt=window.innerHeight,Ke=10;let jt=R.clientX+Ke,Fe=R.clientY+Ke;if(jt+ve>Ye-Ke&&(jt=R.clientX-ve-Ke),Fe+je>Bt-Ke&&(Fe=R.clientY-je-Ke),Fe<Ke&&(Fe=Ke),jt<Ke&&(jt=Ke),jt+ve>Ye-Ke&&(jt=Ye-ve-Ke),jt=Math.max(Ke,Math.min(jt,Ye-ve-Ke)),Fe=Math.max(Ke,Math.min(Fe,Bt-je-Ke)),he&&he.promo&&he.promo.toLowerCase().includes("test event")){P(_e=>({..._e,show:!1}));return}P({show:!0,x:jt,y:Fe,date:U,venue:he,sales:we})},100)},I=()=>{D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{P(A=>({...A,show:!1}))},300)};N.useEffect(()=>{if(k.current&&y){const A=k.current.getApi();try{A.gotoDate(y)}catch(C){console.error("Error navigating to date:",C)}}},[y]);const B=A=>{if(f(A),k.current){const C=k.current.getApi();try{C.changeView(A)}catch(R){console.error("Error changing view:",R)}}};N.useEffect(()=>{(async()=>{try{const C=await l(),R=C.success?C.data:[],U=[],Z=await $();if(Z.length>0){const le=Z.filter(ue=>ue.venue!=="WORK DAY");if(le.length>0){const ue={};le.forEach((fe,Ne)=>{const Y=rr(fe.date);if(Y){const de=Y.toISOString().split("T")[0],he=fe.venue||"Unknown Venue",we=`${de}-${he}`;ue[we]||(ue[we]={date:de,venue:he,sales:[],totalGross:0,totalNet:0,confirmedCount:0,unconfirmedCount:0}),ue[we].sales.push(fe);const ve=parseFloat(fe.grossSales)||0,je=parseFloat(fe.netSales)||0;ue[we].totalGross+=ve,ue[we].totalNet+=je,ve<=0,(fe.status||"").toLowerCase().replace(/\s+/g,"")==="confirmed"?ue[we].confirmedCount++:ue[we].unconfirmedCount++}}),Object.values(ue).forEach((fe,Ne)=>{const Y=[],de=Math.min(3,Math.max(1,Math.ceil(fe.sales.length/2)));for(let Ye=0;Ye<de;Ye++){const Bt=Ne%e.length,Ke=e[Bt];Ke&&Ke.name&&!Y.includes(Ke.name)&&Y.push(Ke.name)}const he=fe.unconfirmedCount===0?"Confirmed":"Unconfirmed",we=fe.unconfirmedCount===0?"#22c55e":"#dcfce7",ve=fe.unconfirmedCount===0?"#16a34a":"#22c55e";fe.totalGross<=0;const je={id:`sale-${fe.date}-${fe.venue}-${Ne}`,title:`Sale: ${fe.venue}`,date:fe.date,backgroundColor:we,borderColor:ve,extendedProps:{type:"sale",workers:Y,worker:Y.join(", "),hours:"8",venue:fe.venue,address:fe.venue,grossSales:fe.totalGross,netSales:fe.totalNet,entryCount:fe.sales.length,confirmedCount:fe.confirmedCount,unconfirmedCount:fe.unconfirmedCount,status:he}};U.push(je)})}}const ee=[...R,...U];m(ee)}catch(C){console.error("Error loading events:",C),m([])}})()},[t,e,r,l]);const F=A=>{b(A.startStr),E({title:"Work Day",date:A.startStr,workers:[],hours:"",venueId:"",isWorkDay:!0}),g(!0)},z=A=>{var R;const C=A.event;if(A.jsEvent.detail===2){const{extendedProps:U}=C;let Z=[];U.workers&&Array.isArray(U.workers)?Z=U.workers:U.worker&&(Z=U.worker.split(",").map(ee=>ee.trim()).filter(ee=>ee)),T(C),E({title:C.title||"",date:C.startStr||C.date||"",workers:Z,hours:U.hours||"",venueId:U.venueId||"",isWorkDay:U.type==="workday"||((R=C.title)==null?void 0:R.toLowerCase().includes("work day"))}),x(!0)}},G=async()=>{var A;if(j){if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const C={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((A=t.find(U=>U.id===_.venueId))==null?void 0:A.promo)||"",isWorkDay:_.isWorkDay},R=await s(j.id,C);if(R.success){const U=await l();U.success?m(Z=>{const ee=Z.filter(le=>{var ue;return((ue=le.extendedProps)==null?void 0:ue.type)==="sale"});return[...U.data,...ee]}):m(h.map(Z=>Z.id===j.id?R.data:Z)),x(!1),T(null),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error updating event: ${R.error}`)}catch(C){console.error("Error updating event:",C),alert("Error updating event. Please try again.")}}},q=A=>{A.event},ae=async()=>{if(j&&window.confirm("Are you sure you want to delete this event?"))try{const A=await o(j.id);if(A.success){const C=await l();C.success?m(R=>{const U=R.filter(Z=>{var ee;return((ee=Z.extendedProps)==null?void 0:ee.type)==="sale"});return[...C.data,...U]}):m(h.filter(R=>R.id!==j.id)),x(!1),T(null),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error deleting event: ${A.error}`)}catch(A){console.error("Error deleting event:",A),alert("Error deleting event. Please try again.")}},ce=async()=>{var A;if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const C={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((A=t.find(U=>U.id===_.venueId))==null?void 0:A.promo)||"",isWorkDay:_.isWorkDay},R=await i(C);if(R.success){const U=await l();U.success?m(Z=>{const ee=Z.filter(le=>{var ue;return((ue=le.extendedProps)==null?void 0:ue.type)==="sale"});return[...U.data,...ee]}):m([...h,R.data]),g(!1),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error adding event: ${R.error}`)}catch(C){console.error("Error adding event:",C),alert("Error adding event. Please try again.")}},ye=()=>{window.print()},Te=A=>{const{event:C}=A,{extendedProps:R}=C;let U="";return Array.isArray(R.workers)?U=R.workers.join(", "):R.worker&&(U=R.worker),c.jsxs("div",{className:"p-1 text-xs",children:[R.venue&&R.type==="sale"&&c.jsxs("div",{className:"flex items-center text-gray-700 font-medium mb-1",children:[c.jsx(bn,{className:"w-3 h-3 mr-1"}),R.venue]}),U&&U.trim()!==""&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(Dn,{className:"w-3 h-3 mr-1"}),U]}),R.hours&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(ci,{className:"w-3 h-3 mr-1"}),R.hours,"h"]}),R.grossSales!==void 0&&R.grossSales!==null&&c.jsxs("div",{className:`font-medium ${R.grossSales>0?"text-green-600":R.grossSales<0?"text-red-600":"text-gray-600"}`,children:["$",R.grossSales]}),R.status&&c.jsxs("div",{className:`text-xs font-medium ${R.status==="Confirmed"?"text-green-700":R.status==="Unconfirmed"?"text-yellow-700":"text-orange-700"}`,children:[R.status,R.confirmedCount>0&&R.unconfirmedCount>0&&c.jsxs("span",{className:"ml-1",children:["(",R.confirmedCount," ",R.unconfirmedCount,"?)"]})]})]})},ge=()=>{a(r==="TRAILER_HISTORY"?"CAMPER_HISTORY":"TRAILER_HISTORY")},X=()=>{const A=new Date(S);if(A.setMonth(A.getMonth()-1),w(A),k.current){const C=k.current.getApi();try{C.gotoDate(A),setTimeout(()=>{C.changeView(d,A)},50),setTimeout(()=>{C.gotoDate(A)},150)}catch(R){console.error("Error navigating calendar:",R)}}},ne=()=>{const A=new Date(S);if(A.setMonth(A.getMonth()+1),w(A),k.current){const C=k.current.getApi();try{C.gotoDate(A),setTimeout(()=>{C.changeView(d,A)},50),setTimeout(()=>{C.gotoDate(A)},150)}catch(R){console.error("Error navigating calendar:",R)}}},re=A=>{const C=A.toLocaleDateString("en-US",{month:"long"}),R=A.getFullYear();return`${C} ${R} (${R})`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:ge,className:"flex items-center px-4 py-2 text-sm font-medium bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-md transition-colors duration-200 border border-primary-300",children:c.jsx("span",{children:r==="TRAILER_HISTORY"?" Trailer":" Camper"})}),c.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>B("dayGridMonth"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="dayGridMonth"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Month"}),c.jsx("button",{onClick:()=>B("timeGridWeek"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="timeGridWeek"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Week"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:X,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("span",{className:"mr-1",children:"<"}),"Previous Month"]}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:re(S)}),c.jsxs("button",{onClick:ne,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:["Next Month",c.jsx("span",{className:"ml-1",children:">"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>g(!0),className:"btn-primary",children:[c.jsx(ui,{className:"w-4 h-4 mr-2"}),"Add Work Day"]}),c.jsxs("button",{onClick:ye,className:"btn-outline",children:[c.jsx(QF,{className:"w-4 h-4 mr-2"}),"Print"]})]})]}),c.jsx("div",{className:"card print-calendar-container",children:c.jsx("div",{className:"card-body p-0",children:c.jsx(gR,{plugins:[Wge,Cve,Xve],headerToolbar:!1,initialView:d,views:{dayGridMonth:{titleFormat:{year:"numeric",month:"long"}},timeGridWeek:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:h,select:F,eventClick:z,eventDrop:q,eventContent:Te,height:"auto",eventDisplay:"block",eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},datesSet:A=>{const C=new Date(S.getFullYear(),S.getMonth(),1),R=new Date(A.start.getFullYear(),A.start.getMonth(),1);C.getTime(),R.getTime()},viewDidMount:A=>{},eventDidMount:A=>{},dayCellDidMount:A=>{const C=A.el,R=A.date;C.addEventListener("mouseenter",U=>{M({date:R,jsEvent:U})}),C.addEventListener("mouseleave",()=>{I()})},slotLaneDidMount:A=>{if(d!=="timeGridWeek")return;const C=A.el,R=A.date;C.addEventListener("mouseenter",U=>{M({date:R,jsEvent:U})}),C.addEventListener("mouseleave",()=>{I()})},ref:k})})}),O.show&&c.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border border-secondary-200 p-3 transform transition-all duration-200 ease-out",style:{left:O.x,top:O.y,pointerEvents:"none",opacity:O.show?1:0,transform:`translate(${O.show?"0":"-10px"}, ${O.show?"0":"-10px"})`,maxWidth:"320px",minWidth:"280px"},children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-secondary-900 text-sm mb-0.5",children:O.venue?O.venue.promo:"Calendar Day"}),O.sales&&O.sales.length>0&&(()=>{const A=O.sales.map(U=>typeof U.totalGross=="number"?U.totalGross:parseFloat(U.totalGross)).filter(U=>U>0);if(A.length===0)return null;const C=A.reduce((U,Z)=>U+Z,0)/A.length,R=Math.round(C/100)*100;return c.jsxs("div",{className:"font-bold text-xs text-primary-700 mb-0.5",children:["Avg: $",R.toLocaleString()]})})(),c.jsxs("p",{className:"text-xs text-secondary-600",children:[Bo(O.date)," - ",O.venue&&O.venue.id!=="default"?"Last 5 visits":"No Data Available"]})]}),O.sales&&O.sales.length>0?c.jsx("div",{className:"space-y-1",children:O.sales.map((A,C)=>{var R;return c.jsxs("div",{className:"border-l-2 border-primary-500 pl-2 py-1",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("span",{className:"text-xs font-medium text-secondary-900",children:Bo(A.date)})}),c.jsx("div",{className:"flex justify-between items-center mt-0.5",children:c.jsxs("span",{className:"text-xs text-secondary-600",children:["Gross: $",((R=A.totalGross)==null?void 0:R.toLocaleString())||"0"]})})]},A.date||C)})}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-secondary-500 italic",children:O.venue&&O.venue.id==="default"?"No sales data available for this venue":"No visits recorded for this venue"}),c.jsxs("div",{className:"text-xs text-secondary-400",children:[c.jsx("p",{children:" Hover over days with events to see visit data"}),c.jsx("p",{children:" Add events to track work days and sales"})]})]})]}),p&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Add Work Day"}),c.jsx("button",{onClick:()=>g(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>E(A=>({...A,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>E(A=>({...A,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:A=>E(C=>({...C,title:A.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:A=>E(C=>({...C,date:A.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:A=>E(C=>({...C,venueId:A.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(A=>c.jsxs("option",{value:A.id,children:[A.promo," - ",A.addressCity]},A.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:A=>E(C=>({...C,workers:Array.from(A.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(A=>c.jsxs("option",{value:A.name,children:[A.name," (",A.role,")"]},A.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:A=>E(C=>({...C,hours:A.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>g(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:ce,className:"btn-primary",children:"Add Event"})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Edit Event"}),c.jsx("button",{onClick:()=>x(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>E(A=>({...A,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>E(A=>({...A,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:A=>E(C=>({...C,title:A.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:A=>E(C=>({...C,date:A.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:A=>E(C=>({...C,venueId:A.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(A=>c.jsxs("option",{value:A.id,children:[A.promo," - ",A.addressCity]},A.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:A=>E(C=>({...C,workers:Array.from(A.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(A=>c.jsxs("option",{value:A.name,children:[A.name," (",A.role,")"]},A.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:A=>E(C=>({...C,hours:A.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6",children:[c.jsx("button",{onClick:ae,className:"btn-danger",children:"Delete Event"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>x(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:G,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},Jve=()=>{const{currentSheet:t,loading:e}=wt();return e?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading calendar..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 print-calendar",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8 print-header",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Calendar"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Schedule and manage events, venues, and worker assignments for Trailer and Camper operations"})]}),c.jsx(Zve,{})]})})},eye=({onAddSale:t,onEditSale:e,onDeleteSale:r})=>{const{salesData:n,currentMonth:a,setCurrentMonth:i,venuesData:s}=wt(),[o,l]=N.useState([]),[u,d]=N.useState(null),[f,h]=N.useState(!1);N.useEffect(()=>{const y=n.filter(b=>{const S=rr(b.date);return S?S.getMonth()===a.getMonth()&&S.getFullYear()===a.getFullYear():!1}).sort((b,S)=>{const w=rr(b.date);return rr(S.date)-w});l(y)},[n,a]);const m=y=>y.store||y.venueId||"N/A",p=()=>{i(tde(a))},g=()=>{i(ede(a))},v=async y=>{window.confirm("Are you sure you want to delete this sale entry?")&&await r(y)},x=y=>{d(y),h(!0)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:p,className:"btn-outline",children:[c.jsx(rb,{className:"w-4 h-4 mr-1"}),"Previous Month"]}),c.jsxs("h2",{className:"text-xl font-semibold text-secondary-900",children:[qA(a)," (",a.getFullYear(),")"]}),c.jsxs("button",{onClick:g,className:"btn-outline",children:["Next Month",c.jsx(nb,{className:"w-4 h-4 ml-1"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>i(new Date(2024,6,1)),className:"btn-outline text-sm",children:"Go to July 2024"}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(ui,{className:"w-4 h-4 mr-2"}),"Add Sale"]})]})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:o.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",qA(a)]})}):o.map(y=>c.jsxs("tr",{className:"table-row",onDoubleClick:()=>e(y),style:{cursor:"pointer"},children:[c.jsx("td",{className:"table-cell font-medium",children:Bo(y.date)}),c.jsx("td",{className:"table-cell",children:m(y)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(y.grossSales)}),c.jsx("td",{className:"table-cell",children:Wr(y.netSales)}),c.jsx("td",{className:"table-cell",children:Wr(y.salesTax)}),c.jsx("td",{className:"table-cell",children:y.count||1}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>x(y),className:"text-secondary-600 hover:text-secondary-900 transition-colors",title:"View Details",children:c.jsx(Vk,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>e(y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(y.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(di,{className:"w-4 h-4"})})]})})]},y.id))})]})})})}),f&&u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Sale Details"}),c.jsx("button",{onClick:()=>h(!1),className:"text-secondary-400 hover:text-secondary-600",children:""})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Date"}),c.jsx("p",{className:"text-secondary-900",children:Bo(u.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Store"}),c.jsx("p",{className:"text-secondary-900",children:m(u)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Gross Sales (Total)"}),c.jsx("p",{className:"text-secondary-900 font-semibold",children:Wr(u.grossSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Net Sales (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Wr(u.netSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Sales Tax (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Wr(u.salesTax)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Number of Entries"}),c.jsx("p",{className:"text-secondary-900",children:u.count||1})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{h(!1),e(u)},className:"btn-primary",children:"Edit"})]})]})})]})},tye=()=>{const{currentSheet:t,addSalesEntry:e,updateSalesEntry:r,deleteSalesEntry:n,venuesData:a,loading:i}=wt(),[s,o]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState(eg(t)),[h,m]=N.useState({}),p=()=>{u(null),f(eg(t)),m({}),o(!0)},g=S=>{const w=S.venueId||S.venue_id||S.venue||"";u(S),f({date:rde(S.date),status:S.status||"Confirmed",salesTax:S.salesTax!==void 0&&S.salesTax!==null?S.salesTax:0,netSales:S.netSales!==void 0&&S.netSales!==null?S.netSales:0,grossSales:S.grossSales!==void 0&&S.grossSales!==null?S.grossSales:0,venueId:w}),m({}),o(!0)},v=async S=>{const w=await n(S);w.success||alert(`Error deleting sale: ${w.error}`)},x=()=>{const S={};return d.date||(S.date="Date is required"),d.status||(S.status="Status is required"),d.grossSales<0&&(S.grossSales="Gross sales cannot be negative"),d.netSales<0&&(S.netSales="Net sales cannot be negative"),d.salesTax<0&&(S.salesTax="Sales tax cannot be negative"),m(S),Object.keys(S).length===0},y=async S=>{if(S.preventDefault(),!x())return;const w={date:d.date,status:d.status,sales_tax:d.salesTax,net_sales:d.netSales,gross_sales:d.grossSales,venue_id:d.venueId};let _;l?_=await r(l.id,w):_=await e(w),_.success?(o(!1),u(null),f(eg(t))):alert(`Error ${l?"updating":"adding"} sale: ${_.error}`)},b=(S,w)=>{f(_=>({..._,[S]:w})),h[S]&&m(_=>({..._,[S]:""}))};return i?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales data..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Daily Sales"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Manage sales entries for ",t==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsx(eye,{onAddSale:p,onEditSale:g,onDeleteSale:v}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:l?"Edit Sale":"Add New Sale"}),c.jsx("button",{onClick:()=>o(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:d.date,onChange:S=>b("date",S.target.value),className:He("input",h.date&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500")}),h.date&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.date})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status *"}),c.jsxs("select",{value:d.status,onChange:S=>b("status",S.target.value),className:He("input",h.status&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),children:[c.jsx("option",{value:"",children:"Select Status"}),jF.map(S=>c.jsx("option",{value:S,children:S},S))]}),h.status&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.status})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:d.venueId,onChange:S=>b("venueId",S.target.value),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),a.map(S=>c.jsxs("option",{value:S.promo,children:[S.promo," - ",S.addressCity]},S.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Gross Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.grossSales,onChange:S=>b("grossSales",parseFloat(S.target.value)||0),className:He("input",h.grossSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.grossSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.grossSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Net Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.netSales,onChange:S=>b("netSales",parseFloat(S.target.value)||0),className:He("input",h.netSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.netSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.netSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Sales Tax"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.salesTax,onChange:S=>b("salesTax",parseFloat(S.target.value)||0),className:He("input",h.salesTax&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.salesTax&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.salesTax})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:l?"Update Sale":"Add Sale"})]})]})]})})]})})},rye=({message:t,currentUserId:e})=>{var i;const r=t.sender_id===e,n=((i=t.sender)==null?void 0:i.name)||"Unknown User",a=hw(new Date(t.created_at),{addSuffix:!0});return c.jsx("div",{className:He("flex mb-4",r?"justify-end":"justify-start"),children:c.jsxs("div",{className:He("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",r?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[c.jsxs("div",{className:He("text-xs font-medium mb-1",r?"text-primary-200":"text-gray-600"),children:[n,r&&" (You)"]}),c.jsx("div",{className:"text-sm",children:t.message_text}),c.jsx("div",{className:He("text-xs mt-1",r?"text-primary-200":"text-gray-500"),children:a})]})})},nye=({onSendMessage:t,disabled:e=!1,disabledReason:r=""})=>{const[n,a]=N.useState(""),i=o=>{o.preventDefault(),n.trim()&&!e&&(t(n.trim()),a(""))},s=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),i(o))};return c.jsxs("form",{onSubmit:i,className:"border-t border-gray-200 p-4",children:[e&&r&&c.jsx("div",{className:"mb-2 text-sm text-red-600",children:r}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:o=>a(o.target.value),onKeyPress:s,placeholder:e?"Select your name to send messages...":"Type your message...",disabled:e,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"}),c.jsx("button",{type:"submit",disabled:!n.trim()||e,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(ZF,{className:"w-4 h-4"})})]})]})},aye=()=>{var p;const{loading:t,messagesData:e,messageGroups:r,usersData:n,currentUser:a,loadMessages:i,sendMessage:s,setCurrentUser:o,setSelectedGroup:l}=wt(),[u,d]=N.useState(null),f=N.useRef(null);N.useEffect(()=>{r.length>0&&!u&&(d(r[0].id),l(r[0]))},[r,u]),N.useEffect(()=>{u&&i(u)},[u]),N.useEffect(()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})},[e]);const h=async g=>{if(!a||!u)return;const v={sender_id:a.id,group_id:u,message_text:g,message_type:"text"};await s(v)},m=g=>{d(g);const v=r.find(x=>x.id===g);l(v)};return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading messages..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Staff Messages"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Communicate with your staff members and stay connected"})]}),a&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Signed in as:"})," ",a.name]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 h-[600px]",children:[c.jsxs("div",{className:"lg:col-span-1 border-r border-gray-200 bg-gray-50",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Groups"})}),c.jsx("div",{className:"p-2",children:r.map(g=>c.jsxs("button",{onClick:()=>m(g.id),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${u===g.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100 text-gray-700"}`,children:[c.jsx("div",{className:"font-medium",children:g.group_name}),c.jsxs("div",{className:"text-sm text-gray-500",children:[g.member_count||0," members"]})]},g.id))})]}),c.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((p=r.find(g=>g.id===u))==null?void 0:p.group_name)||"Select a group"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," messages"]})]}),a&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"You:"})," ",a.name]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a?e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):e.map(g=>c.jsx(rye,{message:g,currentUserId:a==null?void 0:a.id},g.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("p",{className:"text-gray-500 mb-2",children:"Please select your name in the header to start messaging"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Use the user selector in the top navigation bar"})]}),c.jsx("div",{ref:f})]}),u&&a&&c.jsx(nye,{onSendMessage:h,disabled:!1,disabledReason:""}),u&&!a&&c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsx("p",{className:"text-center text-gray-500 text-sm",children:"Please select your name in the header to send messages"})})]})]})})]})})},iye=()=>{const{staffData:t}=wt(),[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,s]=N.useState(null);N.useState({});const[o,l]=N.useState({});N.useEffect(()=>{(async()=>{try{const h=await oe.getStores();if(h.success){r(h.data);const m={};for(const p of h.data){const g=await oe.getCommissionTiers(p.id);g.success&&(m[p.id]=g.data||[])}l(m)}}catch(h){console.error("Error fetching data:",h)}finally{a(!1)}})()},[]);const u=(f,h,m,p)=>{const g=t.find(w=>w.id===h),v=e.find(w=>w.id===f),x=o[f]||[];if(!g||!v)return{basePay:0,bonus:0,total:0};const b=m*15;let S=0;for(const w of x)if(p>=w.sales_target){S=w.bonus_amount;break}return{basePay:b,bonus:S,total:b+S,staffName:g.name,storeName:v.name}},d=async(f,h)=>{try{console.log("Saving payroll data for store:",f,h),alert("Payroll data saved successfully!")}catch(m){alert(`Error saving payroll: ${m.message}`)}};return n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and staff data..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(f=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},f))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(tb,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Calculate payroll for all stores and staff members"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(f=>{const h=t.filter(m=>m.store_id===f.id);return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",f.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Dn,{className:"w-4 h-4 mr-1"}),h.length," staff"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Tn,{className:"w-5 h-5 mr-2 text-green-600"}),"Staff Payroll"]}),h.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:h.map(m=>{const p=u(f.id,m.id,40,5e4);return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:m.name}),c.jsx("p",{className:"text-sm text-gray-600",children:m.role||"Staff Member"})]}),c.jsx("button",{onClick:()=>s(f.id===i?null:f.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:i===f.id?"Hide Details":"Show Details"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",p.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",p.bonus.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total"}),c.jsxs("p",{className:"font-medium text-blue-600",children:["$",p.total.toFixed(2)]})]})]}),i===f.id&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hours Worked"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Amount"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50000",min:"0"})]})]}),c.jsx("button",{onClick:()=>d(f.id,{staffId:m.id,payroll:p}),className:"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save Payroll"})]})]},m.id)})})]})]},f.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vo,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Payroll Summary"}),c.jsx("p",{className:"text-green-700",children:"Calculate and manage payroll for all stores and staff members. Each store shows its assigned staff with individual pay calculations."})]})]})})]})},sye=()=>{wt();const[t,e]=N.useState("30"),[r,n]=N.useState(""),[a,i]=N.useState(""),[s,o]=N.useState([]),[l,u]=N.useState([]),[d,f]=N.useState(!0),[h,m]=N.useState(!1),p=[{id:1,name:"Spartanburg"},{id:3,name:"Greenville"},{id:4,name:"Columbia"},{id:5,name:"Trailer"},{id:7,name:"Camper"}],g=[{value:"7",label:"Last 7 Days"},{value:"30",label:"Last 30 Days"},{value:"90",label:"Last 90 Days"},{value:"365",label:"Last Year"},{value:"custom",label:"Custom Range"}];N.useEffect(()=>{v()},[t,r,a,s,h]);const v=async()=>{f(!0);try{let D,k;t==="custom"?(D=r,k=a):(k=Oi(new Date,"yyyy-MM-dd"),D=Oi($ue(new Date,parseInt(t)),"yyyy-MM-dd"));const $={startDate:D,endDate:k,storeIds:s.length>0?s:void 0},H=await oe.getSalesAnalysis($);H.success?u(H.data):(console.error("Failed to load analysis data:",H.error),u([]))}catch(D){console.error("Failed to load analysis data:",D),u([])}finally{f(!1)}},x=D=>{o(k=>k.includes(D)?k.filter($=>$!==D):[...k,D])},y=()=>{o(p.map(D=>D.id))},b=()=>{o([])},S=D=>{const k=p.find($=>$.id===D);return k?k.name:`Store ${D}`},w=()=>{if(!l.length)return{dailyData:[],storeData:[]};const D=l.reduce(($,H)=>{const V=H.invoice_date;if(!V)return $;const M=$.find(z=>z.date===V),I=parseFloat(H.actual)||0,B=parseInt(H.sold_qty)||0,F=I*B;return M?(M.sales+=F,M.count+=1):$.push({date:V,sales:F,count:1}),$},[]).sort(($,H)=>new Date($.date)-new Date(H.date)),k=l.reduce(($,H)=>{const V=H.store_id;if(!V)return $;const M=$.find(q=>q.storeId===V),I=parseFloat(H.actual)||0,B=parseFloat(H.cost)||0,F=parseInt(H.sold_qty)||0,z=I*F,G=B*F;return M?(M.sales+=z,M.cost+=G,M.profit+=z-G,M.count+=1):$.push({storeId:V,storeName:S(V),sales:z,cost:G,profit:z-G,count:1}),$},[]);return s.length>0?s.forEach($=>{k.find(V=>V.storeId===$)||k.push({storeId:$,storeName:S($),sales:0,cost:0,profit:0,count:0})}):p.forEach($=>{k.find(V=>V.storeId===$.id)||k.push({storeId:$.id,storeName:$.name,sales:0,cost:0,profit:0,count:0})}),{dailyData:D,storeData:k}},_=()=>{const{dailyData:D,storeData:k}=w();let $="data:text/csv;charset=utf-8,";$+=`Daily Sales Data
`,$+=`Date,Sales,Transaction Count
`,D.forEach(M=>{$+=`${M.date},${M.sales.toFixed(2)},${M.count}
`}),$+=`
Store Performance
`,$+=`Store,Sales,Cost,Profit,Transaction Count
`,k.forEach(M=>{$+=`${M.storeName},${M.sales.toFixed(2)},${M.cost.toFixed(2)},${M.profit.toFixed(2)},${M.count}
`});const H=encodeURI($),V=document.createElement("a");V.setAttribute("href",H),V.setAttribute("download",`sales_analysis_${Oi(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(V),V.click(),document.body.removeChild(V)},{dailyData:E,storeData:j}=w(),T=j.reduce((D,k)=>D+k.sales,0),O=j.reduce((D,k)=>D+k.profit,0),P=E.length>0?T/E.length:0;return d?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales analysis..."})]})}):l.length===0?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Analysis"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Comprehensive sales performance analysis and insights"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your sales analysis will show data once you have uploaded sales information."}),c.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Upload your first CSV file using the Sales Upload feature to get started."}),c.jsx("a",{href:"/admin/sales-upload",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Go to Sales Upload"})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Analysis"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Comprehensive sales performance analysis and insights"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),c.jsx("select",{value:t,onChange:D=>e(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:g.map(D=>c.jsx("option",{value:D.value,children:D.label},D.value))})]}),t==="custom"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),c.jsx("input",{type:"date",value:r,onChange:D=>n(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),c.jsx("input",{type:"date",value:a,onChange:D=>i(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Comparison"}),c.jsx("button",{onClick:()=>m(!h),className:`w-full px-3 py-2 border rounded-lg transition-colors ${h?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`,children:h?"Enabled":"Disabled"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Store Selection ",s.length===0&&c.jsx("span",{className:"text-gray-500",children:"(All Stores)"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:y,className:"text-sm text-primary-600 hover:text-primary-500",children:"Select All"}),c.jsx("button",{onClick:b,className:"text-sm text-gray-600 hover:text-gray-500",children:"Show All"})]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:p.map(D=>c.jsx("button",{onClick:()=>x(D.id),className:`p-2 border rounded-lg text-sm font-medium transition-colors ${s.length===0||s.includes(D.id)?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`,children:D.name},D.id))}),s.length===0&&c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Showing data from all stores. Select specific stores to filter the data."}),s.length>0&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Showing data from ",s.length," selected store",s.length!==1?"s":"","."]})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[c.jsx(BF,{className:"w-4 h-4 mr-2"}),"Export Data"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-8 h-8 text-green-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",T.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vo,{className:"w-8 h-8 text-blue-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Profit"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",O.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mc,{className:"w-8 h-8 text-purple-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Daily Sales"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",P.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(JF,{className:"w-8 h-8 text-orange-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Stores Active"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length>0?s.length:p.length})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Sales Trend"}),c.jsx(My,{width:"100%",height:300,children:c.jsxs(CP,{data:E,children:[c.jsx(Ch,{strokeDasharray:"3 3"}),c.jsx(as,{dataKey:"date",tickFormatter:D=>Oi(I0(D),"MM/dd")}),c.jsx(is,{}),c.jsx(Br,{labelFormatter:D=>Oi(I0(D),"MMM dd, yyyy"),formatter:D=>[`$${D.toLocaleString()}`,"Sales"]}),c.jsx(dl,{type:"monotone",dataKey:"sales",stroke:"#0088FE",strokeWidth:2,dot:!1})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Store Performance"}),c.jsx(My,{width:"100%",height:300,children:c.jsxs(cce,{data:j,children:[c.jsx(Ch,{strokeDasharray:"3 3"}),c.jsx(as,{dataKey:"storeName"}),c.jsx(is,{}),c.jsx(Br,{formatter:D=>[`$${D.toLocaleString()}`,"Sales"]}),c.jsx(Ya,{}),c.jsx(ei,{dataKey:"sales",fill:"#0088FE",name:"Sales"}),c.jsx(ei,{dataKey:"profit",fill:"#00C49F",name:"Profit"})]})})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Store Performance Details"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transactions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(D=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.storeName}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",D.sales.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",D.cost.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",D.profit.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[D.sales>0?(D.profit/D.sales*100).toFixed(1):0,"%"]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.count})]},D.storeId))})]})})]})]})})};var MR={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(Wt,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var O=w(T);O.chunkSize=parseInt(O.chunkSize),T.step||T.chunk||(O.chunkSize=null),this._handle=new g(O),(this._handle.streamer=this)._config=O}).call(this,j),this.parseChunk=function(T,O){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let k=this._config.newline;k||(D=this._config.quoteChar||'"',k=this._handle.guessLineEndings(T,D)),T=[...T.split(k).slice(P)].join(k)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(T))!==void 0&&(T=D),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+T,D=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=D.meta.cursor,P=(this._finished||(this._partialLine=P.substring(T-this._baseIndex),this._baseIndex=T),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:D,workerId:u.WORKER_ID,finished:P});else if(E(this._config.chunk)&&!O){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!P||!E(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(T){E(this._config.error)?this._config.error(T):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:T,finished:!1})}}function f(j){var T;(j=j||{}).chunkSize||(j.chunkSize=u.RemoteChunkSize),d.call(this,j),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),i||(T.onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var O,P=this._config.downloadRequestHeaders;for(O in P)T.setRequestHeader(O,P[O])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+D));try{T.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}i&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(O){O=T.statusText||O,this._sendError(new Error(O))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=u.LocalChunkSize),d.call(this,j);var T,O,P=typeof FileReader<"u";this.stream=function(D){this._input=D,O=D.slice||D.webkitSlice||D.mozSlice,P?((T=new FileReader).onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,k=(this._config.chunkSize&&(k=Math.min(this._start+this._config.chunkSize,this._input.size),D=O.call(D,this._start,k)),T.readAsText(D,this._config.encoding));P||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(T.error)}}function m(j){var T;d.call(this,j=j||{}),this.stream=function(O){return T=O,this._nextChunk()},this._nextChunk=function(){var O,P;if(!this._finished)return O=this._config.chunkSize,T=O?(P=T.substring(0,O),T.substring(O)):(P=T,""),this._finished=!T,this.parseChunk(P)}}function p(j){d.call(this,j=j||{});var T=[],O=!0,P=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):O=!0},this._streamData=_(function(D){try{T.push(typeof D=="string"?D:D.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(k){this._streamError(k)}},this),this._streamError=_(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=_(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var T,O,P,D,k=Math.pow(2,53),$=-k,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,I=0,B=0,F=!1,z=!1,G=[],q={data:[],errors:[],meta:{}};function ae(ge){return j.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function ce(){if(q&&P&&(Te("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),P=!1),j.skipEmptyLines&&(q.data=q.data.filter(function(A){return!ae(A)})),ye()){let A=function(C,R){E(j.transformHeader)&&(C=j.transformHeader(C,R)),G.push(C)};var re=A;if(q)if(Array.isArray(q.data[0])){for(var ge=0;ye()&&ge<q.data.length;ge++)q.data[ge].forEach(A);q.data.splice(0,1)}else q.data.forEach(A)}function X(A,C){for(var R=j.header?{}:[],U=0;U<A.length;U++){var Z=U,ee=A[U],ee=((le,ue)=>(fe=>(j.dynamicTypingFunction&&j.dynamicTyping[fe]===void 0&&(j.dynamicTyping[fe]=j.dynamicTypingFunction(fe)),(j.dynamicTyping[fe]||j.dynamicTyping)===!0))(le)?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&((fe=>{if(H.test(fe)&&(fe=parseFloat(fe),$<fe&&fe<k))return 1})(ue)?parseFloat(ue):V.test(ue)?new Date(ue):ue===""?null:ue):ue)(Z=j.header?U>=G.length?"__parsed_extra":G[U]:Z,ee=j.transform?j.transform(ee,Z):ee);Z==="__parsed_extra"?(R[Z]=R[Z]||[],R[Z].push(ee)):R[Z]=ee}return j.header&&(U>G.length?Te("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+U,B+C):U<G.length&&Te("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+U,B+C)),R}var ne;q&&(j.header||j.dynamicTyping||j.transform)&&(ne=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(X),ne=q.data.length):q.data=X(q.data,0),j.header&&q.meta&&(q.meta.fields=G),B+=ne)}function ye(){return j.header&&G.length===0}function Te(ge,X,ne,re){ge={type:ge,code:X,message:ne},re!==void 0&&(ge.row=re),q.errors.push(ge)}E(j.step)&&(D=j.step,j.step=function(ge){q=ge,ye()?ce():(ce(),q.data.length!==0&&(I+=ge.data.length,j.preview&&I>j.preview?O.abort():(q.data=q.data[0],D(q,M))))}),this.parse=function(ge,X,ne){var re=j.quoteChar||'"',re=(j.newline||(j.newline=this.guessLineEndings(ge,re)),P=!1,j.delimiter?E(j.delimiter)&&(j.delimiter=j.delimiter(ge),q.meta.delimiter=j.delimiter):((re=((A,C,R,U,Z)=>{var ee,le,ue,fe;Z=Z||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ne=0;Ne<Z.length;Ne++){for(var Y,de=Z[Ne],he=0,we=0,ve=0,je=(ue=void 0,new x({comments:U,delimiter:de,newline:C,preview:10}).parse(A)),Ye=0;Ye<je.data.length;Ye++)R&&ae(je.data[Ye])?ve++:(Y=je.data[Ye].length,we+=Y,ue===void 0?ue=Y:0<Y&&(he+=Math.abs(Y-ue),ue=Y));0<je.data.length&&(we/=je.data.length-ve),(le===void 0||he<=le)&&(fe===void 0||fe<we)&&1.99<we&&(le=he,ee=de,fe=we)}return{successful:!!(j.delimiter=ee),bestDelimiter:ee}})(ge,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=re.bestDelimiter:(P=!0,j.delimiter=u.DefaultDelimiter),q.meta.delimiter=j.delimiter),w(j));return j.preview&&j.header&&re.preview++,T=ge,O=new x(re),q=O.parse(T,X,ne),ce(),F?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,O.abort(),T=E(j.chunk)?"":T.substring(O.getCharIndex())},this.resume=function(){M.streamer._halted?(F=!1,M.streamer.parseChunk(T,!0)):setTimeout(M.resume,3)},this.aborted=function(){return z},this.abort=function(){z=!0,O.abort(),q.meta.aborted=!0,E(j.complete)&&j.complete(q),T=""},this.guessLineEndings=function(A,re){A=A.substring(0,1048576);var re=new RegExp(v(re)+"([^]*?)"+v(re),"gm"),ne=(A=A.replace(re,"")).split("\r"),re=A.split(`
`),A=1<re.length&&re[0].length<ne[0].length;if(ne.length===1||A)return`
`;for(var C=0,R=0;R<ne.length;R++)ne[R][0]===`
`&&C++;return C>=ne.length/2?`\r
`:"\r"}}function v(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(j){var T=(j=j||{}).delimiter,O=j.newline,P=j.comments,D=j.step,k=j.preview,$=j.fastMode,H=null,V=!1,M=j.quoteChar==null?'"':j.quoteChar,I=M;if(j.escapeChar!==void 0&&(I=j.escapeChar),(typeof T!="string"||-1<u.BAD_DELIMITERS.indexOf(T))&&(T=","),P===T)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var B=0,F=!1;this.parse=function(z,G,q){if(typeof z!="string")throw new Error("Input must be a string");var ae=z.length,ce=T.length,ye=O.length,Te=P.length,ge=E(D),X=[],ne=[],re=[],A=B=0;if(!z)return he();if($||$!==!1&&z.indexOf(M)===-1){for(var C=z.split(O),R=0;R<C.length;R++){if(re=C[R],B+=re.length,R!==C.length-1)B+=O.length;else if(q)return he();if(!P||re.substring(0,Te)!==P){if(ge){if(X=[],fe(re.split(T)),we(),F)return he()}else fe(re.split(T));if(k&&k<=R)return X=X.slice(0,k),he(!0)}}return he()}for(var U=z.indexOf(T,B),Z=z.indexOf(O,B),ee=new RegExp(v(I)+v(M),"g"),le=z.indexOf(M,B);;)if(z[B]===M)for(le=B,B++;;){if((le=z.indexOf(M,le+1))===-1)return q||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:X.length,index:B}),Y();if(le===ae-1)return Y(z.substring(B,le).replace(ee,M));if(M===I&&z[le+1]===I)le++;else if(M===I||le===0||z[le-1]!==I){U!==-1&&U<le+1&&(U=z.indexOf(T,le+1));var ue=Ne((Z=Z!==-1&&Z<le+1?z.indexOf(O,le+1):Z)===-1?U:Math.min(U,Z));if(z.substr(le+1+ue,ce)===T){re.push(z.substring(B,le).replace(ee,M)),z[B=le+1+ue+ce]!==M&&(le=z.indexOf(M,B)),U=z.indexOf(T,B),Z=z.indexOf(O,B);break}if(ue=Ne(Z),z.substring(le+1+ue,le+1+ue+ye)===O){if(re.push(z.substring(B,le).replace(ee,M)),de(le+1+ue+ye),U=z.indexOf(T,B),le=z.indexOf(M,B),ge&&(we(),F))return he();if(k&&X.length>=k)return he(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:X.length,index:B}),le++}}else if(P&&re.length===0&&z.substring(B,B+Te)===P){if(Z===-1)return he();B=Z+ye,Z=z.indexOf(O,B),U=z.indexOf(T,B)}else if(U!==-1&&(U<Z||Z===-1))re.push(z.substring(B,U)),B=U+ce,U=z.indexOf(T,B);else{if(Z===-1)break;if(re.push(z.substring(B,Z)),de(Z+ye),ge&&(we(),F))return he();if(k&&X.length>=k)return he(!0)}return Y();function fe(ve){X.push(ve),A=B}function Ne(ve){var je=0;return je=ve!==-1&&(ve=z.substring(le+1,ve))&&ve.trim()===""?ve.length:je}function Y(ve){return q||(ve===void 0&&(ve=z.substring(B)),re.push(ve),B=ae,fe(re),ge&&we()),he()}function de(ve){B=ve,fe(re),re=[],Z=z.indexOf(O,B)}function he(ve){if(j.header&&!G&&X.length&&!V){var je=X[0],Ye=Object.create(null),Bt=new Set(je);let Ke=!1;for(let jt=0;jt<je.length;jt++){let Fe=je[jt];if(Ye[Fe=E(j.transformHeader)?j.transformHeader(Fe,jt):Fe]){let yt,_e=Ye[Fe];for(;yt=Fe+"_"+_e,_e++,Bt.has(yt););Bt.add(yt),je[jt]=yt,Ye[Fe]++,Ke=!0,(H=H===null?{}:H)[yt]=Fe}else Ye[Fe]=1,je[jt]=Fe;Bt.add(Fe)}Ke&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:X,errors:ne,meta:{delimiter:T,linebreak:O,aborted:F,truncated:!!ve,cursor:A+(G||0),renamedHeaders:H}}}function we(){D(he()),X=[],ne=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return B}}function y(j){var T=j.data,O=o[T.workerId],P=!1;if(T.error)O.userError(T.error,T.file);else if(T.results&&T.results.data){var D={abort:function(){P=!0,b(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(E(O.userStep)){for(var k=0;k<T.results.data.length&&(O.userStep({data:T.results.data[k],errors:T.results.errors,meta:T.results.meta},D),!P);k++);delete T.results}else E(O.userChunk)&&(O.userChunk(T.results,D,T.file),delete T.results)}T.finished&&!P&&b(T.workerId,T.results)}function b(j,T){var O=o[j];E(O.userComplete)&&O.userComplete(T),O.terminate(),delete o[j]}function S(){throw new Error("Not implemented.")}function w(j){if(typeof j!="object"||j===null)return j;var T,O=Array.isArray(j)?[]:{};for(T in j)O[T]=w(j[T]);return O}function _(j,T){return function(){j.apply(T,arguments)}}function E(j){return typeof j=="function"}return u.parse=function(j,T){var O=(T=T||{}).dynamicTyping||!1;if(E(O)&&(T.dynamicTypingFunction=O,O={}),T.dynamicTyping=O,T.transform=!!E(T.transform)&&T.transform,!T.worker||!u.WORKERS_SUPPORTED)return O=null,u.NODE_STREAM_INPUT,typeof j=="string"?(j=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(j),O=new(T.download?f:m)(T)):j.readable===!0&&E(j.read)&&E(j.on)?O=new p(T):(n.File&&j instanceof File||j instanceof Object)&&(O=new h(T)),O.stream(j);(O=(()=>{var P;return!!u.WORKERS_SUPPORTED&&(P=(()=>{var D=n.URL||n.webkitURL||null,k=r.toString();return u.BLOB_URL||(u.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))})(),(P=new n.Worker(P)).onmessage=y,P.id=l++,o[P.id]=P)})()).userStep=T.step,O.userChunk=T.chunk,O.userComplete=T.complete,O.userError=T.error,T.step=E(T.step),T.chunk=E(T.chunk),T.complete=E(T.complete),T.error=E(T.error),delete T.worker,O.postMessage({input:j,config:T,workerId:O.id})},u.unparse=function(j,T){var O=!1,P=!0,D=",",k=`\r
`,$='"',H=$+$,V=!1,M=null,I=!1,B=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||u.BAD_DELIMITERS.filter(function(G){return T.delimiter.indexOf(G)!==-1}).length||(D=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(O=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(V=T.skipEmptyLines),typeof T.newline=="string"&&(k=T.newline),typeof T.quoteChar=="string"&&($=T.quoteChar),typeof T.header=="boolean"&&(P=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");M=T.columns}T.escapeChar!==void 0&&(H=T.escapeChar+$),T.escapeFormulae instanceof RegExp?I=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(I=/^[=+\-@\t\r].*$/)}})(),new RegExp(v($),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return F(null,j,V);if(typeof j[0]=="object")return F(M||Object.keys(j[0]),j,V)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||M),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),F(j.fields||[],j.data||[],V);throw new Error("Unable to serialize unrecognized input");function F(G,q,ae){var ce="",ye=(typeof G=="string"&&(G=JSON.parse(G)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(G)&&0<G.length),Te=!Array.isArray(q[0]);if(ye&&P){for(var ge=0;ge<G.length;ge++)0<ge&&(ce+=D),ce+=z(G[ge],ge);0<q.length&&(ce+=k)}for(var X=0;X<q.length;X++){var ne=(ye?G:q[X]).length,re=!1,A=ye?Object.keys(q[X]).length===0:q[X].length===0;if(ae&&!ye&&(re=ae==="greedy"?q[X].join("").trim()==="":q[X].length===1&&q[X][0].length===0),ae==="greedy"&&ye){for(var C=[],R=0;R<ne;R++){var U=Te?G[R]:R;C.push(q[X][U])}re=C.join("").trim()===""}if(!re){for(var Z=0;Z<ne;Z++){0<Z&&!A&&(ce+=D);var ee=ye&&Te?G[Z]:Z;ce+=z(q[X][ee],Z)}X<q.length-1&&(!ae||0<ne&&!A)&&(ce+=k)}}return ce}function z(G,q){var ae,ce;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(ce=!1,I&&typeof G=="string"&&I.test(G)&&(G="'"+G,ce=!0),ae=G.toString().replace(B,H),(ce=ce||O===!0||typeof O=="function"&&O(G,q)||Array.isArray(O)&&O[q]||((ye,Te)=>{for(var ge=0;ge<Te.length;ge++)if(-1<ye.indexOf(Te[ge]))return!0;return!1})(ae,u.BAD_DELIMITERS)||-1<ae.indexOf(D)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?$+ae+$:ae)}},u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=m,u.ReadableStreamStreamer=p,n.jQuery&&((a=n.jQuery).fn.parse=function(j){var T=j.config||{},O=[];return this.each(function(k){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)O.push({file:this.files[$],inputElem:this,instanceConfig:a.extend({},T)})}),P(),this;function P(){if(O.length===0)E(j.complete)&&j.complete();else{var k,$,H,V,M=O[0];if(E(j.before)){var I=j.before(M.file,M.inputElem);if(typeof I=="object"){if(I.action==="abort")return k="AbortError",$=M.file,H=M.inputElem,V=I.reason,void(E(j.error)&&j.error({name:k},$,H,V));if(I.action==="skip")return void D();typeof I.config=="object"&&(M.instanceConfig=a.extend(M.instanceConfig,I.config))}else if(I==="skip")return void D()}var B=M.instanceConfig.complete;M.instanceConfig.complete=function(F){E(B)&&B(F,M.file,M.inputElem),D()},u.parse(M.file,M.instanceConfig)}}function D(){O.splice(0,1),P()}}),s&&(n.onmessage=function(j){j=j.data,u.WORKER_ID===void 0&&j&&(u.WORKER_ID=j.workerId),typeof j.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(j.input,j.config),finished:!0}):(n.File&&j.input instanceof File||j.input instanceof Object)&&(j=u.parse(j.input,j.config))&&n.postMessage({workerId:u.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(m.prototype=Object.create(m.prototype)).constructor=m,(p.prototype=Object.create(d.prototype)).constructor=p,u})})(MR);var oye=MR.exports;const Rd=Je(oye),lye=()=>{wt();const[t,e]=N.useState(null),[r,n]=N.useState([]),[a,i]=N.useState(!1),[s,o]=N.useState(0),[l,u]=N.useState(null),d=N.useRef(null),f=M=>{const I=M.target.files[0];I&&I.type==="text/csv"?(e(I),h(I)):alert("Please select a valid CSV file")},h=M=>{Rd.parse(M,{header:!0,skipEmptyLines:!0,complete:I=>{const B=I.data.slice(0,10);n(B)},error:I=>{alert("Error parsing CSV file")}})},m=M=>{if(!M)return 1;const I=M.match(/-(\d+)/);return I?parseInt(I[1]):1},p=M=>({store_id:m(M["Invoice No."]),invoice_date:M["Invoice Date"]?new Date(M["Invoice Date"]).toISOString().split("T")[0]:null,invoice_no:M["Invoice No."]||"",po_no:M["PO No."]||"",vendor:M.Vendor||"",style:M.Style||"",color:M.Color||"",size:M.Size||"",product:M.Product||"",description:M.Description||"",department:M.Department||"",sold_qty:parseInt(M["Sold Qty"])||0,spec_qty:parseInt(M["Spec Qty"])||0,total_qty:parseInt(M["Total Qty"])||0,cost:parseFloat(M.Cost)||0,retail:parseFloat(M.Retail)||0,actual:parseFloat(M.Actual)||0}),g=async()=>{if(!t){alert("Please select a file");return}i(!0),o(0),u(null);try{Rd.parse(t,{header:!0,skipEmptyLines:!0,complete:async M=>{const I=M.data.map(p).filter(G=>G.invoice_date),B=100;let F=0,z=0;for(let G=0;G<I.length;G+=B){const q=I.slice(G,G+B);try{(await oe.addSalesAnalysisBatch(q)).success?F+=q.length:z+=q.length,o(F/I.length*100)}catch{z+=q.length}}u({success:!0,uploaded:F,failed:z,total:I.length}),i(!1)},error:M=>{u({success:!1,error:M.message}),i(!1)}})}catch(M){console.error("Upload failed:",M),u({success:!1,error:M.message}),i(!1)}},v=M=>{M.preventDefault();const I=M.dataTransfer.files[0];I&&I.type==="text/csv"&&(e(I),h(I))},x=M=>{M.preventDefault()},y=()=>{e(null),n([]),u(null),o(0),d.current&&(d.current.value="")},[b,S]=N.useState(null),[w,_]=N.useState([]),[E,j]=N.useState(!1),[T,O]=N.useState(null),P=N.useRef(null),D=M=>{const I=M.target.files[0];I&&(I.type==="text/csv"||I.type==="text/tab-separated-values"||I.name.endsWith(".tsv"))?(S(I),k(I)):alert("Please select a valid CSV or TSV file")},k=M=>{Rd.parse(M,{header:!0,skipEmptyLines:!0,delimiter:M.name.endsWith(".tsv")?"	":",",complete:I=>{const B=I.data.map(H).filter(G=>G.date&&G.store),F={};for(const G of B){const q=`${G.date}_${G.store}`;F[q]||(F[q]={date:G.date,store:G.store,sales_tax:0,net_sales:0,gross_sales:0,record_count:0}),F[q].sales_tax+=parseFloat(G.sales_tax||0),F[q].net_sales+=parseFloat(G.net_sales||0),F[q].gross_sales+=parseFloat(G.gross_sales||0),F[q].record_count+=1}const z=Object.values(F).slice(0,10);_(z)},error:I=>{alert("Error parsing Trailer History file")}})},$=M=>{if(!M)return null;const I=M.match(/-(\d+)/);return I?parseInt(I[1]):null},H=M=>({date:M.Date?new Date(M.Date).toISOString():null,store:$(M["Ref No."]),sales_tax:parseFloat(M.Tax)||0,net_sales:parseFloat(M.Subtotal)||0,gross_sales:parseFloat(M.Total)||0}),V=async()=>{if(!b){alert("Please select a file");return}j(!0),O(null);try{Rd.parse(b,{header:!0,skipEmptyLines:!0,delimiter:b.name.endsWith(".tsv")?"	":",",complete:async M=>{const I=M.data.map(H).filter(F=>F.date&&F.store),B=await oe.importTrailerHistory(I);O(B),j(!1)},error:M=>{O({success:!1,error:M.message}),j(!1)}})}catch(M){O({success:!1,error:M.message}),j(!1)}};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Data Upload"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Upload CSV files to import sales analysis data for all stores"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload CSV File"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:v,onDragOver:x,children:[c.jsx("input",{ref:d,type:"file",accept:".csv",onChange:f,className:"hidden"}),t?c.jsxs("div",{children:[c.jsx(iy,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:y,className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(sy,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV file here, or"," ",c.jsx("button",{onClick:()=>{var M;return(M=d.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports CSV files with sales data for all stores"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Store will be automatically detected from invoice number (e.g., INV-001-123 = Store 123)"})]})]})]}),r.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Data Preview"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",r.length," rows"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:Object.keys(r[0]||{}).map(M=>c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:M},M))})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((M,I)=>c.jsx("tr",{children:Object.values(M).map((B,F)=>c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 max-w-xs truncate",title:String(B),children:String(B)},F))},I))})]})})]}),t&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:g,disabled:a,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading... ",Math.round(s),"%"]}):"Upload Sales Data"})}),l&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[l.success?c.jsx(ay,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(ny,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Upload Complete":"Upload Failed"}),c.jsx("p",{className:`text-sm ${l.success?"text-green-700":"text-red-700"}`,children:l.success?`Successfully uploaded ${l.uploaded} records${l.failed>0?`, ${l.failed} failed`:""}`:l.error})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Import Trailer History"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${b?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:M=>{M.preventDefault();const I=M.dataTransfer.files[0];I&&(S(I),k(I))},onDragOver:M=>M.preventDefault(),children:[c.jsx("input",{ref:P,type:"file",accept:".csv,.tsv",onChange:D,className:"hidden"}),b?c.jsxs("div",{children:[c.jsx(iy,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:b.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(b.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:()=>{S(null),_([]),O(null),P.current&&(P.current.value="")},className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(sy,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV or TSV file here, or"," ",c.jsx("button",{onClick:()=>{var M;return(M=P.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports files with fields: Date, Ref No., Tax, Subtotal, Total, etc."}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Store will be detected from Ref No. (e.g., INV-001-123 = Store 123)"})]})]})]}),w.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Trailer History Preview (Aggregated by Store & Date)"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",w.length," aggregated records"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Tax"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((M,I)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:new Date(M.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.store}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.sales_tax.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.net_sales.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.gross_sales.toFixed(2)]}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.record_count})]},I))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"})," Data is automatically aggregated by store and date. Multiple records for the same store on the same date will be summed together."]})})]}),b&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:V,disabled:E,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Importing..."]}):"Import Trailer History"})}),T&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${T.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[T.success?c.jsx(ay,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(ny,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${T.success?"text-green-900":"text-red-900"}`,children:T.success?"Import Complete":"Import Failed"}),c.jsx("p",{className:`text-sm ${T.success?"text-green-700":"text-red-700"}`,children:T.success?`Successfully processed ${T.processed||0} records${T.failed>0?`, ${T.failed} failed`:""}`:T.error})]})]})})]})})},Bn=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],cye=({storeId:t,storeName:e,onSave:r,onCancel:n})=>{const[a,i]=N.useState({}),[s,o]=N.useState(!1),[l,u]=N.useState(!0),[d,f]=N.useState(null),[h,m]=N.useState(!1),p=N.useCallback(async y=>{if(!(!y||Object.keys(y).length===0))try{const b=Bn.map((w,_)=>{var E,j,T;return{store_id:parseInt(t),day_of_week:parseInt(_),open_time:((E=y[w.key])==null?void 0:E.openTime)||"09:00",close_time:((j=y[w.key])==null?void 0:j.closeTime)||"17:00",is_open:!!((T=y[w.key])!=null&&T.isOpen)}}),S=await oe.saveStoreHours(t,b);if(S.success){const w=await oe.getStoreHours(t);if(w.success){const _={};Bn.forEach((E,j)=>{const T=w.data.find(O=>parseInt(O.day_of_week)===j);_[E.key]={isOpen:(T==null?void 0:T.is_open)??!0,openTime:(T==null?void 0:T.open_time)||"09:00",closeTime:(T==null?void 0:T.close_time)||"17:00"}}),i(_)}f(new Date),m(!1),console.log("Auto-saved store hours successfully")}else console.error("Auto-save failed:",S.error)}catch(b){console.error("Auto-save error:",b)}},[t]);N.useEffect(()=>{t&&(async()=>{u(!0);try{const b=await oe.getStoreHours(t);if(b.success){const S={};Bn.forEach((w,_)=>{const E=b.data.find(j=>j.day_of_week===_);S[w.key]={isOpen:(E==null?void 0:E.is_open)??!0,openTime:(E==null?void 0:E.open_time)||"09:00",closeTime:(E==null?void 0:E.close_time)||"17:00"}}),i(S),f(new Date),m(!1)}else{console.error("Error loading store hours:",b.error);const S={};Bn.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),i(S)}}catch(b){console.error("Error loading store hours:",b);const S={};Bn.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),i(S)}finally{u(!1)}})()},[t]),N.useEffect(()=>{if(Object.keys(a).length>0&&h){const y=setTimeout(()=>{p(a)},2e3);return()=>clearTimeout(y)}},[a,h,p]);const g=(y,b,S)=>{i(w=>({...w,[y]:{...w[y],[b]:S}})),m(!0)},v=async()=>{o(!0);try{if(await p(a),r){const y=Bn.map((b,S)=>{var w,_,E;return{store_id:parseInt(t),day_of_week:parseInt(S),open_time:((w=a[b.key])==null?void 0:w.openTime)||"09:00",close_time:((_=a[b.key])==null?void 0:_.closeTime)||"17:00",is_open:!!((E=a[b.key])!=null&&E.isOpen)}});await r(y)}}catch(y){console.error("Error saving store hours:",y)}finally{o(!1)}},x=y=>{const b=a[y],S={};Bn.forEach(w=>{S[w.key]={...b}}),i(S)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Store Hours - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Set operating hours for each day of the week"}),d&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last saved: ",d.toLocaleTimeString(),h&&c.jsx("span",{className:"text-orange-600 ml-2",children:" Unsaved changes"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:n,className:"btn-outline btn-sm",children:[c.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:v,disabled:s,className:"btn-primary btn-sm",children:[c.jsx(ab,{className:"w-4 h-4 mr-1"}),s?"Saving...":"Save Now"]})]})]}),l?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Loading store hours..."})]}):c.jsx("div",{className:"space-y-4",children:Bn.map(y=>{var b,S,w,_,E;return c.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-24 flex-shrink-0",children:c.jsx("span",{className:"font-medium text-gray-900",children:y.label})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:`${y.key}-open`,checked:((b=a[y.key])==null?void 0:b.isOpen)||!1,onChange:j=>g(y.key,"isOpen",j.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:`${y.key}-open`,className:"text-sm text-gray-700",children:"Open"})]}),((S=a[y.key])==null?void 0:S.isOpen)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ci,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"time",value:((w=a[y.key])==null?void 0:w.openTime)||"09:00",onChange:j=>g(y.key,"openTime",j.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),c.jsx("span",{className:"text-gray-500",children:"to"}),c.jsx("input",{type:"time",value:((_=a[y.key])==null?void 0:_.closeTime)||"17:00",onChange:j=>g(y.key,"closeTime",j.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsx("button",{onClick:()=>x(y.key),className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Copy to all days"})]}),!((E=a[y.key])!=null&&E.isOpen)&&c.jsx("span",{className:"text-gray-500 text-sm",children:"Closed"})]},y.key)})}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>{const y=["monday","tuesday","wednesday","thursday","friday"],b={...a};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"19:00"}}),i(b)},className:"btn-outline btn-sm",children:"Set Weekdays 10-7"}),c.jsx("button",{onClick:()=>{const y=["saturday","sunday"],b={...a};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"18:00"}}),i(b)},className:"btn-outline btn-sm",children:"Set Weekend 10-6"}),c.jsx("button",{onClick:()=>{const y={};Bn.forEach(b=>{y[b.key]={isOpen:!1,openTime:"09:00",closeTime:"17:00"}}),i(y)},className:"btn-outline btn-sm",children:"Set All Closed"})]})]})]})},uye=({storeId:t,storeName:e,staffData:r,onSaveShift:n,onDeleteShift:a,selectedDate:i=new Date})=>{const[s,o]=N.useState(i),[l,u]=N.useState([]),[d,f]=N.useState(!1),[h,m]=N.useState(null),[p,g]=N.useState({staffId:"",startTime:"09:00",endTime:"17:00",notes:""}),v=r.filter(A=>A.store_id===t),[x,y]=N.useState({});N.useEffect(()=>{y({0:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},1:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},2:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},3:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},4:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},5:{isOpen:!0,openTime:"10:00",closeTime:"18:00"}})},[]);const S=(()=>{const A=new Set;Object.values(x).forEach(U=>{U.isOpen&&(A.add(U.openTime),A.add(U.closeTime))});const C=Array.from(A).sort(),R=[];return C.forEach((U,Z)=>{if(Z<C.length-1){const ee=U,le=C[Z+1];R.push(ee);const ue=parseInt(ee.split(":")[0]),fe=parseInt(le.split(":")[0]);for(let Ne=ue+1;Ne<fe;Ne++)R.push(`${Ne.toString().padStart(2,"0")}:00`)}}),R})(),w=A=>{if(!A||typeof A!="string")return console.warn("Invalid time value for formatting:",A),"--:--";try{const[C,R]=A.split(":").map(Number),U=C>=12?"PM":"AM";return`${C===0?12:C>12?C-12:C}:${R.toString().padStart(2,"0")} ${U}`}catch(C){return console.warn("Error formatting time:",A,C),"--:--"}},_=A=>x[A]||{isOpen:!1},E=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T=(A=>{const C=new Date(A),R=C.getDay(),U=C.getDate()-R+(R===0?-6:1);C.setDate(U);const Z=[];for(let ee=0;ee<6;ee++){const le=new Date(C);le.setDate(C.getDate()+ee),Z.push(le)}return Z})(s);N.useEffect(()=>{T.length>0&&O()},[s,t,T]);const O=async()=>{try{const A=T[0].toISOString().split("T")[0],C=T[5].toISOString().split("T")[0],R=await oe.getScheduleAssignments(t,A,C);if(R.success){const U=R.data.filter(Z=>{const ee=Z.startTime&&Z.endTime&&Z.staffId;return ee||console.warn("Filtering out invalid shift:",Z),ee});console.log("Valid shifts:",U),u(U)}}catch(A){console.error("Failed to load shifts:",A)}},P=()=>{const A=new Date(s);A.setDate(A.getDate()-7),o(A)},D=()=>{const A=new Date(s);A.setDate(A.getDate()+7),o(A)},k=()=>{o(new Date)},$=A=>A.toLocaleDateString("en-US",{month:"short",day:"numeric"}),H=A=>{const C=new Date;return A.toDateString()===C.toDateString()},V=A=>{if(!A||typeof A!="string")return console.warn("Invalid time value:",A),0;try{const[C,R]=A.split(":").map(Number);return C*60+R}catch(C){return console.warn("Error parsing time:",A,C),0}},M=(A,C)=>{if(!C.startTime||!C.endTime)return!1;const R=V(A),U=V(C.startTime),Z=V(C.endTime);return R>=U&&R<Z},I=(A,C)=>{m({dayIndex:A,timeSlot:C}),g({staffId:"",startTime:C,endTime:B(C),notes:""}),f(!0)},B=A=>{const[C]=A.split(":");return`${(parseInt(C)+1).toString().padStart(2,"0")}:00`},F=async()=>{if(!p.staffId){alert("Please select a staff member");return}const A={storeId:t,staffId:p.staffId,date:T[h.dayIndex].toISOString().split("T")[0],startTime:p.startTime,endTime:p.endTime,notes:p.notes};try{const C=await oe.saveScheduleAssignment(A);C.success?(u(R=>[...R,C.data]),n&&n(C.data)):alert("Failed to save shift: "+C.error)}catch(C){console.error("Error saving shift:",C),alert("An unexpected error occurred while saving the shift.")}f(!1),m(null),g({staffId:"",startTime:"09:00",endTime:"17:00",notes:""})},z=async A=>{if(window.confirm("Are you sure you want to delete this shift?"))try{const C=await oe.deleteScheduleAssignment(A);C.success?(u(R=>R.filter(U=>U.id!==A)),a&&a(A)):alert("Failed to delete shift: "+C.error)}catch(C){console.error("Error deleting shift:",C),alert("An unexpected error occurred while deleting the shift.")}},G=A=>{const C=v.find(R=>R.id===A||R.id===parseInt(A));return C?C.name:`Unknown (ID: ${A})`},q=(A,C)=>{if(!A||!C)return console.warn("Missing start or end time:",{startTime:A,endTime:C}),0;const R=V(A),U=V(C);return Math.max(0,(U-R)/60)},ae=()=>{const A={};let C=0,R=0;return l.forEach(U=>{if(!U.startTime||!U.endTime||!U.staffId){console.warn("Skipping invalid shift:",U);return}const Z=q(U.startTime,U.endTime),ee=v.find(le=>le.id===U.staffId||le.id===parseInt(U.staffId));if(ee){A[ee.id]||(A[ee.id]={name:ee.name,hours:0,cost:0}),A[ee.id].hours+=Z;let le=0;if(ee.payType==="hourly")le=Z*(ee.hourlyRate||0);else if(ee.payType==="salary"||ee.payType==="salary+bonus"){const fe=(ee.salaryAmount||0)/365,Y=Z/8;le=fe*Y}A[ee.id].cost+=le,C+=Z,R+=le}}),{staffTotals:A,storeTotalHours:C,storeTotalCost:R}},{staffTotals:ce,storeTotalHours:ye,storeTotalCost:Te}=ae(),ge=(A,C)=>{const R=T[A].toISOString().split("T")[0];return l.filter(U=>U.date===R&&M(C,U))},X=(A,C)=>{const R=T[A].toISOString().split("T")[0];return l.some(U=>U.date===R&&U.startTime===C)},ne=(A,C)=>{const R=T[A].toISOString().split("T")[0];return l.find(U=>U.date===R&&U.startTime===C)},re=A=>{const C=T[A].toISOString().split("T")[0];return l.filter(R=>R.date===C)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Weekly Schedule - ",e]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[$(T[0])," - ",$(T[5])]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(rb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:k,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Today"}),c.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(nb,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Week Totals"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-xs font-medium text-blue-800 mb-2",children:"Staff Hours:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.values(ce).map(A=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[c.jsx("div",{className:"font-medium text-blue-900",children:A.name}),c.jsxs("div",{className:"text-blue-700",children:[A.hours.toFixed(1)," hours"]}),c.jsxs("div",{className:"text-blue-600",children:["$",A.cost.toFixed(2)]})]},A.name))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Hours"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:[ye.toFixed(1)," hours"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Cost"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:["$",Te.toFixed(2)]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("div",{className:"min-w-[800px]",children:[c.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[c.jsx("div",{className:"h-12"})," ",T.map((A,C)=>c.jsxs("div",{className:`h-12 flex flex-col items-center justify-center border rounded ${H(A)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[c.jsx("div",{className:"text-xs font-medium text-gray-600",children:E[C].slice(0,3)}),c.jsx("div",{className:`text-sm font-semibold ${H(A)?"text-blue-700":"text-gray-900"}`,children:A.getDate()})]},C))]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.jsx("div",{className:"space-y-1",children:S.map(A=>c.jsx("div",{className:"h-12 flex items-center justify-end pr-2 text-xs text-gray-500",children:w(A)},A))}),T.map((A,C)=>{const R=_(C);return c.jsx("div",{className:"space-y-1 relative",children:S.map(U=>{if(!(R.isOpen&&V(U)>=V(R.openTime)&&V(U)<V(R.closeTime)))return c.jsx("div",{className:"h-12 border border-gray-100 bg-gray-50"},U);const ee=ge(C,U);return X(C,U),ne(C,U),c.jsx("div",{className:`h-12 border border-gray-200 rounded cursor-pointer transition-colors relative ${ee.length>0?"bg-green-100 border-green-300 hover:bg-green-200":"hover:bg-gray-50"}`,onClick:()=>I(C,U),children:ee.length>0&&c.jsxs("div",{className:"p-1 h-full flex flex-col justify-center",children:[ee.slice(0,2).map((le,ue)=>c.jsx("div",{className:"text-xs font-medium text-green-800 truncate",children:G(le.staffId)},le.id)),ee.length>2&&c.jsxs("div",{className:"text-xs text-green-600",children:["+",ee.length-2," more"]})]})},U)})},C)})]})]})}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"This Week's Shifts"}),c.jsx("div",{className:"space-y-2",children:T.map((A,C)=>{const R=re(C);return R.length===0?null:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-700 mb-1",children:[E[C]," (",$(A),")"]}),c.jsx("div",{className:"space-y-1",children:R.map(U=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Zi,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:G(U.staffId)}),c.jsx(ci,{className:"w-4 h-4 text-gray-400"}),c.jsxs("span",{className:"text-gray-600",children:[w(U.startTime)," - ",w(U.endTime)]})]}),c.jsx("button",{onClick:()=>z(U.id),className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]},U.id))})]},C)})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Shift"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),c.jsxs("select",{value:p.staffId,onChange:A=>g(C=>({...C,staffId:A.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"",children:"Select staff member"}),v.map(A=>c.jsxs("option",{value:A.id,children:[A.name," (",A.role,")"]},A.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:p.startTime,onChange:A=>g(C=>({...C,startTime:A.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:p.endTime,onChange:A=>g(C=>({...C,endTime:A.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),c.jsx("textarea",{value:p.notes,onChange:A=>g(C=>({...C,notes:A.target.value})),rows:"3",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Any special instructions or notes..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:F,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Add Shift"})]})]})})]})},dye=({storeId:t,storeName:e,staffData:r,storeHours:n,commissionTiers:a,onSave:i,onCancel:s})=>{const[o,l]=N.useState([]),[u,d]=N.useState([]),[f,h]=N.useState([]),[m,p]=N.useState({minStaffing:2,maxConsecutiveHours:8,lunchBreakRequired:!0,lunchBreakDuration:30,minShiftDuration:3,maxHoursPerWeek:40,preferredHoursPerWeek:32}),[g,v]=N.useState([]),[x,y]=N.useState(!1),[b,S]=N.useState(new Date),w=r.filter(F=>F.store_id===t);N.useEffect(()=>{(async()=>{try{const z=await oe.getStoreHours(t);z.success&&d(z.data||[]);const G=await oe.getCommissionTiers(t);G.success&&h(G.data||[])}catch(z){console.error("Error fetching store data:",z)}})()},[t]);const E=(F=>{const z=new Date(F),G=z.getDay(),q=z.getDate()-G+(G===0?-6:1);z.setDate(q);const ae=[];for(let ce=0;ce<6;ce++){const ye=new Date(z);ye.setDate(z.getDate()+ce),ae.push(ye)}return ae})(b),j=F=>{if(!F)return"";const[z,G]=F.split(":"),q=parseInt(z),ae=q>=12?"PM":"AM";return`${q%12||12}:${G} ${ae}`},T=()=>w.map(F=>{const z=O(F.id),G=Math.max(0,m.maxHoursPerWeek-z);return{id:F.id,name:F.name,role:F.role,preferredHours:F.preferredHoursPerWeek||m.preferredHoursPerWeek,maxHours:F.maxHoursPerWeek||m.maxHoursPerWeek,currentHours:z,availableHours:G,hourlyRate:F.hourlyRate||0,commissionRate:P(F.id)}}),O=F=>(E[0].toISOString().split("T")[0],E[5].toISOString().split("T")[0],0),P=F=>0,D=F=>{const z=u.find(q=>q.day_of_week===F);return z?{isOpen:z.is_open,openTime:z.open_time,closeTime:z.close_time}:[{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"18:00"}][F]||{isOpen:!1,openTime:"10:00",closeTime:"19:00"}},k=()=>{y(!0);try{const F=T(),z=[],G=[];E.forEach((q,ae)=>{const ce=D(ae);if(!ce.isOpen)return;const ye=$(q,F,ce,G,ae);z.push(...ye)}),l(z),v(G)}catch(F){console.error("Error generating schedule:",F)}finally{y(!1)}},$=(F,z,G,q,ae)=>{const ce=[],ye=[...z].sort((C,R)=>R.availableHours-C.availableHours),Te=new Date(`2000-01-01T${G.openTime}`),X=(new Date(`2000-01-01T${G.closeTime}`)-Te)/(1e3*60*60),ne=Math.max(m.minStaffing,Math.ceil(X/8));let re=0,A=new Date(Te);for(;re<ne&&ye.length>0;){const C=ye.shift();if(C.availableHours<m.minShiftDuration){q.push({type:"insufficient_hours",staff:C.name,date:F.toISOString().split("T")[0],message:`${C.name} has insufficient available hours (${C.availableHours}h)`});continue}const R=Math.min(C.availableHours,Math.max(m.minShiftDuration,8));let U=new Date(A);if(U.setHours(U.getHours()+R),R>5&&m.lunchBreakRequired){const Z=new Date(A);Z.setHours(Z.getHours()+Math.floor(R/2));const ee=new Date(Z);ee.setMinutes(ee.getMinutes()+m.lunchBreakDuration),ce.push({id:Date.now()+Math.random(),store_id:t,staff_id:C.id,staff_name:C.name,date:F.toISOString().split("T")[0],day_index:ae,start_time:A.toTimeString().slice(0,5),end_time:Z.toTimeString().slice(0,5),notes:"Auto-generated (before lunch)"}),ce.push({id:Date.now()+Math.random()+1,store_id:t,staff_id:C.id,staff_name:C.name,date:F.toISOString().split("T")[0],day_index:ae,start_time:ee.toTimeString().slice(0,5),end_time:U.toTimeString().slice(0,5),notes:"Auto-generated (after lunch)"})}else ce.push({id:Date.now()+Math.random(),store_id:t,staff_id:C.id,staff_name:C.name,date:F.toISOString().split("T")[0],day_index:ae,start_time:A.toTimeString().slice(0,5),end_time:U.toTimeString().slice(0,5),notes:"Auto-generated"});re++,A=new Date(U),C.availableHours-=R}return ce},H=F=>{const z=w.find(ye=>ye.id===F.staff_id);if(!z)return 0;const G=new Date(`2000-01-01T${F.start_time}`),ae=(new Date(`2000-01-01T${F.end_time}`)-G)/(1e3*60*60);let ce=0;if(z.payType==="hourly")ce=ae*(z.hourlyRate||0);else if(z.payType==="salary"||z.payType==="salary+bonus"){const Te=(z.salaryAmount||0)/365,X=ae/8;if(ce=Te*X,z.payType==="salary+bonus"){const ne=ae*P(z.id)/100;ce+=ne}}return ce},V=()=>o.reduce((F,z)=>F+H(z),0),M=async()=>{if(o.length===0){alert("No schedules to save. Please generate a schedule first.");return}y(!0);try{const F=o.map(z=>({store_id:t,staff_id:z.staff_id,date:z.date,start_time:z.start_time,end_time:z.end_time,notes:z.notes||"",created_at:new Date().toISOString()}));await i(F),alert("Schedule saved successfully!")}catch(F){console.error("Error saving schedule:",F),alert("Error saving schedule. Please try again.")}finally{y(!1)}},B=(()=>{const F={};return E.forEach((z,G)=>{const q=z.toISOString().split("T")[0];F[q]={date:z,dayIndex:G,schedules:o.filter(ae=>ae.date===q)}}),F})();return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Auto Scheduler - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Generate optimal schedules based on store hours and staff availability"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:s,className:"btn-outline btn-sm",children:[c.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:M,disabled:x||o.length===0,className:"btn-primary btn-sm",children:[c.jsx(ab,{className:"w-4 h-4 mr-1"}),x?"Saving...":"Save Schedule"]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Store Staff (",w.length," employees)"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:T().map(F=>c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-blue-900",children:F.name}),c.jsxs("div",{className:"text-blue-700",children:["Available: ",F.availableHours,"h / ",F.maxHours,"h"]}),c.jsxs("div",{className:"text-blue-600",children:["Rate: $",F.hourlyRate,"/hr"]})]},F.id))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Pf,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Scheduling Rules"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Staffing"}),c.jsx("input",{type:"number",min:"1",max:"10",value:m.minStaffing,onChange:F=>p(z=>({...z,minStaffing:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Hours"}),c.jsx("input",{type:"number",min:"1",max:"12",value:m.maxConsecutiveHours,onChange:F=>p(z=>({...z,maxConsecutiveHours:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Shift Duration"}),c.jsx("input",{type:"number",min:"1",max:"8",value:m.minShiftDuration,onChange:F=>p(z=>({...z,minShiftDuration:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Hours/Week"}),c.jsx("input",{type:"number",min:"20",max:"60",value:m.maxHoursPerWeek,onChange:F=>p(z=>({...z,maxHoursPerWeek:parseInt(F.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:k,disabled:x,className:"w-full btn-primary",children:[c.jsx(qk,{className:"w-4 h-4 mr-2"}),x?"Generating Schedule...":"Generate Auto Schedule"]})}),g.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(FF,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Scheduling Conflicts"})]}),c.jsx("div",{className:"space-y-2",children:g.map((F,z)=>c.jsxs("div",{className:"text-sm text-red-700",children:[c.jsxs("strong",{children:[F.date,":"]})," ",F.message]},z))})]}),o.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Generated Schedule (",o.length," shifts)"]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Tn,{className:"w-4 h-4 text-green-600"}),c.jsxs("span",{className:"font-medium text-green-600",children:["Total Pay: $",V().toFixed(2)]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border border-gray-300",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Mon"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Tue"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Wed"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Thu"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Fri"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Sat"})]})}),c.jsx("tbody",{children:Object.values(B).map((F,z)=>{const G=F.schedules,q=Math.max(1,G.length);return Array.from({length:q},(ae,ce)=>c.jsx("tr",{children:E.map((ye,Te)=>{const ge=B[ye.toISOString().split("T")[0]],X=(ge==null?void 0:ge.schedules)||[],ne=X[ce];return ne?c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:ne.staff_name}),c.jsxs("div",{className:"text-gray-600",children:[j(ne.start_time)," - ",j(ne.end_time)]})]})},Te):c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:ce===0&&X.length===0&&c.jsx("div",{className:"text-sm text-gray-400 italic",children:"No shifts"})},Te)})},`${F.date}-${ce}`))})})]})})]})]})},fye=()=>{const{staffData:t}=wt(),[e,r]=N.useState("main"),[n,a]=N.useState(null),[i,s]=N.useState([]),[o,l]=N.useState(!0),[u,d]=N.useState(null);N.useEffect(()=>{(async()=>{try{const v=await oe.getStores();v.success?(console.log(" Loaded stores:",v.data),s(v.data)):console.error("Error fetching stores:",v.error)}catch(v){console.error("Error fetching stores:",v)}finally{l(!1)}})()},[]);const f=(g,v)=>{a(v),r(g)},h=()=>{r("main"),a(null)},m=async g=>{try{const v=await oe.saveStoreHours(n.id,g);v.success?(alert("Store hours saved successfully!"),h()):alert(`Error saving store hours: ${v.error}`)}catch(v){alert(`Error saving store hours: ${v.message}`)}},p=async g=>{try{const v=g.map(b=>oe.saveScheduleAssignment(b)),y=(await Promise.all(v)).filter(b=>!b.success);y.length===0?(alert("Auto-generated schedule saved successfully!"),h()):alert(`Error saving some schedules: ${y.length} failed out of ${g.length}`)}catch(v){alert(`Error saving auto schedule: ${v.message}`)}};return e==="store-hours"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(cye,{storeId:n.id,storeName:n.name,onSave:m,onCancel:h})]}):e==="schedule"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(uye,{storeId:n.id,storeName:n.name,staffData:t})]}):e==="auto-scheduler"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(dye,{storeId:n.id,storeName:n.name,staffData:t,storeHours:[],onSave:p,onCancel:h})]}):e==="holiday-manager"?c.jsx(hye,{onBack:h}):o?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(g=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},g))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Hover over a store to see available scheduling actions"})]}),c.jsx("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("holiday-manager"),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-green-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"text-gray-600",children:"Manage holidays for all stores"}),c.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Click to manage "})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(g=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>d(g.id),onMouseLeave:()=>d(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",g.number]})]})]}),u===g.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>f("store-hours",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ci,{className:"w-4 h-4 mr-2"}),"Manage Hours"]}),c.jsxs("button",{onClick:()=>f("schedule",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Weekly Calendar"]}),g.name!=="Camper"&&g.name!=="Trailer"&&c.jsxs("button",{onClick:()=>f("auto-scheduler",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600 col-span-2",children:[c.jsx(qk,{className:"w-4 h-4 mr-2"}),"Auto Schedule"]})]})})]},g.id))})]})},hye=({onBack:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState({}),[i,s]=N.useState(!0),[o,l]=N.useState({name:"",date:""}),[u,d]=N.useState(null);N.useEffect(()=>{(async()=>{try{const g=await oe.getStores();if(g.success){r(g.data);const v={};for(const x of g.data){const y=await oe.getStoreHolidays(x.id);y.success&&(v[x.id]=y.data||[])}a(v)}}catch(g){console.error("Error fetching data:",g)}finally{s(!1)}})()},[]);const f=async p=>{if(!o.name.trim()||!o.date){alert("Please fill in both holiday name and date");return}try{const g={store_id:p,holiday_name:o.name.trim(),holiday_date:o.date,is_closed:!0},v=await oe.saveStoreHolidays(p,[g]);if(v.success){const x=await oe.getStoreHolidays(p);x.success&&a(y=>({...y,[p]:x.data||[]})),l({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${v.error}`)}catch(g){alert(`Error adding holiday: ${g.message}`)}},h=async(p,g)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const v=await oe.deleteStoreHoliday(p,g);if(v.success){const x=await oe.getStoreHolidays(p);x.success&&a(y=>({...y,[p]:x.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${v.error}`)}catch(v){alert(`Error deleting holiday: ${v.message}`)}},m=async(p,g,v)=>{try{const x=await oe.updateStoreHoliday(p,g,v);if(x.success){const y=await oe.getStoreHolidays(p);y.success&&a(b=>({...b,[p]:y.data||[]})),d(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${x.error}`)}catch(x){alert(`Error updating holiday: ${x.message}`)}};return i?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:t,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(p=>{const g=n[p.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Cr,{className:"w-4 h-4 mr-1"}),g.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:o.name,onChange:v=>l(x=>({...x,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:o.date,onChange:v=>l(x=>({...x,date:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>f(p.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(ui,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:g.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):g.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:u===v.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:v.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${v.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:v.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${v.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const x=document.getElementById(`edit-name-${v.id}`).value,y=document.getElementById(`edit-date-${v.id}`).value;m(p.id,v.id,{holiday_name:x,holiday_date:y})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>d(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:v.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>d(v.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(p.id,v.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(di,{className:"w-4 h-4"})})]})]})},v.id))})]})]},p.id)})})]})},mye=()=>{const{staffData:t}=wt(),[e,r]=N.useState([]),[n,a]=N.useState(!0),[i,s]=N.useState({}),[o,l]=N.useState(()=>{const p=new Date,g=new Date(p.getFullYear(),p.getMonth(),1),v=new Date(p.getFullYear(),p.getMonth()+1,0);return{startDate:g.toISOString().split("T")[0],endDate:v.toISOString().split("T")[0]}});N.useEffect(()=>{(async()=>{try{const g=await oe.getStores();g.success&&(r(g.data),await u(g.data))}catch(g){console.error("Error fetching data:",g)}finally{a(!1)}})()},[o]);const u=async p=>{const g={};for(const v of p)try{const x=t.filter(w=>w.store_id===v.id),y=await oe.getScheduleAssignmentsForDateRange(v.id,o.startDate,o.endDate),b=await oe.getSalesForDateRange(v.name,o.startDate,o.endDate),S=[];for(const w of x){const _=await oe.getStaffBonusTiers(w.id),E={...w,bonus_tiers:_.success?_.data:[]},j=d(y.data||[],w.id),T=b.data||[],O=f(E,j,T);S.push({staff:E,hours:j,sales:T,payroll:O})}g[v.id]={store:v,staffPayroll:S,totalHours:S.reduce((w,_)=>w+_.hours,0),totalSales:b.data?b.data.reduce((w,_)=>w+(parseFloat(_.gross_sales)||0),0):0,totalPayroll:S.reduce((w,_)=>w+_.payroll.total,0)}}catch(x){console.error(`Error calculating payroll for store ${v.name}:`,x),g[v.id]={store:v,staffPayroll:[],totalHours:0,totalSales:0,totalPayroll:0,error:x.message}}s(g)},d=(p,g)=>{let v=0;return p.forEach(x=>{if(x.staff_id===g&&x.slot){const y=new Date(`2000-01-01T${x.slot.start_time}`),S=(new Date(`2000-01-01T${x.slot.end_time}`)-y)/(1e3*60*60);v+=S}}),v},f=(p,g,v)=>{let x=0,y=0;if(p.pay_type==="salary"||p.pay_type==="salary+bonus"){const S=p.salary_amount||0,[w,_,E]=o.startDate.split("-").map(Number),[j,T,O]=o.endDate.split("-").map(Number),P=new Date(w,_-1,E),D=new Date(j,T-1,O),k=Math.ceil((D-P)/(1e3*60*60*24))+1;x=S/365*k,y=g>0?x/g:0}else y=p.hourly_rate||15,x=g*y;let b=0;if(p.bonus_tiers&&p.bonus_tiers.length>0){const S=v.reduce((E,j)=>E+(parseFloat(j.gross_sales)||0),0),_=p.bonus_tiers.sort((E,j)=>j.sales_target-E.sales_target).find(E=>S>=E.sales_target);_&&(b=_.bonus_amount)}return{basePay:x,bonus:b,total:x+b,hourlyRate:y,totalSales:v.reduce((S,w)=>S+(parseFloat(w.gross_sales)||0),0),payType:p.pay_type||"hourly"}},h=(p,g)=>{l(v=>{let x;if(p==="startDate"){const y=new Date(g),b=new Date(y.getFullYear(),y.getMonth()+1,0);x={startDate:g,endDate:b.toISOString().split("T")[0]}}else if(p==="endDate"){const y=new Date(g);x={startDate:new Date(y.getFullYear(),y.getMonth(),1).toISOString().split("T")[0],endDate:g}}else x={...v,[p]:g};return x})},m=p=>{l(g=>{const[v,x,y]=g.startDate.split("-").map(Number),b=new Date(v,x-1,y);let S,w;if(p==="forward")S=new Date(b.getFullYear(),b.getMonth()+1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(p==="backward")S=new Date(b.getFullYear(),b.getMonth()-1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(p==="current"){const _=new Date;S=new Date(_.getFullYear(),_.getMonth(),1),w=new Date(_.getFullYear(),_.getMonth()+1,0)}return{startDate:S.toISOString().split("T")[0],endDate:w.toISOString().split("T")[0]}})};return n?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and calculating bonuses..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vo,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"View bonus calculations based on actual hours and sales data"})]})]})}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Date Range"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>m("backward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Previous Month",children:c.jsx(rb,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[120px] text-center",children:(()=>{const[p,g,v]=o.startDate.split("-").map(Number);return new Date(p,g-1,v).toLocaleDateString("en-US",{month:"long",year:"numeric"})})()}),c.jsx("button",{onClick:()=>m("forward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Next Month",children:c.jsx(nb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>m("current"),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Go to Current Month",children:"Today"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",value:o.startDate,onChange:p=>h("startDate",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",value:o.endDate,onChange:p=>h("endDate",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(Mc,{className:"w-5 h-5 mr-2 text-green-600"}),"Overall Summary"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Stores"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Object.values(i).reduce((p,g)=>p+((g==null?void 0:g.totalHours)||0),0).toFixed(1)}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",Object.values(i).reduce((p,g)=>p+((g==null?void 0:g.totalSales)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Object.values(i).reduce((p,g)=>p+((g==null?void 0:g.totalPayroll)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Payroll"})]})]})]}),c.jsx("div",{className:"space-y-6",children:e.map(p=>{const g=i[p.id];if(!g)return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsx("div",{className:"text-gray-500",children:"Loading..."})]})},p.id);const{staffPayroll:v,totalHours:x,totalSales:y,totalPayroll:b,error:S}=g;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Payroll"}),c.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",b.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Hours:"}),c.jsx("span",{className:"ml-2 font-medium",children:x.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Sales:"}),c.jsxs("span",{className:"ml-2 font-medium",children:["$",y.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Staff Count:"}),c.jsx("span",{className:"ml-2 font-medium",children:v.length})]})]})]}),c.jsx("div",{className:"p-6",children:S?c.jsxs("div",{className:"text-red-600 text-center py-4",children:["Error loading data: ",S]}):v.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:v.map(({staff:w,hours:_,sales:E,payroll:j})=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:w.name}),c.jsx("p",{className:"text-sm text-gray-600",children:w.role||"Staff Member"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",j.total.toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Total Pay"})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Hours"}),c.jsx("p",{className:"font-medium",children:_.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Rate"}),c.jsx("p",{className:"font-medium",children:j.payType==="salary"||j.payType==="salary+bonus"?`$${j.hourlyRate.toFixed(2)}/hr (effective)`:`$${j.hourlyRate}/hr`})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",j.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",j.bonus.toFixed(2)]})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sales Generated:"}),c.jsxs("span",{className:"font-medium",children:["$",j.totalSales.toFixed(2)]})]})})]},w.id))})})]},p.id)})})]})},pye=()=>{const[t,e]=N.useState([]),[r,n]=N.useState({}),[a,i]=N.useState(!0);N.useState(null);const[s,o]=N.useState({name:"",date:""}),[l,u]=N.useState(null);N.useEffect(()=>{(async()=>{try{const p=await oe.getStores();if(p.success){e(p.data);const g={};for(const v of p.data){const x=await oe.getStoreHolidays(v.id);x.success&&(g[v.id]=x.data||[])}n(g)}}catch(p){console.error("Error fetching data:",p)}finally{i(!1)}})()},[]);const d=async m=>{if(!s.name.trim()||!s.date){alert("Please fill in both holiday name and date");return}try{const p={store_id:m,holiday_name:s.name.trim(),holiday_date:s.date,is_closed:!0},g=await oe.saveStoreHolidays(m,[p]);if(g.success){const v=await oe.getStoreHolidays(m);v.success&&n(x=>({...x,[m]:v.data||[]})),o({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${g.error}`)}catch(p){alert(`Error adding holiday: ${p.message}`)}},f=async(m,p)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const g=await oe.deleteStoreHoliday(m,p);if(g.success){const v=await oe.getStoreHolidays(m);v.success&&n(x=>({...x,[m]:v.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${g.error}`)}catch(g){alert(`Error deleting holiday: ${g.message}`)}},h=async(m,p,g)=>{try{const v=await oe.updateStoreHoliday(m,p,g);if(v.success){const x=await oe.getStoreHolidays(m);x.success&&n(y=>({...y,[m]:x.data||[]})),u(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${v.error}`)}catch(v){alert(`Error updating holiday: ${v.message}`)}};return a?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(m=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},m))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:t.map(m=>{const p=r[m.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Cr,{className:"w-4 h-4 mr-1"}),p.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:s.name,onChange:g=>o(v=>({...v,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:s.date,onChange:g=>o(v=>({...v,date:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>d(m.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(ui,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:p.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):p.map(g=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l===g.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:g.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${g.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:g.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${g.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const v=document.getElementById(`edit-name-${g.id}`).value,x=document.getElementById(`edit-date-${g.id}`).value;h(m.id,g.id,{holiday_name:v,holiday_date:x})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>u(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:g.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>f(m.id,g.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(di,{className:"w-4 h-4"})})]})]})},g.id))})]})]},m.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Holiday Management"}),c.jsx("p",{className:"text-green-700",children:"Manage holidays for all stores in one centralized location. Each store can have its own set of holidays that apply to all staff members."})]})]})})]})};function gye(){return c.jsx(OF,{children:c.jsx(s4,{children:c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs(RF,{children:[c.jsx(PU,{}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(JL,{children:[c.jsx(sr,{path:"/",element:c.jsx(XL,{to:"/tasks",replace:!0})}),c.jsx(sr,{path:"/dashboard",element:c.jsx(sde,{})}),c.jsx(sr,{path:"/venues",element:c.jsx(lde,{})}),c.jsx(sr,{path:"/staff",element:c.jsx(dde,{})}),c.jsx(sr,{path:"/tasks",element:c.jsx(hde,{})}),c.jsx(sr,{path:"/calendar",element:c.jsx(Jve,{})}),c.jsx(sr,{path:"/daily-sales",element:c.jsx(tye,{})}),c.jsx(sr,{path:"/messages",element:c.jsx(aye,{})}),c.jsx(sr,{path:"/pay-calculator",element:c.jsx(iye,{})}),c.jsx(sr,{path:"/sales-analysis",element:c.jsx(sye,{})}),c.jsx(sr,{path:"/sales-upload",element:c.jsx(lye,{})}),c.jsx(sr,{path:"/scheduler",element:c.jsx(fye,{})}),c.jsx(sr,{path:"/bonuses",element:c.jsx(mye,{})}),c.jsx(sr,{path:"/holiday-manager",element:c.jsx(pye,{})})]})})]})})})})}Jg.createRoot(document.getElementById("root")).render(c.jsx(W.StrictMode,{children:c.jsx(gye,{})}));
//# sourceMappingURL=index-e5ea0050.js.map
