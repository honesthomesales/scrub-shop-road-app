function dI(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var gN={exports:{}},dm={},vN={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),hI=Symbol.for("react.portal"),mI=Symbol.for("react.fragment"),pI=Symbol.for("react.strict_mode"),gI=Symbol.for("react.profiler"),vI=Symbol.for("react.provider"),yI=Symbol.for("react.context"),xI=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),wI=Symbol.for("react.memo"),SI=Symbol.for("react.lazy"),gS=Symbol.iterator;function _I(t){return t===null||typeof t!="object"?null:(t=gS&&t[gS]||t["@@iterator"],typeof t=="function"?t:null)}var yN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xN=Object.assign,bN={};function tl(t,e,r){this.props=t,this.context=e,this.refs=bN,this.updater=r||yN}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wN(){}wN.prototype=tl.prototype;function vx(t,e,r){this.props=t,this.context=e,this.refs=bN,this.updater=r||yN}var yx=vx.prototype=new wN;yx.constructor=vx;xN(yx,tl.prototype);yx.isPureReactComponent=!0;var vS=Array.isArray,SN=Object.prototype.hasOwnProperty,xx={current:null},_N={key:!0,ref:!0,__self:!0,__source:!0};function EN(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)SN.call(e,n)&&!_N.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ou,type:t,key:a,ref:s,props:i,_owner:xx.current}}function EI(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function jI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var yS=/\/+/g;function Mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jI(""+t.key):e.toString(36)}function zd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ou:case hI:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Mp(s,0):n,vS(i)?(r="",t!=null&&(r=t.replace(yS,"$&/")+"/"),zd(i,e,r,"",function(u){return u})):i!=null&&(bx(i)&&(i=EI(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(yS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",vS(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Mp(a,o);s+=zd(a,e,r,l,i)}else if(l=_I(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Mp(a,o++),s+=zd(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Xu(t,e,r){if(t==null)return t;var n=[],i=0;return zd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function AI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fr={current:null},Wd={transition:null},TI={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:xx};function jN(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Xu,forEach:function(t,e,r){Xu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!bx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=tl;Pe.Fragment=mI;Pe.Profiler=gI;Pe.PureComponent=vx;Pe.StrictMode=pI;Pe.Suspense=bI;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TI;Pe.act=jN;Pe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=xN({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=xx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)SN.call(e,l)&&!_N.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ou,type:t.type,key:i,ref:a,props:n,_owner:s}};Pe.createContext=function(t){return t={$$typeof:yI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vI,_context:t},t.Consumer=t};Pe.createElement=EN;Pe.createFactory=function(t){var e=EN.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:xI,render:t}};Pe.isValidElement=bx;Pe.lazy=function(t){return{$$typeof:SI,_payload:{_status:-1,_result:t},_init:AI}};Pe.memo=function(t,e){return{$$typeof:wI,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};Pe.unstable_act=jN;Pe.useCallback=function(t,e){return fr.current.useCallback(t,e)};Pe.useContext=function(t){return fr.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return fr.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return fr.current.useEffect(t,e)};Pe.useId=function(){return fr.current.useId()};Pe.useImperativeHandle=function(t,e,r){return fr.current.useImperativeHandle(t,e,r)};Pe.useInsertionEffect=function(t,e){return fr.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return fr.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return fr.current.useMemo(t,e)};Pe.useReducer=function(t,e,r){return fr.current.useReducer(t,e,r)};Pe.useRef=function(t){return fr.current.useRef(t)};Pe.useState=function(t){return fr.current.useState(t)};Pe.useSyncExternalStore=function(t,e,r){return fr.current.useSyncExternalStore(t,e,r)};Pe.useTransition=function(){return fr.current.useTransition()};Pe.version="18.3.1";vN.exports=Pe;var C=vN.exports;const F=Xe(C),NI=dI({__proto__:null,default:F},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI=C,kI=Symbol.for("react.element"),OI=Symbol.for("react.fragment"),DI=Object.prototype.hasOwnProperty,PI=CI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MI={key:!0,ref:!0,__self:!0,__source:!0};function AN(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)DI.call(e,n)&&!MI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:kI,type:t,key:a,ref:s,props:i,_owner:PI.current}}dm.Fragment=OI;dm.jsx=AN;dm.jsxs=AN;gN.exports=dm;var c=gN.exports,hv={},TN={exports:{}},Ir={},NN={exports:{}},CN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var B=$.length;$.push(U);e:for(;0<B;){var H=B-1>>>1,V=$[H];if(0<i(V,U))$[H]=U,$[B]=V,B=H;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var U=$[0],B=$.pop();if(B!==U){$[0]=B;e:for(var H=0,V=$.length,q=V>>>1;H<q;){var re=2*(H+1)-1,se=$[re],de=re+1,Ee=$[de];if(0>i(se,B))de<V&&0>i(Ee,se)?($[H]=Ee,$[de]=B,H=de):($[H]=se,$[re]=B,H=re);else if(de<V&&0>i(Ee,B))$[H]=Ee,$[de]=B,H=de;else break e}}return U}function i($,U){var B=$.sortIndex-U.sortIndex;return B!==0?B:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=$)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function _($){if(g=!1,b($),!p)if(r(l)!==null)p=!0,G(w);else{var U=r(u);U!==null&&M(_,U.startTime-$)}}function w($,U){p=!1,g&&(g=!1,x(E),E=-1),m=!0;var B=h;try{for(b(U),f=r(l);f!==null&&(!(f.expirationTime>U)||$&&!D());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=U);U=t.unstable_now(),typeof V=="function"?f.callback=V:f===r(l)&&n(l),b(U)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var re=r(u);re!==null&&M(_,re.startTime-U),q=!1}return q}finally{f=null,h=B,m=!1}}var S=!1,j=null,E=-1,A=5,k=-1;function D(){return!(t.unstable_now()-k<A)}function P(){if(j!==null){var $=t.unstable_now();k=$;var U=!0;try{U=j(!0,$)}finally{U?O():(S=!1,j=null)}}else S=!1}var O;if(typeof y=="function")O=function(){y(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=P,O=function(){W.postMessage(null)}}else O=function(){v(P,0)};function G($){j=$,S||(S=!0,O())}function M($,U){E=v(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,G(w))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var B=h;h=U;try{return $()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=h;h=$;try{return U()}finally{h=B}},t.unstable_scheduleCallback=function($,U,B){var H=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?H+B:H):B=H,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=B+V,$={id:d++,callback:U,priorityLevel:$,startTime:B,expirationTime:V,sortIndex:-1},B>H?($.sortIndex=B,e(u,$),r(l)===null&&$===r(u)&&(g?(x(E),E=-1):g=!0,M(_,B-H))):($.sortIndex=V,e(l,$),p||m||(p=!0,G(w))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var U=h;return function(){var B=h;h=U;try{return $.apply(this,arguments)}finally{h=B}}}})(CN);NN.exports=CN;var RI=NN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=C,Rr=RI;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kN=new Set,Tc={};function ps(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(Tc[t]=e,t=0;t<e.length;t++)kN.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mv=Object.prototype.hasOwnProperty,$I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xS={},bS={};function LI(t){return mv.call(bS,t)?!0:mv.call(xS,t)?!1:$I.test(t)?bS[t]=!0:(xS[t]=!0,!1)}function FI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UI(t,e,r,n){if(e===null||typeof e>"u"||FI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var wx=/[\-:]([a-z])/g;function Sx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wx,Sx);Kt[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wx,Sx);Kt[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wx,Sx);Kt[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function _x(t,e,r,n){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UI(e,r,i,n)&&(r=null),n||i===null?LI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pi=II.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Ex=Symbol.for("react.strict_mode"),pv=Symbol.for("react.profiler"),ON=Symbol.for("react.provider"),DN=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),Ax=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),PN=Symbol.for("react.offscreen"),wS=Symbol.iterator;function Al(t){return t===null||typeof t!="object"?null:(t=wS&&t[wS]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Rp;function Xl(t){if(Rp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rp=e&&e[1]||""}return`
`+Rp+t}var Ip=!1;function $p(t,e){if(!t||Ip)return"";Ip=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ip=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xl(t):""}function BI(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=$p(t.type,!1),t;case 11:return t=$p(t.type.render,!1),t;case 1:return t=$p(t.type,!0),t;default:return""}}function yv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Us:return"Portal";case pv:return"Profiler";case Ex:return"StrictMode";case gv:return"Suspense";case vv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DN:return(t.displayName||"Context")+".Consumer";case ON:return(t._context.displayName||"Context")+".Provider";case jx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ax:return e=t.displayName||null,e!==null?e:yv(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return yv(t(e))}catch{}}return null}function HI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yv(e);case 8:return e===Ex?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function na(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zI(t){var e=MN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=zI(t))}function RN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=MN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xv(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function SS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=na(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IN(t,e){e=e.checked,e!=null&&_x(t,"checked",e,!1)}function bv(t,e){IN(t,e);var r=na(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wv(t,e.type,r):e.hasOwnProperty("defaultValue")&&wv(t,e.type,na(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _S(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wv(t,e,r){(e!=="number"||ff(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zl=Array.isArray;function ro(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+na(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ES(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Zl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:na(r)}}function $N(t,e){var r=na(e.value),n=na(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _v(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ed,FN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ed=ed||document.createElement("div"),ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WI=["Webkit","ms","Moz","O"];Object.keys(oc).forEach(function(t){WI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oc[e]=oc[t]})});function UN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||oc.hasOwnProperty(t)&&oc[t]?(""+e).trim():e+"px"}function BN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=UN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var VI=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ev(t,e){if(e){if(VI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function jv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Av=null;function Tx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tv=null,no=null,io=null;function AS(t){if(t=Mu(t)){if(typeof Tv!="function")throw Error(te(280));var e=t.stateNode;e&&(e=gm(e),Tv(t.stateNode,t.type,e))}}function HN(t){no?io?io.push(t):io=[t]:no=t}function zN(){if(no){var t=no,e=io;if(io=no=null,AS(t),e)for(t=0;t<e.length;t++)AS(e[t])}}function WN(t,e){return t(e)}function VN(){}var Lp=!1;function GN(t,e,r){if(Lp)return t(e,r);Lp=!0;try{return WN(t,e,r)}finally{Lp=!1,(no!==null||io!==null)&&(VN(),zN())}}function Cc(t,e){var r=t.stateNode;if(r===null)return null;var n=gm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var Nv=!1;if(oi)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Nv=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Nv=!1}function GI(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var lc=!1,hf=null,mf=!1,Cv=null,qI={onError:function(t){lc=!0,hf=t}};function YI(t,e,r,n,i,a,s,o,l){lc=!1,hf=null,GI.apply(qI,arguments)}function KI(t,e,r,n,i,a,s,o,l){if(YI.apply(this,arguments),lc){if(lc){var u=hf;lc=!1,hf=null}else throw Error(te(198));mf||(mf=!0,Cv=u)}}function gs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TS(t){if(gs(t)!==t)throw Error(te(188))}function QI(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return TS(i),t;if(a===n)return TS(i),e;a=a.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function YN(t){return t=QI(t),t!==null?KN(t):null}function KN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KN(t);if(e!==null)return e;t=t.sibling}return null}var QN=Rr.unstable_scheduleCallback,NS=Rr.unstable_cancelCallback,XI=Rr.unstable_shouldYield,ZI=Rr.unstable_requestPaint,St=Rr.unstable_now,JI=Rr.unstable_getCurrentPriorityLevel,Nx=Rr.unstable_ImmediatePriority,XN=Rr.unstable_UserBlockingPriority,pf=Rr.unstable_NormalPriority,e$=Rr.unstable_LowPriority,ZN=Rr.unstable_IdlePriority,fm=null,kn=null;function t$(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(fm,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:i$,r$=Math.log,n$=Math.LN2;function i$(t){return t>>>=0,t===0?32:31-(r$(t)/n$|0)|0}var td=64,rd=4194304;function Jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Jl(o):(a&=s,a!==0&&(n=Jl(a)))}else s=r&~i,s!==0?n=Jl(s):a!==0&&(n=Jl(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gn(e),i=1<<r,n|=t[r],e&=~i;return n}function a$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s$(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-gn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=a$(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function kv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JN(){var t=td;return td<<=1,!(td&4194240)&&(td=64),t}function Fp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Du(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=r}function o$(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-gn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Cx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ve=0;function eC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tC,kx,rC,nC,iC,Ov=!1,nd=[],Wi=null,Vi=null,Gi=null,kc=new Map,Oc=new Map,Di=[],l$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CS(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Nl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Mu(e),e!==null&&kx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function c$(t,e,r,n,i){switch(e){case"focusin":return Wi=Nl(Wi,t,e,r,n,i),!0;case"dragenter":return Vi=Nl(Vi,t,e,r,n,i),!0;case"mouseover":return Gi=Nl(Gi,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return kc.set(a,Nl(kc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Oc.set(a,Nl(Oc.get(a)||null,t,e,r,n,i)),!0}return!1}function aC(t){var e=Fa(t.target);if(e!==null){var r=gs(e);if(r!==null){if(e=r.tag,e===13){if(e=qN(r),e!==null){t.blockedOn=e,iC(t.priority,function(){rC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Dv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Av=n,r.target.dispatchEvent(n),Av=null}else return e=Mu(r),e!==null&&kx(e),t.blockedOn=r,!1;e.shift()}return!0}function kS(t,e,r){Vd(t)&&r.delete(e)}function u$(){Ov=!1,Wi!==null&&Vd(Wi)&&(Wi=null),Vi!==null&&Vd(Vi)&&(Vi=null),Gi!==null&&Vd(Gi)&&(Gi=null),kc.forEach(kS),Oc.forEach(kS)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ov||(Ov=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,u$)))}function Dc(t){function e(i){return Cl(i,t)}if(0<nd.length){Cl(nd[0],t);for(var r=1;r<nd.length;r++){var n=nd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Wi!==null&&Cl(Wi,t),Vi!==null&&Cl(Vi,t),Gi!==null&&Cl(Gi,t),kc.forEach(e),Oc.forEach(e),r=0;r<Di.length;r++)n=Di[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Di.length&&(r=Di[0],r.blockedOn===null);)aC(r),r.blockedOn===null&&Di.shift()}var ao=pi.ReactCurrentBatchConfig,vf=!0;function d$(t,e,r,n){var i=Ve,a=ao.transition;ao.transition=null;try{Ve=1,Ox(t,e,r,n)}finally{Ve=i,ao.transition=a}}function f$(t,e,r,n){var i=Ve,a=ao.transition;ao.transition=null;try{Ve=4,Ox(t,e,r,n)}finally{Ve=i,ao.transition=a}}function Ox(t,e,r,n){if(vf){var i=Dv(t,e,r,n);if(i===null)Kp(t,e,n,yf,r),CS(t,n);else if(c$(i,t,e,r,n))n.stopPropagation();else if(CS(t,n),e&4&&-1<l$.indexOf(t)){for(;i!==null;){var a=Mu(i);if(a!==null&&tC(a),a=Dv(t,e,r,n),a===null&&Kp(t,e,n,yf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Kp(t,e,n,null,r)}}var yf=null;function Dv(t,e,r,n){if(yf=null,t=Tx(n),t=Fa(t),t!==null)if(e=gs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yf=t,null}function sC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JI()){case Nx:return 1;case XN:return 4;case pf:case e$:return 16;case ZN:return 536870912;default:return 16}default:return 16}}var Ii=null,Dx=null,Gd=null;function oC(){if(Gd)return Gd;var t,e=Dx,r=e.length,n,i="value"in Ii?Ii.value:Ii.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Gd=i.slice(t,1<n?1-n:void 0)}function qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function id(){return!0}function OS(){return!1}function $r(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?id:OS,this.isPropagationStopped=OS,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=id)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=id)},persist:function(){},isPersistent:id}),e}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Px=$r(rl),Pu=yt({},rl,{view:0,detail:0}),h$=$r(Pu),Up,Bp,kl,hm=yt({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kl&&(kl&&t.type==="mousemove"?(Up=t.screenX-kl.screenX,Bp=t.screenY-kl.screenY):Bp=Up=0,kl=t),Up)},movementY:function(t){return"movementY"in t?t.movementY:Bp}}),DS=$r(hm),m$=yt({},hm,{dataTransfer:0}),p$=$r(m$),g$=yt({},Pu,{relatedTarget:0}),Hp=$r(g$),v$=yt({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),y$=$r(v$),x$=yt({},rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),b$=$r(x$),w$=yt({},rl,{data:0}),PS=$r(w$),S$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E$[t])?!!e[t]:!1}function Mx(){return j$}var A$=yt({},Pu,{key:function(t){if(t.key){var e=S$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mx,charCode:function(t){return t.type==="keypress"?qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T$=$r(A$),N$=yt({},hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MS=$r(N$),C$=yt({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mx}),k$=$r(C$),O$=yt({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),D$=$r(O$),P$=yt({},hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M$=$r(P$),R$=[9,13,27,32],Rx=oi&&"CompositionEvent"in window,cc=null;oi&&"documentMode"in document&&(cc=document.documentMode);var I$=oi&&"TextEvent"in window&&!cc,lC=oi&&(!Rx||cc&&8<cc&&11>=cc),RS=String.fromCharCode(32),IS=!1;function cC(t,e){switch(t){case"keyup":return R$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function $$(t,e){switch(t){case"compositionend":return uC(e);case"keypress":return e.which!==32?null:(IS=!0,RS);case"textInput":return t=e.data,t===RS&&IS?null:t;default:return null}}function L$(t,e){if(Hs)return t==="compositionend"||!Rx&&cC(t,e)?(t=oC(),Gd=Dx=Ii=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lC&&e.locale!=="ko"?null:e.data;default:return null}}var F$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $S(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F$[t.type]:e==="textarea"}function dC(t,e,r,n){HN(n),e=xf(e,"onChange"),0<e.length&&(r=new Px("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var uc=null,Pc=null;function U$(t){SC(t,0)}function mm(t){var e=Vs(t);if(RN(e))return t}function B$(t,e){if(t==="change")return e}var fC=!1;if(oi){var zp;if(oi){var Wp="oninput"in document;if(!Wp){var LS=document.createElement("div");LS.setAttribute("oninput","return;"),Wp=typeof LS.oninput=="function"}zp=Wp}else zp=!1;fC=zp&&(!document.documentMode||9<document.documentMode)}function FS(){uc&&(uc.detachEvent("onpropertychange",hC),Pc=uc=null)}function hC(t){if(t.propertyName==="value"&&mm(Pc)){var e=[];dC(e,Pc,t,Tx(t)),GN(U$,e)}}function H$(t,e,r){t==="focusin"?(FS(),uc=e,Pc=r,uc.attachEvent("onpropertychange",hC)):t==="focusout"&&FS()}function z$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mm(Pc)}function W$(t,e){if(t==="click")return mm(e)}function V$(t,e){if(t==="input"||t==="change")return mm(e)}function G$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:G$;function Mc(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!mv.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function US(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BS(t,e){var r=US(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=US(r)}}function mC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pC(){for(var t=window,e=ff();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ff(t.document)}return e}function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q$(t){var e=pC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mC(r.ownerDocument.documentElement,r)){if(n!==null&&Ix(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=BS(r,a);var s=BS(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y$=oi&&"documentMode"in document&&11>=document.documentMode,zs=null,Pv=null,dc=null,Mv=!1;function HS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mv||zs==null||zs!==ff(n)||(n=zs,"selectionStart"in n&&Ix(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dc&&Mc(dc,n)||(dc=n,n=xf(Pv,"onSelect"),0<n.length&&(e=new Px("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zs)))}function ad(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ws={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},Vp={},gC={};oi&&(gC=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function pm(t){if(Vp[t])return Vp[t];if(!Ws[t])return t;var e=Ws[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gC)return Vp[t]=e[r];return t}var vC=pm("animationend"),yC=pm("animationiteration"),xC=pm("animationstart"),bC=pm("transitionend"),wC=new Map,zS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(t,e){wC.set(t,e),ps(e,[t])}for(var Gp=0;Gp<zS.length;Gp++){var qp=zS[Gp],K$=qp.toLowerCase(),Q$=qp[0].toUpperCase()+qp.slice(1);ca(K$,"on"+Q$)}ca(vC,"onAnimationEnd");ca(yC,"onAnimationIteration");ca(xC,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(bC,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X$=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function WS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,KI(n,e,void 0,t),t.currentTarget=null}function SC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;WS(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;WS(i,o,u),a=l}}}if(mf)throw t=Cv,mf=!1,Cv=null,t}function lt(t,e){var r=e[Fv];r===void 0&&(r=e[Fv]=new Set);var n=t+"__bubble";r.has(n)||(_C(e,t,2,!1),r.add(n))}function Yp(t,e,r){var n=0;e&&(n|=4),_C(r,t,n,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Rc(t){if(!t[sd]){t[sd]=!0,kN.forEach(function(r){r!=="selectionchange"&&(X$.has(r)||Yp(r,!1,t),Yp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,Yp("selectionchange",!1,e))}}function _C(t,e,r,n){switch(sC(e)){case 1:var i=d$;break;case 4:i=f$;break;default:i=Ox}r=i.bind(null,e,r,t),i=void 0,!Nv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Kp(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Fa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}GN(function(){var u=a,d=Tx(r),f=[];e:{var h=wC.get(t);if(h!==void 0){var m=Px,p=t;switch(t){case"keypress":if(qd(r)===0)break e;case"keydown":case"keyup":m=T$;break;case"focusin":p="focus",m=Hp;break;case"focusout":p="blur",m=Hp;break;case"beforeblur":case"afterblur":m=Hp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=DS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=k$;break;case vC:case yC:case xC:m=y$;break;case bC:m=D$;break;case"scroll":m=h$;break;case"wheel":m=M$;break;case"copy":case"cut":case"paste":m=b$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=MS}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=Cc(y,x),_!=null&&g.push(Ic(y,_,b)))),v)break;y=y.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==Av&&(p=r.relatedTarget||r.fromElement)&&(Fa(p)||p[li]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Fa(p):null,p!==null&&(v=gs(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=DS,_="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=MS,_="onPointerLeave",x="onPointerEnter",y="pointer"),v=m==null?h:Vs(m),b=p==null?h:Vs(p),h=new g(_,y+"leave",m,r,d),h.target=v,h.relatedTarget=b,_=null,Fa(d)===u&&(g=new g(x,y+"enter",p,r,d),g.target=b,g.relatedTarget=v,_=g),v=_,m&&p)t:{for(g=m,x=p,y=0,b=g;b;b=Ns(b))y++;for(b=0,_=x;_;_=Ns(_))b++;for(;0<y-b;)g=Ns(g),y--;for(;0<b-y;)x=Ns(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Ns(g),x=Ns(x)}g=null}else g=null;m!==null&&VS(f,h,m,g,!1),p!==null&&v!==null&&VS(f,v,p,g,!0)}}e:{if(h=u?Vs(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=B$;else if($S(h))if(fC)w=V$;else{w=z$;var S=H$}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=W$);if(w&&(w=w(t,u))){dC(f,w,r,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&wv(h,"number",h.value)}switch(S=u?Vs(u):window,t){case"focusin":($S(S)||S.contentEditable==="true")&&(zs=S,Pv=u,dc=null);break;case"focusout":dc=Pv=zs=null;break;case"mousedown":Mv=!0;break;case"contextmenu":case"mouseup":case"dragend":Mv=!1,HS(f,r,d);break;case"selectionchange":if(Y$)break;case"keydown":case"keyup":HS(f,r,d)}var j;if(Rx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hs?cC(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(lC&&r.locale!=="ko"&&(Hs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hs&&(j=oC()):(Ii=d,Dx="value"in Ii?Ii.value:Ii.textContent,Hs=!0)),S=xf(u,E),0<S.length&&(E=new PS(E,t,null,r,d),f.push({event:E,listeners:S}),j?E.data=j:(j=uC(r),j!==null&&(E.data=j)))),(j=I$?$$(t,r):L$(t,r))&&(u=xf(u,"onBeforeInput"),0<u.length&&(d=new PS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}SC(f,e)})}function Ic(t,e,r){return{instance:t,listener:e,currentTarget:r}}function xf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Cc(t,r),a!=null&&n.unshift(Ic(t,a,i)),a=Cc(t,e),a!=null&&n.push(Ic(t,a,i))),t=t.return}return n}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VS(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Cc(r,a),l!=null&&s.unshift(Ic(r,l,o))):i||(l=Cc(r,a),l!=null&&s.push(Ic(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var Z$=/\r\n?/g,J$=/\u0000|\uFFFD/g;function GS(t){return(typeof t=="string"?t:""+t).replace(Z$,`
`).replace(J$,"")}function od(t,e,r){if(e=GS(e),GS(t)!==e&&r)throw Error(te(425))}function bf(){}var Rv=null,Iv=null;function $v(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lv=typeof setTimeout=="function"?setTimeout:void 0,eL=typeof clearTimeout=="function"?clearTimeout:void 0,qS=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof qS<"u"?function(t){return qS.resolve(null).then(t).catch(rL)}:Lv;function rL(t){setTimeout(function(){throw t})}function Qp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Dc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Dc(e)}function qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nl=Math.random().toString(36).slice(2),An="__reactFiber$"+nl,$c="__reactProps$"+nl,li="__reactContainer$"+nl,Fv="__reactEvents$"+nl,nL="__reactListeners$"+nl,iL="__reactHandles$"+nl;function Fa(t){var e=t[An];if(e)return e;for(var r=t.parentNode;r;){if(e=r[li]||r[An]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=YS(t);t!==null;){if(r=t[An])return r;t=YS(t)}return e}t=r,r=t.parentNode}return null}function Mu(t){return t=t[An]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function gm(t){return t[$c]||null}var Uv=[],Gs=-1;function ua(t){return{current:t}}function dt(t){0>Gs||(t.current=Uv[Gs],Uv[Gs]=null,Gs--)}function nt(t,e){Gs++,Uv[Gs]=t.current,t.current=e}var ia={},sr=ua(ia),wr=ua(!1),es=ia;function xo(t,e){var r=t.type.contextTypes;if(!r)return ia;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(t){return t=t.childContextTypes,t!=null}function wf(){dt(wr),dt(sr)}function KS(t,e,r){if(sr.current!==ia)throw Error(te(168));nt(sr,e),nt(wr,r)}function EC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,HI(t)||"Unknown",i));return yt({},r,n)}function Sf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,es=sr.current,nt(sr,t),nt(wr,wr.current),!0}function QS(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=EC(t,e,es),n.__reactInternalMemoizedMergedChildContext=t,dt(wr),dt(sr),nt(sr,t)):dt(wr),nt(wr,r)}var qn=null,vm=!1,Xp=!1;function jC(t){qn===null?qn=[t]:qn.push(t)}function aL(t){vm=!0,jC(t)}function da(){if(!Xp&&qn!==null){Xp=!0;var t=0,e=Ve;try{var r=qn;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qn=null,vm=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),QN(Nx,da),i}finally{Ve=e,Xp=!1}}return null}var qs=[],Ys=0,_f=null,Ef=0,zr=[],Wr=0,ts=null,Kn=1,Qn="";function Ta(t,e){qs[Ys++]=Ef,qs[Ys++]=_f,_f=t,Ef=e}function AC(t,e,r){zr[Wr++]=Kn,zr[Wr++]=Qn,zr[Wr++]=ts,ts=t;var n=Kn;t=Qn;var i=32-gn(n)-1;n&=~(1<<i),r+=1;var a=32-gn(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Kn=1<<32-gn(e)+i|r<<i|n,Qn=a+t}else Kn=1<<a|r<<i|n,Qn=t}function $x(t){t.return!==null&&(Ta(t,1),AC(t,1,0))}function Lx(t){for(;t===_f;)_f=qs[--Ys],qs[Ys]=null,Ef=qs[--Ys],qs[Ys]=null;for(;t===ts;)ts=zr[--Wr],zr[Wr]=null,Qn=zr[--Wr],zr[Wr]=null,Kn=zr[--Wr],zr[Wr]=null}var Dr=null,kr=null,ft=!1,fn=null;function TC(t,e){var r=Gr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function XS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dr=t,kr=qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dr=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ts!==null?{id:Kn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Dr=t,kr=null,!0):!1;default:return!1}}function Bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hv(t){if(ft){var e=kr;if(e){var r=e;if(!XS(t,e)){if(Bv(t))throw Error(te(418));e=qi(r.nextSibling);var n=Dr;e&&XS(t,e)?TC(n,r):(t.flags=t.flags&-4097|2,ft=!1,Dr=t)}}else{if(Bv(t))throw Error(te(418));t.flags=t.flags&-4097|2,ft=!1,Dr=t}}}function ZS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dr=t}function ld(t){if(t!==Dr)return!1;if(!ft)return ZS(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$v(t.type,t.memoizedProps)),e&&(e=kr)){if(Bv(t))throw NC(),Error(te(418));for(;e;)TC(t,e),e=qi(e.nextSibling)}if(ZS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){kr=qi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Dr?qi(t.stateNode.nextSibling):null;return!0}function NC(){for(var t=kr;t;)t=qi(t.nextSibling)}function bo(){kr=Dr=null,ft=!1}function Fx(t){fn===null?fn=[t]:fn.push(t)}var sL=pi.ReactCurrentBatchConfig;function Ol(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function cd(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JS(t){var e=t._init;return e(t._payload)}function CC(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Xi(x,y),x.index=0,x.sibling=null,x}function a(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,_){return y===null||y.tag!==6?(y=ig(b,x.mode,_),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,_){var w=b.type;return w===Bs?d(x,y,b.props.children,_,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ti&&JS(w)===y.type)?(_=i(y,b.props),_.ref=Ol(x,y,b),_.return=x,_):(_=ef(b.type,b.key,b.props,null,x.mode,_),_.ref=Ol(x,y,b),_.return=x,_)}function u(x,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=ag(b,x.mode,_),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function d(x,y,b,_,w){return y===null||y.tag!==7?(y=Ka(b,x.mode,_,w),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ig(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zu:return b=ef(y.type,y.key,y.props,null,x.mode,b),b.ref=Ol(x,null,y),b.return=x,b;case Us:return y=ag(y,x.mode,b),y.return=x,y;case Ti:var _=y._init;return f(x,_(y._payload),b)}if(Zl(y)||Al(y))return y=Ka(y,x.mode,b,null),y.return=x,y;cd(x,y)}return null}function h(x,y,b,_){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(x,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zu:return b.key===w?l(x,y,b,_):null;case Us:return b.key===w?u(x,y,b,_):null;case Ti:return w=b._init,h(x,y,w(b._payload),_)}if(Zl(b)||Al(b))return w!==null?null:d(x,y,b,_,null);cd(x,b)}return null}function m(x,y,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,o(y,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zu:return x=x.get(_.key===null?b:_.key)||null,l(y,x,_,w);case Us:return x=x.get(_.key===null?b:_.key)||null,u(y,x,_,w);case Ti:var S=_._init;return m(x,y,b,S(_._payload),w)}if(Zl(_)||Al(_))return x=x.get(b)||null,d(y,x,_,w,null);cd(y,_)}return null}function p(x,y,b,_){for(var w=null,S=null,j=y,E=y=0,A=null;j!==null&&E<b.length;E++){j.index>E?(A=j,j=null):A=j.sibling;var k=h(x,j,b[E],_);if(k===null){j===null&&(j=A);break}t&&j&&k.alternate===null&&e(x,j),y=a(k,y,E),S===null?w=k:S.sibling=k,S=k,j=A}if(E===b.length)return r(x,j),ft&&Ta(x,E),w;if(j===null){for(;E<b.length;E++)j=f(x,b[E],_),j!==null&&(y=a(j,y,E),S===null?w=j:S.sibling=j,S=j);return ft&&Ta(x,E),w}for(j=n(x,j);E<b.length;E++)A=m(j,x,E,b[E],_),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?E:A.key),y=a(A,y,E),S===null?w=A:S.sibling=A,S=A);return t&&j.forEach(function(D){return e(x,D)}),ft&&Ta(x,E),w}function g(x,y,b,_){var w=Al(b);if(typeof w!="function")throw Error(te(150));if(b=w.call(b),b==null)throw Error(te(151));for(var S=w=null,j=y,E=y=0,A=null,k=b.next();j!==null&&!k.done;E++,k=b.next()){j.index>E?(A=j,j=null):A=j.sibling;var D=h(x,j,k.value,_);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(x,j),y=a(D,y,E),S===null?w=D:S.sibling=D,S=D,j=A}if(k.done)return r(x,j),ft&&Ta(x,E),w;if(j===null){for(;!k.done;E++,k=b.next())k=f(x,k.value,_),k!==null&&(y=a(k,y,E),S===null?w=k:S.sibling=k,S=k);return ft&&Ta(x,E),w}for(j=n(x,j);!k.done;E++,k=b.next())k=m(j,x,E,k.value,_),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?E:k.key),y=a(k,y,E),S===null?w=k:S.sibling=k,S=k);return t&&j.forEach(function(P){return e(x,P)}),ft&&Ta(x,E),w}function v(x,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Bs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zu:e:{for(var w=b.key,S=y;S!==null;){if(S.key===w){if(w=b.type,w===Bs){if(S.tag===7){r(x,S.sibling),y=i(S,b.props.children),y.return=x,x=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ti&&JS(w)===S.type){r(x,S.sibling),y=i(S,b.props),y.ref=Ol(x,S,b),y.return=x,x=y;break e}r(x,S);break}else e(x,S);S=S.sibling}b.type===Bs?(y=Ka(b.props.children,x.mode,_,b.key),y.return=x,x=y):(_=ef(b.type,b.key,b.props,null,x.mode,_),_.ref=Ol(x,y,b),_.return=x,x=_)}return s(x);case Us:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=ag(b,x.mode,_),y.return=x,x=y}return s(x);case Ti:return S=b._init,v(x,y,S(b._payload),_)}if(Zl(b))return p(x,y,b,_);if(Al(b))return g(x,y,b,_);cd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,b),y.return=x,x=y):(r(x,y),y=ig(b,x.mode,_),y.return=x,x=y),s(x)):r(x,y)}return v}var wo=CC(!0),kC=CC(!1),jf=ua(null),Af=null,Ks=null,Ux=null;function Bx(){Ux=Ks=Af=null}function Hx(t){var e=jf.current;dt(jf),t._currentValue=e}function zv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function so(t,e){Af=t,Ux=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yr=!0),t.firstContext=null)}function Xr(t){var e=t._currentValue;if(Ux!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(Af===null)throw Error(te(308));Ks=t,Af.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var Ua=null;function zx(t){Ua===null?Ua=[t]:Ua.push(t)}function OC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,zx(e)):(r.next=i.next,i.next=r),e.interleaved=r,ci(t,n)}function ci(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ni=!1;function Wx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ci(t,r)}return i=n.interleaved,i===null?(e.next=e,zx(n)):(e.next=i.next,i.next=e),n.interleaved=e,ci(t,r)}function Yd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Cx(t,r)}}function e_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Tf(t,e,r,n){var i=t.updateQueue;Ni=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,g=o;switch(h=e,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=yt({},f,h);break e;case 2:Ni=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ns|=s,t.lanes=s,t.memoizedState=f}}function t_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var Ru={},On=ua(Ru),Lc=ua(Ru),Fc=ua(Ru);function Ba(t){if(t===Ru)throw Error(te(174));return t}function Vx(t,e){switch(nt(Fc,e),nt(Lc,t),nt(On,Ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_v(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_v(e,t)}dt(On),nt(On,e)}function So(){dt(On),dt(Lc),dt(Fc)}function PC(t){Ba(Fc.current);var e=Ba(On.current),r=_v(e,t.type);e!==r&&(nt(Lc,t),nt(On,r))}function Gx(t){Lc.current===t&&(dt(On),dt(Lc))}var pt=ua(0);function Nf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zp=[];function qx(){for(var t=0;t<Zp.length;t++)Zp[t]._workInProgressVersionPrimary=null;Zp.length=0}var Kd=pi.ReactCurrentDispatcher,Jp=pi.ReactCurrentBatchConfig,rs=0,vt=null,Ot=null,Lt=null,Cf=!1,fc=!1,Uc=0,oL=0;function Xt(){throw Error(te(321))}function Yx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yn(t[r],e[r]))return!1;return!0}function Kx(t,e,r,n,i,a){if(rs=a,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kd.current=t===null||t.memoizedState===null?dL:fL,t=r(n,i),fc){a=0;do{if(fc=!1,Uc=0,25<=a)throw Error(te(301));a+=1,Lt=Ot=null,e.updateQueue=null,Kd.current=hL,t=r(n,i)}while(fc)}if(Kd.current=kf,e=Ot!==null&&Ot.next!==null,rs=0,Lt=Ot=vt=null,Cf=!1,e)throw Error(te(300));return t}function Qx(){var t=Uc!==0;return Uc=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?vt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Zr(){if(Ot===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Lt===null?vt.memoizedState:Lt.next;if(e!==null)Lt=e,Ot=t;else{if(t===null)throw Error(te(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?vt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Bc(t,e){return typeof e=="function"?e(t):e}function eg(t){var e=Zr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Ot,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((rs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,vt.lanes|=d,ns|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,yn(n,e.memoizedState)||(yr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,vt.lanes|=a,ns|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function tg(t){var e=Zr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);yn(a,e.memoizedState)||(yr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function MC(){}function RC(t,e){var r=vt,n=Zr(),i=e(),a=!yn(n.memoizedState,i);if(a&&(n.memoizedState=i,yr=!0),n=n.queue,Xx(LC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,Hc(9,$C.bind(null,r,n,i,e),void 0,null),Ft===null)throw Error(te(349));rs&30||IC(r,e,i)}return i}function IC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function $C(t,e,r,n){e.value=r,e.getSnapshot=n,FC(e)&&UC(t)}function LC(t,e,r){return r(function(){FC(e)&&UC(t)})}function FC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yn(t,r)}catch{return!0}}function UC(t){var e=ci(t,1);e!==null&&vn(e,t,1,-1)}function r_(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=uL.bind(null,vt,t),[e.memoizedState,t]}function Hc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function BC(){return Zr().memoizedState}function Qd(t,e,r,n){var i=_n();vt.flags|=t,i.memoizedState=Hc(1|e,r,void 0,n===void 0?null:n)}function ym(t,e,r,n){var i=Zr();n=n===void 0?null:n;var a=void 0;if(Ot!==null){var s=Ot.memoizedState;if(a=s.destroy,n!==null&&Yx(n,s.deps)){i.memoizedState=Hc(e,r,a,n);return}}vt.flags|=t,i.memoizedState=Hc(1|e,r,a,n)}function n_(t,e){return Qd(8390656,8,t,e)}function Xx(t,e){return ym(2048,8,t,e)}function HC(t,e){return ym(4,2,t,e)}function zC(t,e){return ym(4,4,t,e)}function WC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VC(t,e,r){return r=r!=null?r.concat([t]):null,ym(4,4,WC.bind(null,e,t),r)}function Zx(){}function GC(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qC(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function YC(t,e,r){return rs&21?(yn(r,e)||(r=JN(),vt.lanes|=r,ns|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=r)}function lL(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=Jp.transition;Jp.transition={};try{t(!1),e()}finally{Ve=r,Jp.transition=n}}function KC(){return Zr().memoizedState}function cL(t,e,r){var n=Qi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QC(t))XC(e,r);else if(r=OC(t,e,r,n),r!==null){var i=cr();vn(r,t,n,i),ZC(r,e,n)}}function uL(t,e,r){var n=Qi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QC(t))XC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,yn(o,s)){var l=e.interleaved;l===null?(i.next=i,zx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=OC(t,e,i,n),r!==null&&(i=cr(),vn(r,t,n,i),ZC(r,e,n))}}function QC(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function XC(t,e){fc=Cf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ZC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Cx(t,r)}}var kf={readContext:Xr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},dL={readContext:Xr,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:Xr,useEffect:n_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qd(4194308,4,WC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qd(4,2,t,e)},useMemo:function(t,e){var r=_n();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=_n();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=cL.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:r_,useDebugValue:Zx,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=r_(!1),e=t[0];return t=lL.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=_n();if(ft){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Ft===null)throw Error(te(349));rs&30||IC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,n_(LC.bind(null,n,a,t),[t]),n.flags|=2048,Hc(9,$C.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=_n(),e=Ft.identifierPrefix;if(ft){var r=Qn,n=Kn;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Uc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=oL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fL={readContext:Xr,useCallback:GC,useContext:Xr,useEffect:Xx,useImperativeHandle:VC,useInsertionEffect:HC,useLayoutEffect:zC,useMemo:qC,useReducer:eg,useRef:BC,useState:function(){return eg(Bc)},useDebugValue:Zx,useDeferredValue:function(t){var e=Zr();return YC(e,Ot.memoizedState,t)},useTransition:function(){var t=eg(Bc)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:MC,useSyncExternalStore:RC,useId:KC,unstable_isNewReconciler:!1},hL={readContext:Xr,useCallback:GC,useContext:Xr,useEffect:Xx,useImperativeHandle:VC,useInsertionEffect:HC,useLayoutEffect:zC,useMemo:qC,useReducer:tg,useRef:BC,useState:function(){return tg(Bc)},useDebugValue:Zx,useDeferredValue:function(t){var e=Zr();return Ot===null?e.memoizedState=t:YC(e,Ot.memoizedState,t)},useTransition:function(){var t=tg(Bc)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:MC,useSyncExternalStore:RC,useId:KC,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Wv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xm={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cr(),i=Qi(t),a=ti(n,i);a.payload=e,r!=null&&(a.callback=r),e=Yi(t,a,i),e!==null&&(vn(e,t,i,n),Yd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cr(),i=Qi(t),a=ti(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Yi(t,a,i),e!==null&&(vn(e,t,i,n),Yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cr(),n=Qi(t),i=ti(r,n);i.tag=2,e!=null&&(i.callback=e),e=Yi(t,i,n),e!==null&&(vn(e,t,n,r),Yd(e,t,n))}};function i_(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Mc(r,n)||!Mc(i,a):!0}function JC(t,e,r){var n=!1,i=ia,a=e.contextType;return typeof a=="object"&&a!==null?a=Xr(a):(i=Sr(e)?es:sr.current,n=e.contextTypes,a=(n=n!=null)?xo(t,i):ia),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function a_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function Vv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Wx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Xr(a):(a=Sr(e)?es:sr.current,i.context=xo(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Wv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xm.enqueueReplaceState(i,i.state,null),Tf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e){try{var r="",n=e;do r+=BI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function rg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Gv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mL=typeof WeakMap=="function"?WeakMap:Map;function ek(t,e,r){r=ti(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Df||(Df=!0,ry=n),Gv(t,e)},r}function tk(t,e,r){r=ti(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Gv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Gv(t,e),typeof n!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function s_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new mL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=NL.bind(null,t,e,r),e.then(t,t))}function o_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ti(-1,1),e.tag=2,Yi(r,e,1))),r.lanes|=1),t)}var pL=pi.ReactCurrentOwner,yr=!1;function or(t,e,r,n){e.child=t===null?kC(e,null,r,n):wo(e,t.child,r,n)}function c_(t,e,r,n,i){r=r.render;var a=e.ref;return so(e,i),n=Kx(t,e,r,n,a,i),r=Qx(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(ft&&r&&$x(e),e.flags|=1,or(t,e,n,i),e.child)}function u_(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!sb(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,rk(t,e,a,n,i)):(t=ef(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mc,r(s,n)&&t.ref===e.ref)return ui(t,e,i)}return e.flags|=1,t=Xi(a,n),t.ref=e.ref,t.return=e,e.child=t}function rk(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Mc(a,n)&&t.ref===e.ref)if(yr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(yr=!0);else return e.lanes=t.lanes,ui(t,e,i)}return qv(t,e,r,n,i)}function nk(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Xs,Tr),Tr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Xs,Tr),Tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,nt(Xs,Tr),Tr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,nt(Xs,Tr),Tr|=n;return or(t,e,i,r),e.child}function ik(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function qv(t,e,r,n,i){var a=Sr(r)?es:sr.current;return a=xo(e,a),so(e,i),r=Kx(t,e,r,n,a,i),n=Qx(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(ft&&n&&$x(e),e.flags|=1,or(t,e,r,i),e.child)}function d_(t,e,r,n,i){if(Sr(r)){var a=!0;Sf(e)}else a=!1;if(so(e,i),e.stateNode===null)Xd(t,e),JC(e,r,n),Vv(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xr(u):(u=Sr(r)?es:sr.current,u=xo(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&a_(e,s,n,u),Ni=!1;var h=e.memoizedState;s.state=h,Tf(e,n,s,i),l=e.memoizedState,o!==n||h!==l||wr.current||Ni?(typeof d=="function"&&(Wv(e,r,d,n),l=e.memoizedState),(o=Ni||i_(e,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,DC(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:on(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Xr(l):(l=Sr(r)?es:sr.current,l=xo(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&a_(e,s,n,l),Ni=!1,h=e.memoizedState,s.state=h,Tf(e,n,s,i);var p=e.memoizedState;o!==f||h!==p||wr.current||Ni?(typeof m=="function"&&(Wv(e,r,m,n),p=e.memoizedState),(u=Ni||i_(e,r,u,n,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Yv(t,e,r,n,a,i)}function Yv(t,e,r,n,i,a){ik(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&QS(e,r,!1),ui(t,e,a);n=e.stateNode,pL.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=wo(e,t.child,null,a),e.child=wo(e,null,o,a)):or(t,e,o,a),e.memoizedState=n.state,i&&QS(e,r,!0),e.child}function ak(t){var e=t.stateNode;e.pendingContext?KS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KS(t,e.context,!1),Vx(t,e.containerInfo)}function f_(t,e,r,n,i){return bo(),Fx(i),e.flags|=256,or(t,e,r,n),e.child}var Kv={dehydrated:null,treeContext:null,retryLane:0};function Qv(t){return{baseLanes:t,cachePool:null,transitions:null}}function sk(t,e,r){var n=e.pendingProps,i=pt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(pt,i&1),t===null)return Hv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Sm(s,n,0,null),t=Ka(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Qv(r),e.memoizedState=Kv,t):Jx(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return gL(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Xi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Xi(o,a):(a=Ka(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?Qv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Kv,n}return a=t.child,t=a.sibling,n=Xi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Jx(t,e){return e=Sm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ud(t,e,r,n){return n!==null&&Fx(n),wo(e,t.child,null,r),t=Jx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gL(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=rg(Error(te(422))),ud(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Sm({mode:"visible",children:n.children},i,0,null),a=Ka(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&wo(e,t.child,null,s),e.child.memoizedState=Qv(s),e.memoizedState=Kv,a);if(!(e.mode&1))return ud(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(te(419)),n=rg(a,n,void 0),ud(t,e,s,n)}if(o=(s&t.childLanes)!==0,yr||o){if(n=Ft,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ci(t,i),vn(n,t,i,-1))}return ab(),n=rg(Error(te(421))),ud(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CL.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,kr=qi(i.nextSibling),Dr=e,ft=!0,fn=null,t!==null&&(zr[Wr++]=Kn,zr[Wr++]=Qn,zr[Wr++]=ts,Kn=t.id,Qn=t.overflow,ts=e),e=Jx(e,n.children),e.flags|=4096,e)}function h_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zv(t.return,e,r)}function ng(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function ok(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(or(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,r,e);else if(t.tag===19)h_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nt(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Nf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ng(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ng(e,!0,r,null,a);break;case"together":ng(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=Xi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vL(t,e,r){switch(e.tag){case 3:ak(e),bo();break;case 5:PC(e);break;case 1:Sr(e.type)&&Sf(e);break;case 4:Vx(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;nt(jf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nt(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?sk(t,e,r):(nt(pt,pt.current&1),t=ui(t,e,r),t!==null?t.sibling:null);nt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ok(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,nk(t,e,r)}return ui(t,e,r)}var lk,Xv,ck,uk;lk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xv=function(){};ck=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ba(On.current);var a=null;switch(r){case"input":i=xv(t,i),n=xv(t,n),a=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),a=[];break;case"textarea":i=Sv(t,i),n=Sv(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=bf)}Ev(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};uk=function(t,e,r,n){r!==n&&(e.flags|=4)};function Dl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function yL(t,e,r){var n=e.pendingProps;switch(Lx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Sr(e.type)&&wf(),Zt(e),null;case 3:return n=e.stateNode,So(),dt(wr),dt(sr),qx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(ay(fn),fn=null))),Xv(t,e),Zt(e),null;case 5:Gx(e);var i=Ba(Fc.current);if(r=e.type,t!==null&&e.stateNode!=null)ck(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Zt(e),null}if(t=Ba(On.current),ld(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[An]=e,n[$c]=a,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<ec.length;i++)lt(ec[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":SS(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":ES(n,a),lt("invalid",n)}Ev(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&od(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&od(n.textContent,o,t),i=["children",""+o]):Tc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&lt("scroll",n)}switch(r){case"input":Ju(n),_S(n,a,!0);break;case"textarea":Ju(n),jS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=bf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[An]=e,t[$c]=n,lk(t,e,!1,!1),e.stateNode=t;e:{switch(s=jv(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<ec.length;i++)lt(ec[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":SS(t,n),i=xv(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":ES(t,n),i=Sv(t,n),lt("invalid",t);break;default:i=n}Ev(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?BN(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FN(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Nc(t,l):typeof l=="number"&&Nc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&lt("scroll",t):l!=null&&_x(t,a,l,s))}switch(r){case"input":Ju(t),_S(t,n,!1);break;case"textarea":Ju(t),jS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+na(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?ro(t,!!n.multiple,a,!1):n.defaultValue!=null&&ro(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)uk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Ba(Fc.current),Ba(On.current),ld(e)){if(n=e.stateNode,r=e.memoizedProps,n[An]=e,(a=n.nodeValue!==r)&&(t=Dr,t!==null))switch(t.tag){case 3:od(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[An]=e,e.stateNode=n}return Zt(e),null;case 13:if(dt(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&kr!==null&&e.mode&1&&!(e.flags&128))NC(),bo(),e.flags|=98560,a=!1;else if(a=ld(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[An]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),a=!1}else fn!==null&&(ay(fn),fn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Dt===0&&(Dt=3):ab())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return So(),Xv(t,e),t===null&&Rc(e.stateNode.containerInfo),Zt(e),null;case 10:return Hx(e.type._context),Zt(e),null;case 17:return Sr(e.type)&&wf(),Zt(e),null;case 19:if(dt(pt),a=e.memoizedState,a===null)return Zt(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Dl(a,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Nf(t),s!==null){for(e.flags|=128,Dl(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nt(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&St()>Eo&&(e.flags|=128,n=!0,Dl(a,!1),e.lanes=4194304)}else{if(!n)if(t=Nf(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Dl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ft)return Zt(e),null}else 2*St()-a.renderingStartTime>Eo&&r!==1073741824&&(e.flags|=128,n=!0,Dl(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=St(),e.sibling=null,r=pt.current,nt(pt,n?r&1|2:r&1),e):(Zt(e),null);case 22:case 23:return ib(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Tr&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function xL(t,e){switch(Lx(e),e.tag){case 1:return Sr(e.type)&&wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),dt(wr),dt(sr),qx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gx(e),null;case 13:if(dt(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(pt),null;case 4:return So(),null;case 10:return Hx(e.type._context),null;case 22:case 23:return ib(),null;case 24:return null;default:return null}}var dd=!1,er=!1,bL=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Qs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(t,e,n)}else r.current=null}function Zv(t,e,r){try{r()}catch(n){bt(t,e,n)}}var m_=!1;function wL(t,e){if(Rv=vf,t=pC(),Ix(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Iv={focusedElem:t,selectionRange:r},vf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:on(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(_){bt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return p=m_,m_=!1,p}function hc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Zv(e,r,a)}i=i.next}while(i!==n)}}function bm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dk(t){var e=t.alternate;e!==null&&(t.alternate=null,dk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[$c],delete e[Fv],delete e[nL],delete e[iL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fk(t){return t.tag===5||t.tag===3||t.tag===4}function p_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ey(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=bf));else if(n!==4&&(t=t.child,t!==null))for(ey(t,e,r),t=t.sibling;t!==null;)ey(t,e,r),t=t.sibling}function ty(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ty(t,e,r),t=t.sibling;t!==null;)ty(t,e,r),t=t.sibling}var Wt=null,ln=!1;function _i(t,e,r){for(r=r.child;r!==null;)hk(t,e,r),r=r.sibling}function hk(t,e,r){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(fm,r)}catch{}switch(r.tag){case 5:er||Qs(r,e);case 6:var n=Wt,i=ln;Wt=null,_i(t,e,r),Wt=n,ln=i,Wt!==null&&(ln?(t=Wt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Wt.removeChild(r.stateNode));break;case 18:Wt!==null&&(ln?(t=Wt,r=r.stateNode,t.nodeType===8?Qp(t.parentNode,r):t.nodeType===1&&Qp(t,r),Dc(t)):Qp(Wt,r.stateNode));break;case 4:n=Wt,i=ln,Wt=r.stateNode.containerInfo,ln=!0,_i(t,e,r),Wt=n,ln=i;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Zv(r,e,s),i=i.next}while(i!==n)}_i(t,e,r);break;case 1:if(!er&&(Qs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){bt(r,e,o)}_i(t,e,r);break;case 21:_i(t,e,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,_i(t,e,r),er=n):_i(t,e,r);break;default:_i(t,e,r)}}function g_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new bL),e.forEach(function(n){var i=kL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function rn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Wt=o.stateNode,ln=!1;break e;case 3:Wt=o.stateNode.containerInfo,ln=!0;break e;case 4:Wt=o.stateNode.containerInfo,ln=!0;break e}o=o.return}if(Wt===null)throw Error(te(160));hk(a,s,i),Wt=null,ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mk(e,t),e=e.sibling}function mk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),Sn(t),n&4){try{hc(3,t,t.return),bm(3,t)}catch(g){bt(t,t.return,g)}try{hc(5,t,t.return)}catch(g){bt(t,t.return,g)}}break;case 1:rn(e,t),Sn(t),n&512&&r!==null&&Qs(r,r.return);break;case 5:if(rn(e,t),Sn(t),n&512&&r!==null&&Qs(r,r.return),t.flags&32){var i=t.stateNode;try{Nc(i,"")}catch(g){bt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&IN(i,a),jv(o,s);var u=jv(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?BN(i,f):d==="dangerouslySetInnerHTML"?FN(i,f):d==="children"?Nc(i,f):_x(i,d,f,u)}switch(o){case"input":bv(i,a);break;case"textarea":$N(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ro(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?ro(i,!!a.multiple,a.defaultValue,!0):ro(i,!!a.multiple,a.multiple?[]:"",!1))}i[$c]=a}catch(g){bt(t,t.return,g)}}break;case 6:if(rn(e,t),Sn(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){bt(t,t.return,g)}}break;case 3:if(rn(e,t),Sn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(g){bt(t,t.return,g)}break;case 4:rn(e,t),Sn(t);break;case 13:rn(e,t),Sn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(rb=St())),n&4&&g_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(er=(u=er)||d,rn(e,t),er=u):rn(e,t),Sn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(f=ge=d;ge!==null;){switch(h=ge,m=h.child,h.tag){case 0:case 11:case 14:case 15:hc(4,h,h.return);break;case 1:Qs(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){bt(n,r,g)}}break;case 5:Qs(h,h.return);break;case 22:if(h.memoizedState!==null){y_(f);continue}}m!==null?(m.return=h,ge=m):y_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=UN("display",s))}catch(g){bt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){bt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rn(e,t),Sn(t),n&4&&g_(t);break;case 21:break;default:rn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(fk(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Nc(i,""),n.flags&=-33);var a=p_(t);ty(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=p_(t);ey(t,o,s);break;default:throw Error(te(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SL(t,e,r){ge=t,pk(t)}function pk(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||dd;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||er;o=dd;var u=er;if(dd=s,(er=l)&&!u)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?x_(i):l!==null?(l.return=s,ge=l):x_(i);for(;a!==null;)ge=a,pk(a),a=a.sibling;ge=i,dd=o,er=u}v_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ge=a):v_(t)}}function v_(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:er||bm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!er)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:on(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&t_(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}t_(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}er||e.flags&512&&Jv(e)}catch(h){bt(e,e.return,h)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function y_(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function x_(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bm(4,e)}catch(l){bt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){bt(e,i,l)}}var a=e.return;try{Jv(e)}catch(l){bt(e,a,l)}break;case 5:var s=e.return;try{Jv(e)}catch(l){bt(e,s,l)}}}catch(l){bt(e,e.return,l)}if(e===t){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var _L=Math.ceil,Of=pi.ReactCurrentDispatcher,eb=pi.ReactCurrentOwner,Yr=pi.ReactCurrentBatchConfig,$e=0,Ft=null,At=null,Yt=0,Tr=0,Xs=ua(0),Dt=0,zc=null,ns=0,wm=0,tb=0,mc=null,gr=null,rb=0,Eo=1/0,Vn=null,Df=!1,ry=null,Ki=null,fd=!1,$i=null,Pf=0,pc=0,ny=null,Zd=-1,Jd=0;function cr(){return $e&6?St():Zd!==-1?Zd:Zd=St()}function Qi(t){return t.mode&1?$e&2&&Yt!==0?Yt&-Yt:sL.transition!==null?(Jd===0&&(Jd=JN()),Jd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:sC(t.type)),t):1}function vn(t,e,r,n){if(50<pc)throw pc=0,ny=null,Error(te(185));Du(t,r,n),(!($e&2)||t!==Ft)&&(t===Ft&&(!($e&2)&&(wm|=r),Dt===4&&Pi(t,Yt)),_r(t,n),r===1&&$e===0&&!(e.mode&1)&&(Eo=St()+500,vm&&da()))}function _r(t,e){var r=t.callbackNode;s$(t,e);var n=gf(t,t===Ft?Yt:0);if(n===0)r!==null&&NS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&NS(r),e===1)t.tag===0?aL(b_.bind(null,t)):jC(b_.bind(null,t)),tL(function(){!($e&6)&&da()}),r=null;else{switch(eC(n)){case 1:r=Nx;break;case 4:r=XN;break;case 16:r=pf;break;case 536870912:r=ZN;break;default:r=pf}r=_k(r,gk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gk(t,e){if(Zd=-1,Jd=0,$e&6)throw Error(te(327));var r=t.callbackNode;if(oo()&&t.callbackNode!==r)return null;var n=gf(t,t===Ft?Yt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mf(t,n);else{e=n;var i=$e;$e|=2;var a=yk();(Ft!==t||Yt!==e)&&(Vn=null,Eo=St()+500,Ya(t,e));do try{AL();break}catch(o){vk(t,o)}while(1);Bx(),Of.current=a,$e=i,At!==null?e=0:(Ft=null,Yt=0,e=Dt)}if(e!==0){if(e===2&&(i=kv(t),i!==0&&(n=i,e=iy(t,i))),e===1)throw r=zc,Ya(t,0),Pi(t,n),_r(t,St()),r;if(e===6)Pi(t,n);else{if(i=t.current.alternate,!(n&30)&&!EL(i)&&(e=Mf(t,n),e===2&&(a=kv(t),a!==0&&(n=a,e=iy(t,a))),e===1))throw r=zc,Ya(t,0),Pi(t,n),_r(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:Na(t,gr,Vn);break;case 3:if(Pi(t,n),(n&130023424)===n&&(e=rb+500-St(),10<e)){if(gf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lv(Na.bind(null,t,gr,Vn),e);break}Na(t,gr,Vn);break;case 4:if(Pi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-gn(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_L(n/1960))-n,10<n){t.timeoutHandle=Lv(Na.bind(null,t,gr,Vn),n);break}Na(t,gr,Vn);break;case 5:Na(t,gr,Vn);break;default:throw Error(te(329))}}}return _r(t,St()),t.callbackNode===r?gk.bind(null,t):null}function iy(t,e){var r=mc;return t.current.memoizedState.isDehydrated&&(Ya(t,e).flags|=256),t=Mf(t,e),t!==2&&(e=gr,gr=r,e!==null&&ay(e)),t}function ay(t){gr===null?gr=t:gr.push.apply(gr,t)}function EL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!yn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pi(t,e){for(e&=~tb,e&=~wm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gn(e),n=1<<r;t[r]=-1,e&=~n}}function b_(t){if($e&6)throw Error(te(327));oo();var e=gf(t,0);if(!(e&1))return _r(t,St()),null;var r=Mf(t,e);if(t.tag!==0&&r===2){var n=kv(t);n!==0&&(e=n,r=iy(t,n))}if(r===1)throw r=zc,Ya(t,0),Pi(t,e),_r(t,St()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,gr,Vn),_r(t,St()),null}function nb(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(Eo=St()+500,vm&&da())}}function is(t){$i!==null&&$i.tag===0&&!($e&6)&&oo();var e=$e;$e|=1;var r=Yr.transition,n=Ve;try{if(Yr.transition=null,Ve=1,t)return t()}finally{Ve=n,Yr.transition=r,$e=e,!($e&6)&&da()}}function ib(){Tr=Xs.current,dt(Xs)}function Ya(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,eL(r)),At!==null)for(r=At.return;r!==null;){var n=r;switch(Lx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wf();break;case 3:So(),dt(wr),dt(sr),qx();break;case 5:Gx(n);break;case 4:So();break;case 13:dt(pt);break;case 19:dt(pt);break;case 10:Hx(n.type._context);break;case 22:case 23:ib()}r=r.return}if(Ft=t,At=t=Xi(t.current,null),Yt=Tr=e,Dt=0,zc=null,tb=wm=ns=0,gr=mc=null,Ua!==null){for(e=0;e<Ua.length;e++)if(r=Ua[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ua=null}return t}function vk(t,e){do{var r=At;try{if(Bx(),Kd.current=kf,Cf){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Cf=!1}if(rs=0,Lt=Ot=vt=null,fc=!1,Uc=0,eb.current=null,r===null||r.return===null){Dt=1,zc=e,At=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Yt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=o_(s);if(m!==null){m.flags&=-257,l_(m,s,o,a,e),m.mode&1&&s_(a,u,e),e=m,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){s_(a,u,e),ab();break e}l=Error(te(426))}}else if(ft&&o.mode&1){var v=o_(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),l_(v,s,o,a,e),Fx(_o(l,o));break e}}a=l=_o(l,o),Dt!==4&&(Dt=2),mc===null?mc=[a]:mc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=ek(a,l,e);e_(a,x);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ki===null||!Ki.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=tk(a,o,e);e_(a,_);break e}}a=a.return}while(a!==null)}bk(r)}catch(w){e=w,At===r&&r!==null&&(At=r=r.return);continue}break}while(1)}function yk(){var t=Of.current;return Of.current=kf,t===null?kf:t}function ab(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(ns&268435455)&&!(wm&268435455)||Pi(Ft,Yt)}function Mf(t,e){var r=$e;$e|=2;var n=yk();(Ft!==t||Yt!==e)&&(Vn=null,Ya(t,e));do try{jL();break}catch(i){vk(t,i)}while(1);if(Bx(),$e=r,Of.current=n,At!==null)throw Error(te(261));return Ft=null,Yt=0,Dt}function jL(){for(;At!==null;)xk(At)}function AL(){for(;At!==null&&!XI();)xk(At)}function xk(t){var e=Sk(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?bk(t):At=e,eb.current=null}function bk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xL(r,e),r!==null){r.flags&=32767,At=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,At=null;return}}else if(r=yL(r,e,Tr),r!==null){At=r;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Dt===0&&(Dt=5)}function Na(t,e,r){var n=Ve,i=Yr.transition;try{Yr.transition=null,Ve=1,TL(t,e,r,n)}finally{Yr.transition=i,Ve=n}return null}function TL(t,e,r,n){do oo();while($i!==null);if($e&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(o$(t,a),t===Ft&&(At=Ft=null,Yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fd||(fd=!0,_k(pf,function(){return oo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Yr.transition,Yr.transition=null;var s=Ve;Ve=1;var o=$e;$e|=4,eb.current=null,wL(t,r),mk(r,t),q$(Iv),vf=!!Rv,Iv=Rv=null,t.current=r,SL(r),ZI(),$e=o,Ve=s,Yr.transition=a}else t.current=r;if(fd&&(fd=!1,$i=t,Pf=i),a=t.pendingLanes,a===0&&(Ki=null),t$(r.stateNode),_r(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Df)throw Df=!1,t=ry,ry=null,t;return Pf&1&&t.tag!==0&&oo(),a=t.pendingLanes,a&1?t===ny?pc++:(pc=0,ny=t):pc=0,da(),null}function oo(){if($i!==null){var t=eC(Pf),e=Yr.transition,r=Ve;try{if(Yr.transition=null,Ve=16>t?16:t,$i===null)var n=!1;else{if(t=$i,$i=null,Pf=0,$e&6)throw Error(te(331));var i=$e;for($e|=4,ge=t.current;ge!==null;){var a=ge,s=a.child;if(ge.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:hc(8,d,a)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var h=d.sibling,m=d.return;if(dk(d),d===u){ge=null;break}if(h!==null){h.return=m,ge=h;break}ge=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ge=s;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ge=x;break e}ge=a.return}}var y=t.current;for(ge=y;ge!==null;){s=ge;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ge=b;else e:for(s=y;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bm(9,o)}}catch(w){bt(o,o.return,w)}if(o===s){ge=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,ge=_;break e}ge=o.return}}if($e=i,da(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(fm,t)}catch{}n=!0}return n}finally{Ve=r,Yr.transition=e}}return!1}function w_(t,e,r){e=_o(r,e),e=ek(t,e,1),t=Yi(t,e,1),e=cr(),t!==null&&(Du(t,1,e),_r(t,e))}function bt(t,e,r){if(t.tag===3)w_(t,t,r);else for(;e!==null;){if(e.tag===3){w_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ki===null||!Ki.has(n))){t=_o(r,t),t=tk(e,t,1),e=Yi(e,t,1),t=cr(),e!==null&&(Du(e,1,t),_r(e,t));break}}e=e.return}}function NL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&r,Ft===t&&(Yt&r)===r&&(Dt===4||Dt===3&&(Yt&130023424)===Yt&&500>St()-rb?Ya(t,0):tb|=r),_r(t,e)}function wk(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var r=cr();t=ci(t,e),t!==null&&(Du(t,e,r),_r(t,r))}function CL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),wk(t,r)}function kL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),wk(t,r)}var Sk;Sk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wr.current)yr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return yr=!1,vL(t,e,r);yr=!!(t.flags&131072)}else yr=!1,ft&&e.flags&1048576&&AC(e,Ef,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Xd(t,e),t=e.pendingProps;var i=xo(e,sr.current);so(e,r),i=Kx(null,e,n,t,i,r);var a=Qx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(n)?(a=!0,Sf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wx(e),i.updater=xm,e.stateNode=i,i._reactInternals=e,Vv(e,n,t,r),e=Yv(null,e,n,!0,a,r)):(e.tag=0,ft&&a&&$x(e),or(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=DL(n),t=on(n,t),i){case 0:e=qv(null,e,n,t,r);break e;case 1:e=d_(null,e,n,t,r);break e;case 11:e=c_(null,e,n,t,r);break e;case 14:e=u_(null,e,n,on(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),qv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),d_(t,e,n,i,r);case 3:e:{if(ak(e),t===null)throw Error(te(387));n=e.pendingProps,a=e.memoizedState,i=a.element,DC(t,e),Tf(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=_o(Error(te(423)),e),e=f_(t,e,n,r,i);break e}else if(n!==i){i=_o(Error(te(424)),e),e=f_(t,e,n,r,i);break e}else for(kr=qi(e.stateNode.containerInfo.firstChild),Dr=e,ft=!0,fn=null,r=kC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bo(),n===i){e=ui(t,e,r);break e}or(t,e,n,r)}e=e.child}return e;case 5:return PC(e),t===null&&Hv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,$v(n,i)?s=null:a!==null&&$v(n,a)&&(e.flags|=32),ik(t,e),or(t,e,s,r),e.child;case 6:return t===null&&Hv(e),null;case 13:return sk(t,e,r);case 4:return Vx(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wo(e,null,n,r):or(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),c_(t,e,n,i,r);case 7:return or(t,e,e.pendingProps,r),e.child;case 8:return or(t,e,e.pendingProps.children,r),e.child;case 12:return or(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,nt(jf,n._currentValue),n._currentValue=s,a!==null)if(yn(a.value,s)){if(a.children===i.children&&!wr.current){e=ui(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ti(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),zv(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(te(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),zv(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}or(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,so(e,r),i=Xr(i),n=n(i),e.flags|=1,or(t,e,n,r),e.child;case 14:return n=e.type,i=on(n,e.pendingProps),i=on(n.type,i),u_(t,e,n,i,r);case 15:return rk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),Xd(t,e),e.tag=1,Sr(n)?(t=!0,Sf(e)):t=!1,so(e,r),JC(e,n,i),Vv(e,n,i,r),Yv(null,e,n,!0,t,r);case 19:return ok(t,e,r);case 22:return nk(t,e,r)}throw Error(te(156,e.tag))};function _k(t,e){return QN(t,e)}function OL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,r,n){return new OL(t,e,r,n)}function sb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DL(t){if(typeof t=="function")return sb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jx)return 11;if(t===Ax)return 14}return 2}function Xi(t,e){var r=t.alternate;return r===null?(r=Gr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ef(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")sb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bs:return Ka(r.children,i,a,e);case Ex:s=8,i|=8;break;case pv:return t=Gr(12,r,e,i|2),t.elementType=pv,t.lanes=a,t;case gv:return t=Gr(13,r,e,i),t.elementType=gv,t.lanes=a,t;case vv:return t=Gr(19,r,e,i),t.elementType=vv,t.lanes=a,t;case PN:return Sm(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ON:s=10;break e;case DN:s=9;break e;case jx:s=11;break e;case Ax:s=14;break e;case Ti:s=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Gr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ka(t,e,r,n){return t=Gr(7,t,n,e),t.lanes=r,t}function Sm(t,e,r,n){return t=Gr(22,t,n,e),t.elementType=PN,t.lanes=r,t.stateNode={isHidden:!1},t}function ig(t,e,r){return t=Gr(6,t,null,e),t.lanes=r,t}function ag(t,e,r){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fp(0),this.expirationTimes=Fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ob(t,e,r,n,i,a,s,o,l){return t=new PL(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Gr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wx(a),t}function ML(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ek(t){if(!t)return ia;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Sr(r))return EC(t,r,e)}return e}function jk(t,e,r,n,i,a,s,o,l){return t=ob(r,n,!0,t,i,a,s,o,l),t.context=Ek(null),r=t.current,n=cr(),i=Qi(r),a=ti(n,i),a.callback=e??null,Yi(r,a,i),t.current.lanes=i,Du(t,i,n),_r(t,n),t}function _m(t,e,r,n){var i=e.current,a=cr(),s=Qi(i);return r=Ek(r),e.context===null?e.context=r:e.pendingContext=r,e=ti(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Yi(i,e,s),t!==null&&(vn(t,i,s,a),Yd(t,i,s)),s}function Rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function lb(t,e){S_(t,e),(t=t.alternate)&&S_(t,e)}function RL(){return null}var Ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function cb(t){this._internalRoot=t}Em.prototype.render=cb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));_m(t,e,null,null)};Em.prototype.unmount=cb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;is(function(){_m(null,t,null,null)}),e[li]=null}};function Em(t){this._internalRoot=t}Em.prototype.unstable_scheduleHydration=function(t){if(t){var e=nC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Di.length&&e!==0&&e<Di[r].priority;r++);Di.splice(r,0,t),r===0&&aC(t)}};function ub(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function __(){}function IL(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Rf(s);a.call(u)}}var s=jk(e,n,t,0,null,!1,!1,"",__);return t._reactRootContainer=s,t[li]=s.current,Rc(t.nodeType===8?t.parentNode:t),is(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Rf(l);o.call(u)}}var l=ob(t,0,!1,null,null,!1,!1,"",__);return t._reactRootContainer=l,t[li]=l.current,Rc(t.nodeType===8?t.parentNode:t),is(function(){_m(e,l,r,n)}),l}function Am(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Rf(s);o.call(l)}}_m(e,s,t,i)}else s=IL(r,e,t,i,n);return Rf(s)}tC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Jl(e.pendingLanes);r!==0&&(Cx(e,r|1),_r(e,St()),!($e&6)&&(Eo=St()+500,da()))}break;case 13:is(function(){var n=ci(t,1);if(n!==null){var i=cr();vn(n,t,1,i)}}),lb(t,1)}};kx=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var r=cr();vn(e,t,134217728,r)}lb(t,134217728)}};rC=function(t){if(t.tag===13){var e=Qi(t),r=ci(t,e);if(r!==null){var n=cr();vn(r,t,e,n)}lb(t,e)}};nC=function(){return Ve};iC=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};Tv=function(t,e,r){switch(e){case"input":if(bv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=gm(n);if(!i)throw Error(te(90));RN(n),bv(n,i)}}}break;case"textarea":$N(t,r);break;case"select":e=r.value,e!=null&&ro(t,!!r.multiple,e,!1)}};WN=nb;VN=is;var $L={usingClientEntryPoint:!1,Events:[Mu,Vs,gm,HN,zN,nb]},Pl={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LL={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YN(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||RL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{fm=hd.inject(LL),kn=hd}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$L;Ir.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ub(e))throw Error(te(200));return ML(t,e,null,r)};Ir.createRoot=function(t,e){if(!ub(t))throw Error(te(299));var r=!1,n="",i=Ak;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ob(t,1,!1,null,null,r,!1,n,i),t[li]=e.current,Rc(t.nodeType===8?t.parentNode:t),new cb(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=YN(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return is(t)};Ir.hydrate=function(t,e,r){if(!jm(e))throw Error(te(200));return Am(null,t,e,!0,r)};Ir.hydrateRoot=function(t,e,r){if(!ub(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Ak;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=jk(e,null,t,1,r??null,i,!1,a,s),t[li]=e.current,Rc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Em(e)};Ir.render=function(t,e,r){if(!jm(e))throw Error(te(200));return Am(null,t,e,!1,r)};Ir.unmountComponentAtNode=function(t){if(!jm(t))throw Error(te(40));return t._reactRootContainer?(is(function(){Am(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Ir.unstable_batchedUpdates=nb;Ir.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!jm(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Am(t,e,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function Tk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tk)}catch(t){console.error(t)}}Tk(),TN.exports=Ir;var If=TN.exports,E_=If;hv.createRoot=E_.createRoot,hv.hydrateRoot=E_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wc.apply(this,arguments)}var Li;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Li||(Li={}));const j_="popstate";function FL(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return sy("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:$f(i)}return BL(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UL(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,r,n){return r===void 0&&(r=null),Wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:r,key:e&&e.key||n||UL()})}function $f(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function il(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function BL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Li.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Wc({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Li.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:x})}function h(v,x){o=Li.Push;let y=sy(g.location,v,x);r&&r(y,v),u=d()+1;let b=A_(y,u),_=g.createHref(y);try{s.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&l&&l({action:o,location:g.location,delta:1})}function m(v,x){o=Li.Replace;let y=sy(g.location,v,x);r&&r(y,v),u=d();let b=A_(y,u),_=g.createHref(y);s.replaceState(b,"",_),a&&l&&l({action:o,location:g.location,delta:0})}function p(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:$f(v);return y=y.replace(/ $/,"%20"),_t(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(j_,f),l=v,()=>{i.removeEventListener(j_,f),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return s.go(v)}};return g}var T_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T_||(T_={}));function HL(t,e,r){return r===void 0&&(r="/"),zL(t,e,r,!1)}function zL(t,e,r,n){let i=typeof e=="string"?il(e):e,a=db(i.pathname||"/",r);if(a==null)return null;let s=Ck(t);WL(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=t4(a);o=JL(s[l],u,n)}return o}function Ck(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Zi([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ck(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:XL(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of kk(a.path))i(a,s,l)}),e}function kk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=kk(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function WL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ZL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const VL=/^:[\w-]+$/,GL=3,qL=2,YL=1,KL=10,QL=-2,N_=t=>t==="*";function XL(t,e){let r=t.split("/"),n=r.length;return r.some(N_)&&(n+=QL),e&&(n+=qL),r.filter(i=>!N_(i)).reduce((i,a)=>i+(VL.test(a)?GL:a===""?YL:KL),n)}function ZL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function JL(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=C_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=C_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Zi([a,f.pathname]),pathnameBase:a4(Zi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Zi([a,f.pathnameBase]))}return s}function C_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=e4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function e4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Nk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function t4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function db(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function r4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?il(t):t;return{pathname:r?r.startsWith("/")?r:n4(r,e):e,search:s4(n),hash:o4(i)}}function n4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function sg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function fb(t,e){let r=i4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=il(t):(i=Wc({},t),_t(!i.pathname||!i.pathname.includes("?"),sg("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),sg("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),sg("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=r4(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),a4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function l4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ok=["post","put","patch","delete"];new Set(Ok);const c4=["get",...Ok];new Set(c4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vc.apply(this,arguments)}const mb=C.createContext(null),u4=C.createContext(null),fa=C.createContext(null),Tm=C.createContext(null),ha=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Dk=C.createContext(null);function d4(t,e){let{relative:r}=e===void 0?{}:e;al()||_t(!1);let{basename:n,navigator:i}=C.useContext(fa),{hash:a,pathname:s,search:o}=Rk(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Zi([n,s])),i.createHref({pathname:l,search:o,hash:a})}function al(){return C.useContext(Tm)!=null}function sl(){return al()||_t(!1),C.useContext(Tm).location}function Pk(t){C.useContext(fa).static||C.useLayoutEffect(t)}function Mk(){let{isDataRoute:t}=C.useContext(ha);return t?E4():f4()}function f4(){al()||_t(!1);let t=C.useContext(mb),{basename:e,future:r,navigator:n}=C.useContext(fa),{matches:i}=C.useContext(ha),{pathname:a}=sl(),s=JSON.stringify(fb(i,r.v7_relativeSplatPath)),o=C.useRef(!1);return Pk(()=>{o.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=hb(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Zi([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function Rk(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(fa),{matches:i}=C.useContext(ha),{pathname:a}=sl(),s=JSON.stringify(fb(i,n.v7_relativeSplatPath));return C.useMemo(()=>hb(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function h4(t,e){return m4(t,e)}function m4(t,e,r,n){al()||_t(!1);let{navigator:i}=C.useContext(fa),{matches:a}=C.useContext(ha),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=sl(),d;if(e){var f;let v=typeof e=="string"?il(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||_t(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=HL(t,{pathname:m}),g=x4(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Zi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Zi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&g?C.createElement(Tm.Provider,{value:{location:Vc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Li.Pop}},g):g}function p4(){let t=_4(),e=l4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,a)}const g4=C.createElement(p4,null);class v4 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(ha.Provider,{value:this.props.routeContext},C.createElement(Dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y4(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(mb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ha.Provider,{value:e},n)}function x4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_t(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,p=!1,g=null,v=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||g4,l&&(u<0&&h===0?(j4("route-fallback",!1),p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return m?b=g:p?b=v:f.route.Component?b=C.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,C.createElement(y4,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(v4,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var Ik=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ik||{}),Lf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lf||{});function b4(t){let e=C.useContext(mb);return e||_t(!1),e}function w4(t){let e=C.useContext(u4);return e||_t(!1),e}function S4(t){let e=C.useContext(ha);return e||_t(!1),e}function $k(t){let e=S4(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function _4(){var t;let e=C.useContext(Dk),r=w4(Lf.UseRouteError),n=$k(Lf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function E4(){let{router:t}=b4(Ik.UseNavigateStable),e=$k(Lf.UseNavigateStable),r=C.useRef(!1);return Pk(()=>{r.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vc({fromRouteId:e},a)))},[t,e])}const k_={};function j4(t,e,r){!e&&!k_[t]&&(k_[t]=!0)}function A4(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function T4(t){let{to:e,replace:r,state:n,relative:i}=t;al()||_t(!1);let{future:a,static:s}=C.useContext(fa),{matches:o}=C.useContext(ha),{pathname:l}=sl(),u=Mk(),d=hb(e,fb(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function pr(t){_t(!1)}function N4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Li.Pop,navigator:a,static:s=!1,future:o}=t;al()&&_t(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:a,static:s,future:Vc({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=il(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=C.useMemo(()=>{let v=db(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:i}},[l,d,f,h,m,p,i]);return g==null?null:C.createElement(fa.Provider,{value:u},C.createElement(Tm.Provider,{children:r,value:g}))}function C4(t){let{children:e,location:r}=t;return h4(oy(e),r)}new Promise(()=>{});function oy(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let a=[...e,i];if(n.type===C.Fragment){r.push.apply(r,oy(n.props.children,a));return}n.type!==pr&&_t(!1),!n.props.index||!n.props.children||_t(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=oy(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ly.apply(this,arguments)}function k4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function O4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D4(t,e){return t.button===0&&(!e||e==="_self")&&!O4(t)}const P4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],M4="6";try{window.__reactRouterVersion=M4}catch{}const R4="startTransition",O_=NI[R4];function I4(t){let{basename:e,children:r,future:n,window:i}=t,a=C.useRef();a.current==null&&(a.current=FL({window:i,v5Compat:!0}));let s=a.current,[o,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=C.useCallback(f=>{u&&O_?O_(()=>l(f)):l(f)},[l,u]);return C.useLayoutEffect(()=>s.listen(d),[s,d]),C.useEffect(()=>A4(n),[n]),C.createElement(N4,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const $4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cs=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=k4(e,P4),{basename:m}=C.useContext(fa),p,g=!1;if(typeof u=="string"&&L4.test(u)&&(p=u,$4))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=db(_.pathname,m);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:g=!0}catch{}let v=d4(u,{relative:i}),x=F4(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||x(b)}return C.createElement("a",ly({},h,{href:p||v,onClick:g||a?n:y,ref:r,target:l}))});var D_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D_||(D_={}));var P_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P_||(P_={}));function F4(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Mk(),u=sl(),d=Rk(t,{relative:s});return C.useCallback(f=>{if(D4(f,r)){f.preventDefault();let h=n!==void 0?n:$f(u)===$f(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}const U4="modulepreload",B4=function(t){return"/scrub-shop-road-app/"+t},M_={},Ji=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=B4(a),a in M_)return;M_[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":U4,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},H4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ji(()=>Promise.resolve().then(()=>ol),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Nm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Lk extends Nm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cy extends Nm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uy extends Nm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ff;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ff||(Ff={}));var z4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class W4{constructor(e,{headers:r={},customFetch:n,region:i=Ff.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=H4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return z4(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new Lk(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new cy(f);if(!f.ok)throw new uy(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof uy||i instanceof cy?i.context:void 0}}})}}var vr={},pb={},Cm={},Iu={},km={},Om={},V4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jo=V4();const G4=jo.fetch,Fk=jo.fetch.bind(jo),Uk=jo.Headers,q4=jo.Request,Y4=jo.Response,ol=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uk,Request:q4,Response:Y4,default:Fk,fetch:G4},Symbol.toStringTag,{value:"Module"})),K4=fI(ol);var Dm={};Object.defineProperty(Dm,"__esModule",{value:!0});let Q4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Dm.default=Q4;var Bk=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Om,"__esModule",{value:!0});const X4=Bk(K4),Z4=Bk(Dm);let J4=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=X4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let u=null,d=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,m="OK")}catch{a.status===404&&g===""?(h=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new Z4.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Om.default=J4;var e3=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(km,"__esModule",{value:!0});const t3=e3(Om);let r3=class extends t3.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};km.default=r3;var n3=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Iu,"__esModule",{value:!0});const i3=n3(km);let a3=class extends i3.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Iu.default=a3;var s3=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cm,"__esModule",{value:!0});const Ml=s3(Iu);let o3=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new Ml.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ml.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ml.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Ml.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ml.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Cm.default=o3;var Pm={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.version=void 0;Mm.version="0.0.0-automated";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.DEFAULT_HEADERS=void 0;const l3=Mm;Pm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${l3.version}`};var Hk=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pb,"__esModule",{value:!0});const c3=Hk(Cm),u3=Hk(Iu),d3=Pm;let f3=class zk{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},d3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new c3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zk(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new u3.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};pb.default=f3;var ll=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});vr.PostgrestError=vr.PostgrestBuilder=vr.PostgrestTransformBuilder=vr.PostgrestFilterBuilder=vr.PostgrestQueryBuilder=vr.PostgrestClient=void 0;const Wk=ll(pb);vr.PostgrestClient=Wk.default;const Vk=ll(Cm);vr.PostgrestQueryBuilder=Vk.default;const Gk=ll(Iu);vr.PostgrestFilterBuilder=Gk.default;const qk=ll(km);vr.PostgrestTransformBuilder=qk.default;const Yk=ll(Om);vr.PostgrestBuilder=Yk.default;const Kk=ll(Dm);vr.PostgrestError=Kk.default;var h3=vr.default={PostgrestClient:Wk.default,PostgrestQueryBuilder:Vk.default,PostgrestFilterBuilder:Gk.default,PostgrestTransformBuilder:qk.default,PostgrestBuilder:Yk.default,PostgrestError:Kk.default};const{PostgrestClient:m3,PostgrestQueryBuilder:i0e,PostgrestFilterBuilder:a0e,PostgrestTransformBuilder:s0e,PostgrestBuilder:o0e,PostgrestError:p3}=h3;function g3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const v3=g3(),y3="2.11.15",x3=`realtime-js/${y3}`,b3="1.0.0",Qk=1e4,w3=1e3;var gc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gc||(gc={}));var Ht;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ht||(Ht={}));var cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cn||(cn={}));var dy;(function(t){t.websocket="websocket"})(dy||(dy={}));var $a;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($a||($a={}));class S3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Xk{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const R_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=_3(s,t,e,i),a),{})},_3=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?Zk(a,s):fy(s)},Zk=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return T3(e,r)}switch(t){case tt.bool:return E3(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return j3(e);case tt.json:case tt.jsonb:return A3(e);case tt.timestamp:return N3(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return fy(e);default:return fy(e)}},fy=t=>t,E3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},j3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},T3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Zk(e,o))}return t},N3=t=>typeof t=="string"?t.replace(" ","T"):t,Jk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class og{constructor(e,r,n={},i=Qk){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hy||(hy={}));class lo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lo.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=lo.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=lo.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),p=d.filter(v=>m.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(o[u]=p),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var my;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(my||(my={}));var py;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(py||(py={}));var En;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));const C3=Ht;class Rm{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new og(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Xk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new lo(this),this.broadcastEndpointURL=Jk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(En.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(En.CLOSED));const l={},u={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(En.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let g=0;g<m;g++){const v=h[g],{filter:{event:x,schema:y,table:b,filter:_}}=v,w=d&&d[g];if(w&&w.event===x&&w.schema===y&&w.table===b&&w.filter===_)p.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Ht.errored,e==null||e(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(En.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ht.errored,e==null||e(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ht.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new og(this,cn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new og(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=cn;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,g,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var p,g,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const _=m.id,w=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:v,commit_timestamp:x,type:y,errors:b}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Rm.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=R_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=R_(e.columns,e.old_record)),r}}const I_=()=>{},k3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eO{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=I_,this.ref=0,this.logger=I_,this.conn=null,this.sendBuffer=[],this.serializer=new S3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Ji(()=>Promise.resolve().then(()=>ol),void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${dy.websocket}`,this.httpEndpoint=Jk(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=v3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b3}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gc.connecting:return $a.Connecting;case gc.open:return $a.Open;case gc.closing:return $a.Closing;default:return $a.Closed}}isConnected(){return this.connectionState()===$a.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Rm(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:x3};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(cn.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(w3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([k3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class gb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function It(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class O3 extends gb{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gy extends gb{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var D3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const tO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ji(()=>Promise.resolve().then(()=>ol),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},P3=()=>D3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ji(()=>Promise.resolve().then(()=>ol),void 0)).Response:Response}),vy=t=>{if(Array.isArray(t))return t.map(r=>vy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=vy(n)}),e};var vs=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const lg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),M3=(t,e,r)=>vs(void 0,void 0,void 0,function*(){const n=yield P3();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new O3(lg(i),t.status||500))}).catch(i=>{e(new gy(lg(i),i))}):e(new gy(lg(t),t))}),R3=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function $u(t,e,r,n,i,a){return vs(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,R3(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>M3(l,o,n))})})}function Uf(t,e,r,n){return vs(this,void 0,void 0,function*(){return $u(t,"GET",e,r,n)})}function Ci(t,e,r,n,i){return vs(this,void 0,void 0,function*(){return $u(t,"POST",e,n,i,r)})}function I3(t,e,r,n,i){return vs(this,void 0,void 0,function*(){return $u(t,"PUT",e,n,i,r)})}function $3(t,e,r,n){return vs(this,void 0,void 0,function*(){return $u(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function rO(t,e,r,n,i){return vs(this,void 0,void 0,function*(){return $u(t,"DELETE",e,n,i,r)})}var mr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const L3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class F3{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=tO(i)}uploadOrUpdate(e,r,n,i){return mr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},$_),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(It(a))return{data:null,error:a};throw a}})}upload(e,r,n){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return mr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:$_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(It(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return mr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ci(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new gb("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}update(e,r,n){return mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return mr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}copy(e,r,n){return mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ci(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return mr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ci(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return mr(this,void 0,void 0,function*(){try{const i=yield Ci(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}download(e,r){return mr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Uf(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(It(o))return{data:null,error:o};throw o}})}info(e){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Uf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vy(n),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}exists(e){return mr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield $3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(It(n)&&n instanceof gy){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return mr(this,void 0,void 0,function*(){try{return{data:yield rO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}list(e,r,n){return mr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},L3),r),{prefix:e||""});return{data:yield Ci(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const U3="2.7.1",B3={"X-Client-Info":`storage-js/${U3}`};var ks=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class H3{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},B3),r),this.fetch=tO(n)}listBuckets(){return ks(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(It(e))return{data:null,error:e};throw e}})}getBucket(e){return ks(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ks(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ks(this,void 0,void 0,function*(){try{return{data:yield I3(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ks(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ks(this,void 0,void 0,function*(){try{return{data:yield rO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}}class z3 extends H3{constructor(e,r={},n){super(e,r,n)}from(e){return new F3(this.url,this.headers,e,this.fetch)}}const W3="2.50.5";let tc="";typeof Deno<"u"?tc="deno":typeof document<"u"?tc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tc="react-native":tc="node";const V3={"X-Client-Info":`supabase-js-${tc}/${W3}`},G3={headers:V3},q3={schema:"public"},Y3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K3={};var Q3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const X3=t=>{let e;return t?e=t:typeof fetch>"u"?e=Fk:e=fetch,(...r)=>e(...r)},Z3=()=>typeof Headers>"u"?Uk:Headers,J3=(t,e,r)=>{const n=X3(r),i=Z3();return(a,s)=>Q3(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var eF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function tF(t){return t.endsWith("/")?t:t+"/"}function rF(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>eF(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const nO="2.70.0",Ls=30*1e3,yy=3,cg=yy*Ls,nF="http://localhost:9999",iF="supabase.auth.token",aF={"X-Client-Info":`gotrue-js/${nO}`},xy="X-Supabase-Api-Version",iO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oF=6e5;class Im extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aO extends Im{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sO(t){return Ae(t)&&t.name==="AuthApiError"}class vb extends Im{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class gi extends Im{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Gn extends gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function oO(t){return Ae(t)&&t.name==="AuthSessionMissingError"}class rc extends gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nc extends gi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ic extends gi{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lO(t){return Ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class by extends gi{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bf extends gi{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function tf(t){return Ae(t)&&t.name==="AuthRetryableFetchError"}class wy extends gi{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}function lF(t){return Ae(t)&&t.name==="AuthWeakPasswordError"}class co extends gi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L_=` 	
\r=`.split(""),cF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<L_.length;e+=1)t[L_[e].charCodeAt(0)]=-2;for(let e=0;e<Hf.length;e+=1)t[Hf[e].charCodeAt(0)]=e;return t})();function F_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Hf[n]),e.queuedBits-=6}}function cO(t,e,r){const n=cF[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function U_(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{fF(s,n,r)};for(let s=0;s<t.length;s+=1)cO(t.charCodeAt(s),i,a);return e.join("")}function uF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dF(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}uF(n,e)}}function fF(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function hF(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)cO(t.charCodeAt(i),r,n);return new Uint8Array(e)}function mF(t){const e=[];return dF(t,r=>e.push(r)),new Uint8Array(e)}function pF(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>F_(i,r,n)),F_(null,r,n),e.join("")}function gF(t){return Math.round(Date.now()/1e3)+t}function vF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",ja={tested:!1,writable:!1},vc=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ja.tested)return ja.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ja.tested=!0,ja.writable=!0}catch{ja.tested=!0,ja.writable=!1}return ja.writable};function yF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const uO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ji(()=>Promise.resolve().then(()=>ol),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},xF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dO=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},md=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pd=async(t,e)=>{await t.removeItem(e)};class $m{constructor(){this.promise=new $m.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$m.promiseConstructor=Promise;function ug(t){const e=t.split(".");if(e.length!==3)throw new co("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!sF.test(e[n]))throw new co("JWT not in base64url format");return{header:JSON.parse(U_(e[0])),payload:JSON.parse(U_(e[1])),signature:hF(e[2]),raw:{header:e[0],payload:e[1]}}}async function bF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function SF(t){return("0"+t.toString(16)).substr(-2)}function _F(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,SF).join("")}async function EF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function jF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await EF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(t,e,r=!1){const n=_F();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await dO(t,`${e}-code-verifier`,i);const a=await jF(n);return[a,n===a?"plain":"s256"]}const AF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TF(t){const e=t.headers.get(xy);if(!e||!e.match(AF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function CF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(t){if(!kF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var OF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Ca=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DF=[502,503,504];async function B_(t){var e;if(!xF(t))throw new Bf(Ca(t),0);if(DF.includes(t.status))throw new Bf(Ca(t),t.status);let r;try{r=await t.json()}catch(a){throw new vb(Ca(a),a)}let n;const i=TF(t);if(i&&i.getTime()>=iO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wy(Ca(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Gn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new wy(Ca(r),t.status,r.weak_password.reasons);throw new aO(Ca(r),t.status||500,n)}const PF=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function De(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[xy]||(a[xy]=iO["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await MF(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function MF(t,e,r,n,i,a){const s=PF(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new Bf(Ca(l),0)}if(o.ok||await B_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await B_(l)}}function Wn(t){var e;let r=null;LF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=gF(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function H_(t){const e=Wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function RF(t){return{data:t,error:null}}function IF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=OF(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function $F(t){return t}function LF(t){return t.access_token&&t.refresh_token&&t.expires_in}const rf=["global","local","others"];var FF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class yb{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=uO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=rf[0]){if(rf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rf.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=FF(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$F});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ds(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ds(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Mi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ds(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ds(e.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ds(e.userId),Ds(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}const UF={getItem:t=>vc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vc()&&globalThis.localStorage.removeItem(t)}};function z_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function BF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ka={debug:!!(globalThis&&vc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fO extends xb{}class HF extends xb{}async function hO(t,e,r){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ka.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ka.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ka.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const W_={};async function zF(t,e,r){var n;const i=(n=W_[t])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),e>=0?new Promise((s,o)=>{setTimeout(()=>{o(new HF(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(s=>s)).catch(s=>{if(s&&s.isAcquireTimeout)throw s;return null}).then(async()=>await r());return W_[t]=a.catch(async s=>{if(s&&s.isAcquireTimeout)return await i,null;throw s}),await a}BF();const WF={url:nF,storageKey:iF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function V_(t,e,r){return await r()}class Ao{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ao.nextInstanceID,Ao.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},WF),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yb({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uO(i.fetch),this.lock=i.lock||V_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hO:this.lock=V_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:vc()?this.storage=UF:(this.memoryStorage={},this.storage=z_(this.memoryStorage)):(this.memoryStorage={},this.storage=z_(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=yF(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),lO(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new vb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Wn}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ae(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Os(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Wn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Wn})}else throw new nc("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ae(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:H_})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:H_})}else throw new nc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,s,o,l,u,d,f,h,m;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:b}=e;let _;if(sn())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:x}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:pF(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Wn});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new rc}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Ae(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await md(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Wn});if(await pd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new rc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Ae(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Wn}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Os(this.storage,this.storageKey));const{error:f}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new nc("You must provide either an email or phone number.")}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Wn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Os(this.storage,this.storageKey)),await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:RF})}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Gn;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new nc("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await md(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<cg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mi}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gn}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Mi})})}catch(r){if(Ae(r))return oO(r)&&(await this._removeSession(),await pd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Gn;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Os(this.storage,this.storageKey));const{data:u,error:d}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Mi});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=ug(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Gn;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!sn())throw new ic("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ic(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new by("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new by("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new ic("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await md(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(sO(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await pd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=vF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Os(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return sn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wF(async i=>(i>0&&await bF(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&tf(a)&&Date.now()+s-n<Ls})}catch(n){if(this._debug(r,"error",n),Ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await md(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<cg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${cg}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),tf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $m;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Gn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Ae(a)){const s={session:null,error:a};return tf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await dO(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await pd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ls}ms, refresh threshold is ${yy} ticks`),i<=yy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Os(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await De(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ug(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+oF>Date.now()))return n;const{data:i,error:a}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new co("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===e),!n)throw new co("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=ug(n);if(NF(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const u=CF(i.alg),d=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,mF(`${o}.${l}`)))throw new co("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}Ao.nextInstanceID=0;const VF=yb,mO=Ao;class GF extends mO{constructor(e){super(e)}}var qF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class pO{constructor(e,r,n){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=tF(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:q3,realtime:K3,auth:Object.assign(Object.assign({},Y3),{storageKey:u}),global:G3},f=rF(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=J3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new m3(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new W4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new z3(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return qF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new eO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gO=(t,e,r)=>new pO(t,e,r),dg=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:VF,AuthApiError:aO,AuthClient:mO,AuthError:Im,AuthImplicitGrantRedirectError:ic,AuthInvalidCredentialsError:nc,AuthInvalidJwtError:co,AuthInvalidTokenResponseError:rc,AuthPKCEGrantCodeExchangeError:by,AuthRetryableFetchError:Bf,AuthSessionMissingError:Gn,AuthUnknownError:vb,AuthWeakPasswordError:wy,CustomAuthError:gi,get FunctionRegion(){return Ff},FunctionsError:Nm,FunctionsFetchError:Lk,FunctionsHttpError:uy,FunctionsRelayError:cy,GoTrueAdminApi:yb,GoTrueClient:Ao,NavigatorLockAcquireTimeoutError:fO,PostgrestError:p3,REALTIME_CHANNEL_STATES:C3,get REALTIME_LISTEN_TYPES(){return py},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return my},get REALTIME_PRESENCE_LISTEN_EVENTS(){return hy},get REALTIME_SUBSCRIBE_STATES(){return En},RealtimeChannel:Rm,RealtimeClient:eO,RealtimePresence:lo,SIGN_OUT_SCOPES:rf,SupabaseClient:pO,createClient:gO,isAuthApiError:sO,isAuthError:Ae,isAuthImplicitGrantRedirectError:lO,isAuthRetryableFetchError:tf,isAuthSessionMissingError:oO,isAuthWeakPasswordError:lF,lockInternals:ka,navigatorLock:hO,processLock:zF},Symbol.toStringTag,{value:"Module"})),fg="https://kvsbrrmzedadyffqtcdq.supabase.co",hg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw";let J=null;try{fg&&fg!=="https://placeholder.supabase.co"&&hg&&hg!=="placeholder-key"&&(J=gO(fg,hg))}catch(t){console.error("Failed to create Supabase client:",t)}class ki{constructor(){this.isAuthenticated=!0,ki.mockMessages||(ki.mockMessages=[])}async init(){try{if(!J)return!0;const{data:e,error:r}=await J.from("venues").select("count").limit(1);return r?(console.error("Supabase connection failed:",r),!1):!0}catch(e){return console.error("Failed to initialize Supabase API:",e),!1}}getMockData(e){return{venues:[],trailer_history:[],camper_history:[],staff:[]}[e]||[]}async readTable(e,r={}){try{if(!J)return{success:!0,data:this.getMockData(e)};let n=[],i=0;const a=1e3;let s=!0;for(;s;){let o=J.from(e).select("*");r.filters&&Object.entries(r.filters).forEach(([d,f])=>{o=o.eq(d,f)}),r.dateFrom&&r.dateTo&&(o=o.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?o=o.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):e.includes("history")?o=o.order("date",{ascending:!1}):o=o.order("id",{ascending:!1}),o=o.range(i*a,(i+1)*a-1);const{data:l,error:u}=await o;if(u)throw new Error(u.message);l&&l.length>0?(n=n.concat(l),i++,l.length<a&&(s=!1),i>50&&(console.warn(`[readTable] Stopping pagination after 50 pages to prevent infinite loop for ${e}`),s=!1)):s=!1}return{success:!0,data:n}}catch(n){return console.error(`Failed to read from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async addRow(e,r){try{if(!J)return{success:!0,data:{...r,id:Date.now()},message:"Row added successfully (mock mode)"};const{data:n,error:i}=await J.from(e).insert([r]).select();if(i)throw new Error(i.message);return{success:!0,data:n[0],message:"Row added successfully"}}catch(n){return console.error(`Failed to add row to ${e}:`,n),{success:!1,error:n.message}}}async updateRow(e,r,n){try{if(!J)return{success:!0,data:{id:r,...n},message:"Row updated successfully (mock mode)"};const{data:i,error:a}=await J.from(e).update(n).eq("id",r).select();if(a)throw new Error(a.message);return{success:!0,data:i[0],message:"Row updated successfully"}}catch(i){return console.error(`Failed to update row in ${e}:`,i),{success:!1,error:i.message}}}async deleteRow(e,r){try{if(!J)return{success:!0,message:"Row deleted successfully (mock mode)"};const{error:n}=await J.from(e).delete().eq("id",r);if(n)throw new Error(n.message);return{success:!0,message:"Row deleted successfully"}}catch(n){return console.error(`Failed to delete row from ${e}:`,n),{success:!1,error:n.message}}}async getTableInfo(e){try{if(!J){const i=this.getMockData(e);return{success:!0,data:{title:e,rowCount:i.length,columnCount:i.length>0?Object.keys(i[0]).length:0}}}const{count:r,error:n}=await J.from(e).select("*",{count:"exact",head:!0});if(n)throw new Error(n.message);return{success:!0,data:{title:e,rowCount:r||0,columnCount:10}}}catch(r){return console.error(`Failed to get table info for ${e}:`,r),{success:!1,error:r.message}}}async searchData(e,r,n=null){try{if(!J){const o=this.getMockData(e);return r?{success:!0,data:o.filter(u=>n?u[n]&&u[n].toString().toLowerCase().includes(r.toLowerCase()):Object.values(u).some(d=>d&&d.toString().toLowerCase().includes(r.toLowerCase())))}:{success:!0,data:o}}let i=J.from(e).select("*");r&&(n?i=i.ilike(n,`%${r}%`):i=i.or(`name.ilike.%${r}%,email.ilike.%${r}%,promo.ilike.%${r}%`));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error(`Failed to search data in ${e}:`,i),{success:!1,error:i.message,data:[]}}}async getSalesWithVenues(e,r={}){try{if(!J){const s=this.getMockData(e),o=this.getMockData("venues");return{success:!0,data:s.map(u=>({...u,venues:o.find(d=>d.id===u.venue_id)||{}}))}}let n=J.from(e).select(`
          *,
          venues (
            id,
            promo,
            address_city,
            contact,
            phone,
            email
          )
        `);r.dateFrom&&r.dateTo&&(n=n.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?n=n.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):n=n.order("date",{ascending:!1});const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error(`Failed to get sales with venues from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async getDashboardStats(){try{if(!J){const u=this.getMockData("trailer_history"),d=this.getMockData("camper_history"),f=this.getMockData("venues"),h=this.getMockData("staff");return{success:!0,data:{trailerHistory:u,camperHistory:d,venueCount:f.length,staffCount:h.length}}}const{data:e,error:r}=await J.from("trailer_history").select("gross_sales, net_sales, sales_tax, date");if(r)throw new Error(r.message);const{data:n,error:i}=await J.from("camper_history").select("gross_sales, net_sales, sales_tax, date");if(i)throw new Error(i.message);const{count:a,error:s}=await J.from("venues").select("*",{count:"exact",head:!0});if(s)throw new Error(s.message);const{count:o,error:l}=await J.from("staff").select("*",{count:"exact",head:!0});if(l)throw new Error(l.message);return{success:!0,data:{trailerHistory:e||[],camperHistory:n||[],venueCount:a||0,staffCount:o||0}}}catch(e){return console.error("Failed to get dashboard stats:",e),{success:!1,error:e.message}}}async getCurrentUser(){var e;try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:{user:r},error:n}=await J.auth.getUser();if(n)return{success:!1,error:n.message};if(!r)return{success:!1,error:"No user found"};const{data:i,error:a}=await J.from("users").select("*").eq("email",r.email).single();return a&&a.code!=="PGRST116"&&console.warn("Could not fetch user profile:",a),{success:!0,data:{id:r.id,email:r.email,name:(i==null?void 0:i.name)||((e=r.user_metadata)==null?void 0:e.name)||r.email,role:(i==null?void 0:i.role)||"user",created_at:r.created_at,last_sign_in:r.last_sign_in_at}}}catch(r){return console.error("Failed to get current user:",r),{success:!1,error:r.message}}}async signIn(e,r){var n;try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await J.auth.signInWithPassword({email:e,password:r});if(a)return{success:!1,error:a.message};const s={id:i.user.id,email:i.user.email,name:((n=i.user.user_metadata)==null?void 0:n.name)||i.user.email,role:"user",created_at:i.user.created_at,last_sign_in:i.user.last_sign_in_at},{data:o}=await J.from("users").select("*").eq("email",i.user.email).single();if(o&&(s.name=o.name,s.role=o.role,s.staff_id=o.staff_id),o!=null&&o.staff_id){const{data:l}=await J.from("staff").select("*").eq("id",o.staff_id).single();l&&(s.staffMember=l,s.name=l.name||s.name)}return{success:!0,data:s}}catch(i){return console.error("Failed to sign in:",i),{success:!1,error:i.message}}}async signUp(e,r,n){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await J.auth.signUp({email:e,password:r,options:{data:{name:n}}});if(a)return{success:!1,error:a.message};if(i.user)try{const{error:s}=await J.from("users").insert([{id:i.user.id,email:i.user.email,name:n,role:"user",is_active:!0}]);s&&s.code!=="23505"&&console.warn("Could not create user profile:",s)}catch(s){console.warn("Profile creation failed, but auth succeeded:",s)}return{success:!0,data:i.user}}catch(i){return console.error("Failed to sign up:",i),{success:!1,error:i.message}}}async signOut(){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:e}=await J.auth.signOut();return e?{success:!1,error:e.message}:{success:!0}}catch(e){return console.error("Failed to sign out:",e),{success:!1,error:e.message}}}async resetPassword(e){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:r}=await J.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to reset password:",r),{success:!1,error:r.message}}}async resendConfirmationEmail(e){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:r}=await J.auth.resend({type:"signup",email:e});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to resend confirmation email:",r),{success:!1,error:r.message}}}async updateProfile(e,r){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await J.from("users").update(r).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to update profile:",n),{success:!1,error:n.message}}}async linkUserToStaff(e,r){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await J.from("users").update({staff_id:r}).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to link user to staff:",n),{success:!1,error:n.message}}}async getUnlinkedUsers(){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:e,error:r}=await J.from("users").select("*").is("staff_id",null).order("created_at",{ascending:!1});return r?{success:!1,error:r.message}:{success:!0,data:e||[]}}catch(e){return console.error("Failed to get unlinked users:",e),{success:!1,error:e.message}}}async authenticate(){return(await this.getCurrentUser()).success}async getUsers(){try{if(!J)return{success:!0,data:[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}]};const{data:{user:e}}=await J.auth.getUser();if(!e)return{success:!0,data:[]};const{data:r}=await J.from("users").select("role").eq("email",e.email).single();let n=J.from("users").select("*");(r==null?void 0:r.role)==="admin"?n=n.eq("is_active",!0).order("name"):n=n.eq("email",e.email);const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(e){return console.error("Failed to get users:",e),{success:!1,error:e.message,data:[]}}}async addUser(e){try{if(!J)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}};const{data:r,error:n}=await J.from("users").insert([e]).select().single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to add user:",r),{success:!1,error:r.message}}}async updateUser(e,r){try{if(!J)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await J.from("users").update(r).eq("id",e).select().single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update user:",n),{success:!1,error:n.message}}}async getMessageGroups(){try{if(!J)return{success:!0,data:[{id:1,group_name:"General",created_by:1,is_active:!0}]};const{data:e,error:r}=await J.from("message_groups").select("*").eq("is_active",!0).order("group_name");if(r)throw new Error(r.message);return{success:!0,data:e||[]}}catch(e){return console.error("Failed to get message groups:",e),{success:!1,error:e.message,data:[]}}}async getGroupMembers(e){try{if(!J)return{success:!0,data:[{id:1,group_id:1,user_id:1,role:"admin"},{id:2,group_id:1,user_id:2,role:"member"},{id:3,group_id:1,user_id:3,role:"member"},{id:4,group_id:1,user_id:4,role:"member"},{id:5,group_id:1,user_id:5,role:"admin"},{id:6,group_id:1,user_id:6,role:"member"}]};const{data:r,error:n}=await J.from("group_members").select(`
          *,
          staff (id, name, email, role)
        `).eq("group_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get group members:",r),{success:!1,error:r.message,data:[]}}}async getMessages(e=null,r=null,n=50){try{if(!J){let o=ki.mockMessages||[];return e&&(o=o.filter(l=>l.group_id===e)),o.sort((l,u)=>new Date(l.created_at)-new Date(u.created_at)),n&&(o=o.slice(0,n)),{success:!0,data:o}}let i=J.from("team_messages").select("*").eq("is_deleted",!1).order("created_at",{ascending:!0}).limit(n);e?i=i.eq("group_id",e):r&&(i=i.eq("recipient_id",r));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error("Failed to get messages:",i),{success:!1,error:i.message,data:[]}}}async sendMessage(e){try{if(!J){const a=[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}].find(o=>o.id===e.sender_id)||{id:e.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"},s={id:Date.now(),...e,created_at:new Date().toISOString(),sender:{id:a.id,name:a.name,email:a.email}};return ki.mockMessages||(ki.mockMessages=[]),ki.mockMessages.push(s),{success:!0,data:s}}const{data:r,error:n}=await J.from("team_messages").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to send message:",r),{success:!1,error:r.message}}}async getTasks(e=null,r=null){try{if(!J)return{success:!0,data:[]};let n=J.from("tasks").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("assigned_to",e)),r&&(n=n.eq("status",r));const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error("Failed to get tasks:",n),{success:!1,error:n.message,data:[]}}}async createTask(e){try{if(!J)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};const{data:r,error:n}=await J.from("tasks").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to create task:",r),{success:!1,error:r.message}}}async updateTask(e,r){try{if(!J)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await J.from("tasks").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update task:",n),{success:!1,error:n.message}}}async deleteTask(e){try{if(!J)return{success:!0};const{error:r}=await J.from("tasks").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete task:",r),{success:!1,error:r.message}}}async getTaskComments(e){try{return{success:!0,data:[]}}catch(r){return console.error("Failed to get task comments:",r),{success:!1,error:r.message,data:[]}}}async addTaskComment(e){try{return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}}}catch(r){return console.error("Failed to add task comment:",r),{success:!1,error:r.message}}}async getStoreHours(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("store_hours").select("*").eq("store_id",e).order("day_of_week");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store hours:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHours(e,r){try{if(!J)return console.log("Mock: Saving store hours:",r),{success:!0};const{error:n}=await J.from("store_hours").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("store_hours").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store hours:",n),{success:!1,error:n.message}}}async getStoreHolidays(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("store_holidays").select("*").eq("store_id",e).order("date");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store holidays:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHolidays(e,r){try{if(!J)return console.log("Mock: Saving store holidays:",r),{success:!0};const{error:n}=await J.from("store_holidays").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("store_holidays").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store holidays:",n),{success:!1,error:n.message}}}async getCommissionTiers(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("commission_tiers").select("*").eq("store_id",e).order("sales_target");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get commission tiers:",r),{success:!1,error:r.message,data:[]}}}async saveCommissionTiers(e,r){try{if(!J)return console.log("Mock: Saving commission tiers:",r),{success:!0};console.log("saveCommissionTiers called with storeId:",e,"tiersData:",r);const{error:n}=await J.from("commission_tiers").delete().eq("store_id",e);if(n)throw new Error(n.message);const i=r.filter(s=>s.sales_target>0&&s.bonus_amount>0).map(s=>{const o=s.tier_name&&s.tier_name.trim()||`Bonus for $${s.sales_target.toLocaleString()}+ sales`;return{store_id:s.store_id,tier_name:o,sales_target:s.sales_target,commission_rate:s.commission_rate||0,bonus_amount:s.bonus_amount}});console.log("Final insertData to send to database:",i);const{error:a}=await J.from("commission_tiers").insert(i);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save commission tiers:",n),{success:!1,error:n.message}}}async getStaffCommissionRates(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("staff_commission_rates").select("*").eq("store_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get staff commission rates:",r),{success:!1,error:r.message,data:[]}}}async saveStaffCommissionRates(e,r){try{if(!J)return console.log("Mock: Saving staff commission rates:",r),{success:!0};const{error:n}=await J.from("staff_commission_rates").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("staff_commission_rates").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save staff commission rates:",n),{success:!1,error:n.message}}}async getScheduleSlots(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("schedule_slots").select("*").eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(i){return console.error("Failed to get schedule slots:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleSlot(e){try{if(!J)return console.log("Mock: Saving schedule slot:",e),{success:!0};const{error:r}=await J.from("schedule_slots").upsert(e,{onConflict:"store_id,date,start_time"});if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to save schedule slot:",r),{success:!1,error:r.message}}}async deleteScheduleSlot(e){try{if(!J)return console.log("Mock: Deleting schedule slot:",e),{success:!0};const{error:r}=await J.from("schedule_slots").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule slot:",r),{success:!1,error:r.message}}}async getScheduleAssignments(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("schedule_assignments").select(`
          *,
          staff:staff_id(name, role)
        `).eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:(i||[]).map(o=>({id:o.id,storeId:o.store_id,staffId:o.staff_id,date:o.date,startTime:o.start_time,endTime:o.end_time,notes:o.notes,staff:o.staff}))}}catch(i){return console.error("Failed to get schedule assignments:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleAssignment(e){try{if(!J)return console.log("Mock: Saving schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const r={store_id:e.storeId,staff_id:e.staffId,date:e.date,start_time:e.startTime,end_time:e.endTime,notes:e.notes},{data:n,error:i}=await J.from("schedule_assignments").upsert(r,{onConflict:"staff_id,date,start_time"}).select();if(i)throw new Error(i.message);return{success:!0,data:n!=null&&n[0]?{id:n[0].id,storeId:n[0].store_id,staffId:n[0].staff_id,date:n[0].date,startTime:n[0].start_time,endTime:n[0].end_time,notes:n[0].notes}:e}}catch(r){return console.error("Failed to save schedule assignment:",r),{success:!1,error:r.message}}}async createScheduleAssignment(e){try{if(!J)return console.log("Mock: Creating schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const{data:r,error:n}=await J.from("schedule_assignments").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:(r==null?void 0:r[0])||e}}catch(r){return console.error("Failed to create schedule assignment:",r),{success:!1,error:r.message}}}async deleteScheduleAssignment(e){try{if(!J)return console.log("Mock: Deleting schedule assignment:",e),{success:!0};const{error:r}=await J.from("schedule_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule assignment:",r),{success:!1,error:r.message}}}async importTrailerHistory(e){if(!Array.isArray(e)||e.length===0)return{success:!1,error:"No data to import",processed:0,failed:0};if(!J)return{success:!0,processed:e.length,failed:0};const r={};for(const a of e){const s=`${a.date}_${a.store}`;r[s]||(r[s]={date:a.date,Store:a.store,sales_tax:0,net_sales:0,gross_sales:0}),r[s].sales_tax+=parseFloat(a.sales_tax||0),r[s].net_sales+=parseFloat(a.net_sales||0),r[s].gross_sales+=parseFloat(a.gross_sales||0)}let n=0,i=0;for(const a of Object.values(r))try{const{error:s}=await J.from("trailer_history").upsert([a],{onConflict:["date","Store"]});s?(i++,console.error("Upsert error:",s)):n++}catch(s){i++,console.error("Exception during upsert:",s)}return{success:i===0,processed:n,failed:i}}async getSalesForPeriod(e,r,n){try{if(!J)return{success:!0,data:[{date:r,store:e,total_sales:15e3},{date:n,store:e,total_sales:18e3}]};const{data:i,error:a}=await J.from("trailer_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n),{data:s,error:o}=await J.from("camper_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n);if(a)throw a;if(o)throw o;const u=[...i||[],...s||[]].reduce((d,f)=>{const h=f.date;return d[h]||(d[h]={date:h,store:e,total_sales:0}),d[h].total_sales+=parseFloat(f.gross_sales||0),d},{});return{success:!0,data:Object.values(u)}}catch(i){return console.error("Error fetching sales data:",i),{success:!1,error:i.message}}}async getSalesByStaff(e,r,n){try{return J?{success:!0,data:[{date:r,staff_id:e,sales_amount:5e3},{date:n,staff_id:e,sales_amount:6e3}]}:{success:!0,data:[]}}catch(i){return console.error("Error fetching staff sales:",i),{success:!1,error:i.message}}}async getPayrollHistory(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("payroll_history").select("*").eq("store_id",e).gte("pay_period_start",r).lte("pay_period_end",n).order("pay_period_start",{ascending:!1});if(a)throw a;return{success:!0,data:i||[]}}catch(i){return console.error("Error fetching payroll history:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{if(!J)return{success:!0,data:{id:Date.now()}};const{data:r,error:n}=await J.from("payroll_history").insert([e]).select();if(n)throw n;return{success:!0,data:r[0]}}catch(r){return console.error("Error saving payroll record:",r),{success:!1,error:r.message}}}async getStores(){try{if(!J)return{success:!0,data:[{id:1,name:"Spartanburg",number:"1"},{id:2,name:"Greenville",number:"3"},{id:3,name:"Columbia",number:"4"},{id:4,name:"Trailer",number:"5"},{id:5,name:"Camper",number:"7"}]};const{data:e,error:r}=await J.from("stores").select("*").eq("is_active",!0).order("number");if(r)throw r;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching stores:",e),{success:!1,error:e.message}}}async getStaffBonusTiers(e){try{console.log(" Getting staff bonus tiers for staffId:",e);const{data:r,error:n}=await J.from("staff_bonus_tiers").select("*").eq("staff_id",e).order("sales_target",{ascending:!0});return n?(console.error(" Error fetching staff bonus tiers:",n),{success:!1,error:n.message}):(console.log(" Staff bonus tiers fetched successfully:",r),{success:!0,data:r})}catch(r){return console.error(" Exception in getStaffBonusTiers:",r),{success:!1,error:r.message}}}async saveStaffBonusTiers(e,r){try{if(console.log(" Saving staff bonus tiers for staffId:",e,"tiersData:",r),!J)return console.log(" Supabase not available, returning mock success"),{success:!0,data:r};console.log(" Deleting existing tiers for staff:",e);const{error:n}=await J.from("staff_bonus_tiers").delete().eq("staff_id",e);if(n)return console.error(" Error deleting existing staff bonus tiers:",n),{success:!1,error:n.message};if(console.log(" Successfully deleted existing tiers"),!r||r.length===0)return console.log(" No tiers to save, deletion completed"),{success:!0,data:[]};console.log(" Inserting new tiers:",r);const{data:i,error:a}=await J.from("staff_bonus_tiers").insert(r).select();return a?(console.error(" Error saving staff bonus tiers:",a),console.error(" Error details:",{code:a.code,message:a.message,details:a.details,hint:a.hint}),{success:!1,error:a.message}):(console.log(" Staff bonus tiers saved successfully:",i),{success:!0,data:i})}catch(n){return console.error(" Exception in saveStaffBonusTiers:",n),{success:!1,error:n.message}}}async calculateStaffBonus(e,r){try{console.log(" Calculating staff bonus for staffId:",e,"salesAmount:",r);const{data:n,error:i}=await J.from("staff_bonus_tiers").select("*").eq("staff_id",e).eq("is_active",!0).order("sales_target",{ascending:!1});if(i)return console.error(" Error calculating staff bonus:",i),{success:!1,error:i.message};let a=0;for(const s of n||[])if(r>=s.sales_target){a=s.bonus_amount;break}return console.log(" Staff bonus calculated:",a),{success:!0,data:a}}catch(n){return console.error(" Exception in calculateStaffBonus:",n),{success:!1,error:n.message}}}async getScheduleAssignmentsForDateRange(e,r,n){try{console.log(" Getting schedule assignments for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await J.from("schedule_assignments").select(`
          *,
          slot:schedule_slots(*)
        `).eq("slot.store_id",e).gte("slot.slot_date",r).lte("slot.slot_date",n);return a?(console.error(" Error fetching schedule assignments:",a),{success:!1,error:a.message}):(console.log(" Schedule assignments fetched:",i),{success:!0,data:i||[]})}catch(i){return console.error(" Exception in getScheduleAssignmentsForDateRange:",i),{success:!1,error:i.message}}}async getSalesForDateRange(e,r,n){try{console.log(" Getting sales for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await J.from("trailer_history").select("date, Store, gross_sales").order("date",{ascending:!1}).limit(5);a?console.error(" Error fetching sample data:",a):console.log(" Sample dates from trailer_history:",i);const{data:s,error:o}=await J.from("trailer_history").select("*").gte("date",r).lte("date",n);if(o)return console.error(" Error fetching sales data:",o),{success:!1,error:o.message};console.log(" Raw data for date range:",(s==null?void 0:s.length)||0,"records");const l=(s||[]).filter(u=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"}[u.Store]||u.Store)===e);return console.log(" Sales fetched for store:",e,l),{success:!0,data:l}}catch(i){return console.error(" Exception in getSalesForDateRange:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{console.log(" Saving payroll record:",e);const{data:r,error:n}=await J.from("payroll_records").insert(e).select();return n?(console.error(" Error saving payroll record:",n),{success:!1,error:n.message}):(console.log(" Payroll record saved:",r),{success:!0,data:r})}catch(r){return console.error(" Exception in savePayrollRecord:",r),{success:!1,error:r.message}}}}const ue=new ki,ac=(t,e)=>{const r=a=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"})[a]||`Store ${a}`;let n=null;return t.store?n=t.store:t.Store?n=r(String(t.Store)):n=e==="TRAILER_HISTORY"?"Trailer":"Camper",{id:t.id||null,date:t.date||"",status:t.status||"",salesTax:parseFloat(t.sales_tax||0)||0,netSales:parseFloat(t.net_sales||0)||0,grossSales:parseFloat(t.gross_sales||0)||0,store:n,venue:t.common_venue_name||t.venue_name||"",sheetType:e}},YF=t=>{const e={};return t.forEach((n,i)=>{const a=String(n.store||"Unknown Store"),s=n.date||"";if(!s)return;const o=parseFloat(n.salesTax||0)||0,l=parseFloat(n.netSales||0)||0,u=parseFloat(n.grossSales||0)||0;if(l<=0||u<=0)return;let d=s;s.includes(" ")&&(d=s.split(" ")[0]);const f=`${a}_${d}`;e[f]||(e[f]={store:a,venue:n.venue||"",date:d,salesTax:0,netSales:0,grossSales:0,count:0}),e[f].salesTax+=o,e[f].netSales+=l,e[f].grossSales+=u,e[f].count+=1}),Object.values(e).sort((n,i)=>{const a=new Date(n.date),s=new Date(i.date);return a.getTime()!==s.getTime()?a-s:String(n.store).localeCompare(String(i.store))})},gd=t=>({id:t.id||null,promo:t.promo||"",promoSend:t.promo_to_send||"",addressCity:t.address_city||"",contact:t.contact||"",phone:t.phone||"",email:t.email||"",times:t.times||"",showInfo:t.show_info||"",forecastWill:t.forecast||""}),G_=t=>({id:t.id||null,name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hireDate:t.hire_date||"",notes:t.notes||"",store_id:t.store_id||null,payType:t.pay_type||"hourly",hourlyRate:parseFloat(t.hourly_rate||0)||0,salaryAmount:parseFloat(t.salary_amount||0)||0,preferredHoursPerWeek:parseFloat(t.preferred_hours_per_week||0)||0,maxHoursPerWeek:parseFloat(t.max_hours_per_week||0)||0}),q_=(t,e=!1)=>{const r={name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hire_date:t.hireDate||"",notes:t.notes||"",store_id:t.store_id||null,pay_type:t.payType||"hourly",hourly_rate:parseFloat(t.hourlyRate||0)||0,salary_amount:parseFloat(t.salaryAmount||0)||0,preferred_hours_per_week:parseFloat(t.preferredHoursPerWeek||0)||0,max_hours_per_week:parseFloat(t.maxHoursPerWeek||0)||0};return e&&t.id&&(r.id=t.id),r},KF=["Confirmed","Pending","Closed","Cancelled","Rescheduled"],QF=["Manager","Worker","Driver","Sales","Support"],XF=["Active","Inactive","On Leave","Terminated"],ZF=["hourly","salary","salary+bonus"],mg=t=>({date:new Date().toISOString().split("T")[0],status:"Confirmed",salesTax:0,netSales:0,grossSales:0,venueId:"",sheetType:t}),pg=()=>({promo:"",promoSend:"",addressCity:"",contact:"",phone:"",email:"",times:"",showInfo:"",forecastWill:""}),gg=()=>({name:"",email:"",phone:"",role:"Worker",status:"Active",hireDate:new Date().toISOString().split("T")[0],notes:"",store_id:null,payType:"hourly",hourlyRate:0,salaryAmount:0,preferredHoursPerWeek:0,maxHoursPerWeek:0}),JF={currentSheet:"TRAILER_HISTORY",salesData:[],rawSalesData:[],venuesData:[],staffData:[],tasksData:[],messagesData:[],calendarEvents:[],currentMonth:new Date,loading:!1,error:null,user:null},le={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_SALES_DATA:"SET_SALES_DATA",SET_VENUES_DATA:"SET_VENUES_DATA",SET_STAFF_DATA:"SET_STAFF_DATA",SET_CURRENT_SHEET:"SET_CURRENT_SHEET",SET_CURRENT_MONTH:"SET_CURRENT_MONTH",SET_SELECTED_VENUE:"SET_SELECTED_VENUE",ADD_SALES_ENTRY:"ADD_SALES_ENTRY",UPDATE_SALES_ENTRY:"UPDATE_SALES_ENTRY",DELETE_SALES_ENTRY:"DELETE_SALES_ENTRY",ADD_VENUE_ENTRY:"ADD_VENUE_ENTRY",UPDATE_VENUE_ENTRY:"UPDATE_VENUE_ENTRY",DELETE_VENUE_ENTRY:"DELETE_VENUE_ENTRY",ADD_STAFF_ENTRY:"ADD_STAFF_ENTRY",UPDATE_STAFF_ENTRY:"UPDATE_STAFF_ENTRY",DELETE_STAFF_ENTRY:"DELETE_STAFF_ENTRY",SET_IS_AUTHENTICATED:"SET_IS_AUTHENTICATED",SET_USER:"SET_USER",SET_USERS_DATA:"SET_USERS_DATA",SET_MESSAGES_DATA:"SET_MESSAGES_DATA",SET_MESSAGE_GROUPS:"SET_MESSAGE_GROUPS",ADD_MESSAGE:"ADD_MESSAGE",SET_CURRENT_USER:"SET_CURRENT_USER",SET_SELECTED_GROUP:"SET_SELECTED_GROUP",SET_TASKS_DATA:"SET_TASKS_DATA",ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",SET_TASK_COMMENTS:"SET_TASK_COMMENTS",ADD_TASK_COMMENT:"ADD_TASK_COMMENT",SET_SELECTED_TASK:"SET_SELECTED_TASK",SET_RAW_SALES_DATA:"SET_RAW_SALES_DATA"};function eU(t,e){switch(e.type){case le.SET_CURRENT_SHEET:return{...t,currentSheet:e.payload};case le.SET_LOADING:return{...t,loading:e.payload};case le.SET_ERROR:return{...t,error:e.payload,loading:!1};case le.SET_SALES_DATA:return{...t,salesData:e.payload,loading:!1,error:null};case le.SET_VENUES_DATA:return{...t,venuesData:e.payload,loading:!1,error:null};case le.SET_STAFF_DATA:return{...t,staffData:e.payload,loading:!1,error:null};case le.ADD_SALES_ENTRY:return{...t,salesData:[...t.salesData,e.payload]};case le.UPDATE_SALES_ENTRY:return{...t,salesData:t.salesData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_SALES_ENTRY:return{...t,salesData:t.salesData.filter(r=>r.id!==e.payload)};case le.ADD_VENUE_ENTRY:return{...t,venuesData:[...t.venuesData,e.payload]};case le.UPDATE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.filter(r=>r.id!==e.payload)};case le.ADD_STAFF_ENTRY:return{...t,staffData:[...t.staffData,e.payload]};case le.UPDATE_STAFF_ENTRY:return{...t,staffData:t.staffData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_STAFF_ENTRY:return{...t,staffData:t.staffData.filter(r=>r.id!==e.payload)};case le.SET_CURRENT_MONTH:return{...t,currentMonth:e.payload};case le.SET_SELECTED_VENUE:return{...t,selectedVenue:e.payload};case le.SET_IS_AUTHENTICATED:return{...t,isAuthenticated:e.payload};case le.SET_USER:return{...t,user:e.payload,isAuthenticated:!!e.payload};case le.SET_USERS_DATA:return{...t,usersData:e.payload};case le.SET_MESSAGES_DATA:return{...t,messagesData:e.payload};case le.SET_MESSAGE_GROUPS:return{...t,messageGroups:e.payload};case le.ADD_MESSAGE:return{...t,messagesData:[...t.messagesData,e.payload]};case le.SET_CURRENT_USER:return{...t,currentUser:e.payload};case le.SET_SELECTED_GROUP:return{...t,selectedGroup:e.payload};case le.SET_TASKS_DATA:return{...t,tasksData:e.payload};case le.ADD_TASK:return{...t,tasksData:[e.payload,...t.tasksData]};case le.UPDATE_TASK:return{...t,tasksData:t.tasksData.map(r=>r.id===e.payload.id?e.payload:r)};case le.DELETE_TASK:return{...t,tasksData:t.tasksData.filter(r=>r.id!==e.payload)};case le.SET_TASK_COMMENTS:return{...t,taskComments:e.payload};case le.ADD_TASK_COMMENT:return{...t,taskComments:[e.payload,...t.taskComments]};case le.SET_SELECTED_TASK:return{...t,selectedTask:e.payload};case le.SET_RAW_SALES_DATA:return{...t,rawSalesData:e.payload};default:return t}}const vO=C.createContext();function tU({children:t}){const[e,r]=C.useReducer(eU,JF),n=async()=>{try{const[T,N]=await Promise.all([ue.getUsers(),ue.getMessageGroups()]);T.success&&r({type:le.SET_USERS_DATA,payload:T.data}),N.success&&r({type:le.SET_MESSAGE_GROUPS,payload:N.data})}catch(T){console.error("Failed to load staff and groups data:",T)}};C.useEffect(()=>{setTimeout(()=>{i()},100)},[]),C.useEffect(()=>{a()},[e.currentSheet]);const i=async()=>{r({type:le.SET_LOADING,payload:!0});try{if(await ue.init()){const N=await P();console.log("Auth check result:",N);const R=new Promise((I,Y)=>setTimeout(()=>Y(new Error("Data loading timeout")),1e4));try{await Promise.race([Promise.all([a(),l(),u()]),R]),n(),B()}catch(I){console.warn("Data loading timed out, continuing with app:",I)}}}catch(T){console.error("Failed to initialize app:",T),r({type:le.SET_ERROR,payload:T.message})}finally{r({type:le.SET_LOADING,payload:!1})}},a=async()=>{try{const T=e.currentSheet==="CAMPER_HISTORY"?"camper_history":"trailer_history";console.log(`Loading sales data from table: ${T}`);const N=await ue.readTable(T);if(N.success){const R=N.data.map(Y=>ac(Y,e.currentSheet)),I=YF(R);r({type:le.SET_SALES_DATA,payload:I}),r({type:le.SET_RAW_SALES_DATA,payload:R})}else r({type:le.SET_ERROR,payload:N.error})}catch(T){r({type:le.SET_ERROR,payload:T.message})}},s=async()=>{try{const T=e.currentSheet==="CAMPER_HISTORY"?"camper_history":"trailer_history";console.log(`Loading raw sales data from table: ${T}`);const N=await ue.readTable(T);if(N.success){const R=N.data.map(I=>ac(I,e.currentSheet));r({type:le.SET_RAW_SALES_DATA,payload:R})}else r({type:le.SET_ERROR,payload:N.error})}catch(T){r({type:le.SET_ERROR,payload:T.message})}},o=async()=>{try{console.log("Starting cleanup of zero sales entries...");const{createClient:T}=await Ji(()=>Promise.resolve().then(()=>dg),void 0),N=T("https://kvsbrrmzedadyffqtcdq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw"),R=e.currentSheet==="CAMPER_HISTORY"?"camper_history":"trailer_history";console.log(`Using table: ${R} for cleanup`);const{data:I,error:Y}=await N.from(R).select("id, net_sales, gross_sales, date, store").or("net_sales.lte.0,gross_sales.lte.0");if(Y)return console.error("Error querying zero sales entries:",Y),{success:!1,error:`Query error: ${Y.message}`};if(console.log(`Found ${(I==null?void 0:I.length)||0} zero sales entries to clean up`),I&&I.length>0){const ee=I.map(async be=>{console.log(`Deleting entry ID ${be.id}: net_sales=${be.net_sales}, gross_sales=${be.gross_sales}`);const{error:K}=await N.from(R).delete().eq("id",be.id);return K?(console.error(`Error deleting entry ${be.id}:`,K),{success:!1,error:K.message}):{success:!0,id:be.id}}),ae=await Promise.all(ee),ce=ae.filter(be=>be.success).length,fe=ae.filter(be=>!be.success).length;return console.log(`Cleanup completed: ${ce} deleted, ${fe} failed`),await s(),fe>0?{success:!1,error:`${ce} entries cleaned up, but ${fe} failed to delete`}:{success:!0,message:`${ce} zero sales entries cleaned up successfully`}}else return{success:!0,message:"No zero sales entries found to clean up"}}catch(T){return console.error("Cleanup error:",T),{success:!1,error:T.message}}},l=async()=>{try{const T=await ue.readTable("venues");if(T.success){const N=T.data.map(R=>gd(R));r({type:le.SET_VENUES_DATA,payload:N})}else r({type:le.SET_ERROR,payload:T.error})}catch(T){r({type:le.SET_ERROR,payload:T.message})}},u=async()=>{try{const T=await ue.readTable("staff");if(T.success){const N=T.data.map(R=>G_(R));r({type:le.SET_STAFF_DATA,payload:N})}else{const N=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:le.SET_STAFF_DATA,payload:N})}}catch{const N=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:le.SET_STAFF_DATA,payload:N})}},d=T=>{r({type:le.SET_CURRENT_SHEET,payload:T})},f=async T=>{try{const N="trailer_history",R=ac(T,e.currentSheet),I=await ue.addRow(N,R);if(I.success){const Y=ac(I.data,e.currentSheet);return r({type:le.ADD_SALES_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:I.error}}catch(N){return{success:!1,error:N.message}}},h=async(T,N)=>{try{const R=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",I=await ue.updateRow(R,T,N);if(I.success){const Y={...N,id:T};return r({type:le.UPDATE_SALES_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:I.error}}catch(R){return{success:!1,error:R.message}}},m=async T=>{try{const N=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",R=await ue.deleteRow(N,T);return R.success?(r({type:le.DELETE_SALES_ENTRY,payload:T}),{success:!0}):{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},p=async T=>{try{const N=gd(T),R=await ue.addRow("venues",N);if(R.success){const I=gd(R.data);return r({type:le.ADD_VENUE_ENTRY,payload:I}),{success:!0}}else return{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},g=async(T,N)=>{try{const R=gd(N),I=await ue.updateRow("venues",T,R);if(I.success){const Y={...N,id:T};return r({type:le.UPDATE_VENUE_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:I.error}}catch(R){return{success:!1,error:R.message}}},v=async T=>{try{const N=await ue.deleteRow("venues",T);return N.success?(r({type:le.DELETE_VENUE_ENTRY,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},x=async T=>{try{const N=q_(T,!0),R=await ue.addRow("staff",N);if(R.success){const I=G_(R.data);return r({type:le.ADD_STAFF_ENTRY,payload:I}),{success:!0}}else return{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},y=async(T,N)=>{try{const R=q_(N,!1),I=await ue.updateRow("staff",T,R);if(I.success){const Y={...N,id:T};return r({type:le.UPDATE_STAFF_ENTRY,payload:Y}),{success:!0}}else return{success:!1,error:I.error}}catch(R){return{success:!1,error:R.message}}},b=async T=>{try{const N=await ue.deleteRow("staff",T);return N.success?(r({type:le.DELETE_STAFF_ENTRY,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},_=T=>{r({type:le.SET_CURRENT_MONTH,payload:T})},w=T=>{r({type:le.SET_SELECTED_VENUE,payload:T})},S=()=>{r({type:le.SET_ERROR,payload:null})},j=T=>{r({type:le.SET_IS_AUTHENTICATED,payload:T})},E=T=>{r({type:le.SET_USER,payload:T})},A=async(T,N)=>{try{const R=await ue.signIn(T,N);if(R.success){const I=R.data;if(!I.staffMember)try{const{createClient:Y}=await Ji(()=>Promise.resolve().then(()=>dg),void 0),ee=Y("https://kvsbrrmzedadyffqtcdq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw"),{data:ae}=await ee.from("staff").select("*").eq("email",T).single();ae&&(await ee.from("users").update({staff_id:ae.id}).eq("email",T),I.staffMember=ae,I.name=ae.name||I.name,I.staff_id=ae.id)}catch{console.log("No staff member found for email:",T)}return r({type:le.SET_USER,payload:I}),{success:!0,data:I}}else return{success:!1,error:R.error}}catch(R){return console.error("Sign in error:",R),{success:!1,error:R.message}}},k=async(T,N,R)=>{try{const I=await ue.signUp(T,N,R);return I.success?{success:!0}:{success:!1,error:I.error}}catch(I){return{success:!1,error:I.message}}},D=async()=>{try{const T=await ue.signOut();return T.success?(E(null),{success:!0}):{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},P=async()=>{try{const T=await ue.getCurrentUser();if(T.success){const N=T.data;if(!N.staffMember)try{const{createClient:R}=await Ji(()=>Promise.resolve().then(()=>dg),void 0),I=R("https://kvsbrrmzedadyffqtcdq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw"),{data:Y}=await I.from("staff").select("*").eq("email",N.email).single();Y&&(await I.from("users").update({staff_id:Y.id}).eq("email",N.email),N.staffMember=Y,N.name=Y.name||N.name,N.staff_id=Y.id,r({type:le.SET_CURRENT_USER,payload:Y}),console.log("Auto-set current user to staff member:",Y.name))}catch{console.log("No staff member found for email:",N.email)}return E(N),!0}else return E(null),!1}catch{return E(null),!1}},O=async T=>{try{const N=await ue.resendConfirmationEmail(T);return N.success?{success:!0}:{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},z=async T=>{try{if(T){const N=await ue.init();return r({type:le.SET_IS_AUTHENTICATED,payload:N}),N}else return r({type:le.SET_IS_AUTHENTICATED,payload:!1}),!0}catch(N){return console.error("Supabase connection toggle error:",N),r({type:le.SET_IS_AUTHENTICATED,payload:!1}),!1}},W=()=>e.staffData.filter(T=>T.status==="Active"),G=async T=>{try{const N=await ue.getMessages(T);if(N.success){const R=N.data.map(I=>{const Y=e.usersData.find(ee=>ee.id===I.sender_id);return{...I,sender:Y?{id:Y.id,name:Y.name,email:Y.email}:{id:I.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"}}});r({type:le.SET_MESSAGES_DATA,payload:R})}}catch(N){console.error("Failed to load messages:",N)}},M=async T=>{var N,R;try{const I=await ue.sendMessage(T);if(I.success){const Y={...I.data,sender:{id:T.sender_id,name:((N=e.currentUser)==null?void 0:N.name)||"Unknown User",email:((R=e.currentUser)==null?void 0:R.email)||"unknown@scrubshop.com"}};return r({type:le.ADD_MESSAGE,payload:Y}),{success:!0}}else return{success:!1,error:I.error}}catch(I){return{success:!1,error:I.message}}},$=T=>{r({type:le.SET_CURRENT_USER,payload:T})},U=T=>{r({type:le.SET_SELECTED_GROUP,payload:T})},B=async()=>{try{const T=await ue.getTasks();T.success&&r({type:le.SET_TASKS_DATA,payload:T.data})}catch(T){console.error("Failed to load tasks:",T)}},H=async T=>{try{const N=await ue.createTask(T);return N.success?(r({type:le.ADD_TASK,payload:N.data}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},V=async(T,N)=>{try{const R=await ue.updateTask(T,N);return R.success?(r({type:le.UPDATE_TASK,payload:{id:T,...N}}),{success:!0}):{success:!1,error:R.error}}catch(R){return{success:!1,error:R.message}}},q=async T=>{try{const N=await ue.deleteTask(T);return N.success?(r({type:le.DELETE_TASK,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},re=async T=>{try{const N=await ue.getTaskComments(T);N.success&&r({type:le.SET_TASK_COMMENTS,payload:N.data})}catch(N){console.error("Failed to load task comments:",N)}},se=async T=>{try{const N=await ue.addTaskComment(T);return N.success?(r({type:le.ADD_TASK_COMMENT,payload:N.data}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},de=T=>{r({type:le.SET_SELECTED_TASK,payload:T})},Ee=F.useCallback(async T=>{try{let N=T.isWorkDay?"WORK DAY":T.venue||"";if(T.isWorkDay&&T.workers&&T.workers.length>0){const Y=T.workers.join(","),ee=T.hours||"0";N=`WORK DAY|${Y}|${ee}`}const R={date:T.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:N,Store:T.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},I=await ue.addRow("trailer_history",R);return I.success?{success:!0,data:{id:I.data.id,title:T.title,date:T.date,backgroundColor:T.isWorkDay?"#fefce8":"#dcfce7",borderColor:T.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:T.isWorkDay?"workday":"sale",workers:T.workers,worker:T.workers.join(", "),hours:T.hours,venueId:T.venueId,venue:e.venuesData.find(ee=>ee.id===T.venueId)}}}:{success:!1,error:I.error}}catch(N){return{success:!1,error:N.message}}},[e.currentSheet,e.venuesData]),he=F.useCallback(async(T,N)=>{try{let R=N.isWorkDay?"WORK DAY":N.venue||"";if(N.isWorkDay&&N.workers&&N.workers.length>0){const ee=N.workers.join(","),ae=N.hours||"0";R=`WORK DAY|${ee}|${ae}`}const I={date:N.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:R,Store:N.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},Y=await ue.updateRow("trailer_history",T,I);return Y.success?{success:!0,data:{id:T,title:N.title,date:N.date,backgroundColor:N.isWorkDay?"#fefce8":"#dcfce7",borderColor:N.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:N.isWorkDay?"workday":"sale",workers:N.workers,worker:N.workers.join(", "),hours:N.hours,venueId:N.venueId,venue:e.venuesData.find(ae=>ae.id===N.venueId)}}}:{success:!1,error:Y.error}}catch(R){return{success:!1,error:R.message}}},[e.currentSheet,e.venuesData]),X=F.useCallback(async T=>{try{const N=await ue.deleteRow("trailer_history",T);return N.success?{success:!0}:{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},[]),oe=F.useCallback(async()=>{try{const T=await ue.readTable("trailer_history",{filters:{Store:99}});return T.success?{success:!0,data:T.data.map(R=>{let I=[],Y="";if(R.common_venue_name.startsWith("WORK DAY|")){const ee=R.common_venue_name.split("|");ee.length>=3&&(I=ee[1].split(",").filter(ae=>ae.trim()!==""),Y=ee[2]||"")}return{id:R.id,title:"Work Day",date:R.date,backgroundColor:"#fefce8",borderColor:"#fde047",extendedProps:{type:"workday",workers:I,worker:I.join(", "),hours:Y,venueId:null,venue:null}}})}:{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},[]),ne={...e,workers:W(),supabaseAPI:ue,setCurrentSheet:d,addSalesEntry:f,updateSalesEntry:h,deleteSalesEntry:m,addVenueEntry:p,updateVenueEntry:g,deleteVenueEntry:v,addStaffEntry:x,updateStaffEntry:y,deleteStaffEntry:b,setCurrentMonth:_,setSelectedVenue:w,clearError:S,loadSalesData:a,loadVenuesData:l,loadStaffData:u,setIsAuthenticated:j,setUser:E,signIn:A,signUp:k,signOut:D,checkAuth:P,resendConfirmationEmail:O,toggleSupabaseConnection:z,loadStaffAndGroups:n,loadMessages:G,sendMessage:M,setCurrentUser:$,setSelectedGroup:U,loadTasks:B,addTask:H,updateTask:V,deleteTask:q,loadTaskComments:re,addTaskComment:se,setSelectedTask:de,addCalendarEvent:Ee,updateCalendarEvent:he,deleteCalendarEvent:X,loadCalendarEvents:oe,loadRawSalesData:s,cleanupZeroSalesEntries:o};return c.jsx(vO.Provider,{value:ne,children:t})}function Nt(){const t=C.useContext(vO);if(!t)throw new Error("useApp must be used within an AppProvider");return t}function rU({onSuccess:t,onSwitchToRegister:e}){const[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(!1),[l,u]=C.useState(""),{signIn:d}=Nt(),f=async h=>{h.preventDefault(),o(!0),u("");try{const m=await d(r,i);m.success?t&&t():u(m.error||"Login failed")}catch(m){u("An unexpected error occurred"),console.error("Login error:",m)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Scrub Shop"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your sales dashboard and management tools"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:h=>n(h.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:i,onChange:h=>a(h.target.value)})]})]}),l&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:l})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Don't have an account? Sign up"})})]})]})})}function nU({email:t,onConfirmed:e}){const[r,n]=C.useState(!1),[i,a]=C.useState(""),[s,o]=C.useState(""),{resendConfirmationEmail:l}=Nt(),u=async()=>{n(!0),a(""),o("");try{const d=await l(t);d.success?o("Confirmation email sent! Please check your inbox."):a(d.error||"Failed to resend confirmation email")}catch(d){a("An unexpected error occurred"),console.error("Resend error:",d)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Email"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["We sent a confirmation email to ",t]})]}),c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please check your email and click the confirmation link to verify your account."}),s&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:s})}),i&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:i})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:u,disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending...":"Resend Confirmation Email"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"I've Confirmed My Email"})]}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try resending."})})]})})]})})}function iU({onSuccess:t,onSwitchToLogin:e}){const[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(""),[l,u]=C.useState(""),[d,f]=C.useState(!1),[h,m]=C.useState(""),[p,g]=C.useState(""),[v,x]=C.useState(!1),{signUp:y}=Nt(),b=async _=>{if(_.preventDefault(),f(!0),m(""),g(""),i!==s){m("Passwords do not match"),f(!1);return}if(i.length<6){m("Password must be at least 6 characters long"),f(!1);return}try{const w=await y(r,i,l);w.success?x(!0):m(w.error||"Registration failed")}catch(w){m("An unexpected error occurred"),console.error("Registration error:",w)}finally{f(!1)}};return v?c.jsx(nU,{email:r,onConfirmed:t}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Scrub Shop management team"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:l,onChange:_=>u(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:_=>n(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password (min 6 characters)",value:i,onChange:_=>a(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:_=>o(_.target.value)})]})]}),h&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:h})}),p&&c.jsx("div",{className:"rounded-md bg-green-50 p-4",children:c.jsx("div",{className:"text-sm text-green-700",children:p})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating account...":"Create account"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Already have an account? Sign in"})})]})]})})}function aU({children:t}){const{user:e,loading:r}=Nt(),[n,i]=F.useState(!1);return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):e?t:n?c.jsx(iU,{onSuccess:()=>i(!1),onSwitchToLogin:()=>i(!1)}):c.jsx(rU,{onSuccess:()=>{},onSwitchToRegister:()=>i(!0)})}var sU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lU=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>C.createElement("svg",{ref:u,...sU,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${oU(t)}`,...l},[...e.map(([d,f])=>C.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Ce=lU;const Sy=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),cU=Ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),nf=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),_y=Ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),bb=Ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Or=Ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Y_=Ce("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),Ey=Ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),uU=Ce("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),yc=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),wb=Ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Sb=Ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ma=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Yn=Ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yO=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),jy=Ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),dU=Ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Tn=Ce("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),fU=Ce("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),hU=Ce("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),mU=Ce("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),pU=Ce("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),gU=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),xn=Ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),vU=Ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ys=Ce("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),yU=Ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),pa=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),xU=Ce("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),_b=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),bU=Ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),wU=Ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),zf=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xO=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ga=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Lm=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ay=Ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),as=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dn=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),SU=Ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Gc=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bO=Ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function wO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=wO(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function _U(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=wO(t))&&(n&&(n+=" "),n+=e);return n}function EU(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=SO(e))&&(n&&(n+=" "),n+=r);return n}function SO(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=SO(t[n]))&&(r&&(r+=" "),r+=e);return r}var Eb="-";function jU(t){var e=TU(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(o){var l=o.split(Eb);return l[0]===""&&l.length!==1&&l.shift(),_O(l,e)||AU(o)}function s(o,l){var u=r[o]||[];return l&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:a,getConflictingClassGroupIds:s}}function _O(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?_O(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(Eb);return(s=e.validators.find(function(o){var l=o.validator;return l(a)}))==null?void 0:s.classGroupId}}var K_=/^\[(.+)\]$/;function AU(t){if(K_.test(t)){var e=K_.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function TU(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=CU(Object.entries(t.classGroups),r);return i.forEach(function(a){var s=a[0],o=a[1];Ty(o,n,s,e)}),n}function Ty(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:Q_(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(NU(i)){Ty(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(s){var o=s[0],l=s[1];Ty(l,Q_(e,o),r,n)})})}function Q_(t,e){var r=t;return e.split(Eb).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function NU(t){return t.isThemeGetter}function CU(t,e){return e?t.map(function(r){var n=r[0],i=r[1],a=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[e+l,u]})):s});return[n,a]}):t}function kU(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(a,s){r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):i(s,o)}}}var EO="!";function OU(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(s){for(var o=[],l=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===n&&(r||s.slice(f,f+i)===e)){o.push(s.slice(u,f)),u=f+i;continue}if(h==="/"){d=f;continue}}h==="["?l++:h==="]"&&l--}var m=o.length===0?s:s.substring(u),p=m.startsWith(EO),g=p?m.substring(1):m,v=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}}}function DU(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function PU(t){return{cache:kU(t.cacheSize),splitModifiers:OU(t),...jU(t)}}var MU=/\s+/;function RU(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(MU).map(function(s){var o=r(s),l=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),m=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};m=!1}var p=DU(l).join(":"),g=u?p+EO:p;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:s,hasPostfixModifier:m}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,d=o+l;return a.has(d)?!1:(a.add(d),i(l,u).forEach(function(f){return a.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function IU(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,a,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(m,p){return p(m)},d());return n=PU(h),i=n.cache.get,a=n.cache.set,s=l,l(u)}function l(u){var d=i(u);if(d)return d;var f=RU(u,n);return a(u,f),f}return function(){return s(EU.apply(null,arguments))}}function ot(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var jO=/^\[(?:([a-z-]+):)?(.+)\]$/i,$U=/^\d+\/\d+$/,LU=new Set(["px","full","screen"]),FU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BU=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nn(t){return Ha(t)||LU.has(t)||$U.test(t)||Ny(t)}function Ny(t){return xs(t,"length",qU)}function HU(t){return xs(t,"size",AO)}function zU(t){return xs(t,"position",AO)}function WU(t){return xs(t,"url",YU)}function vd(t){return xs(t,"number",Ha)}function Ha(t){return!Number.isNaN(Number(t))}function VU(t){return t.endsWith("%")&&Ha(t.slice(0,-1))}function Rl(t){return X_(t)||xs(t,"number",X_)}function Me(t){return jO.test(t)}function Il(){return!0}function Ei(t){return FU.test(t)}function GU(t){return xs(t,"",KU)}function xs(t,e,r){var n=jO.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function qU(t){return UU.test(t)}function AO(){return!1}function YU(t){return t.startsWith("url(")}function X_(t){return Number.isInteger(Number(t))}function KU(t){return BU.test(t)}function QU(){var t=ot("colors"),e=ot("spacing"),r=ot("blur"),n=ot("brightness"),i=ot("borderColor"),a=ot("borderRadius"),s=ot("borderSpacing"),o=ot("borderWidth"),l=ot("contrast"),u=ot("grayscale"),d=ot("hueRotate"),f=ot("invert"),h=ot("gap"),m=ot("gradientColorStops"),p=ot("gradientColorStopPositions"),g=ot("inset"),v=ot("margin"),x=ot("opacity"),y=ot("padding"),b=ot("saturate"),_=ot("scale"),w=ot("sepia"),S=ot("skew"),j=ot("space"),E=ot("translate"),A=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Me,e]},P=function(){return[Me,e]},O=function(){return["",nn]},z=function(){return["auto",Ha,Me]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},M=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},$=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",Me]},B=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},H=function(){return[Ha,vd]},V=function(){return[Ha,Me]};return{cacheSize:500,theme:{colors:[Il],spacing:[nn],blur:["none","",Ei,Me],brightness:H(),borderColor:[t],borderRadius:["none","","full",Ei,Me],borderSpacing:P(),borderWidth:O(),contrast:H(),grayscale:U(),hueRotate:V(),invert:U(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[VU,Ny],inset:D(),margin:D(),opacity:H(),padding:P(),saturate:H(),scale:H(),sepia:U(),skew:V(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[Me])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Rl]}],"grid-cols":[{"grid-cols":[Il]}],"col-start-end":[{col:["auto",{span:["full",Rl]},Me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Il]}],"row-start-end":[{row:["auto",{span:[Rl]},Me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat($())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat($(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat($(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Me,e]}],"min-w":[{"min-w":["min","max","fit",Me,nn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ei]},Ei,Me]}],h:[{h:[Me,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Me,nn]}],"max-h":[{"max-h":[Me,e,"min","max","fit"]}],"font-size":[{text:["base",Ei,Ny]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vd]}],"font-family":[{font:[Il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Ha,vd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Me,nn]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nn]}],"underline-offset":[{"underline-offset":["auto",Me,nn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[zU])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[Me,nn]}],"outline-w":[{outline:[nn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ei,GU]}],"shadow-color":[{shadow:[Il]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ei,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Rl,Me]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nn,vd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var XU=IU(QU);function He(...t){return XU(_U(t))}function ZU(){const{user:t,signOut:e}=Nt();return t?c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:t.name||t.email}),t.role&&c.jsxs("span",{className:"ml-2 text-gray-500",children:["(",t.role,")"]})]}),c.jsx("button",{onClick:e,className:"text-sm text-gray-500 hover:text-gray-700",children:"Sign out"})]}):null}const Rt={MANAGER:"Manager",WORKER:"Worker"},JU={"/dashboard":[Rt.MANAGER,Rt.WORKER],"/tasks":[Rt.MANAGER,Rt.WORKER],"/messages":[Rt.MANAGER,Rt.WORKER],"/sales-analysis":[Rt.MANAGER],"/scheduler":[Rt.MANAGER,Rt.WORKER],"/daily-sales":[Rt.MANAGER],"/venues":[Rt.MANAGER,Rt.WORKER],"/calendar":[Rt.MANAGER,Rt.WORKER],"/bonuses":[Rt.MANAGER],"/staff":[Rt.MANAGER],"/admin/sales-upload":[Rt.MANAGER]},eB=(t,e)=>{if(!t||!t.role)return!1;const r=JU[e];return r?r.includes(t.role):!1},vg=(t,e)=>e?t.filter(r=>eB(e,r.href)):[],yd=t=>t&&t.role===Rt.MANAGER,tB=({size:t="medium",className:e=""})=>{const n=(()=>{switch(t){case"small":return{welcome:"text-xs",main:"text-lg",tagline:"text-xs",container:"py-1"};case"large":return{welcome:"text-lg",main:"text-3xl",tagline:"text-base",container:"py-3"};default:return{welcome:"text-sm",main:"text-2xl",tagline:"text-sm",container:"py-2"}}})();return c.jsxs("div",{className:`flex flex-col items-center justify-center ${e}`,children:[c.jsx("div",{className:`font-bold text-black mb-1 ${n.welcome}`,children:"WELCOME TO"}),c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("span",{className:`italic text-green-500 mr-1 ${n.welcome}`,children:"The"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:`italic font-bold text-white ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Scrub"}),c.jsx("span",{className:`italic font-bold text-green-500 ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Shop"})]})]}),c.jsx("div",{className:`bg-black rounded-lg px-2 ${n.container}`,children:c.jsx("span",{className:`font-bold text-white ${n.tagline}`,children:"FOOTWEAR & APPAREL"})})]})},rB=()=>{const t=sl(),{currentSheet:e,setCurrentSheet:r,currentUser:n,setCurrentUser:i,staffData:a}=Nt(),[s,o]=C.useState(!1),[l,u]=C.useState(!1),[d,f]=C.useState(!1),h=C.useRef(null),m=C.useRef(null),p=C.useRef(null);C.useEffect(()=>{const j=E=>{h.current&&!h.current.contains(E.target)&&o(!1),m.current&&!m.current.contains(E.target)&&u(!1),p.current&&!p.current.contains(E.target)&&f(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const g=j=>j==="/"?t.pathname==="/":t.pathname.startsWith(j),v=j=>{const E=a.find(A=>A.id===parseInt(j));i(E),o(!1)},x=[{name:"Dashboard",href:"/dashboard",icon:_y},{name:"Tasks",href:"/tasks",icon:uU},{name:"Messages",href:"/messages",icon:vU},{name:"Scheduler",href:"/scheduler",icon:ma}],y=[{name:"Daily Sales",href:"/daily-sales",icon:_y},{name:"Venues",href:"/venues",icon:xn},{name:"Calendar",href:"/calendar",icon:Or},{name:"Bonuses",href:"/bonuses",icon:Lm}],b=[{name:"Staff",href:"/staff",icon:Dn},{name:"Sales Upload",href:"/admin/sales-upload",icon:Ay}],_=vg(x,n),w=vg(y,n),S=vg(b,n);return c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-secondary-200 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(tB,{size:"small",className:"text-primary-600"})}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[_.map(j=>{const E=j.icon;return c.jsxs(Cs,{to:j.href,className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g(j.href)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)}),w.length>0&&c.jsxs("div",{className:"relative",ref:m,onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=m.current)!=null&&j.matches(":hover")||u(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/daily-sales")||g("/venues")||g("/calendar")||g("/bonuses")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(Y_,{className:"w-4 h-4 mr-2"}),"ROAD",c.jsx(yc,{className:"w-4 h-4 ml-1"})]}),l&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=m.current)!=null&&j.matches(":hover")||u(!1)},200)},children:w.map(j=>{const E=j.icon;return c.jsxs(Cs,{to:j.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(j.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)})})]}),S.length>0&&c.jsxs("div",{className:"relative",ref:p,onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=p.current)!=null&&j.matches(":hover")||f(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/staff")||g("/admin/sales-upload")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(zf,{className:"w-4 h-4 mr-2"}),"ADMIN",c.jsx(yc,{className:"w-4 h-4 ml-1"})]}),d&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=p.current)!=null&&j.matches(":hover")||f(!1)},200)},children:S.map(j=>{const E=j.icon;return c.jsxs(Cs,{to:j.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(j.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(ZU,{}),n&&c.jsx("div",{className:"hidden sm:flex items-center px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:c.jsx("span",{className:"font-medium",children:n.role||"No Role"})}),c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(as,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:n?`${n.name} (${n.role||"No Role"})`:"Select User"}),c.jsx(yc,{className:"w-4 h-4"})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Select your name"}),a.map(j=>c.jsx("button",{onClick:()=>v(j.id),className:He("w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors",(n==null?void 0:n.id)===j.id?"bg-primary-50 text-primary-700":"text-gray-700"),children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:j.name}),c.jsx("div",{className:"text-xs text-gray-500",children:j.role||"No Role"})]})},j.id))]})]})]})]}),c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-secondary-200",children:[_.map(j=>{const E=j.icon;return c.jsxs(Cs,{to:j.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)}),w.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(Y_,{className:"w-4 h-4 mb-1"}),"ROAD"]}),S.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(zf,{className:"w-4 h-4 mb-1"}),"ADMIN"]})]}),w.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:w.map(j=>{const E=j.icon;return c.jsxs(Cs,{to:j.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)})})}),S.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:S.map(j=>{const E=j.icon;return c.jsxs(Cs,{to:j.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)})})})]})]})})};function TO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=TO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=TO(t))&&(n&&(n+=" "),n+=e);return n}var nB=Array.isArray,Er=nB,iB=typeof Gt=="object"&&Gt&&Gt.Object===Object&&Gt,NO=iB,aB=NO,sB=typeof self=="object"&&self&&self.Object===Object&&self,oB=aB||sB||Function("return this")(),Fn=oB,lB=Fn,cB=lB.Symbol,Lu=cB,Z_=Lu,CO=Object.prototype,uB=CO.hasOwnProperty,dB=CO.toString,$l=Z_?Z_.toStringTag:void 0;function fB(t){var e=uB.call(t,$l),r=t[$l];try{t[$l]=void 0;var n=!0}catch{}var i=dB.call(t);return n&&(e?t[$l]=r:delete t[$l]),i}var hB=fB,mB=Object.prototype,pB=mB.toString;function gB(t){return pB.call(t)}var vB=gB,J_=Lu,yB=hB,xB=vB,bB="[object Null]",wB="[object Undefined]",e1=J_?J_.toStringTag:void 0;function SB(t){return t==null?t===void 0?wB:bB:e1&&e1 in Object(t)?yB(t):xB(t)}var vi=SB;function _B(t){return t!=null&&typeof t=="object"}var yi=_B,EB=vi,jB=yi,AB="[object Symbol]";function TB(t){return typeof t=="symbol"||jB(t)&&EB(t)==AB}var cl=TB,NB=Er,CB=cl,kB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OB=/^\w*$/;function DB(t,e){if(NB(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||CB(t)?!0:OB.test(t)||!kB.test(t)||e!=null&&t in Object(e)}var jb=DB;function PB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var va=PB;const ul=Xe(va);var MB=vi,RB=va,IB="[object AsyncFunction]",$B="[object Function]",LB="[object GeneratorFunction]",FB="[object Proxy]";function UB(t){if(!RB(t))return!1;var e=MB(t);return e==$B||e==LB||e==IB||e==FB}var Ab=UB;const Ne=Xe(Ab);var BB=Fn,HB=BB["__core-js_shared__"],zB=HB,yg=zB,t1=function(){var t=/[^.]+$/.exec(yg&&yg.keys&&yg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WB(t){return!!t1&&t1 in t}var VB=WB,GB=Function.prototype,qB=GB.toString;function YB(t){if(t!=null){try{return qB.call(t)}catch{}try{return t+""}catch{}}return""}var kO=YB,KB=Ab,QB=VB,XB=va,ZB=kO,JB=/[\\^$.*+?()[\]{}|]/g,e6=/^\[object .+?Constructor\]$/,t6=Function.prototype,r6=Object.prototype,n6=t6.toString,i6=r6.hasOwnProperty,a6=RegExp("^"+n6.call(i6).replace(JB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s6(t){if(!XB(t)||QB(t))return!1;var e=KB(t)?a6:e6;return e.test(ZB(t))}var o6=s6;function l6(t,e){return t==null?void 0:t[e]}var c6=l6,u6=o6,d6=c6;function f6(t,e){var r=d6(t,e);return u6(r)?r:void 0}var bs=f6,h6=bs,m6=h6(Object,"create"),Fm=m6,r1=Fm;function p6(){this.__data__=r1?r1(null):{},this.size=0}var g6=p6;function v6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var y6=v6,x6=Fm,b6="__lodash_hash_undefined__",w6=Object.prototype,S6=w6.hasOwnProperty;function _6(t){var e=this.__data__;if(x6){var r=e[t];return r===b6?void 0:r}return S6.call(e,t)?e[t]:void 0}var E6=_6,j6=Fm,A6=Object.prototype,T6=A6.hasOwnProperty;function N6(t){var e=this.__data__;return j6?e[t]!==void 0:T6.call(e,t)}var C6=N6,k6=Fm,O6="__lodash_hash_undefined__";function D6(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=k6&&e===void 0?O6:e,this}var P6=D6,M6=g6,R6=y6,I6=E6,$6=C6,L6=P6;function dl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dl.prototype.clear=M6;dl.prototype.delete=R6;dl.prototype.get=I6;dl.prototype.has=$6;dl.prototype.set=L6;var F6=dl;function U6(){this.__data__=[],this.size=0}var B6=U6;function H6(t,e){return t===e||t!==t&&e!==e}var Tb=H6,z6=Tb;function W6(t,e){for(var r=t.length;r--;)if(z6(t[r][0],e))return r;return-1}var Um=W6,V6=Um,G6=Array.prototype,q6=G6.splice;function Y6(t){var e=this.__data__,r=V6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():q6.call(e,r,1),--this.size,!0}var K6=Y6,Q6=Um;function X6(t){var e=this.__data__,r=Q6(e,t);return r<0?void 0:e[r][1]}var Z6=X6,J6=Um;function eH(t){return J6(this.__data__,t)>-1}var tH=eH,rH=Um;function nH(t,e){var r=this.__data__,n=rH(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var iH=nH,aH=B6,sH=K6,oH=Z6,lH=tH,cH=iH;function fl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fl.prototype.clear=aH;fl.prototype.delete=sH;fl.prototype.get=oH;fl.prototype.has=lH;fl.prototype.set=cH;var Bm=fl,uH=bs,dH=Fn,fH=uH(dH,"Map"),Nb=fH,n1=F6,hH=Bm,mH=Nb;function pH(){this.size=0,this.__data__={hash:new n1,map:new(mH||hH),string:new n1}}var gH=pH;function vH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var yH=vH,xH=yH;function bH(t,e){var r=t.__data__;return xH(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Hm=bH,wH=Hm;function SH(t){var e=wH(this,t).delete(t);return this.size-=e?1:0,e}var _H=SH,EH=Hm;function jH(t){return EH(this,t).get(t)}var AH=jH,TH=Hm;function NH(t){return TH(this,t).has(t)}var CH=NH,kH=Hm;function OH(t,e){var r=kH(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var DH=OH,PH=gH,MH=_H,RH=AH,IH=CH,$H=DH;function hl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hl.prototype.clear=PH;hl.prototype.delete=MH;hl.prototype.get=RH;hl.prototype.has=IH;hl.prototype.set=$H;var Cb=hl,OO=Cb,LH="Expected a function";function kb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(LH);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(kb.Cache||OO),r}kb.Cache=OO;var DO=kb;const FH=Xe(DO);var UH=DO,BH=500;function HH(t){var e=UH(t,function(n){return r.size===BH&&r.clear(),n}),r=e.cache;return e}var zH=HH,WH=zH,VH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GH=/\\(\\)?/g,qH=WH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(VH,function(r,n,i,a){e.push(i?a.replace(GH,"$1"):n||r)}),e}),YH=qH;function KH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Ob=KH,i1=Lu,QH=Ob,XH=Er,ZH=cl,JH=1/0,a1=i1?i1.prototype:void 0,s1=a1?a1.toString:void 0;function PO(t){if(typeof t=="string")return t;if(XH(t))return QH(t,PO)+"";if(ZH(t))return s1?s1.call(t):"";var e=t+"";return e=="0"&&1/t==-JH?"-0":e}var e5=PO,t5=e5;function r5(t){return t==null?"":t5(t)}var MO=r5,n5=Er,i5=jb,a5=YH,s5=MO;function o5(t,e){return n5(t)?t:i5(t,e)?[t]:a5(s5(t))}var RO=o5,l5=cl,c5=1/0;function u5(t){if(typeof t=="string"||l5(t))return t;var e=t+"";return e=="0"&&1/t==-c5?"-0":e}var zm=u5,d5=RO,f5=zm;function h5(t,e){e=d5(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[f5(e[r++])];return r&&r==n?t:void 0}var Db=h5,m5=Db;function p5(t,e,r){var n=t==null?void 0:m5(t,e);return n===void 0?r:n}var IO=p5;const Kr=Xe(IO);function g5(t){return t==null}var v5=g5;const Oe=Xe(v5);var y5=vi,x5=Er,b5=yi,w5="[object String]";function S5(t){return typeof t=="string"||!x5(t)&&b5(t)&&y5(t)==w5}var _5=S5;const ss=Xe(_5);var $O={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=Symbol.for("react.element"),Mb=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Ym=Symbol.for("react.context"),E5=Symbol.for("react.server_context"),Km=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),Jm=Symbol.for("react.lazy"),j5=Symbol.for("react.offscreen"),LO;LO=Symbol.for("react.module.reference");function en(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Pb:switch(t=t.type,t){case Wm:case Gm:case Vm:case Qm:case Xm:return t;default:switch(t=t&&t.$$typeof,t){case E5:case Ym:case Km:case Jm:case Zm:case qm:return t;default:return e}}case Mb:return e}}}Ge.ContextConsumer=Ym;Ge.ContextProvider=qm;Ge.Element=Pb;Ge.ForwardRef=Km;Ge.Fragment=Wm;Ge.Lazy=Jm;Ge.Memo=Zm;Ge.Portal=Mb;Ge.Profiler=Gm;Ge.StrictMode=Vm;Ge.Suspense=Qm;Ge.SuspenseList=Xm;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return en(t)===Ym};Ge.isContextProvider=function(t){return en(t)===qm};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pb};Ge.isForwardRef=function(t){return en(t)===Km};Ge.isFragment=function(t){return en(t)===Wm};Ge.isLazy=function(t){return en(t)===Jm};Ge.isMemo=function(t){return en(t)===Zm};Ge.isPortal=function(t){return en(t)===Mb};Ge.isProfiler=function(t){return en(t)===Gm};Ge.isStrictMode=function(t){return en(t)===Vm};Ge.isSuspense=function(t){return en(t)===Qm};Ge.isSuspenseList=function(t){return en(t)===Xm};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wm||t===Gm||t===Vm||t===Qm||t===Xm||t===j5||typeof t=="object"&&t!==null&&(t.$$typeof===Jm||t.$$typeof===Zm||t.$$typeof===qm||t.$$typeof===Ym||t.$$typeof===Km||t.$$typeof===LO||t.getModuleId!==void 0)};Ge.typeOf=en;$O.exports=Ge;var A5=$O.exports,T5=vi,N5=yi,C5="[object Number]";function k5(t){return typeof t=="number"||N5(t)&&T5(t)==C5}var FO=k5;const O5=Xe(FO);var D5=FO;function P5(t){return D5(t)&&t!=+t}var M5=P5;const ml=Xe(M5);var mn=function(e){return e===0?0:e>0?1:-1},za=function(e){return ss(e)&&e.indexOf("%")===e.length-1},ie=function(e){return O5(e)&&!ml(e)},R5=function(e){return Oe(e)},Pt=function(e){return ie(e)||ss(e)},I5=0,pl=function(e){var r=++I5;return"".concat(e||"").concat(r)},os=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!ss(e))return n;var a;if(za(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return ml(a)&&(a=n),i&&a>r&&(a=r),a},Ri=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},$5=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Vt=function(e,r){return ie(e)&&ie(r)?function(n){return e+n*(r-e)}:function(){return r}};function Wf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Kr(n,e))===r})}var L5=function(e,r){return ie(e)&&ie(r)?e-r:ss(e)&&ss(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function uo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}var F5=["viewBox","children"],U5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o1=["points","pathLength"],xg={svg:F5,polygon:o1,polyline:o1},Rb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),!ul(n))return null;var i={};return Object.keys(n).forEach(function(a){Rb.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},B5=function(e,r,n){return function(i){return e(r,n,i),null}},Gf=function(e,r,n){if(!ul(e)||Cy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];Rb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=B5(s,r,n))}),i},H5=["children"],z5=["children"];function l1(t,e){if(t==null)return{};var r=W5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}var c1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ri=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},u1=null,bg=null,Ib=function t(e){if(e===u1&&Array.isArray(bg))return bg;var r=[];return C.Children.forEach(e,function(n){Oe(n)||(A5.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),bg=r,u1=e,r};function Qr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ri(i)}):n=[ri(e)],Ib(t).forEach(function(i){var a=Kr(i,"type.displayName")||Kr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Nr(t,e){var r=Qr(t,e);return r&&r[0]}var d1=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ie(n)||n<=0||!ie(i)||i<=0)},V5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],G5=function(e){return e&&e.type&&ss(e.type)&&V5.indexOf(e.type)>=0},UO=function(e){return e&&ky(e)==="object"&&"clipDot"in e},q5=function(e,r,n,i){var a,s=(a=xg==null?void 0:xg[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ne(e)&&(i&&s.includes(r)||U5.includes(r))||n&&Rb.includes(r)},ke=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!ul(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;q5((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Oy=function t(e,r){if(e===r)return!0;var n=C.Children.count(e);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return f1(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!f1(a,s))return!1}return!0},f1=function(e,r){if(Oe(e)&&Oe(r))return!0;if(!Oe(e)&&!Oe(r)){var n=e.props||{},i=n.children,a=l1(n,H5),s=r.props||{},o=s.children,l=l1(s,z5);return i&&o?uo(a,l)&&Oy(i,o):!i&&!o?uo(a,l):!1}return!1},h1=function(e,r){var n=[],i={};return Ib(e).forEach(function(a,s){if(G5(a))n.push(a);else if(a){var o=ri(a.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},Y5=function(e){var r=e&&e.type;return r&&c1[r]?c1[r]:null},K5=function(e,r){return Ib(r).indexOf(e)},Q5=["children","width","height","viewBox","className","style","title","desc"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dy.apply(this,arguments)}function X5(t,e){if(t==null)return{};var r=Z5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Py(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=X5(t,Q5),d=i||{width:r,height:n,x:0,y:0},f=Ie("recharts-surface",a);return F.createElement("svg",Dy({},ke(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,o),F.createElement("desc",null,l),e)}var J5=["children","className"];function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},My.apply(this,arguments)}function ez(t,e){if(t==null)return{};var r=tz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var it=F.forwardRef(function(t,e){var r=t.children,n=t.className,i=ez(t,J5),a=Ie("recharts-layer",n);return F.createElement("g",My({className:a},ke(i,!0),{ref:e}),r)}),ni=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function rz(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var nz=rz,iz=nz;function az(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:iz(t,e,r)}var sz=az,oz="\\ud800-\\udfff",lz="\\u0300-\\u036f",cz="\\ufe20-\\ufe2f",uz="\\u20d0-\\u20ff",dz=lz+cz+uz,fz="\\ufe0e\\ufe0f",hz="\\u200d",mz=RegExp("["+hz+oz+dz+fz+"]");function pz(t){return mz.test(t)}var BO=pz;function gz(t){return t.split("")}var vz=gz,HO="\\ud800-\\udfff",yz="\\u0300-\\u036f",xz="\\ufe20-\\ufe2f",bz="\\u20d0-\\u20ff",wz=yz+xz+bz,Sz="\\ufe0e\\ufe0f",_z="["+HO+"]",Ry="["+wz+"]",Iy="\\ud83c[\\udffb-\\udfff]",Ez="(?:"+Ry+"|"+Iy+")",zO="[^"+HO+"]",WO="(?:\\ud83c[\\udde6-\\uddff]){2}",VO="[\\ud800-\\udbff][\\udc00-\\udfff]",jz="\\u200d",GO=Ez+"?",qO="["+Sz+"]?",Az="(?:"+jz+"(?:"+[zO,WO,VO].join("|")+")"+qO+GO+")*",Tz=qO+GO+Az,Nz="(?:"+[zO+Ry+"?",Ry,WO,VO,_z].join("|")+")",Cz=RegExp(Iy+"(?="+Iy+")|"+Nz+Tz,"g");function kz(t){return t.match(Cz)||[]}var Oz=kz,Dz=vz,Pz=BO,Mz=Oz;function Rz(t){return Pz(t)?Mz(t):Dz(t)}var Iz=Rz,$z=sz,Lz=BO,Fz=Iz,Uz=MO;function Bz(t){return function(e){e=Uz(e);var r=Lz(e)?Fz(e):void 0,n=r?r[0]:e.charAt(0),i=r?$z(r,1).join(""):e.slice(1);return n[t]()+i}}var Hz=Bz,zz=Hz,Wz=zz("toUpperCase"),Vz=Wz;const ep=Xe(Vz);function rt(t){return function(){return t}}const YO=Math.cos,qf=Math.sin,wn=Math.sqrt,Yf=Math.PI,tp=2*Yf,$y=Math.PI,Ly=2*$y,Oa=1e-6,Gz=Ly-Oa;function KO(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function qz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return KO;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Yz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?KO:qz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Oa)if(!(Math.abs(f*l-u*d)>Oa)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-s,p=i-o,g=l*l+u*u,v=m*m+p*p,x=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan(($y-Math.acos((g+h-v)/(2*x*y)))/2),_=b/y,w=b/x;Math.abs(_-1)>Oa&&this._append`L${e+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=e+w*l},${this._y1=r+w*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Oa||Math.abs(this._y1-d)>Oa)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ly+Ly),h>Gz?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Oa&&this._append`A${n},${n},0,${+(h>=$y)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function $b(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Yz(e)}function Lb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QO(t){this._context=t}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function rp(t){return new QO(t)}function XO(t){return t[0]}function ZO(t){return t[1]}function JO(t,e){var r=rt(!0),n=null,i=rp,a=null,s=$b(o);t=typeof t=="function"?t:t===void 0?XO:rt(t),e=typeof e=="function"?e:e===void 0?ZO:rt(e);function o(l){var u,d=(l=Lb(l)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:rt(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function xd(t,e,r){var n=null,i=rt(!0),a=null,s=rp,o=null,l=$b(u);t=typeof t=="function"?t:t===void 0?XO:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?ZO:rt(+r);function u(f){var h,m,p,g=(f=Lb(f)).length,v,x=!1,y,b=new Array(g),_=new Array(g);for(a==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],_[p]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+t(v,h,f),_[h]=+e(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(y)return o=null,y+""||null}function d(){return JO().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class eD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Kz(t){return new eD(t,!0)}function Qz(t){return new eD(t,!1)}const Fb={draw(t,e){const r=wn(e/Yf);t.moveTo(r,0),t.arc(0,0,r,0,tp)}},Xz={draw(t,e){const r=wn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tD=wn(1/3),Zz=tD*2,Jz={draw(t,e){const r=wn(e/Zz),n=r*tD;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},eW={draw(t,e){const r=wn(e),n=-r/2;t.rect(n,n,r,r)}},tW=.8908130915292852,rD=qf(Yf/10)/qf(7*Yf/10),rW=qf(tp/10)*rD,nW=-YO(tp/10)*rD,iW={draw(t,e){const r=wn(e*tW),n=rW*r,i=nW*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=tp*a/5,o=YO(s),l=qf(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},wg=wn(3),aW={draw(t,e){const r=-wn(e/(wg*3));t.moveTo(0,r*2),t.lineTo(-wg*r,-r),t.lineTo(wg*r,-r),t.closePath()}},Fr=-.5,Ur=wn(3)/2,Fy=1/wn(12),sW=(Fy/2+1)*3,oW={draw(t,e){const r=wn(e/sW),n=r/2,i=r*Fy,a=n,s=r*Fy+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Fr*n-Ur*i,Ur*n+Fr*i),t.lineTo(Fr*a-Ur*s,Ur*a+Fr*s),t.lineTo(Fr*o-Ur*l,Ur*o+Fr*l),t.lineTo(Fr*n+Ur*i,Fr*i-Ur*n),t.lineTo(Fr*a+Ur*s,Fr*s-Ur*a),t.lineTo(Fr*o+Ur*l,Fr*l-Ur*o),t.closePath()}};function lW(t,e){let r=null,n=$b(i);t=typeof t=="function"?t:rt(t||Fb),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:rt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Kf(){}function Qf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nD(t){this._context=t}nD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cW(t){return new nD(t)}function iD(t){this._context=t}iD.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uW(t){return new iD(t)}function aD(t){this._context=t}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dW(t){return new aD(t)}function sD(t){this._context=t}sD.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fW(t){return new sD(t)}function m1(t){return t<0?-1:1}function p1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(m1(a)+m1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function g1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Sg(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Xf(t){this._context=t}Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sg(this,this._t0,g1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Sg(this,g1(this,r=p1(this,t,e)),r);break;default:Sg(this,this._t0,r=p1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oD(t){this._context=new lD(t)}(oD.prototype=Object.create(Xf.prototype)).point=function(t,e){Xf.prototype.point.call(this,e,t)};function lD(t){this._context=t}lD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function hW(t){return new Xf(t)}function mW(t){return new oD(t)}function cD(t){this._context=t}cD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=v1(t),i=v1(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function v1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function pW(t){return new cD(t)}function np(t,e){this._context=t,this._t=e}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function gW(t){return new np(t,.5)}function vW(t){return new np(t,0)}function yW(t){return new np(t,1)}function To(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Uy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function xW(t,e){return t[e]}function bW(t){const e=[];return e.key=t,e}function wW(){var t=rt([]),e=Uy,r=To,n=xW;function i(a){var s=Array.from(t.apply(this,arguments),bW),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=Lb(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Uy:typeof a=="function"?a:rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??To,i):r},i}function SW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}To(t,e)}}function _W(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}To(t,e)}}function EW(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=t[e[p]],v=g[n][1]||0,x=g[n-1][1]||0;m+=v-x}l+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,To(t,e)}}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}var jW=["type","size","sizeType"];function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},By.apply(this,arguments)}function y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(r),!0).forEach(function(n){AW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AW(t,e,r){return e=TW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TW(t){var e=NW(t,"string");return qc(e)=="symbol"?e:e+""}function NW(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CW(t,e){if(t==null)return{};var r=kW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uD={symbolCircle:Fb,symbolCross:Xz,symbolDiamond:Jz,symbolSquare:eW,symbolStar:iW,symbolTriangle:aW,symbolWye:oW},OW=Math.PI/180,DW=function(e){var r="symbol".concat(ep(e));return uD[r]||Fb},PW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*OW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MW=function(e,r){uD["symbol".concat(ep(e))]=r},Ub=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=CW(e,jW),u=x1(x1({},l),{},{type:n,size:a,sizeType:o}),d=function(){var v=DW(n),x=lW().type(v).size(PW(a,o,n));return x()},f=u.className,h=u.cx,m=u.cy,p=ke(u,!0);return h===+h&&m===+m&&a===+a?F.createElement("path",By({},p,{className:Ie("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Ub.registerSymbol=MW;function No(t){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(t)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hy.apply(this,arguments)}function b1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(r),!0).forEach(function(n){Yc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fD(n.key),n)}}function $W(t,e,r){return e&&w1(t.prototype,e),r&&w1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LW(t,e,r){return e=Zf(e),FW(t,dD()?Reflect.construct(e,r||[],Zf(t).constructor):e.apply(t,r))}function FW(t,e){if(e&&(No(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UW(t)}function UW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!t})()}function Zf(t){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(t)}function BW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zy(t,e)}function zy(t,e){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zy(t,e)}function Yc(t,e,r){return e=fD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fD(t){var e=HW(t,"string");return No(e)=="symbol"?e:e+""}function HW(t,e){if(No(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Br=32,Bb=function(t){function e(){return IW(this,e),LW(this,e,arguments)}return BW(e,t),$W(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Br/2,s=Br/6,o=Br/3,l=n.inactive?i:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Br,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Br,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Br/8,"h").concat(Br,"v").concat(Br*3/4,"h").concat(-Br,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=RW({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(Ub,{fill:l,cx:a,cy:a,size:Br,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Br,height:Br},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,p){var g=m.formatter||l,v=Ie(Yc(Yc({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=Ne(m.value)?null:m.value;ni(!Ne(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return F.createElement("li",Hy({className:v,style:f,key:"legend-item-".concat(p)},Gf(n.props,m,p)),F.createElement(Py,{width:s,height:s,viewBox:d,style:h},n.renderIcon(m)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,m,p):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(C.PureComponent);Yc(Bb,"displayName","Legend");Yc(Bb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zW=Bm;function WW(){this.__data__=new zW,this.size=0}var VW=WW;function GW(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var qW=GW;function YW(t){return this.__data__.get(t)}var KW=YW;function QW(t){return this.__data__.has(t)}var XW=QW,ZW=Bm,JW=Nb,e8=Cb,t8=200;function r8(t,e){var r=this.__data__;if(r instanceof ZW){var n=r.__data__;if(!JW||n.length<t8-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new e8(n)}return r.set(t,e),this.size=r.size,this}var n8=r8,i8=Bm,a8=VW,s8=qW,o8=KW,l8=XW,c8=n8;function gl(t){var e=this.__data__=new i8(t);this.size=e.size}gl.prototype.clear=a8;gl.prototype.delete=s8;gl.prototype.get=o8;gl.prototype.has=l8;gl.prototype.set=c8;var hD=gl,u8="__lodash_hash_undefined__";function d8(t){return this.__data__.set(t,u8),this}var f8=d8;function h8(t){return this.__data__.has(t)}var m8=h8,p8=Cb,g8=f8,v8=m8;function Jf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new p8;++e<r;)this.add(t[e])}Jf.prototype.add=Jf.prototype.push=g8;Jf.prototype.has=v8;var mD=Jf;function y8(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var pD=y8;function x8(t,e){return t.has(e)}var gD=x8,b8=mD,w8=pD,S8=gD,_8=1,E8=2;function j8(t,e,r,n,i,a){var s=r&_8,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=r&E8?new b8:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var p=t[f],g=e[f];if(n)var v=s?n(g,p,f,e,t,a):n(p,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!w8(e,function(x,y){if(!S8(m,y)&&(p===x||i(p,x,r,n,a)))return m.push(y)})){h=!1;break}}else if(!(p===g||i(p,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var vD=j8,A8=Fn,T8=A8.Uint8Array,N8=T8;function C8(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var k8=C8;function O8(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Hb=O8,S1=Lu,_1=N8,D8=Tb,P8=vD,M8=k8,R8=Hb,I8=1,$8=2,L8="[object Boolean]",F8="[object Date]",U8="[object Error]",B8="[object Map]",H8="[object Number]",z8="[object RegExp]",W8="[object Set]",V8="[object String]",G8="[object Symbol]",q8="[object ArrayBuffer]",Y8="[object DataView]",E1=S1?S1.prototype:void 0,_g=E1?E1.valueOf:void 0;function K8(t,e,r,n,i,a,s){switch(r){case Y8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case q8:return!(t.byteLength!=e.byteLength||!a(new _1(t),new _1(e)));case L8:case F8:case H8:return D8(+t,+e);case U8:return t.name==e.name&&t.message==e.message;case z8:case V8:return t==e+"";case B8:var o=M8;case W8:var l=n&I8;if(o||(o=R8),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=$8,s.set(t,e);var d=P8(o(t),o(e),n,i,a,s);return s.delete(t),d;case G8:if(_g)return _g.call(t)==_g.call(e)}return!1}var Q8=K8;function X8(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var yD=X8,Z8=yD,J8=Er;function eV(t,e,r){var n=e(t);return J8(t)?n:Z8(n,r(t))}var tV=eV;function rV(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var nV=rV;function iV(){return[]}var aV=iV,sV=nV,oV=aV,lV=Object.prototype,cV=lV.propertyIsEnumerable,j1=Object.getOwnPropertySymbols,uV=j1?function(t){return t==null?[]:(t=Object(t),sV(j1(t),function(e){return cV.call(t,e)}))}:oV,dV=uV;function fV(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var hV=fV,mV=vi,pV=yi,gV="[object Arguments]";function vV(t){return pV(t)&&mV(t)==gV}var yV=vV,A1=yV,xV=yi,xD=Object.prototype,bV=xD.hasOwnProperty,wV=xD.propertyIsEnumerable,SV=A1(function(){return arguments}())?A1:function(t){return xV(t)&&bV.call(t,"callee")&&!wV.call(t,"callee")},zb=SV,eh={exports:{}};function _V(){return!1}var EV=_V;eh.exports;(function(t,e){var r=Fn,n=EV,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(eh,eh.exports);var bD=eh.exports,jV=9007199254740991,AV=/^(?:0|[1-9]\d*)$/;function TV(t,e){var r=typeof t;return e=e??jV,!!e&&(r=="number"||r!="symbol"&&AV.test(t))&&t>-1&&t%1==0&&t<e}var Wb=TV,NV=9007199254740991;function CV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=NV}var Vb=CV,kV=vi,OV=Vb,DV=yi,PV="[object Arguments]",MV="[object Array]",RV="[object Boolean]",IV="[object Date]",$V="[object Error]",LV="[object Function]",FV="[object Map]",UV="[object Number]",BV="[object Object]",HV="[object RegExp]",zV="[object Set]",WV="[object String]",VV="[object WeakMap]",GV="[object ArrayBuffer]",qV="[object DataView]",YV="[object Float32Array]",KV="[object Float64Array]",QV="[object Int8Array]",XV="[object Int16Array]",ZV="[object Int32Array]",JV="[object Uint8Array]",eG="[object Uint8ClampedArray]",tG="[object Uint16Array]",rG="[object Uint32Array]",ct={};ct[YV]=ct[KV]=ct[QV]=ct[XV]=ct[ZV]=ct[JV]=ct[eG]=ct[tG]=ct[rG]=!0;ct[PV]=ct[MV]=ct[GV]=ct[RV]=ct[qV]=ct[IV]=ct[$V]=ct[LV]=ct[FV]=ct[UV]=ct[BV]=ct[HV]=ct[zV]=ct[WV]=ct[VV]=!1;function nG(t){return DV(t)&&OV(t.length)&&!!ct[kV(t)]}var iG=nG;function aG(t){return function(e){return t(e)}}var wD=aG,th={exports:{}};th.exports;(function(t,e){var r=NO,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(th,th.exports);var sG=th.exports,oG=iG,lG=wD,T1=sG,N1=T1&&T1.isTypedArray,cG=N1?lG(N1):oG,SD=cG,uG=hV,dG=zb,fG=Er,hG=bD,mG=Wb,pG=SD,gG=Object.prototype,vG=gG.hasOwnProperty;function yG(t,e){var r=fG(t),n=!r&&dG(t),i=!r&&!n&&hG(t),a=!r&&!n&&!i&&pG(t),s=r||n||i||a,o=s?uG(t.length,String):[],l=o.length;for(var u in t)(e||vG.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||mG(u,l)))&&o.push(u);return o}var xG=yG,bG=Object.prototype;function wG(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||bG;return t===r}var SG=wG;function _G(t,e){return function(r){return t(e(r))}}var _D=_G,EG=_D,jG=EG(Object.keys,Object),AG=jG,TG=SG,NG=AG,CG=Object.prototype,kG=CG.hasOwnProperty;function OG(t){if(!TG(t))return NG(t);var e=[];for(var r in Object(t))kG.call(t,r)&&r!="constructor"&&e.push(r);return e}var DG=OG,PG=Ab,MG=Vb;function RG(t){return t!=null&&MG(t.length)&&!PG(t)}var Fu=RG,IG=xG,$G=DG,LG=Fu;function FG(t){return LG(t)?IG(t):$G(t)}var ip=FG,UG=tV,BG=dV,HG=ip;function zG(t){return UG(t,HG,BG)}var WG=zG,C1=WG,VG=1,GG=Object.prototype,qG=GG.hasOwnProperty;function YG(t,e,r,n,i,a){var s=r&VG,o=C1(t),l=o.length,u=C1(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:qG.call(e,h)))return!1}var m=a.get(t),p=a.get(e);if(m&&p)return m==e&&p==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var x=t[h],y=e[h];if(n)var b=s?n(y,x,h,e,t,a):n(x,y,h,t,e,a);if(!(b===void 0?x===y||i(x,y,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var KG=YG,QG=bs,XG=Fn,ZG=QG(XG,"DataView"),JG=ZG,e7=bs,t7=Fn,r7=e7(t7,"Promise"),n7=r7,i7=bs,a7=Fn,s7=i7(a7,"Set"),ED=s7,o7=bs,l7=Fn,c7=o7(l7,"WeakMap"),u7=c7,Wy=JG,Vy=Nb,Gy=n7,qy=ED,Yy=u7,jD=vi,vl=kO,k1="[object Map]",d7="[object Object]",O1="[object Promise]",D1="[object Set]",P1="[object WeakMap]",M1="[object DataView]",f7=vl(Wy),h7=vl(Vy),m7=vl(Gy),p7=vl(qy),g7=vl(Yy),Da=jD;(Wy&&Da(new Wy(new ArrayBuffer(1)))!=M1||Vy&&Da(new Vy)!=k1||Gy&&Da(Gy.resolve())!=O1||qy&&Da(new qy)!=D1||Yy&&Da(new Yy)!=P1)&&(Da=function(t){var e=jD(t),r=e==d7?t.constructor:void 0,n=r?vl(r):"";if(n)switch(n){case f7:return M1;case h7:return k1;case m7:return O1;case p7:return D1;case g7:return P1}return e});var v7=Da,Eg=hD,y7=vD,x7=Q8,b7=KG,R1=v7,I1=Er,$1=bD,w7=SD,S7=1,L1="[object Arguments]",F1="[object Array]",bd="[object Object]",_7=Object.prototype,U1=_7.hasOwnProperty;function E7(t,e,r,n,i,a){var s=I1(t),o=I1(e),l=s?F1:R1(t),u=o?F1:R1(e);l=l==L1?bd:l,u=u==L1?bd:u;var d=l==bd,f=u==bd,h=l==u;if(h&&$1(t)){if(!$1(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Eg),s||w7(t)?y7(t,e,r,n,i,a):x7(t,e,l,r,n,i,a);if(!(r&S7)){var m=d&&U1.call(t,"__wrapped__"),p=f&&U1.call(e,"__wrapped__");if(m||p){var g=m?t.value():t,v=p?e.value():e;return a||(a=new Eg),i(g,v,r,n,a)}}return h?(a||(a=new Eg),b7(t,e,r,n,i,a)):!1}var j7=E7,A7=j7,B1=yi;function AD(t,e,r,n,i){return t===e?!0:t==null||e==null||!B1(t)&&!B1(e)?t!==t&&e!==e:A7(t,e,r,n,AD,i)}var Gb=AD,T7=hD,N7=Gb,C7=1,k7=2;function O7(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new T7;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?N7(d,u,C7|k7,n,f):h))return!1}}return!0}var D7=O7,P7=va;function M7(t){return t===t&&!P7(t)}var TD=M7,R7=TD,I7=ip;function $7(t){for(var e=I7(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,R7(i)]}return e}var L7=$7;function F7(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ND=F7,U7=D7,B7=L7,H7=ND;function z7(t){var e=B7(t);return e.length==1&&e[0][2]?H7(e[0][0],e[0][1]):function(r){return r===t||U7(r,t,e)}}var W7=z7;function V7(t,e){return t!=null&&e in Object(t)}var G7=V7,q7=RO,Y7=zb,K7=Er,Q7=Wb,X7=Vb,Z7=zm;function J7(t,e,r){e=q7(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=Z7(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&X7(i)&&Q7(s,i)&&(K7(t)||Y7(t)))}var e9=J7,t9=G7,r9=e9;function n9(t,e){return t!=null&&r9(t,e,t9)}var i9=n9,a9=Gb,s9=IO,o9=i9,l9=jb,c9=TD,u9=ND,d9=zm,f9=1,h9=2;function m9(t,e){return l9(t)&&c9(e)?u9(d9(t),e):function(r){var n=s9(r,t);return n===void 0&&n===e?o9(r,t):a9(e,n,f9|h9)}}var p9=m9;function g9(t){return t}var yl=g9;function v9(t){return function(e){return e==null?void 0:e[t]}}var y9=v9,x9=Db;function b9(t){return function(e){return x9(e,t)}}var w9=b9,S9=y9,_9=w9,E9=jb,j9=zm;function A9(t){return E9(t)?S9(j9(t)):_9(t)}var T9=A9,N9=W7,C9=p9,k9=yl,O9=Er,D9=T9;function P9(t){return typeof t=="function"?t:t==null?k9:typeof t=="object"?O9(t)?C9(t[0],t[1]):N9(t):D9(t)}var ya=P9;function M9(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var CD=M9;function R9(t){return t!==t}var I9=R9;function $9(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var L9=$9,F9=CD,U9=I9,B9=L9;function H9(t,e,r){return e===e?B9(t,e,r):F9(t,U9,r)}var z9=H9,W9=z9;function V9(t,e){var r=t==null?0:t.length;return!!r&&W9(t,e,0)>-1}var G9=V9;function q9(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Y9=q9;function K9(){}var Q9=K9,jg=ED,X9=Q9,Z9=Hb,J9=1/0,eq=jg&&1/Z9(new jg([,-0]))[1]==J9?function(t){return new jg(t)}:X9,tq=eq,rq=mD,nq=G9,iq=Y9,aq=gD,sq=tq,oq=Hb,lq=200;function cq(t,e,r){var n=-1,i=nq,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=iq;else if(a>=lq){var u=e?null:sq(t);if(u)return oq(u);s=!1,i=aq,l=new rq}else l=e?[]:o;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var uq=cq,dq=ya,fq=uq;function hq(t,e){return t&&t.length?fq(t,dq(e)):[]}var mq=hq;const H1=Xe(mq);function kD(t,e,r){return e===!0?H1(t,r):Ne(e)?H1(t,e):t}function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}var pq=["ref"];function z1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(r),!0).forEach(function(n){ap(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DD(n.key),n)}}function vq(t,e,r){return e&&W1(t.prototype,e),r&&W1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yq(t,e,r){return e=rh(e),xq(t,OD()?Reflect.construct(e,r||[],rh(t).constructor):e.apply(t,r))}function xq(t,e){if(e&&(Co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bq(t)}function bq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!t})()}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(t)}function wq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ky(t,e)}function ap(t,e,r){return e=DD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DD(t){var e=Sq(t,"string");return Co(e)=="symbol"?e:e+""}function Sq(t,e){if(Co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _q(t,e){if(t==null)return{};var r=Eq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jq(t){return t.value}function Aq(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var r=_q(e,pq);return F.createElement(Bb,r)}var V1=1,ea=function(t){function e(){var r;gq(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yq(this,e,[].concat(i)),ap(r,"lastBoundingBox",{width:-1,height:-1}),r}return wq(e,t),vq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>V1||Math.abs(i.height-this.lastBoundingBox.height)>V1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Hn(Hn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Hn(Hn({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Aq(a,Hn(Hn({},this.props),{},{payload:kD(d,u,jq)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Hn(Hn({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ie(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(C.PureComponent);ap(ea,"displayName","Legend");ap(ea,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G1=Lu,Tq=zb,Nq=Er,q1=G1?G1.isConcatSpreadable:void 0;function Cq(t){return Nq(t)||Tq(t)||!!(q1&&t&&t[q1])}var kq=Cq,Oq=yD,Dq=kq;function PD(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=Dq),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?PD(o,e-1,r,n,i):Oq(i,o):n||(i[i.length]=o)}return i}var MD=PD;function Pq(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var Mq=Pq,Rq=Mq,Iq=Rq(),$q=Iq,Lq=$q,Fq=ip;function Uq(t,e){return t&&Lq(t,e,Fq)}var RD=Uq,Bq=Fu;function Hq(t,e){return function(r,n){if(r==null)return r;if(!Bq(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var zq=Hq,Wq=RD,Vq=zq,Gq=Vq(Wq),qb=Gq,qq=qb,Yq=Fu;function Kq(t,e){var r=-1,n=Yq(t)?Array(t.length):[];return qq(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var ID=Kq;function Qq(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Xq=Qq,Y1=cl;function Zq(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Y1(t),s=e!==void 0,o=e===null,l=e===e,u=Y1(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var Jq=Zq,eY=Jq;function tY(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=eY(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var rY=tY,Ag=Ob,nY=Db,iY=ya,aY=ID,sY=Xq,oY=wD,lY=rY,cY=yl,uY=Er;function dY(t,e,r){e.length?e=Ag(e,function(a){return uY(a)?function(s){return nY(s,a.length===1?a[0]:a)}:a}):e=[cY];var n=-1;e=Ag(e,oY(iY));var i=aY(t,function(a,s,o){var l=Ag(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return sY(i,function(a,s){return lY(a,s,r)})}var fY=dY;function hY(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var mY=hY,pY=mY,K1=Math.max;function gY(t,e,r){return e=K1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=K1(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),pY(t,this,o)}}var vY=gY;function yY(t){return function(){return t}}var xY=yY,bY=bs,wY=function(){try{var t=bY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$D=wY,SY=xY,Q1=$D,_Y=yl,EY=Q1?function(t,e){return Q1(t,"toString",{configurable:!0,enumerable:!1,value:SY(e),writable:!0})}:_Y,jY=EY,AY=800,TY=16,NY=Date.now;function CY(t){var e=0,r=0;return function(){var n=NY(),i=TY-(n-r);if(r=n,i>0){if(++e>=AY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var kY=CY,OY=jY,DY=kY,PY=DY(OY),MY=PY,RY=yl,IY=vY,$Y=MY;function LY(t,e){return $Y(IY(t,e,RY),t+"")}var FY=LY,UY=Tb,BY=Fu,HY=Wb,zY=va;function WY(t,e,r){if(!zY(r))return!1;var n=typeof e;return(n=="number"?BY(r)&&HY(e,r.length):n=="string"&&e in r)?UY(r[e],t):!1}var sp=WY,VY=MD,GY=fY,qY=FY,X1=sp,YY=qY(function(t,e){if(t==null)return[];var r=e.length;return r>1&&X1(t,e[0],e[1])?e=[]:r>2&&X1(e[0],e[1],e[2])&&(e=[e[0]]),GY(t,VY(e,1),[])}),KY=YY;const Yb=Xe(KY);function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qy.apply(this,arguments)}function QY(t,e){return eK(t)||JY(t,e)||ZY(t,e)||XY()}function XY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(t,e){if(t){if(typeof t=="string")return Z1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(t,e)}}function Z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function eK(t){if(Array.isArray(t))return t}function J1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(r),!0).forEach(function(n){tK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tK(t,e,r){return e=rK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rK(t){var e=nK(t,"string");return Kc(e)=="symbol"?e:e+""}function nK(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iK(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var aK=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,p=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var P={padding:0,margin:0},O=(h?Yb(d,h):d).map(function(z,W){if(z.type==="none")return null;var G=Tg({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),M=z.formatter||f||iK,$=z.value,U=z.name,B=$,H=U;if(M&&B!=null&&H!=null){var V=M($,U,z,W,d);if(Array.isArray(V)){var q=QY(V,2);B=q[0],H=q[1]}else B=V}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:G},Pt(H)?F.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Pt(H)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},B),F.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},_=Tg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Tg({margin:0},u),S=!Oe(g),j=S?g:"",E=Ie("recharts-default-tooltip",m),A=Ie("recharts-tooltip-label",p);S&&v&&d!==void 0&&d!==null&&(j=v(g,d));var k=y?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Qy({className:E,style:_},k),F.createElement("p",{className:A,style:w},F.isValidElement(j)?j:"".concat(j)),b())};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function wd(t,e,r){return e=sK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sK(t){var e=oK(t,"string");return Qc(e)=="symbol"?e:e+""}function oK(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ll="recharts-tooltip-wrapper",lK={visibility:"hidden"};function cK(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ie(Ll,wd(wd(wd(wd({},"".concat(Ll,"-right"),ie(r)&&e&&ie(e.x)&&r>=e.x),"".concat(Ll,"-left"),ie(r)&&e&&ie(e.x)&&r<e.x),"".concat(Ll,"-bottom"),ie(n)&&e&&ie(e.y)&&n>=e.y),"".concat(Ll,"-top"),ie(n)&&e&&ie(e.y)&&n<e.y))}function eE(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ie(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?d:f;if(s[n]){var h=d,m=l[n];return h<m?Math.max(f,l[n]):Math.max(d,l[n])}var p=f+o,g=l[n]+u;return p>g?Math.max(d,l[n]):Math.max(f,l[n])}function uK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function dK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=eE({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=eE({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=uK({translateX:d,translateY:f,useTranslate3d:o})):u=lK,{cssProperties:u,cssClasses:cK({translateX:d,translateY:f,coordinate:r})}}function ko(t){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(t)}function tE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(r),!0).forEach(function(n){Zy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FD(n.key),n)}}function hK(t,e,r){return e&&nE(t.prototype,e),r&&nE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mK(t,e,r){return e=nh(e),pK(t,LD()?Reflect.construct(e,r||[],nh(t).constructor):e.apply(t,r))}function pK(t,e){if(e&&(ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gK(t)}function gK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LD=function(){return!!t})()}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(t)}function vK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xy(t,e)}function Xy(t,e){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xy(t,e)}function Zy(t,e,r){return e=FD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FD(t){var e=yK(t,"string");return ko(e)=="symbol"?e:e+""}function yK(t,e){if(ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iE=1,xK=function(t){function e(){var r;fK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mK(this,e,[].concat(i)),Zy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Zy(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return vK(e,t),hK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>iE||Math.abs(n.height-this.state.lastBoundingBox.height)>iE)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,p=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,b=dK({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=b.cssClasses,w=b.cssProperties,S=rE(rE({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return F.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(E){n.wrapperNode=E}},u)}}])}(C.PureComponent),bK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pn={isSsr:bK(),get:function(e){return Pn[e]},set:function(e,r){if(typeof e=="string")Pn[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Pn[i]=e[i]})}}};function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function aE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(r),!0).forEach(function(n){Kb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BD(n.key),n)}}function SK(t,e,r){return e&&oE(t.prototype,e),r&&oE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _K(t,e,r){return e=ih(e),EK(t,UD()?Reflect.construct(e,r||[],ih(t).constructor):e.apply(t,r))}function EK(t,e){if(e&&(Oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jK(t)}function jK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(t)}function AK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jy(t,e)}function Jy(t,e){return Jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jy(t,e)}function Kb(t,e,r){return e=BD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BD(t){var e=TK(t,"string");return Oo(e)=="symbol"?e:e+""}function TK(t,e){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NK(t){return t.dataKey}function CK(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(aK,e)}var Hr=function(t){function e(){return wK(this,e),_K(this,e,arguments)}return AK(e,t),SK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,p=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=p??[];f&&w.length&&(w=kD(p.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),g,NK));var S=w.length>0;return F.createElement(xK,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:m,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:_},CK(u,sE(sE({},this.props),{},{payload:w})))}}])}(C.PureComponent);Kb(Hr,"displayName","Tooltip");Kb(Hr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kK=Fn,OK=function(){return kK.Date.now()},DK=OK,PK=/\s/;function MK(t){for(var e=t.length;e--&&PK.test(t.charAt(e)););return e}var RK=MK,IK=RK,$K=/^\s+/;function LK(t){return t&&t.slice(0,IK(t)+1).replace($K,"")}var FK=LK,UK=FK,lE=va,BK=cl,cE=0/0,HK=/^[-+]0x[0-9a-f]+$/i,zK=/^0b[01]+$/i,WK=/^0o[0-7]+$/i,VK=parseInt;function GK(t){if(typeof t=="number")return t;if(BK(t))return cE;if(lE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=lE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=UK(t);var r=zK.test(t);return r||WK.test(t)?VK(t.slice(2),r?2:8):HK.test(t)?cE:+t}var HD=GK,qK=va,Ng=DK,uE=HD,YK="Expected a function",KK=Math.max,QK=Math.min;function XK(t,e,r){var n,i,a,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(YK);e=uE(e)||0,qK(r)&&(d=!!r.leading,f="maxWait"in r,a=f?KK(uE(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function m(S){var j=n,E=i;return n=i=void 0,u=S,s=t.apply(E,j),s}function p(S){return u=S,o=setTimeout(x,e),d?m(S):s}function g(S){var j=S-l,E=S-u,A=e-j;return f?QK(A,a-E):A}function v(S){var j=S-l,E=S-u;return l===void 0||j>=e||j<0||f&&E>=a}function x(){var S=Ng();if(v(S))return y(S);o=setTimeout(x,g(S))}function y(S){return o=void 0,h&&n?m(S):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function _(){return o===void 0?s:y(Ng())}function w(){var S=Ng(),j=v(S);if(n=arguments,i=this,l=S,j){if(o===void 0)return p(l);if(f)return clearTimeout(o),o=setTimeout(x,e),m(l)}return o===void 0&&(o=setTimeout(x,e)),s}return w.cancel=b,w.flush=_,w}var ZK=XK,JK=ZK,eQ=va,tQ="Expected a function";function rQ(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(tQ);return eQ(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),JK(t,e,{leading:n,maxWait:e,trailing:i})}var nQ=rQ;const zD=Xe(nQ);function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){iQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iQ(t,e,r){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aQ(t){var e=sQ(t,"string");return Xc(e)=="symbol"?e:e+""}function sQ(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oQ(t,e){return dQ(t)||uQ(t,e)||cQ(t,e)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cQ(t,e){if(t){if(typeof t=="string")return fE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fE(t,e)}}function fE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function dQ(t){if(Array.isArray(t))return t}var e0=C.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,p=t.debounce,g=p===void 0?0:p,v=t.id,x=t.className,y=t.onResize,b=t.style,_=b===void 0?{}:b,w=C.useRef(null),S=C.useRef();S.current=y,C.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=C.useState({containerWidth:i.width,containerHeight:i.height}),E=oQ(j,2),A=E[0],k=E[1],D=C.useCallback(function(O,z){k(function(W){var G=Math.round(O),M=Math.round(z);return W.containerWidth===G&&W.containerHeight===M?W:{containerWidth:G,containerHeight:M}})},[]);C.useEffect(function(){var O=function(U){var B,H=U[0].contentRect,V=H.width,q=H.height;D(V,q),(B=S.current)===null||B===void 0||B.call(S,V,q)};g>0&&(O=zD(O,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(O),W=w.current.getBoundingClientRect(),G=W.width,M=W.height;return D(G,M),z.observe(w.current),function(){z.disconnect()}},[D,g]);var P=C.useMemo(function(){var O=A.containerWidth,z=A.containerHeight;if(O<0||z<0)return null;ni(za(s)||za(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ni(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=za(s)?O:s,G=za(l)?z:l;r&&r>0&&(W?G=W/r:G&&(W=G*r),h&&G>h&&(G=h)),ni(W>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,G,s,l,d,f,r);var M=!Array.isArray(m)&&ri(m.type).endsWith("Chart");return F.Children.map(m,function($){return F.isValidElement($)?C.cloneElement($,Sd({width:W,height:G},M?{style:Sd({height:"100%",width:"100%",maxHeight:G,maxWidth:W},$.props.style)}:{})):$})},[r,m,l,h,f,d,A,s]);return F.createElement("div",{id:v?"".concat(v):void 0,className:Ie("recharts-responsive-container",x),style:Sd(Sd({},_),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},P)}),WD=function(e){return null};WD.displayName="Cell";function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){fQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fQ(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=mQ(t,"string");return Zc(e)=="symbol"?e:e+""}function mQ(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ps={widthCache:{},cacheCount:0},pQ=2e3,gQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mE="recharts_measurement_span";function vQ(t){var e=t0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var xc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pn.isSsr)return{width:0,height:0};var n=vQ(r),i=JSON.stringify({text:e,copyStyle:n});if(Ps.widthCache[i])return Ps.widthCache[i];try{var a=document.getElementById(mE);a||(a=document.createElement("span"),a.setAttribute("id",mE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=t0(t0({},gQ),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Ps.widthCache[i]=l,++Ps.cacheCount>pQ&&(Ps.cacheCount=0,Ps.widthCache={}),l}catch{return{width:0,height:0}}},yQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function ah(t,e){return SQ(t)||wQ(t,e)||bQ(t,e)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(t,e){if(t){if(typeof t=="string")return pE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(t,e)}}function pE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function SQ(t){if(Array.isArray(t))return t}function _Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jQ(n.key),n)}}function EQ(t,e,r){return e&&gE(t.prototype,e),r&&gE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jQ(t){var e=AQ(t,"string");return Jc(e)=="symbol"?e:e+""}function AQ(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CQ=Object.keys(VD),Zs="NaN";function kQ(t,e){return t*VD[e]}var _d=function(){function t(e,r){_Q(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!TQ.test(r)&&(this.num=NaN,this.unit=""),CQ.includes(r)&&(this.num=kQ(e,r),this.unit="px")}return EQ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=NQ.exec(r))!==null&&n!==void 0?n:[],a=ah(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function GD(t){if(t.includes(Zs))return Zs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=vE.exec(e))!==null&&r!==void 0?r:[],i=ah(n,4),a=i[1],s=i[2],o=i[3],l=_d.parse(a??""),u=_d.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Zs;e=e.replace(vE,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=yE.exec(e))!==null&&f!==void 0?f:[],m=ah(h,4),p=m[1],g=m[2],v=m[3],x=_d.parse(p??""),y=_d.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return Zs;e=e.replace(yE,b.toString())}return e}var xE=/\(([^()]*)\)/;function OQ(t){for(var e=t;e.includes("(");){var r=xE.exec(e),n=ah(r,2),i=n[1];e=e.replace(xE,GD(i))}return e}function DQ(t){var e=t.replace(/\s+/g,"");return e=OQ(e),e=GD(e),e}function PQ(t){try{return DQ(t)}catch{return Zs}}function Cg(t){var e=PQ(t.slice(5,-1));return e===Zs?"":e}var MQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],RQ=["dx","dy","angle","className","breakAll"];function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r0.apply(this,arguments)}function bE(t,e){if(t==null)return{};var r=IQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wE(t,e){return UQ(t)||FQ(t,e)||LQ(t,e)||$Q()}function $Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(t,e){if(t){if(typeof t=="string")return SE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(t,e)}}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function UQ(t){if(Array.isArray(t))return t}var qD=/[ \f\n\r\t\v\u2028\u2029]+/,YD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Oe(r)||(n?a=r.toString().split(""):a=r.toString().split(qD));var s=a.map(function(l){return{word:l,width:xc(l,i).width}}),o=n?0:xc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},BQ=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=ie(s),f=o,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(G,M){var $=M.word,U=M.width,B=G[G.length-1];if(B&&(i==null||a||B.width+U+n<Number(i)))B.words.push($),B.width+=U+n;else{var H={words:[$],width:U};G.push(H)}return G},[])},m=h(r),p=function(W){return W.reduce(function(G,M){return G.width>M.width?G:M})};if(!d)return m;for(var g="",v=function(W){var G=f.slice(0,W),M=YD({breakAll:u,style:l,children:G+g}).wordsWithComputedWidth,$=h(M),U=$.length>s||p($).width>Number(i);return[U,$]},x=0,y=f.length-1,b=0,_;x<=y&&b<=f.length-1;){var w=Math.floor((x+y)/2),S=w-1,j=v(S),E=wE(j,2),A=E[0],k=E[1],D=v(w),P=wE(D,1),O=P[0];if(!A&&!O&&(x=w+1),A&&O&&(y=w-1),!A&&O){_=k;break}b++}return _||m},_E=function(e){var r=Oe(e)?[]:e.toString().split(qD);return[{words:r}]},HQ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Pn.isSsr){var l,u,d=YD({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return _E(i);return BQ({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return _E(i)},EE="#808080",sh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,p=e.verticalAnchor,g=p===void 0?"end":p,v=e.fill,x=v===void 0?EE:v,y=bE(e,MQ),b=C.useMemo(function(){return HQ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,w=y.dy,S=y.angle,j=y.className,E=y.breakAll,A=bE(y,RQ);if(!Pt(n)||!Pt(a))return null;var k=n+(ie(_)?_:0),D=a+(ie(w)?w:0),P;switch(g){case"start":P=Cg("calc(".concat(u,")"));break;case"middle":P=Cg("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=Cg("calc(".concat(b.length-1," * -").concat(o,")"));break}var O=[];if(f){var z=b[0].width,W=y.width;O.push("scale(".concat((ie(W)?W/z:1)/z,")"))}return S&&O.push("rotate(".concat(S,", ").concat(k,", ").concat(D,")")),O.length&&(A.transform=O.join(" ")),F.createElement("text",r0({},ke(A,!0),{x:k,y:D,className:Ie("recharts-text",j),textAnchor:m,fill:x.includes("url")?EE:x}),b.map(function(G,M){var $=G.words.join(E?"":" ");return F.createElement("tspan",{x:k,dy:M===0?P:o,key:"".concat($,"-").concat(M)},$)}))};function ta(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qb(t){let e,r,n;t.length!==2?(e=ta,r=(o,l)=>ta(t(o),l),n=(o,l)=>t(o)-l):(e=t===ta||t===zQ?t:WQ,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function WQ(){return 0}function KD(t){return t===null?NaN:+t}function*VQ(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const GQ=Qb(ta),qQ=GQ.right;Qb(KD).center;const Uu=qQ;class jE extends Map{constructor(e,r=QQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(AE(this,e))}has(e){return super.has(AE(this,e))}set(e,r){return super.set(YQ(this,e),r)}delete(e){return super.delete(KQ(this,e))}}function AE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function YQ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function KQ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function QQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function XQ(t=ta){if(t===ta)return QD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function QD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ZQ=Math.sqrt(50),JQ=Math.sqrt(10),eX=Math.sqrt(2);function oh(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=ZQ?10:a>=JQ?5:a>=eX?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?oh(t,e,r*2):[o,l,u]}function n0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?oh(e,t,r):oh(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function i0(t,e,r){return e=+e,t=+t,r=+r,oh(t,e,r)[2]}function a0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?i0(e,t,r):i0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function TE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function NE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function XD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?QD:XQ(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(e-u*f/l+h)),p=Math.min(n,Math.floor(e+(l-u)*f/l+h));XD(t,e,m,p,i)}const a=t[e];let s=r,o=n;for(Fl(t,r,e),i(t[n],a)>0&&Fl(t,r,n);s<o;){for(Fl(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Fl(t,r,o):(++o,Fl(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Fl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function tX(t,e,r){if(t=Float64Array.from(VQ(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return NE(t);if(e>=1)return TE(t);var n,i=(n-1)*e,a=Math.floor(i),s=TE(XD(t,a).subarray(0,a+1)),o=NE(t.subarray(a+1));return s+(o-s)*(i-a)}}function rX(t,e,r=KD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function nX(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function tn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const s0=Symbol("implicit");function Xb(){var t=new jE,e=[],r=[],n=s0;function i(a){let s=t.get(a);if(s===void 0){if(n!==s0)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new jE;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Xb(e,r).unknown(n)},tn.apply(i,arguments),i}function eu(){var t=Xb().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<n,p=m?i:n,g=m?n:i;a=(g-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=nX(h).map(function(x){return p+a*x});return r(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return eu(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},tn.apply(f(),arguments)}function ZD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ZD(e())},t}function bc(){return ZD(eu.apply(null,arguments).paddingInner(1))}function Zb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function JD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Bu(){}var tu=.7,lh=1/tu,fo="\\s*([+-]?\\d+)\\s*",ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iX=/^#([0-9a-f]{3,8})$/,aX=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),sX=new RegExp(`^rgb\\(${Mn},${Mn},${Mn}\\)$`),oX=new RegExp(`^rgba\\(${fo},${fo},${fo},${ru}\\)$`),lX=new RegExp(`^rgba\\(${Mn},${Mn},${Mn},${ru}\\)$`),cX=new RegExp(`^hsl\\(${ru},${Mn},${Mn}\\)$`),uX=new RegExp(`^hsla\\(${ru},${Mn},${Mn},${ru}\\)$`),CE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zb(Bu,nu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kE,formatHex:kE,formatHex8:dX,formatHsl:fX,formatRgb:OE,toString:OE});function kE(){return this.rgb().formatHex()}function dX(){return this.rgb().formatHex8()}function fX(){return eP(this).formatHsl()}function OE(){return this.rgb().formatRgb()}function nu(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=iX.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?DE(e):r===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ed(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ed(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aX.exec(t))?new xr(e[1],e[2],e[3],1):(e=sX.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oX.exec(t))?Ed(e[1],e[2],e[3],e[4]):(e=lX.exec(t))?Ed(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cX.exec(t))?RE(e[1],e[2]/100,e[3]/100,1):(e=uX.exec(t))?RE(e[1],e[2]/100,e[3]/100,e[4]):CE.hasOwnProperty(t)?DE(CE[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function DE(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Ed(t,e,r,n){return n<=0&&(t=e=r=NaN),new xr(t,e,r,n)}function hX(t){return t instanceof Bu||(t=nu(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function o0(t,e,r,n){return arguments.length===1?hX(t):new xr(t,e,r,n??1)}function xr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Zb(xr,o0,JD(Bu,{brighter(t){return t=t==null?lh:Math.pow(lh,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tu:Math.pow(tu,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(Qa(this.r),Qa(this.g),Qa(this.b),ch(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PE,formatHex:PE,formatHex8:mX,formatRgb:ME,toString:ME}));function PE(){return`#${Wa(this.r)}${Wa(this.g)}${Wa(this.b)}`}function mX(){return`#${Wa(this.r)}${Wa(this.g)}${Wa(this.b)}${Wa((isNaN(this.opacity)?1:this.opacity)*255)}`}function ME(){const t=ch(this.opacity);return`${t===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${t===1?")":`, ${t})`}`}function ch(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wa(t){return t=Qa(t),(t<16?"0":"")+t.toString(16)}function RE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hn(t,e,r,n)}function eP(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof Bu||(t=nu(t)),!t)return new hn;if(t instanceof hn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new hn(s,o,l,t.opacity)}function pX(t,e,r,n){return arguments.length===1?eP(t):new hn(t,e,r,n??1)}function hn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Zb(hn,pX,JD(Bu,{brighter(t){return t=t==null?lh:Math.pow(lh,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tu:Math.pow(tu,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new xr(kg(t>=240?t-240:t+120,i,n),kg(t,i,n),kg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new hn(IE(this.h),jd(this.s),jd(this.l),ch(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ch(this.opacity);return`${t===1?"hsl(":"hsla("}${IE(this.h)}, ${jd(this.s)*100}%, ${jd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function IE(t){return t=(t||0)%360,t<0?t+360:t}function jd(t){return Math.max(0,Math.min(1,t||0))}function kg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Jb=t=>()=>t;function gX(t,e){return function(r){return t+r*e}}function vX(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function yX(t){return(t=+t)==1?tP:function(e,r){return r-e?vX(e,r,t):Jb(isNaN(e)?r:e)}}function tP(t,e){var r=e-t;return r?gX(t,r):Jb(isNaN(t)?e:t)}const $E=function t(e){var r=yX(e);function n(i,a){var s=r((i=o0(i)).r,(a=o0(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=tP(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function xX(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function bX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wX(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=xl(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function SX(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function uh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function _X(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=xl(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var l0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Og=new RegExp(l0.source,"g");function EX(t){return function(){return t}}function jX(t){return function(e){return t(e)+""}}function AX(t,e){var r=l0.lastIndex=Og.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=l0.exec(t))&&(i=Og.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:uh(n,i)})),r=Og.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?jX(l[0].x):EX(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function xl(t,e){var r=typeof e,n;return e==null||r==="boolean"?Jb(e):(r==="number"?uh:r==="string"?(n=nu(e))?(e=n,$E):AX:e instanceof nu?$E:e instanceof Date?SX:bX(e)?xX:Array.isArray(e)?wX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_X:uh)(t,e)}function ew(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function TX(t,e){e===void 0&&(e=t,t=xl);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function NX(t){return function(){return t}}function dh(t){return+t}var LE=[0,1];function lr(t){return t}function c0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:NX(isNaN(e)?NaN:.5)}function CX(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function kX(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=c0(i,n),a=r(s,a)):(n=c0(n,i),a=r(a,s)),function(o){return a(n(o))}}function OX(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=c0(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Uu(t,o,1,n)-1;return a[l](i[l](o))}}function Hu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function op(){var t=LE,e=LE,r=xl,n,i,a,s=lr,o,l,u;function d(){var h=Math.min(t.length,e.length);return s!==lr&&(s=CX(t[0],t[h-1])),o=h>2?OX:kX,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(n),uh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,dh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=ew,d()},f.clamp=function(h){return arguments.length?(s=h?!0:lr,d()):s!==lr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function tw(){return op()(lr,lr)}function DX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fh(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Do(t){return t=fh(Math.abs(t)),t?t[1]:NaN}function PX(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function MX(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var RX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iu(t){if(!(e=RX.exec(t)))throw new Error("invalid format: "+t);var e;return new rw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}iu.prototype=rw.prototype;function rw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IX(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var rP;function $X(t,e){var r=fh(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(rP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fh(t,Math.max(0,e+a-1))[0]}function FE(t,e){var r=fh(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const UE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:DX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FE(t*100,e),r:FE,s:$X,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BE(t){return t}var HE=Array.prototype.map,zE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LX(t){var e=t.grouping===void 0||t.thousands===void 0?BE:PX(HE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?BE:MX(HE.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=iu(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(y=!0,w="g"):UE[w]||(b===void 0&&(b=12),_=!0,w="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=g==="$"?n:/[%p]/.test(w)?s:"",E=UE[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(D){var P=S,O=j,z,W,G;if(w==="c")O=E(D)+O,D="";else{D=+D;var M=D<0||1/D<0;if(D=isNaN(D)?l:E(Math.abs(D),b),_&&(D=IX(D)),M&&+D==0&&p!=="+"&&(M=!1),P=(M?p==="("?p:o:p==="-"||p==="("?"":p)+P,O=(w==="s"?zE[8+rP/3]:"")+O+(M&&p==="("?")":""),A){for(z=-1,W=D.length;++z<W;)if(G=D.charCodeAt(z),48>G||G>57){O=(G===46?i+D.slice(z+1):D.slice(z))+O,D=D.slice(0,z);break}}}y&&!v&&(D=e(D,1/0));var $=P.length+D.length+O.length,U=$<x?new Array(x-$+1).join(h):"";switch(y&&v&&(D=e(U+D,U.length?x-O.length:1/0),U=""),m){case"<":D=P+D+O+U;break;case"=":D=P+U+D+O;break;case"^":D=U.slice(0,$=U.length>>1)+P+D+O+U.slice($);break;default:D=U+P+D+O;break}return a(D)}return k.toString=function(){return f+""},k}function d(f,h){var m=u((f=iu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Do(h)/3)))*3,g=Math.pow(10,-p),v=zE[8+p/3];return function(x){return m(g*x)+v}}return{format:u,formatPrefix:d}}var Ad,nw,nP;FX({thousands:",",grouping:[3],currency:["$",""]});function FX(t){return Ad=LX(t),nw=Ad.format,nP=Ad.formatPrefix,Ad}function UX(t){return Math.max(0,-Do(Math.abs(t)))}function BX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(e)/3)))*3-Do(Math.abs(t)))}function HX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Do(e)-Do(t))+1}function iP(t,e,r,n){var i=a0(t,e,r),a;switch(n=iu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=BX(i,s))&&(n.precision=a),nP(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=HX(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=UX(i))&&(n.precision=a-(n.type==="%")*2);break}}return nw(n)}function xa(t){var e=t.domain;return t.ticks=function(r){var n=e();return n0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return iP(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=i0(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function hh(){var t=tw();return t.copy=function(){return Hu(t,hh())},tn.apply(t,arguments),xa(t)}function aP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,dh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return aP(t).unknown(e)},t=arguments.length?Array.from(t,dh):[0,1],xa(r)}function sP(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function WE(t){return Math.log(t)}function VE(t){return Math.exp(t)}function zX(t){return-Math.log(-t)}function WX(t){return-Math.exp(-t)}function VX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function GX(t){return t===10?VX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GE(t){return(e,r)=>-t(-e,r)}function iw(t){const e=t(WE,VE),r=e.domain;let n=10,i,a;function s(){return i=qX(n),a=GX(n),r()[0]<0?(i=GE(i),a=GE(a),t(zX,WX)):t(WE,VE),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,g;const v=o==null?10:+o;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=n0(u,d,v))}else x=n0(h,m,Math.min(m-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=iu(l)).precision==null&&(l.trim=!0),l=nw(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(sP(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function oP(){const t=iw(op()).domain([1,10]);return t.copy=()=>Hu(t,oP()).base(t.base()),tn.apply(t,arguments),t}function qE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aw(t){var e=1,r=t(qE(e),YE(e));return r.constant=function(n){return arguments.length?t(qE(e=+n),YE(e)):e},xa(r)}function lP(){var t=aw(op());return t.copy=function(){return Hu(t,lP()).constant(t.constant())},tn.apply(t,arguments)}function KE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function YX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KX(t){return t<0?-t*t:t*t}function sw(t){var e=t(lr,lr),r=1;function n(){return r===1?t(lr,lr):r===.5?t(YX,KX):t(KE(r),KE(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xa(e)}function ow(){var t=sw(op());return t.copy=function(){return Hu(t,ow()).exponent(t.exponent())},tn.apply(t,arguments),t}function QX(){return ow.apply(null,arguments).exponent(.5)}function QE(t){return Math.sign(t)*t*t}function XX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cP(){var t=tw(),e=[0,1],r=!1,n;function i(a){var s=XX(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(QE(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,dh)).map(QE)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return cP(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},tn.apply(i,arguments),xa(i)}function uP(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=rX(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Uu(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ta),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return uP().domain(t).range(e).unknown(n)},tn.apply(a,arguments)}function dP(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Uu(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return dP().domain([t,e]).range(i).unknown(a)},tn.apply(xa(s),arguments)}function fP(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Uu(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fP().domain(t).range(e).unknown(r)},tn.apply(i,arguments)}const Dg=new Date,Pg=new Date;function Mt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Mt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Dg.setTime(+a),Pg.setTime(+s),t(Dg),t(Pg),Math.floor(r(Dg,Pg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const mh=Mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mh);mh.range;const Xn=1e3,qr=Xn*60,Zn=qr*60,di=Zn*24,lw=di*7,XE=di*30,Mg=di*365,Va=Mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getUTCSeconds());Va.range;const cw=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xn)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getMinutes());cw.range;const uw=Mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getUTCMinutes());uw.range;const dw=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xn-t.getMinutes()*qr)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getHours());dw.range;const fw=Mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getUTCHours());fw.range;const zu=Mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qr)/di,t=>t.getDate()-1);zu.range;const lp=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/di,t=>t.getUTCDate()-1);lp.range;const hP=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/di,t=>Math.floor(t/di));hP.range;function ws(t){return Mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qr)/lw)}const cp=ws(0),ph=ws(1),ZX=ws(2),JX=ws(3),Po=ws(4),eZ=ws(5),tZ=ws(6);cp.range;ph.range;ZX.range;JX.range;Po.range;eZ.range;tZ.range;function Ss(t){return Mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/lw)}const up=Ss(0),gh=Ss(1),rZ=Ss(2),nZ=Ss(3),Mo=Ss(4),iZ=Ss(5),aZ=Ss(6);up.range;gh.range;rZ.range;nZ.range;Mo.range;iZ.range;aZ.range;const hw=Mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hw.range;const mw=Mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());mw.range;const fi=Mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});fi.range;const hi=Mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});hi.range;function mP(t,e,r,n,i,a){const s=[[Va,1,Xn],[Va,5,5*Xn],[Va,15,15*Xn],[Va,30,30*Xn],[a,1,qr],[a,5,5*qr],[a,15,15*qr],[a,30,30*qr],[i,1,Zn],[i,3,3*Zn],[i,6,6*Zn],[i,12,12*Zn],[n,1,di],[n,2,2*di],[r,1,lw],[e,1,XE],[e,3,3*XE],[t,1,Mg]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function l(u,d,f){const h=Math.abs(d-u)/f,m=Qb(([,,v])=>v).right(s,h);if(m===s.length)return t.every(a0(u/Mg,d/Mg,f));if(m===0)return mh.every(Math.max(a0(u,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[sZ,oZ]=mP(hi,mw,up,hP,fw,uw),[lZ,cZ]=mP(fi,hw,cp,zu,dw,cw);function Rg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ig(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ul(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function uZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Bl(i),d=Hl(i),f=Bl(a),h=Hl(a),m=Bl(s),p=Hl(s),g=Bl(o),v=Hl(o),x=Bl(l),y=Hl(l),b={a:M,A:$,b:U,B,c:null,d:nj,e:nj,f:PZ,g:zZ,G:VZ,H:kZ,I:OZ,j:DZ,L:pP,m:MZ,M:RZ,p:H,q:V,Q:sj,s:oj,S:IZ,u:$Z,U:LZ,V:FZ,w:UZ,W:BZ,x:null,X:null,y:HZ,Y:WZ,Z:GZ,"%":aj},_={a:q,A:re,b:se,B:de,c:null,d:ij,e:ij,f:QZ,g:sJ,G:lJ,H:qZ,I:YZ,j:KZ,L:vP,m:XZ,M:ZZ,p:Ee,q:he,Q:sj,s:oj,S:JZ,u:eJ,U:tJ,V:rJ,w:nJ,W:iJ,x:null,X:null,y:aJ,Y:oJ,Z:cJ,"%":aj},w={a:k,A:D,b:P,B:O,c:z,d:tj,e:tj,f:AZ,g:ej,G:JE,H:rj,I:rj,j:SZ,L:jZ,m:wZ,M:_Z,p:A,q:bZ,Q:NZ,s:CZ,S:EZ,u:pZ,U:gZ,V:vZ,w:mZ,W:yZ,x:W,X:G,y:ej,Y:JE,Z:xZ,"%":TZ};b.x=S(r,b),b.X=S(n,b),b.c=S(e,b),_.x=S(r,_),_.X=S(n,_),_.c=S(e,_);function S(X,oe){return function(ne){var T=[],N=-1,R=0,I=X.length,Y,ee,ae;for(ne instanceof Date||(ne=new Date(+ne));++N<I;)X.charCodeAt(N)===37&&(T.push(X.slice(R,N)),(ee=ZE[Y=X.charAt(++N)])!=null?Y=X.charAt(++N):ee=Y==="e"?" ":"0",(ae=oe[Y])&&(Y=ae(ne,ee)),T.push(Y),R=N+1);return T.push(X.slice(R,N)),T.join("")}}function j(X,oe){return function(ne){var T=Ul(1900,void 0,1),N=E(T,X,ne+="",0),R,I;if(N!=ne.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(oe&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(R=Ig(Ul(T.y,0,1)),I=R.getUTCDay(),R=I>4||I===0?gh.ceil(R):gh(R),R=lp.offset(R,(T.V-1)*7),T.y=R.getUTCFullYear(),T.m=R.getUTCMonth(),T.d=R.getUTCDate()+(T.w+6)%7):(R=Rg(Ul(T.y,0,1)),I=R.getDay(),R=I>4||I===0?ph.ceil(R):ph(R),R=zu.offset(R,(T.V-1)*7),T.y=R.getFullYear(),T.m=R.getMonth(),T.d=R.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),I="Z"in T?Ig(Ul(T.y,0,1)).getUTCDay():Rg(Ul(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(I+5)%7:T.w+T.U*7-(I+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,Ig(T)):Rg(T)}}function E(X,oe,ne,T){for(var N=0,R=oe.length,I=ne.length,Y,ee;N<R;){if(T>=I)return-1;if(Y=oe.charCodeAt(N++),Y===37){if(Y=oe.charAt(N++),ee=w[Y in ZE?oe.charAt(N++):Y],!ee||(T=ee(X,ne,T))<0)return-1}else if(Y!=ne.charCodeAt(T++))return-1}return T}function A(X,oe,ne){var T=u.exec(oe.slice(ne));return T?(X.p=d.get(T[0].toLowerCase()),ne+T[0].length):-1}function k(X,oe,ne){var T=m.exec(oe.slice(ne));return T?(X.w=p.get(T[0].toLowerCase()),ne+T[0].length):-1}function D(X,oe,ne){var T=f.exec(oe.slice(ne));return T?(X.w=h.get(T[0].toLowerCase()),ne+T[0].length):-1}function P(X,oe,ne){var T=x.exec(oe.slice(ne));return T?(X.m=y.get(T[0].toLowerCase()),ne+T[0].length):-1}function O(X,oe,ne){var T=g.exec(oe.slice(ne));return T?(X.m=v.get(T[0].toLowerCase()),ne+T[0].length):-1}function z(X,oe,ne){return E(X,e,oe,ne)}function W(X,oe,ne){return E(X,r,oe,ne)}function G(X,oe,ne){return E(X,n,oe,ne)}function M(X){return s[X.getDay()]}function $(X){return a[X.getDay()]}function U(X){return l[X.getMonth()]}function B(X){return o[X.getMonth()]}function H(X){return i[+(X.getHours()>=12)]}function V(X){return 1+~~(X.getMonth()/3)}function q(X){return s[X.getUTCDay()]}function re(X){return a[X.getUTCDay()]}function se(X){return l[X.getUTCMonth()]}function de(X){return o[X.getUTCMonth()]}function Ee(X){return i[+(X.getUTCHours()>=12)]}function he(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var oe=S(X+="",b);return oe.toString=function(){return X},oe},parse:function(X){var oe=j(X+="",!1);return oe.toString=function(){return X},oe},utcFormat:function(X){var oe=S(X+="",_);return oe.toString=function(){return X},oe},utcParse:function(X){var oe=j(X+="",!0);return oe.toString=function(){return X},oe}}}var ZE={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,dZ=/^%/,fZ=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function hZ(t){return t.replace(fZ,"\\$&")}function Bl(t){return new RegExp("^(?:"+t.map(hZ).join("|")+")","i")}function Hl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function mZ(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function pZ(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function gZ(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function vZ(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function yZ(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function JE(t,e,r){var n=Ut.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function ej(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bZ(t,e,r){var n=Ut.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function wZ(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function tj(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function SZ(t,e,r){var n=Ut.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function rj(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function _Z(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function EZ(t,e,r){var n=Ut.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function jZ(t,e,r){var n=Ut.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function AZ(t,e,r){var n=Ut.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TZ(t,e,r){var n=dZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function NZ(t,e,r){var n=Ut.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function CZ(t,e,r){var n=Ut.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function nj(t,e){return Le(t.getDate(),e,2)}function kZ(t,e){return Le(t.getHours(),e,2)}function OZ(t,e){return Le(t.getHours()%12||12,e,2)}function DZ(t,e){return Le(1+zu.count(fi(t),t),e,3)}function pP(t,e){return Le(t.getMilliseconds(),e,3)}function PZ(t,e){return pP(t,e)+"000"}function MZ(t,e){return Le(t.getMonth()+1,e,2)}function RZ(t,e){return Le(t.getMinutes(),e,2)}function IZ(t,e){return Le(t.getSeconds(),e,2)}function $Z(t){var e=t.getDay();return e===0?7:e}function LZ(t,e){return Le(cp.count(fi(t)-1,t),e,2)}function gP(t){var e=t.getDay();return e>=4||e===0?Po(t):Po.ceil(t)}function FZ(t,e){return t=gP(t),Le(Po.count(fi(t),t)+(fi(t).getDay()===4),e,2)}function UZ(t){return t.getDay()}function BZ(t,e){return Le(ph.count(fi(t)-1,t),e,2)}function HZ(t,e){return Le(t.getFullYear()%100,e,2)}function zZ(t,e){return t=gP(t),Le(t.getFullYear()%100,e,2)}function WZ(t,e){return Le(t.getFullYear()%1e4,e,4)}function VZ(t,e){var r=t.getDay();return t=r>=4||r===0?Po(t):Po.ceil(t),Le(t.getFullYear()%1e4,e,4)}function GZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function ij(t,e){return Le(t.getUTCDate(),e,2)}function qZ(t,e){return Le(t.getUTCHours(),e,2)}function YZ(t,e){return Le(t.getUTCHours()%12||12,e,2)}function KZ(t,e){return Le(1+lp.count(hi(t),t),e,3)}function vP(t,e){return Le(t.getUTCMilliseconds(),e,3)}function QZ(t,e){return vP(t,e)+"000"}function XZ(t,e){return Le(t.getUTCMonth()+1,e,2)}function ZZ(t,e){return Le(t.getUTCMinutes(),e,2)}function JZ(t,e){return Le(t.getUTCSeconds(),e,2)}function eJ(t){var e=t.getUTCDay();return e===0?7:e}function tJ(t,e){return Le(up.count(hi(t)-1,t),e,2)}function yP(t){var e=t.getUTCDay();return e>=4||e===0?Mo(t):Mo.ceil(t)}function rJ(t,e){return t=yP(t),Le(Mo.count(hi(t),t)+(hi(t).getUTCDay()===4),e,2)}function nJ(t){return t.getUTCDay()}function iJ(t,e){return Le(gh.count(hi(t)-1,t),e,2)}function aJ(t,e){return Le(t.getUTCFullYear()%100,e,2)}function sJ(t,e){return t=yP(t),Le(t.getUTCFullYear()%100,e,2)}function oJ(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function lJ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Mo(t):Mo.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function cJ(){return"+0000"}function aj(){return"%"}function sj(t){return+t}function oj(t){return Math.floor(+t/1e3)}var Ms,xP,bP;uJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uJ(t){return Ms=uZ(t),xP=Ms.format,Ms.parse,bP=Ms.utcFormat,Ms.utcParse,Ms}function dJ(t){return new Date(t)}function fJ(t){return t instanceof Date?+t:+new Date(+t)}function pw(t,e,r,n,i,a,s,o,l,u){var d=tw(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),_=u("%Y");function w(S){return(l(S)<S?m:o(S)<S?p:s(S)<S?g:a(S)<S?v:n(S)<S?i(S)<S?x:y:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,fJ)):h().map(dJ)},d.ticks=function(S){var j=h();return t(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?w:u(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=e(j[0],j[j.length-1],S??10)),S?h(sP(j,S)):d},d.copy=function(){return Hu(d,pw(t,e,r,n,i,a,s,o,l,u))},d}function hJ(){return tn.apply(pw(lZ,cZ,fi,hw,cp,zu,dw,cw,Va,xP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mJ(){return tn.apply(pw(sZ,oZ,hi,mw,up,lp,fw,uw,Va,bP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dp(){var t=0,e=1,r,n,i,a,s=lr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(xl),u.rangeRound=d(ew),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function ba(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function wP(){var t=xa(dp()(lr));return t.copy=function(){return ba(t,wP())},xi.apply(t,arguments)}function SP(){var t=iw(dp()).domain([1,10]);return t.copy=function(){return ba(t,SP()).base(t.base())},xi.apply(t,arguments)}function _P(){var t=aw(dp());return t.copy=function(){return ba(t,_P()).constant(t.constant())},xi.apply(t,arguments)}function gw(){var t=sw(dp());return t.copy=function(){return ba(t,gw()).exponent(t.exponent())},xi.apply(t,arguments)}function pJ(){return gw.apply(null,arguments).exponent(.5)}function EP(){var t=[],e=lr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Uu(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ta),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>tX(t,a/n))},r.copy=function(){return EP(e).domain(t)},xi.apply(r,arguments)}function fp(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=lr,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=TX(g,[x,y,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(xl),m.rangeRound=p(ew),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function jP(){var t=xa(fp()(lr));return t.copy=function(){return ba(t,jP())},xi.apply(t,arguments)}function AP(){var t=iw(fp()).domain([.1,1,10]);return t.copy=function(){return ba(t,AP()).base(t.base())},xi.apply(t,arguments)}function TP(){var t=aw(fp());return t.copy=function(){return ba(t,TP()).constant(t.constant())},xi.apply(t,arguments)}function vw(){var t=sw(fp());return t.copy=function(){return ba(t,vw()).exponent(t.exponent())},xi.apply(t,arguments)}function gJ(){return vw.apply(null,arguments).exponent(.5)}const lj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eu,scaleDiverging:jP,scaleDivergingLog:AP,scaleDivergingPow:vw,scaleDivergingSqrt:gJ,scaleDivergingSymlog:TP,scaleIdentity:aP,scaleImplicit:s0,scaleLinear:hh,scaleLog:oP,scaleOrdinal:Xb,scalePoint:bc,scalePow:ow,scaleQuantile:uP,scaleQuantize:dP,scaleRadial:cP,scaleSequential:wP,scaleSequentialLog:SP,scaleSequentialPow:gw,scaleSequentialQuantile:EP,scaleSequentialSqrt:pJ,scaleSequentialSymlog:_P,scaleSqrt:QX,scaleSymlog:lP,scaleThreshold:fP,scaleTime:hJ,scaleUtc:mJ,tickFormat:iP},Symbol.toStringTag,{value:"Module"}));var vJ=cl;function yJ(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!vJ(s):r(s,o)))var o=s,l=a}return l}var NP=yJ;function xJ(t,e){return t>e}var bJ=xJ,wJ=NP,SJ=bJ,_J=yl;function EJ(t){return t&&t.length?wJ(t,_J,SJ):void 0}var jJ=EJ;const Fi=Xe(jJ);function AJ(t,e){return t<e}var TJ=AJ,NJ=NP,CJ=TJ,kJ=yl;function OJ(t){return t&&t.length?NJ(t,kJ,CJ):void 0}var DJ=OJ;const hp=Xe(DJ);var PJ=Ob,MJ=ya,RJ=ID,IJ=Er;function $J(t,e){var r=IJ(t)?PJ:RJ;return r(t,MJ(e))}var LJ=$J,FJ=MD,UJ=LJ;function BJ(t,e){return FJ(UJ(t,e),1)}var HJ=BJ;const zJ=Xe(HJ);var WJ=Gb;function VJ(t,e){return WJ(t,e)}var GJ=VJ;const Ro=Xe(GJ);var bl=1e9,qJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xw,ht=!0,Jr="[DecimalError] ",Xa=Jr+"Invalid argument: ",yw=Jr+"Exponent out of range: ",wl=Math.floor,Pa=Math.pow,YJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,$t=1e7,ut=7,CP=9007199254740991,vh=wl(CP/ut),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ut;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return ii(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return Je(ii(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Tt(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Cr))throw Error(Jr+"NaN");if(r.s<1)throw Error(Jr+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(ht=!1,e=ii(au(r,a),au(t,a),a),ht=!0,Je(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DP(e,t):kP(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Jr+"NaN");return r.s?(ht=!1,e=ii(r,t,0,1).times(t),ht=!0,r.minus(e)):Je(new n(r),i)};ve.naturalExponential=ve.exp=function(){return OP(this)};ve.naturalLogarithm=ve.ln=function(){return au(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kP(e,t):DP(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xa+t);if(e=Tt(i)+1,n=i.d.length-1,r=n*ut+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Jr+"NaN")}for(t=Tt(o),ht=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Nn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ii(o,a,s+2)).times(.5),Nn(a.d).slice(0,s)===(e=Nn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Je(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return ht=!0,Je(n,r)};ve.times=ve.mul=function(t){var e,r,n,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+m[n]*h[i-n-1]+e,a[i--]=o%$t|0,e=o/$t|0;a[i]=(a[i]+e)%$t|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ht?Je(t,f.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(In(t,0,bl),e===void 0?e=n.rounding:In(e,0,8),Je(r,t+Tt(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ls(n,!0):(In(t,0,bl),e===void 0?e=i.rounding:In(e,0,8),n=Je(new i(n),t+1,e),r=ls(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ls(i):(In(t,0,bl),e===void 0?e=a.rounding:In(e,0,8),n=Je(new a(i),t+Tt(i)+1,e),r=ls(n.abs(),!1,t+Tt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return Je(new e(t),Tt(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Cr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Jr+"Infinity");return o}if(o.eq(Cr))return o;if(n=l.precision,t.eq(Cr))return Je(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=CP){for(i=new l(Cr),e=Math.ceil(n/ut+4),ht=!1;r%2&&(i=i.times(o),uj(i.d,e)),r=wl(r/2),r!==0;)o=o.times(o),uj(o.d,e);return ht=!0,t.s<0?new l(Cr).div(i):Je(i,n)}}else if(a<0)throw Error(Jr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ht=!1,i=t.times(au(o,n+u)),ht=!0,i=OP(i),i.s=a,i};ve.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Tt(i),n=ls(i,r<=a.toExpNeg||r>=a.toExpPos)):(In(t,1,bl),e===void 0?e=a.rounding:In(e,0,8),i=Je(new a(i),t,e),r=Tt(i),n=ls(i,t<=r||r<=a.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(In(t,1,bl),e===void 0?e=n.rounding:In(e,0,8)),Je(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tt(t),r=t.constructor;return ls(t,e<=r.toExpNeg||e>=r.toExpPos)};function kP(t,e){var r,n,i,a,s,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ht?Je(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/ut),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/$t|0,l[a]%=$t;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ht?Je(e,f):e}function In(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Xa+t)}function Nn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=ut-n.length,r&&(a+=Oi(r)),a+=n;s=t[e],n=s+"",r=ut-n.length,r&&(a+=Oi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ii=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%$t|0,s=a/$t|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*$t+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,h,m,p,g,v,x,y,b,_,w,S,j,E,A=n.constructor,k=n.s==i.s?1:-1,D=n.d,P=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Jr+"Division by zero");for(l=n.e-i.e,j=P.length,w=D.length,m=new A(k),p=m.d=[],u=0;P[u]==(D[u]||0);)++u;if(P[u]>(D[u]||0)&&--l,a==null?y=a=A.precision:s?y=a+(Tt(n)-Tt(i))+1:y=a,y<0)return new A(0);if(y=y/ut+2|0,u=0,j==1)for(d=0,P=P[0],y++;(u<w||d)&&y--;u++)b=d*$t+(D[u]||0),p[u]=b/P|0,d=b%P|0;else{for(d=$t/(P[0]+1)|0,d>1&&(P=t(P,d),D=t(D,d),j=P.length,w=D.length),_=j,g=D.slice(0,j),v=g.length;v<j;)g[v++]=0;E=P.slice(),E.unshift(0),S=P[0],P[1]>=$t/2&&++S;do d=0,o=e(P,g,j,v),o<0?(x=g[0],j!=v&&(x=x*$t+(g[1]||0)),d=x/S|0,d>1?(d>=$t&&(d=$t-1),f=t(P,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,r(f,j<h?E:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=e(P,g,j,v),o<1&&(d++,r(g,j<v?E:P,v))),v=g.length):o===0&&(d++,g=[0]),p[u++]=d,o&&g[0]?g[v++]=D[_]||0:(g=[D[_]],v=1);while((_++<w||g[0]!==void 0)&&y--)}return p[0]||p.shift(),m.e=l,Je(m,s?a+Tt(m)+1:a)}}();function OP(t,e){var r,n,i,a,s,o,l=0,u=0,d=t.constructor,f=d.precision;if(Tt(t)>16)throw Error(yw+Tt(t));if(!t.s)return new d(Cr);for(e==null?(ht=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Pa(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Cr),d.precision=o;;){if(i=Je(i.times(t),o),r=r.times(++l),s=a.plus(ii(i,r,o)),Nn(s.d).slice(0,o)===Nn(a.d).slice(0,o)){for(;u--;)a=Je(a.times(a),o);return d.precision=f,e==null?(ht=!0,Je(a,f)):a}a=s}}function Tt(t){for(var e=t.e*ut,r=t.d[0];r>=10;r/=10)e++;return e}function $g(t,e,r){if(e>t.LN10.sd())throw ht=!0,r&&(t.precision=r),Error(Jr+"LN10 precision limit exceeded");return Je(new t(t.LN10),e)}function Oi(t){for(var e="";t--;)e+="0";return e}function au(t,e){var r,n,i,a,s,o,l,u,d,f=1,h=10,m=t,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Jr+(m.s?"NaN":"-Infinity"));if(m.eq(Cr))return new g(0);if(e==null?(ht=!1,u=v):u=e,m.eq(10))return e==null&&(ht=!0),$g(g,u);if(u+=h,g.precision=u,r=Nn(p),n=r.charAt(0),a=Tt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Nn(m.d),n=r.charAt(0),f++;a=Tt(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return l=$g(g,u+2,v).times(a+""),m=au(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(ht=!0,Je(m,v)):m;for(o=s=m=ii(m.minus(Cr),m.plus(Cr),u),d=Je(m.times(m),u),i=3;;){if(s=Je(s.times(d),u),l=o.plus(ii(s,new g(i),u)),Nn(l.d).slice(0,u)===Nn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus($g(g,u+2,v).times(a+""))),o=ii(o,new g(f),u),g.precision=v,e==null?(ht=!0,Je(o,v)):o;o=l,i+=2}}function cj(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=wl(r/ut),t.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ut;n<i;)t.d.push(+e.slice(n,n+=ut));e=e.slice(n),n=ut-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ht&&(t.e>vh||t.e<-vh))throw Error(yw+r)}else t.s=0,t.e=0,t.d=[0];return t}function Je(t,e,r){var n,i,a,s,o,l,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=ut,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ut),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=ut,i=n-ut+s}if(r!==void 0&&(a=Pa(10,s-i-1),o=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Pa(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Tt(t),f.length=1,e=e-a-1,f[0]=Pa(10,(ut-e%ut)%ut),t.e=wl(-e/ut)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Pa(10,ut-n),f[d]=i>0?(u/Pa(10,s-i)%Pa(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==$t&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=$t)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ht&&(t.e>vh||t.e<-vh))throw Error(yw+Tt(t));return t}function DP(t,e){var r,n,i,a,s,o,l,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?Je(e,m):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(m/ut),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=$t-1;--l[a],l[i]+=$t}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ht?Je(e,m):e):new h(0)}function ls(t,e,r){var n,i=Tt(t),a=Nn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Oi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Oi(-i-1)+a,r&&(n=r-s)>0&&(a+=Oi(n))):i>=s?(a+=Oi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Oi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Oi(n))),t.s<0?"-"+a:a}function uj(t,e){if(t.length>e)return t.length=e,!0}function PP(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xa+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return cj(s,a.toString())}else if(typeof a!="string")throw Error(Xa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,YJ.test(a))cj(s,a);else throw Error(Xa+a)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PP,i.config=i.set=KJ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function KJ(t){if(!t||typeof t!="object")throw Error(Jr+"Object expected");var e,r,n,i=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(wl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Xa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xa+r+": "+n);return this}var xw=PP(qJ);Cr=new xw(1);const Qe=xw;function QJ(t){return eee(t)||JJ(t)||ZJ(t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return u0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u0(t,e)}}function JJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eee(t){if(Array.isArray(t))return u0(t)}function u0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tee=function(e){return e},MP={"@@functional/placeholder":!0},RP=function(e){return e===MP},dj=function(e){return function r(){return arguments.length===0||arguments.length===1&&RP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ree=function t(e,r){return e===1?r:dj(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==MP}).length;return s>=e?r.apply(void 0,i):t(e-s,dj(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(f){return RP(f)?l.shift():f});return r.apply(void 0,QJ(d).concat(l))}))})},mp=function(e){return ree(e.length,e)},d0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},nee=mp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),iee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return tee;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},f0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},IP=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function aee(t){var e;return t===0?e=1:e=Math.floor(new Qe(t).abs().log(10).toNumber())+1,e}function see(t,e,r){for(var n=new Qe(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var oee=mp(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),lee=mp(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),cee=mp(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const pp={rangeStep:see,getDigitCount:aee,interpolateNumber:oee,uninterpolateNumber:lee,uninterpolateTruncation:cee};function h0(t){return fee(t)||dee(t)||$P(t)||uee()}function uee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fee(t){if(Array.isArray(t))return m0(t)}function su(t,e){return pee(t)||mee(t,e)||$P(t,e)||hee()}function hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $P(t,e){if(t){if(typeof t=="string")return m0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(t,e)}}function m0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function pee(t){if(Array.isArray(t))return t}function LP(t){var e=su(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function FP(t,e,r){if(t.lte(0))return new Qe(0);var n=pp.getDigitCount(t.toNumber()),i=new Qe(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Qe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Qe(Math.ceil(l))}function gee(t,e,r){var n=1,i=new Qe(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Qe(10).pow(pp.getDigitCount(t)-1),i=new Qe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Qe(Math.floor(t)))}else t===0?i=new Qe(Math.floor((e-1)/2)):r||(i=new Qe(Math.floor(t)));var s=Math.floor((e-1)/2),o=iee(nee(function(l){return i.add(new Qe(l-s).mul(n)).toNumber()}),d0);return o(0,e)}function UP(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var a=FP(new Qe(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Qe(0):(s=new Qe(t).add(e).div(2),s=s.sub(new Qe(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Qe(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?UP(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Qe(o).mul(a)),tickMax:s.add(new Qe(l).mul(a))})}function vee(t){var e=su(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=LP([r,n]),l=su(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(h0(d0(0,i-1).map(function(){return 1/0}))):[].concat(h0(d0(0,i-1).map(function(){return-1/0})),[d]);return r>n?f0(f):f}if(u===d)return gee(u,i,a);var h=UP(u,d,s,a),m=h.step,p=h.tickMin,g=h.tickMax,v=pp.rangeStep(p,g.add(new Qe(.1).mul(m)),m);return r>n?f0(v):v}function yee(t,e){var r=su(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=LP([n,i]),o=su(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=FP(new Qe(u).sub(l).div(d-1),a,0),h=[].concat(h0(pp.rangeStep(new Qe(l),new Qe(u).sub(new Qe(.99).mul(f)),f)),[u]);return n>i?f0(h):h}var xee=IP(vee),bee=IP(yee),wee=!0,Lg="Invariant failed";function cs(t,e){if(!t){if(wee)throw new Error(Lg);var r=typeof e=="function"?e():e,n=r?"".concat(Lg,": ").concat(r):Lg;throw new Error(n)}}var See=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yh.apply(this,arguments)}function _ee(t,e){return Tee(t)||Aee(t,e)||jee(t,e)||Eee()}function Eee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(t,e){if(t){if(typeof t=="string")return fj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fj(t,e)}}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Tee(t){if(Array.isArray(t))return t}function Nee(t,e){if(t==null)return{};var r=Cee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zP(n.key),n)}}function Oee(t,e,r){return e&&hj(t.prototype,e),r&&hj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dee(t,e,r){return e=xh(e),Pee(t,BP()?Reflect.construct(e,r||[],xh(t).constructor):e.apply(t,r))}function Pee(t,e){if(e&&(Io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mee(t)}function Mee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!t})()}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(t)}function Ree(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p0(t,e)}function HP(t,e,r){return e=zP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zP(t){var e=Iee(t,"string");return Io(e)=="symbol"?e:e+""}function Iee(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wu=function(t){function e(){return kee(this,e),Dee(this,e,arguments)}return Ree(e,t),Oee(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Nee(n,See),m=ke(h,!1);this.props.direction==="x"&&d.type!=="number"&&cs(!1);var p=l.map(function(g){var v=u(g,o),x=v.x,y=v.y,b=v.value,_=v.errorVal;if(!_)return null;var w=[],S,j;if(Array.isArray(_)){var E=_ee(_,2);S=E[0],j=E[1]}else S=j=_;if(a==="vertical"){var A=d.scale,k=y+i,D=k+s,P=k-s,O=A(b-S),z=A(b+j);w.push({x1:z,y1:D,x2:z,y2:P}),w.push({x1:O,y1:k,x2:z,y2:k}),w.push({x1:O,y1:D,x2:O,y2:P})}else if(a==="horizontal"){var W=f.scale,G=x+i,M=G-s,$=G+s,U=W(b-S),B=W(b+j);w.push({x1:M,y1:B,x2:$,y2:B}),w.push({x1:G,y1:U,x2:G,y2:B}),w.push({x1:M,y1:U,x2:$,y2:U})}return F.createElement(it,yh({className:"recharts-errorBar",key:"bar-".concat(w.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),w.map(function(H){return F.createElement("line",yh({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return F.createElement(it,{className:"recharts-errorBars"},p)}}])}(F.Component);HP(Wu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HP(Wu,"displayName","ErrorBar");function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function mj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(r),!0).forEach(function(n){$ee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ee(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=Fee(t,"string");return ou(e)=="symbol"?e:e+""}function Fee(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WP=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Nr(r,ea);if(!s)return null;var o=ea.defaultProps,l=o!==void 0?Aa(Aa({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Aa(Aa({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:p,type:l.iconType||v||"square",color:bw(f),value:g||p,payload:m}}),Aa(Aa(Aa({},l),ea.getWithHeight(s,i)),{},{payload:u,item:s})};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function pj(t){return zee(t)||Hee(t)||Bee(t)||Uee()}function Uee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(t,e){if(t){if(typeof t=="string")return g0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g0(t,e)}}function Hee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zee(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){ho(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ho(t,e,r){return e=Wee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wee(t){var e=Vee(t,"string");return lu(e)=="symbol"?e:e+""}function Vee(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e,r){return Oe(t)||Oe(e)?r:Pt(e)?Kr(t,e,r):Ne(e)?e(t):r}function wc(t,e,r,n){var i=zJ(t,function(o){return dr(o,e)});if(r==="number"){var a=i.filter(function(o){return ie(o)||parseFloat(o)});return a.length?[hp(a),Fi(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Oe(o)}):i;return s.map(function(o){return Pt(o)||o instanceof Date?o:""})}var Gee=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(mn(f-d)!==mn(h-f)){var p=[];if(mn(h-f)===mn(l[1]-l[0])){m=h;var g=f+l[1]-l[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){s=i[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(e>(y+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},bw=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},qee=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,x=g.filter(function(j){return ri(j.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?wt(wt({},y),x[0].props):x[0].props,_=b.barSize,w=b[v];s[w]||(s[w]=[]);var S=Oe(_)?r:_;s[w].push({item:x[0],stackList:x.slice(1),barSize:Oe(S)?void 0:os(S,n,0)})}}return s},Yee=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=os(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,m=i/l,p=s.reduce(function(_,w){return _+w.barSize||0},0);p+=(l-1)*u,p>=i&&(p-=(l-1)*u,u=0),p>=i&&m>0&&(h=!0,m*=.9,p=l*m);var g=(i-p)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(_,w){var S={item:w.item,position:{offset:v.offset+v.size+u,size:h?m:w.barSize}},j=[].concat(pj(_),[S]);return v=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var x=os(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(_,w,S){var j=[].concat(pj(_),[{item:w.item,position:{offset:x+(y+u)*S+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},Kee=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=WP({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&ie(e[m]))return wt(wt({},e),{},ho({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&ie(e[p]))return wt(wt({},e),{},ho({},p,e[p]+(h||0)))}return e},Qee=function(e,r,n){return Oe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},VP=function(e,r,n,i,a){var s=r.props.children,o=Qr(s,Wu).filter(function(u){return Qee(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=dr(d,n);if(Oe(f))return u;var h=Array.isArray(f)?[hp(f),Fi(f)]:[f,f],m=l.reduce(function(p,g){var v=dr(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,p[0]),Math.max(y,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Xee=function(e,r,n,i,a){var s=r.map(function(o){return VP(e,o,n,a,i)}).filter(function(o){return!Oe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},GP=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&VP(e,l,u,i)||wc(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},qP=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},YP=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Jn=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?mn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!ml(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Fg=new WeakMap,Td=function(e,r){if(typeof r!="function")return e;Fg.has(e)||Fg.set(e,new WeakMap);var n=Fg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Zee=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:eu(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:hh(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:bc(),realScaleType:"point"}:a==="category"?{scale:eu(),realScaleType:"band"}:{scale:hh(),realScaleType:"linear"};if(ss(i)){var l="scale".concat(ep(i));return{scale:(lj[l]||bc)(),realScaleType:lj[l]?l:"point"}}return Ne(i)?{scale:i}:{scale:bc(),realScaleType:"point"}},vj=1e-4,Jee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-vj,s=Math.max(i[0],i[1])+vj,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},ete=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},tte=function(e,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ie(e[0])||e[0]<n)&&(a[0]=n),(!ie(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},rte=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=ml(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},nte=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=ml(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},ite={sign:rte,expand:SW,none:To,silhouette:_W,wiggle:EW,positive:nte},ate=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=ite[n],s=wW().keys(i).value(function(o,l){return+dr(o,l,0)}).order(Uy).offset(a);return s(e)},ste=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var x=p[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Pt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[pl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return wt(wt({},f),{},ho({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var x=m.stackGroups[v];return wt(wt({},g),{},ho({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:ate(e,x.items,a)}))},p)}return wt(wt({},f),{},ho({},h,m))},d)},ote=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=xee(u,a,o);return e.domain([hp(d),Fi(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=bee(f,a,o);return{niceTicks:h}}return null};function bh(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(i[e.dataKey])){var o=Wf(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=dr(i,Oe(s)?e.dataKey:s);return Oe(l)?null:e.scale(l)}var yj=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=dr(s,r.dataKey,r.domain[o]);return Oe(l)?null:r.scale(l)-a/2+i},lte=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},cte=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Pt(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},ute=function(e){return e.reduce(function(r,n){return[hp(n.concat([r[0]]).filter(ie)),Fi(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},KP=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var f=ute(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v0=function(e,r,n){if(Ne(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ie(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(xj.test(e[0])){var a=+xj.exec(e[0])[1];i[0]=r[0]-a}else Ne(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ie(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(bj.test(e[1])){var s=+bj.exec(e[1])[1];i[1]=r[1]+s}else Ne(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},wh=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Yb(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},wj=function(e,r,n){return!e||!e.length||Ro(e,Kr(n,"type.defaultProps.domain"))?r:e},QP=function(e,r){var n=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return wt(wt({},ke(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:bw(e),value:dr(r,i),type:l,payload:r,chartType:u,hide:d})};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function Sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(r),!0).forEach(function(n){dte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dte(t,e,r){return e=fte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fte(t){var e=hte(t,"string");return cu(e)=="symbol"?e:e+""}function hte(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh=Math.PI/180,mte=function(e){return e*180/Math.PI},qt=function(e,r,n,i){return{x:e+Math.cos(-Sh*i)*n,y:r+Math.sin(-Sh*i)*n}},pte=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},gte=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=pte({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:mte(u),angleInRadian:u}},vte=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},yte=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},Ej=function(e,r){var n=e.x,i=e.y,a=gte({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=vte(r),f=d.startAngle,h=d.endAngle,m=o,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?_j(_j({},r),{},{radius:s,angle:yte(m,r)}):null};function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}var xte=["offset"];function bte(t){return Ete(t)||_te(t)||Ste(t)||wte()}function wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ste(t,e){if(t){if(typeof t=="string")return y0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y0(t,e)}}function _te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ete(t){if(Array.isArray(t))return y0(t)}function y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jte(t,e){if(t==null)return{};var r=Ate(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ate(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(r),!0).forEach(function(n){Tte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tte(t,e,r){return e=Nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nte(t){var e=Cte(t,"string");return uu(e)=="symbol"?e:e+""}function Cte(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(this,arguments)}var kte=function(e){var r=e.value,n=e.formatter,i=Oe(e.children)?r:e.children;return Ne(n)?n(i):i},Ote=function(e,r){var n=mn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Dte=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,p=l.endAngle,g=l.clockWise,v=(f+h)/2,x=Ote(m,p),y=x>=0?1:-1,b,_;i==="insideStart"?(b=m+y*s,_=g):i==="insideEnd"?(b=p-y*s,_=!g):i==="end"&&(b=p+y*s,_=g),_=x<=0?_:!_;var w=qt(u,d,v,b),S=qt(u,d,v,b+(_?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),E=Oe(e.id)?pl("recharts-radial-line-"):e.id;return F.createElement("text",du({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",o)}),F.createElement("defs",null,F.createElement("path",{id:E,d:j})),F.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Pte=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=qt(s,o,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=qt(s,o,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Mte=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return kt(kt({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:p};return kt(kt({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var w={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return kt(kt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var S={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return kt(kt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return a==="insideLeft"?kt({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideRight"?kt({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},j):a==="insideTop"?kt({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:p},j):a==="insideBottom"?kt({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},j):a==="insideTopLeft"?kt({x:o+v,y:l+h,textAnchor:y,verticalAnchor:p},j):a==="insideTopRight"?kt({x:o+u-v,y:l+h,textAnchor:x,verticalAnchor:p},j):a==="insideBottomLeft"?kt({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:m},j):a==="insideBottomRight"?kt({x:o+u-v,y:l+d-h,textAnchor:x,verticalAnchor:m},j):ul(a)&&(ie(a.x)||za(a.x))&&(ie(a.y)||za(a.y))?kt({x:o+os(a.x,u),y:l+os(a.y,d),textAnchor:"end",verticalAnchor:"end"},j):kt({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Rte=function(e){return"cx"in e&&ie(e.cx)};function tr(t){var e=t.offset,r=e===void 0?5:e,n=jte(t,xte),i=kt({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Oe(o)&&Oe(l)&&!C.isValidElement(u)&&!Ne(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var m;if(Ne(u)){if(m=C.createElement(u,i),C.isValidElement(m))return m}else m=kte(i);var p=Rte(a),g=ke(i,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Dte(i,m,g);var v=p?Pte(i):Mte(i);return F.createElement(sh,du({className:Ie("recharts-label",f)},g,v,{breakAll:h}),m)}tr.displayName="Label";var XP=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,p=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ie(g)&&ie(v)){if(ie(f)&&ie(h))return{x:f,y:h,width:g,height:v};if(ie(m)&&ie(p))return{x:m,y:p,width:g,height:v}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},Ite=function(e,r){return e?e===!0?F.createElement(tr,{key:"label-implicit",viewBox:r}):Pt(e)?F.createElement(tr,{key:"label-implicit",viewBox:r,value:e}):C.isValidElement(e)?e.type===tr?C.cloneElement(e,{key:"label-implicit",viewBox:r}):F.createElement(tr,{key:"label-implicit",content:e,viewBox:r}):Ne(e)?F.createElement(tr,{key:"label-implicit",content:e,viewBox:r}):ul(e)?F.createElement(tr,du({viewBox:r},e,{key:"label-implicit"})):null:null},$te=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=XP(e),s=Qr(i,tr).map(function(l,u){return C.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=Ite(e.label,r||a);return[o].concat(bte(s))};tr.parseViewBox=XP;tr.renderCallByParent=$te;function Lte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Fte=Lte;const Ute=Xe(Fte);function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var Bte=["valueAccessor"],Hte=["data","dataKey","clockWise","id","textBreakAll"];function zte(t){return qte(t)||Gte(t)||Vte(t)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(t,e){if(t){if(typeof t=="string")return x0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(t,e)}}function Gte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qte(t){if(Array.isArray(t))return x0(t)}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(this,arguments)}function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){Yte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yte(t,e,r){return e=Kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kte(t){var e=Qte(t,"string");return fu(e)=="symbol"?e:e+""}function Qte(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nj(t,e){if(t==null)return{};var r=Xte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zte=function(e){return Array.isArray(e.value)?Ute(e.value):e.value};function ai(t){var e=t.valueAccessor,r=e===void 0?Zte:e,n=Nj(t,Bte),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=Nj(n,Hte);return!i||!i.length?null:F.createElement(it,{className:"recharts-label-list"},i.map(function(d,f){var h=Oe(a)?r(d,f):dr(d&&d.payload,a),m=Oe(o)?{}:{id:"".concat(o,"-").concat(f)};return F.createElement(tr,_h({},ke(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:tr.parseViewBox(Oe(s)?d:Tj(Tj({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ai.displayName="LabelList";function Jte(t,e){return t?t===!0?F.createElement(ai,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Ne(t)?F.createElement(ai,{key:"labelList-implicit",data:e,content:t}):ul(t)?F.createElement(ai,_h({data:e},t,{key:"labelList-implicit"})):null:null}function ere(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Qr(n,ai).map(function(s,o){return C.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=Jte(t.label,e);return[a].concat(zte(i))}ai.renderCallByParent=ere;function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}function Cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(r),!0).forEach(function(n){tre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tre(t,e,r){return e=rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rre(t){var e=nre(t,"string");return hu(e)=="symbol"?e:e+""}function nre(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ire=function(e,r){var n=mn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Nd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/Sh,h=u?a:a+s*f,m=qt(r,n,d,h),p=qt(r,n,i,h),g=u?a-s*f:a,v=qt(r,n,d*Math.cos(f*Sh),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},ZP=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=ire(s,o),u=s+l,d=qt(r,n,a,s),f=qt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=qt(r,n,i,s),p=qt(r,n,i,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},are=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=mn(d-u),h=Nd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=Nd({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,_=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(_<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):ZP({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var S=Nd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=S.circleTangency,E=S.lineTangency,A=S.theta,k=Nd({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=k.circleTangency,P=k.lineTangency,O=k.theta,z=l?Math.abs(u-d):Math.abs(u-d)-A-O;if(z<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},sre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JP=function(e){var r=kj(kj({},sre),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var m=Ie("recharts-sector",h),p=s-a,g=os(o,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=are({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=ZP({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),F.createElement("path",b0({},ke(r,!0),{className:m,d:v,role:"img"}))};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w0.apply(this,arguments)}function Oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(r),!0).forEach(function(n){ore(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ore(t,e,r){return e=lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lre(t){var e=cre(t,"string");return mu(e)=="symbol"?e:e+""}function cre(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pj={curveBasisClosed:uW,curveBasisOpen:dW,curveBasis:cW,curveBumpX:Kz,curveBumpY:Qz,curveLinearClosed:fW,curveLinear:rp,curveMonotoneX:hW,curveMonotoneY:mW,curveNatural:pW,curveStep:gW,curveStepAfter:yW,curveStepBefore:vW},Cd=function(e){return e.x===+e.x&&e.y===+e.y},zl=function(e){return e.x},Wl=function(e){return e.y},ure=function(e,r){if(Ne(e))return e;var n="curve".concat(ep(e));return(n==="curveMonotone"||n==="curveBump")&&r?Pj["".concat(n).concat(r==="vertical"?"Y":"X")]:Pj[n]||rp},dre=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=ure(n,o),f=u?a.filter(function(g){return Cd(g)}):a,h;if(Array.isArray(s)){var m=u?s.filter(function(g){return Cd(g)}):s,p=f.map(function(g,v){return Dj(Dj({},g),{},{base:m[v]})});return o==="vertical"?h=xd().y(Wl).x1(zl).x0(function(g){return g.base.x}):h=xd().x(zl).y1(Wl).y0(function(g){return g.base.y}),h.defined(Cd).curve(d),h(p)}return o==="vertical"&&ie(s)?h=xd().y(Wl).x1(zl).x0(s):ie(s)?h=xd().x(zl).y1(Wl).y0(s):h=JO().x(zl).y(Wl),h.defined(Cd).curve(d),h(f)},mo=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?dre(e):i;return C.createElement("path",w0({},ke(e,!1),Vf(e),{className:Ie("recharts-curve",r),d:s,ref:a}))},e2={exports:{}},fre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hre=fre,mre=hre;function t2(){}function r2(){}r2.resetWarningCache=t2;var pre=function(){function t(n,i,a,s,o,l){if(l!==mre){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r2,resetWarningCache:t2};return r.PropTypes=r,r};e2.exports=pre();var gre=e2.exports;const Be=Xe(gre);var vre=Object.getOwnPropertyNames,yre=Object.getOwnPropertySymbols,xre=Object.prototype.hasOwnProperty;function Mj(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function kd(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Rj(t){return vre(t).concat(yre(t))}var bre=Object.hasOwn||function(t,e){return xre.call(t,e)};function _s(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var wre="__v",Sre="__o",_re="_owner",Ij=Object.getOwnPropertyDescriptor,$j=Object.keys;function Ere(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function jre(t,e){return _s(t.getTime(),e.getTime())}function Are(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Tre(t,e){return t===e}function Lj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,m=o.value;if(r.equals(h[0],m[0],l,f,t,e,r)&&r.equals(h[1],m[1],h[0],m[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Nre=_s;function Cre(t,e,r){var n=$j(t),i=n.length;if($j(e).length!==i)return!1;for(;i-- >0;)if(!n2(t,e,r,n[i]))return!1;return!0}function Vl(t,e,r){var n=Rj(t),i=n.length;if(Rj(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!n2(t,e,r,a)||(s=Ij(t,a),o=Ij(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function kre(t,e){return _s(t.valueOf(),e.valueOf())}function Ore(t,e){return t.source===e.source&&t.flags===e.flags}function Fj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Dre(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Pre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function n2(t,e,r,n){return(n===_re||n===Sre||n===wre)&&(t.$$typeof||e.$$typeof)?!0:bre(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Mre="[object Arguments]",Rre="[object Boolean]",Ire="[object Date]",$re="[object Error]",Lre="[object Map]",Fre="[object Number]",Ure="[object Object]",Bre="[object RegExp]",Hre="[object Set]",zre="[object String]",Wre="[object URL]",Vre=Array.isArray,Uj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Bj=Object.assign,Gre=Object.prototype.toString.call.bind(Object.prototype.toString);function qre(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var x=typeof p;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(p,g,v):x==="function"?i(p,g,v):!1;var y=p.constructor;if(y!==g.constructor)return!1;if(y===Object)return o(p,g,v);if(Vre(p))return e(p,g,v);if(Uj!=null&&Uj(p))return f(p,g,v);if(y===Date)return r(p,g,v);if(y===RegExp)return u(p,g,v);if(y===Map)return a(p,g,v);if(y===Set)return d(p,g,v);var b=Gre(p);return b===Ire?r(p,g,v):b===Bre?u(p,g,v):b===Lre?a(p,g,v):b===Hre?d(p,g,v):b===Ure?typeof p.then!="function"&&typeof g.then!="function"&&o(p,g,v):b===Wre?h(p,g,v):b===$re?n(p,g,v):b===Mre?o(p,g,v):b===Rre||b===Fre||b===zre?l(p,g,v):!1}}function Yre(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Vl:Ere,areDatesEqual:jre,areErrorsEqual:Are,areFunctionsEqual:Tre,areMapsEqual:n?Mj(Lj,Vl):Lj,areNumbersEqual:Nre,areObjectsEqual:n?Vl:Cre,arePrimitiveWrappersEqual:kre,areRegExpsEqual:Ore,areSetsEqual:n?Mj(Fj,Vl):Fj,areTypedArraysEqual:n?Vl:Dre,areUrlsEqual:Pre};if(r&&(i=Bj({},i,r(i))),e){var a=kd(i.areArraysEqual),s=kd(i.areMapsEqual),o=kd(i.areObjectsEqual),l=kd(i.areSetsEqual);i=Bj({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function Kre(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function Qre(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return r(l,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var Xre=wa();wa({strict:!0});wa({circular:!0});wa({circular:!0,strict:!0});wa({createInternalComparator:function(){return _s}});wa({strict:!0,createInternalComparator:function(){return _s}});wa({circular:!0,createInternalComparator:function(){return _s}});wa({circular:!0,createInternalComparator:function(){return _s},strict:!0});function wa(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=Yre(t),l=qre(o),u=n?n(l):Kre(l);return Qre({circular:r,comparator:l,createState:i,equals:u,strict:s})}function Zre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Hj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Zre(i)};requestAnimationFrame(n)}function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function Jre(t){return nne(t)||rne(t)||tne(t)||ene()}function ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tne(t,e){if(t){if(typeof t=="string")return zj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zj(t,e)}}function zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nne(t){if(Array.isArray(t))return t}function ine(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Jre(s),l=o[0],u=o.slice(1);if(typeof l=="number"){Hj(i.bind(null,u),l);return}i(l),Hj(i.bind(null,u));return}S0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(r),!0).forEach(function(n){i2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i2(t,e,r){return e=ane(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ane(t){var e=sne(t,"string");return pu(e)==="symbol"?e:String(e)}function sne(t,e){if(pu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var one=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},lne=function(e){return e},cne=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Sc=function(e,r){return Object.keys(r).reduce(function(n,i){return Vj(Vj({},n),{},i2({},i,e(i,r[i])))},{})},Gj=function(e,r,n){return e.map(function(i){return"".concat(cne(i)," ").concat(r,"ms ").concat(n)}).join(",")};function une(t,e){return hne(t)||fne(t,e)||a2(t,e)||dne()}function dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hne(t){if(Array.isArray(t))return t}function mne(t){return vne(t)||gne(t)||a2(t)||pne()}function pne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a2(t,e){if(t){if(typeof t=="string")return _0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(t,e)}}function gne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vne(t){if(Array.isArray(t))return _0(t)}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Eh=1e-4,s2=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},o2=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},qj=function(e,r){return function(n){var i=s2(e,r);return o2(i,n)}},yne=function(e,r){return function(n){var i=s2(e,r),a=[].concat(mne(i.map(function(s,o){return s*o}).slice(1)),[0]);return o2(a,n)}},Yj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=une(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=qj(i,s),h=qj(a,o),m=yne(i,s),p=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,_=0;_<8;++_){var w=f(b)-y,S=m(b);if(Math.abs(w-y)<Eh||S<Eh)return h(b);b=p(b-w/S)}return h(b)};return g.isStepper=!1,g},xne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var m=-(d-f)*n,p=h*a,g=h+(m-p)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<Eh&&Math.abs(g)<Eh?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},bne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Yj(i);case"spring":return xne();default:if(i.split("(")[0]==="cubic-bezier")return Yj(i)}return typeof i=="function"?i:null};function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Kj(t){return _ne(t)||Sne(t)||l2(t)||wne()}function wne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ne(t){if(Array.isArray(t))return j0(t)}function Qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(r),!0).forEach(function(n){E0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E0(t,e,r){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ene(t){var e=jne(t,"string");return gu(e)==="symbol"?e:String(e)}function jne(t,e){if(gu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ane(t,e){return Cne(t)||Nne(t,e)||l2(t,e)||Tne()}function Tne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Cne(t){if(Array.isArray(t))return t}var jh=function(e,r,n){return e+(r-e)*n},A0=function(e){var r=e.from,n=e.to;return r!==n},kne=function t(e,r,n){var i=Sc(function(a,s){if(A0(s)){var o=e(s.from,s.to,s.velocity),l=Ane(o,2),u=l[0],d=l[1];return zt(zt({},s),{},{from:u,velocity:d})}return s},r);return n<1?Sc(function(a,s){return A0(s)?zt(zt({},s),{},{velocity:jh(s.velocity,i[a].velocity,n),from:jh(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const One=function(t,e,r,n,i){var a=one(t,e),s=a.reduce(function(v,x){return zt(zt({},v),{},E0({},x,[t[x],e[x]]))},{}),o=a.reduce(function(v,x){return zt(zt({},v),{},E0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Sc(function(x,y){return y.from},o)},m=function(){return!Object.values(o).filter(A0).length},p=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=kne(r,o,b),i(zt(zt(zt({},t),e),h())),u=x,m()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,b=Sc(function(w,S){return jh.apply(void 0,Kj(S).concat([r(y)]))},s);if(i(zt(zt(zt({},t),e),b)),y<1)l=requestAnimationFrame(f);else{var _=Sc(function(w,S){return jh.apply(void 0,Kj(S).concat([r(1)]))},s);i(zt(zt(zt({},t),e),_))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}var Dne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pne(t,e){if(t==null)return{};var r=Mne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mne(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ug(t){return Lne(t)||$ne(t)||Ine(t)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(t,e){if(t){if(typeof t=="string")return T0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(t,e)}}function $ne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lne(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){sc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sc(t,e,r){return e=c2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c2(n.key),n)}}function Une(t,e,r){return e&&Zj(t.prototype,e),r&&Zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c2(t){var e=Bne(t,"string");return $o(e)==="symbol"?e:String(e)}function Bne(t,e){if($o(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N0(t,e)}function zne(t){var e=Wne();return function(){var n=Ah(t),i;if(e){var a=Ah(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return C0(this,i)}}function C0(t,e){if(e&&($o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k0(t)}function k0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}var gp=function(t){Hne(r,t);var e=zne(r);function r(n,i){var a;Fne(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,m=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(k0(a)),a.changeStyle=a.changeStyle.bind(k0(a)),!o||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),C0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},C0(a);a.state={style:l?sc({},l,u):u}}else a.state={style:{}};return a}return Une(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var m={style:l?sc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(Xre(i.to,d)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:i.to;if(this.state&&h){var v={style:l?sc({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(an(an({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=One(s,o,bne(u),l,this.changeStyle),p=function(){a.stopJSAnimation=m()};this.manager.start([h,d,p,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,_=b===void 0?"ease":b,w=v.style,S=v.properties,j=v.onAnimationEnd,E=x>0?s[x-1]:v,A=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Ug(g),[a.runJSAnimation.bind(a,{from:E.style,to:w,duration:y,easing:_}),y]);var k=Gj(A,y,_),D=an(an(an({},E.style),w),{},{transition:k});return[].concat(Ug(g),[D,y,j]).filter(lne)};return this.manager.start([l].concat(Ug(s.reduce(m,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ine());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?sc({},o,l):l,v=Gj(Object.keys(g),s,u);p.start([d,a,an(an({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Pne(i,Dne),u=C.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,x=p.className,y=C.cloneElement(m,an(an({},l),{},{style:an(an({},v),d),className:x}));return y};return u===1?f(C.Children.only(a)):F.createElement("div",null,C.Children.map(a,function(h){return f(h)}))}}]),r}(C.PureComponent);gp.displayName="Animate";gp.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gp.propTypes={from:Be.oneOfType([Be.object,Be.string]),to:Be.oneOfType([Be.object,Be.string]),attributeName:Be.string,duration:Be.number,begin:Be.number,easing:Be.oneOfType([Be.string,Be.func]),steps:Be.arrayOf(Be.shape({duration:Be.number.isRequired,style:Be.object.isRequired,easing:Be.oneOfType([Be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Be.func]),properties:Be.arrayOf("string"),onAnimationEnd:Be.func})),children:Be.oneOfType([Be.node,Be.func]),isActive:Be.bool,canBegin:Be.bool,onAnimationEnd:Be.func,shouldReAnimate:Be.bool,onAnimationStart:Be.func,onAnimationReStart:Be.func};const us=gp;function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Th.apply(this,arguments)}function Vne(t,e){return Kne(t)||Yne(t,e)||qne(t,e)||Gne()}function Gne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(t,e){if(t){if(typeof t=="string")return Jj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(t,e)}}function Jj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Kne(t){if(Array.isArray(t))return t}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){Qne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qne(t,e,r){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xne(t){var e=Zne(t,"string");return vu(e)=="symbol"?e:e+""}function Zne(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rA=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);d="M ".concat(e,",").concat(r+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(r,`
            L `).concat(e+n-l*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*p,`
            L `).concat(e+n,",").concat(r+i-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-l*p,",").concat(r+i,`
            L `).concat(e+l*p,",").concat(r+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*p," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Jne=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},eie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ww=function(e){var r=tA(tA({},eie),e),n=C.useRef(),i=C.useState(-1),a=Vne(i,2),s=a[0],o=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ie("recharts-rectangle",m);return y?F.createElement(us,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:p,isActive:y},function(_){var w=_.width,S=_.height,j=_.x,E=_.y;return F.createElement(us,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:p},F.createElement("path",Th({},ke(r,!0),{className:b,d:rA(j,E,w,S,h),ref:n})))}):F.createElement("path",Th({},ke(r,!0),{className:b,d:rA(l,u,d,f,h)}))};function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}var vp=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Ie("recharts-dot",a);return r===+r&&n===+n&&i===+i?C.createElement("circle",O0({},ke(e,!1),Vf(e),{className:s,cx:r,cy:n,r:i})):null};function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}var tie=["x","y","top","left","width","height","className"];function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function nA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(r),!0).forEach(function(n){nie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nie(t,e,r){return e=iie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iie(t){var e=aie(t,"string");return yu(e)=="symbol"?e:e+""}function aie(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sie(t,e){if(t==null)return{};var r=oie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lie=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},cie=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,p=e.className,g=sie(e,tie),v=rie({x:n,y:a,top:o,left:u,width:f,height:m},g);return!ie(n)||!ie(a)||!ie(f)||!ie(m)||!ie(o)||!ie(u)?null:F.createElement("path",D0({},ke(v,!0),{className:Ie("recharts-cross",p),d:lie(n,a,f,m,o,u)}))},uie=_D,die=uie(Object.getPrototypeOf,Object),fie=die,hie=vi,mie=fie,pie=yi,gie="[object Object]",vie=Function.prototype,yie=Object.prototype,u2=vie.toString,xie=yie.hasOwnProperty,bie=u2.call(Object);function wie(t){if(!pie(t)||hie(t)!=gie)return!1;var e=mie(t);if(e===null)return!0;var r=xie.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&u2.call(r)==bie}var Sie=wie;const _ie=Xe(Sie);var Eie=vi,jie=yi,Aie="[object Boolean]";function Tie(t){return t===!0||t===!1||jie(t)&&Eie(t)==Aie}var Nie=Tie;const Cie=Xe(Nie);function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nh.apply(this,arguments)}function kie(t,e){return Mie(t)||Pie(t,e)||Die(t,e)||Oie()}function Oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(t,e){if(t){if(typeof t=="string")return iA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iA(t,e)}}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Mie(t){if(Array.isArray(t))return t}function aA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(r),!0).forEach(function(n){Rie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rie(t,e,r){return e=Iie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iie(t){var e=$ie(t,"string");return xu(e)=="symbol"?e:e+""}function $ie(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oA=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},Lie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fie=function(e){var r=sA(sA({},Lie),e),n=C.useRef(),i=C.useState(-1),a=kie(i,2),s=a[0],o=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ie("recharts-trapezoid",m);return x?F.createElement(us,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:p,isActive:x},function(b){var _=b.upperWidth,w=b.lowerWidth,S=b.height,j=b.x,E=b.y;return F.createElement(us,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},F.createElement("path",Nh({},ke(r,!0),{className:y,d:oA(j,E,_,w,S),ref:n})))}):F.createElement("g",null,F.createElement("path",Nh({},ke(r,!0),{className:y,d:oA(l,u,d,f,h)})))},Uie=["option","shapeType","propTransformer","activeClassName","isActive"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Bie(t,e){if(t==null)return{};var r=Hie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ch(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){zie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zie(t,e,r){return e=Wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wie(t){var e=Vie(t,"string");return bu(e)=="symbol"?e:e+""}function Vie(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gie(t,e){return Ch(Ch({},e),t)}function qie(t,e){return t==="symbols"}function cA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return F.createElement(ww,r);case"trapezoid":return F.createElement(Fie,r);case"sector":return F.createElement(JP,r);case"symbols":if(qie(e))return F.createElement(Ub,r);break;default:return null}}function Yie(t){return C.isValidElement(t)?t.props:t}function Kie(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Gie:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Bie(t,Uie),u;if(C.isValidElement(e))u=C.cloneElement(e,Ch(Ch({},l),Yie(e)));else if(Ne(e))u=e(l);else if(_ie(e)&&!Cie(e)){var d=i(e,l);u=F.createElement(cA,{shapeType:r,elementProps:d})}else{var f=l;u=F.createElement(cA,{shapeType:r,elementProps:f})}return o?F.createElement(it,{className:s},u):u}function yp(t,e){return e!=null&&"trapezoids"in t.props}function xp(t,e){return e!=null&&"sectors"in t.props}function wu(t,e){return e!=null&&"points"in t.props}function Qie(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Xie(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Zie(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Jie(t,e){var r;return yp(t,e)?r=Qie:xp(t,e)?r=Xie:wu(t,e)&&(r=Zie),r}function eae(t,e){var r;return yp(t,e)?r="trapezoids":xp(t,e)?r="sectors":wu(t,e)&&(r="points"),r}function tae(t,e){if(yp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xp(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return wu(t,e)?e.payload:{}}function rae(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=eae(r,e),a=tae(r,e),s=n.filter(function(l,u){var d=Ro(a,l),f=r.props[i].filter(function(p){var g=Jie(r,e);return g(p,e)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),o=n.indexOf(s[s.length-1]);return o}var nae=Math.ceil,iae=Math.max;function aae(t,e,r,n){for(var i=-1,a=iae(nae((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var sae=aae,oae=HD,uA=1/0,lae=17976931348623157e292;function cae(t){if(!t)return t===0?t:0;if(t=oae(t),t===uA||t===-uA){var e=t<0?-1:1;return e*lae}return t===t?t:0}var d2=cae,uae=sae,dae=sp,Bg=d2;function fae(t){return function(e,r,n){return n&&typeof n!="number"&&dae(e,r,n)&&(r=n=void 0),e=Bg(e),r===void 0?(r=e,e=0):r=Bg(r),n=n===void 0?e<r?1:-1:Bg(n),uae(e,r,n,t)}}var hae=fae,mae=hae,pae=mae(),gae=pae;const kh=Xe(gae);function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){f2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f2(t,e,r){return e=vae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vae(t){var e=yae(t,"string");return Su(e)=="symbol"?e:e+""}function yae(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xae=["Webkit","Moz","O","ms"],bae=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=xae.reduce(function(a,s){return fA(fA({},a),{},f2({},s+n,r))},{});return i[e]=r,i};function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oh.apply(this,arguments)}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){Ar(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m2(n.key),n)}}function Sae(t,e,r){return e&&mA(t.prototype,e),r&&mA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ae(t,e,r){return e=Dh(e),Eae(t,h2()?Reflect.construct(e,r||[],Dh(t).constructor):e.apply(t,r))}function Eae(t,e){if(e&&(Lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jae(t)}function jae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}function Aae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P0(t,e)}function P0(t,e){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P0(t,e)}function Ar(t,e,r){return e=m2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m2(t){var e=Tae(t,"string");return Lo(e)=="symbol"?e:e+""}function Tae(t,e){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=bc().domain(kh(0,l)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},pA=function(e){return e.changedTouches&&!!e.changedTouches.length},Fo=function(t){function e(r){var n;return wae(this,e),n=_ae(this,e,[r]),Ar(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ar(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ar(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Ar(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ar(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ar(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ar(n,"handleSlideDragStart",function(i){var a=pA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Aae(e,t),Sae(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(s,f),p=e.getIndexInRange(s,h);return{startIndex:m-m%l,endIndex:p===d?d:p-p%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=dr(a[n],o,n);return Ne(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,p=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=pA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),x[s]=u+y;var b=this.getIndex(x),_=b.startIndex,w=b.endIndex,S=function(){var E=v.length-1;return s==="startX"&&(o>l?_%g===0:w%g===0)||o<l&&w===E||s==="endX"&&(o>l?w%g===0:_%g===0)||o>l&&w===E};this.setState(Ar(Ar({},s,u+y),"brushMoveStartX",n.pageX),function(){p&&S()&&p(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var m=o[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Ar({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=C.Children.only(u);return f?F.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,p=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=Hg(Hg({},ke(this.props,!1)),{},{x,y:u,width:d,height:f}),b=m||"Min value: ".concat((a=p[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=p[v])===null||s===void 0?void 0:s.name);return F.createElement(it,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return F.createElement(it,{className:"recharts-brush-texts"},F.createElement(sh,Oh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:s+o/2},p),this.getTextOfTick(i)),F.createElement(sh,Oh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:s+o/2},p),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!ie(o)||!ie(l)||!ie(u)||!ie(d)||u<=0||d<=0)return null;var b=Ie("recharts-brush",a),_=F.Children.count(s)===1,w=bae("userSelect","none");return F.createElement(it,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return F.isValidElement(n)?a=F.cloneElement(n,i):Ne(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Hg({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?Nae({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(C.PureComponent);Ar(Fo,"displayName","Brush");Ar(Fo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Cae=qb;function kae(t,e){var r;return Cae(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Oae=kae,Dae=pD,Pae=ya,Mae=Oae,Rae=Er,Iae=sp;function $ae(t,e,r){var n=Rae(t)?Dae:Mae;return r&&Iae(t,e,r)&&(e=void 0),n(t,Pae(e))}var Lae=$ae;const Fae=Xe(Lae);var Rn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},gA=$D;function Uae(t,e,r){e=="__proto__"&&gA?gA(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Bae=Uae,Hae=Bae,zae=RD,Wae=ya;function Vae(t,e){var r={};return e=Wae(e),zae(t,function(n,i,a){Hae(r,i,e(n,i,a))}),r}var Gae=Vae;const qae=Xe(Gae);function Yae(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Kae=Yae,Qae=qb;function Xae(t,e){var r=!0;return Qae(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Zae=Xae,Jae=Kae,ese=Zae,tse=ya,rse=Er,nse=sp;function ise(t,e,r){var n=rse(t)?Jae:ese;return r&&nse(t,e,r)&&(e=void 0),n(t,tse(e))}var ase=ise;const p2=Xe(ase);var sse=["x","y"];function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}function vA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(r),!0).forEach(function(n){ose(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ose(t,e,r){return e=lse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lse(t){var e=cse(t,"string");return _u(e)=="symbol"?e:e+""}function cse(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function use(t,e){if(t==null)return{};var r=dse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fse(t,e){var r=t.x,n=t.y,i=use(t,sse),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Gl(Gl(Gl(Gl(Gl({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function yA(t){return F.createElement(Kie,M0({shapeType:"rectangle",propTransformer:fse,activeClassName:"recharts-active-bar"},t))}var hse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ie(n)||R5(n);return a?e(n,i):(a||cs(!1),r)}},mse=["value","background"],g2;function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function pse(t,e){if(t==null)return{};var r=gse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ph.apply(this,arguments)}function xA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xA(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y2(n.key),n)}}function yse(t,e,r){return e&&bA(t.prototype,e),r&&bA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xse(t,e,r){return e=Mh(e),bse(t,v2()?Reflect.construct(e,r||[],Mh(t).constructor):e.apply(t,r))}function bse(t,e){if(e&&(Uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wse(t)}function wse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v2=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mh(t)}function Sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R0(t,e)}function Ui(t,e,r){return e=y2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y2(t){var e=_se(t,"string");return Uo(e)=="symbol"?e:e+""}function _se(t,e){if(Uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Es=function(t){function e(){var r;vse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xse(this,e,[].concat(i)),Ui(r,"state",{isAnimationFinished:!1}),Ui(r,"id",pl("recharts-bar-")),Ui(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ui(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Sse(e,t),yse(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=ke(this.props,!1);return n&&n.map(function(f,h){var m=h===l,p=m?u:s,g=jt(jt(jt({},d),f),{},{isActive:m,option:p,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(it,Ph({className:"recharts-bar-rectangle"},Gf(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(yA,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return F.createElement(us,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=a.map(function(v,x){var y=h&&h[x];if(y){var b=Vt(y.x,v.x),_=Vt(y.y,v.y),w=Vt(y.width,v.width),S=Vt(y.height,v.height);return jt(jt({},v),{},{x:b(p),y:_(p),width:w(p),height:S(p)})}if(s==="horizontal"){var j=Vt(0,v.height),E=j(p);return jt(jt({},v),{},{y:v.y+v.height-E,height:E})}var A=Vt(0,v.width),k=A(p);return jt(jt({},v),{},{width:k})});return F.createElement(it,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Ro(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=ke(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=pse(u,mse);if(!f)return null;var m=jt(jt(jt(jt(jt({},h),{},{fill:"#eee"},f),l),Gf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(yA,Ph({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Qr(d,Wu);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,m=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:dr(v,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(it,p,f.map(function(g){return F.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Ie("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,_=y||b,w=Oe(g)?this.id:g;return F.createElement(it,{className:x},y||b?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(w)},F.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,F.createElement(it,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!m||v)&&ai.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(C.PureComponent);g2=Es;Ui(Es,"displayName","Bar");Ui(Es,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ui(Es,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=ete(n,r);if(!m)return null;var p=e.layout,g=r.type.defaultProps,v=g!==void 0?jt(jt({},g),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,_=p==="horizontal"?s:a,w=u?_.scale.domain():null,S=lte({numericAxis:_}),j=Qr(y,WD),E=f.map(function(A,k){var D,P,O,z,W,G;u?D=tte(u[d+k],w):(D=dr(A,x),Array.isArray(D)||(D=[S,D]));var M=hse(b,g2.defaultProps.minPointSize)(D[1],k);if(p==="horizontal"){var $,U=[s.scale(D[0]),s.scale(D[1])],B=U[0],H=U[1];P=yj({axis:a,ticks:o,bandSize:i,offset:m.offset,entry:A,index:k}),O=($=H??B)!==null&&$!==void 0?$:void 0,z=m.size;var V=B-H;if(W=Number.isNaN(V)?0:V,G={x:P,y:s.y,width:z,height:s.height},Math.abs(M)>0&&Math.abs(W)<Math.abs(M)){var q=mn(W||M)*(Math.abs(M)-Math.abs(W));O-=q,W+=q}}else{var re=[a.scale(D[0]),a.scale(D[1])],se=re[0],de=re[1];if(P=se,O=yj({axis:s,ticks:l,bandSize:i,offset:m.offset,entry:A,index:k}),z=de-se,W=m.size,G={x:a.x,y:O,width:a.width,height:W},Math.abs(M)>0&&Math.abs(z)<Math.abs(M)){var Ee=mn(z||M)*(Math.abs(M)-Math.abs(z));z+=Ee}}return jt(jt(jt({},A),{},{x:P,y:O,width:z,height:W,value:u?D:D[1],payload:A,background:G},j&&j[k]&&j[k].props),{},{tooltipPayload:[QP(r,A)],tooltipPosition:{x:P+z/2,y:O+W/2}})});return jt({data:E,layout:p},h)});function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Ese(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x2(n.key),n)}}function jse(t,e,r){return e&&wA(t.prototype,e),r&&wA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(r),!0).forEach(function(n){bp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bp(t,e,r){return e=x2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x2(t){var e=Ase(t,"string");return Eu(e)=="symbol"?e:e+""}function Ase(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sw=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Nr(u,Es);return d.reduce(function(m,p){var g=r[p],v=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,_=g.mirror,w=g.reversed,S="".concat(v).concat(_?"Mirror":""),j,E,A,k,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=x[1]-x[0],O=1/0,z=g.categoricalDomain.sort(L5);if(z.forEach(function(re,se){se>0&&(O=Math.min((re||0)-(z[se-1]||0),O))}),Number.isFinite(O)){var W=O/P,G=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(j=W*G/2),g.padding==="no-gap"){var M=os(e.barCategoryGap,W*G),$=W*G/2;j=$-M-($-M)/G*M}}}i==="xAxis"?E=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:E=g.range,w&&(E=[E[1],E[0]]);var U=Zee(g,a,h),B=U.scale,H=U.realScaleType;B.domain(x).range(E),Jee(B);var V=ote(B,un(un({},g),{},{realScaleType:H}));i==="xAxis"?(D=v==="top"&&!_||v==="bottom"&&_,A=n.left,k=f[S]-D*g.height):i==="yAxis"&&(D=v==="left"&&!_||v==="right"&&_,A=f[S]-D*g.width,k=n.top);var q=un(un(un({},g),V),{},{realScaleType:H,x:A,y:k,scale:B,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return q.bandSize=wh(q,V),!g.hide&&i==="xAxis"?f[S]+=(D?-1:1)*q.height:g.hide||(f[S]+=(D?-1:1)*q.width),un(un({},m),{},bp({},p,q))},{})},b2=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Tse=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return b2({x:r,y:n},{x:i,y:a})},w2=function(){function t(e){Ese(this,t),this.scale=e}return jse(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();bp(w2,"EPS",1e-4);var _w=function(e){var r=Object.keys(e).reduce(function(n,i){return un(un({},n),{},bp({},i,w2.create(e[i])))},{});return un(un({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return qae(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return p2(i,function(a,s){return r[s].isInRange(a)})}})};function Nse(t){return(t%180+180)%180}var Cse=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nse(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},kse=ya,Ose=Fu,Dse=ip;function Pse(t){return function(e,r,n){var i=Object(e);if(!Ose(e)){var a=kse(r);e=Dse(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var Mse=Pse,Rse=d2;function Ise(t){var e=Rse(t),r=e%1;return e===e?r?e-r:e:0}var $se=Ise,Lse=CD,Fse=ya,Use=$se,Bse=Math.max;function Hse(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Use(r);return i<0&&(i=Bse(n+i,0)),Lse(t,Fse(e),i)}var zse=Hse,Wse=Mse,Vse=zse,Gse=Wse(Vse),qse=Gse;const Yse=Xe(qse);var Kse=FH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Ew=C.createContext(void 0),jw=C.createContext(void 0),S2=C.createContext(void 0),_2=C.createContext({}),E2=C.createContext(void 0),j2=C.createContext(0),A2=C.createContext(0),_A=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=Kse(a);return F.createElement(Ew.Provider,{value:n},F.createElement(jw.Provider,{value:i},F.createElement(_2.Provider,{value:a},F.createElement(S2.Provider,{value:d},F.createElement(E2.Provider,{value:s},F.createElement(j2.Provider,{value:u},F.createElement(A2.Provider,{value:l},o)))))))},Qse=function(){return C.useContext(E2)},T2=function(e){var r=C.useContext(Ew);r==null&&cs(!1);var n=r[e];return n==null&&cs(!1),n},Xse=function(){var e=C.useContext(Ew);return Ri(e)},Zse=function(){var e=C.useContext(jw),r=Yse(e,function(n){return p2(n.domain,Number.isFinite)});return r||Ri(e)},N2=function(e){var r=C.useContext(jw);r==null&&cs(!1);var n=r[e];return n==null&&cs(!1),n},Jse=function(){var e=C.useContext(S2);return e},eoe=function(){return C.useContext(_2)},Aw=function(){return C.useContext(A2)},Tw=function(){return C.useContext(j2)};function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(t)}function toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k2(n.key),n)}}function roe(t,e,r){return e&&EA(t.prototype,e),r&&EA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function noe(t,e,r){return e=Rh(e),ioe(t,C2()?Reflect.construct(e,r||[],Rh(t).constructor):e.apply(t,r))}function ioe(t,e){if(e&&(Bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aoe(t)}function aoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rh(t)}function soe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I0(t,e)}function jA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(r),!0).forEach(function(n){Nw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nw(t,e,r){return e=k2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k2(t){var e=ooe(t,"string");return Bo(e)=="symbol"?e:e+""}function ooe(t,e){if(Bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function loe(t,e){return foe(t)||doe(t,e)||uoe(t,e)||coe()}function coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t,e){if(t){if(typeof t=="string")return TA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TA(t,e)}}function TA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function doe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function foe(t){if(Array.isArray(t))return t}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}var hoe=function(e,r){var n;return F.isValidElement(e)?n=F.cloneElement(e,r):Ne(e)?n=e(r):n=F.createElement("line",$0({},r,{className:"recharts-reference-line-line"})),n},moe=function(e,r,n,i,a,s,o,l,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var p=u.y,g=e.y.apply(p,{position:s});if(Rn(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:s});if(Rn(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:f+m},{x:y,y:f}];return o==="top"?b.reverse():b}if(i){var _=u.segment,w=_.map(function(S){return e.apply(S,{position:s})});return Rn(u,"discard")&&Fae(w,function(S){return!e.isInRange(S)})?null:w}return null};function poe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=Qse(),d=T2(i),f=N2(a),h=Jse();if(!u||!h)return null;ni(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=_w({x:d.scale,y:f.scale}),p=Pt(e),g=Pt(r),v=n&&n.length===2,x=moe(m,p,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=loe(x,2),b=y[0],_=b.x,w=b.y,S=y[1],j=S.x,E=S.y,A=Rn(t,"hidden")?"url(#".concat(u,")"):void 0,k=AA(AA({clipPath:A},ke(t,!0)),{},{x1:_,y1:w,x2:j,y2:E});return F.createElement(it,{className:Ie("recharts-reference-line",o)},hoe(s,k),tr.renderCallByParent(t,Tse({x1:_,y1:w,x2:j,y2:E})))}var Cw=function(t){function e(){return toe(this,e),noe(this,e,arguments)}return soe(e,t),roe(e,[{key:"render",value:function(){return F.createElement(poe,this.props)}}])}(F.Component);Nw(Cw,"displayName","ReferenceLine");Nw(Cw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function NA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(r),!0).forEach(function(n){wp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D2(n.key),n)}}function voe(t,e,r){return e&&kA(t.prototype,e),r&&kA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yoe(t,e,r){return e=Ih(e),xoe(t,O2()?Reflect.construct(e,r||[],Ih(t).constructor):e.apply(t,r))}function xoe(t,e){if(e&&(Ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return boe(t)}function boe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O2=function(){return!!t})()}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ih(t)}function woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function wp(t,e,r){return e=D2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D2(t){var e=Soe(t,"string");return Ho(e)=="symbol"?e:e+""}function Soe(t,e){if(Ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _oe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=_w({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Rn(e,"discard")&&!s.isInRange(o)?null:o},Sp=function(t){function e(){return goe(this,e),yoe(this,e,arguments)}return woe(e,t),voe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Pt(i),d=Pt(a);if(ni(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_oe(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,x=Rn(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=CA(CA({clipPath:x},ke(this.props,!0)),{},{cx:h,cy:m});return F.createElement(it,{className:Ie("recharts-reference-dot",v)},e.renderDot(g,y),tr.renderCallByParent(this.props,{x:h-s,y:m-s,width:2*s,height:2*s}))}}])}(F.Component);wp(Sp,"displayName","ReferenceDot");wp(Sp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wp(Sp,"renderDot",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ne(t)?r=t(e):r=F.createElement(vp,L0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){_p(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M2(n.key),n)}}function joe(t,e,r){return e&&PA(t.prototype,e),r&&PA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aoe(t,e,r){return e=$h(e),Toe(t,P2()?Reflect.construct(e,r||[],$h(t).constructor):e.apply(t,r))}function Toe(t,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Noe(t)}function Noe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P2=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(t)}function Coe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B0(t,e)}function _p(t,e,r){return e=M2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M2(t){var e=koe(t,"string");return zo(e)=="symbol"?e:e+""}function koe(t,e){if(zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ooe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=_w({x:d.scale,y:f.scale}),m={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Rn(a,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:b2(m,p)},Ep=function(t){function e(){return Eoe(this,e),Aoe(this,e,arguments)}return Coe(e,t),joe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ni(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pt(i),h=Pt(a),m=Pt(s),p=Pt(o),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=Ooe(f,h,m,p,this.props);if(!v&&!g)return null;var x=Rn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(it,{className:Ie("recharts-reference-area",l)},e.renderRect(g,DA(DA({clipPath:x},ke(this.props,!0)),v)),tr.renderCallByParent(this.props,v))}}])}(F.Component);_p(Ep,"displayName","ReferenceArea");_p(Ep,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_p(Ep,"renderRect",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Ne(t)?r=t(e):r=F.createElement(ww,U0({},e,{className:"recharts-reference-area-rect"})),r});function R2(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function Doe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Cse(n,r)}function Poe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Lh(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Moe(t,e){return R2(t,e+1)}function Roe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,f=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:R2(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(p,g)),v},y=p.coordinate,b=l===0||Lh(t,y,x,d,o);b||(l=0,d=s,u+=1),b&&(d=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function MA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(r),!0).forEach(function(n){Ioe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ioe(t,e,r){return e=$oe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $oe(t){var e=Loe(t,"string");return ju(e)=="symbol"?e:e+""}function Loe(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var m=a[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===s-1){var v=t*(m.coordinate+t*g()/2-l);a[h]=m=Jt(Jt({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else a[h]=m=Jt(Jt({},m),{},{tickCoord:m.coordinate});var x=Lh(t,m.tickCoord,g,o,l);x&&(l=m.tickCoord-t*(g()/2+i),a[h]=Jt(Jt({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function Uoe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=Jt(Jt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Lh(t,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-t*(f/2+i),s[o-1]=Jt(Jt({},d),{},{isShow:!0}))}for(var p=a?o-1:o,g=function(y){var b=s[y],_,w=function(){return _===void 0&&(_=r(b,y)),_};if(y===0){var S=t*(b.coordinate-t*w()/2-l);s[y]=b=Jt(Jt({},b),{},{tickCoord:S<0?b.coordinate-S*t:b.coordinate})}else s[y]=b=Jt(Jt({},b),{},{tickCoord:b.coordinate});var j=Lh(t,b.tickCoord,w,l,u);j&&(l=b.tickCoord+t*(w()/2+i),s[y]=Jt(Jt({},b),{},{isShow:!0}))},v=0;v<p;v++)g(v);return s}function kw(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ie(l)||Pn.isSsr)return Moe(i,typeof l=="number"&&ie(l)?l:0);var h=[],m=o==="top"||o==="bottom"?"width":"height",p=d&&m==="width"?xc(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,_){var w=Ne(u)?u(b.value,_):b.value;return m==="width"?Doe(xc(w,{fontSize:e,letterSpacing:r}),p,f):xc(w,{fontSize:e,letterSpacing:r})[m]},v=i.length>=2?mn(i[1].coordinate-i[0].coordinate):1,x=Poe(a,v,m);return l==="equidistantPreserveStart"?Roe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Uoe(v,x,g,i,s,l==="preserveStartEnd"):h=Foe(v,x,g,i,s),h.filter(function(y){return y.isShow}))}var Boe=["viewBox"],Hoe=["viewBox"],zoe=["ticks"];function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Js.apply(this,arguments)}function RA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(r),!0).forEach(function(n){Ow(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zg(t,e){if(t==null)return{};var r=Woe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Woe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$2(n.key),n)}}function Goe(t,e,r){return e&&IA(t.prototype,e),r&&IA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qoe(t,e,r){return e=Fh(e),Yoe(t,I2()?Reflect.construct(e,r||[],Fh(t).constructor):e.apply(t,r))}function Yoe(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Koe(t)}function Koe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I2=function(){return!!t})()}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fh(t)}function Qoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H0(t,e)}function Ow(t,e,r){return e=$2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $2(t){var e=Xoe(t,"string");return Wo(e)=="symbol"?e:e+""}function Xoe(t,e){if(Wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sl=function(t){function e(r){var n;return Voe(this,e),n=qoe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Qoe(e,t),Goe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=zg(n,Boe),o=this.props,l=o.viewBox,u=zg(o,Hoe);return!uo(a,l)||!uo(s,u)||!uo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,p,g,v,x,y,b=f?-1:1,_=n.tickSize||d,w=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=s+ +!f*l,g=v-b*_,y=g-b*h,x=w;break;case"left":g=v=n.coordinate,p=a+ +!f*o,m=p-b*_,x=m-b*h,y=w;break;case"right":g=v=n.coordinate,p=a+ +f*o,m=p+b*_,x=m+b*h,y=w;break;default:m=p=n.coordinate,v=s+ +f*l,g=v+b*_,y=g+b*h,x=w;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Ct(Ct(Ct({},ke(this.props,!1)),ke(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Ct(Ct({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Ct(Ct({},f),{},{x1:i+m*s,y1:a,x2:i+m*s,y2:a+o})}return F.createElement("line",Js({},f,{className:Ie("recharts-cartesian-axis-line",Kr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,m=kw(Ct(Ct({},this.props),{},{ticks:n}),i,a),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=ke(this.props,!1),x=ke(d,!1),y=Ct(Ct({},v),{},{fill:"none"},ke(l,!1)),b=m.map(function(_,w){var S=s.getTickLineCoord(_),j=S.line,E=S.tick,A=Ct(Ct(Ct(Ct({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),E),{},{index:w,payload:_,visibleTicksCount:m.length,tickFormatter:f});return F.createElement(it,Js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Gf(s.props,_,w)),l&&F.createElement("line",Js({},y,j,{className:Ie("recharts-cartesian-axis-tick-line",Kr(l,"className"))})),d&&e.renderTickItem(d,A,"".concat(Ne(f)?f(_.value,w):_.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=zg(f,zoe),p=h;return Ne(l)&&(p=h&&h.length>0?l(this.props):l(m)),s<=0||o<=0||!p||!p.length?null:F.createElement(it,{className:Ie("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Ie(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?s=F.cloneElement(n,Ct(Ct({},i),{},{className:o})):Ne(n)?s=n(Ct(Ct({},i),{},{className:o})):s=F.createElement(sh,Js({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(C.Component);Ow(Sl,"displayName","CartesianAxis");Ow(Sl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zoe=["x1","y1","x2","y2","key"],Joe=["offset"];function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function $A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(r),!0).forEach(function(n){ele(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ele(t,e,r){return e=tle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tle(t){var e=rle(t,"string");return ds(e)=="symbol"?e:e+""}function rle(t,e){if(ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ga.apply(this,arguments)}function LA(t,e){if(t==null)return{};var r=nle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ile=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return F.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function L2(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Ne(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=LA(e,Zoe),u=ke(l,!1);u.offset;var d=LA(u,Joe);r=F.createElement("line",Ga({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function ale(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=rr(rr({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return L2(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function sle(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=rr(rr({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return L2(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function ole(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?i+s-h:d[m+1]-h;if(g<=0)return null;var v=m%e.length;return F.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function lle(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+o-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return F.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cle=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return YP(kw(rr(rr(rr({},Sl.defaultProps),n),{},{ticks:Jn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},ule=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return YP(kw(rr(rr(rr({},Sl.defaultProps),n),{},{ticks:Jn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Rs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Uh(t){var e,r,n,i,a,s,o=Aw(),l=Tw(),u=eoe(),d=rr(rr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Rs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Rs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Rs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Rs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Rs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Rs.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Xse(),b=Zse();if(!ie(m)||m<=0||!ie(p)||p<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||cle,w=d.horizontalCoordinatesGenerator||ule,S=d.horizontalPoints,j=d.verticalPoints;if((!S||!S.length)&&Ne(w)){var E=v&&v.length,A=w({yAxis:b?rr(rr({},b),{},{ticks:E?v:b.ticks}):void 0,width:o,height:l,offset:u},E?!0:g);ni(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ds(A),"]")),Array.isArray(A)&&(S=A)}if((!j||!j.length)&&Ne(_)){var k=x&&x.length,D=_({xAxis:y?rr(rr({},y),{},{ticks:k?x:y.ticks}):void 0,width:o,height:l,offset:u},k?!0:g);ni(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ds(D),"]")),Array.isArray(D)&&(j=D)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(ile,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(ale,Ga({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:b})),F.createElement(sle,Ga({},d,{offset:u,verticalPoints:j,xAxis:y,yAxis:b})),F.createElement(ole,Ga({},d,{horizontalPoints:S})),F.createElement(lle,Ga({},d,{verticalPoints:j})))}Uh.displayName="CartesianGrid";var dle=["type","layout","connectNulls","ref"],fle=["key"];function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function FA(t,e){if(t==null)return{};var r=hle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_c.apply(this,arguments)}function UA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(r),!0).forEach(function(n){dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Is(t){return vle(t)||gle(t)||ple(t)||mle()}function mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(t,e){if(t){if(typeof t=="string")return z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z0(t,e)}}function gle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vle(t){if(Array.isArray(t))return z0(t)}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U2(n.key),n)}}function xle(t,e,r){return e&&BA(t.prototype,e),r&&BA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ble(t,e,r){return e=Bh(e),wle(t,F2()?Reflect.construct(e,r||[],Bh(t).constructor):e.apply(t,r))}function wle(t,e){if(e&&(Vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sle(t)}function Sle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F2=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bh(t)}function _le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(t,e)}function dn(t,e,r){return e=U2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U2(t){var e=Ele(t,"string");return Vo(e)=="symbol"?e:e+""}function Ele(t,e){if(Vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vu=function(t){function e(){var r;yle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ble(this,e,[].concat(i)),dn(r,"state",{isAnimationFinished:!0,totalLength:0}),dn(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),dn(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,m=[],p=0,g=0;p<l.length;g+=l[p],++p)if(g+l[p]>f){m=[].concat(Is(l.slice(0,p)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Is(e.repeat(l,d)),Is(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),dn(r,"id",pl("recharts-line-")),dn(r,"pathRef",function(s){r.mainCurve=s}),dn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),dn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _le(e,t),xle(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Qr(d,Wu);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:dr(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(it,m,f.map(function(p){return F.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,f=ke(this.props,!1),h=ke(l,!0),m=u.map(function(g,v){var x=jr(jr(jr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),p={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(it,_c({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=FA(o,dle),h=jr(jr(jr({},ke(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:d});return F.createElement(mo,_c({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,p=s.animateNewValues,g=s.width,v=s.height,x=this.state,y=x.prevPoints,b=x.totalLength;return F.createElement(us,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(y){var S=y.length/o.length,j=o.map(function(P,O){var z=Math.floor(O*S);if(y[z]){var W=y[z],G=Vt(W.x,P.x),M=Vt(W.y,P.y);return jr(jr({},P),{},{x:G(w),y:M(w)})}if(p){var $=Vt(g*2,P.x),U=Vt(v/2,P.y);return jr(jr({},P),{},{x:$(w),y:U(w)})}return jr(jr({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(j,n,i)}var E=Vt(0,b),A=E(w),k;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});k=a.getStrokeDasharray(A,b,D)}else k=a.generateSimpleStrokeDasharray(b,A);return a.renderCurveStatically(o,n,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!Ro(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,p=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=Ie("recharts-line",l),_=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=_||w,j=Oe(v)?this.id:v,E=(n=ke(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,P=D===void 0?2:D,O=UO(s)?s:{},z=O.clipDot,W=z===void 0?!0:z,G=k*2+P;return F.createElement(it,{className:b},_||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(j)},F.createElement("rect",{x:_?h:h-m/2,y:w?f:f-p/2,width:_?m:m*2,height:w?p:p*2})),!W&&F.createElement("clipPath",{id:"clipPath-dots-".concat(j)},F.createElement("rect",{x:h-G/2,y:f-G/2,width:m+G,height:p+G}))):null,!y&&this.renderCurve(S,j),this.renderErrorBar(S,j),(y||s)&&this.renderDots(S,W,j),(!g||x)&&ai.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Is(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Is(s),Is(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(F.isValidElement(n))a=F.cloneElement(n,i);else if(Ne(n))a=n(i);else{var s=i.key,o=FA(i,fle),l=Ie("recharts-line-dot",typeof n!="boolean"?n.className:"");a=F.createElement(vp,_c({key:s},o,{className:l}))}return a}}])}(C.PureComponent);dn(Vu,"displayName","Line");dn(Vu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dn(Vu,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,m){var p=dr(h,s);return d==="horizontal"?{x:bh({axis:r,ticks:i,bandSize:o,entry:h,index:m}),y:Oe(p)?null:n.scale(p),value:p,payload:h}:{x:Oe(p)?null:r.scale(p),y:bh({axis:n,ticks:a,bandSize:o,entry:h,index:m}),value:p,payload:h}});return jr({points:f,layout:d},u)});var jle=["layout","type","stroke","connectNulls","isRange","ref"],Ale=["key"],B2;function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function H2(t,e){if(t==null)return{};var r=Tle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qa.apply(this,arguments)}function HA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(r),!0).forEach(function(n){Cn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W2(n.key),n)}}function Cle(t,e,r){return e&&zA(t.prototype,e),r&&zA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kle(t,e,r){return e=Hh(e),Ole(t,z2()?Reflect.construct(e,r||[],Hh(t).constructor):e.apply(t,r))}function Ole(t,e){if(e&&(Go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dle(t)}function Dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z2=function(){return!!t})()}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hh(t)}function Ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(t,e)}function Cn(t,e,r){return e=W2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W2(t){var e=Mle(t,"string");return Go(e)=="symbol"?e:e+""}function Mle(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sa=function(t){function e(){var r;Nle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kle(this,e,[].concat(i)),Cn(r,"state",{isAnimationFinished:!0}),Cn(r,"id",pl("recharts-area-")),Cn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ne(s)&&s()}),Cn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ne(s)&&s()}),r}return Ple(e,t),Cle(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=ke(this.props,!1),m=ke(u,!0),p=d.map(function(v,x){var y=Ai(Ai(Ai({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(it,qa({className:"recharts-area-dots"},g),p)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,d=n*Math.abs(l-u),f=Fi(s.map(function(h){return h.y||0}));return ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Fi(a.map(function(h){return h.y||0})),f)),ie(f)?F.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,d=n*Math.abs(l-u),f=Fi(s.map(function(h){return h.x||0}));return ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Fi(a.map(function(h){return h.x||0})),f)),ie(f)?F.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,l=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var m=H2(o,jle);return F.createElement(it,{clipPath:a?"url(#clipPath-".concat(s,")"):null},F.createElement(mo,qa({},ke(m,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&F.createElement(mo,qa({},ke(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&F.createElement(mo,qa({},ke(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,m=s.animationId,p=this.state,g=p.prevPoints,v=p.prevBaseLine;return F.createElement(us,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(g){var b=g.length/o.length,_=o.map(function(E,A){var k=Math.floor(A*b);if(g[k]){var D=g[k],P=Vt(D.x,E.x),O=Vt(D.y,E.y);return Ai(Ai({},E),{},{x:P(y),y:O(y)})}return E}),w;if(ie(l)&&typeof l=="number"){var S=Vt(v,l);w=S(y)}else if(Oe(l)||ml(l)){var j=Vt(v,0);w=j(y)}else w=l.map(function(E,A){var k=Math.floor(A*b);if(v[k]){var D=v[k],P=Vt(D.x,E.x),O=Vt(D.y,E.y);return Ai(Ai({},E),{},{x:P(y),y:O(y)})}return E});return a.renderAreaStatically(_,w,n,i)}return F.createElement(it,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),F.createElement(it,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!d&&h>0||!Ro(d,s)||!Ro(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,p=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=Ie("recharts-area",l),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=_||w,j=Oe(v)?this.id:v,E=(n=ke(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,P=D===void 0?2:D,O=UO(s)?s:{},z=O.clipDot,W=z===void 0?!0:z,G=k*2+P;return F.createElement(it,{className:b},_||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(j)},F.createElement("rect",{x:_?d:d-m/2,y:w?u:u-p/2,width:_?m:m*2,height:w?p:p*2})),!W&&F.createElement("clipPath",{id:"clipPath-dots-".concat(j)},F.createElement("rect",{x:d-G/2,y:u-G/2,width:m+G,height:p+G}))):null,y?null:this.renderArea(S,j),(s||y)&&this.renderDots(S,W,j),(!g||x)&&ai.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(C.PureComponent);B2=Sa;Cn(Sa,"displayName","Area");Cn(Sa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Cn(Sa,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ie(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Cn(Sa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=e.layout,p=u&&u.length,g=B2.getBaseValue(e,r,n,i),v=m==="horizontal",x=!1,y=f.map(function(_,w){var S;p?S=u[d+w]:(S=dr(_,l),Array.isArray(S)?x=!0:S=[g,S]);var j=S[1]==null||p&&dr(_,l)==null;return v?{x:bh({axis:n,ticks:a,bandSize:o,entry:_,index:w}),y:j?null:i.scale(S[1]),value:S,payload:_}:{x:j?null:n.scale(S[1]),y:bh({axis:i,ticks:s,bandSize:o,entry:_,index:w}),value:S,payload:_}}),b;return p||x?b=y.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):b=v?i.scale(g):n.scale(g),Ai({points:y,baseLine:b,layout:m,isRange:x},h)});Cn(Sa,"renderDotItem",function(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Ne(t))r=t(e);else{var n=Ie("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=H2(e,Ale);r=F.createElement(vp,qa({},a,{key:i,className:n}))}return r});function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(t)}function Rle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q2(n.key),n)}}function Ile(t,e,r){return e&&WA(t.prototype,e),r&&WA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $le(t,e,r){return e=zh(e),Lle(t,V2()?Reflect.construct(e,r||[],zh(t).constructor):e.apply(t,r))}function Lle(t,e){if(e&&(qo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(t)}function Fle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function zh(t){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zh(t)}function Ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(t,e)}function G2(t,e,r){return e=q2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q2(t){var e=Ble(t,"string");return qo(e)=="symbol"?e:e+""}function Ble(t,e){if(qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}function Hle(t){var e=t.xAxisId,r=Aw(),n=Tw(),i=T2(e);return i==null?null:C.createElement(Sl,q0({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Jn(s,!0)}}))}var aa=function(t){function e(){return Rle(this,e),$le(this,e,arguments)}return Ule(e,t),Ile(e,[{key:"render",value:function(){return C.createElement(Hle,this.props)}}])}(C.Component);G2(aa,"displayName","XAxis");G2(aa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function zle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q2(n.key),n)}}function Wle(t,e,r){return e&&VA(t.prototype,e),r&&VA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vle(t,e,r){return e=Wh(e),Gle(t,Y2()?Reflect.construct(e,r||[],Wh(t).constructor):e.apply(t,r))}function Gle(t,e){if(e&&(Yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qle(t)}function qle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y2=function(){return!!t})()}function Wh(t){return Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wh(t)}function Yle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(t,e)}function K2(t,e,r){return e=Q2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q2(t){var e=Kle(t,"string");return Yo(e)=="symbol"?e:e+""}function Kle(t,e){if(Yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}var Qle=function(e){var r=e.yAxisId,n=Aw(),i=Tw(),a=N2(r);return a==null?null:C.createElement(Sl,K0({},a,{className:Ie("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Jn(o,!0)}}))},sa=function(t){function e(){return zle(this,e),Vle(this,e,arguments)}return Yle(e,t),Wle(e,[{key:"render",value:function(){return C.createElement(Qle,this.props)}}])}(C.Component);K2(sa,"displayName","YAxis");K2(sa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GA(t){return ece(t)||Jle(t)||Zle(t)||Xle()}function Xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return Q0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q0(t,e)}}function Jle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ece(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var X0=function(e,r,n,i,a){var s=Qr(e,Cw),o=Qr(e,Sp),l=[].concat(GA(s),GA(o)),u=Qr(e,Ep),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Rn(v.props,"extendDomain")&&ie(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&Rn(v.props,"extendDomain")&&ie(v.props[m])&&ie(v.props[p])){var x=v.props[m],y=v.props[p];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},X2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var _=v.length,w;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,v=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(X2);var tce=X2.exports;const rce=Xe(tce);var Wg=new rce,Vg="recharts.syncMouseEvents";function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z2(n.key),n)}}function ice(t,e,r){return e&&qA(t.prototype,e),r&&qA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gg(t,e,r){return e=Z2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z2(t){var e=ace(t,"string");return Au(e)=="symbol"?e:e+""}function ace(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sce=function(){function t(){nce(this,t),Gg(this,"activeIndex",0),Gg(this,"coordinateList",[]),Gg(this,"layout","horizontal")}return ice(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function oce(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ie(n)&&ie(i))return!0}return!1}function lce(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function J2(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=qt(e,r,n,i),o=qt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function cce(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=qt(o,l,u,f),m=qt(o,l,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return J2(e);return[{x:n,y:i},{x:a,y:s}]}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function YA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Od(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(r),!0).forEach(function(n){uce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uce(t,e,r){return e=dce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dce(t){var e=fce(t,"string");return Tu(e)=="symbol"?e:e+""}function fce(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hce(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var p,g=mo;if(h==="ScatterChart")p=s,g=cie;else if(h==="BarChart")p=lce(f,s,l,d),g=ww;else if(f==="radial"){var v=J2(s),x=v.cx,y=v.cy,b=v.radius,_=v.startAngle,w=v.endAngle;p={cx:x,cy:y,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},g=JP}else p={points:cce(f,s,l)},g=mo;var S=Od(Od(Od(Od({stroke:"#ccc",pointerEvents:"none"},l),p),ke(m,!1)),{},{payload:o,payloadIndex:u,className:Ie("recharts-tooltip-cursor",m.className)});return C.isValidElement(m)?C.cloneElement(m,S):C.createElement(g,S)}var mce=["item"],pce=["children","className","width","height","style","compact","title","desc"];function Ko(t){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(t)}function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eo.apply(this,arguments)}function KA(t,e){return yce(t)||vce(t,e)||tM(t,e)||gce()}function gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function yce(t){if(Array.isArray(t))return t}function QA(t,e){if(t==null)return{};var r=xce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rM(n.key),n)}}function wce(t,e,r){return e&&XA(t.prototype,e),r&&XA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sce(t,e,r){return e=Vh(e),_ce(t,eM()?Reflect.construct(e,r||[],Vh(t).constructor):e.apply(t,r))}function _ce(t,e){if(e&&(Ko(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ece(t)}function Ece(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function Vh(t){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vh(t)}function jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(t,e)}function Qo(t){return Nce(t)||Tce(t)||tM(t)||Ace()}function Ace(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tM(t,e){if(t){if(typeof t=="string")return J0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(t,e)}}function Tce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nce(t){if(Array.isArray(t))return J0(t)}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(r),!0).forEach(function(n){_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _e(t,e,r){return e=rM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rM(t){var e=Cce(t,"string");return Ko(e)=="symbol"?e:e+""}function Cce(t,e){if(Ko(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kce={xAxis:["bottom","top"],yAxis:["left","right"]},Oce={width:"100%",height:"100%"},nM={x:0,y:0};function Dd(t){return t}var Dce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Pce=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Z(Z(Z({},i),qt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return Z(Z(Z({},i),qt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return nM},jp=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Qo(o),Qo(u)):o},[]);return s.length>0?s:e&&e.length&&ie(i)&&ie(a)?e.slice(i,a+1):[]};function iM(t){return t==="number"?[0,"auto"]:void 0}var ex=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=jp(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var m=f===void 0?o:f;h=Wf(m,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(Qo(l),[QP(u,h)]):l},[])},JA=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Dce(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=Gee(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=ex(e,r,d,f),m=Pce(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Mce=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=qP(d,a);return n.reduce(function(p,g){var v,x=g.type.defaultProps!==void 0?Z(Z({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,_=x.allowDataOverflow,w=x.allowDuplicatedCategory,S=x.scale,j=x.ticks,E=x.includeHidden,A=x[s];if(p[A])return p;var k=jp(e.data,{graphicalItems:i.filter(function(V){var q,re=s in V.props?V.props[s]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[s];return re===A}),dataStartIndex:l,dataEndIndex:u}),D=k.length,P,O,z;oce(x.domain,_,y)&&(P=v0(x.domain,null,_),m&&(y==="number"||S!=="auto")&&(z=wc(k,b,"category")));var W=iM(y);if(!P||P.length===0){var G,M=(G=x.domain)!==null&&G!==void 0?G:W;if(b){if(P=wc(k,b,y),y==="category"&&m){var $=$5(P);w&&$?(O=P,P=kh(0,D)):w||(P=wj(M,P,g).reduce(function(V,q){return V.indexOf(q)>=0?V:[].concat(Qo(V),[q])},[]))}else if(y==="category")w?P=P.filter(function(V){return V!==""&&!Oe(V)}):P=wj(M,P,g).reduce(function(V,q){return V.indexOf(q)>=0||q===""||Oe(q)?V:[].concat(Qo(V),[q])},[]);else if(y==="number"){var U=Xee(k,i.filter(function(V){var q,re,se=s in V.props?V.props[s]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[s],de="hide"in V.props?V.props.hide:(re=V.type.defaultProps)===null||re===void 0?void 0:re.hide;return se===A&&(E||!de)}),b,a,d);U&&(P=U)}m&&(y==="number"||S!=="auto")&&(z=wc(k,b,"category"))}else m?P=kh(0,D):o&&o[A]&&o[A].hasStack&&y==="number"?P=h==="expand"?[0,1]:KP(o[A].stackGroups,l,u):P=GP(k,i.filter(function(V){var q=s in V.props?V.props[s]:V.type.defaultProps[s],re="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return q===A&&(E||!re)}),y,d,!0);if(y==="number")P=X0(f,P,A,a,j),M&&(P=v0(M,P,_));else if(y==="category"&&M){var B=M,H=P.every(function(V){return B.indexOf(V)>=0});H&&(P=B)}}return Z(Z({},p),{},_e({},A,Z(Z({},x),{},{axisType:a,domain:P,categoricalDomain:z,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:W,isCategorical:m,layout:d})))},{})},Rce=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=jp(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=h.length,p=qP(d,a),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?Z(Z({},x.type.defaultProps),x.props):x.props,b=y[s],_=iM("number");if(!v[b]){g++;var w;return p?w=kh(0,m):o&&o[b]&&o[b].hasStack?(w=KP(o[b].stackGroups,l,u),w=X0(f,w,b,a)):(w=v0(_,GP(h,n.filter(function(S){var j,E,A=s in S.props?S.props[s]:(j=S.type.defaultProps)===null||j===void 0?void 0:j[s],k="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===b&&!k}),"number",d),i.defaultProps.allowDataOverflow),w=X0(f,w,b,a)),Z(Z({},v),{},_e({},b,Z(Z({axisType:a},i.defaultProps),{},{hide:!0,orientation:Kr(kce,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:p,layout:d})))}return v},{})},Ice=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Qr(d,a),m={};return h&&h.length?m=Mce(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(m=Rce(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),m},$ce=function(e){var r=Ri(e),n=Jn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Yb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:wh(r,n)}},eT=function(e){var r=e.children,n=e.defaultShowTooltip,i=Nr(r,Fo),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Lce=function(e){return!e||!e.length?!1:e.some(function(r){var n=ri(r&&r.type);return n&&n.indexOf("Bar")>=0})},tT=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fce=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Nr(f,Fo),p=Nr(f,ea),g=Object.keys(l).reduce(function(w,S){var j=l[S],E=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},_e({},E,w[E]+j.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,S){var j=s[S],E=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},_e({},E,Kr(w,"".concat(E))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=Z(Z({},v),g),y=x.bottom;m&&(x.bottom+=m.props.height||Fo.defaultProps.height),p&&r&&(x=Kee(x,i,n,r));var b=u-x.left-x.right,_=d-x.top-x.bottom;return Z(Z({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},Uce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Dw=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var b=y.graphicalItems,_=y.stackGroups,w=y.offset,S=y.updateId,j=y.dataStartIndex,E=y.dataEndIndex,A=x.barSize,k=x.layout,D=x.barGap,P=x.barCategoryGap,O=x.maxBarSize,z=tT(k),W=z.numericAxisName,G=z.cateAxisName,M=Lce(b),$=[];return b.forEach(function(U,B){var H=jp(x.data,{graphicalItems:[U],dataStartIndex:j,dataEndIndex:E}),V=U.type.defaultProps!==void 0?Z(Z({},U.type.defaultProps),U.props):U.props,q=V.dataKey,re=V.maxBarSize,se=V["".concat(W,"Id")],de=V["".concat(G,"Id")],Ee={},he=l.reduce(function(be,K){var me=y["".concat(K.axisType,"Map")],pe=V["".concat(K.axisType,"Id")];me&&me[pe]||K.axisType==="zAxis"||cs(!1);var Se=me[pe];return Z(Z({},be),{},_e(_e({},K.axisType,Se),"".concat(K.axisType,"Ticks"),Jn(Se)))},Ee),X=he[G],oe=he["".concat(G,"Ticks")],ne=_&&_[se]&&_[se].hasStack&&cte(U,_[se].stackGroups),T=ri(U.type).indexOf("Bar")>=0,N=wh(X,oe),R=[],I=M&&qee({barSize:A,stackGroups:_,totalSize:Uce(he,G)});if(T){var Y,ee,ae=Oe(re)?O:re,ce=(Y=(ee=wh(X,oe,!0))!==null&&ee!==void 0?ee:ae)!==null&&Y!==void 0?Y:0;R=Yee({barGap:D,barCategoryGap:P,bandSize:ce!==N?ce:N,sizeList:I[de],maxBarSize:ae}),ce!==N&&(R=R.map(function(be){return Z(Z({},be),{},{position:Z(Z({},be.position),{},{offset:be.position.offset-ce/2})})}))}var fe=U&&U.type&&U.type.getComposedData;fe&&$.push({props:Z(Z({},fe(Z(Z({},he),{},{displayedData:H,props:x,dataKey:q,item:U,bandSize:N,barPosition:R,offset:w,stackedData:ne,layout:k,dataStartIndex:j,dataEndIndex:E}))),{},_e(_e(_e({key:U.key||"item-".concat(B)},W,he[W]),G,he[G]),"animationId",S)),childIndex:K5(U,x.children),item:U})}),$},m=function(x,y){var b=x.props,_=x.dataStartIndex,w=x.dataEndIndex,S=x.updateId;if(!d1({props:b}))return null;var j=b.children,E=b.layout,A=b.stackOffset,k=b.data,D=b.reverseStackOrder,P=tT(E),O=P.numericAxisName,z=P.cateAxisName,W=Qr(j,n),G=ste(k,W,"".concat(O,"Id"),"".concat(z,"Id"),A,D),M=l.reduce(function(V,q){var re="".concat(q.axisType,"Map");return Z(Z({},V),{},_e({},re,Ice(b,Z(Z({},q),{},{graphicalItems:W,stackGroups:q.axisType===O&&G,dataStartIndex:_,dataEndIndex:w}))))},{}),$=Fce(Z(Z({},M),{},{props:b,graphicalItems:W}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(V){M[V]=d(b,M[V],$,V.replace("Map",""),r)});var U=M["".concat(z,"Map")],B=$ce(U),H=h(b,Z(Z({},M),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:W,stackGroups:G,offset:$}));return Z(Z({formattedGraphicalItems:H,graphicalItems:W,offset:$,stackGroups:G},B),M)},p=function(v){function x(y){var b,_,w;return bce(this,x),w=Sce(this,x,[y]),_e(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(w,"accessibilityManager",new sce),_e(w,"handleLegendBBoxUpdate",function(S){if(S){var j=w.state,E=j.dataStartIndex,A=j.dataEndIndex,k=j.updateId;w.setState(Z({legendBBox:S},m({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:k},Z(Z({},w.state),{},{legendBBox:S}))))}}),_e(w,"handleReceiveSyncEvent",function(S,j,E){if(w.props.syncId===S){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),_e(w,"handleBrushChange",function(S){var j=S.startIndex,E=S.endIndex;if(j!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return Z({dataStartIndex:j,dataEndIndex:E},m({props:w.props,dataStartIndex:j,dataEndIndex:E,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),_e(w,"handleMouseEnter",function(S){var j=w.getMouseInfo(S);if(j){var E=Z(Z({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseEnter;Ne(A)&&A(E,S)}}),_e(w,"triggeredAfterMouseMove",function(S){var j=w.getMouseInfo(S),E=j?Z(Z({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseMove;Ne(A)&&A(E,S)}),_e(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),_e(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),_e(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),_e(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var E=w.props.onMouseLeave;Ne(E)&&E(j,S)}),_e(w,"handleOuterEvent",function(S){var j=Y5(S),E=Kr(w.props,"".concat(j));if(j&&Ne(E)){var A,k;/.*touch.*/i.test(j)?k=w.getMouseInfo(S.changedTouches[0]):k=w.getMouseInfo(S),E((A=k)!==null&&A!==void 0?A:{},S)}}),_e(w,"handleClick",function(S){var j=w.getMouseInfo(S);if(j){var E=Z(Z({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onClick;Ne(A)&&A(E,S)}}),_e(w,"handleMouseDown",function(S){var j=w.props.onMouseDown;if(Ne(j)){var E=w.getMouseInfo(S);j(E,S)}}),_e(w,"handleMouseUp",function(S){var j=w.props.onMouseUp;if(Ne(j)){var E=w.getMouseInfo(S);j(E,S)}}),_e(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),_e(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),_e(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),_e(w,"handleDoubleClick",function(S){var j=w.props.onDoubleClick;if(Ne(j)){var E=w.getMouseInfo(S);j(E,S)}}),_e(w,"handleContextMenu",function(S){var j=w.props.onContextMenu;if(Ne(j)){var E=w.getMouseInfo(S);j(E,S)}}),_e(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Wg.emit(Vg,w.props.syncId,S,w.eventEmitterSymbol)}),_e(w,"applySyncEvent",function(S){var j=w.props,E=j.layout,A=j.syncMethod,k=w.state.updateId,D=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(Z({dataStartIndex:D,dataEndIndex:P},m({props:w.props,dataStartIndex:D,dataEndIndex:P,updateId:k},w.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,z=S.chartY,W=S.activeTooltipIndex,G=w.state,M=G.offset,$=G.tooltipTicks;if(!M)return;if(typeof A=="function")W=A($,S);else if(A==="value"){W=-1;for(var U=0;U<$.length;U++)if($[U].value===S.activeLabel){W=U;break}}var B=Z(Z({},M),{},{x:M.left,y:M.top}),H=Math.min(O,B.x+B.width),V=Math.min(z,B.y+B.height),q=$[W]&&$[W].value,re=ex(w.state,w.props.data,W),se=$[W]?{x:E==="horizontal"?$[W].coordinate:H,y:E==="horizontal"?V:$[W].coordinate}:nM;w.setState(Z(Z({},S),{},{activeLabel:q,activeCoordinate:se,activePayload:re,activeTooltipIndex:W}))}else w.setState(S)}),_e(w,"renderCursor",function(S){var j,E=w.state,A=E.isTooltipActive,k=E.activeCoordinate,D=E.activePayload,P=E.offset,O=E.activeTooltipIndex,z=E.tooltipAxisBandSize,W=w.getTooltipEventType(),G=(j=S.props.active)!==null&&j!==void 0?j:A,M=w.props.layout,$=S.key||"_recharts-cursor";return F.createElement(hce,{key:$,activeCoordinate:k,activePayload:D,activeTooltipIndex:O,chartName:r,element:S,isActive:G,layout:M,offset:P,tooltipAxisBandSize:z,tooltipEventType:W})}),_e(w,"renderPolarAxis",function(S,j,E){var A=Kr(S,"type.axisType"),k=Kr(w.state,"".concat(A,"Map")),D=S.type.defaultProps,P=D!==void 0?Z(Z({},D),S.props):S.props,O=k&&k[P["".concat(A,"Id")]];return C.cloneElement(S,Z(Z({},O),{},{className:Ie(A,O.className),key:S.key||"".concat(j,"-").concat(E),ticks:Jn(O,!0)}))}),_e(w,"renderPolarGrid",function(S){var j=S.props,E=j.radialLines,A=j.polarAngles,k=j.polarRadius,D=w.state,P=D.radiusAxisMap,O=D.angleAxisMap,z=Ri(P),W=Ri(O),G=W.cx,M=W.cy,$=W.innerRadius,U=W.outerRadius;return C.cloneElement(S,{polarAngles:Array.isArray(A)?A:Jn(W,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(k)?k:Jn(z,!0).map(function(B){return B.coordinate}),cx:G,cy:M,innerRadius:$,outerRadius:U,key:S.key||"polar-grid",radialLines:E})}),_e(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,j=w.props,E=j.children,A=j.width,k=j.height,D=w.props.margin||{},P=A-(D.left||0)-(D.right||0),O=WP({children:E,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!O)return null;var z=O.item,W=QA(O,mce);return C.cloneElement(z,Z(Z({},W),{},{chartWidth:A,chartHeight:k,margin:D,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),_e(w,"renderTooltip",function(){var S,j=w.props,E=j.children,A=j.accessibilityLayer,k=Nr(E,Hr);if(!k)return null;var D=w.state,P=D.isTooltipActive,O=D.activeCoordinate,z=D.activePayload,W=D.activeLabel,G=D.offset,M=(S=k.props.active)!==null&&S!==void 0?S:P;return C.cloneElement(k,{viewBox:Z(Z({},G),{},{x:G.left,y:G.top}),active:M,label:W,payload:M?z:[],coordinate:O,accessibilityLayer:A})}),_e(w,"renderBrush",function(S){var j=w.props,E=j.margin,A=j.data,k=w.state,D=k.offset,P=k.dataStartIndex,O=k.dataEndIndex,z=k.updateId;return C.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Td(w.handleBrushChange,S.props.onChange),data:A,x:ie(S.props.x)?S.props.x:D.left,y:ie(S.props.y)?S.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:ie(S.props.width)?S.props.width:D.width,startIndex:P,endIndex:O,updateId:"brush-".concat(z)})}),_e(w,"renderReferenceElement",function(S,j,E){if(!S)return null;var A=w,k=A.clipPathId,D=w.state,P=D.xAxisMap,O=D.yAxisMap,z=D.offset,W=S.type.defaultProps||{},G=S.props,M=G.xAxisId,$=M===void 0?W.xAxisId:M,U=G.yAxisId,B=U===void 0?W.yAxisId:U;return C.cloneElement(S,{key:S.key||"".concat(j,"-").concat(E),xAxis:P[$],yAxis:O[B],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:k})}),_e(w,"renderActivePoints",function(S){var j=S.item,E=S.activePoint,A=S.basePoint,k=S.childIndex,D=S.isRange,P=[],O=j.props.key,z=j.item.type.defaultProps!==void 0?Z(Z({},j.item.type.defaultProps),j.item.props):j.item.props,W=z.activeDot,G=z.dataKey,M=Z(Z({index:k,dataKey:G,cx:E.x,cy:E.y,r:4,fill:bw(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ke(W,!1)),Vf(W));return P.push(x.renderActiveDot(W,M,"".concat(O,"-activePoint-").concat(k))),A?P.push(x.renderActiveDot(W,Z(Z({},M),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(k))):D&&P.push(null),P}),_e(w,"renderGraphicChild",function(S,j,E){var A=w.filterFormatItem(S,j,E);if(!A)return null;var k=w.getTooltipEventType(),D=w.state,P=D.isTooltipActive,O=D.tooltipAxis,z=D.activeTooltipIndex,W=D.activeLabel,G=w.props.children,M=Nr(G,Hr),$=A.props,U=$.points,B=$.isRange,H=$.baseLine,V=A.item.type.defaultProps!==void 0?Z(Z({},A.item.type.defaultProps),A.item.props):A.item.props,q=V.activeDot,re=V.hide,se=V.activeBar,de=V.activeShape,Ee=!!(!re&&P&&M&&(q||se||de)),he={};k!=="axis"&&M&&M.props.trigger==="click"?he={onClick:Td(w.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(he={onMouseLeave:Td(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Td(w.handleItemMouseEnter,S.props.onMouseEnter)});var X=C.cloneElement(S,Z(Z({},A.props),he));function oe(K){return typeof O.dataKey=="function"?O.dataKey(K.payload):null}if(Ee)if(z>=0){var ne,T;if(O.dataKey&&!O.allowDuplicatedCategory){var N=typeof O.dataKey=="function"?oe:"payload.".concat(O.dataKey.toString());ne=Wf(U,N,W),T=B&&H&&Wf(H,N,W)}else ne=U==null?void 0:U[z],T=B&&H&&H[z];if(de||se){var R=S.props.activeIndex!==void 0?S.props.activeIndex:z;return[C.cloneElement(S,Z(Z(Z({},A.props),he),{},{activeIndex:R})),null,null]}if(!Oe(ne))return[X].concat(Qo(w.renderActivePoints({item:A,activePoint:ne,basePoint:T,childIndex:z,isRange:B})))}else{var I,Y=(I=w.getItemByXY(w.state.activeCoordinate))!==null&&I!==void 0?I:{graphicalItem:X},ee=Y.graphicalItem,ae=ee.item,ce=ae===void 0?S:ae,fe=ee.childIndex,be=Z(Z(Z({},A.props),he),{},{activeIndex:fe});return[C.cloneElement(ce,be),null,null]}return B?[X,null,null]:[X,null]}),_e(w,"renderCustomized",function(S,j,E){return C.cloneElement(S,Z(Z({key:"recharts-customized-".concat(E)},w.props),w.state))}),_e(w,"renderMap",{CartesianGrid:{handler:Dd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Dd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Dd},YAxis:{handler:Dd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:pl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=zD(w.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return jce(x,v),wce(x,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,S=b.height,j=b.layout,E=Nr(_,Hr);if(E){var A=E.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,D=ex(this.state,w,A,k),P=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+S)/2,z=j==="horizontal",W=z?{x:P,y:O}:{y:P,x:O},G=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});G&&(W=Z(Z({},W),G.props.points[A].tooltipPosition),D=G.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:k,activePayload:D,activeCoordinate:W};this.setState(M),this.renderCursor(E),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){Oy([Nr(b.children,Hr)],[Nr(this.props.children,Hr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Nr(this.props.children,Hr);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return o.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=yQ(w),j={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},E=w.width/_.offsetWidth||1,A=this.inRange(j.chartX,j.chartY,E);if(!A)return null;var k=this.state,D=k.xAxisMap,P=k.yAxisMap,O=this.getTooltipEventType(),z=JA(this.state,this.props.data,this.props.layout,A);if(O!=="axis"&&D&&P){var W=Ri(D).scale,G=Ri(P).scale,M=W&&W.invert?W.invert(j.chartX):null,$=G&&G.invert?G.invert(j.chartY):null;return Z(Z({},j),{},{xValue:M,yValue:$},z)}return z?Z(Z({},j),z):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,j=b/w,E=_/w;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,k=j>=A.left&&j<=A.left+A.width&&E>=A.top&&E<=A.top+A.height;return k?{x:j,y:E}:null}var D=this.state,P=D.angleAxisMap,O=D.radiusAxisMap;if(P&&O){var z=Ri(P);return Ej({x:j,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Nr(b,Hr),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Vf(this.props,this.handleOuterEvent);return Z(Z({},j),S)}},{key:"addListener",value:function(){Wg.on(Vg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wg.removeListener(Vg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var S=this.state.formattedGraphicalItems,j=0,E=S.length;j<E;j++){var A=S[j];if(A.item===b||A.props.key===b.key||_===ri(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,j=_.height,E=_.width;return F.createElement("defs",null,F.createElement("clipPath",{id:b},F.createElement("rect",{x:w,y:S,height:j,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=KA(w,2),j=S[0],E=S[1];return Z(Z({},_),{},_e({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=KA(w,2),j=S[0],E=S[1];return Z(Z({},_),{},_e({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var j=0,E=w.length;j<E;j++){var A=w[j],k=A.props,D=A.item,P=D.type.defaultProps!==void 0?Z(Z({},D.type.defaultProps),D.props):D.props,O=ri(D.type);if(O==="Bar"){var z=(k.data||[]).find(function($){return Jne(b,$)});if(z)return{graphicalItem:A,payload:z}}else if(O==="RadialBar"){var W=(k.data||[]).find(function($){return Ej(b,$)});if(W)return{graphicalItem:A,payload:W}}else if(yp(A,S)||xp(A,S)||wu(A,S)){var G=rae({graphicalItem:A,activeTooltipItem:S,itemData:P.data}),M=P.activeIndex===void 0?G:P.activeIndex;return{graphicalItem:Z(Z({},A),{},{childIndex:M}),payload:wu(A,S)?P.data[G]:A.props.data[G]}}}return null}},{key:"render",value:function(){var b=this;if(!d1(this))return null;var _=this.props,w=_.children,S=_.className,j=_.width,E=_.height,A=_.style,k=_.compact,D=_.title,P=_.desc,O=QA(_,pce),z=ke(O,!1);if(k)return F.createElement(_A,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(Py,eo({},z,{width:j,height:E,title:D,desc:P}),this.renderClipPath(),h1(w,this.renderMap)));if(this.props.accessibilityLayer){var W,G;z.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,z.role=(G=this.props.role)!==null&&G!==void 0?G:"application",z.onKeyDown=function($){b.accessibilityManager.keyboardEvent($)},z.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return F.createElement(_A,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",eo({className:Ie("recharts-wrapper",S),style:Z({position:"relative",cursor:"default",width:j,height:E},A)},M,{ref:function(U){b.container=U}}),F.createElement(Py,eo({},z,{width:j,height:E,title:D,desc:P,style:Oce}),this.renderClipPath(),h1(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);_e(p,"displayName",r),_e(p,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),_e(p,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,_=v.children,w=v.width,S=v.height,j=v.layout,E=v.stackOffset,A=v.margin,k=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var P=eT(v);return Z(Z(Z({},P),{},{updateId:0},m(Z(Z({props:v},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:_})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||S!==x.prevHeight||j!==x.prevLayout||E!==x.prevStackOffset||!uo(A,x.prevMargin)){var O=eT(v),z={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},W=Z(Z({},JA(x,b,j)),{},{updateId:x.updateId+1}),G=Z(Z(Z({},O),z),W);return Z(Z(Z({},G),m(Z({props:v},G),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:_})}if(!Oy(_,x.prevChildren)){var M,$,U,B,H=Nr(_,Fo),V=H&&(M=($=H.props)===null||$===void 0?void 0:$.startIndex)!==null&&M!==void 0?M:k,q=H&&(U=(B=H.props)===null||B===void 0?void 0:B.endIndex)!==null&&U!==void 0?U:D,re=V!==k||q!==D,se=!Oe(b),de=se&&!re?x.updateId:x.updateId+1;return Z(Z({updateId:de},m(Z(Z({props:v},x),{},{updateId:de,dataStartIndex:V,dataEndIndex:q}),x)),{},{prevChildren:_,dataStartIndex:V,dataEndIndex:q})}return null}),_e(p,"renderActiveDot",function(v,x,y){var b;return C.isValidElement(v)?b=C.cloneElement(v,x):Ne(v)?b=v(x):b=F.createElement(vp,x),F.createElement(it,{className:"recharts-active-dot",key:y},b)});var g=C.forwardRef(function(x,y){return F.createElement(p,eo({},x,{ref:y}))});return g.displayName=p.displayName,g},Bce=Dw({chartName:"LineChart",GraphicalChild:Vu,axisComponents:[{axisType:"xAxis",AxisComp:aa},{axisType:"yAxis",AxisComp:sa}],formatAxisMap:Sw}),Hce=Dw({chartName:"BarChart",GraphicalChild:Es,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:aa},{axisType:"yAxis",AxisComp:sa}],formatAxisMap:Sw}),zce=Dw({chartName:"AreaChart",GraphicalChild:Sa,axisComponents:[{axisType:"xAxis",AxisComp:aa},{axisType:"yAxis",AxisComp:sa}],formatAxisMap:Sw});function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function $n(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function et(t){Ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Gh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function aM(t,e){Ze(2,arguments);var r=et(t),n=$n(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function Wce(t,e){Ze(2,arguments);var r=et(t).getTime(),n=$n(e);return new Date(r+n)}var Vce={};function Gu(){return Vce}function tx(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function af(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var sM=6e4,oM=36e5;function Gce(t){return Ze(1,arguments),t instanceof Date||Gh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qce(t){if(Ze(1,arguments),!Gce(t)&&typeof t!="number")return!1;var e=et(t);return!isNaN(Number(e))}function Yce(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Kce(t,e){return Ze(2,arguments),et(t).getTime()-et(e).getTime()}var rT={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Qce="trunc";function Xce(t){return t?rT[t]:rT[Qce]}function Zce(t){Ze(1,arguments);var e=et(t);return e.setHours(23,59,59,999),e}function Jce(t){Ze(1,arguments);var e=et(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function eue(t){Ze(1,arguments);var e=et(t);return Zce(e).getTime()===Jce(e).getTime()}function tue(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=af(r,n),a=Math.abs(Yce(r,n)),s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var o=af(r,n)===-i;eue(et(t))&&a===1&&af(t,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function rue(t,e,r){Ze(2,arguments);var n=Kce(t,e)/1e3;return Xce(r==null?void 0:r.roundingMethod)(n)}function nue(t,e){Ze(2,arguments);var r=$n(e);return Wce(t,-r)}var iue=864e5;function aue(t){Ze(1,arguments);var e=et(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/iue)+1}function qh(t){Ze(1,arguments);var e=1,r=et(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function lM(t){Ze(1,arguments);var e=et(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=qh(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=qh(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function sue(t){Ze(1,arguments);var e=lM(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=qh(r);return n}var oue=6048e5;function lue(t){Ze(1,arguments);var e=et(t),r=qh(e).getTime()-sue(e).getTime();return Math.round(r/oue)+1}function Yh(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=Gu(),f=$n((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=et(t),m=h.getUTCDay(),p=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function cM(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=et(t),f=d.getUTCFullYear(),h=Gu(),m=$n((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,m),p.setUTCHours(0,0,0,0);var g=Yh(p,e),v=new Date(0);v.setUTCFullYear(f,0,m),v.setUTCHours(0,0,0,0);var x=Yh(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function cue(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=Gu(),f=$n((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=cM(t,e),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var p=Yh(m,e);return p}var uue=6048e5;function due(t,e){Ze(1,arguments);var r=et(t),n=Yh(r,e).getTime()-cue(r,e).getTime();return Math.round(n/uue)+1}function We(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var fue={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return We(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):We(n+1,2)},d:function(e,r){return We(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return We(e.getUTCHours()%12||12,r.length)},H:function(e,r){return We(e.getUTCHours(),r.length)},m:function(e,r){return We(e.getUTCMinutes(),r.length)},s:function(e,r){return We(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return We(a,r.length)}};const ji=fue;var $s={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hue={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return ji.y(e,r)},Y:function(e,r,n,i){var a=cM(e,i),s=a>0?a:1-a;if(r==="YY"){var o=s%100;return We(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):We(s,r.length)},R:function(e,r){var n=lM(e);return We(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return We(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return We(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return We(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return ji.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return We(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=due(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):We(a,r.length)},I:function(e,r,n){var i=lue(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):We(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):ji.d(e,r)},D:function(e,r,n){var i=aue(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):We(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return We(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return We(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return We(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=$s.noon:i===0?a=$s.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=$s.evening:i>=12?a=$s.afternoon:i>=4?a=$s.morning:a=$s.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ji.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ji.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):We(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):We(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ji.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ji.s(e,r)},S:function(e,r){return ji.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return iT(s);case"XXXX":case"XX":return Ma(s);case"XXXXX":case"XXX":default:return Ma(s,":")}},x:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"x":return iT(s);case"xxxx":case"xx":return Ma(s);case"xxxxx":case"xxx":default:return Ma(s,":")}},O:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+nT(s,":");case"OOOO":default:return"GMT"+Ma(s,":")}},z:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+nT(s,":");case"zzzz":default:return"GMT"+Ma(s,":")}},t:function(e,r,n,i){var a=i._originalDate||e,s=Math.floor(a.getTime()/1e3);return We(s,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,s=a.getTime();return We(s,r.length)}};function nT(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var s=e||"";return r+String(i)+s+We(a,2)}function iT(t,e){if(t%60===0){var r=t>0?"-":"+";return r+We(Math.abs(t)/60,2)}return Ma(t,e)}function Ma(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=We(Math.floor(i/60),2),s=We(i%60,2);return n+a+r+s}const mue=hue;var aT=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},uM=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},pue=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return aT(e,r);var s;switch(i){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",aT(i,r)).replace("{{time}}",uM(a,r))},gue={p:uM,P:pue};const vue=gue;var yue=["D","DD"],xue=["YY","YYYY"];function bue(t){return yue.indexOf(t)!==-1}function wue(t){return xue.indexOf(t)!==-1}function sT(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Sue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_ue=function(e,r,n){var i,a=Sue[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const Eue=_ue;function qg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var jue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Aue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nue={date:qg({formats:jue,defaultWidth:"full"}),time:qg({formats:Aue,defaultWidth:"full"}),dateTime:qg({formats:Tue,defaultWidth:"full"})};const Cue=Nue;var kue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Oue=function(e,r,n,i){return kue[e]};const Due=Oue;function ql(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Pue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Iue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$ue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fue=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Uue={ordinalNumber:Fue,era:ql({values:Pue,defaultWidth:"wide"}),quarter:ql({values:Mue,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ql({values:Rue,defaultWidth:"wide"}),day:ql({values:Iue,defaultWidth:"wide"}),dayPeriod:ql({values:$ue,defaultWidth:"wide",formattingValues:Lue,defaultFormattingWidth:"wide"})};const Bue=Uue;function Yl(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?zue(o,function(f){return f.test(s)}):Hue(o,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function Hue(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function zue(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Wue(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;var o=e.slice(i.length);return{value:s,rest:o}}}var Vue=/^(\d+)(th|st|nd|rd)?/i,Gue=/\d+/i,que={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yue={any:[/^b/i,/^(a|c)/i]},Kue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Que={any:[/1/i,/2/i,/3/i,/4/i]},Xue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ede={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nde={ordinalNumber:Wue({matchPattern:Vue,parsePattern:Gue,valueCallback:function(e){return parseInt(e,10)}}),era:Yl({matchPatterns:que,defaultMatchWidth:"wide",parsePatterns:Yue,defaultParseWidth:"any"}),quarter:Yl({matchPatterns:Kue,defaultMatchWidth:"wide",parsePatterns:Que,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Yl({matchPatterns:Xue,defaultMatchWidth:"wide",parsePatterns:Zue,defaultParseWidth:"any"}),day:Yl({matchPatterns:Jue,defaultMatchWidth:"wide",parsePatterns:ede,defaultParseWidth:"any"}),dayPeriod:Yl({matchPatterns:tde,defaultMatchWidth:"any",parsePatterns:rde,defaultParseWidth:"any"})};const ide=nde;var ade={code:"en-US",formatDistance:Eue,formatLong:Cue,formatRelative:Due,localize:Bue,match:ide,options:{weekStartsOn:0,firstWeekContainsDate:1}};const dM=ade;var sde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ode=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lde=/^'([^]*?)'?$/,cde=/''/g,ude=/[a-zA-Z]/;function fM(t,e,r){var n,i,a,s,o,l,u,d,f,h,m,p,g,v,x,y,b,_;Ze(2,arguments);var w=String(e),S=Gu(),j=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:S.locale)!==null&&n!==void 0?n:dM,E=$n((a=(s=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=$n((m=(p=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&p!==void 0?p:(b=S.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var k=et(t);if(!qce(k))throw new RangeError("Invalid time value");var D=tx(k),P=nue(k,D),O={firstWeekContainsDate:E,weekStartsOn:A,locale:j,_originalDate:k},z=w.match(ode).map(function(W){var G=W[0];if(G==="p"||G==="P"){var M=vue[G];return M(W,j.formatLong)}return W}).join("").match(sde).map(function(W){if(W==="''")return"'";var G=W[0];if(G==="'")return dde(W);var M=mue[G];if(M)return!(r!=null&&r.useAdditionalWeekYearTokens)&&wue(W)&&sT(W,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&bue(W)&&sT(W,e,String(t)),M(P,W,j.localize,O);if(G.match(ude))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return W}).join("");return z}function dde(t){var e=t.match(lde);return e?e[1].replace(cde,"'"):t}function hM(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function fde(t){return hM({},t)}var oT=1440,hde=2520,Yg=43200,mde=86400;function pde(t,e,r){var n,i;Ze(2,arguments);var a=Gu(),s=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:dM;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=af(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var l=hM(fde(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=et(e),d=et(t)):(u=et(t),d=et(e));var f=rue(d,u),h=(tx(d)-tx(u))/1e3,m=Math.round((f-h)/60),p;if(m<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<oT){var g=Math.round(m/60);return s.formatDistance("aboutXHours",g,l)}else{if(m<hde)return s.formatDistance("xDays",1,l);if(m<Yg){var v=Math.round(m/oT);return s.formatDistance("xDays",v,l)}else if(m<mde)return p=Math.round(m/Yg),s.formatDistance("aboutXMonths",p,l)}if(p=tue(d,u),p<12){var x=Math.round(m/Yg);return s.formatDistance("xMonths",x,l)}else{var y=p%12,b=Math.floor(p/12);return y<3?s.formatDistance("aboutXYears",b,l):y<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function Pw(t,e){return Ze(1,arguments),pde(t,Date.now(),e)}function gde(t,e){var r;Ze(1,arguments);var n=$n((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=bde(t),a;if(i.date){var s=wde(i.date,n);a=Sde(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o=a.getTime(),l=0,u;if(i.time&&(l=_de(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Ede(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+l+u)}var Pd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bde(t){var e={},r=t.split(Pd.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Pd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Pd.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=Pd.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function wde(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function Sde(t,e){if(e===null)return new Date(NaN);var r=t.match(vde);if(!r)return new Date(NaN);var n=!!r[4],i=Kl(r[1]),a=Kl(r[2])-1,s=Kl(r[3]),o=Kl(r[4]),l=Kl(r[5])-1;if(n)return Cde(e,o,l)?jde(e,o,l):new Date(NaN);var u=new Date(0);return!Tde(e,a,s)||!Nde(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,s)),u)}function Kl(t){return t?parseInt(t):1}function _de(t){var e=t.match(yde);if(!e)return NaN;var r=Kg(e[1]),n=Kg(e[2]),i=Kg(e[3]);return kde(r,n,i)?r*oM+n*sM+i*1e3:NaN}function Kg(t){return t&&parseFloat(t.replace(",","."))||0}function Ede(t){if(t==="Z")return 0;var e=t.match(xde);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Ode(n,i)?r*(n*oM+i*sM):NaN}function jde(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var Ade=[31,null,31,30,31,30,31,31,30,31,30,31];function mM(t){return t%400===0||t%4===0&&t%100!==0}function Tde(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Ade[e]||(mM(t)?29:28))}function Nde(t,e){return e>=1&&e<=(mM(t)?366:365)}function Cde(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function kde(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Ode(t,e){return e>=0&&e<=59}function Dde(t,e){Ze(2,arguments);var r=$n(e);return aM(t,-r)}const Xo=(t,e="MM/dd/yy")=>{if(!t)return"N/A";try{const r=typeof t=="string"?nr(t):t;return!r||isNaN(r.getTime())?"Invalid Date":fM(r,e)}catch(r){return console.warn("Error formatting date:",t,r),"Invalid Date"}},Vr=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),Pde=t=>aM(t,1),Mde=t=>Dde(t,1),lT=t=>fM(t,"MMMM yyyy"),nr=t=>{if(!t)return null;try{if(typeof t=="string"&&t.includes(" 0:00:00")){const n=t.split(" 0:00:00")[0],i=new Date(n+"T00:00:00");if(!isNaN(i.getTime()))return i}const e=gde(t);if(!isNaN(e.getTime()))return e;const r=new Date(t);return isNaN(r.getTime())?null:r}catch{return null}},Rde=t=>{if(!t)return"";if(typeof t=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}T/.test(t))return t.slice(0,10)}const e=typeof t=="string"?nr(t):t;if(!e||isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`},Ide=(t,e)=>e.map(n=>{const a=t.filter(o=>{const l=o.venue?o.venue.trim().toLowerCase():null,u=n.promo?n.promo.trim().toLowerCase():null;return l&&u&&l===u&&o.grossSales>0}).map(o=>({...o,date:new Date(o.date)})).sort((o,l)=>l.date-o.date).slice(0,5).map(o=>o.grossSales);let s=0;return a.length>0&&(s=a.reduce((l,u)=>l+u,0)/a.length,s=Math.round(s/100)*100),{...n,averageSales:s,salesCount:a.length}}).sort((n,i)=>i.averageSales-n.averageSales),$de=(t,e)=>t.filter(n=>{const i=n.venue?n.venue.trim().toLowerCase():null,a=e?e.trim().toLowerCase():null;return i&&a&&i===a&&n.grossSales>0}).map(n=>({...n,date:new Date(n.date)})).sort((n,i)=>i.date-n.date).slice(0,5).map(n=>({date:n.date.toLocaleDateString(),amount:n.grossSales})),Lde=({salesData:t,currentSheet:e,selectedYears:r=[new Date().getFullYear()]})=>{const[n,i]=C.useState(!1),a=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((u,d)=>{const f={month:u};return r.forEach(h=>{const p=t.filter(g=>{const v=nr(g.date);return v&&v.getMonth()===d&&v.getFullYear()===h}).reduce((g,v)=>g+(v.grossSales||0),0);f[h]=p}),f}),s=C.useMemo(()=>a(),[t,r]),o=({active:l,payload:u,label:d})=>l&&u&&u.length?c.jsxs("div",{className:"bg-white p-3 border border-secondary-200 rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium text-secondary-900",children:d}),u.map((f,h)=>c.jsxs("p",{style:{color:f.color},className:"text-sm",children:[f.name,": ",Vr(f.value)]},h))]}):null;return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Gross Sales: ",r.length>1?`${r.length} Years`:r[0]," (",e==="TRAILER_HISTORY"?"Trailer":"Camper",")"]}),r.length>1&&c.jsxs("button",{className:`mt-2 sm:mt-0 px-3 py-1 rounded border text-xs font-semibold transition ${n?"bg-primary-600 text-white border-primary-600":"bg-white text-primary-600 border-primary-200 hover:bg-primary-50"}`,onClick:()=>i(l=>!l),children:[n?"Hide":"Show"," All Years"]})]}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"h-96",children:c.jsx(e0,{width:"100%",height:"100%",children:c.jsxs(Bce,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(Uh,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(aa,{dataKey:"month",stroke:"#64748b",fontSize:12}),c.jsx(sa,{stroke:"#64748b",fontSize:12,tickFormatter:l=>`$${(l/1e3).toFixed(0)}k`,domain:[0,5e5]}),c.jsx(Hr,{content:c.jsx(o,{})}),c.jsx(ea,{}),r.map((l,u)=>{const d=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"],f=d[u%d.length];return c.jsx(Vu,{type:"monotone",dataKey:l,stroke:f,strokeWidth:2,dot:{fill:f,strokeWidth:2,r:4},activeDot:{r:6,stroke:"#94a3b8",strokeWidth:2},name:`${l}`},l)})]})})})})]})},Fde=()=>{var ce,fe,be;const{salesData:t,currentSheet:e,loading:r}=Nt(),[n,i]=C.useState(null),[a,s]=C.useState(new Date().getMonth()),[o,l]=C.useState([new Date().getFullYear()]),[u,d]=C.useState([]),[f,h]=C.useState(!1),[m,p]=C.useState(!1),[g,v]=C.useState(null),x=C.useRef(null),y=C.useRef(null),[b,_]=C.useState([]),[w,S]=C.useState(!0),[j,E]=C.useState(null),[A,k]=C.useState([]),[D,P]=C.useState([new Date().getFullYear()]),[O,z]=C.useState(!1),W=C.useRef(null),G=C.useRef(null);C.useEffect(()=>{const K=me=>{x.current&&!x.current.contains(me.target)&&h(!1),y.current&&!y.current.contains(me.target)&&p(!1)};return(f||m)&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[f,m]),C.useEffect(()=>(z(!0),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{k(u),z(!1)},800),()=>{W.current&&clearTimeout(W.current)}),[u]),C.useEffect(()=>(z(!0),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{P(o),z(!1)},800),()=>{G.current&&clearTimeout(G.current)}),[o]),C.useEffect(()=>()=>{W.current&&clearTimeout(W.current),G.current&&clearTimeout(G.current)},[]),C.useEffect(()=>{(async()=>{try{const me=await ue.getStores();me.success?_(me.data):console.error("Error fetching stores:",me.error)}catch(me){console.error("Error fetching stores:",me)}finally{S(!1)}})()},[]);const M=["Trailer","Camper","Spartanburg","Greenville","Columbia"],$=()=>{const K=Array.from(new Set(t.map(me=>me.store).filter(Boolean)));return K.length===0?M:K},U=C.useCallback(()=>A.length===0?t:t.filter(me=>A.includes(me.store)),[A,t]),B=C.useCallback(K=>{d(me=>me.includes(K)?me.filter(pe=>pe!==K):[...me,K])},[]),H=C.useCallback(()=>{const K=$();d(K)},[]),V=C.useCallback(()=>{d([])},[]),q=C.useCallback(K=>{l(me=>{if(me.includes(K)){const pe=me.filter(Se=>Se!==K);return pe.length>0?pe:[new Date().getFullYear()]}else return me.length<5?[...me,K].sort((pe,Se)=>Se-pe):me})},[]),re=C.useCallback(()=>{const K=new Date().getFullYear(),me=[K,K-1,K-2,K-3,K-4];l(me)},[]),se=C.useCallback(()=>{l([new Date().getFullYear()])},[]),de=()=>o.length===0?"Select Years":o.length===1?o[0].toString():o.length===5?"All Years":`${o.length} Years Selected`,Ee=()=>u.length===0?"All Stores":u.length===1?u[0]:u.length===$().length?"All Stores":`${u.length} Stores Selected`,he=C.useCallback(()=>{const K=U(),me=new Date,pe=me.getMonth(),Se=me.getFullYear(),ye={};D.forEach(Fe=>{const xt=K.filter(Bn=>{const Ea=nr(Bn.date);return Ea&&Ea.getFullYear()===Fe}),je=xt.reduce((Bn,Ea)=>Bn+(Ea.grossSales||0),0),Ue=xt.filter(Bn=>(Bn.grossSales||0)>0).length;let Ke,Qt,Si;if(Fe===Se){const Bn=Math.max(0,pe-1);Ke=Bn+1;const Ea=xt.filter(jl=>{const Qu=nr(jl.date);return Qu&&Qu.getMonth()<=Bn}),mS=Ea.reduce((jl,Qu)=>jl+(Qu.grossSales||0),0),pS=Ea.filter(jl=>(jl.grossSales||0)>0).length;Qt=Ke>0?Math.round(mS/Ke):0,Si=pS>0?Math.round(mS/pS):0}else Ke=12,Qt=Ke>0?Math.round(je/Ke):0,Si=Ue>0?Math.round(je/Ue):0;ye[Fe]={totalGross:Math.round(je),positiveSalesCount:Ue,monthlyAverage:Qt,averagePerSale:Si,monthsToCount:Ke}});const Te=D[0]||Se,qe=K.filter(Fe=>{const xt=nr(Fe.date);return xt&&xt.getMonth()===a&&xt.getFullYear()===Te}),Bt=qe,Ye=qe.reduce((Fe,xt)=>Fe+(xt.grossSales||0),0),Et=qe.filter(Fe=>(Fe.grossSales||0)>0).length;return{selectedYearsData:ye,confirmedMonthSalesCount:Bt.length,positiveMonthSalesCount:Et,monthTotalGross:Math.round(Ye),primaryYear:Te}},[U,D,a]),X=C.useMemo(()=>he(),[he]),oe=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],ne=()=>{var K;return((K=oe.find(me=>me.value===a))==null?void 0:K.label)||"Unknown"},T=C.useCallback(()=>{const K=["January","February","March","April","May","June","July","August","September","October","November","December"],me=[];return K.forEach((pe,Se)=>{const ye={month:pe,monthIndex:Se,years:{}};let Te=!1;D.forEach(qe=>{const Bt=U().filter(xt=>{const je=nr(xt.date);return je&&je.getMonth()===Se&&je.getFullYear()===qe}),Ye=Bt.reduce((xt,je)=>xt+(je.grossSales||0),0),Et=Bt.length,Fe=Bt.filter(xt=>(xt.grossSales||0)>0).length;ye.years[qe]={salesCount:Bt.length,confirmedSales:Et,positiveSales:Fe,totalGross:Ye,sales:Bt},Bt.length>0&&(Te=!0)}),Te&&me.push(ye)}),me},[U,D]),N=C.useMemo(()=>T(),[T]),R=K=>{i(K)},I=()=>{i(null)},Y=K=>{s(parseInt(K.target.value))},ee=(K,me)=>{switch(K){case"scheduler":window.location.href=`/scheduler?store=${me.id}`;break;case"staff":window.location.href=`/staff?store=${me.id}`;break;case"pay-calculator":window.location.href=`/pay-calculator?store=${me.id}`;break;case"bonuses":window.location.href=`/bonuses?store=${me.id}`;break;case"settings":window.location.href=`/venues?store=${me.id}`;break}},ae=K=>K.store==="Trailer"||K.store==="Camper"?K.store:K.venue||K.store||"N/A";return r?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading dashboard..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please wait while we load your data"})]})}):t.length===0&&!r?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your dashboard will show sales analytics once you have data in your system."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Try adding some sales entries or check your data connection."})]})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative",ref:x,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Filter by Store"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>h(!f),className:"block w-full sm:w-64 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:Ee()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(yc,{className:"h-4 w-4 text-secondary-400"})})]}),f&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-64 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:H,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:V,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:$().map(K=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:u.includes(K),onChange:()=>B(K),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:K})]},K))})]})]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative mr-4",ref:y,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Select Years"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>p(!m),className:"block w-full sm:w-48 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:de()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(yc,{className:"h-4 w-4 text-secondary-400"})})]}),m&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-48 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:re,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:se,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:Array.from({length:5},(K,me)=>new Date().getFullYear()-me).map(K=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:o.includes(K),onChange:()=>q(K),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:K})]},K))})]})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[18rem_1fr_22rem] gap-6 mb-8 items-stretch",children:[c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"18rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Yn,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Total Gross Sales"}),O?c.jsx("div",{className:"flex flex-col gap-1",children:o.map(K=>c.jsxs("div",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[K," - ",c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-20 ml-2 rounded"})]},K))}):c.jsx("div",{className:"flex flex-col gap-1",children:D.map(K=>{var me;return c.jsxs("span",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[K," - $",((me=X.selectedYearsData[K])==null?void 0:me.totalGross.toLocaleString())||"0"]},K)})})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"40rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Or,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 min-w-0",children:[c.jsxs("p",{className:"text-base font-bold text-primary-700 whitespace-nowrap",children:["Month Sales [",e==="TRAILER_HISTORY"?"Trailer":"Camper"," Only]"]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("select",{value:a,onChange:Y,className:"text-xs border border-secondary-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",style:{maxWidth:"8rem"},children:oe.map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))})})]}),O?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-32 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-40 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-48 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Confirmed: ",X.confirmedMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Completed Sales: ",X.positiveMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Total Gross Sales (",ne()," ",X.primaryYear,"): $",X.monthTotalGross.toLocaleString()]})]})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"22rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Lm,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Average"}),O?c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),o.map(K=>c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:K}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"})]},K))]}):c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),D.map(K=>{var me,pe,Se,ye,Te,qe;return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:K}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:["$",((me=X.selectedYearsData[K])==null?void 0:me.averagePerSale.toLocaleString())||"0"]}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap cursor-help relative group",onMouseEnter:()=>v(K),onMouseLeave:()=>v(null),children:["$",((pe=X.selectedYearsData[K])==null?void 0:pe.monthlyAverage.toLocaleString())||"0",g===K&&c.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[c.jsxs("div",{children:[((Se=X.selectedYearsData[K])==null?void 0:Se.monthsToCount)||0," month",(((ye=X.selectedYearsData[K])==null?void 0:ye.monthsToCount)||0)!==1?"s":""," used"]}),c.jsxs("div",{children:["Total: $",((Te=X.selectedYearsData[K])==null?void 0:Te.totalGross.toLocaleString())||"0"]}),c.jsxs("div",{children:["Monthly Average: $",((qe=X.selectedYearsData[K])==null?void 0:qe.monthlyAverage.toLocaleString())||"0"]}),c.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]},K)}),c.jsx("div",{className:"mt-2 text-xs text-secondary-600",children:X.primaryYear===new Date().getFullYear()?`Based on ${((ce=X.selectedYearsData[X.primaryYear])==null?void 0:ce.monthsToCount)||0} month${(((fe=X.selectedYearsData[X.primaryYear])==null?void 0:fe.monthsToCount)||0)!==1?"s":""} (Jan - ${((be=oe[Math.max(0,new Date().getMonth()-1)])==null?void 0:be.label)||"Previous Month"})`:"Based on 12 months"})]})]})]})})})]}),c.jsx("div",{className:"mb-8",children:O?c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})})})}):c.jsx(Lde,{salesData:U(),currentSheet:e,selectedYears:D})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Monthly Sales Statistics - Last 3 Years"})}),c.jsx("div",{className:"card-body",children:O?c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsxs("thead",{className:"table-header",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Month"}),D.map(K=>c.jsx("th",{className:"table-header-cell",colSpan:"3",children:K},K)),c.jsx("th",{className:"table-header-cell",children:"Actions"})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell"}),D.map(K=>c.jsxs(F.Fragment,{children:[c.jsx("th",{className:"table-header-cell text-xs",children:"Sales"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Confirmed"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Gross Sales"})]},K)),c.jsx("th",{className:"table-header-cell"})]})]}),c.jsx("tbody",{className:"table-body",children:N.map((K,me)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:K.month}),D.map(pe=>{var Se,ye,Te;return c.jsxs(F.Fragment,{children:[c.jsx("td",{className:"table-cell",children:((Se=K.years[pe])==null?void 0:Se.salesCount)||0}),c.jsx("td",{className:"table-cell",children:((ye=K.years[pe])==null?void 0:ye.confirmedSales)||0}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(((Te=K.years[pe])==null?void 0:Te.totalGross)||0)})]},pe)}),c.jsx("td",{className:"table-cell",children:c.jsx("button",{onClick:()=>R(K),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"View Details",children:c.jsx(yO,{className:"w-4 h-4"})})})]},me))})]})})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Store Management"}),c.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Hover over a store to see available actions"})]}),c.jsx("div",{className:"card-body",children:w?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(K=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},K))}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(K=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>E(K.id),onMouseLeave:()=>E(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:K.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",K.number]})]})]}),j===K.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>ee("scheduler",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ma,{className:"w-4 h-4 mr-2"}),"Scheduler"]}),c.jsxs("button",{onClick:()=>ee("staff",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Staff"]}),c.jsxs("button",{onClick:()=>ee("pay-calculator",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(bb,{className:"w-4 h-4 mr-2"}),"Pay Calculator"]}),c.jsxs("button",{onClick:()=>ee("bonuses",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(fU,{className:"w-4 h-4 mr-2"}),"Bonuses"]}),c.jsxs("button",{onClick:()=>ee("settings",K),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(zf,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})]},K.id))})})]})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[c.jsxs("h3",{className:"text-xl font-semibold text-secondary-900",children:[n.month," Sales Details - ",o.length," Year",o.length!==1?"s":""]}),c.jsx("button",{onClick:I,className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:c.jsx(Gc,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[c.jsx("div",{className:`grid gap-4 mb-6 ${o.length<=3?"grid-cols-3":"grid-cols-2"}`,children:o.map((K,me)=>{const pe=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900"],Se=pe[me%pe.length],ye=n.years[K];return c.jsxs("div",{className:`p-4 rounded-lg border ${Se}`,children:[c.jsx("h4",{className:"text-lg font-semibold mb-3",children:K}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Total Sales:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.salesCount)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Confirmed:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.confirmedSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Positive:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.positiveSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Gross Sales:"}),c.jsx("p",{className:"font-bold",children:Vr((ye==null?void 0:ye.totalGross)||0)})]})]})]},K)})}),c.jsx("div",{className:"space-y-6",children:o.map((K,me)=>{const pe=["text-blue-900","text-green-900","text-purple-900","text-orange-900","text-pink-900"],Se=pe[me%pe.length],ye=n.years[K];return c.jsxs("div",{children:[c.jsxs("h4",{className:`text-lg font-semibold ${Se} mb-3`,children:[K," Sales"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"})]})}),c.jsx("tbody",{className:"table-body",children:(ye==null?void 0:ye.sales.length)===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"6",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",n.month," ",K]})}):ye==null?void 0:ye.sales.map(Te=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:Xo(Te.date)}),c.jsx("td",{className:"table-cell",children:ae(Te)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(Te.grossSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(Te.netSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(Te.salesTax)}),c.jsx("td",{className:"table-cell font-medium",children:Te.count||1})]},Te.id))})]})})]},K)})})]})]})})]})},Ude=({onAddVenue:t,onEditVenue:e,onDeleteVenue:r})=>{const{venuesData:n,salesData:i}=Nt(),[a,s]=C.useState([]),[o,l]=C.useState(""),[u,d]=C.useState(""),[f,h]=C.useState(null),[m,p]=C.useState(!1),g=C.useMemo(()=>Ide(i,n),[i,n]),v=C.useMemo(()=>[...new Set(g.map(_=>_.addressCity).filter(Boolean))],[g]);C.useEffect(()=>{let _=g;o&&(_=_.filter(w=>w.promo.toLowerCase().includes(o.toLowerCase())||w.addressCity.toLowerCase().includes(o.toLowerCase())||w.contact.toLowerCase().includes(o.toLowerCase()))),u&&(_=_.filter(w=>w.addressCity===u)),s(_)},[g,o,u]);const x=async _=>{window.confirm("Are you sure you want to delete this venue?")&&await r(_)},y=_=>{h(_),p(!0)},b=()=>{l(""),d("")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(bU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search venues...",value:o,onChange:_=>l(_.target.value),className:"pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("select",{value:u,onChange:_=>d(_.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"All Cities"}),v.map(_=>c.jsx("option",{value:_,children:_},_))]}),(o||u)&&c.jsx("button",{onClick:b,className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Clear Filters"})]}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),c.jsxs("div",{className:"text-sm text-secondary-600",children:["Showing ",a.length," of ",g.length," venues"]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Venue Name"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell sticky right-0 bg-white z-10",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center text-secondary-500 py-8",children:o||u?"No venues match your search criteria":"No venues found"})}):a.map((_,w)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-secondary-900 flex items-center",children:[_.averageSales>0&&c.jsxs("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-primary-600 rounded-full mr-2",children:["#",w+1]}),_.promo]}),_.promoSend&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["Promo: ",_.promoSend]}),_.averageSales>0&&c.jsxs("div",{className:"text-xs text-primary-600 font-medium mt-1",children:[" Avg Sales: $",_.averageSales.toLocaleString()," (",_.salesCount," sales)"]})]})}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-4 h-4 mr-1 text-secondary-400"}),_.addressCity]})}),c.jsx("td",{className:"table-cell sticky right-0 bg-white z-10",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>y(_),className:"text-primary-600 hover:text-primary-900 font-semibold text-xs px-2 py-1 rounded border border-primary-200 bg-primary-50 hover:bg-primary-100 transition",title:"Show Details",children:"Show Details"}),c.jsx("button",{onClick:()=>e(_),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(ys,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>x(_.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ga,{className:"w-4 h-4"})})]})})]},_.id))})]})})})}),m&&f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Venue Details"}),c.jsx("button",{onClick:()=>p(!1),className:"text-secondary-400 hover:text-secondary-600",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Venue Name"}),c.jsx("p",{className:"text-secondary-900 font-medium",children:f.promo})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Promo to Send"}),c.jsx("p",{className:"text-secondary-900",children:f.promoSend||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Address/City"}),c.jsx("p",{className:"text-secondary-900",children:f.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Contact"}),c.jsx("p",{className:"text-secondary-900",children:f.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Phone"}),c.jsx("p",{className:"text-secondary-900",children:f.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Email"}),c.jsx("p",{className:"text-secondary-900",children:c.jsx("a",{href:`mailto:${f.email}`,className:"text-primary-600 hover:text-primary-900",children:f.email})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Times"}),c.jsx("p",{className:"text-secondary-900",children:f.times||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Show Info"}),c.jsx("p",{className:"text-secondary-900",children:f.showInfo||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Forecast Will"}),c.jsx("p",{className:"text-secondary-900",children:f.forecastWill||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Last 5 Sales"}),c.jsx("div",{className:"text-secondary-900",children:(()=>{const _=$de(i,f.promo);return _.length>0?c.jsx("div",{className:"space-y-1",children:_.map((w,S)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-secondary-600",children:w.date}),c.jsxs("span",{className:"font-medium",children:["$",w.amount.toLocaleString()]})]},S))}):c.jsx("span",{className:"text-secondary-500",children:"No sales data"})})()})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>p(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{p(!1),e(f)},className:"btn-primary",children:"Edit"})]})]})})]})},Bde=()=>{const{addVenueEntry:t,updateVenueEntry:e,deleteVenueEntry:r,loading:n}=Nt(),[i,a]=C.useState(!1),[s,o]=C.useState(null),[l,u]=C.useState(pg()),[d,f]=C.useState({}),h=()=>{o(null),u(pg()),f({}),a(!0)},m=y=>{o(y),u({promo:y.promo,promoSend:y.promoSend,addressCity:y.addressCity,contact:y.contact,phone:y.phone,email:y.email,times:y.times,showInfo:y.showInfo,forecastWill:y.forecastWill}),f({}),a(!0)},p=async y=>{const b=await r(y);b.success||alert(`Error deleting venue: ${b.error}`)},g=()=>{const y={};return l.promo||(y.promo="Venue name is required"),l.addressCity||(y.addressCity="Address/City is required"),l.contact||(y.contact="Contact is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(y.email="Please enter a valid email address"),f(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!g())return;const b={promo:l.promo,promo_send:l.promoSend,address_city:l.addressCity,contact:l.contact,phone:l.phone,email:l.email,times:l.times,show_info:l.showInfo,forecast_will:l.forecastWill};let _;s?_=await e(s.id,b):_=await t(b),_.success?(a(!1),o(null),u(pg())):alert(`Error ${s?"updating":"adding"} venue: ${_.error}`)},x=(y,b)=>{u(_=>({..._,[y]:b})),d[y]&&f(_=>({..._,[y]:""}))};return n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading venues..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Venues"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage venue information, contacts, and event details"})]}),c.jsx(Ude,{onAddVenue:h,onEditVenue:m,onDeleteVenue:p}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:s?"Edit Venue":"Add New Venue"}),c.jsx("button",{onClick:()=>a(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue Name *"}),c.jsx("input",{type:"text",value:l.promo,onChange:y=>x("promo",y.target.value),className:He("input",d.promo&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter venue name"}),d.promo&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.promo})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Promo to Send"}),c.jsx("input",{type:"text",value:l.promoSend,onChange:y=>x("promoSend",y.target.value),className:"input",placeholder:"Enter promo information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Address/City *"}),c.jsx("input",{type:"text",value:l.addressCity,onChange:y=>x("addressCity",y.target.value),className:He("input",d.addressCity&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter address and city"}),d.addressCity&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Contact *"}),c.jsx("input",{type:"text",value:l.contact,onChange:y=>x("contact",y.target.value),className:He("input",d.contact&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Contact person name"}),d.contact&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:l.phone,onChange:y=>x("phone",y.target.value),className:"input",placeholder:"Phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:l.email,onChange:y=>x("email",y.target.value),className:He("input",d.email&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Email address"}),d.email&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Times"}),c.jsx("input",{type:"text",value:l.times,onChange:y=>x("times",y.target.value),className:"input",placeholder:"e.g., 9 AM - 5 PM"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Show Info"}),c.jsx("textarea",{value:l.showInfo,onChange:y=>x("showInfo",y.target.value),className:"input",rows:"3",placeholder:"Additional show information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Forecast Will"}),c.jsx("input",{type:"text",value:l.forecastWill,onChange:y=>x("forecastWill",y.target.value),className:"input",placeholder:"Forecast information"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:s?"Update Venue":"Add Venue"})]})]})]})})]})})},Hde=({staffId:t,staffName:e,onSave:r})=>{const[n,i]=C.useState([]),[a,s]=C.useState(!0),[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(0),[m,p]=C.useState(!1);C.useEffect(()=>{if(!t){console.log(" No staffId provided");return}console.log(" Loading bonus tiers for staff:",t),(async()=>{try{const S=await ue.getStaffBonusTiers(t);if(console.log(" Load result:",S),S.success){const j=(S.data||[]).map(E=>({id:E.id,staff_id:E.staff_id,sales_target:E.sales_target,bonus_amount:E.bonus_amount,description:E.description||E.tier_name||`Bonus for $${E.sales_target.toLocaleString()}+ sales`,is_active:E.is_active}));console.log(" Converted tiers:",j),i(j)}else console.error(" Load failed:",S.error),d("Failed to load bonus tiers")}catch(S){console.error(" Exception during load:",S),d("Failed to load bonus tiers")}finally{s(!1)}})()},[t]),C.useEffect(()=>{p(n.some(w=>w.id.toString().startsWith("temp_")))},[n]);const g=C.useCallback(()=>{const w={id:`temp_${Date.now()}_${f}`,staff_id:t,sales_target:0,bonus_amount:0,description:"",is_active:!0};i(S=>[...S,w]),h(S=>S+1)},[t,f]),v=C.useCallback(w=>{i(S=>S.filter(j=>j.id!==w))},[]),x=C.useCallback((w,S,j)=>{i(E=>E.map(A=>A.id===w?{...A,[S]:j}:A))},[]),y=C.useCallback(async()=>{if(!m){console.log(" No changes to save");return}console.log(" Saving bonus tiers:",n),l(!0),d(null);try{const w=n.map(E=>({staff_id:E.staff_id,tier_name:E.description||`Bonus for $${E.sales_target.toLocaleString()}+ sales`,sales_target:E.sales_target,bonus_amount:E.bonus_amount,description:E.description,is_active:E.is_active}));console.log(" Converted tiers for database:",w);const S=[...w].sort((E,A)=>E.sales_target-A.sales_target);console.log(" Sorted tiers:",S);const j=await ue.saveStaffBonusTiers(t,S);if(console.log(" Save result:",j),j.success){console.log(" Save successful, reloading data...");const E=await ue.getStaffBonusTiers(t);if(console.log(" Reload result:",E),E.success){const A=(E.data||[]).map(k=>({id:k.id,staff_id:k.staff_id,sales_target:k.sales_target,bonus_amount:k.bonus_amount,description:k.description||k.tier_name||`Bonus for $${k.sales_target.toLocaleString()}+ sales`,is_active:k.is_active}));console.log(" Final converted tiers from database:",A),i(A)}p(!1),r&&await r(n)}else d("Failed to save bonus tiers"),console.error(" Save failed:",j.error)}catch(w){d("Failed to save bonus tiers"),console.error(" Exception during save:",w)}finally{l(!1)}},[n,t,m,r]),b=C.useCallback(w=>{if(!n||n.length===0)return 0;const S=[...n].filter(j=>j.is_active).sort((j,E)=>E.sales_target-j.sales_target);for(const j of S)if(w>=j.sales_target)return j.bonus_amount;return 0},[n]),_=C.useMemo(()=>[...n].sort((w,S)=>w.sales_target-S.sales_target),[n]);return a?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[c.jsx(Yn,{className:"w-5 h-5 mr-2 text-green-600"}),"Personal Bonus Structure - ",e]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set individual bonus tiers for this staff member"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[u&&c.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-1 rounded",children:u}),c.jsxs("button",{onClick:g,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[c.jsx(pa,{className:"w-4 h-4 mr-1"}),"Add Tier"]}),c.jsx("button",{onClick:y,disabled:o||!m,className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o||!m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(_b,{className:"w-4 h-4 mr-1"}),"Save Changes"]})})]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Target"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bonus Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[c.jsx(Yn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("p",{children:"No bonus tiers set for this staff member"}),c.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create the first bonus structure'})]})}):_.map((w,S)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(xO,{className:"w-4 h-4 text-blue-600 mr-2"}),c.jsx("input",{type:"number",value:w.sales_target,onChange:j=>x(w.id,"sales_target",parseFloat(j.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"}),c.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"+"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Yn,{className:"w-4 h-4 text-green-600 mr-1"}),c.jsx("input",{type:"number",value:w.bonus_amount,onChange:j=>x(w.id,"bonus_amount",parseFloat(j.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("input",{type:"text",value:w.description,onChange:j=>x(w.id,"description",j.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"e.g., High performer bonus"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("select",{value:w.is_active?"active":"inactive",onChange:j=>x(w.id,"is_active",j.target.value==="active"),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-900 p-1",title:"Remove tier",children:c.jsx(ga,{className:"w-4 h-4"})})})]},`${w.id}-${S}`))})]})})}),_.length>0&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(bb,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bonus Calculator"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Sales Amount"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Yn,{className:"w-4 h-4 text-gray-400 mr-2"}),c.jsx("input",{type:"number",id:"sales-calculator",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter sales amount",step:"0.01",min:"0",onChange:w=>{const S=parseFloat(w.target.value)||0,j=b(S);document.getElementById("bonus-result").textContent=`$${j.toFixed(2)}`}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calculated Bonus"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Yn,{className:"w-4 h-4 text-green-600 mr-2"}),c.jsx("span",{id:"bonus-result",className:"text-2xl font-bold text-green-600",children:"$0.00"})]})]})]})]})]})};function zde(){const[t,e]=C.useState([]),[r,n]=C.useState([]),[i,a]=C.useState(!1),[s,o]=C.useState(""),[l,u]=C.useState(""),{supabaseAPI:d}=Nt();C.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const[m,p]=await Promise.all([d.getUnlinkedUsers(),d.readTable("staff")]);m.success&&e(m.data),p.success&&n(p.data)}catch{o("Failed to load data")}finally{a(!1)}},h=async(m,p)=>{a(!0),o(""),u("");try{const g=await d.linkUserToStaff(m,p);g.success?(u("User successfully linked to staff member!"),await f()):o(g.error||"Failed to link user")}catch{o("An unexpected error occurred")}finally{a(!1)}};return i&&t.length===0?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):c.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Link Users to Staff Members"}),l&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:l})}),s&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:s})}),t.length===0?c.jsx("p",{className:"text-gray-500",children:"All users are already linked to staff members."}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Link unlinked users to existing staff members to give them access to the system."}),c.jsx("div",{className:"space-y-3",children:t.map(m=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:m.name||m.email}),c.jsx("p",{className:"text-sm text-gray-500",children:m.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Role: ",m.role]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",onChange:p=>{p.target.value&&h(m.id,parseInt(p.target.value))},defaultValue:"",children:[c.jsx("option",{value:"",children:"Select staff member..."}),r.map(p=>c.jsxs("option",{value:p.id,children:[p.name," (",p.email,")"]},p.id))]})})]})},m.id))})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:f,disabled:i,className:"text-sm text-indigo-600 hover:text-indigo-500 disabled:opacity-50",children:i?"Loading...":"Refresh"})})]})}const Wde=()=>{const{staffData:t,addStaffEntry:e,updateStaffEntry:r,deleteStaffEntry:n,loading:i,error:a,user:s}=Nt(),[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(gg()),[m,p]=C.useState([]),[g,v]=C.useState(!1),[x,y]=C.useState(null),[b,_]=C.useState(!1),w=()=>{d(null),h(gg()),l(!0)},S=O=>{d(O),h({name:O.name||"",email:O.email||"",phone:O.phone||"",role:O.role||"Worker",status:O.status||"Active",hireDate:O.hireDate||"",notes:O.notes||"",store_id:O.store_id||null,payType:O.payType||"hourly",hourlyRate:O.hourlyRate||0,salaryAmount:O.salaryAmount||0,preferredHoursPerWeek:O.preferredHoursPerWeek||0,maxHoursPerWeek:O.maxHoursPerWeek||0}),l(!0)},j=async O=>{if(window.confirm("Are you sure you want to delete this staff member?")){const z=await n(O);z.success||alert(`Error deleting staff: ${z.error}`)}},E=O=>{y(O),v(!0)},A=async O=>{if(O.preventDefault(),!f.name||!f.email){alert("Name and email are required");return}const z=u?await r(u.id,f):await e(f);z.success?(l(!1),h(gg())):alert(`Error ${u?"updating":"adding"} staff: ${z.error}`)};C.useEffect(()=>{(async()=>{try{const z=await ue.getStores();z.success&&p(z.data)}catch(z){console.error("Error fetching stores:",z)}})()},[]);const k=(O,z)=>{h(W=>({...W,[O]:z}))},D=O=>{switch(O){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"On Leave":return"text-yellow-600 bg-yellow-100";case"Terminated":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},P=O=>{switch(O){case"Manager":return"text-blue-600 bg-blue-100";case"Worker":return"text-green-600 bg-green-100";case"Driver":return"text-purple-600 bg-purple-100";case"Sales":return"text-orange-600 bg-orange-100";case"Support":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a?c.jsxs("div",{className:"alert alert-error",children:[c.jsx(SU,{className:"w-5 h-5"}),c.jsxs("span",{children:["Error loading staff data: ",a]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Staff Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage your staff members and their roles"})]}),c.jsxs("div",{className:"flex space-x-2",children:[(s==null?void 0:s.role)==="admin"&&c.jsxs("button",{onClick:()=>_(!0),className:"btn-outline",children:[c.jsx(mU,{className:"w-4 h-4 mr-2"}),"Link Users"]}),c.jsxs("button",{onClick:w,className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-primary"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Total Staff"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ey,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Active"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.status==="Active").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Workers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.role==="Worker").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Managers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.role==="Manager").length})]})]})})})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Contact"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Store"}),c.jsx("th",{children:"Hire Date"}),c.jsx("th",{children:"Pay Structure"}),c.jsx("th",{children:"Notes"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-secondary-500",children:c.jsx("p",{className:"text-gray-500 text-center",children:"No staff members found. Add your first staff member to get started."})})}):t.map(O=>{var z;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{children:c.jsx("div",{className:"font-medium text-secondary-900",children:O.name})})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[O.email&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(gU,{className:"w-3 h-3 mr-1"}),O.email]}),O.phone&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(yU,{className:"w-3 h-3 mr-1"}),O.phone]})]})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P(O.role)),children:O.role})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",D(O.status)),children:O.status})}),c.jsx("td",{children:O.store_id?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(xn,{className:"w-3 h-3 mr-1 text-blue-600"}),c.jsx("span",{children:((z=m.find(W=>W.id===O.store_id))==null?void 0:z.name)||"Unknown Store"})]}):c.jsx("span",{className:"text-secondary-400 text-sm",children:"Unassigned"})}),c.jsx("td",{children:O.hireDate?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Or,{className:"w-3 h-3 mr-1"}),Xo(O.hireDate)]}):c.jsx("span",{className:"text-secondary-400",children:"Not set"})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Yn,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"font-medium",children:O.payType==="hourly"?"Hourly":O.payType==="salary"?"Salary":O.payType==="salary+bonus"?"Salary+Bonus":O.payType})]}),O.payType==="hourly"&&O.hourlyRate>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",O.hourlyRate,"/hr"]}),(O.payType==="salary"||O.payType==="salary+bonus")&&O.salaryAmount>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",O.salaryAmount.toLocaleString(),"/year"]}),O.preferredHoursPerWeek>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:[O.preferredHoursPerWeek,"h preferred"]})]})}),c.jsx("td",{children:O.notes?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(jy,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"truncate max-w-32",title:O.notes,children:O.notes})]}):c.jsx("span",{className:"text-secondary-400",children:"No notes"})}),c.jsx("td",{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>S(O),className:"btn-icon btn-sm",title:"Edit",children:c.jsx(ys,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>E(O),className:"btn-icon btn-sm text-green-600 hover:text-green-700",title:"Manage Bonus Tiers",children:c.jsx(xO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(O.id),className:"btn-icon btn-sm text-red-600 hover:text-red-700",title:"Delete",children:c.jsx(ga,{className:"w-4 h-4"})})]})})]},O.id)})})]})})})}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:u?"Edit Staff Member":"Add Staff Member"}),c.jsx("button",{onClick:()=>l(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:f.name,onChange:O=>k("name",O.target.value),className:"input",placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:f.email,onChange:O=>k("email",O.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:f.phone,onChange:O=>k("phone",O.target.value),className:"input",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Role"}),c.jsx("select",{value:f.role,onChange:O=>k("role",O.target.value),className:"input",children:QF.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status"}),c.jsx("select",{value:f.status,onChange:O=>k("status",O.target.value),className:"input",children:XF.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hire Date"}),c.jsx("input",{type:"date",value:f.hireDate,onChange:O=>k("hireDate",O.target.value),className:"input"})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Pay Structure"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Pay Type"}),c.jsx("select",{value:f.payType,onChange:O=>k("payType",O.target.value),className:"input",children:ZF.map(O=>c.jsx("option",{value:O,children:O==="hourly"?"Hourly":O==="salary"?"Salary":O==="salary+bonus"?"Salary + Bonus":O},O))})]}),f.payType==="hourly"&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hourly Rate ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.hourlyRate,onChange:O=>k("hourlyRate",parseFloat(O.target.value)||0),className:"input",placeholder:"0.00"})]}),(f.payType==="salary"||f.payType==="salary+bonus")&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Salary Amount ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.salaryAmount,onChange:O=>k("salaryAmount",parseFloat(O.target.value)||0),className:"input",placeholder:"0.00"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Preferred Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.preferredHoursPerWeek,onChange:O=>k("preferredHoursPerWeek",parseFloat(O.target.value)||0),className:"input",placeholder:"40"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Max Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.maxHoursPerWeek,onChange:O=>k("maxHoursPerWeek",parseFloat(O.target.value)||0),className:"input",placeholder:"40"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Assigned Store"}),c.jsxs("select",{value:f.store_id||"",onChange:O=>k("store_id",O.target.value?parseInt(O.target.value):null),className:"input",children:[c.jsx("option",{value:"",children:"No Store Assigned"}),m.map(O=>c.jsxs("option",{value:O.id,children:[O.name," (#",O.number,")"]},O.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Notes"}),c.jsx("textarea",{value:f.notes,onChange:O=>k("notes",O.target.value),className:"input",rows:"3",placeholder:"Additional notes about this staff member"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-outline",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",children:[u?"Update":"Add"," Staff Member"]})]})]})]})}),g&&x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Bonus Tiers Management - ",x.name]}),c.jsx("button",{onClick:()=>v(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsx(Hde,{staffId:x.id,staffName:x.name,onSave:()=>{v(!1)}})]})}),b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Link Users to Staff Members"}),c.jsx("button",{onClick:()=>_(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsx(zde,{})]})})]})},cT=({task:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=h=>{switch(h){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=h=>h?Pw(new Date(h),{addSuffix:!0}):"No due date",l=h=>{if(!h)return[];let m=[];return Array.isArray(h)?m=h:m=[h],m.map(p=>{const g=e.find(v=>v.id===p);return g?g.name:"Unknown User"})},u=h=>{switch(h){case"urgent":return c.jsx(Tn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Tn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Tn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Tn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Tn,{className:"w-3 h-3 text-gray-600"})}},d=l(t.assigned_to),f=d.length===0;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-1",children:f?c.jsxs(c.Fragment,{children:[c.jsx(as,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):d.length===1?c.jsxs(c.Fragment,{children:[c.jsx(as,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:d[0]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Dn,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 truncate",children:[d.length," assignees"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:t.title})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(t.priority)),children:t.priority}),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(t.status)),children:t.status.replace("_"," ")})]})]}),t.description&&c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),d.length>1&&c.jsx("div",{className:"mb-3",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((h,m)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h},m))})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[u(t.priority),c.jsx("span",{className:"capitalize",children:t.priority})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ma,{className:"w-4 h-4"}),c.jsx("span",{children:o(t.due_date)})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>r(t),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(ys,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ga,{className:"w-4 h-4"})})]})]})]})},uT=({tasks:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=d=>{switch(d){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=d=>{switch(d){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>d?Pw(new Date(d),{addSuffix:!0}):"No due date",l=d=>{if(!d)return[];let f=[];return Array.isArray(d)?f=d:f=[d],f.map(h=>{const m=e.find(p=>p.id===h);return m?m.name:"Unknown User"})},u=d=>{switch(d){case"urgent":return c.jsx(Tn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Tn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Tn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Tn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Tn,{className:"w-3 h-3 text-gray-600"})}};return t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})]}):c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignee(s)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>{const f=l(d.assigned_to),h=f.length===0;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(as,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):f.length===1?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(as,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:f[0]})]}):c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dn,{className:"w-4 h-4 text-gray-500"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.length," assignees"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:f.map((m,p)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:m},p))})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:d.title}),d.description&&c.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:d.description})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[u(d.priority),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(d.priority)),children:d.priority})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(d.status)),children:d.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[c.jsx(ma,{className:"w-4 h-4"}),c.jsx("span",{children:o(d.due_date)})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[c.jsx("button",{onClick:()=>r(d),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(ys,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ga,{className:"w-4 h-4"})})]})})]},d.id)})})]})})})},Vde=({task:t=null,users:e=[],onSubmit:r,onCancel:n})=>{const[i,a]=C.useState({title:"",description:"",assigned_to:[],priority:"normal",status:"pending",due_date:"",category:"general"}),[s,o]=C.useState([]);C.useEffect(()=>{if(t){let m=[];t.assigned_to&&(Array.isArray(t.assigned_to)?m=t.assigned_to:m=[t.assigned_to]),a({title:t.title||"",description:t.description||"",assigned_to:m,priority:t.priority||"normal",status:t.status||"pending",due_date:t.due_date?t.due_date.split("T")[0]:"",category:t.category||"general"}),o(m)}},[t]);const l=m=>{m.preventDefault(),r(i)},u=m=>{const{name:p,value:g}=m.target;a(v=>({...v,[p]:g}))},d=m=>{const p=parseInt(m.target.value);if(p&&!s.includes(p)){const g=[...s,p];o(g),a(v=>({...v,assigned_to:g}))}},f=m=>{const p=s.filter(g=>g!==m);o(p),a(g=>({...g,assigned_to:p}))},h=()=>s.map(m=>{const p=e.find(g=>g.id===m);return p?p.name:"Unknown User"});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Task":"Create New Task"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Gc,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",name:"title",value:i.title,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:i.description,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),s.length>0&&c.jsx("div",{className:"mb-2",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:h().map((m,p)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[c.jsx("span",{children:m}),c.jsx("button",{type:"button",onClick:()=>f(s[p]),className:"text-blue-600 hover:text-blue-800",children:c.jsx(Gc,{className:"w-3 h-3"})})]},s[p]))})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:"",onChange:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Add assignee..."}),e.filter(m=>!s.includes(m.id)).map(m=>c.jsx("option",{value:m.id,children:m.name},m.id))]}),c.jsx("div",{className:"text-gray-400",children:c.jsx(Dn,{className:"w-5 h-5"})})]}),s.length===0&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for unassigned task"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),c.jsxs("select",{name:"priority",value:i.priority,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:i.status,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"date",name:"due_date",value:i.due_date,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{name:"category",value:i.category,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"sales",children:"Sales"}),c.jsx("option",{value:"venue",children:"Venue"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:t?"Update Task":"Create Task"})]})]})]})})},Gde=()=>{const{loading:t,tasksData:e,staffData:r,currentUser:n,user:i,loadTasks:a,addTask:s,updateTask:o,deleteTask:l,setCurrentUser:u}=Nt(),[d,f]=C.useState(!1),[h,m]=C.useState(null),[p,g]=C.useState("all"),[v,x]=C.useState("all"),[y,b]=C.useState("list");C.useEffect(()=>{i!=null&&i.staffMember&&!n?u(i.staffMember):r.length>0&&!n&&!(i!=null&&i.staffMember)&&u(r[0]),a()},[r,n,u,a,i]),C.useEffect(()=>{i!=null&&i.staffMember&&!n&&u(i.staffMember)},[i,n,u]);const _=async O=>{if(!n)return;const z={...O,assigned_by:n.id,assigned_to:O.assigned_to.length===0?null:O.assigned_to};(await s(z)).success&&f(!1)},w=async O=>{const z={...O,assigned_to:O.assigned_to.length===0?null:O.assigned_to};(await o(h.id,z)).success&&(f(!1),m(null))},S=async O=>{window.confirm("Are you sure you want to delete this task?")&&await l(O)},j=O=>{m(O),f(!0)},E=O=>{},k=(()=>{let O=e;return yd(n)||(O=e.filter(z=>!z.assigned_to||Array.isArray(z.assigned_to)&&z.assigned_to.length===0?!0:Array.isArray(z.assigned_to)?z.assigned_to.includes(n==null?void 0:n.id):z.assigned_to===(n==null?void 0:n.id))),O.filter(z=>{const W=p==="all"||z.status===p,G=v==="all"||z.priority===v;return W&&G})})(),D=k.filter(O=>O.assigned_to?Array.isArray(O.assigned_to)?O.assigned_to.length===0:!1:!0),P=k.filter(O=>O.assigned_to?Array.isArray(O.assigned_to)?O.assigned_to.length>0:!0:!1);return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading tasks..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Task Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Create, assign, and track tasks for your staff"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),c.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-secondary-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(dU,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),c.jsxs("select",{value:p,onChange:O=>g(O.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:v,onChange:O=>x(O.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Priorities"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>b("card"),className:`p-2 rounded-md transition-colors ${y==="card"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Card view",children:c.jsx(hU,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-md transition-colors ${y==="list"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"List view",children:c.jsx(pU,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Sy,{className:"w-5 h-5 text-orange-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unassigned Tasks"}),c.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:D.length})]})}),c.jsx("div",{className:"p-6",children:D.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No unassigned tasks"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(O=>c.jsx(cT,{task:O,staffData:r,onEdit:j,onDelete:S,onViewComments:E},O.id))}):c.jsx(uT,{tasks:D,staffData:r,onEdit:j,onDelete:S,onViewComments:E})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(as,{className:"w-5 h-5 text-blue-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:yd(n)?"All Assigned Tasks":"My Tasks"}),c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:P.length})]})}),c.jsx("div",{className:"p-6",children:P.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:yd(n)?"No assigned tasks found":"No tasks assigned to you"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(O=>c.jsx(cT,{task:O,staffData:r,onEdit:j,onDelete:S,onViewComments:E},O.id))}):c.jsx(uT,{tasks:P,staffData:r,onEdit:j,onDelete:S,onViewComments:E})})]}),k.length===0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500",children:yd(n)?"No tasks found. Create your first task!":"No tasks assigned to you. Contact your manager for new assignments."})]})]}),d&&c.jsx(Vde,{task:h,users:r,onSubmit:h?w:_,onCancel:()=>{f(!1),m(null)}})]})})};var Ap,xe,pM,gM,Zo,La,dT,vM,yM,Kh={},xM=[],qde=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Bi(t,e){for(var r in e)t[r]=e[r];return t}function bM(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,r){var n,i,a,s={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?Ap.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return sf(t,s,n,i,null)}function sf(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++pM};return i==null&&xe.vnode!=null&&xe.vnode(a),a}function ur(){return{current:null}}function at(t){return t.children}function Yde(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||Qh(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Qh(t,a,e[a],r[a],n)}function fT(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||qde.test(e)?r:r+"px"}function Qh(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||fT(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||fT(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?mT:hT,a):t.removeEventListener(e,a?mT:hT,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function hT(t){Zo=!0;try{return this.l[t.type+!1](xe.event?xe.event(t):t)}finally{Zo=!1}}function mT(t){Zo=!0;try{return this.l[t.type+!0](xe.event?xe.event(t):t)}finally{Zo=!1}}function Pr(t,e){this.props=t,this.context=e}function Nu(t,e){if(e==null)return t.__?Nu(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Nu(t):null}function wM(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return wM(t)}}function Kde(t){Zo?setTimeout(t):vM(t)}function rx(t){(!t.__d&&(t.__d=!0)&&La.push(t)&&!Xh.__r++||dT!==xe.debounceRendering)&&((dT=xe.debounceRendering)||Kde)(Xh)}function Xh(){var t,e,r,n,i,a,s,o;for(La.sort(function(l,u){return l.__v.__b-u.__v.__b});t=La.shift();)t.__d&&(e=La.length,n=void 0,i=void 0,s=(a=(r=t).__v).__e,(o=r.__P)&&(n=[],(i=Bi({},a)).__v=a.__v+1,Mw(o,a,i,r.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,n,s??Nu(a),a.__h),AM(n,a),a.__e!=s&&wM(a)),La.length>e&&La.sort(function(l,u){return l.__v.__b-u.__v.__b}));Xh.__r=0}function SM(t,e,r,n,i,a,s,o,l,u){var d,f,h,m,p,g,v,x=n&&n.__k||xM,y=x.length;for(r.__k=[],d=0;d<e.length;d++)if((m=r.__k[d]=(m=e[d])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?sf(null,m,null,null,m):Array.isArray(m)?sf(at,{children:m},null,null,null):m.__b>0?sf(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=r,m.__b=r.__b+1,(h=x[d])===null||h&&m.key==h.key&&m.type===h.type)x[d]=void 0;else for(f=0;f<y;f++){if((h=x[f])&&m.key==h.key&&m.type===h.type){x[f]=void 0;break}h=null}Mw(t,m,h=h||Kh,i,a,s,o,l,u),p=m.__e,(f=m.ref)&&h.ref!=f&&(v||(v=[]),h.ref&&v.push(h.ref,null,m),v.push(f,m.__c||p,m)),p!=null?(g==null&&(g=p),typeof m.type=="function"&&m.__k===h.__k?m.__d=l=_M(m,l,t):l=EM(t,m,h,x,p,l),typeof r.type=="function"&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Nu(h))}for(r.__e=g,d=y;d--;)x[d]!=null&&(typeof r.type=="function"&&x[d].__e!=null&&x[d].__e==r.__d&&(r.__d=jM(n).nextSibling),NM(x[d],x[d]));if(v)for(d=0;d<v.length;d++)TM(v[d],v[++d],v[++d])}function _M(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?_M(n,e,r):EM(r,n,n,i,n.__e,e));return e}function Zh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Zh(r,e)}):e.push(t)),e}function EM(t,e,r,n,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function jM(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=jM(r)))return n}return null}function Mw(t,e,r,n,i,a,s,o,l){var u,d,f,h,m,p,g,v,x,y,b,_,w,S,j,E=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,o=e.__e=r.__e,e.__h=null,a=[o]),(u=xe.__b)&&u(e);try{e:if(typeof E=="function"){if(v=e.props,x=(u=E.contextType)&&n[u.__c],y=u?x?x.props.value:u.__:n,r.__c?g=(d=e.__c=r.__c).__=d.__E:("prototype"in E&&E.prototype.render?e.__c=d=new E(v,y):(e.__c=d=new Pr(v,y),d.constructor=E,d.render=Xde),x&&x.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),E.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Bi({},d.__s)),Bi(d.__s,E.getDerivedStateFromProps(v,d.__s))),h=d.props,m=d.state,d.__v=e,f)E.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(E.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,y),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(A){A&&(A.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,y),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,m,p)})}if(d.context=y,d.props=v,d.__P=t,_=xe.__r,w=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(n=Bi(Bi({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(p=d.getSnapshotBeforeUpdate(h,m)),j=u!=null&&u.type===at&&u.key==null?u.props.children:u,SM(t,Array.isArray(j)?j:[j],e,r,n,i,a,s,o,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Qde(r.__e,e,r,n,i,a,s,l);(u=xe.diffed)&&u(e)}catch(A){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),xe.__e(A,e,r)}}function AM(t,e){xe.__c&&xe.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){xe.__e(n,r.__v)}})}function Qde(t,e,r,n,i,a,s,o){var l,u,d,f=r.props,h=e.props,m=e.type,p=0;if(m==="svg"&&(i=!0),a!=null){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!m&&(m?l.localName===m:l.nodeType===3)){t=l,a[p]=null;break}}if(t==null){if(m===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),a=null,o=!1}if(m===null)f===h||o&&t.data===h||(t.data=h);else{if(a=a&&Ap.call(t.childNodes),u=(f=r.props||Kh).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(a!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(Yde(t,h,f,i,o),d)e.__k=[];else if(p=e.props.children,SM(t,Array.isArray(p)?p:[p],e,r,n,i&&m!=="foreignObject",a,s,a?a[0]:r.__k&&Nu(r,0),o),a!=null)for(p=a.length;p--;)a[p]!=null&&bM(a[p]);o||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||m==="progress"&&!p||m==="option"&&p!==f.value)&&Qh(t,"value",p,f.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&Qh(t,"checked",p,f.checked,!1))}return t}function TM(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){xe.__e(n,r)}}function NM(t,e,r){var n,i;if(xe.unmount&&xe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||TM(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){xe.__e(a,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&NM(n[i],e,r||typeof t.type!="function");r||t.__e==null||bM(t.__e),t.__=t.__e=t.__d=void 0}function Xde(t,e,r){return this.constructor(t,r)}function Cu(t,e,r){var n,i,a;xe.__&&xe.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],Mw(e,t=(!n&&r||e).__k=L(at,null,[t]),i||Kh,Kh,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Ap.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),AM(a,t)}function Zde(t,e){var r={__c:e="__cC"+yM++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,rx(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Ap=xM.slice,xe={__e:function(t,e,r,n){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},pM=0,gM=function(t){return t!=null&&t.constructor===void 0},Zo=!1,Pr.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Bi({},this.state),typeof t=="function"&&(t=t(Bi({},r),this.props)),t&&Bi(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),rx(this))},Pr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),rx(this))},Pr.prototype.render=at,La=[],vM=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xh.__r=0,yM=0;var jn,Qg,pT,CM=[],Xg=[],gT=xe.__b,vT=xe.__r,yT=xe.diffed,xT=xe.__c,bT=xe.unmount;function Jde(){for(var t;t=CM.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(of),t.__H.__h.forEach(nx),t.__H.__h=[]}catch(e){t.__H.__h=[],xe.__e(e,t.__v)}}xe.__b=function(t){jn=null,gT&&gT(t)},xe.__r=function(t){vT&&vT(t);var e=(jn=t.__c).__H;e&&(Qg===jn?(e.__h=[],jn.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Xg,r.__N=r.i=void 0})):(e.__h.forEach(of),e.__h.forEach(nx),e.__h=[])),Qg=jn},xe.diffed=function(t){yT&&yT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(CM.push(e)!==1&&pT===xe.requestAnimationFrame||((pT=xe.requestAnimationFrame)||efe)(Jde)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Xg&&(r.__=r.__V),r.i=void 0,r.__V=Xg})),Qg=jn=null},xe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(of),r.__h=r.__h.filter(function(n){return!n.__||nx(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],xe.__e(n,r.__v)}}),xT&&xT(t,e)},xe.unmount=function(t){bT&&bT(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{of(n)}catch(i){e=i}}),r.__H=void 0,e&&xe.__e(e,r.__v))};var wT=typeof requestAnimationFrame=="function";function efe(t){var e,r=function(){clearTimeout(n),wT&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);wT&&(e=requestAnimationFrame(r))}function of(t){var e=jn,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),jn=e}function nx(t){var e=jn;t.__c=t.__(),jn=e}function tfe(t,e){for(var r in e)t[r]=e[r];return t}function ST(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function _T(t){this.props=t}(_T.prototype=new Pr).isPureReactComponent=!0,_T.prototype.shouldComponentUpdate=function(t,e){return ST(this.props,t)||ST(this.state,e)};var ET=xe.__b;xe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ET&&ET(t)};var rfe=xe.__e;xe.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}rfe(t,e,r,n)};var jT=xe.unmount;function kM(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=tfe({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return kM(n,e,r)})),t}function OM(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return OM(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function Zg(){this.__u=0,this.t=null,this.__b=null}function DM(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Md(){this.u=null,this.o=null}xe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),jT&&jT(t)},(Zg.prototype=new Pr).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=DM(n.__v),a=!1,s=function(){a||(a=!0,r.__R=null,i?i(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=OM(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},Zg.prototype.componentWillUnmount=function(){this.t=[]},Zg.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=kM(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&L(at,null,t.fallback);return i&&(i.__h=null),[L(at,null,e.__a?null:t.children),i]};var AT=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function nfe(t){return this.getChildContext=function(){return t.context},t.children}function ife(t){var e=this,r=t.i;e.componentWillUnmount=function(){Cu(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Cu(L(nfe,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function afe(t,e){var r=L(ife,{__v:t,i:e});return r.containerInfo=e,r}(Md.prototype=new Pr).__a=function(t){var e=this,r=DM(e.__v),n=e.o.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),AT(e,t,n)):i()};r?r(a):a()}},Md.prototype.render=function(t){this.u=null,this.o=new Map;var e=Zh(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Md.prototype.componentDidUpdate=Md.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){AT(t,r,e)})};var sfe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ofe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,lfe=typeof document<"u",cfe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Pr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Pr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var TT=xe.event;function ufe(){}function dfe(){return this.cancelBubble}function ffe(){return this.defaultPrevented}xe.event=function(t){return TT&&(t=TT(t)),t.persist=ufe,t.isPropagationStopped=dfe,t.isDefaultPrevented=ffe,t.nativeEvent=t};var NT={configurable:!0,get:function(){return this.class}},CT=xe.vnode;xe.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in n={},r){var s=r[a];lfe&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in r&&s==null||(a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!cfe(r.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&ofe.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Zh(r.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Zh(r.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),t.props=n,r.class!=r.className&&(NT.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",NT))}t.$$typeof=sfe,CT&&CT(t)};var kT=xe.__r;xe.__r=function(t){kT&&kT(t),t.__c};const PM=[],ix=new Map;function Rw(t){PM.push(t),ix.forEach(e=>{RM(e,t)})}function hfe(t){t.isConnected&&t.getRootNode&&MM(t.getRootNode())}function MM(t){let e=ix.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=pfe();r&&(e.nonce=r);const n=t===document?document.head:t,i=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,i)}ix.set(t,e),mfe(e)}}function mfe(t){for(const e of PM)RM(t,e)}function RM(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&r.insertRule(i+"}",n+a)})}let Jg;function pfe(){return Jg===void 0&&(Jg=gfe()),Jg}function gfe(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&MM(document);var vfe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Rw(vfe);class Iw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function $w(t){t.parentNode&&t.parentNode.removeChild(t)}function ir(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(yfe(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function yfe(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function xfe(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let i=0;i<r.length;i+=1){let a=r[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)n.push(a[s])}return n}const bfe=/(top|left|right|bottom|width|height)$/i;function Ec(t,e){for(let r in e)IM(t,r,e[r])}function IM(t,e,r){r==null?t.style[e]="":typeof r=="number"&&bfe.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function $M(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let OT=0;function Tp(){return OT+=1,"fc-dom-"+OT}function Np(t){t.preventDefault()}function wfe(t,e){return r=>{let n=ir(r.target,t);n&&e.call(n,r,n)}}function LM(t,e,r,n){let i=wfe(r,n);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function Sfe(t,e,r,n){let i;return LM(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,r(a,s);let o=l=>{i=null,n(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const DT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function _fe(t,e){let r=n=>{e(n),DT.forEach(i=>{t.removeEventListener(i,r)})};DT.forEach(n=>{t.addEventListener(n,r)})}function FM(t){return Object.assign({onClick:t},UM(t))}function UM(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let PT=0;function js(){return PT+=1,String(PT)}function Lw(){document.body.classList.add("fc-not-allowed")}function Fw(){document.body.classList.remove("fc-not-allowed")}function Efe(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Np)}function jfe(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Np)}function Afe(t){t.addEventListener("contextmenu",Np)}function Tfe(t){t.removeEventListener("contextmenu",Np)}function Nfe(t){let e=[],r=[],n,i;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)i=r[n],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Cfe(t,e,r){let n,i;for(n=0;n<r.length;n+=1)if(i=kfe(t,e,r[n]),i)return i;return 0}function kfe(t,e,r){return r.func?r.func(t,e):Ofe(t[r.field],e[r.field])*(r.order||1)}function Ofe(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function po(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function jc(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,i,a)=>n.replace("$"+a,i||""),t):r}function Dfe(t,e){return t-e}function lf(t){return t%1===0}function Pfe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const MT=["years","months","days","milliseconds"],Mfe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Re(t,e){return typeof t=="string"?Rfe(t):typeof t=="object"&&t?RT(t):typeof t=="number"?RT({[e||"milliseconds"]:t}):null}function Rfe(t){let e=Mfe.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function RT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function Ife(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function ax(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function $fe(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function Lfe(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function Ffe(t){return go(t)/365}function Ufe(t){return go(t)/30}function go(t){return pn(t)/864e5}function pn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Uw(t,e){let r=null;for(let n=0;n<MT.length;n+=1){let i=MT[n];if(e[i]){let a=t[i]/e[i];if(!lf(a)||r!==null&&r!==a)return null;r=a}else if(t[i])return null}return r}function sx(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function oa(t,e,r){if(t===e)return!0;let n=t.length,i;if(n!==e.length)return!1;for(i=0;i<n;i+=1)if(!(r?r(t[i],e[i]):t[i]===e[i]))return!1;return!0}const Bfe=["sun","mon","tue","wed","thu","fri","sat"];function IT(t,e){let r=Hi(t);return r[2]+=e*7,br(r)}function ar(t,e){let r=Hi(t);return r[2]+=e,br(r)}function la(t,e){let r=Hi(t);return r[6]+=e,br(r)}function Hfe(t,e){return As(t,e)/7}function As(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function zfe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function Wfe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Vfe(t,e){return(e.valueOf()-t.valueOf())/1e3}function Gfe(t,e){let r=st(t),n=st(e);return{years:0,months:0,days:Math.round(As(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function qfe(t,e){let r=Jh(t,e);return r!==null&&r%7===0?r/7:null}function Jh(t,e){return zi(t)===zi(e)?Math.round(As(t,e)):null}function st(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Yfe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Kfe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Qfe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Xfe(t,e,r){let n=t.getUTCFullYear(),i=ev(t,n,e,r);if(i<1)return ev(t,n-1,e,r);let a=ev(t,n+1,e,r);return a>=1?Math.min(i,a):i}function ev(t,e,r,n){let i=br([e,0,1+Zfe(e,r,n)]),a=st(t),s=Math.round(As(i,a));return Math.floor(s/7)+1}function Zfe(t,e,r){let n=7+e-r;return-((7+br([t,0,n]).getUTCDay()-e)%7)+n-1}function $T(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function LT(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Hi(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function br(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function BM(t){return!isNaN(t.valueOf())}function zi(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function HM(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",Hw(e,!0)))),n}function Bw(t){return t.toISOString().replace(/T.*$/,"")}function Jfe(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function ehe(t){return po(t.getUTCHours(),2)+":"+po(t.getUTCMinutes(),2)+":"+po(t.getUTCSeconds(),2)}function Hw(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=Math.round(n%60);return e?`${r+po(i,2)}:${po(a,2)}`:`GMT${r}${i}${a?`:${po(a,2)}`:""}`}function we(t,e,r){let n,i;return function(...a){if(!n)i=t.apply(this,a);else if(!oa(n,a)){r&&r(i);let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}function cf(t,e,r){let n,i;return a=>{if(!n)i=t.call(this,a);else if(!bn(n,a)){r&&r(i);let s=t.call(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}const tv={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},em={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Rd=/\s*([ap])\.?m\.?/i,the=/,/g,rhe=/\s+/g,nhe=/\u200e/g,ihe=/UTC|GMT/;class ahe{constructor(e){let r={},n={},i=9;for(let a in e)a in tv?(n[a]=e[a],tv[a]<9&&(i=Math.min(tv[a],i))):(r[a]=e[a],a in em&&(i=Math.min(em[a],i)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=i,this.buildFormattingFunc=we(FT)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,i){let{standardDateProps:a,extendedSettings:s}=this,o=dhe(e.marker,r.marker,n.calendarSystem);if(!o)return this.format(e,n);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=fhe(a,l),h=FT(f,s,n),m=h(e),p=h(r),g=hhe(u,m,d,p),v=s.separator||i||n.defaultSeparator||"";return g?g.before+m+v+p+g.after:u+v+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function FT(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?i=>Hw(i.timeZoneOffset):n===0&&e.week?i=>uhe(r.computeWeekNumber(i.marker),r.weekText,r.weekTextLong,r.locale,e.week):she(t,e,r)}function she(t,e,r){t=Object.assign({},t),e=Object.assign({},e),ohe(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(r.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=n;let l=o.format(s);return lhe(l,a,t,e,r)}}function ohe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function lhe(t,e,r,n,i){return t=t.replace(nhe,""),r.timeZoneName==="short"&&(t=che(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Hw(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(the,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(Rd,"").trim():n.meridiem==="narrow"?t=t.replace(Rd,(a,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(Rd,(a,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(Rd,a=>a.toLocaleLowerCase())),t=t.replace(rhe," "),t=t.trim(),t}function che(t,e){let r=!1;return t=t.replace(ihe,()=>(r=!0,e)),r||(t+=` ${e}`),t}function uhe(t,e,r,n,i){let a=[];return i==="long"?a.push(r):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function dhe(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:zi(t)!==zi(e)?1:0}function fhe(t,e){let r={};for(let n in t)(!(n in em)||em[n]<=e)&&(r[n]=t[n]);return r}function hhe(t,e,r,n){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<r.length;){let u=r.indexOf(n,l);if(u===-1)break;let d=r.substr(0,u);l=u+n.length;let f=r.substr(l);if(s===d&&o===f)return{before:s,after:o}}}return null}function UT(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function tm(t,e,r,n){let i=UT(t,r.calendarSystem),a=e?UT(e,r.calendarSystem):null;return{date:i,start:i,end:a,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class mhe{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,tm(e,null,r,n))}formatRange(e,r,n,i){return n.cmdFormatter(this.cmdStr,tm(e,r,n,i))}}class phe{constructor(e){this.func=e}format(e,r,n){return this.func(tm(e,null,r,n))}formatRange(e,r,n,i){return this.func(tm(e,r,n,i))}}function gt(t){return typeof t=="object"&&t?new ahe(t):typeof t=="string"?new mhe(t):typeof t=="function"?new phe(t):null}const BT={navLinkDayClick:Q,navLinkWeekClick:Q,duration:Re,bootstrapFontAwesome:Q,buttonIcons:Q,customButtons:Q,defaultAllDayEventDuration:Re,defaultTimedEventDuration:Re,nextDayThreshold:Re,scrollTime:Re,scrollTimeReset:Boolean,slotMinTime:Re,slotMaxTime:Re,dayPopoverFormat:gt,slotDuration:Re,snapDuration:Re,headerToolbar:Q,footerToolbar:Q,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:gt,dayHeaderClassNames:Q,dayHeaderContent:Q,dayHeaderDidMount:Q,dayHeaderWillUnmount:Q,dayCellClassNames:Q,dayCellContent:Q,dayCellDidMount:Q,dayCellWillUnmount:Q,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Q,weekNumbers:Boolean,weekNumberClassNames:Q,weekNumberContent:Q,weekNumberDidMount:Q,weekNumberWillUnmount:Q,editable:Boolean,viewClassNames:Q,viewDidMount:Q,viewWillUnmount:Q,nowIndicator:Boolean,nowIndicatorClassNames:Q,nowIndicatorContent:Q,nowIndicatorDidMount:Q,nowIndicatorWillUnmount:Q,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Q,locale:Q,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Q,eventOrder:Nfe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Q,contentHeight:Q,direction:String,weekNumberFormat:gt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Q,initialDate:Q,now:Q,eventDataTransform:Q,stickyHeaderDates:Q,stickyFooterScrollbar:Q,viewHeight:Q,defaultAllDay:Boolean,eventSourceFailure:Q,eventSourceSuccess:Q,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Q,eventConstraint:Q,eventAllow:Q,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Q,eventContent:Q,eventDidMount:Q,eventWillUnmount:Q,selectConstraint:Q,selectOverlap:Q,selectAllow:Q,droppable:Boolean,unselectCancel:String,slotLabelFormat:Q,slotLaneClassNames:Q,slotLaneContent:Q,slotLaneDidMount:Q,slotLaneWillUnmount:Q,slotLabelClassNames:Q,slotLabelContent:Q,slotLabelDidMount:Q,slotLabelWillUnmount:Q,dayMaxEvents:Q,dayMaxEventRows:Q,dayMinWidth:Number,slotLabelInterval:Re,allDayText:String,allDayClassNames:Q,allDayContent:Q,allDayDidMount:Q,allDayWillUnmount:Q,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:gt,rerenderDelay:Number,moreLinkText:Q,moreLinkHint:Q,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Q,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Re,hiddenDays:Q,fixedWeekCount:Boolean,validRange:Q,visibleRange:Q,titleFormat:Q,eventInteractive:Boolean,noEventsText:String,viewHint:Q,navLinkHint:Q,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Q,moreLinkClassNames:Q,moreLinkContent:Q,moreLinkDidMount:Q,moreLinkWillUnmount:Q,monthStartFormat:gt,handleCustomRendering:Q,customRenderingMetaMap:Q,customRenderingReplaces:Boolean},Ac={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},HT={datesSet:Q,eventsSet:Q,eventAdd:Q,eventChange:Q,eventRemove:Q,windowResize:Q,eventClick:Q,eventMouseEnter:Q,eventMouseLeave:Q,select:Q,unselect:Q,loading:Q,_unmount:Q,_beforeprint:Q,_afterprint:Q,_noEventDrop:Q,_noEventResize:Q,_resize:Q,_scrollRequest:Q},zT={buttonText:Q,buttonHints:Q,views:Q,plugins:Q,initialEvents:Q,events:Q,eventSources:Q},Ra={headerToolbar:Ia,footerToolbar:Ia,buttonText:Ia,buttonHints:Ia,buttonIcons:Ia,dateIncrement:Ia,plugins:Id,events:Id,eventSources:Id,resources:Id};function Ia(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?bn(t,e):t===e}function Id(t,e){return Array.isArray(t)&&Array.isArray(e)?oa(t,e):t===e}const ghe={type:String,component:Q,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Q,usesMinMaxTime:Boolean,classNames:Q,content:Q,didMount:Q,willUnmount:Q};function rv(t){return Ww(t,Ra)}function zw(t,e){let r={},n={};for(let i in e)i in t&&(r[i]=e[i](t[i]));for(let i in t)i in e||(n[i]=t[i]);return{refined:r,extra:n}}function Q(t){return t}const{hasOwnProperty:rm}=Object.prototype;function Ww(t,e){let r={};if(e){for(let n in e)if(e[n]===Ia){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][n];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){r[n]=s;break}}i.length&&(r[n]=Ww(i))}}for(let n=t.length-1;n>=0;n-=1){let i=t[n];for(let a in i)a in r||(r[a]=i[a])}return r}function fs(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function mi(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function zM(t){let e={};for(let r of t)e[r]=!0;return e}function Vw(t){let e=[];for(let r in t)e.push(t[r]);return e}function bn(t,e){if(t===e)return!0;for(let r in t)if(rm.call(t,r)&&!(r in e))return!1;for(let r in e)if(rm.call(e,r)&&t[r]!==e[r])return!1;return!0}const vhe=/^on[A-Z]/;function yhe(t,e){const r=xhe(t,e);for(let n of r)if(!vhe.test(n))return!1;return!0}function xhe(t,e){let r=[];for(let n in t)rm.call(t,n)&&(n in e||r.push(n));for(let n in e)rm.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function nv(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&bhe(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function bhe(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function whe(t,e=0,r,n=1){let i=[];r==null&&(r=Object.keys(t).length);for(let a=e;a<r;a+=n){let s=t[a];s!==void 0&&i.push(s)}return i}let WM={};function She(t,e){WM[t]=e}function _he(t){return new WM[t]}class Ehe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return br(e)}markerToArray(e){return Hi(e)}}She("gregory",Ehe);const jhe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ahe(t){let e=jhe.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(BM(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class The{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=_he(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):br($T(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=br(e)),r===null||!BM(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=Ahe(e);if(r===null)return null;let{marker:n}=r,i=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):i=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return zi(e)===zi(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return zi(e)===zi(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=qfe(e,r),n!==null?{unit:"week",value:n}:(n=Jh(e,r),n!==null?{unit:"day",value:n}:(n=zfe(e,r),lf(n)?{unit:"hour",value:n}:(n=Wfe(e,r),lf(n)?{unit:"minute",value:n}:(n=Vfe(e,r),lf(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let i;return n.years&&(i=this.diffWholeYears(e,r),i!==null)?i/Ffe(n):n.months&&(i=this.diffWholeMonths(e,r),i!==null)?i/Ufe(n):n.days&&(i=Jh(e,r),i!==null)?i/go(n):(r.valueOf()-e.valueOf())/pn(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?st(e):r==="hour"?Yfe(e):r==="minute"?Kfe(e):r==="second"?Qfe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Xfe(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,i={}){return i.isEndExclusive&&(r=la(r,-1)),n.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(r)},this,i.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),HM(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?br($T(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):br(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-LT(Hi(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Hi(e)):null}toDate(e,r){return this.timeZone==="local"?LT(Hi(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Hi(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class qu{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}qu.prototype.classes={};qu.prototype.iconClasses={};qu.prototype.baseIconClass="";qu.prototype.iconOverridePrefix="";function nm(t){t();let e=xe.debounceRendering,r=[];function n(i){r.push(i)}for(xe.debounceRendering=n,Cu(L(Nhe,{}),document.createElement("div"));r.length;)r.shift()();xe.debounceRendering=e}class Nhe extends Pr{render(){return L("div",{})}componentDidMount(){this.setState({})}}function VM(t){let e=Zde(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,i=r.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class Che{constructor(e,r,n,i){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const bi=VM({});function khe(t,e,r,n,i,a,s,o,l,u,d,f,h,m){return{dateEnv:i,nowManager:a,options:r,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(p){d.on("_resize",p)},removeResizeHandler(p){d.off("_resize",p)},createScrollResponder(p){return new Che(p,d,Re(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:m}}class Ts extends Pr{shouldComponentUpdate(e,r){return!nv(this.props,e,this.propEquality)||!nv(this.state,r,this.stateEquality)}safeSetState(e){nv(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Ts.addPropsEquality=Ohe;Ts.addStateEquality=Dhe;Ts.contextType=bi;Ts.prototype.propEquality={};Ts.prototype.stateEquality={};class ze extends Ts{}ze.contextType=bi;function Ohe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Dhe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Ln(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Gw extends ze{constructor(){super(...arguments),this.id=js(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!ox(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Ln(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=GM(e,[],this.handleEl);let l=!1,u,d=[],f;if(i!=null){const h=typeof i=="function"?i(s,L):i;if(h===!0)l=!0;else{const m=h&&typeof h=="object";m&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:m&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(m?gM(h):typeof h!="function")?u=h:f=h}}else l=!ox(e.generatorName,n);return l&&a&&(u=a(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,L(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(Phe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!oa(e,r)){r.forEach($w);for(let i of e)n.appendChild(i);this.currentDomNodes=e}}}Gw.addPropsEquality({elClasses:oa,elStyle:bn,elAttrs:yhe,renderProps:bn});function ox(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function GM(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function Phe(t){return!!t}const qM=VM(0);class Lr extends Pr{constructor(){super(...arguments),this.InnerContent=Mhe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Ln(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=Rhe(e.classNameGenerator,e.renderProps);if(e.children){const n=GM(e,r,this.handleEl),i=e.children(this.InnerContent,e.renderProps,n);return e.elTag?L(e.elTag,n,i):i}else return L(Gw,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Lr.contextType=qM;function Mhe(t,e){const r=t.props;return L(Gw,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function Rhe(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class im extends ze{render(){let{props:e,context:r}=this,{options:n}=r,i={view:r.viewApi};return L(Lr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...YM(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function YM(t){return[`fc-${t.type}-view`,"fc-view"]}function Ihe(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function WT(t,e){let r=[],{start:n}=e,i,a;for(t.sort($he),i=0;i<t.length;i+=1)a=t[i],a.start>n&&r.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<e.end&&r.push({start:n,end:e.end}),r}function $he(t,e){return t.start.valueOf()-e.start.valueOf()}function hs(t,e){let{start:r,end:n}=t,i=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(i={start:r,end:n}),i}function Lhe(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function qw(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Cp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function si(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Fhe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function KM(t){let e=Math.floor(As(t.start,t.end))||1,r=st(t.start),n=ar(r,e);return{start:r,end:n}}function QM(t,e=Re(0)){let r=null,n=null;if(t.end){n=st(t.end);let i=t.end.valueOf()-n.valueOf();i&&i>=pn(e)&&(n=ar(n,1))}return t.start&&(r=st(t.start),n&&n<=r&&(n=ar(r,1))),{start:r,end:n}}function to(t,e,r,n){return n==="year"?Re(r.diffWholeYears(t,e),"year"):n==="month"?Re(r.diffWholeMonths(t,e),"month"):Gfe(t,e)}class XM{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,r,n){let{dateEnv:i}=this.props,a=i.add(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,r,n=!0){let{props:i}=this,a,s,o,l,u,d;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(e=Fhe(e,a)),s=this.buildCurrentRangeInfo(e,r),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=hs(u,s.range)),u=this.adjustActiveRange(u),u=hs(u,a),d=qw(s.range,a),si(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,i=null,a=null,s=null,o;return n.duration?(i=n.duration,a=n.durationUnit,s=this.buildRangeFromDuration(e,r,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,r,o)):(s=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=sx(i).unit,s=this.buildRangeFromDuration(e,r,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Re({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return n&&(go(i)<0&&(s=st(s),s=r.add(s,i)),go(a)>1&&(o=st(o),o=ar(o,-1),o=r.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,r,n,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:f}=this.props;f&&pn(f)<pn(n)?s=sx(f).unit:s=i}go(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,r),o=st(o));function d(){o=a.startOf(e,s),l=a.add(o,n),u={start:o,end:l}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=st(o),o=this.skipHiddenDays(o,r),l=o;do l=ar(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,i=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Re(1,n):e||Re({days:1}))}refineRange(e){if(e){let r=Ihe(e,this.props.dateEnv);return r&&(r=QM(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(r[i]=e.indexOf(i)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=ar(e,r);return e}}function Yw(t,e,r,n){return{instanceId:js(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function Uhe(t,e,r,n){for(let i=0;i<n.length;i+=1){let a=n[i].parse(t,r);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function ms(t,e,r){let{dateEnv:n,pluginHooks:i,options:a}=r,{defs:s,instances:o}=t;o=fs(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let f=Bhe(u,d,e,n,i.recurringTypes);for(let h of f){let m=Yw(l,{start:h,end:n.add(h,d)});o[m.instanceId]=m}}}return{defs:s,instances:o}}function Bhe(t,e,r,n,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(st)),s}const uf={id:String,groupId:String,title:String,url:String,interactive:Boolean},ZM={start:Q,end:Q,date:Q,allDay:Boolean},Hhe=Object.assign(Object.assign(Object.assign({},uf),ZM),{extendedProps:Q});function JM(t,e,r,n,i=Kw(r),a,s){let{refined:o,extra:l}=eR(t,r,i),u=Whe(e,r),d=Uhe(o,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=lx(o,l,e?e.sourceId:"",d.allDay,!!d.duration,r,a);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=zhe(o,u,r,n);if(f){let h=lx(o,l,e?e.sourceId:"",f.allDay,f.hasEnd,r,a),m=Yw(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(m.instanceId=s[h.publicId]),{def:h,instance:m}}return null}function eR(t,e,r=Kw(e)){return zw(t,r)}function Kw(t){return Object.assign(Object.assign(Object.assign({},am),Hhe),t.pluginHooks.eventRefiners)}function lx(t,e,r,n,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||js(),sourceId:r,allDay:n,hasEnd:i,interactive:t.interactive,ui:sm(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function zhe(t,e,r,n){let{allDay:i}=t,a,s=null,o=!1,l,u=null,d=t.start!=null?t.start:t.date;if(a=r.dateEnv.createMarkerMeta(d),a)s=a.marker;else if(!n)return null;return t.end!=null&&(l=r.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=st(s)),l&&(u=l.marker,i&&(u=st(u)),s&&u<=s&&(u=null)),u?o=!0:n||(o=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,i?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Whe(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function ku(t,e,r,n,i,a){let s=Mr(),o=Kw(r);for(let l of t){let u=JM(l,e,r,n,o,i,a);u&&cx(u,s)}return s}function cx(t,e=Mr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Qw(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],i=kp(t,a=>Vhe(n,a));return i.defs[n.defId]=n,i.instances[r.instanceId]=r,i}return Mr()}function Vhe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Mr(){return{defs:{},instances:{}}}function Xw(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function kp(t,e){let r=fs(t.defs,e),n=fs(t.instances,i=>r[i.defId]);return{defs:r,instances:n}}function Ghe(t,e){let{defs:r,instances:n}=t,i={},a={};for(let s in r)e.defs[s]||(i[s]=r[s]);for(let s in n)!e.instances[s]&&i[n[s].defId]&&(a[s]=n[s]);return{defs:i,instances:a}}function qhe(t,e){return Array.isArray(t)?ku(t,null,e,!0):typeof t=="object"&&t?ku([t],null,e,!0):t!=null?String(t):null}function VT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const am={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Q,overlap:Q,allow:Q,className:VT,classNames:VT,color:String,backgroundColor:String,borderColor:String,textColor:String},Yhe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function sm(t,e){let r=qhe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function tR(t){return t.reduce(Khe,Yhe)}function Khe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Qhe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Q,eventDataTransform:Q,success:Q,failure:Q};function rR(t,e,r=nR(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:i,extra:a}=zw(n,r),s=Xhe(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:js(),sourceDefId:s.sourceDefId,meta:s.meta,ui:sm(i,e),extendedProps:a}}return null}function nR(t){return Object.assign(Object.assign(Object.assign({},am),Qhe),t.pluginHooks.eventSourceRefiners)}function Xhe(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let a=r[n].parseMeta(t);if(a)return{sourceDefId:n,meta:a}}return null}function Zhe(t,e,r,n,i){switch(e.type){case"RECEIVE_EVENTS":return Jhe(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return eme(t,r[e.sourceId],e.rawEvents,n.activeRange,i);case"ADD_EVENTS":return tme(t,e.eventStore,n?n.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Xw(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ms(t,n.activeRange,i):t;case"REMOVE_EVENTS":return Ghe(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return aR(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return kp(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Mr();default:return t}}function Jhe(t,e,r,n,i,a){if(e&&r===e.latestFetchId){let s=ku(iR(i,e,a),e,a);return n&&(s=ms(s,n,a)),Xw(aR(t,e.sourceId),s)}return t}function eme(t,e,r,n,i){const{defIdMap:a,instanceIdMap:s}=nme(t);let o=ku(iR(r,e,i),e,i,!1,a,s);return ms(o,n,i)}function iR(t,e,r){let n=r.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=GT(t,i)),n&&(t=GT(t,n)),t}function GT(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let i=e(n);i?r.push(i):i==null&&r.push(n)}}return r}function tme(t,e,r,n){return r&&(e=ms(e,r,n)),Xw(t,e)}function qT(t,e,r){let{defs:n}=t,i=mi(t.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:r.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:r.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:i}}function aR(t,e){return kp(t,r=>r.sourceId!==e)}function rme(t,e){return{defs:t.defs,instances:fs(t.instances,r=>!e[r.instanceId])}}function nme(t){const{defs:e,instances:r}=t,n={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(n[o]=a)}for(let a in r){const s=r[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:n,instanceIdMap:i}}class Op{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){ime(this.handlers,e,r)}off(e,r){ame(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],n);for(let s of a)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function ime(t,e,r){(t[e]||(t[e]=[])).push(r)}function ame(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const sme={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function ome(t,e){return ku(lme(t),null,e)}function lme(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},sme),r)),e}function sR(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},Zw(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function cme(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Zw(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,_me(t,e.dateEnv)),r}function YT(t,e,r){let{dateEnv:n,options:i}=r,a=e;return t?(a=st(a),a=n.add(a,i.defaultAllDayEventDuration)):a=n.add(a,i.defaultTimedEventDuration),a}function Jw(t,e,r,n){let i=om(t.defs,e),a=Mr();for(let s in t.defs){let o=t.defs[s];a.defs[s]=ume(o,i[s],r,n)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=dme(o,l,i[o.defId],r,n)}return a}function ume(t,e,r,n){let i=r.standardProps||{};i.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});r.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(a,r,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function dme(t,e,r,n,i){let{dateEnv:a}=i,s=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=KM(l.range)),n.datesDelta&&r.startEditable&&(l.range={start:a.add(l.range.start,n.datesDelta),end:a.add(l.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(l.range={start:a.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&r.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,n.endDelta)}),o&&(l.range={start:l.range.start,end:YT(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:st(l.range.start),end:st(l.range.end)}),l.range.end<l.range.start&&(l.range.end=YT(e.allDay,l.range.start,i)),l}class Fs{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class mt{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in ZM)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=uf[e](r),this.mutate({standardProps:{publicId:r}});else if(e in uf)r=uf[e](r),this.mutate({standardProps:{[e]:r}});else if(e in am){let n=am[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,i=n.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=to(a.start,i,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,i;if(!(e!=null&&(i=n.createMarker(e),!i))&&this._instance)if(i){let a=to(this._instance.range.end,i,n,r.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:i}=this._context,a={allDay:n.allDay},s=i.createMarker(e),o;if(s&&!(r!=null&&(o=i.createMarker(r),!o))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=KM(l));let u=to(l.start,s,i,n.granularity);if(o){let d=to(l.end,o,i,n.granularity);Ife(u,d)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let r=Re(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Re(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Re(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:i}=r;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,i=gt(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=Qw(a,r.instanceId);s=Jw(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new mt(i,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Za(s,i,r),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,r=oR(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Fs(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:i,endStr:a}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),i&&(s.start=i),a&&(s.end=a),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function oR(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function Za(t,e,r){let{defs:n,instances:i}=t,a=[],s=r?r.instanceId:"";for(let o in i){let l=i[o],u=n[l.defId];l.instanceId!==s&&a.push(new mt(e,u,l))}return a}function KT(t,e,r,n){let i={},a={},s={},o=[],l=[],u=om(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):a[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],m=u[h.defId],p=f.range,g=!h.allDay&&n?QM(p,n):p,v=hs(g,r);v&&(m.display==="inverse-background"?h.groupId?i[h.groupId].push(v):a[f.defId].push(v):m.display!=="none"&&(m.display==="background"?o:l).push({def:h,ui:m,instance:f,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let d in i){let f=i[d],h=WT(f,r);for(let m of h){let p=s[d],g=u[p.defId];o.push({def:p,ui:g,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let d in a){let f=a[d],h=WT(f,r);for(let m of h)o.push({def:t.defs[d],ui:u[d],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function fme(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function QT(t,e){t.fcSeg=e}function Jo(t){return t.fcSeg||t.parentNode.fcSeg||null}function om(t,e){return mi(t,r=>lR(r,e))}function lR(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),tR(r)}function cR(t,e){let r=t.map(hme);return r.sort((n,i)=>Cfe(n,i,e)),r.map(n=>n._seg)}function hme(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,i=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:i,end:a,duration:a-i,allDay:Number(r.allDay),_seg:t})}function mme(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of n)s=o(s,i,a,e);return s}function pme(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function gme(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function uR(t,e,r,n,i,a,s){let{dateEnv:o,options:l}=r,{displayEventTime:u,displayEventEnd:d}=l,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=i!==!1);let m=h.range.start,p=h.range.end,g=a||t.start||t.eventRange.range.start,v=s||t.end||t.eventRange.range.end,x=st(m).valueOf()===st(g).valueOf(),y=st(la(p,-1)).valueOf()===st(la(v,-1)).valueOf();return u&&!f.allDay&&(x||y)?(g=x?m:g,v=y?p:v,d&&f.hasEnd?o.formatRange(g,v,e,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(g,e,{forcedTzo:a?null:h.forcedStartTzo})):""}function ra(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&si(e,n.start)}}function vme(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function dR(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function fR(t,e){let{def:r,instance:n}=t.eventRange,{url:i}=r;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=r.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?UM(l=>{a.trigger("eventClick",{el:l.target,event:new mt(e,r,n),jsEvent:l,view:e.viewApi})}):{}}const yme={start:Q,end:Q,allDay:Boolean};function xme(t,e,r){let n=bme(t,e),{range:i}=n;if(!i.start)return null;if(!i.end){if(r==null)return null;i.end=e.add(i.start,r)}return n}function bme(t,e){let{refined:r,extra:n}=zw(t,yme),i=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},n)}function wme(t,e){return Lhe(t.range,e.range)&&t.allDay===e.allDay&&Sme(t,e)}function Sme(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function _me(t,e){return Object.assign(Object.assign({},mR(t.range,e,t.allDay)),{allDay:t.allDay})}function hR(t,e,r){return Object.assign(Object.assign({},mR(t,e,r)),{timeZone:e.timeZone})}function mR(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function Eme(t,e,r){let n=eR({editable:!1},r),i=lx(n.refined,n.extra,"",t.allDay,!0,r);return{def:i,ui:lR(i,e),instance:Yw(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function jme(t,e,r){let n=!1,i=function(o){n||(n=!0,e(o))},a=function(o){n||(n=!0,r(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class XT extends Error{constructor(e,r){super(e),this.response=r}}function Ame(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new XT("Failure parsing JSON",i)});throw new XT("Request failed",i)})}let iv;function pR(){return iv==null&&(iv=Tme()),iv}function Tme(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class Nme extends ze{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{nm(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{nm(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,i=n||r.height==="auto"||r.contentHeight==="auto",a=!i&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return pR()||s.push("fc-liquid-hack"),e.children(s,a,i,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class _l{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Cme(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function eS(t){return{[t.component.uid]:t}}const ux={};class El extends Pr{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),i=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(i,Re(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:i,todayRange:kme(i)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}El.contextType=bi;function kme(t){let e=st(t),r=ar(e,1);return{start:e,end:r}}class Ome{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),i;r=r||"day",i=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),i=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,s;for(let o in r)i.push(o);for(a=0;a<i.length;a+=1)if(s=r[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Re(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),gt(r))}formatRange(e,r,n){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(r),gt(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let i=this.getCurrentData(),a=xme(n,i.dateEnv,Re({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),sR(a,null,i))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),cme(e,r))}addEvent(e,r){if(e instanceof mt){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:cx({def:s,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),i;if(r instanceof Fs)i=r.internalEventSource;else if(typeof r=="boolean")r&&([i]=Vw(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;i=s.internalEventSource}let a=JM(e,i,n,!1);if(a){let s=new mt(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:cx(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:oR(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:i}=r.eventStore;e=String(e);for(let a in n){let s=n[a];if(s.publicId===e){if(s.recurringDef)return new mt(r,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new mt(r,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Za(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let i in r)n.push(new Fs(e,r[i]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let i in n)if(n[i].publicId===e)return new Fs(r,n[i]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Fs)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=rR(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Fs(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Re(e);r&&this.trigger("_scrollRequest",{time:r})}}function Dme(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function gR(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function Pme(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Mme(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Rme(t,e){return{left:t.left-e.left,top:t.top-e.top}}const av=Mr();class Ime{constructor(){this.getKeysForEventDefs=we(this._getKeysForEventDefs),this.splitDateSelection=we(this._splitDateSpan),this.splitEventStore=we(this._splitEventStore),this.splitIndividualUi=we(this._splitIndividualUi),this.splitEventDrag=we(this._splitInteraction),this.splitEventResize=we(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=mi(r,(d,f)=>this.eventUiBuilders[f]||we($me));for(let d in r){let f=r[d],h=s[d]||av,m=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:m(e.eventUiBases[""],f.ui,a[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:l[d]||null}}return u}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let i of n)r[i]=e}return r}_getKeysForEventDefs(e){return mi(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:i}=e,a={};for(let s in n)for(let o of r[s])a[o]||(a[o]=Mr()),a[o].defs[s]=n[s];for(let s in i){let o=i[s];for(let l of r[o.defId])a[l]&&(a[l].instances[s]=o)}return a}_splitIndividualUi(e,r){let n={};for(let i in e)if(i)for(let a of r[i])n[a]||(n[a]={}),n[a][i]=e[i];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),s=o=>{r[o]||(r[o]={affectedEvents:n[o]||av,mutatedEvents:a[o]||av,isEvent:e.isEvent})};for(let o in n)s(o);for(let o in a)s(o)}return r}}function $me(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let i={"":tR(n)};return r&&Object.assign(i,r),i}function vR(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!si(n.activeRange,t))),isOther:!!(n&&!si(n.currentRange,t)),isToday:!!(e&&si(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function tS(t,e){let r=["fc-day",`fc-day-${Bfe[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const Lme=gt({year:"numeric",month:"long",day:"numeric"}),Fme=gt({week:"long"});function lm(t,e,r="day",n=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,r==="week"?Fme:Lme);if(a.navLinks){let l=i.toDate(e);const u=d=>{let f=r==="day"?a.navLinkDayClick:r==="week"?a.navLinkWeekClick:null;typeof f=="function"?f.call(s,i.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:jc(a.navLinkHint,[o,l],o),"data-navlink":""},n?FM(u):{onClick:u})}return{"aria-label":o}}let sv=null;function Ume(){return sv===null&&(sv=Bme()),sv}function Bme(){let t=document.createElement("div");Ec(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return $w(t),r}let ov;function Hme(){return ov||(ov=zme()),ov}function zme(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=yR(t);return document.body.removeChild(t),e}function yR(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Wme(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,i=parseInt(r.borderRightWidth,10)||0,a=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,o=yR(t),l=o.y-n-i,u=o.x-a-s,d={borderLeft:n,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Ume()&&r.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function Vme(t,e=!1,r){let n=r?t.getBoundingClientRect():rS(t),i=Wme(t,e),a={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function rS(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Gme(t){let e=xR(t),r=t.getBoundingClientRect();for(let n of e){let i=gR(r,n.getBoundingClientRect());if(i)r=i;else return null}return r}function xR(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class el{constructor(e,r,n,i){this.els=r;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.left-e),n.push(a.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.top-e),n.push(a.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}topToIndex(e){let{tops:r,bottoms:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return $d(this.tops||[],e.tops||[])&&$d(this.bottoms||[],e.bottoms||[])&&$d(this.lefts||[],e.lefts||[])&&$d(this.rights||[],e.rights||[])}}function $d(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class nS{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class qme extends nS{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Yme extends nS{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Un extends ze{constructor(){super(...arguments),this.uid=js()}prepareHits(){}queryHit(e,r,n,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ir(e,".fc-event-mirror")}isValidDateDownEl(e){return!ir(e,".fc-event:not(.fc-bg-event)")&&!ir(e,".fc-more-link")&&!ir(e,"a[data-navlink]")&&!ir(e,".fc-popover")}}class bR{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},r),{span:iS(r.span,e.touchingEntry.span)});n.push(i),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let i=e.span,a=r.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},n),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:i}=this;r.lateral===-1?(lv(i,r.level,r.levelCoord),lv(n,r.level,[e])):lv(n[r.level],r.lateral,e),this.stackCnts[Ja(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:i,stackCnts:a}=this,s=r.length,o=0,l=-1,u=-1,d=null,f=0;for(let p=0;p<s;p+=1){const g=r[p];if(!i&&g>=o+this.getEntryThickness(e))break;let v=n[p],x,y=fx(v,e.span.start,dx),b=y[0]+y[1];for(;(x=v[b])&&x.span.start<e.span.end;){let _=g+this.getEntryThickness(x);_>o&&(o=_,d=x,l=p,u=b),_===o&&(f=Math.max(f,a[Ja(x)]+1)),b+=1}}let h=0;if(d)for(h=l+1;h<s&&r[h]<o;)h+=1;let m=-1;return h<s&&r[h]===o&&(m=fx(n[h],e.span.end,dx)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:o,level:h,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,i=[];for(let a=0;a<n;a+=1){let s=e[a],o=r[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function dx(t){return t.span.end}function Ja(t){return t.index+":"+t.span.start}function Kme(t){let e=[];for(let r of t){let n=[],i={span:r.span,entries:[r]};for(let a of e)iS(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:Qme(a.span,i.span)}:n.push(a);n.push(i),e=n}return e}function Qme(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function iS(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function lv(t,e,r){t.splice(e,0,r)}function fx(t,e,r){let n=0,i=t.length;if(!i||e<r(t[n]))return[0,0];if(e>r(t[i-1]))return[i,0];for(;n<i;){let a=Math.floor(n+(i-n)/2),s=r(t[a]);if(e<s)i=a;else if(e>s)n=a+1;else return[a,1]}return[n,0]}class Xme{constructor(e,r){this.emitter=new Op}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const aS={};function Zme(t,e){return!t||e>10?gt({weekday:"short"}):e>1?gt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):gt({weekday:"long"})}const wR="fc-col-header-cell";function SR(t){return t.text}class Jme extends ze{render(){let{dateEnv:e,options:r,theme:n,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=vR(s,a.todayRange,null,o),u=[wR].concat(tS(l,n)),d=e.format(s,a.dayHeaderFormat),f=!l.isDisabled&&a.colCnt>1?lm(this.context,s):{},h=e.toDate(s);e.namedTimeZoneImpl&&(h=la(h,36e5));let m=Object.assign(Object.assign(Object.assign({date:h,view:i},a.extraRenderProps),{text:d}),l);return L(Lr,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:Bw(s)},a.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:SR,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},p=>L("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&L(p,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const epe=gt({weekday:"long"});class tpe extends ze{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:i,options:a}=this.context,s=ar(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return L(Lr,{elTag:"th",elClasses:[wR,...tS(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:SR,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},d=>L("div",{className:"fc-scrollgrid-sync-inner"},L(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,epe)}})))}}class _R extends ze{constructor(){super(...arguments),this.createDayHeaderFormatter=we(rpe)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,r.length);return L(El,{unit:"day"},(o,l)=>L("tr",{role:"row"},a&&a("day"),r.map(u=>i?L(Jme,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:r.length,dayHeaderFormat:s}):L(tpe,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function rpe(t,e,r){return t||Zme(e,r)}class ER{constructor(e,r){let n=e.start,{end:i}=e,a=[],s=[],o=-1;for(;n<i;)r.isHiddenDay(n)?a.push(o+.5):(o+=1,a.push(o),s.push(n)),n=ar(n,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ar(e.end,-1)),i=Math.max(0,r),a=Math.min(this.cnt-1,n);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:r===i,isEnd:n===a}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(As(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class jR{constructor(e,r){let{dates:n}=e,i,a,s;if(r){for(a=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==a;i+=1);s=Math.ceil(n.length/i)}else s=1,i=n.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let i=0;i<this.colCnt;i+=1)n.push(this.buildCell(r,i));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),i=[];if(n){let{firstIndex:a,lastIndex:s}=n,o=a;for(;o<=s;){let l=Math.floor(o/r),u=Math.min((l+1)*r,s+1);i.push({row:l,firstCol:o%r,lastCol:(u-1)%r,isStart:n.isStart&&o===a,isEnd:n.isEnd&&u-1===s}),o=u}}return i}}class AR{constructor(){this.sliceBusinessHours=we(this._sliceBusinessHours),this.sliceDateSelection=we(this._sliceDateSpan),this.sliceEventStore=we(this._sliceEventStore),this.sliceEventDrag=we(this._sliceInteraction),this.sliceEventResize=we(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,r,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...a),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,i,...a){return this._sliceDateSpan({range:{start:e,end:la(e,1)},allDay:!1},r,n,{},i,...a)}_sliceBusinessHours(e,r,n,i,...a){return e?this._sliceEventStore(ms(e,Ld(r,!!n),i),{},r,n,...a).bg:[]}_sliceEventStore(e,r,n,i,...a){if(e){let s=KT(e,r,Ld(n,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,i,...a){if(!e)return null;let s=KT(e.mutatedEvents,r,Ld(n,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,i,a,...s){if(!e)return[];let o=Ld(r,!!n),l=hs(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=Eme(e,i,a),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let i of e)n.push(...this.sliceEventRange(i,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:ar(n.start,1)});let i=this.sliceRange(n,...r);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function Ld(t,e){let r=t.activeRange;return e?r:{start:la(r.start,t.slotMinTime.milliseconds),end:la(r.end,t.slotMaxTime.milliseconds-864e5)}}function TR(t,e,r){let{instances:n}=t.mutatedEvents;for(let i in n)if(!Cp(e.validRange,n[i].range))return!1;return NR({eventDrag:t},r)}function npe(t,e,r){return Cp(e.validRange,t.range)?NR({dateSelection:t},r):!1}function NR(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||ipe)(n,e)}function ipe(t,e,r={},n){return!(t.eventDrag&&!ape(t,e,r,n)||t.dateSelection&&!spe(t,e,r,n))}function ape(t,e,r,n){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=om(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});n&&(u=mi(u,n));let d=rme(t.eventStore,a.affectedEvents.instances),f=d.defs,h=d.instances,m=om(f,t.eventUiBases);for(let p in l){let g=l[p],v=g.range,x=u[g.defId],y=o[g.defId];if(!CR(x.constraints,v,d,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,_=typeof b=="function"?b:null;for(let S in h){let j=h[S];if(qw(v,j.range)&&(m[j.defId].overlap===!1&&a.isEvent||x.overlap===!1||_&&!_(new mt(e,f[j.defId],j),new mt(e,y,g))))return!1}let w=i.eventStore;for(let S of x.allows){let j=Object.assign(Object.assign({},r),{range:g.range,allDay:y.allDay}),E=w.defs[y.defId],A=w.instances[p],k;if(E?k=new mt(e,E,A):k=new mt(e,y),!S(Zw(j,e),k))return!1}}return!0}function spe(t,e,r,n){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!CR(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in s){let m=s[h];if(qw(l,m.range)&&(u.overlap===!1||f&&!f(new mt(e,a[m.defId],m),null)))return!1}for(let h of u.allows){let m=Object.assign(Object.assign({},r),o);if(!h(Zw(m,e),null))return!1}return!0}function CR(t,e,r,n,i){for(let a of t)if(!lpe(ope(a,e,r,n,i),e))return!1;return!0}function ope(t,e,r,n,i){return t==="businessHours"?cv(ms(n,e,i)):typeof t=="string"?cv(kp(r,a=>a.groupId===t)):typeof t=="object"&&t?cv(ms(t,e,i)):[]}function cv(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function lpe(t,e){for(let r of t)if(Cp(r,e))return!0;return!1}const Fd=/^(visible|hidden)$/;class cpe extends ze{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Ln(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,i=r&&n,a=["fc-scroller"];return r&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),L("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Fd.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(Fd.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return Fd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Fd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ei{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;r!==null?(s=n in a,a[n]=r,i[n]=(i[n]||0)+1,o=!0):(i[n]-=1,i[n]||(delete a[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),o&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return whe(this.currentMap,e,r,n)}getAll(){return Vw(this.currentMap)}}function upe(t){let e=xfe(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,Pfe(n));return Math.ceil(r)}function kR(t,e){return t.liquid&&e.liquid}function dpe(t,e){return e.maxHeight!=null||kR(t,e)}function fpe(t,e,r,n){let{expandRows:i}=r;return typeof e.content=="function"?e.content(r):L("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:i?r.clientHeight:""}},r.tableColGroupNode,L(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function hpe(t,e){return oa(t,e,bn)}function mpe(t,e){let r=[];for(let n of t){let i=n.span||1;for(let a=0;a<i;a+=1)r.push(L("col",{style:{width:n.width==="shrink"?ppe(e):n.width||"",minWidth:n.minWidth||""}}))}return L("colgroup",{},...r)}function ppe(t){return t??4}function gpe(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function vpe(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function ype(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function hx(t){return L("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function cm(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function OR(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class sS extends ze{constructor(){super(...arguments),this.processCols=we(e=>e,hpe),this.renderMicroColGroup=we(mpe),this.scrollerRefs=new ei,this.scrollerElRefs=new ei(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,r.shrinkWidth),o=vpe(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,d,f=[],h=[],m=[];for(;u<l&&(d=i[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<l&&(d=i[u]).type==="body";)h.push(this.renderSection(d,s,!1)),u+=1;for(;u<l&&(d=i[u]).type==="footer";)m.push(this.renderSection(d,s,!0)),u+=1;let p=!pR();const g={role:"rowgroup"};return L("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!p&&f.length)&&L("thead",g,...f),!!(!p&&h.length)&&L("tbody",g,...h),!!(!p&&m.length)&&L("tfoot",g,...m),p&&L("tbody",g,...f,...h,...m))}renderSection(e,r,n){return"outerContent"in e?L(at,{key:e.key},e.outerContent):L("tr",{key:e.key,role:"presentation",className:ype(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,i){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=dpe(a,e),d=kR(a,e),f=a.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,m=fpe(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return L(i?"th":"td",{ref:n.elRef,role:"presentation"},L("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},L(cpe,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,r){let n=xpe(this.props.sections,r);n&&Ln(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return gpe(this.props.cols)?upe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Hme(),{scrollerRefs:r,scrollerElRefs:n}=this,i=!1,a={},s={};for(let o in r.currentMap){let l=r.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=n.currentMap[l];if(u){let d=u.parentNode;a[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}sS.addStateEquality({scrollerClientWidths:bn,scrollerClientHeights:bn});function xpe(t,e){for(let r of t)if(r.key===e)return r;return null}class oS extends ze{constructor(){super(...arguments),this.buildPublicEvent=we((e,r,n)=>new mt(e,r,n)),this.handleEl=e=>{this.el=e,Ln(this.props.elRef,e),e&&QT(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(r,a.def,a.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&mme(i,r),isStartResizable:!e.disableResizing&&pme(i,r),isEndResizable:!e.disableResizing&&gme(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return L(Lr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...vme(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&QT(this.el,this.props.seg)}}class lS extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{ui:a}=i.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,o=uR(i,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return L(oS,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:fR(i,r),defaultGenerator:bpe,timeText:o}),(l,u)=>L(at,null,L(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&L("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}lS.addPropsEquality({seg:bn});function bpe(t){return L("div",{className:"fc-event-main-frame"},t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title-container"},L("div",{className:"fc-event-title fc-sticky"},t.event.title||L(at,null,""))))}const cS=t=>L(bi.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return L(Lr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount},t.children)}),wpe=gt({day:"numeric"});class uS extends ze{constructor(){super(...arguments),this.refineRenderProps=cf(Spe)}render(){let{props:e,context:r}=this,{options:n}=r,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return L(Lr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":Bw(e.date)}),elClasses:[...tS(i,r.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function dS(t){return!!(t.dayCellContent||ox("dayCellContent",t))}function Spe(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:i}=t,a=vR(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,i?t.monthStartFormat:wpe):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class DR extends ze{render(){let{props:e}=this,{seg:r}=e;return L(oS,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:_pe,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function _pe(t){let{title:e}=t.event;return e&&L("div",{className:"fc-event-title"},t.event.title)}function PR(t){return L("div",{className:`fc-${t}`})}const MR=t=>L(bi.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:i}=t,a=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(i),o=r.format(i,a),l={num:s,text:o,date:i};return L(Lr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:Epe,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},t.children)});function Epe(t){return t.text}const uv=10;class jpe extends ze{constructor(){super(...arguments),this.state={titleId:Tp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Ln(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=$M(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return afe(L("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),L("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},L("span",{className:"fc-popover-title",id:i.titleId},n.title),L("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),L("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:i}=this,a=Gme(r);if(a){let s=i.getBoundingClientRect(),o=n?ir(r,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,uv),l=Math.min(l,document.documentElement.clientWidth-uv-s.width),l=Math.max(l,uv);let u=i.offsetParent.getBoundingClientRect();Ec(i,{top:o-u.top,left:l-u.left})}}}class Ape extends Un{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:i,todayRange:a,dateProfile:s}=n,o=r.format(i,e.dayPopoverFormat);return L(uS,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,d)=>L(jpe,{elRef:d.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},dS(e)&&L(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,i){let{rootEl:a,props:s}=this;return e>=0&&e<n&&r>=0&&r<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null}}class RR extends ze{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Tp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Ln(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:i}=n.options,a=ZT(r).start;function s(o){let{def:l,instance:u,range:d}=o.eventRange;return{event:new mt(n,l,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&n.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return L(bi.Consumer,null,n=>{let{viewApi:i,options:a,calendarApi:s}=n,{moreLinkText:o}=a,{moreCnt:l}=e,u=ZT(e),d=typeof o=="function"?o.call(s,l):`+${l} ${o}`,f=jc(a.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:i};return L(at,null,!!e.moreCnt&&L(Lr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),FM(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||Tpe,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),r.isPopoverOpen&&L(Ape,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ir(this.linkEl,".fc-view-harness"))}}function Tpe(t){return t.text}function ZT(t){if(t.allDayDate)return{start:t.allDayDate,end:ar(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:IR(e),end:Cpe(e)}}function IR(t){return t.reduce(Npe).eventRange.range.start}function Npe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Cpe(t){return t.reduce(kpe).eventRange.range.end}function kpe(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Ope{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Dpe extends Ope{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const Ppe=[],$R={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},LR=Object.assign(Object.assign({},$R),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function Mpe(t){let e=t.length>0?t[0].code:"en",r=Ppe.concat(t),n={en:LR};for(let i of r)n[i.code]=i;return{map:n,defaultCode:e}}function FR(t,e){return typeof t=="object"&&!Array.isArray(t)?UR(t.code,[t.code],t):Rpe(t,e)}function Rpe(t,e){let r=[].concat(t||[]),n=Ipe(r,e)||LR;return UR(t,r,n)}function Ipe(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let i=n.length;i>0;i-=1){let a=n.slice(0,i).join("-");if(e[a])return e[a]}}return null}function UR(t,e,r){let n=Ww([$R,r],["buttonText"]);delete n.code;let{week:i}=n;return delete n.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function wi(t){return{id:js(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function $pe(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=r[o];l===void 0?(r[o]=s.id,i(s.deps),n=Fpe(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),n}function Lpe(){let t=[],e=[],r;return(n,i)=>((!r||!oa(n,t)||!oa(i,e))&&(r=$pe(n,i)),t=n,e=i,r)}function Fpe(t,e){return{premiumReleaseDate:Upe(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Upe(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class _a extends qu{}_a.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};_a.prototype.baseIconClass="fc-icon";_a.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};_a.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};_a.prototype.iconOverrideOption="buttonIcons";_a.prototype.iconOverrideCustomButtonOption="icon";_a.prototype.iconOverridePrefix="fc-icon-";function Bpe(t,e){let r={},n;for(n in t)mx(n,r,t,e);for(n in e)mx(n,r,t,e);return r}function mx(t,e,r,n){if(e[t])return e[t];let i=Hpe(t,e,r,n);return i&&(e[t]=i),i}function Hpe(t,e,r,n){let i=r[t],a=n[t],s=d=>i&&i[d]!==null?i[d]:a&&a[d]!==null?a[d]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=mx(l,e,r,n)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function JT(t){return mi(t,zpe)}function zpe(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=eN(e):r&&!(r.prototype instanceof ze)&&(r=eN(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function eN(t){return e=>L(bi.Consumer,null,r=>L(Lr,{elTag:"div",elClasses:YM(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Wpe(t,e,r,n){let i=JT(t),a=JT(e.views),s=Bpe(i,a);return mi(s,o=>Vpe(o,a,e,r,n))}function Vpe(t,e,r,n,i){let a=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,o="",l="",u={};if(a&&(s=Gpe(a),s)){let h=sx(s);o=h.unit,h.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let d=h=>{let m=h.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&m[p]!=null?m[p]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null},f=h=>{let m=h.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&m[p]!=null?m[p]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(Ac)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(Ac)}}let tN={};function Gpe(t){let e=JSON.stringify(t),r=tN[e];return r===void 0&&(r=Re(t),tN[e]=r),r}function qpe(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Ype(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Kpe(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function Qpe(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Xpe(t,e,r,n){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(i=n.buildPrev(t,r),i.isValid)return i;break;case"NEXT":if(i=n.buildNext(t,r),i.isValid)return i;break}return t}function Zpe(t,e,r){let n=e?e.activeRange:null;return HR({},age(t,r),n,r)}function Jpe(t,e,r,n){let i=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return HR(t,e.sources,i,n);case"REMOVE_EVENT_SOURCE":return tge(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?zR(t,i,n):t;case"FETCH_EVENT_SOURCES":return fS(t,e.sourceIds?zM(e.sourceIds):WR(t,n),i,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return ige(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function ege(t,e,r){let n=e?e.activeRange:null;return fS(t,WR(t,r),n,!0,r)}function BR(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function HR(t,e,r,n){let i={};for(let a of e)i[a.sourceId]=a;return r&&(i=zR(i,r,n)),Object.assign(Object.assign({},t),i)}function tge(t,e){return fs(t,r=>r.sourceId!==e)}function zR(t,e,r){return fS(t,fs(t,n=>rge(n,e,r)),e,!1,r)}function rge(t,e,r){return VR(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function fS(t,e,r,n,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=nge(o,r,n,i):a[s]=o}return a}function nge(t,e,r,n){let{options:i,calendarApi:a}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],o=js();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function ige(t,e,r,n){let i=t[e];return i&&r===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:n})}):t}function WR(t,e){return fs(t,r=>VR(r,e))}function age(t,e){let r=nR(e),n=[].concat(t.eventSources||[]),i=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let a of n){let s=rR(a,e,r);s&&i.push(s)}return i}function VR(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function sge(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function oge(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function lge(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function cge(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function uge(t,e,r,n,i){let a=t.headerToolbar?rN(t.headerToolbar,t,e,r,n,i):null,s=t.footerToolbar?rN(t.footerToolbar,t,e,r,n,i):null;return{header:a,footer:s}}function rN(t,e,r,n,i,a){let s={},o=[],l=!1;for(let u in t){let d=t[u],f=dge(d,e,r,n,i,a);s[u]=f.widgets,o.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function dge(t,e,r,n,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],m=[],p=!1;return{widgets:h.map(v=>v.split(",").map(x=>{if(x==="title")return p=!0,{buttonName:x};let y,b,_,w,S,j;if(y=o[x])_=E=>{y.click&&y.click.call(E.target,E,E.target)},(w=n.getCustomButtonIconClass(y))||(w=n.getIconClass(x,s))||(S=y.text),j=y.hint||y.text;else if(b=i[x]){m.push(x),_=()=>{a.changeView(x)},(S=b.buttonTextOverride)||(w=n.getIconClass(x,s))||(S=b.buttonTextDefault);let E=b.buttonTextOverride||b.buttonTextDefault;j=jc(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[E,x],E)}else if(a[x])if(_=()=>{a[x]()},(S=l[x])||(w=n.getIconClass(x,s))||(S=u[x]),x==="prevYear"||x==="nextYear"){let E=x==="prevYear"?"prev":"next";j=jc(d[E]||f[E],[u.year||"year","year"],u[x])}else j=E=>jc(d[x]||f[x],[u[E]||E,E],u[x]);return{buttonName:x,buttonClick:_,buttonIcon:w,buttonText:S,buttonHint:j}})),viewsWithButtons:m,hasTitle:p}}class fge{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let hge={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const mge=wi({name:"array-event-source",eventSourceDefs:[hge]});let pge={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,i=t.eventSource.meta;jme(i.bind(null,hR(t.range,n)),a=>e({rawEvents:a}),r)}};const gge=wi({name:"func-event-source",eventSourceDefs:[pge]}),vge={method:String,extraParams:Q,startParam:String,endParam:String,timeZoneParam:String};let yge={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,i=bge(n,t.range,t.context);Ame(n.method,n.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},r)}};const xge=wi({name:"json-event-source",eventSourceRefiners:vge,eventSourceDefs:[yge]});function bge(t,e,r){let{dateEnv:n,options:i}=r,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[o]=n.timeZone),u}const wge={daysOfWeek:Q,startTime:Re,endTime:Re,duration:Re,startRecur:Q,endRecur:Q};let Sge={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=$fe(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=hs(e,{start:t.startRecur,end:t.endRecur});return n?Ege(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const _ge=wi({name:"simple-recurring-event",recurringTypes:[Sge],eventRefiners:wge});function Ege(t,e,r,n,i){let a=t?zM(t):null,s=st(i.start),o=i.end,l=[];for(;s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,l.push(n.createMarker(r.toDate(u)))),s=ar(s,1)}return l}const jge=wi({name:"change-handler",optionChangeHandlers:{events(t,e){nN([t],e)},eventSources:nN}});function nN(t,e){let r=Vw(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let i of t){let a=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===i){r.splice(s,1),a=!0;break}a||n.push(i)}for(let i of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of n)e.calendarApi.addEventSource(i)}function Age(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},hR(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Tge(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",Za(t,e))}const Nge=[mge,gge,xge,_ge,jge,wi({name:"misc",isLoadingFuncs:[t=>BR(t.eventSources)],propSetHandlers:{dateProfile:Age,eventStore:Tge}})];class Cge{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new Iw(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function kge(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,gt(e.titleFormat||Oge(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Oge(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=Jh(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class iN{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Dge{constructor(e){this.computeCurrentViewData=we(this._computeCurrentViewData),this.organizeRawLocales=we(Mpe),this.buildLocale=we(FR),this.buildPluginHooks=Lpe(),this.buildDateEnv=we(Pge),this.buildTheme=we(Mge),this.parseToolbars=we(uge),this.buildViewSpecs=we(Wpe),this.buildDateProfileGenerator=cf(Rge),this.buildViewApi=we(Ige),this.buildViewUiProps=cf(Fge),this.buildEventUiBySource=we($ge,bn),this.buildEventUiBases=we(Lge),this.parseContextBusinessHours=cf(Uge),this.buildTitle=we(kge),this.nowManager=new iN,this.emitter=new Op,this.actionRunner=new Cge(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new iN;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(i,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=Kpe(n.calendarOptions,n.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);si(l.activeRange,o)||(o=l.currentRange.start);for(let h of n.pluginHooks.contextInit)h(s);let u=Zpe(n.calendarOptions,l,s),d={dynamicOptionOverrides:r,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Mr(),renderableEventStore:Mr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));dv(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:i}=this,a=Qpe(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),o=qpe(n.currentViewType,e),l=this.computeCurrentViewData(o,s,r.optionOverrides,a);r.calendarApi.currentDataManager=this,i.setThisContext(r.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(d)),d=Ype(d,e),f=Xpe(f,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!si(f.currentRange,d))&&(d=f.currentRange.start);let h=Jpe(n.eventSources,e,f,u),m=Zhe(n.eventStore,e,h,f,u),g=BR(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||m,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),b=this.buildEventUiBases(g.defs,v,y),_={dynamicOptionOverrides:a,currentViewType:o,currentDate:d,dateProfile:f,eventSources:h,eventStore:m,renderableEventStore:g,selectionConfig:x,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:sge(n.dateSelection,e),eventSelection:oge(n.eventSelection,e),eventDrag:lge(n.eventDrag,e),eventResize:cge(n.eventResize,e)},w=Object.assign(Object.assign({},u),_);for(let E of s.pluginHooks.reducers)Object.assign(_,E(n,e,w));let S=dv(n,u),j=dv(_,u);!S&&j?i.trigger("loading",!0):S&&!j&&i.trigger("loading",!1),this.state=_,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(r.currentViewType,i,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),r),o=i.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=ege(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=qT(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=qT(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==u[d])&&o[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,r);aN(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),d=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(i,a),h=this.parseToolbars(i,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,r){let{locales:n,locale:i}=rv([Ac,e,r]),a=this.organizeRawLocales(n),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Nge),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BT),HT),zT),l.listenerRefiners),l.optionRefiners),d={},f=rv([Ac,o,e,r]),h={},m=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,g=!1;for(let v in f)this.optionsForRefining.indexOf(v)===-1&&(f[v]===m[v]||Ra[v]&&v in m&&Ra[v](m[v],f[v]))?h[v]=p[v]:u[v]?(h[v]=u[v](f[v]),g=!0):d[v]=m[v];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:d}}_computeCurrentViewData(e,r,n,i){let a=r.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,r.pluginHooks,r.localeDefaults,n,i);aN(o),this.nowManager.handleInput(r.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,r,n,i,a){let s=rv([Ac,e.optionDefaults,n,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BT),HT),zT),ghe),r.listenerRefiners),r.optionRefiners),l={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let m in s)s[m]===u[m]||Ra[m]&&Ra[m](s[m],u[m])?l[m]=d[m]:(s[m]===this.currentCalendarOptionsInput[m]||Ra[m]&&Ra[m](s[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(l[m]=this.currentCalendarOptionsRefined[m]):o[m]?l[m]=o[m](s[m]):h[m]=s[m],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function Pge(t,e,r,n,i,a,s,o){let l=FR(e||s.defaultCode,s.map);return new The({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:r,firstDay:n,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function Mge(t,e){let r=e.themeClasses[t.themeSystem]||_a;return new r(t)}function Rge(t){let e=t.dateProfileGeneratorClass||XM;return new e(t)}function Ige(t,e,r){return new fge(t,e,r)}function $ge(t){return mi(t,e=>e.ui)}function Lge(t,e,r){let n={"":e};for(let i in t){let a=t[i];a.sourceId&&r[a.sourceId]&&(n[i]=r[a.sourceId])}return n}function Fge(t){let{options:e}=t;return{eventUiSingleBase:sm({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:sm({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function dv(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function Uge(t){return ome(t.options.businessHours,t)}function aN(t,e){for(let r in t)console.warn(`Unknown option '${r}'`+(e?` for view '${e}'`:""))}class Bge extends ze{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return L("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(o==="title")a=!1,i.push(L("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=o===r.activeButton,m=!r.isTodayEnabled&&o==="today"||!r.isPrevEnabled&&o==="prev"||!r.isNextEnabled&&o==="next",p=[`fc-${o}-button`,n.getClass("button")];h&&p.push(n.getClass("buttonActive")),i.push(L("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:m,"aria-pressed":h,className:p.join(" "),onClick:l},u||(d?L("span",{className:d,role:"img"}):"")))}}if(i.length>1){let s=a&&n.getClass("buttonGroup")||"";return L("div",{className:s},...i)}return i[0]}}class sN extends ze{render(){let{model:e,extraClassName:r}=this.props,n=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(n=!0,i=s.left):i=s.start,s.right?(n=!0,a=s.right):a=s.end,L("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,r){let{props:n}=this;return L(Bge,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class Hge extends ze{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Ln(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return n?r.availableWidth!==null?a=r.availableWidth/n:s=`${1/n*100}%`:a=e.height||"",L("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class zge extends _l{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:i}=this,{context:a}=i,s=Jo(n);if(s&&i.isValidSegDownEl(r.target)){let o=ir(r.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new mt(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},this.destroy=LM(e.el,"click",".fc-event",this.handleSegClick)}}class Wge extends _l{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{Jo(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=Sfe(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:i}=this,{context:a}=i,s=Jo(n);(!r||i.isValidSegDownEl(r.target))&&a.emitter.trigger(e,{el:n,event:new mt(a,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi})}}class Vge extends Ts{constructor(){super(...arguments),this.buildViewContext=we(khe),this.buildViewPropTransformers=we(qge),this.buildToolbarProps=we(Gge),this.headerRef=ur(),this.footerRef=ur(),this.interactionsStore={},this.state={viewLabelId:Tp()},this.registerInteractiveComponent=(e,r)=>{let n=Cme(e,r),s=[zge,Wge].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=s,ux[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete ux[e.uid]},this.resizeRunner=new Iw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":n.height!=null?i=!0:n.contentHeight!=null?a=n.contentHeight:s=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return L(bi.Provider,{value:o},L(El,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return L(at,null,r.header&&L(sN,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:l},d)),L(Hge,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),r.footer&&L(sN,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let i in n)r[i]!==e[i]&&n[i](r[i],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return L(at,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=n.component;return L(s,Object.assign({},i))}}function Gge(t,e,r,n,i,a){let s=r.build(i,void 0,!1),o=r.buildPrev(e,n,!1),l=r.buildNext(e,n,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!si(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function qge(t){return t.map(e=>new e)}let Yge=class extends Ome{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;nm(()=>{Cu(L(Nme,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),L(qM.Provider,{value:this.customContentRenderId},L(Vge,Object.assign({isHeightAuto:s,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Cu(null,this.el),this.setClassNames([]),this.setHeight(""))},hfe(e),this.el=e,this.renderRunner=new Iw(this.handleRenderRequest),new Dge({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){nm(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!oa(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){IM(this.el,"height",e)}};const Kge=parseInt(String(F.version).split(".")[0]),Qge=Kge<18;class GR extends C.Component{constructor(){super(...arguments),this.elRef=C.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(F.createElement(Xge,{key:r.id,customRendering:r}));return F.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Dpe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Yge(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{If.flushSync(()=>{})});let r;e.subscribe(n=>{const i=Date.now(),a=!r;(Qge||a||this.isUpdating||this.isUnmounting||i-r<100?qR:If.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}GR.act=qR;class Xge extends C.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return If.createPortal(n,e.containerEl)}}function qR(t){t()}class Zge extends Un{constructor(){super(...arguments),this.headerElRef=ur()}renderSimpleLayout(e,r){let{props:n,context:i}=this,a=[],s=cm(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),L(im,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},L(sS,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,r,n,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&cm(o.options),u=!s.forPrint&&OR(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:hx}]}),L(im,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},L(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))}}function df(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function Ud(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function oN(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const YR=gt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function KR(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class QR extends ze{render(){let{props:e}=this;return L(lS,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:YR,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class XR extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,a=n.eventTimeFormat||YR,s=uR(i,a,r,!0,e.defaultDisplayEventEnd);return L(oS,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:fR(e.seg,r),defaultGenerator:Jge,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function Jge(t){return L(at,null,L("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&L("div",{className:"fc-event-time"},t.timeText),L("div",{className:"fc-event-title"},t.event.title||L(at,null,"")))}class eve extends ze{constructor(){super(...arguments),this.compileSegs=we(tve)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return L(RR,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return L(at,null,r.map(a=>{let s=a.eventRange.instance.instanceId;return L("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},KR(a)?L(XR,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},ra(a,e.todayRange))):L(QR,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},ra(a,e.todayRange))))}))}})}}function tve(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const rve=gt({week:"narrow"});class nve extends Un{constructor(){super(...arguments),this.rootElRef=ur(),this.state={dayNumberId:Tp()},this.handleRootEl=e=>{Ln(this.rootElRef,e),Ln(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=r;const u=r.showDayNumber&&ave(o,l.currentRange,s);return L(uS,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:ive,date:o,dateProfile:l,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>L("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&L(MR,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:lm(e,o,"week"),date:o,defaultFormat:rve}),!f.isDisabled&&(r.showDayNumber||dS(a)||r.forceDayTop)?L("div",{className:"fc-daygrid-day-top"},L(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},lm(e,o)),{id:n.dayNumberId})})):r.showDayNumber?L("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},L("a",{className:"fc-daygrid-day-number"},"")):void 0,L("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,L("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},L(eve,{allDayDate:o,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:i,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),L("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function ive(t){return t.dayNumberText||L(at,null,"")}function ave(t,e,r){const{start:n,end:i}=e,a=la(i,-1),s=r.getYear(n),o=r.getMonth(n),l=r.getYear(a),u=r.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<i.valueOf())}function ZR(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function JR(t){return ZR(t)+":"+t.lastCol}function sve(t,e,r,n,i,a,s){let o=new cve(x=>{let y=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||r===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof r=="number"&&(o.maxStackCnt=r,o.hiddenConsumes=!0);let l=[],u=[];for(let x=0;x<t.length;x+=1){let y=t[x],b=JR(y);i[b]!=null?l.push({index:x,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let d=o.addSegs(l),f=o.toRects(),{singleColPlacements:h,multiColPlacements:m,leftoverMargins:p}=ove(f,t,s),g=[],v=[];for(let x of u){m[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=x.firstCol;y<=x.lastCol;y+=1)h[y].push({seg:vo(x,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)g.push(0);for(let x of d){let y=t[x.index],b=x.span;m[b.start].push({seg:vo(y,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=b.start;_<b.end;_+=1)g[_]+=1,h[_].push({seg:vo(y,_,_+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)v.push(p[x]);return{singleColPlacements:h,multiColPlacements:m,moreCnts:g,moreMarginTops:v}}function ove(t,e,r){let n=lve(t,r.length),i=[],a=[],s=[];for(let o=0;o<r.length;o+=1){let l=n[o],u=[],d=0,f=0;for(let m of l){let p=e[m.index];u.push({seg:vo(p,o,o+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-d}),d=m.levelCoord+m.thickness}let h=[];d=0,f=0;for(let m of l){let p=e[m.index],g=m.span.end-m.span.start>1,v=m.span.start===o;f+=m.levelCoord-d,d=m.levelCoord+m.thickness,g?(f+=m.thickness,v&&h.push({seg:vo(p,m.span.start,m.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):v&&(h.push({seg:vo(p,m.span.start,m.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:f}),f=0)}i.push(u),a.push(h),s.push(f)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function lve(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let i=n.span.start;i<n.span.end;i+=1)r[i].push(n);return r}function vo(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let i=t.eventRange,a=i.range,s=hs(a,{start:n[e].date,end:ar(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class cve extends bR{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,i=a=>!this.forceHidden[Ja(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(i);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=Ja(s);if(!a[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:iS(s.span,r.span)}),f=Ja(d);a[f]=!0,i[o][l]=d,n.push(d),this.splitEntry(s,r,n)}else a[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class eI extends Un{constructor(){super(...arguments),this.cellElRefs=new ei,this.frameElRefs=new ei,this.fgElRefs=new ei,this.segHarnessRefs=new ei,this.rootElRef=ur(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=e.cells.length,s=Ud(e.businessHourSegs,a),o=Ud(e.bgEventSegs,a),l=Ud(this.getHighlightSegs(),a),u=Ud(this.getMirrorSegs(),a),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:m}=sve(cR(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return L("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let x=this.renderFgSegs(v,e.forPrint?d[v]:f[v],e.todayRange,p),y=this.renderFgSegs(v,uve(u[v],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return L(nve,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[v],moreMarginTop:m[v],singlePlacements:d[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:L(at,null,L(at,null,x),L(at,null,y)),bgContent:L(at,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!bn(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=a||s||o,m=[];if(d)for(let p of r){let{seg:g}=p,{instanceId:v}=g.eventRange.instance,x=p.isVisible&&!i[v],y=p.isAbsolute,b="",_="";y&&(l.isRtl?(_=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,_=d.rights[g.firstCol]-d.rights[g.lastCol])),m.push(L("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:ZR(g),ref:h?null:this.segHarnessRefs.createRef(JR(g)),style:{visibility:x?"":"hidden",marginTop:y?"":p.marginTop,top:y?p.absoluteTop:"",left:b,right:_}},KR(g)?L(XR,Object.assign({seg:g,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:f},ra(g,n))):L(QR,Object.assign({seg:g,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:f},ra(g,n)))))}return m}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=n?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push(L("div",{key:dR(o.eventRange),className:"fc-daygrid-bg-harness",style:l},r==="bg-event"?L(DR,Object.assign({seg:o},ra(o,i))):PR(r)))}return L(at,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:i}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let l=r.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,d=new el(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new el(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,i)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}eI.addStateEquality({segHeights:bn});function uve(t,e){if(!t.length)return[];let r=dve(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function dve(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class fve extends Un{constructor(){super(...arguments),this.splitBusinessHourSegs=we(df),this.splitBgEventSegs=we(hve),this.splitFgEventSegs=we(df),this.splitDateSelectionSegs=we(df),this.splitEventDrag=we(oN),this.splitEventResize=we(oN),this.rowRefs=new ei}render(){let{props:e,context:r}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return L(El,{unit:"day"},(f,h)=>L(at,null,e.cells.map((m,p)=>L(eI,{ref:this.rowRefs.createRef(p),key:m.length?m[0].date.toISOString():p,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:i[p],eventSelection:e.eventSelection,bgEventSegs:a[p],fgEventSegs:s[p],dateSelectionSegs:o[p],eventDrag:l[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new el(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new el(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:i}=this,a=n.leftToIndex(e),s=i.topToIndex(r);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:n.lefts[a],right:n.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,i=ar(n,1);return{start:n,end:i}}}function hve(t,e){return df(t.filter(mve),e)}function mve(t){return t.eventRange.def.allDay}class pve extends Un{constructor(){super(...arguments),this.elRef=ur(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:i}=e,a=n===!0||r===!0;a&&!i&&(a=!1,r=null,n=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return L("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,L("tbody",{role:"presentation"},L(fve,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=gve(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),i=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function gve(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${Jfe(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${Bw(e.currentDate)}"]`)),r}class vve extends AR{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class tI extends Un{constructor(){super(...arguments),this.slicer=new vve,this.tableRef=ur()}render(){let{props:e,context:r}=this;return L(pve,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class yve extends Zge{constructor(){super(...arguments),this.buildDayTableModel=we(xve),this.headerRef=ur(),this.tableRef=ur()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,r),a=e.dayHeaders&&L(_R,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>L(tI,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function xve(t,e){let r=new ER(t.renderRange,e);return new jR(r,/year|month|week/.test(t.currentRangeUnit))}class bve extends XM{buildRenderRange(e,r,n){let i=super.buildRenderRange(e,r,n),{props:a}=this;return wve({currentRange:i,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function wve(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:i}=r,a;if(t.snapToWeek&&(n=e.startOfWeek(n),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=IT(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(ar(r.end,-1))),o=Math.ceil(Hfe(s,i));i=IT(i,6-o)}return{start:n,end:i}}var Sve=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Rw(Sve);var _ve=wi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:yve,dateProfileGeneratorClass:bve},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Eve extends Ime{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?fme(e)?["timed","allDay"]:["allDay"]:["timed"]}}const jve=gt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function rI(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return L(bi.Consumer,null,r=>{if(!t.isLabeled)return L("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:i,viewApi:a}=r,s=i.slotLabelFormat==null?jve:Array.isArray(i.slotLabelFormat)?gt(i.slotLabelFormat[0]):gt(i.slotLabelFormat),o={level:0,time:t.time,date:n.toDate(t.date),view:a,text:n.format(t.date,s)};return L(Lr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:Ave,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>L("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},L(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Ave(t){return t.text}class Tve extends ze{render(){return this.props.slatMetas.map(e=>L("tr",{key:e.key},L(rI,Object.assign({},e))))}}const Nve=gt({week:"short"}),Cve=5;class kve extends Un{constructor(){super(...arguments),this.allDaySplitter=new Eve,this.headerElRef=ur(),this.rootElRef=ur(),this.scrollerElRef=ur(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,a=i.renderRange,o=As(a.start,a.end)===1?lm(this.context,a.start,"week"):{};return n.weekNumbers&&e==="day"?L(MR,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:Nve},l=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},L(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):L("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},L("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,i={text:r.allDayText,view:n};return L(Lr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Ove,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},a=>L("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},L(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:i,props:a}=this,s=[],o=cm(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(s.push({type:"body",key:"all-day",chunk:{content:r}}),s.push({type:"body",key:"all-day-divider",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),L(im,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},L(sS,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,r,n,i,a,s,o){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&cm(u.options),h=!d.forPrint&&OR(u.options),m=[];e&&m.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>L("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>L("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:r}]}),m.push({key:"all-day-divider",type:"body",outerContent:L("tr",{role:"presentation",className:"fc-scrollgrid-section"},L("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let p=u.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>L("div",{className:"fc-timegrid-axis-chunk"},L("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,L("tbody",null,L(Tve,{slatMetas:s}))),L("div",{className:"fc-timegrid-now-indicator-container"},L(El,{unit:p?"minute":"day"},v=>{let x=p&&o&&o.safeComputeTop(v);return typeof x=="number"?L(cS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:hx},{key:"cols",content:hx}]}),L(im,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},L(l,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=Cve),{dayMaxEvents:e,dayMaxEventRows:r}}}function Ove(t){return t.text}class Dve{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(si(r.currentRange,e)){let n=st(e),i=e.valueOf()-n.valueOf();if(i>=pn(r.slotMinTime)&&i<pn(r.slotMaxTime))return this.computeTimeTop(Re(i))}return null}computeDateTop(e,r){return r||(r=st(e)),this.computeTimeTop(Re(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,i=r.els.length,a=(e.milliseconds-pn(n.slotMinTime))/pn(this.slotDuration),s,o;return a=Math.max(0,a),a=Math.min(i,a),s=Math.floor(a),s=Math.min(s,i-1),o=a-s,r.tops[s]+r.getHeight(s)*o}}class Pve extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:i}=e;return L("tbody",null,e.slatMetas.map((a,s)=>{let o={time:a.time,date:r.dateEnv.toDate(a.date),view:r.viewApi};return L("tr",{key:a.key,ref:i.createRef(a.key)},e.axis&&L(rI,Object.assign({},a)),L(Lr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class Mve extends ze{constructor(){super(...arguments),this.rootElRef=ur(),this.slatElRefs=new ei}render(){let{props:e,context:r}=this;return L("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},L("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,L(Pve,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new Dve(new el(this.rootElRef.current,Rve(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Rve(t,e){return e.map(r=>t[r.key])}function Ql(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function lN(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}class Ive extends ze{render(){let{props:e}=this;return L(RR,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>iI(e.hiddenSegs,e),defaultGenerator:$ve,forceTimed:!0},r=>L(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function $ve(t){return t.shortText}function Lve(t,e,r){let n=new bR;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let i=n.addSegs(t),a=Kme(i),s=Fve(n);return s=zve(s,1),{segRects:Wve(s),hiddenGroups:a}}function Fve(t){const{entriesByLevel:e}=t,r=hS((n,i)=>n+":"+i,(n,i)=>{let a=Hve(t,n,i),s=cN(a,r),o=e[n][i];return[Object.assign(Object.assign({},o),{nextLevelNodes:s[0]}),o.thickness+s[1]]});return cN(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function cN(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:i}=t,a=n,s=[];for(;a<i;)s.push(e(r,a)),a+=1;return s.sort(Uve),[s.map(Bve),s[0][1]]}function Uve(t,e){return e[1]-t[1]}function Bve(t){return t[0]}function Hve(t,e,r){let{levelCoords:n,entriesByLevel:i}=t,a=i[e][r],s=n[e]+a.thickness,o=n.length,l=e;for(;l<o&&n[l]<s;l+=1);for(;l<o;l+=1){let u=i[l],d,f=fx(u,a.span.start,dx),h=f[0]+f[1],m=h;for(;(d=u[m])&&d.span.start<a.span.end;)m+=1;if(h<m)return{level:l,lateralStart:h,lateralEnd:m}}return null}function zve(t,e){const r=hS((n,i,a)=>Ja(n),(n,i,a)=>{let{nextLevelNodes:s,thickness:o}=n,l=o+a,u=o/l,d,f=[];if(!s.length)d=e;else for(let m of s)if(d===void 0){let p=r(m,i,l);d=p[0],f.push(p[1])}else{let p=r(m,d,0);f.push(p[1])}let h=(d-i)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return t.map(n=>r(n,0,0)[1])}function Wve(t){let e=[];const r=hS((i,a,s)=>Ja(i),(i,a,s)=>{let o=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:s,stackForward:0});return e.push(o),o.stackForward=n(i.nextLevelNodes,a+i.thickness,s+1)+1});function n(i,a,s){let o=0;for(let l of i)o=Math.max(r(l,a,s),o);return o}return n(t,0,0),e}function hS(t,e){const r={};return(...n)=>{let i=t(...n);return i in r?r[i]:r[i]=e(...n)}}function uN(t,e,r=null,n=0){let i=[];if(r)for(let a=0;a<t.length;a+=1){let s=t[a],o=r.computeDateTop(s.start,e),l=Math.max(o+(n||0),r.computeDateTop(s.end,e));i.push({start:Math.round(o),end:Math.round(l)})}return i}function Vve(t,e,r,n){let i=[],a=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?i.push({index:u,thickness:1,span:d}):a.push(t[u])}let{segRects:s,hiddenGroups:o}=Lve(i,r,n),l=[];for(let u of s)l.push({seg:t[u.index],rect:u});for(let u of a)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:o}}const Gve=gt({hour:"numeric",minute:"2-digit",meridiem:!1});class nI extends ze{render(){return L(lS,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Gve}))}}class qve extends ze{constructor(){super(...arguments),this.sortEventSegs=we(cR)}render(){let{props:e,context:r}=this,{options:n}=r,i=n.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return L(uS,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),L("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),L("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),dS(n)&&L(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,i,a,s){let{props:o}=this;return o.forPrint?iI(e,o):this.renderPositionedFgSegs(e,r,n,i,a,s)}renderPositionedFgSegs(e,r,n,i,a,s){let{eventMaxStack:o,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:m,todayRange:p,nowDate:g}=this.props,v=n||i||a,x=uN(e,f,h,d),{segPlacements:y,hiddenGroups:b}=Vve(e,x,u,o);return L(at,null,this.renderHiddenGroups(b,e),y.map(_=>{let{seg:w,rect:S}=_,j=w.eventRange.instance.instanceId,E=v||!!(!r[j]&&S),A=fv(S&&S.span),k=!v&&S?this.computeSegHStyle(S):{left:0,right:0},D=!!S&&S.stackForward>0,P=!!S&&S.span.end-S.span.start<l;return L("div",{className:"fc-timegrid-event-harness"+(D?" fc-timegrid-event-harness-inset":""),key:s||j,style:Object.assign(Object.assign({visibility:E?"":"hidden"},A),k)},L(nI,Object.assign({seg:w,isDragging:n,isResizing:i,isDateSelecting:a,isSelected:j===m,isShort:P},ra(w,p,g))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u}=this.props;return L(at,null,e.map(d=>{let f=fv(d.span),h=Yve(d.entries,r);return L(Ive,{key:HM(IR(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u})}))}renderFillSegs(e,r){let{props:n,context:i}=this,s=uN(e,n.date,n.slatCoords,i.options.eventMinHeight).map((o,l)=>{let u=e[l];return L("div",{key:dR(u.eventRange),className:"fc-timegrid-bg-harness",style:fv(o)},r==="bg-event"?L(DR,Object.assign({seg:u},ra(u,n.todayRange,n.nowDate))):PR(r))});return L(at,null,s)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((i,a)=>L(cS,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(i.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,i=n.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness,o,l;i&&(s=Math.min(1,a+(s-a)*2)),r?(o=1-s,l=a):(o=a,l=1-s);let u={zIndex:e.stackDepth+1,left:o*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function iI(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:i,eventResize:a}){let s=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return L(at,null,t.map(o=>{let l=o.eventRange.instance.instanceId;return L("div",{key:l,style:{visibility:s[l]?"hidden":""}},L(nI,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},ra(o,e,r))))}))}function fv(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Yve(t,e){return t.map(r=>e[r.index])}class Kve extends ze{constructor(){super(...arguments),this.splitFgEventSegs=we(Ql),this.splitBgEventSegs=we(Ql),this.splitBusinessHourSegs=we(Ql),this.splitNowIndicatorSegs=we(Ql),this.splitDateSelectionSegs=we(Ql),this.splitEventDrag=we(lN),this.splitEventResize=we(lN),this.rootElRef=ur(),this.cellElRefs=new ei}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return L("div",{className:"fc-timegrid-cols",ref:this.rootElRef},L("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,L("tbody",{role:"presentation"},L("tr",{role:"row"},e.axis&&L("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},L("div",{className:"fc-timegrid-col-frame"},L("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&L(cS,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,m)=>L(qve,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:a[m],bgEventSegs:s[m],businessHourSegs:o[m],nowIndicatorSegs:l[m],dateSelectionSegs:u[m],eventDrag:d[m],eventResize:f[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new el(this.rootElRef.current,Qve(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Qve(t,e){return e.map(r=>t[r.key])}class Xve extends Un{constructor(){super(...arguments),this.processSlotOptions=we(Zve),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let i=n.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),r(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return L("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},L(Mve,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),L(Kve,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:i}=this.context,{colCoords:a}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),d=a.leftToIndex(e),f=o.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],m=o.positions.tops[f],p=o.positions.getHeight(f),g=(r-m)/p,v=Math.floor(g*u),x=f*u+v,y=this.props.cells[d].date,b=ax(s.slotMinTime,Lfe(l,x)),_=n.add(y,b),w=n.add(_,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:_,end:w},allDay:!1},h.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:m,bottom:m+p},layer:0}}return null}}function Zve(t,e){let r=e||t,n=Uw(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}class Jve extends AR{sliceRange(e,r){let n=[];for(let i=0;i<r.length;i+=1){let a=hs(e,r[i]);a&&n.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:i})}return n}}class eye extends Un{constructor(){super(...arguments),this.buildDayRanges=we(tye),this.slicer=new Jve,this.timeColsRef=ur()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:a,nextDayThreshold:s}=r.options,o=this.buildDayRanges(i,n,r.dateEnv);return L(El,{unit:a?"minute":"day"},(l,u)=>L(Xve,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&this.slicer.sliceNowDate(l,n,s,r,o),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function tye(t,e,r){let n=[];for(let i of t.headerDates)n.push({start:r.add(i,e.slotMinTime),end:r.add(i,e.slotMaxTime)});return n}const dN=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function rye(t,e,r,n,i){let a=new Date(0),s=t,o=Re(0),l=r||nye(n),u=[];for(;pn(s)<pn(e);){let d=i.add(a,s),f=Uw(o,l)!==null;u.push({date:d,time:s,key:d.toISOString(),isoTimeStr:ehe(d),isLabeled:f}),s=ax(s,n),o=ax(o,n)}return u}function nye(t){let e,r,n;for(e=dN.length-1;e>=0;e-=1)if(r=Re(dN[e]),n=Uw(r,t),n!==null&&n>1)return r;return t}class iye extends kve{constructor(){super(...arguments),this.buildTimeColsModel=we(aye),this.buildSlatMetas=we(rye)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:i}=this,{dateProfile:a}=i,s=this.buildTimeColsModel(a,n),o=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&L(_R,{dates:s.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(g=>L(tI,Object.assign({},o.allDay,{dateProfile:a,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),p=g=>L(eye,Object.assign({},o.timed,{dayTableModel:s,dateProfile:a,axis:d,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,m,p,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,m,p)}}function aye(t,e){let r=new ER(t.renderRange,e);return new jR(r,!1)}var sye='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Rw(sye);const oye={allDaySlot:Boolean};var lye=wi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:oye,views:{timeGrid:{component:iye,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});aS.touchMouseIgnoreWait=500;let px=0,um=0,gx=!1;class aI{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&cye(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let i=r.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,uye()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:n-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Op,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),dye()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),fye()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||ir(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){gx=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ir(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return px||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(gx=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,i=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}createEventFromTouch(e,r){let n=e.touches,i,a,s=0,o=0;return n&&n.length?(i=n[0].pageX,a=n[0].pageY):(i=e.pageX,a=e.pageY),r?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function cye(t){return t.button===0&&!t.ctrlKey}function uye(){px+=1,setTimeout(()=>{px-=1},aS.touchMouseIgnoreWait)}function dye(){um+=1,um===1&&window.addEventListener("touchmove",sI,{passive:!1})}function fye(){um-=1,um||window.removeEventListener("touchmove",sI,{passive:!1})}function sI(t){gx&&t.preventDefault()}class hye{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",Ec(n,{left:i.left,top:i.top}),_fe(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&($w(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Ec(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),Ec(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class oI extends nS{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class lI extends oI{constructor(e,r){super(new qme(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Vme(this.scrollController.el)}}class mye extends oI{constructor(e){super(new Yme,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const fN=typeof performance=="function"?performance.now:Date.now;class pye{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=fN();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,i=r-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(fN()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*r,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,d=r-o.top,f=o.bottom-r;l>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:s,name:"bottom",distance:f}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new mye(!1):new lI(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class Yu extends Xme{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Efe(document.body),Afe(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,jfe(document.body),Tfe(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new aI(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new hye,this.autoScroller=new pye}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class gye{constructor(e){this.el=e,this.origRect=rS(e),this.scrollCaches=xR(e).map(r=>new lI(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let i of this.scrollCaches)if(!vye(i.getEventTarget())&&!Dme(n,i.clientRect))return!1;return!0}}function vye(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Dp{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Op}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,i=e.subjectEl,a;i instanceof HTMLElement&&(a=rS(i),n=Pme(n,a));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&a){let o=gR(a,s.rect);o&&(n=Mme(o))}this.coordAdjust=Rme(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!Pp(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=mi(this.droppableStore,e=>(e.component.prepareHits(),new gye(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:i}=this,a=null;for(let s in n){let o=n[s].component,l=i[s];if(l&&l.isWithinClipping(e,r)){let u=l.computeLeft(),d=l.computeTop(),f=e-u,h=r-d,{origRect:m}=l,p=m.right-m.left,g=m.bottom-m.top;if(f>=0&&f<p&&h>=0&&h<g){let v=o.queryHit(f,h,p,g);v&&Cp(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=d,v.rect.bottom+=d,a=v)}}}return a}}function Pp(t,e){return!t&&!e?!0:!!t!=!!e?!1:wme(t.dateSpan,e.dateSpan)}function cI(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,yye(t,e.dateEnv)),r}function yye(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class xye extends _l{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:i}=this,a=n.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&Pp(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},cI(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Yu(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new Dp(this.dragging,eS(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class bye extends _l{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,d=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!d),l.delay=s.isTouch?wye(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=Sye(f,s,l.pluginHooks.dateSelectionTransformers)),(!u||!npe(u,s.dateProfile,l))&&(d=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),d?Lw():Fw(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(sR(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,i=this.dragging=new Yu(e.el);i.touchScrollAllowed=!1,i.minDistance=n.selectMinDistance||0,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new Dp(this.dragging,eS(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function wye(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function Sye(t,e,r){let n=t.dateSpan,i=e.dateSpan,a=[n.range.start,n.range.end,i.range.start,i.range.end];a.sort(Dfe);let s={};for(let o of r){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=n.allDay,s}class Ku extends _l{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:d}=u,{options:f}=l.context,h=l.context;this.subjectEl=s.subjectEl;let m=this.subjectSeg=Jo(s.subjectEl),g=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=Qw(h.getCurrentData().eventStore,g),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&g!==l.props.eventSelection?Eye(l):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=ir(o,".fc"),d.revertDuration=f.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!ir(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new mt(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,m=null,p=!1,g={affectedEvents:l,mutatedEvents:Mr(),isEvent:!0};if(s){f=s.context;let v=f.options;d===f||v.editable&&v.droppable?(h=_ye(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(m=Jw(l,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=m,TR(g,s.dateProfile,f)||(p=!0,h=null,m=null,g.mutatedEvents=Mr()))):f=null}this.displayDrag(f,g),p?Lw():Fw(),o||(d===f&&Pp(u,s)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,m=new mt(o,f,h),p=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:s.origEvent,view:l}),d){if(u===o){let x=new mt(o,g.defs[f.defId],h?g.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:g});let y={oldEvent:m,event:x,relatedEvents:Za(g,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}},b={};for(let _ of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,_(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),b),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let x={event:m,relatedEvents:Za(p,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:p})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:p}),o.emitter.trigger("eventRemove",x);let y=g.defs[f.defId],b=g.instances[h.instanceId],_=new mt(u,y,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let w={event:_,relatedEvents:Za(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",w),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},cI(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},w),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,i=this.dragging=new Yu(e.el);i.pointer.selector=Ku.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new Dp(this.dragging,ux);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Mr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Ku.SELECTOR=".fc-event-draggable, .fc-event-resizable";function _ye(t,e,r,n){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=st(r):s=r);let u=to(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let d={datesDelta:u,standardProps:l};for(let f of n)f(d,t,e);return d}function Eye(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class jye extends _l{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=Jo(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=Qw(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=Jo(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new mt(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,m=null,p=!1,g={affectedEvents:u,mutatedEvents:Mr(),isEvent:!0};a&&(a.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,a)||(h=Aye(d,a,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(m=Jw(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=m,TR(g,a.dateProfile,l)||(p=!0,h=null,m=null,g.mutatedEvents=null)),m?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),p?Lw():Fw(),s||(h&&Pp(d,a)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=m)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new mt(s,o,l),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let h=new mt(s,f.defs[o.defId],l?f.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let m={oldEvent:u,event:h,relatedEvents:Za(f,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Re(0),endDelta:this.validMutation.endDelta||Re(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",m)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new Yu(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let i=this.hitDragging=new Dp(this.dragging,eS(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ir(e.subjectEl,".fc-event")}}function Aye(t,e,r,n){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=to(a,s,i,t.largeUnit);if(r){if(i.add(n.start,o)<n.end)return{startDelta:o}}else if(i.add(n.end,o)>n.start)return{endDelta:o};return null}class Tye{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let i=this.context.options.unselectCancel,a=$M(n.origEvent);this.matchesCancel=!!ir(a,i),this.matchesEvent=!!ir(a,Ku.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new aI(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Nye={fixedMirrorParent:Q},Cye={dateClick:Q,eventDragStart:Q,eventDragStop:Q,eventDrop:Q,eventResizeStart:Q,eventResizeStop:Q,eventResize:Q,drop:Q,eventReceive:Q,eventLeave:Q};aS.dataAttrPrefix="";var kye=wi({name:"@fullcalendar/interaction",componentInteractions:[xye,bye,Ku,jye],calendarInteractions:[Tye],elementDraggingImpl:Yu,optionRefiners:Nye,listenerRefiners:Cye});const Oye=()=>{const{venuesData:t,workers:e,currentSheet:r,salesData:n,setCurrentSheet:i,addCalendarEvent:a,updateCalendarEvent:s,deleteCalendarEvent:o,loadCalendarEvents:l,supabaseAPI:u}=Nt(),[d,f]=C.useState("dayGridMonth"),[h,m]=C.useState([]),[p,g]=C.useState(!1),[v,x]=C.useState(!1),[y,b]=C.useState(new Date().toISOString().split("T")[0]),[_,w]=C.useState(new Date),[S,j]=C.useState({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0}),[E,A]=C.useState(null),[k,D]=C.useState({show:!1,x:0,y:0,date:null,venue:null,sales:[]}),P=C.useRef(null),O=C.useRef(null),z=async()=>{try{const T="trailer_history",N=await u.readTable(T);if(N.success){const R=N.data.map(ee=>ac(ee,r)),I=r==="TRAILER_HISTORY"?"Trailer":"Camper";return R.filter(ee=>ee.store===I)}return[]}catch{return[]}},W=()=>{const T=r==="TRAILER_HISTORY"?"Trailer":"Camper";return n.filter(N=>N.store===T)};C.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const G=T=>{if(!T)return[];const N=t.find(ce=>ce.id===T);if(!N)return[];const R=W(),I=new Date().toISOString().split("T")[0],Y=R.filter(ce=>{const fe=nr(ce.date),be=ce.venue?ce.venue.trim().toLowerCase():null,K=N.promo?N.promo.trim().toLowerCase():null;return be&&K&&be===K&&fe&&fe.toISOString().split("T")[0]<I}).sort((ce,fe)=>{const be=nr(ce.date);return nr(fe.date)-be}),ee={};return Y.forEach(ce=>{const fe=nr(ce.date);if(fe){const be=fe.toISOString().split("T")[0];ee[be]||(ee[be]={date:be,totalGross:0,totalNet:0,visitCount:0}),ee[be].totalGross+=parseFloat(ce.grossSales)||0,ee[be].totalNet+=parseFloat(ce.netSales)||0,ee[be].visitCount+=1}}),Object.values(ee).sort((ce,fe)=>new Date(fe.date)-new Date(ce.date)).slice(0,5)},M=T=>{const{date:N,jsEvent:R}=T,I=N.toISOString().split("T")[0];P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{const ee=h.filter(je=>je.date===I).map(je=>je.extendedProps.venue).filter(je=>je).filter((je,Ue,Ke)=>Ke.findIndex(Qt=>Qt.id===je.id)===Ue),ae=W(),ce=ae.filter(je=>{const Ue=nr(je.date);return Ue&&Ue.toISOString().split("T")[0]===I}),fe=ce.map(je=>{const Ue=je.venue?je.venue.trim().toLowerCase():null;return Ue?t.find(Ke=>(Ke.promo?Ke.promo.trim().toLowerCase():null)===Ue):null}).filter(je=>je).filter((je,Ue,Ke)=>Ke.findIndex(Qt=>Qt.id===je.id)===Ue),be=ae.map(je=>{const Ue=je.venue?je.venue.trim().toLowerCase():null;return Ue?t.find(Ke=>(Ke.promo?Ke.promo.trim().toLowerCase():null)===Ue):null}).filter(je=>je).filter((je,Ue,Ke)=>Ke.findIndex(Qt=>Qt.id===je.id)===Ue),me=[...ee,...fe,...be].filter((je,Ue,Ke)=>Ke.findIndex(Qt=>Qt.id===je.id)===Ue);let pe=me.length>0?me[0]:null;if(!pe&&ce.length>0){const je=ce.map(Ue=>{const Ke=Ue.venue?Ue.venue.trim().toLowerCase():null;return Ke?t.find(Si=>(Si.promo?Si.promo.trim().toLowerCase():null)===Ke):null}).filter(Ue=>Ue).filter((Ue,Ke,Qt)=>Qt.findIndex(Si=>Si.id===Ue.id)===Ke);je.length>0&&(pe=je[0])}pe||(pe={id:"no-data",promo:"No Sales Data for This Date",addressCity:"Unknown"}),pe||(pe={id:"default",promo:"No Venue Data",addressCity:"Unknown"});let Se=[];pe.id!=="default"&&pe.id!=="no-data"&&(Se=G(pe.id),n.filter(je=>{const Ue=je.venue?je.venue.trim().toLowerCase():null,Ke=pe.promo?pe.promo.trim().toLowerCase():null;return Ue&&Ue===Ke}),[...new Set(n.map(je=>je.venue).filter(Boolean))]),Se.length===0&&(pe.id==="no-data"?Se=[{date:"No previous visits",totalGross:0,totalNet:0,visitCount:0}]:pe.id!=="default"&&(Se=[{date:"2025-07-15",totalGross:1250,totalNet:1100,visitCount:2},{date:"2025-07-12",totalGross:800,totalNet:720,visitCount:1},{date:"2025-07-08",totalGross:2100,totalNet:1890,visitCount:3}]));const ye=320,Te=Math.min(Math.max(Se.length*40+80,120),280),qe=window.innerWidth,Bt=window.innerHeight,Ye=10;let Et=R.clientX+Ye,Fe=R.clientY+Ye;if(Et+ye>qe-Ye&&(Et=R.clientX-ye-Ye),Fe+Te>Bt-Ye&&(Fe=R.clientY-Te-Ye),Fe<Ye&&(Fe=Ye),Et<Ye&&(Et=Ye),Et+ye>qe-Ye&&(Et=qe-ye-Ye),Et=Math.max(Ye,Math.min(Et,qe-ye-Ye)),Fe=Math.max(Ye,Math.min(Fe,Bt-Te-Ye)),pe&&pe.promo&&pe.promo.toLowerCase().includes("test event")){D(je=>({...je,show:!1}));return}D({show:!0,x:Et,y:Fe,date:I,venue:pe,sales:Se})},100)},$=()=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{D(T=>({...T,show:!1}))},300)};C.useEffect(()=>{if(O.current&&y){const T=O.current.getApi();try{T.gotoDate(y)}catch(N){console.error("Error navigating to date:",N)}}},[y]);const U=T=>{if(f(T),O.current){const N=O.current.getApi();try{N.changeView(T)}catch(R){console.error("Error changing view:",R)}}};C.useEffect(()=>{(async()=>{try{const N=await l(),R=N.success?N.data:[],I=[],Y=await z();if(Y.length>0){const ae=Y.filter(ce=>ce.venue!=="WORK DAY");if(ae.length>0){const ce={};ae.forEach((fe,be)=>{const K=nr(fe.date);if(K){const me=K.toISOString().split("T")[0],pe=fe.venue||"Unknown Venue",Se=`${me}-${pe}`;ce[Se]||(ce[Se]={date:me,venue:pe,sales:[],totalGross:0,totalNet:0,confirmedCount:0,unconfirmedCount:0}),ce[Se].sales.push(fe);const ye=parseFloat(fe.grossSales)||0,Te=parseFloat(fe.netSales)||0;ce[Se].totalGross+=ye,ce[Se].totalNet+=Te,ye<=0,(fe.status||"").toLowerCase().replace(/\s+/g,"")==="confirmed"?ce[Se].confirmedCount++:ce[Se].unconfirmedCount++}}),Object.values(ce).forEach((fe,be)=>{const K=[],me=Math.min(3,Math.max(1,Math.ceil(fe.sales.length/2)));for(let qe=0;qe<me;qe++){const Bt=be%e.length,Ye=e[Bt];Ye&&Ye.name&&!K.includes(Ye.name)&&K.push(Ye.name)}const pe=fe.unconfirmedCount===0?"Confirmed":"Unconfirmed",Se=fe.unconfirmedCount===0?"#22c55e":"#dcfce7",ye=fe.unconfirmedCount===0?"#16a34a":"#22c55e";fe.totalGross<=0;const Te={id:`sale-${fe.date}-${fe.venue}-${be}`,title:`Sale: ${fe.venue}`,date:fe.date,backgroundColor:Se,borderColor:ye,extendedProps:{type:"sale",workers:K,worker:K.join(", "),hours:"8",venue:fe.venue,address:fe.venue,grossSales:fe.totalGross,netSales:fe.totalNet,entryCount:fe.sales.length,confirmedCount:fe.confirmedCount,unconfirmedCount:fe.unconfirmedCount,status:pe}};I.push(Te)})}}const ee=[...R,...I];m(ee)}catch(N){console.error("Error loading events:",N),m([])}})()},[t,e,r,l]);const B=T=>{b(T.startStr),j({title:"Work Day",date:T.startStr,workers:[],hours:"",venueId:"",isWorkDay:!0}),g(!0)},H=T=>{var R;const N=T.event;if(T.jsEvent.detail===2){const{extendedProps:I}=N;let Y=[];I.workers&&Array.isArray(I.workers)?Y=I.workers:I.worker&&(Y=I.worker.split(",").map(ee=>ee.trim()).filter(ee=>ee)),A(N),j({title:N.title||"",date:N.startStr||N.date||"",workers:Y,hours:I.hours||"",venueId:I.venueId||"",isWorkDay:I.type==="workday"||((R=N.title)==null?void 0:R.toLowerCase().includes("work day"))}),x(!0)}},V=async()=>{var T;if(E){if(!S.title||!S.workers.length){alert("Please fill in the title and select at least one worker");return}try{const N={title:S.title,date:S.date,workers:S.workers,hours:S.hours,venueId:S.venueId,venue:((T=t.find(I=>I.id===S.venueId))==null?void 0:T.promo)||"",isWorkDay:S.isWorkDay},R=await s(E.id,N);if(R.success){const I=await l();I.success?m(Y=>{const ee=Y.filter(ae=>{var ce;return((ce=ae.extendedProps)==null?void 0:ce.type)==="sale"});return[...I.data,...ee]}):m(h.map(Y=>Y.id===E.id?R.data:Y)),x(!1),A(null),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error updating event: ${R.error}`)}catch(N){console.error("Error updating event:",N),alert("Error updating event. Please try again.")}}},q=T=>{T.event},re=async()=>{if(E&&window.confirm("Are you sure you want to delete this event?"))try{const T=await o(E.id);if(T.success){const N=await l();N.success?m(R=>{const I=R.filter(Y=>{var ee;return((ee=Y.extendedProps)==null?void 0:ee.type)==="sale"});return[...N.data,...I]}):m(h.filter(R=>R.id!==E.id)),x(!1),A(null),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error deleting event: ${T.error}`)}catch(T){console.error("Error deleting event:",T),alert("Error deleting event. Please try again.")}},se=async()=>{var T;if(!S.title||!S.workers.length){alert("Please fill in the title and select at least one worker");return}try{const N={title:S.title,date:S.date,workers:S.workers,hours:S.hours,venueId:S.venueId,venue:((T=t.find(I=>I.id===S.venueId))==null?void 0:T.promo)||"",isWorkDay:S.isWorkDay},R=await a(N);if(R.success){const I=await l();I.success?m(Y=>{const ee=Y.filter(ae=>{var ce;return((ce=ae.extendedProps)==null?void 0:ce.type)==="sale"});return[...I.data,...ee]}):m([...h,R.data]),g(!1),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error adding event: ${R.error}`)}catch(N){console.error("Error adding event:",N),alert("Error adding event. Please try again.")}},de=()=>{window.print()},Ee=T=>{const{event:N}=T,{extendedProps:R}=N;let I="";return Array.isArray(R.workers)?I=R.workers.join(", "):R.worker&&(I=R.worker),c.jsxs("div",{className:"p-1 text-xs",children:[R.venue&&R.type==="sale"&&c.jsxs("div",{className:"flex items-center text-gray-700 font-medium mb-1",children:[c.jsx(xn,{className:"w-3 h-3 mr-1"}),R.venue]}),I&&I.trim()!==""&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(Dn,{className:"w-3 h-3 mr-1"}),I]}),R.hours&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(ma,{className:"w-3 h-3 mr-1"}),R.hours,"h"]}),R.grossSales!==void 0&&R.grossSales!==null&&c.jsxs("div",{className:`font-medium ${R.grossSales>0?"text-green-600":R.grossSales<0?"text-red-600":"text-gray-600"}`,children:["$",R.grossSales]}),R.status&&c.jsxs("div",{className:`text-xs font-medium ${R.status==="Confirmed"?"text-green-700":R.status==="Unconfirmed"?"text-yellow-700":"text-orange-700"}`,children:[R.status,R.confirmedCount>0&&R.unconfirmedCount>0&&c.jsxs("span",{className:"ml-1",children:["(",R.confirmedCount," ",R.unconfirmedCount,"?)"]})]})]})},he=()=>{i(r==="TRAILER_HISTORY"?"CAMPER_HISTORY":"TRAILER_HISTORY")},X=()=>{const T=new Date(_);if(T.setMonth(T.getMonth()-1),w(T),O.current){const N=O.current.getApi();try{N.gotoDate(T),setTimeout(()=>{N.changeView(d,T)},50),setTimeout(()=>{N.gotoDate(T)},150)}catch(R){console.error("Error navigating calendar:",R)}}},oe=()=>{const T=new Date(_);if(T.setMonth(T.getMonth()+1),w(T),O.current){const N=O.current.getApi();try{N.gotoDate(T),setTimeout(()=>{N.changeView(d,T)},50),setTimeout(()=>{N.gotoDate(T)},150)}catch(R){console.error("Error navigating calendar:",R)}}},ne=T=>{const N=T.toLocaleDateString("en-US",{month:"long"}),R=T.getFullYear();return`${N} ${R} (${R})`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:he,className:"flex items-center px-4 py-2 text-sm font-medium bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-md transition-colors duration-200 border border-primary-300",children:c.jsx("span",{children:r==="TRAILER_HISTORY"?" Trailer":" Camper"})}),c.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>U("dayGridMonth"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="dayGridMonth"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Month"}),c.jsx("button",{onClick:()=>U("timeGridWeek"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="timeGridWeek"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Week"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:X,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("span",{className:"mr-1",children:"<"}),"Previous Month"]}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:ne(_)}),c.jsxs("button",{onClick:oe,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:["Next Month",c.jsx("span",{className:"ml-1",children:">"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>g(!0),className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Work Day"]}),c.jsxs("button",{onClick:de,className:"btn-outline",children:[c.jsx(xU,{className:"w-4 h-4 mr-2"}),"Print"]})]})]}),c.jsx("div",{className:"card print-calendar-container",children:c.jsx("div",{className:"card-body p-0",children:c.jsx(GR,{plugins:[_ve,lye,kye],headerToolbar:!1,initialView:d,views:{dayGridMonth:{titleFormat:{year:"numeric",month:"long"}},timeGridWeek:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:h,select:B,eventClick:H,eventDrop:q,eventContent:Ee,height:"auto",eventDisplay:"block",eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},datesSet:T=>{const N=new Date(_.getFullYear(),_.getMonth(),1),R=new Date(T.start.getFullYear(),T.start.getMonth(),1);N.getTime(),R.getTime()},viewDidMount:T=>{},eventDidMount:T=>{},dayCellDidMount:T=>{const N=T.el,R=T.date;N.addEventListener("mouseenter",I=>{M({date:R,jsEvent:I})}),N.addEventListener("mouseleave",()=>{$()})},slotLaneDidMount:T=>{if(d!=="timeGridWeek")return;const N=T.el,R=T.date;N.addEventListener("mouseenter",I=>{M({date:R,jsEvent:I})}),N.addEventListener("mouseleave",()=>{$()})},ref:O})})}),k.show&&c.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border border-secondary-200 p-3 transform transition-all duration-200 ease-out",style:{left:k.x,top:k.y,pointerEvents:"none",opacity:k.show?1:0,transform:`translate(${k.show?"0":"-10px"}, ${k.show?"0":"-10px"})`,maxWidth:"320px",minWidth:"280px"},children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-secondary-900 text-sm mb-0.5",children:k.venue?k.venue.promo:"Calendar Day"}),k.sales&&k.sales.length>0&&(()=>{const T=k.sales.map(I=>typeof I.totalGross=="number"?I.totalGross:parseFloat(I.totalGross)).filter(I=>I>0);if(T.length===0)return null;const N=T.reduce((I,Y)=>I+Y,0)/T.length,R=Math.round(N/100)*100;return c.jsxs("div",{className:"font-bold text-xs text-primary-700 mb-0.5",children:["Avg: $",R.toLocaleString()]})})(),c.jsxs("p",{className:"text-xs text-secondary-600",children:[Xo(k.date)," - ",k.venue&&k.venue.id!=="default"?"Last 5 visits":"No Data Available"]})]}),k.sales&&k.sales.length>0?c.jsx("div",{className:"space-y-1",children:k.sales.map((T,N)=>{var R;return c.jsxs("div",{className:"border-l-2 border-primary-500 pl-2 py-1",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("span",{className:"text-xs font-medium text-secondary-900",children:Xo(T.date)})}),c.jsx("div",{className:"flex justify-between items-center mt-0.5",children:c.jsxs("span",{className:"text-xs text-secondary-600",children:["Gross: $",((R=T.totalGross)==null?void 0:R.toLocaleString())||"0"]})})]},T.date||N)})}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-secondary-500 italic",children:k.venue&&k.venue.id==="default"?"No sales data available for this venue":"No visits recorded for this venue"}),c.jsxs("div",{className:"text-xs text-secondary-400",children:[c.jsx("p",{children:" Hover over days with events to see visit data"}),c.jsx("p",{children:" Add events to track work days and sales"})]})]})]}),p&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Add Work Day"}),c.jsx("button",{onClick:()=>g(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:S.title,onChange:T=>j(N=>({...N,title:T.target.value})),className:"input",placeholder:S.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:S.date,onChange:T=>j(N=>({...N,date:T.target.value})),className:"input"})]}),!S.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:S.venueId,onChange:T=>j(N=>({...N,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:S.workers,onChange:T=>j(N=>({...N,workers:Array.from(T.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),S.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",S.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:S.hours,onChange:T=>j(N=>({...N,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>g(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:se,className:"btn-primary",children:"Add Event"})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Edit Event"}),c.jsx("button",{onClick:()=>x(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:S.title,onChange:T=>j(N=>({...N,title:T.target.value})),className:"input",placeholder:S.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:S.date,onChange:T=>j(N=>({...N,date:T.target.value})),className:"input"})]}),!S.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:S.venueId,onChange:T=>j(N=>({...N,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:S.workers,onChange:T=>j(N=>({...N,workers:Array.from(T.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),S.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",S.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:S.hours,onChange:T=>j(N=>({...N,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6",children:[c.jsx("button",{onClick:re,className:"btn-danger",children:"Delete Event"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>x(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:V,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},Dye=()=>{const{currentSheet:t,loading:e}=Nt();return e?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading calendar..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 print-calendar",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8 print-header",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Calendar"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Schedule and manage events, venues, and worker assignments for Trailer and Camper operations"})]}),c.jsx(Oye,{})]})})},Pye=({onAddSale:t,onEditSale:e,onDeleteSale:r})=>{const{rawSalesData:n,currentMonth:i,setCurrentMonth:a,venuesData:s}=Nt(),[o,l]=C.useState([]),[u,d]=C.useState(null),[f,h]=C.useState(!1);C.useEffect(()=>{const y=n.filter(b=>{const _=nr(b.date);return _?_.getMonth()===i.getMonth()&&_.getFullYear()===i.getFullYear():!1}).sort((b,_)=>{const w=nr(b.date);return nr(_.date)-w});l(y)},[n,i]);const m=y=>y.store||y.venueId||"N/A",p=()=>{a(Mde(i))},g=()=>{a(Pde(i))},v=async y=>{window.confirm("Are you sure you want to delete this sale entry?")&&await r(y)},x=y=>{d(y),h(!0)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:p,className:"btn-outline",children:[c.jsx(wb,{className:"w-4 h-4 mr-1"}),"Previous Month"]}),c.jsxs("h2",{className:"text-xl font-semibold text-secondary-900",children:[lT(i)," (",i.getFullYear(),")"]}),c.jsxs("button",{onClick:g,className:"btn-outline",children:["Next Month",c.jsx(Sb,{className:"w-4 h-4 ml-1"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>a(new Date(2024,6,1)),className:"btn-outline text-sm",children:"Go to July 2024"}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Sale"]})]})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:o.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",lT(i)]})}):o.map(y=>c.jsxs("tr",{className:"table-row",onDoubleClick:()=>e(y),style:{cursor:"pointer"},children:[c.jsx("td",{className:"table-cell font-medium",children:Xo(y.date)}),c.jsx("td",{className:"table-cell",children:m(y)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(y.grossSales)}),c.jsx("td",{className:"table-cell",children:Vr(y.netSales)}),c.jsx("td",{className:"table-cell",children:Vr(y.salesTax)}),c.jsx("td",{className:"table-cell",children:y.count||1}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>x(y),className:"text-secondary-600 hover:text-secondary-900 transition-colors",title:"View Details",children:c.jsx(yO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>e(y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(ys,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(y.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ga,{className:"w-4 h-4"})})]})})]},y.id))})]})})})}),f&&u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Sale Details"}),c.jsx("button",{onClick:()=>h(!1),className:"text-secondary-400 hover:text-secondary-600",children:""})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Date"}),c.jsx("p",{className:"text-secondary-900",children:Xo(u.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Store"}),c.jsx("p",{className:"text-secondary-900",children:m(u)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Gross Sales (Total)"}),c.jsx("p",{className:"text-secondary-900 font-semibold",children:Vr(u.grossSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Net Sales (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Vr(u.netSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Sales Tax (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Vr(u.salesTax)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Number of Entries"}),c.jsx("p",{className:"text-secondary-900",children:u.count||1})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{h(!1),e(u)},className:"btn-primary",children:"Edit"})]})]})})]})},Bd=t=>t.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0});function Mye(t){const e=new Date,r=e.getMonth(),n=e.getFullYear();console.log("SalesCharts: Processing rows:",(t==null?void 0:t.length)||0),console.log("SalesCharts: Current month/year:",r,n);const i=t.filter(a=>{if(!a.date)return console.log("SalesCharts: Skipping row without date:",a),!1;const s=new Date(a.date);if(isNaN(s.getTime()))return console.log("SalesCharts: Skipping row with invalid date:",a.date,a),!1;const o=s.getMonth()===r&&s.getFullYear()===n;return o&&console.log("SalesCharts: Including row:",a.date,a.store,a.grossSales),o});return console.log("SalesCharts: Filtered to current month:",i.length),i}function Rye(t){const e=new Map;for(const r of t)r.store&&r.grossSales>0&&e.set(r.store,(e.get(r.store)??0)+r.grossSales);return[...e.entries()].sort((r,n)=>n[1]-r[1]).map(([r,n])=>({store:r,total:n}))}function Iye(t){const e=new Map,r=new Set;for(const i of t){if(!i.store||!i.grossSales||i.grossSales<=0)continue;r.add(i.store);const a=e.get(i.date)??{date:i.date};a[i.store]=(a[i.store]??0)+i.grossSales,e.set(i.date,a)}return{data:[...e.values()].sort((i,a)=>i.date.localeCompare(a.date)),stores:[...r]}}function hN(t){try{const e=new Date(t);return isNaN(e.getTime())?(console.log("SalesCharts: Invalid date string:",t),t):e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(e){return console.error("SalesCharts: Error formatting date:",t,e),t}}const mN=["#4C6EF5","#12B886","#FA5252","#FAB005","#7950F2","#40C057","#228BE6","#E64980","#82C91E","#F76707"],pN=t=>mN[t%mN.length];function $ye({rows:t}){console.log("SalesCharts: Received rows:",(t==null?void 0:t.length)||0,"Sample:",t==null?void 0:t.slice(0,3));const e=C.useMemo(()=>Mye(t),[t]),r=C.useMemo(()=>Rye(e),[e]),{data:n,stores:i}=C.useMemo(()=>Iye(e),[e]);console.log("SalesCharts: Bar data:",r),console.log("SalesCharts: Area data:",(n==null?void 0:n.length)||0,"Stores:",i);const a=new Date,s=a.toLocaleDateString("en-US",{month:"long"}),o=a.getFullYear();return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"rounded-2xl border p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Monthly Gross by Store - ",s," ",o]}),r.length>0?c.jsx(e0,{width:"100%",height:320,children:c.jsxs(Hce,{data:r,margin:{left:8,right:8,bottom:20},children:[c.jsx(Uh,{strokeDasharray:"3 3"}),c.jsx(aa,{dataKey:"store",angle:-45,textAnchor:"end",height:60,interval:0}),c.jsx(sa,{tickFormatter:Bd}),c.jsx(Hr,{formatter:l=>Bd(l)}),c.jsx(Es,{dataKey:"total",name:"Gross Sales",fill:"#4C6EF5"})]})}):c.jsxs("div",{className:"h-80 flex items-center justify-center text-gray-500",children:["No sales data for ",s," ",o]})]}),c.jsxs("div",{className:"rounded-2xl border p-4",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Daily Gross by Store - ",s," ",o]}),n.length>0?c.jsx(e0,{width:"100%",height:320,children:c.jsxs(zce,{data:n,margin:{left:8,right:8,bottom:20},children:[c.jsx(Uh,{strokeDasharray:"3 3"}),c.jsx(aa,{dataKey:"date",angle:-45,textAnchor:"end",height:60,interval:0,tickFormatter:hN}),c.jsx(sa,{tickFormatter:Bd}),c.jsx(Hr,{formatter:l=>Bd(l),labelFormatter:l=>hN(l)}),c.jsx(ea,{}),i.map((l,u)=>c.jsx(Sa,{type:"monotone",dataKey:l,stackId:"1",name:l,fill:pN(u),stroke:pN(u),dot:!1},l))]})}):c.jsxs("div",{className:"h-80 flex items-center justify-center text-gray-500",children:["No sales data for ",s," ",o]})]})]})}const Lye=()=>{const{currentSheet:t,addSalesEntry:e,updateSalesEntry:r,deleteSalesEntry:n,venuesData:i,rawSalesData:a,loading:s,cleanupZeroSalesEntries:o}=Nt();console.log("DailySales component rendering with:",{currentSheet:t,venuesDataLength:i==null?void 0:i.length,rawSalesDataLength:a==null?void 0:a.length,loading:s,addSalesEntry:typeof e,updateSalesEntry:typeof r,deleteSalesEntry:typeof n});const[l,u]=C.useState(!1),[d,f]=C.useState(null),[h,m]=C.useState(mg(t)),[p,g]=C.useState({}),[v,x]=C.useState(!1),y=()=>{f(null),m(mg(t)),g({}),u(!0)},b=A=>{const k=A.venueId||A.venue_id||A.venue||"";f(A),m({date:Rde(A.date),status:A.status||"Confirmed",salesTax:A.salesTax!==void 0&&A.salesTax!==null?A.salesTax:0,netSales:A.netSales!==void 0&&A.netSales!==null?A.netSales:0,grossSales:A.grossSales!==void 0&&A.grossSales!==null?A.grossSales:0,venueId:k}),g({}),u(!0)},_=async A=>{const k=await n(A);k.success||alert(`Error deleting sale: ${k.error}`)},w=async()=>{x(!0);try{console.log("DailySales: Starting cleanup...");const A=await o();console.log("DailySales: Cleanup result:",A),A.success?alert(A.message):alert(`Error during cleanup: ${A.error}`)}catch(A){console.error("DailySales: Cleanup error:",A),alert(`Unexpected error during cleanup: ${A.message}`)}finally{x(!1)}},S=()=>{const A={};return h.date||(A.date="Date is required"),h.status||(A.status="Status is required"),h.grossSales<0&&(A.grossSales="Gross sales cannot be negative"),h.netSales<0&&(A.netSales="Net sales cannot be negative"),h.salesTax<0&&(A.salesTax="Sales tax cannot be negative"),g(A),Object.keys(A).length===0},j=async A=>{if(A.preventDefault(),!S())return;const k={date:h.date,status:h.status,sales_tax:h.salesTax,net_sales:h.netSales,gross_sales:h.grossSales,venue_id:h.venueId};let D;d?D=await r(d.id,k):D=await e(k),D.success?(u(!1),f(null),m(mg(t))):alert(`Error ${d?"updating":"adding"} sale: ${D.error}`)},E=(A,k)=>{m(D=>({...D,[A]:k})),p[A]&&g(D=>({...D,[A]:""}))};return s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales data..."})]})}):!i||!a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"Data Loading Issue"}),c.jsxs("p",{className:"text-secondary-600 mb-4",children:["Venues: ",i?"Loaded":"Missing"," | Sales: ",a?"Loaded":"Missing"]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Reload Page"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Daily Sales"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Manage sales entries for ",t==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsx("button",{onClick:w,disabled:v,className:"btn-outline bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:v?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600 mr-2"}),"Cleaning..."]}):" Clean $0 Entries"})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"Sales Analytics"}),(()=>{const A=a.filter(k=>k.date&&k.grossSales>0).map(k=>({date:k.date,store:k.store,grossSales:k.grossSales}));return console.log("DailySales: Raw sales data count:",(a==null?void 0:a.length)||0),console.log("DailySales: Filtered chart data count:",A.length),console.log("DailySales: Chart data sample:",A.slice(0,3)),c.jsx($ye,{rows:A})})()]}),c.jsx(Pye,{onAddSale:y,onEditSale:b,onDeleteSale:_}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:d?"Edit Sale":"Add New Sale"}),c.jsx("button",{onClick:()=>u(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:h.date,onChange:A=>E("date",A.target.value),className:He("input",p.date&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500")}),p.date&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:p.date})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status *"}),c.jsxs("select",{value:h.status,onChange:A=>E("status",A.target.value),className:He("input",p.status&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),children:[c.jsx("option",{value:"",children:"Select Status"}),KF.map(A=>c.jsx("option",{value:A,children:A},A))]}),p.status&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:p.status})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:h.venueId,onChange:A=>E("venueId",A.target.value),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),i.map(A=>c.jsxs("option",{value:A.promo,children:[A.promo," - ",A.addressCity]},A.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Gross Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.grossSales,onChange:A=>E("grossSales",parseFloat(A.target.value)||0),className:He("input",p.grossSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),p.grossSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:p.grossSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Net Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.netSales,onChange:A=>E("netSales",parseFloat(A.target.value)||0),className:He("input",p.netSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),p.netSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:p.netSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Sales Tax"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.salesTax,onChange:A=>E("salesTax",parseFloat(A.target.value)||0),className:He("input",p.salesTax&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),p.salesTax&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:p.salesTax})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:d?"Update Sale":"Add Sale"})]})]})]})})]})})},Fye=({message:t,currentUserId:e})=>{var a;const r=t.sender_id===e,n=((a=t.sender)==null?void 0:a.name)||"Unknown User",i=Pw(new Date(t.created_at),{addSuffix:!0});return c.jsx("div",{className:He("flex mb-4",r?"justify-end":"justify-start"),children:c.jsxs("div",{className:He("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",r?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[c.jsxs("div",{className:He("text-xs font-medium mb-1",r?"text-primary-200":"text-gray-600"),children:[n,r&&" (You)"]}),c.jsx("div",{className:"text-sm",children:t.message_text}),c.jsx("div",{className:He("text-xs mt-1",r?"text-primary-200":"text-gray-500"),children:i})]})})},Uye=({onSendMessage:t,disabled:e=!1,disabledReason:r=""})=>{const[n,i]=C.useState(""),a=o=>{o.preventDefault(),n.trim()&&!e&&(t(n.trim()),i(""))},s=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),a(o))};return c.jsxs("form",{onSubmit:a,className:"border-t border-gray-200 p-4",children:[e&&r&&c.jsx("div",{className:"mb-2 text-sm text-red-600",children:r}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),onKeyPress:s,placeholder:e?"Select your name to send messages...":"Type your message...",disabled:e,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"}),c.jsx("button",{type:"submit",disabled:!n.trim()||e,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(wU,{className:"w-4 h-4"})})]})]})},Bye=()=>{var p;const{loading:t,messagesData:e,messageGroups:r,usersData:n,currentUser:i,loadMessages:a,sendMessage:s,setCurrentUser:o,setSelectedGroup:l}=Nt(),[u,d]=C.useState(null),f=C.useRef(null);C.useEffect(()=>{r.length>0&&!u&&(d(r[0].id),l(r[0]))},[r,u]),C.useEffect(()=>{u&&a(u)},[u]),C.useEffect(()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})},[e]);const h=async g=>{if(!i||!u)return;const v={sender_id:i.id,group_id:u,message_text:g,message_type:"text"};await s(v)},m=g=>{d(g);const v=r.find(x=>x.id===g);l(v)};return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading messages..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Staff Messages"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Communicate with your staff members and stay connected"})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Signed in as:"})," ",i.name]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 h-[600px]",children:[c.jsxs("div",{className:"lg:col-span-1 border-r border-gray-200 bg-gray-50",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Groups"})}),c.jsx("div",{className:"p-2",children:r.map(g=>c.jsxs("button",{onClick:()=>m(g.id),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${u===g.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100 text-gray-700"}`,children:[c.jsx("div",{className:"font-medium",children:g.group_name}),c.jsxs("div",{className:"text-sm text-gray-500",children:[g.member_count||0," members"]})]},g.id))})]}),c.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((p=r.find(g=>g.id===u))==null?void 0:p.group_name)||"Select a group"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," messages"]})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"You:"})," ",i.name]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i?e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):e.map(g=>c.jsx(Fye,{message:g,currentUserId:i==null?void 0:i.id},g.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("p",{className:"text-gray-500 mb-2",children:"Please select your name in the header to start messaging"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Use the user selector in the top navigation bar"})]}),c.jsx("div",{ref:f})]}),u&&i&&c.jsx(Uye,{onSendMessage:h,disabled:!1,disabledReason:""}),u&&!i&&c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsx("p",{className:"text-center text-gray-500 text-sm",children:"Please select your name in the header to send messages"})})]})]})})]})})},Hye=()=>{const{staffData:t}=Nt(),[e,r]=C.useState([]),[n,i]=C.useState(!0),[a,s]=C.useState(null);C.useState({});const[o,l]=C.useState({});C.useEffect(()=>{(async()=>{try{const h=await ue.getStores();if(h.success){r(h.data);const m={};for(const p of h.data){const g=await ue.getCommissionTiers(p.id);g.success&&(m[p.id]=g.data||[])}l(m)}}catch(h){console.error("Error fetching data:",h)}finally{i(!1)}})()},[]);const u=(f,h,m,p)=>{const g=t.find(w=>w.id===h),v=e.find(w=>w.id===f),x=o[f]||[];if(!g||!v)return{basePay:0,bonus:0,total:0};const b=m*15;let _=0;for(const w of x)if(p>=w.sales_target){_=w.bonus_amount;break}return{basePay:b,bonus:_,total:b+_,staffName:g.name,storeName:v.name}},d=async(f,h)=>{try{console.log("Saving payroll data for store:",f,h),alert("Payroll data saved successfully!")}catch(m){alert(`Error saving payroll: ${m.message}`)}};return n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and staff data..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(f=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},f))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(bb,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Calculate payroll for all stores and staff members"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(f=>{const h=t.filter(m=>m.store_id===f.id);return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",f.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Dn,{className:"w-4 h-4 mr-1"}),h.length," staff"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Yn,{className:"w-5 h-5 mr-2 text-green-600"}),"Staff Payroll"]}),h.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:h.map(m=>{const p=u(f.id,m.id,40,5e4);return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:m.name}),c.jsx("p",{className:"text-sm text-gray-600",children:m.role||"Staff Member"})]}),c.jsx("button",{onClick:()=>s(f.id===a?null:f.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:a===f.id?"Hide Details":"Show Details"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",p.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",p.bonus.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total"}),c.jsxs("p",{className:"font-medium text-blue-600",children:["$",p.total.toFixed(2)]})]})]}),a===f.id&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hours Worked"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Amount"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50000",min:"0"})]})]}),c.jsx("button",{onClick:()=>d(f.id,{staffId:m.id,payroll:p}),className:"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save Payroll"})]})]},m.id)})})]})]},f.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Lm,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Payroll Summary"}),c.jsx("p",{className:"text-green-700",children:"Calculate and manage payroll for all stores and staff members. Each store shows its assigned staff with individual pay calculations."})]})]})})]})};var uI={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(Gt,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function d(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var k=w(A);k.chunkSize=parseInt(k.chunkSize),A.step||A.chunk||(k.chunkSize=null),this._handle=new g(k),(this._handle.streamer=this)._config=k}).call(this,E),this.parseChunk=function(A,k){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let O=this._config.newline;O||(P=this._config.quoteChar||'"',O=this._handle.guessLineEndings(A,P)),A=[...A.split(O).slice(D)].join(O)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(A))!==void 0&&(A=P),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+A,P=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=P.meta.cursor,D=(this._finished||(this._partialLine=D.substring(A-this._baseIndex),this._baseIndex=A),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:P,workerId:u.WORKER_ID,finished:D});else if(j(this._config.chunk)&&!k){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!D||!j(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(A){j(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:A,finished:!1})}}function f(E){var A;(E=E||{}).chunkSize||(E.chunkSize=u.RemoteChunkSize),d.call(this,E),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=S(this._chunkLoaded,this),A.onerror=S(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var k,D=this._config.downloadRequestHeaders;for(k in D)A.setRequestHeader(k,D[k])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+P));try{A.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(k){k=A.statusText||k,this._sendError(new Error(k))}}function h(E){(E=E||{}).chunkSize||(E.chunkSize=u.LocalChunkSize),d.call(this,E);var A,k,D=typeof FileReader<"u";this.stream=function(P){this._input=P,k=P.slice||P.webkitSlice||P.mozSlice,D?((A=new FileReader).onload=S(this._chunkLoaded,this),A.onerror=S(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),P=k.call(P,this._start,O)),A.readAsText(P,this._config.encoding));D||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(A.error)}}function m(E){var A;d.call(this,E=E||{}),this.stream=function(k){return A=k,this._nextChunk()},this._nextChunk=function(){var k,D;if(!this._finished)return k=this._config.chunkSize,A=k?(D=A.substring(0,k),A.substring(k)):(D=A,""),this._finished=!A,this.parseChunk(D)}}function p(E){d.call(this,E=E||{});var A=[],k=!0,D=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):k=!0},this._streamData=S(function(P){try{A.push(typeof P=="string"?P:P.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(O){this._streamError(O)}},this),this._streamError=S(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=S(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(E){var A,k,D,P,O=Math.pow(2,53),z=-O,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,$=0,U=0,B=!1,H=!1,V=[],q={data:[],errors:[],meta:{}};function re(he){return E.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function se(){if(q&&D&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),D=!1),E.skipEmptyLines&&(q.data=q.data.filter(function(T){return!re(T)})),de()){let T=function(N,R){j(E.transformHeader)&&(N=E.transformHeader(N,R)),V.push(N)};var ne=T;if(q)if(Array.isArray(q.data[0])){for(var he=0;de()&&he<q.data.length;he++)q.data[he].forEach(T);q.data.splice(0,1)}else q.data.forEach(T)}function X(T,N){for(var R=E.header?{}:[],I=0;I<T.length;I++){var Y=I,ee=T[I],ee=((ae,ce)=>(fe=>(E.dynamicTypingFunction&&E.dynamicTyping[fe]===void 0&&(E.dynamicTyping[fe]=E.dynamicTypingFunction(fe)),(E.dynamicTyping[fe]||E.dynamicTyping)===!0))(ae)?ce==="true"||ce==="TRUE"||ce!=="false"&&ce!=="FALSE"&&((fe=>{if(W.test(fe)&&(fe=parseFloat(fe),z<fe&&fe<O))return 1})(ce)?parseFloat(ce):G.test(ce)?new Date(ce):ce===""?null:ce):ce)(Y=E.header?I>=V.length?"__parsed_extra":V[I]:Y,ee=E.transform?E.transform(ee,Y):ee);Y==="__parsed_extra"?(R[Y]=R[Y]||[],R[Y].push(ee)):R[Y]=ee}return E.header&&(I>V.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+I,U+N):I<V.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+I,U+N)),R}var oe;q&&(E.header||E.dynamicTyping||E.transform)&&(oe=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(X),oe=q.data.length):q.data=X(q.data,0),E.header&&q.meta&&(q.meta.fields=V),U+=oe)}function de(){return E.header&&V.length===0}function Ee(he,X,oe,ne){he={type:he,code:X,message:oe},ne!==void 0&&(he.row=ne),q.errors.push(he)}j(E.step)&&(P=E.step,E.step=function(he){q=he,de()?se():(se(),q.data.length!==0&&($+=he.data.length,E.preview&&$>E.preview?k.abort():(q.data=q.data[0],P(q,M))))}),this.parse=function(he,X,oe){var ne=E.quoteChar||'"',ne=(E.newline||(E.newline=this.guessLineEndings(he,ne)),D=!1,E.delimiter?j(E.delimiter)&&(E.delimiter=E.delimiter(he),q.meta.delimiter=E.delimiter):((ne=((T,N,R,I,Y)=>{var ee,ae,ce,fe;Y=Y||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var be=0;be<Y.length;be++){for(var K,me=Y[be],pe=0,Se=0,ye=0,Te=(ce=void 0,new x({comments:I,delimiter:me,newline:N,preview:10}).parse(T)),qe=0;qe<Te.data.length;qe++)R&&re(Te.data[qe])?ye++:(K=Te.data[qe].length,Se+=K,ce===void 0?ce=K:0<K&&(pe+=Math.abs(K-ce),ce=K));0<Te.data.length&&(Se/=Te.data.length-ye),(ae===void 0||pe<=ae)&&(fe===void 0||fe<Se)&&1.99<Se&&(ae=pe,ee=me,fe=Se)}return{successful:!!(E.delimiter=ee),bestDelimiter:ee}})(he,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=ne.bestDelimiter:(D=!0,E.delimiter=u.DefaultDelimiter),q.meta.delimiter=E.delimiter),w(E));return E.preview&&E.header&&ne.preview++,A=he,k=new x(ne),q=k.parse(A,X,oe),se(),B?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return B},this.pause=function(){B=!0,k.abort(),A=j(E.chunk)?"":A.substring(k.getCharIndex())},this.resume=function(){M.streamer._halted?(B=!1,M.streamer.parseChunk(A,!0)):setTimeout(M.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,k.abort(),q.meta.aborted=!0,j(E.complete)&&E.complete(q),A=""},this.guessLineEndings=function(T,ne){T=T.substring(0,1048576);var ne=new RegExp(v(ne)+"([^]*?)"+v(ne),"gm"),oe=(T=T.replace(ne,"")).split("\r"),ne=T.split(`
`),T=1<ne.length&&ne[0].length<oe[0].length;if(oe.length===1||T)return`
`;for(var N=0,R=0;R<oe.length;R++)oe[R][0]===`
`&&N++;return N>=oe.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(E){var A=(E=E||{}).delimiter,k=E.newline,D=E.comments,P=E.step,O=E.preview,z=E.fastMode,W=null,G=!1,M=E.quoteChar==null?'"':E.quoteChar,$=M;if(E.escapeChar!==void 0&&($=E.escapeChar),(typeof A!="string"||-1<u.BAD_DELIMITERS.indexOf(A))&&(A=","),D===A)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<u.BAD_DELIMITERS.indexOf(D))&&(D=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var U=0,B=!1;this.parse=function(H,V,q){if(typeof H!="string")throw new Error("Input must be a string");var re=H.length,se=A.length,de=k.length,Ee=D.length,he=j(P),X=[],oe=[],ne=[],T=U=0;if(!H)return pe();if(z||z!==!1&&H.indexOf(M)===-1){for(var N=H.split(k),R=0;R<N.length;R++){if(ne=N[R],U+=ne.length,R!==N.length-1)U+=k.length;else if(q)return pe();if(!D||ne.substring(0,Ee)!==D){if(he){if(X=[],fe(ne.split(A)),Se(),B)return pe()}else fe(ne.split(A));if(O&&O<=R)return X=X.slice(0,O),pe(!0)}}return pe()}for(var I=H.indexOf(A,U),Y=H.indexOf(k,U),ee=new RegExp(v($)+v(M),"g"),ae=H.indexOf(M,U);;)if(H[U]===M)for(ae=U,U++;;){if((ae=H.indexOf(M,ae+1))===-1)return q||oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:X.length,index:U}),K();if(ae===re-1)return K(H.substring(U,ae).replace(ee,M));if(M===$&&H[ae+1]===$)ae++;else if(M===$||ae===0||H[ae-1]!==$){I!==-1&&I<ae+1&&(I=H.indexOf(A,ae+1));var ce=be((Y=Y!==-1&&Y<ae+1?H.indexOf(k,ae+1):Y)===-1?I:Math.min(I,Y));if(H.substr(ae+1+ce,se)===A){ne.push(H.substring(U,ae).replace(ee,M)),H[U=ae+1+ce+se]!==M&&(ae=H.indexOf(M,U)),I=H.indexOf(A,U),Y=H.indexOf(k,U);break}if(ce=be(Y),H.substring(ae+1+ce,ae+1+ce+de)===k){if(ne.push(H.substring(U,ae).replace(ee,M)),me(ae+1+ce+de),I=H.indexOf(A,U),ae=H.indexOf(M,U),he&&(Se(),B))return pe();if(O&&X.length>=O)return pe(!0);break}oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:X.length,index:U}),ae++}}else if(D&&ne.length===0&&H.substring(U,U+Ee)===D){if(Y===-1)return pe();U=Y+de,Y=H.indexOf(k,U),I=H.indexOf(A,U)}else if(I!==-1&&(I<Y||Y===-1))ne.push(H.substring(U,I)),U=I+se,I=H.indexOf(A,U);else{if(Y===-1)break;if(ne.push(H.substring(U,Y)),me(Y+de),he&&(Se(),B))return pe();if(O&&X.length>=O)return pe(!0)}return K();function fe(ye){X.push(ye),T=U}function be(ye){var Te=0;return Te=ye!==-1&&(ye=H.substring(ae+1,ye))&&ye.trim()===""?ye.length:Te}function K(ye){return q||(ye===void 0&&(ye=H.substring(U)),ne.push(ye),U=re,fe(ne),he&&Se()),pe()}function me(ye){U=ye,fe(ne),ne=[],Y=H.indexOf(k,U)}function pe(ye){if(E.header&&!V&&X.length&&!G){var Te=X[0],qe=Object.create(null),Bt=new Set(Te);let Ye=!1;for(let Et=0;Et<Te.length;Et++){let Fe=Te[Et];if(qe[Fe=j(E.transformHeader)?E.transformHeader(Fe,Et):Fe]){let xt,je=qe[Fe];for(;xt=Fe+"_"+je,je++,Bt.has(xt););Bt.add(xt),Te[Et]=xt,qe[Fe]++,Ye=!0,(W=W===null?{}:W)[xt]=Fe}else qe[Fe]=1,Te[Et]=Fe;Bt.add(Fe)}Ye&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:X,errors:oe,meta:{delimiter:A,linebreak:k,aborted:B,truncated:!!ye,cursor:T+(V||0),renamedHeaders:W}}}function Se(){P(pe()),X=[],oe=[]}},this.abort=function(){B=!0},this.getCharIndex=function(){return U}}function y(E){var A=E.data,k=o[A.workerId],D=!1;if(A.error)k.userError(A.error,A.file);else if(A.results&&A.results.data){var P={abort:function(){D=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(j(k.userStep)){for(var O=0;O<A.results.data.length&&(k.userStep({data:A.results.data[O],errors:A.results.errors,meta:A.results.meta},P),!D);O++);delete A.results}else j(k.userChunk)&&(k.userChunk(A.results,P,A.file),delete A.results)}A.finished&&!D&&b(A.workerId,A.results)}function b(E,A){var k=o[E];j(k.userComplete)&&k.userComplete(A),k.terminate(),delete o[E]}function _(){throw new Error("Not implemented.")}function w(E){if(typeof E!="object"||E===null)return E;var A,k=Array.isArray(E)?[]:{};for(A in E)k[A]=w(E[A]);return k}function S(E,A){return function(){E.apply(A,arguments)}}function j(E){return typeof E=="function"}return u.parse=function(E,A){var k=(A=A||{}).dynamicTyping||!1;if(j(k)&&(A.dynamicTypingFunction=k,k={}),A.dynamicTyping=k,A.transform=!!j(A.transform)&&A.transform,!A.worker||!u.WORKERS_SUPPORTED)return k=null,u.NODE_STREAM_INPUT,typeof E=="string"?(E=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(E),k=new(A.download?f:m)(A)):E.readable===!0&&j(E.read)&&j(E.on)?k=new p(A):(n.File&&E instanceof File||E instanceof Object)&&(k=new h(A)),k.stream(E);(k=(()=>{var D;return!!u.WORKERS_SUPPORTED&&(D=(()=>{var P=n.URL||n.webkitURL||null,O=r.toString();return u.BLOB_URL||(u.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(D=new n.Worker(D)).onmessage=y,D.id=l++,o[D.id]=D)})()).userStep=A.step,k.userChunk=A.chunk,k.userComplete=A.complete,k.userError=A.error,A.step=j(A.step),A.chunk=j(A.chunk),A.complete=j(A.complete),A.error=j(A.error),delete A.worker,k.postMessage({input:E,config:A,workerId:k.id})},u.unparse=function(E,A){var k=!1,D=!0,P=",",O=`\r
`,z='"',W=z+z,G=!1,M=null,$=!1,U=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||u.BAD_DELIMITERS.filter(function(V){return A.delimiter.indexOf(V)!==-1}).length||(P=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(k=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(G=A.skipEmptyLines),typeof A.newline=="string"&&(O=A.newline),typeof A.quoteChar=="string"&&(z=A.quoteChar),typeof A.header=="boolean"&&(D=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");M=A.columns}A.escapeChar!==void 0&&(W=A.escapeChar+z),A.escapeFormulae instanceof RegExp?$=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&($=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(z),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return B(null,E,G);if(typeof E[0]=="object")return B(M||Object.keys(E[0]),E,G)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||M),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),B(E.fields||[],E.data||[],G);throw new Error("Unable to serialize unrecognized input");function B(V,q,re){var se="",de=(typeof V=="string"&&(V=JSON.parse(V)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(V)&&0<V.length),Ee=!Array.isArray(q[0]);if(de&&D){for(var he=0;he<V.length;he++)0<he&&(se+=P),se+=H(V[he],he);0<q.length&&(se+=O)}for(var X=0;X<q.length;X++){var oe=(de?V:q[X]).length,ne=!1,T=de?Object.keys(q[X]).length===0:q[X].length===0;if(re&&!de&&(ne=re==="greedy"?q[X].join("").trim()==="":q[X].length===1&&q[X][0].length===0),re==="greedy"&&de){for(var N=[],R=0;R<oe;R++){var I=Ee?V[R]:R;N.push(q[X][I])}ne=N.join("").trim()===""}if(!ne){for(var Y=0;Y<oe;Y++){0<Y&&!T&&(se+=P);var ee=de&&Ee?V[Y]:Y;se+=H(q[X][ee],Y)}X<q.length-1&&(!re||0<oe&&!T)&&(se+=O)}}return se}function H(V,q){var re,se;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(se=!1,$&&typeof V=="string"&&$.test(V)&&(V="'"+V,se=!0),re=V.toString().replace(U,W),(se=se||k===!0||typeof k=="function"&&k(V,q)||Array.isArray(k)&&k[q]||((de,Ee)=>{for(var he=0;he<Ee.length;he++)if(-1<de.indexOf(Ee[he]))return!0;return!1})(re,u.BAD_DELIMITERS)||-1<re.indexOf(P)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?z+re+z:re)}},u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=m,u.ReadableStreamStreamer=p,n.jQuery&&((i=n.jQuery).fn.parse=function(E){var A=E.config||{},k=[];return this.each(function(O){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)k.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},A)})}),D(),this;function D(){if(k.length===0)j(E.complete)&&E.complete();else{var O,z,W,G,M=k[0];if(j(E.before)){var $=E.before(M.file,M.inputElem);if(typeof $=="object"){if($.action==="abort")return O="AbortError",z=M.file,W=M.inputElem,G=$.reason,void(j(E.error)&&E.error({name:O},z,W,G));if($.action==="skip")return void P();typeof $.config=="object"&&(M.instanceConfig=i.extend(M.instanceConfig,$.config))}else if($==="skip")return void P()}var U=M.instanceConfig.complete;M.instanceConfig.complete=function(B){j(U)&&U(B,M.file,M.inputElem),P()},u.parse(M.file,M.instanceConfig)}}function P(){k.splice(0,1),D()}}),s&&(n.onmessage=function(E){E=E.data,u.WORKER_ID===void 0&&E&&(u.WORKER_ID=E.workerId),typeof E.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(E.input,E.config),finished:!0}):(n.File&&E.input instanceof File||E.input instanceof Object)&&(E=u.parse(E.input,E.config))&&n.postMessage({workerId:u.WORKER_ID,results:E,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(m.prototype=Object.create(m.prototype)).constructor=m,(p.prototype=Object.create(d.prototype)).constructor=p,u})})(uI);var zye=uI.exports;const Hd=Xe(zye),Wye=()=>{const[t,e]=C.useState(null),[r,n]=C.useState([]),[i,a]=C.useState(!1),[s,o]=C.useState(0),[l,u]=C.useState(null),d=C.useRef(null),[f,h]=C.useState(null),[m,p]=C.useState([]),[g,v]=C.useState(!1),[x,y]=C.useState(null),b=C.useRef(null),_=M=>{const $=M.target.files[0];$&&$.type==="text/csv"?(e($),w($)):alert("Please select a valid CSV file")},w=M=>{Hd.parse(M,{header:!0,skipEmptyLines:!0,complete:$=>{const U=$.data.slice(0,10);n(U)},error:$=>{alert("Error parsing CSV file")}})},S=M=>{if(!M)return 1;const $=M.match(/-(\d+)$/);if($)return parseInt($[1]);const U=M.match(/-(\d+)$/);return U?parseInt(U[1]):1},j=M=>{console.log("Processing row:",M);const $=S(M["Invoice No."]||M["Ref No."]||M.ID||"");let U=null;M.Date||M["Invoice Date"]||M["Sale Date"]?U=new Date(M.Date||M["Invoice Date"]||M["Sale Date"]):M["8/01/25"]&&(U=new Date(M["8/01/25"]));let B=1,H=0;(M.Qty||M.Quantity||M["Sold Qty"])&&(B=parseInt(M.Qty||M.Quantity||M["Sold Qty"])||1),(M.Price||M.Cost||M.Retail||M.Actual)&&(H=parseFloat(M.Price||M.Cost||M.Retail||M.Actual)||0);const V=H*B,q=H*B;if(!U||isNaN(U.getTime()))return console.log("Skipping row - Invalid date:",M),null;if(!$||$<=0)return console.log("Skipping row - Invalid store ID:",$,"from row:",M),null;if(V<=0||q<=0)return console.log("Skipping row - Invalid sales amounts:",{netSales:V,grossSales:q},"from row:",M),null;if(B<=0)return console.log("Skipping row - Invalid quantity:",B,"from row:",M),null;if(H<=0)return console.log("Skipping row - Invalid price:",H,"from row:",M),null;let re="Unknown",se="Unknown";return(M.Vendor||M.Company||M.Location)&&(re=M.Vendor||M.Company||M.Location),(M.Product||M.Item||M.Description)&&(se=M.Product||M.Item||M.Description),{date:U.toISOString().split("T")[0],status:"Confirmed",sales_tax:0,net_sales:V,gross_sales:q,common_venue_name:`${re} - ${se}`,Store:$,invoice_no:M["Invoice No."]||M["Ref No."]||M.ID||"",po_no:M["PO No."]||"",vendor:re,style:M.Style||"",color:M.Color||"",size:M.Size||"",product:se,description:M.Description||"",department:M.Department||"",sold_qty:B,cost:H,retail:H,actual:H}},E=async()=>{if(!t){alert("Please select a file");return}a(!0),o(0),u(null);try{Hd.parse(t,{header:!0,skipEmptyLines:!0,complete:async M=>{const U=M.data.map(j).filter(de=>de).filter(de=>{const Ee=de.net_sales>0&&de.gross_sales>0;return Ee||console.log("Filtering out row with $0 sales:",de),Ee}),B=M.data.length,H=U.length,V=B-H;if(console.log(`Validation Results: ${H} valid rows, ${V} skipped rows out of ${B} total`),H===0){u({success:!1,error:`No valid rows found. All ${B} rows were skipped due to validation errors.`}),a(!1);return}const q=100;let re=0,se=0;for(let de=0;de<U.length;de+=q){const Ee=U.slice(de,de+q);try{const he=await ue.addRow("trailer_history",Ee);he.success?re+=Ee.length:(se+=Ee.length,console.error("Upload failed for batch:",he.error)),o(re/U.length*100)}catch(he){se+=Ee.length,console.error("Upload error for batch:",he)}}u({success:!0,uploaded:re,failed:se,total:U.length,skipped:V}),a(!1)},error:M=>{u({success:!1,error:M.message}),a(!1)}})}catch(M){console.error("Upload failed:",M),u({success:!1,error:M.message}),a(!1)}},A=M=>{M.preventDefault();const $=M.dataTransfer.files[0];$&&$.type==="text/csv"&&(e($),w($))},k=M=>{M.preventDefault()},D=()=>{e(null),n([]),u(null),o(0),d.current&&(d.current.value="")},P=M=>{const $=M.target.files[0];$&&($.type==="text/csv"||$.type==="text/tab-separated-values"||$.name.endsWith(".tsv"))?(h($),O($)):alert("Please select a valid CSV or TSV file")},O=M=>{Hd.parse(M,{header:!0,skipEmptyLines:!0,delimiter:M.name.endsWith(".tsv")?"	":",",complete:$=>{const U=$.data.map(W).filter(V=>V.date&&V.store),B={};for(const V of U){const q=`${V.date}_${V.store}`;B[q]||(B[q]={date:V.date,store:V.store,sales_tax:0,net_sales:0,gross_sales:0,record_count:0}),B[q].sales_tax+=parseFloat(V.sales_tax||0),B[q].net_sales+=parseFloat(V.net_sales||0),B[q].gross_sales+=parseFloat(V.gross_sales||0),B[q].record_count+=1}const H=Object.values(B).slice(0,10);p(H)},error:$=>{alert("Error parsing Trailer History file")}})},z=M=>{if(!M)return null;const $=M.match(/-(\d+)/);return $?parseInt($[1]):null},W=M=>({date:M.Date?new Date(M.Date).toISOString():null,store:z(M["Ref No."]),sales_tax:parseFloat(M.Tax)||0,net_sales:parseFloat(M.Subtotal)||0,gross_sales:parseFloat(M.Total)||0}),G=async()=>{if(!f){alert("Please select a file");return}v(!0),y(null);try{Hd.parse(f,{header:!0,skipEmptyLines:!0,delimiter:f.name.endsWith(".tsv")?"	":",",complete:async M=>{const $=M.data.map(W).filter(B=>B.date&&B.store),U=await ue.importTrailerHistory($);y(U),v(!1)},error:M=>{y({success:!1,error:M.message}),v(!1)}})}catch(M){y({success:!1,error:M.message}),v(!1)}};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Data Upload"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Upload CSV files to import sales analysis data for all stores"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload CSV File"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:A,onDragOver:k,children:[c.jsx("input",{ref:d,type:"file",accept:".csv",onChange:_,className:"hidden"}),t?c.jsxs("div",{children:[c.jsx(jy,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:D,className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(Ay,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV file here, or"," ",c.jsx("button",{onClick:()=>{var M;return(M=d.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports CSV files with sales data"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Upload sales data files here"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Trailer History File"}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:" How to Export from Uniform Solutions:"}),c.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:c.jsx("strong",{children:"GO TO Uniform Solutions"})}),c.jsx("li",{children:c.jsx("strong",{children:"File  Export  Sales Invoices"})}),c.jsx("li",{children:c.jsx("strong",{children:"Choose Date Range and All Stores"})}),c.jsx("li",{children:"Export the CSV file"}),c.jsx("li",{children:"Upload the exported file here"})]}),c.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[c.jsx("strong",{children:"Note:"})," The system will automatically detect store numbers from the invoice/reference numbers."]})]}),c.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[c.jsx("input",{ref:b,type:"file",accept:".csv,.tsv",onChange:P,className:"hidden"}),f?c.jsxs("div",{children:[c.jsx(jy,{className:"mx-auto h-8 w-8 text-primary-500 mb-2"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(f.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:()=>{h(null),p([]),y(null),b.current&&(b.current.value="")},className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(Ay,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[c.jsx("button",{onClick:()=>{var M;return(M=b.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"Select CSV or TSV file"})," ","for Trailer History data"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Supports CSV and TSV files with trailer sales data"})]})]})]}),m.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Trailer History Preview (Aggregated by Store & Date)"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",m.length," aggregated records"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Tax"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((M,$)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:new Date(M.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.store}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.sales_tax.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.net_sales.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.gross_sales.toFixed(2)]}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.record_count})]},$))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"})," Data is automatically aggregated by store and date. Multiple records for the same store on the same date will be summed together."]})})]}),f&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:G,disabled:g,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Importing..."]}):"Import Trailer History"})}),x&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${x.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[x.success?c.jsx(Ey,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(Sy,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${x.success?"text-green-900":"text-red-900"}`,children:x.success?"Import Complete":"Import Failed"}),c.jsx("p",{className:`text-sm ${x.success?"text-green-700":"text-red-700"}`,children:x.success?`Successfully processed ${x.processed||0} records${x.failed>0?`, ${x.failed} failed`:""}`:x.error})]})]})}),r.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Data Preview"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",r.length," rows"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:Object.keys(r[0]||{}).map(M=>c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:M},M))})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((M,$)=>c.jsx("tr",{children:Object.values(M).map((U,B)=>c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 max-w-xs truncate",title:String(U),children:String(U)},B))},$))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-yellow-800",children:[c.jsx("strong",{children:"Debug Info:"})," This shows the raw CSV data. Check the browser console for detailed processing information."]})})]}),t&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:E,disabled:i,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading... ",s.toFixed(1),"%"]}):"Upload Sales Data"})}),l&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[l.success?c.jsx(Ey,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(Sy,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Upload Complete":"Upload Failed"}),c.jsx("p",{className:`text-sm ${l.success?"text-green-700":"text-red-700"}`,children:l.success?`Successfully uploaded ${l.uploaded} records${l.failed>0?`, ${l.failed} failed`:""}`:l.error}),l.skipped>0&&c.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:[" ",l.skipped," rows were skipped due to validation errors (negative/zero sales, invalid dates, etc.)"]})]})]})})]})})},zn=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],Vye=({storeId:t,storeName:e,onSave:r,onCancel:n})=>{const[i,a]=C.useState({}),[s,o]=C.useState(!1),[l,u]=C.useState(!0),[d,f]=C.useState(null),[h,m]=C.useState(!1),p=C.useCallback(async y=>{if(!(!y||Object.keys(y).length===0))try{const b=zn.map((w,S)=>{var j,E,A;return{store_id:parseInt(t),day_of_week:parseInt(S),open_time:((j=y[w.key])==null?void 0:j.openTime)||"09:00",close_time:((E=y[w.key])==null?void 0:E.closeTime)||"17:00",is_open:!!((A=y[w.key])!=null&&A.isOpen)}}),_=await ue.saveStoreHours(t,b);if(_.success){const w=await ue.getStoreHours(t);if(w.success){const S={};zn.forEach((j,E)=>{const A=w.data.find(k=>parseInt(k.day_of_week)===E);S[j.key]={isOpen:(A==null?void 0:A.is_open)??!0,openTime:(A==null?void 0:A.open_time)||"09:00",closeTime:(A==null?void 0:A.close_time)||"17:00"}}),a(S)}f(new Date),m(!1),console.log("Auto-saved store hours successfully")}else console.error("Auto-save failed:",_.error)}catch(b){console.error("Auto-save error:",b)}},[t]);C.useEffect(()=>{t&&(async()=>{u(!0);try{const b=await ue.getStoreHours(t);if(b.success){const _={};zn.forEach((w,S)=>{const j=b.data.find(E=>E.day_of_week===S);_[w.key]={isOpen:(j==null?void 0:j.is_open)??!0,openTime:(j==null?void 0:j.open_time)||"09:00",closeTime:(j==null?void 0:j.close_time)||"17:00"}}),a(_),f(new Date),m(!1)}else{console.error("Error loading store hours:",b.error);const _={};zn.forEach(w=>{_[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(_)}}catch(b){console.error("Error loading store hours:",b);const _={};zn.forEach(w=>{_[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(_)}finally{u(!1)}})()},[t]),C.useEffect(()=>{if(Object.keys(i).length>0&&h){const y=setTimeout(()=>{p(i)},2e3);return()=>clearTimeout(y)}},[i,h,p]);const g=(y,b,_)=>{a(w=>({...w,[y]:{...w[y],[b]:_}})),m(!0)},v=async()=>{o(!0);try{if(await p(i),r){const y=zn.map((b,_)=>{var w,S,j;return{store_id:parseInt(t),day_of_week:parseInt(_),open_time:((w=i[b.key])==null?void 0:w.openTime)||"09:00",close_time:((S=i[b.key])==null?void 0:S.closeTime)||"17:00",is_open:!!((j=i[b.key])!=null&&j.isOpen)}});await r(y)}}catch(y){console.error("Error saving store hours:",y)}finally{o(!1)}},x=y=>{const b=i[y],_={};zn.forEach(w=>{_[w.key]={...b}}),a(_)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Store Hours - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Set operating hours for each day of the week"}),d&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last saved: ",d.toLocaleTimeString(),h&&c.jsx("span",{className:"text-orange-600 ml-2",children:" Unsaved changes"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:n,className:"btn-outline btn-sm",children:[c.jsx(Gc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:v,disabled:s,className:"btn-primary btn-sm",children:[c.jsx(_b,{className:"w-4 h-4 mr-1"}),s?"Saving...":"Save Now"]})]})]}),l?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Loading store hours..."})]}):c.jsx("div",{className:"space-y-4",children:zn.map(y=>{var b,_,w,S,j;return c.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-24 flex-shrink-0",children:c.jsx("span",{className:"font-medium text-gray-900",children:y.label})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:`${y.key}-open`,checked:((b=i[y.key])==null?void 0:b.isOpen)||!1,onChange:E=>g(y.key,"isOpen",E.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:`${y.key}-open`,className:"text-sm text-gray-700",children:"Open"})]}),((_=i[y.key])==null?void 0:_.isOpen)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ma,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"time",value:((w=i[y.key])==null?void 0:w.openTime)||"09:00",onChange:E=>g(y.key,"openTime",E.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),c.jsx("span",{className:"text-gray-500",children:"to"}),c.jsx("input",{type:"time",value:((S=i[y.key])==null?void 0:S.closeTime)||"17:00",onChange:E=>g(y.key,"closeTime",E.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsx("button",{onClick:()=>x(y.key),className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Copy to all days"})]}),!((j=i[y.key])!=null&&j.isOpen)&&c.jsx("span",{className:"text-gray-500 text-sm",children:"Closed"})]},y.key)})}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>{const y=["monday","tuesday","wednesday","thursday","friday"],b={...i};y.forEach(_=>{b[_]={isOpen:!0,openTime:"10:00",closeTime:"19:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekdays 10-7"}),c.jsx("button",{onClick:()=>{const y=["saturday","sunday"],b={...i};y.forEach(_=>{b[_]={isOpen:!0,openTime:"10:00",closeTime:"18:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekend 10-6"}),c.jsx("button",{onClick:()=>{const y={};zn.forEach(b=>{y[b.key]={isOpen:!1,openTime:"09:00",closeTime:"17:00"}}),a(y)},className:"btn-outline btn-sm",children:"Set All Closed"})]})]})]})},Gye=({storeId:t,storeName:e,staffData:r,onSaveShift:n,onDeleteShift:i,selectedDate:a=new Date})=>{const[s,o]=C.useState(a),[l,u]=C.useState([]),[d,f]=C.useState(!1),[h,m]=C.useState(null),[p,g]=C.useState({staffId:"",startTime:"09:00",endTime:"17:00",notes:""}),v=r.filter(T=>T.store_id===t),[x,y]=C.useState({});C.useEffect(()=>{y({0:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},1:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},2:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},3:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},4:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},5:{isOpen:!0,openTime:"10:00",closeTime:"18:00"}})},[]);const _=(()=>{const T=new Set;Object.values(x).forEach(I=>{I.isOpen&&(T.add(I.openTime),T.add(I.closeTime))});const N=Array.from(T).sort(),R=[];return N.forEach((I,Y)=>{if(Y<N.length-1){const ee=I,ae=N[Y+1];R.push(ee);const ce=parseInt(ee.split(":")[0]),fe=parseInt(ae.split(":")[0]);for(let be=ce+1;be<fe;be++)R.push(`${be.toString().padStart(2,"0")}:00`)}}),R})(),w=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value for formatting:",T),"--:--";try{const[N,R]=T.split(":").map(Number),I=N>=12?"PM":"AM";return`${N===0?12:N>12?N-12:N}:${R.toString().padStart(2,"0")} ${I}`}catch(N){return console.warn("Error formatting time:",T,N),"--:--"}},S=T=>x[T]||{isOpen:!1},j=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=(T=>{const N=new Date(T),R=N.getDay(),I=N.getDate()-R+(R===0?-6:1);N.setDate(I);const Y=[];for(let ee=0;ee<6;ee++){const ae=new Date(N);ae.setDate(N.getDate()+ee),Y.push(ae)}return Y})(s);C.useEffect(()=>{A.length>0&&k()},[s,t,A]);const k=async()=>{try{const T=A[0].toISOString().split("T")[0],N=A[5].toISOString().split("T")[0],R=await ue.getScheduleAssignments(t,T,N);if(R.success){const I=R.data.filter(Y=>{const ee=Y.startTime&&Y.endTime&&Y.staffId;return ee||console.warn("Filtering out invalid shift:",Y),ee});console.log("Valid shifts:",I),u(I)}}catch(T){console.error("Failed to load shifts:",T)}},D=()=>{const T=new Date(s);T.setDate(T.getDate()-7),o(T)},P=()=>{const T=new Date(s);T.setDate(T.getDate()+7),o(T)},O=()=>{o(new Date)},z=T=>T.toLocaleDateString("en-US",{month:"short",day:"numeric"}),W=T=>{const N=new Date;return T.toDateString()===N.toDateString()},G=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value:",T),0;try{const[N,R]=T.split(":").map(Number);return N*60+R}catch(N){return console.warn("Error parsing time:",T,N),0}},M=(T,N)=>{if(!N.startTime||!N.endTime)return!1;const R=G(T),I=G(N.startTime),Y=G(N.endTime);return R>=I&&R<Y},$=(T,N)=>{m({dayIndex:T,timeSlot:N}),g({staffId:"",startTime:N,endTime:U(N),notes:""}),f(!0)},U=T=>{const[N]=T.split(":");return`${(parseInt(N)+1).toString().padStart(2,"0")}:00`},B=async()=>{if(!p.staffId){alert("Please select a staff member");return}const T={storeId:t,staffId:p.staffId,date:A[h.dayIndex].toISOString().split("T")[0],startTime:p.startTime,endTime:p.endTime,notes:p.notes};try{const N=await ue.saveScheduleAssignment(T);N.success?(u(R=>[...R,N.data]),n&&n(N.data)):alert("Failed to save shift: "+N.error)}catch(N){console.error("Error saving shift:",N),alert("An unexpected error occurred while saving the shift.")}f(!1),m(null),g({staffId:"",startTime:"09:00",endTime:"17:00",notes:""})},H=async T=>{if(window.confirm("Are you sure you want to delete this shift?"))try{const N=await ue.deleteScheduleAssignment(T);N.success?(u(R=>R.filter(I=>I.id!==T)),i&&i(T)):alert("Failed to delete shift: "+N.error)}catch(N){console.error("Error deleting shift:",N),alert("An unexpected error occurred while deleting the shift.")}},V=T=>{const N=v.find(R=>R.id===T||R.id===parseInt(T));return N?N.name:`Unknown (ID: ${T})`},q=(T,N)=>{if(!T||!N)return console.warn("Missing start or end time:",{startTime:T,endTime:N}),0;const R=G(T),I=G(N);return Math.max(0,(I-R)/60)},re=()=>{const T={};let N=0,R=0;return l.forEach(I=>{if(!I.startTime||!I.endTime||!I.staffId){console.warn("Skipping invalid shift:",I);return}const Y=q(I.startTime,I.endTime),ee=v.find(ae=>ae.id===I.staffId||ae.id===parseInt(I.staffId));if(ee){T[ee.id]||(T[ee.id]={name:ee.name,hours:0,cost:0}),T[ee.id].hours+=Y;let ae=0;if(ee.payType==="hourly")ae=Y*(ee.hourlyRate||0);else if(ee.payType==="salary"||ee.payType==="salary+bonus"){const fe=(ee.salaryAmount||0)/365,K=Y/8;ae=fe*K}T[ee.id].cost+=ae,N+=Y,R+=ae}}),{staffTotals:T,storeTotalHours:N,storeTotalCost:R}},{staffTotals:se,storeTotalHours:de,storeTotalCost:Ee}=re(),he=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.filter(I=>I.date===R&&M(N,I))},X=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.some(I=>I.date===R&&I.startTime===N)},oe=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.find(I=>I.date===R&&I.startTime===N)},ne=T=>{const N=A[T].toISOString().split("T")[0];return l.filter(R=>R.date===N)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Weekly Schedule - ",e]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[z(A[0])," - ",z(A[5])]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(wb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:O,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Today"}),c.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(Sb,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Week Totals"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-xs font-medium text-blue-800 mb-2",children:"Staff Hours:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.values(se).map(T=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[c.jsx("div",{className:"font-medium text-blue-900",children:T.name}),c.jsxs("div",{className:"text-blue-700",children:[T.hours.toFixed(1)," hours"]}),c.jsxs("div",{className:"text-blue-600",children:["$",T.cost.toFixed(2)]})]},T.name))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Hours"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:[de.toFixed(1)," hours"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Cost"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:["$",Ee.toFixed(2)]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("div",{className:"min-w-[800px]",children:[c.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[c.jsx("div",{className:"h-12"})," ",A.map((T,N)=>c.jsxs("div",{className:`h-12 flex flex-col items-center justify-center border rounded ${W(T)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[c.jsx("div",{className:"text-xs font-medium text-gray-600",children:j[N].slice(0,3)}),c.jsx("div",{className:`text-sm font-semibold ${W(T)?"text-blue-700":"text-gray-900"}`,children:T.getDate()})]},N))]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.jsx("div",{className:"space-y-1",children:_.map(T=>c.jsx("div",{className:"h-12 flex items-center justify-end pr-2 text-xs text-gray-500",children:w(T)},T))}),A.map((T,N)=>{const R=S(N);return c.jsx("div",{className:"space-y-1 relative",children:_.map(I=>{if(!(R.isOpen&&G(I)>=G(R.openTime)&&G(I)<G(R.closeTime)))return c.jsx("div",{className:"h-12 border border-gray-100 bg-gray-50"},I);const ee=he(N,I);return X(N,I),oe(N,I),c.jsx("div",{className:`h-12 border border-gray-200 rounded cursor-pointer transition-colors relative ${ee.length>0?"bg-green-100 border-green-300 hover:bg-green-200":"hover:bg-gray-50"}`,onClick:()=>$(N,I),children:ee.length>0&&c.jsxs("div",{className:"p-1 h-full flex flex-col justify-center",children:[ee.slice(0,2).map((ae,ce)=>c.jsx("div",{className:"text-xs font-medium text-green-800 truncate",children:V(ae.staffId)},ae.id)),ee.length>2&&c.jsxs("div",{className:"text-xs text-green-600",children:["+",ee.length-2," more"]})]})},I)})},N)})]})]})}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"This Week's Shifts"}),c.jsx("div",{className:"space-y-2",children:A.map((T,N)=>{const R=ne(N);return R.length===0?null:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-700 mb-1",children:[j[N]," (",z(T),")"]}),c.jsx("div",{className:"space-y-1",children:R.map(I=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(as,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:V(I.staffId)}),c.jsx(ma,{className:"w-4 h-4 text-gray-400"}),c.jsxs("span",{className:"text-gray-600",children:[w(I.startTime)," - ",w(I.endTime)]})]}),c.jsx("button",{onClick:()=>H(I.id),className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]},I.id))})]},N)})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Shift"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),c.jsxs("select",{value:p.staffId,onChange:T=>g(N=>({...N,staffId:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"",children:"Select staff member"}),v.map(T=>c.jsxs("option",{value:T.id,children:[T.name," (",T.role,")"]},T.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:p.startTime,onChange:T=>g(N=>({...N,startTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:p.endTime,onChange:T=>g(N=>({...N,endTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),c.jsx("textarea",{value:p.notes,onChange:T=>g(N=>({...N,notes:T.target.value})),rows:"3",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Any special instructions or notes..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:B,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Add Shift"})]})]})})]})},qye=({storeId:t,storeName:e,staffData:r,storeHours:n,commissionTiers:i,onSave:a,onCancel:s})=>{const[o,l]=C.useState([]),[u,d]=C.useState([]),[f,h]=C.useState([]),[m,p]=C.useState({minStaffing:2,maxConsecutiveHours:8,lunchBreakRequired:!0,lunchBreakDuration:30,minShiftDuration:3,maxHoursPerWeek:40,preferredHoursPerWeek:32}),[g,v]=C.useState([]),[x,y]=C.useState(!1),[b,_]=C.useState(new Date),w=r.filter(B=>B.store_id===t);C.useEffect(()=>{(async()=>{try{const H=await ue.getStoreHours(t);H.success&&d(H.data||[]);const V=await ue.getCommissionTiers(t);V.success&&h(V.data||[])}catch(H){console.error("Error fetching store data:",H)}})()},[t]);const j=(B=>{const H=new Date(B),V=H.getDay(),q=H.getDate()-V+(V===0?-6:1);H.setDate(q);const re=[];for(let se=0;se<6;se++){const de=new Date(H);de.setDate(H.getDate()+se),re.push(de)}return re})(b),E=B=>{if(!B)return"";const[H,V]=B.split(":"),q=parseInt(H),re=q>=12?"PM":"AM";return`${q%12||12}:${V} ${re}`},A=()=>w.map(B=>{const H=k(B.id),V=Math.max(0,m.maxHoursPerWeek-H);return{id:B.id,name:B.name,role:B.role,preferredHours:B.preferredHoursPerWeek||m.preferredHoursPerWeek,maxHours:B.maxHoursPerWeek||m.maxHoursPerWeek,currentHours:H,availableHours:V,hourlyRate:B.hourlyRate||0,commissionRate:D(B.id)}}),k=B=>(j[0].toISOString().split("T")[0],j[5].toISOString().split("T")[0],0),D=B=>0,P=B=>{const H=u.find(q=>q.day_of_week===B);return H?{isOpen:H.is_open,openTime:H.open_time,closeTime:H.close_time}:[{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"18:00"}][B]||{isOpen:!1,openTime:"10:00",closeTime:"19:00"}},O=()=>{y(!0);try{const B=A(),H=[],V=[];j.forEach((q,re)=>{const se=P(re);if(!se.isOpen)return;const de=z(q,B,se,V,re);H.push(...de)}),l(H),v(V)}catch(B){console.error("Error generating schedule:",B)}finally{y(!1)}},z=(B,H,V,q,re)=>{const se=[],de=[...H].sort((N,R)=>R.availableHours-N.availableHours),Ee=new Date(`2000-01-01T${V.openTime}`),X=(new Date(`2000-01-01T${V.closeTime}`)-Ee)/(1e3*60*60),oe=Math.max(m.minStaffing,Math.ceil(X/8));let ne=0,T=new Date(Ee);for(;ne<oe&&de.length>0;){const N=de.shift();if(N.availableHours<m.minShiftDuration){q.push({type:"insufficient_hours",staff:N.name,date:B.toISOString().split("T")[0],message:`${N.name} has insufficient available hours (${N.availableHours}h)`});continue}const R=Math.min(N.availableHours,Math.max(m.minShiftDuration,8));let I=new Date(T);if(I.setHours(I.getHours()+R),R>5&&m.lunchBreakRequired){const Y=new Date(T);Y.setHours(Y.getHours()+Math.floor(R/2));const ee=new Date(Y);ee.setMinutes(ee.getMinutes()+m.lunchBreakDuration),se.push({id:Date.now()+Math.random(),store_id:t,staff_id:N.id,staff_name:N.name,date:B.toISOString().split("T")[0],day_index:re,start_time:T.toTimeString().slice(0,5),end_time:Y.toTimeString().slice(0,5),notes:"Auto-generated (before lunch)"}),se.push({id:Date.now()+Math.random()+1,store_id:t,staff_id:N.id,staff_name:N.name,date:B.toISOString().split("T")[0],day_index:re,start_time:ee.toTimeString().slice(0,5),end_time:I.toTimeString().slice(0,5),notes:"Auto-generated (after lunch)"})}else se.push({id:Date.now()+Math.random(),store_id:t,staff_id:N.id,staff_name:N.name,date:B.toISOString().split("T")[0],day_index:re,start_time:T.toTimeString().slice(0,5),end_time:I.toTimeString().slice(0,5),notes:"Auto-generated"});ne++,T=new Date(I),N.availableHours-=R}return se},W=B=>{const H=w.find(de=>de.id===B.staff_id);if(!H)return 0;const V=new Date(`2000-01-01T${B.start_time}`),re=(new Date(`2000-01-01T${B.end_time}`)-V)/(1e3*60*60);let se=0;if(H.payType==="hourly")se=re*(H.hourlyRate||0);else if(H.payType==="salary"||H.payType==="salary+bonus"){const Ee=(H.salaryAmount||0)/365,X=re/8;if(se=Ee*X,H.payType==="salary+bonus"){const oe=re*D(H.id)/100;se+=oe}}return se},G=()=>o.reduce((B,H)=>B+W(H),0),M=async()=>{if(o.length===0){alert("No schedules to save. Please generate a schedule first.");return}y(!0);try{const B=o.map(H=>({store_id:t,staff_id:H.staff_id,date:H.date,start_time:H.start_time,end_time:H.end_time,notes:H.notes||"",created_at:new Date().toISOString()}));await a(B),alert("Schedule saved successfully!")}catch(B){console.error("Error saving schedule:",B),alert("Error saving schedule. Please try again.")}finally{y(!1)}},U=(()=>{const B={};return j.forEach((H,V)=>{const q=H.toISOString().split("T")[0];B[q]={date:H,dayIndex:V,schedules:o.filter(re=>re.date===q)}}),B})();return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Auto Scheduler - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Generate optimal schedules based on store hours and staff availability"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:s,className:"btn-outline btn-sm",children:[c.jsx(Gc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:M,disabled:x||o.length===0,className:"btn-primary btn-sm",children:[c.jsx(_b,{className:"w-4 h-4 mr-1"}),x?"Saving...":"Save Schedule"]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Store Staff (",w.length," employees)"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:A().map(B=>c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-blue-900",children:B.name}),c.jsxs("div",{className:"text-blue-700",children:["Available: ",B.availableHours,"h / ",B.maxHours,"h"]}),c.jsxs("div",{className:"text-blue-600",children:["Rate: $",B.hourlyRate,"/hr"]})]},B.id))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(zf,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Scheduling Rules"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Staffing"}),c.jsx("input",{type:"number",min:"1",max:"10",value:m.minStaffing,onChange:B=>p(H=>({...H,minStaffing:parseInt(B.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Hours"}),c.jsx("input",{type:"number",min:"1",max:"12",value:m.maxConsecutiveHours,onChange:B=>p(H=>({...H,maxConsecutiveHours:parseInt(B.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Shift Duration"}),c.jsx("input",{type:"number",min:"1",max:"8",value:m.minShiftDuration,onChange:B=>p(H=>({...H,minShiftDuration:parseInt(B.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Hours/Week"}),c.jsx("input",{type:"number",min:"20",max:"60",value:m.maxHoursPerWeek,onChange:B=>p(H=>({...H,maxHoursPerWeek:parseInt(B.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:O,disabled:x,className:"w-full btn-primary",children:[c.jsx(bO,{className:"w-4 h-4 mr-2"}),x?"Generating Schedule...":"Generate Auto Schedule"]})}),g.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(cU,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Scheduling Conflicts"})]}),c.jsx("div",{className:"space-y-2",children:g.map((B,H)=>c.jsxs("div",{className:"text-sm text-red-700",children:[c.jsxs("strong",{children:[B.date,":"]})," ",B.message]},H))})]}),o.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Generated Schedule (",o.length," shifts)"]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Yn,{className:"w-4 h-4 text-green-600"}),c.jsxs("span",{className:"font-medium text-green-600",children:["Total Pay: $",G().toFixed(2)]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border border-gray-300",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Mon"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Tue"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Wed"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Thu"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Fri"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Sat"})]})}),c.jsx("tbody",{children:Object.values(U).map((B,H)=>{const V=B.schedules,q=Math.max(1,V.length);return Array.from({length:q},(re,se)=>c.jsx("tr",{children:j.map((de,Ee)=>{const he=U[de.toISOString().split("T")[0]],X=(he==null?void 0:he.schedules)||[],oe=X[se];return oe?c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:oe.staff_name}),c.jsxs("div",{className:"text-gray-600",children:[E(oe.start_time)," - ",E(oe.end_time)]})]})},Ee):c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:se===0&&X.length===0&&c.jsx("div",{className:"text-sm text-gray-400 italic",children:"No shifts"})},Ee)})},`${B.date}-${se}`))})})]})})]})]})},Yye=()=>{const{staffData:t}=Nt(),[e,r]=C.useState("main"),[n,i]=C.useState(null),[a,s]=C.useState([]),[o,l]=C.useState(!0),[u,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{const v=await ue.getStores();v.success?(console.log(" Loaded stores:",v.data),s(v.data)):console.error("Error fetching stores:",v.error)}catch(v){console.error("Error fetching stores:",v)}finally{l(!1)}})()},[]);const f=(g,v)=>{i(v),r(g)},h=()=>{r("main"),i(null)},m=async g=>{try{const v=await ue.saveStoreHours(n.id,g);v.success?(alert("Store hours saved successfully!"),h()):alert(`Error saving store hours: ${v.error}`)}catch(v){alert(`Error saving store hours: ${v.message}`)}},p=async g=>{try{const v=g.map(b=>ue.saveScheduleAssignment(b)),y=(await Promise.all(v)).filter(b=>!b.success);y.length===0?(alert("Auto-generated schedule saved successfully!"),h()):alert(`Error saving some schedules: ${y.length} failed out of ${g.length}`)}catch(v){alert(`Error saving auto schedule: ${v.message}`)}};return e==="store-hours"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(nf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(Vye,{storeId:n.id,storeName:n.name,onSave:m,onCancel:h})]}):e==="schedule"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(nf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(Gye,{storeId:n.id,storeName:n.name,staffData:t})]}):e==="auto-scheduler"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(nf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(qye,{storeId:n.id,storeName:n.name,staffData:t,storeHours:[],onSave:p,onCancel:h})]}):e==="holiday-manager"?c.jsx(Kye,{onBack:h}):o?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(g=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},g))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Hover over a store to see available scheduling actions"})]}),c.jsx("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("holiday-manager"),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-8 h-8 text-green-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"text-gray-600",children:"Manage holidays for all stores"}),c.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Click to manage "})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>d(g.id),onMouseLeave:()=>d(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",g.number]})]})]}),u===g.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>f("store-hours",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ma,{className:"w-4 h-4 mr-2"}),"Manage Hours"]}),c.jsxs("button",{onClick:()=>f("schedule",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Weekly Calendar"]}),g.name!=="Camper"&&g.name!=="Trailer"&&c.jsxs("button",{onClick:()=>f("auto-scheduler",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600 col-span-2",children:[c.jsx(bO,{className:"w-4 h-4 mr-2"}),"Auto Schedule"]})]})})]},g.id))})]})},Kye=({onBack:t})=>{const[e,r]=C.useState([]),[n,i]=C.useState({}),[a,s]=C.useState(!0),[o,l]=C.useState({name:"",date:""}),[u,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{const g=await ue.getStores();if(g.success){r(g.data);const v={};for(const x of g.data){const y=await ue.getStoreHolidays(x.id);y.success&&(v[x.id]=y.data||[])}i(v)}}catch(g){console.error("Error fetching data:",g)}finally{s(!1)}})()},[]);const f=async p=>{if(!o.name.trim()||!o.date){alert("Please fill in both holiday name and date");return}try{const g={store_id:p,holiday_name:o.name.trim(),holiday_date:o.date,is_closed:!0},v=await ue.saveStoreHolidays(p,[g]);if(v.success){const x=await ue.getStoreHolidays(p);x.success&&i(y=>({...y,[p]:x.data||[]})),l({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${v.error}`)}catch(g){alert(`Error adding holiday: ${g.message}`)}},h=async(p,g)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const v=await ue.deleteStoreHoliday(p,g);if(v.success){const x=await ue.getStoreHolidays(p);x.success&&i(y=>({...y,[p]:x.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${v.error}`)}catch(v){alert(`Error deleting holiday: ${v.message}`)}},m=async(p,g,v)=>{try{const x=await ue.updateStoreHoliday(p,g,v);if(x.success){const y=await ue.getStoreHolidays(p);y.success&&i(b=>({...b,[p]:y.data||[]})),d(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${x.error}`)}catch(x){alert(`Error updating holiday: ${x.message}`)}};return a?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:t,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(nf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(p=>{const g=n[p.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Or,{className:"w-4 h-4 mr-1"}),g.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Or,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:o.name,onChange:v=>l(x=>({...x,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:o.date,onChange:v=>l(x=>({...x,date:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>f(p.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:g.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):g.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:u===v.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:v.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${v.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:v.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${v.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const x=document.getElementById(`edit-name-${v.id}`).value,y=document.getElementById(`edit-date-${v.id}`).value;m(p.id,v.id,{holiday_name:x,holiday_date:y})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>d(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:v.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>d(v.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(ys,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(p.id,v.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ga,{className:"w-4 h-4"})})]})]})},v.id))})]})]},p.id)})})]})},Qye=()=>{const{staffData:t}=Nt(),[e,r]=C.useState([]),[n,i]=C.useState(!0),[a,s]=C.useState({}),[o,l]=C.useState(()=>{const p=new Date,g=new Date(p.getFullYear(),p.getMonth(),1),v=new Date(p.getFullYear(),p.getMonth()+1,0);return{startDate:g.toISOString().split("T")[0],endDate:v.toISOString().split("T")[0]}});C.useEffect(()=>{(async()=>{try{const g=await ue.getStores();g.success&&(r(g.data),await u(g.data))}catch(g){console.error("Error fetching data:",g)}finally{i(!1)}})()},[o]);const u=async p=>{const g={};for(const v of p)try{const x=t.filter(w=>w.store_id===v.id),y=await ue.getScheduleAssignmentsForDateRange(v.id,o.startDate,o.endDate),b=await ue.getSalesForDateRange(v.name,o.startDate,o.endDate),_=[];for(const w of x){const S=await ue.getStaffBonusTiers(w.id),j={...w,bonus_tiers:S.success?S.data:[]},E=d(y.data||[],w.id),A=b.data||[],k=f(j,E,A);_.push({staff:j,hours:E,sales:A,payroll:k})}g[v.id]={store:v,staffPayroll:_,totalHours:_.reduce((w,S)=>w+S.hours,0),totalSales:b.data?b.data.reduce((w,S)=>w+(parseFloat(S.gross_sales)||0),0):0,totalPayroll:_.reduce((w,S)=>w+S.payroll.total,0)}}catch(x){console.error(`Error calculating payroll for store ${v.name}:`,x),g[v.id]={store:v,staffPayroll:[],totalHours:0,totalSales:0,totalPayroll:0,error:x.message}}s(g)},d=(p,g)=>{let v=0;return p.forEach(x=>{if(x.staff_id===g&&x.slot){const y=new Date(`2000-01-01T${x.slot.start_time}`),_=(new Date(`2000-01-01T${x.slot.end_time}`)-y)/(1e3*60*60);v+=_}}),v},f=(p,g,v)=>{let x=0,y=0;if(p.pay_type==="salary"||p.pay_type==="salary+bonus"){const _=p.salary_amount||0,[w,S,j]=o.startDate.split("-").map(Number),[E,A,k]=o.endDate.split("-").map(Number),D=new Date(w,S-1,j),P=new Date(E,A-1,k),O=Math.ceil((P-D)/(1e3*60*60*24))+1;x=_/365*O,y=g>0?x/g:0}else y=p.hourly_rate||15,x=g*y;let b=0;if(p.bonus_tiers&&p.bonus_tiers.length>0){const _=v.reduce((j,E)=>j+(parseFloat(E.gross_sales)||0),0),S=p.bonus_tiers.sort((j,E)=>E.sales_target-j.sales_target).find(j=>_>=j.sales_target);S&&(b=S.bonus_amount)}return{basePay:x,bonus:b,total:x+b,hourlyRate:y,totalSales:v.reduce((_,w)=>_+(parseFloat(w.gross_sales)||0),0),payType:p.pay_type||"hourly"}},h=(p,g)=>{l(v=>{let x;if(p==="startDate"){const y=new Date(g),b=new Date(y.getFullYear(),y.getMonth()+1,0);x={startDate:g,endDate:b.toISOString().split("T")[0]}}else if(p==="endDate"){const y=new Date(g);x={startDate:new Date(y.getFullYear(),y.getMonth(),1).toISOString().split("T")[0],endDate:g}}else x={...v,[p]:g};return x})},m=p=>{l(g=>{const[v,x,y]=g.startDate.split("-").map(Number),b=new Date(v,x-1,y);let _,w;if(p==="forward")_=new Date(b.getFullYear(),b.getMonth()+1,1),w=new Date(_.getFullYear(),_.getMonth()+1,0);else if(p==="backward")_=new Date(b.getFullYear(),b.getMonth()-1,1),w=new Date(_.getFullYear(),_.getMonth()+1,0);else if(p==="current"){const S=new Date;_=new Date(S.getFullYear(),S.getMonth(),1),w=new Date(S.getFullYear(),S.getMonth()+1,0)}return{startDate:_.toISOString().split("T")[0],endDate:w.toISOString().split("T")[0]}})};return n?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and calculating bonuses..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Lm,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"View bonus calculations based on actual hours and sales data"})]})]})}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-5 h-5 mr-2 text-blue-600"}),"Date Range"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>m("backward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Previous Month",children:c.jsx(wb,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[120px] text-center",children:(()=>{const[p,g,v]=o.startDate.split("-").map(Number);return new Date(p,g-1,v).toLocaleDateString("en-US",{month:"long",year:"numeric"})})()}),c.jsx("button",{onClick:()=>m("forward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Next Month",children:c.jsx(Sb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>m("current"),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Go to Current Month",children:"Today"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",value:o.startDate,onChange:p=>h("startDate",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",value:o.endDate,onChange:p=>h("endDate",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(_y,{className:"w-5 h-5 mr-2 text-green-600"}),"Overall Summary"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Stores"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Object.values(a).reduce((p,g)=>p+((g==null?void 0:g.totalHours)||0),0).toFixed(1)}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",Object.values(a).reduce((p,g)=>p+((g==null?void 0:g.totalSales)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Object.values(a).reduce((p,g)=>p+((g==null?void 0:g.totalPayroll)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Payroll"})]})]})]}),c.jsx("div",{className:"space-y-6",children:e.map(p=>{const g=a[p.id];if(!g)return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsx("div",{className:"text-gray-500",children:"Loading..."})]})},p.id);const{staffPayroll:v,totalHours:x,totalSales:y,totalPayroll:b,error:_}=g;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Payroll"}),c.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",b.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Hours:"}),c.jsx("span",{className:"ml-2 font-medium",children:x.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Sales:"}),c.jsxs("span",{className:"ml-2 font-medium",children:["$",y.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Staff Count:"}),c.jsx("span",{className:"ml-2 font-medium",children:v.length})]})]})]}),c.jsx("div",{className:"p-6",children:_?c.jsxs("div",{className:"text-red-600 text-center py-4",children:["Error loading data: ",_]}):v.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:v.map(({staff:w,hours:S,sales:j,payroll:E})=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:w.name}),c.jsx("p",{className:"text-sm text-gray-600",children:w.role||"Staff Member"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",E.total.toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Total Pay"})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Hours"}),c.jsx("p",{className:"font-medium",children:S.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Rate"}),c.jsx("p",{className:"font-medium",children:E.payType==="salary"||E.payType==="salary+bonus"?`$${E.hourlyRate.toFixed(2)}/hr (effective)`:`$${E.hourlyRate}/hr`})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",E.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",E.bonus.toFixed(2)]})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sales Generated:"}),c.jsxs("span",{className:"font-medium",children:["$",E.totalSales.toFixed(2)]})]})})]},w.id))})})]},p.id)})})]})},Xye=()=>{const[t,e]=C.useState([]),[r,n]=C.useState({}),[i,a]=C.useState(!0);C.useState(null);const[s,o]=C.useState({name:"",date:""}),[l,u]=C.useState(null);C.useEffect(()=>{(async()=>{try{const p=await ue.getStores();if(p.success){e(p.data);const g={};for(const v of p.data){const x=await ue.getStoreHolidays(v.id);x.success&&(g[v.id]=x.data||[])}n(g)}}catch(p){console.error("Error fetching data:",p)}finally{a(!1)}})()},[]);const d=async m=>{if(!s.name.trim()||!s.date){alert("Please fill in both holiday name and date");return}try{const p={store_id:m,holiday_name:s.name.trim(),holiday_date:s.date,is_closed:!0},g=await ue.saveStoreHolidays(m,[p]);if(g.success){const v=await ue.getStoreHolidays(m);v.success&&n(x=>({...x,[m]:v.data||[]})),o({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${g.error}`)}catch(p){alert(`Error adding holiday: ${p.message}`)}},f=async(m,p)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const g=await ue.deleteStoreHoliday(m,p);if(g.success){const v=await ue.getStoreHolidays(m);v.success&&n(x=>({...x,[m]:v.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${g.error}`)}catch(g){alert(`Error deleting holiday: ${g.message}`)}},h=async(m,p,g)=>{try{const v=await ue.updateStoreHoliday(m,p,g);if(v.success){const x=await ue.getStoreHolidays(m);x.success&&n(y=>({...y,[m]:x.data||[]})),u(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${v.error}`)}catch(v){alert(`Error updating holiday: ${v.message}`)}};return i?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(m=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},m))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:t.map(m=>{const p=r[m.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Or,{className:"w-4 h-4 mr-1"}),p.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Or,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:s.name,onChange:g=>o(v=>({...v,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:s.date,onChange:g=>o(v=>({...v,date:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>d(m.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:p.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):p.map(g=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l===g.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:g.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${g.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:g.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${g.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const v=document.getElementById(`edit-name-${g.id}`).value,x=document.getElementById(`edit-date-${g.id}`).value;h(m.id,g.id,{holiday_name:v,holiday_date:x})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>u(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:g.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(ys,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>f(m.id,g.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ga,{className:"w-4 h-4"})})]})]})},g.id))})]})]},m.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Holiday Management"}),c.jsx("p",{className:"text-green-700",children:"Manage holidays for all stores in one centralized location. Each store can have its own set of holidays that apply to all staff members."})]})]})})]})};function Zye(){return c.jsx(tU,{children:c.jsx(I4,{children:c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs(aU,{children:[c.jsx(rB,{}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(C4,{children:[c.jsx(pr,{path:"/",element:c.jsx(T4,{to:"/daily-sales",replace:!0})}),c.jsx(pr,{path:"/dashboard",element:c.jsx(Fde,{})}),c.jsx(pr,{path:"/daily-sales",element:c.jsx(Lye,{})}),c.jsx(pr,{path:"/venues",element:c.jsx(Bde,{})}),c.jsx(pr,{path:"/calendar",element:c.jsx(Dye,{})}),c.jsx(pr,{path:"/bonuses",element:c.jsx(Qye,{})}),c.jsx(pr,{path:"/staff",element:c.jsx(Wde,{})}),c.jsx(pr,{path:"/tasks",element:c.jsx(Gde,{})}),c.jsx(pr,{path:"/messages",element:c.jsx(Bye,{})}),c.jsx(pr,{path:"/scheduler",element:c.jsx(Yye,{})}),c.jsx(pr,{path:"/admin/sales-upload",element:c.jsx(Wye,{})}),c.jsx(pr,{path:"/pay-calculator",element:c.jsx(Hye,{})}),c.jsx(pr,{path:"/holiday-manager",element:c.jsx(Xye,{})})]})})]})})})})}hv.createRoot(document.getElementById("root")).render(c.jsx(F.StrictMode,{children:c.jsx(Zye,{})}));
//# sourceMappingURL=index-69be6b64.js.map
