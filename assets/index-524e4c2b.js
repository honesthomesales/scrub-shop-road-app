function XR(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var uN={exports:{}},op={},dN={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),ZR=Symbol.for("react.portal"),JR=Symbol.for("react.fragment"),eI=Symbol.for("react.strict_mode"),tI=Symbol.for("react.profiler"),rI=Symbol.for("react.provider"),nI=Symbol.for("react.context"),iI=Symbol.for("react.forward_ref"),aI=Symbol.for("react.suspense"),sI=Symbol.for("react.memo"),oI=Symbol.for("react.lazy"),aS=Symbol.iterator;function lI(t){return t===null||typeof t!="object"?null:(t=aS&&t[aS]||t["@@iterator"],typeof t=="function"?t:null)}var fN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hN=Object.assign,pN={};function Qo(t,e,r){this.props=t,this.context=e,this.refs=pN,this.updater=r||fN}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mN(){}mN.prototype=Qo.prototype;function sx(t,e,r){this.props=t,this.context=e,this.refs=pN,this.updater=r||fN}var ox=sx.prototype=new mN;ox.constructor=sx;hN(ox,Qo.prototype);ox.isPureReactComponent=!0;var sS=Array.isArray,gN=Object.prototype.hasOwnProperty,lx={current:null},vN={key:!0,ref:!0,__self:!0,__source:!0};function yN(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)gN.call(e,n)&&!vN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Tu,type:t,key:a,ref:s,props:i,_owner:lx.current}}function cI(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function uI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var oS=/\/+/g;function Tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uI(""+t.key):e.toString(36)}function zd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Tu:case ZR:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Tm(s,0):n,sS(i)?(r="",t!=null&&(r=t.replace(oS,"$&/")+"/"),zd(i,e,r,"",function(u){return u})):i!=null&&(cx(i)&&(i=cI(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(oS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",sS(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+Tm(a,o);s+=zd(a,e,r,l,i)}else if(l=lI(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+Tm(a,o++),s+=zd(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Yu(t,e,r){if(t==null)return t;var n=[],i=0;return zd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function dI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fr={current:null},Wd={transition:null},fI={ReactCurrentDispatcher:fr,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:lx};function xN(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Yu,forEach:function(t,e,r){Yu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!cx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Qo;Pe.Fragment=JR;Pe.Profiler=tI;Pe.PureComponent=sx;Pe.StrictMode=eI;Pe.Suspense=aI;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fI;Pe.act=xN;Pe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=hN({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=lx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)gN.call(e,l)&&!vN.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Tu,type:t.type,key:i,ref:a,props:n,_owner:s}};Pe.createContext=function(t){return t={$$typeof:nI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rI,_context:t},t.Consumer=t};Pe.createElement=yN;Pe.createFactory=function(t){var e=yN.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:iI,render:t}};Pe.isValidElement=cx;Pe.lazy=function(t){return{$$typeof:oI,_payload:{_status:-1,_result:t},_init:dI}};Pe.memo=function(t,e){return{$$typeof:sI,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};Pe.unstable_act=xN;Pe.useCallback=function(t,e){return fr.current.useCallback(t,e)};Pe.useContext=function(t){return fr.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return fr.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return fr.current.useEffect(t,e)};Pe.useId=function(){return fr.current.useId()};Pe.useImperativeHandle=function(t,e,r){return fr.current.useImperativeHandle(t,e,r)};Pe.useInsertionEffect=function(t,e){return fr.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return fr.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return fr.current.useMemo(t,e)};Pe.useReducer=function(t,e,r){return fr.current.useReducer(t,e,r)};Pe.useRef=function(t){return fr.current.useRef(t)};Pe.useState=function(t){return fr.current.useState(t)};Pe.useSyncExternalStore=function(t,e,r){return fr.current.useSyncExternalStore(t,e,r)};Pe.useTransition=function(){return fr.current.useTransition()};Pe.version="18.3.1";dN.exports=Pe;var C=dN.exports;const F=Qe(C),hI=XR({__proto__:null,default:F},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pI=C,mI=Symbol.for("react.element"),gI=Symbol.for("react.fragment"),vI=Object.prototype.hasOwnProperty,yI=pI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xI={key:!0,ref:!0,__self:!0,__source:!0};function bN(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)vI.call(e,n)&&!xI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:mI,type:t,key:a,ref:s,props:i,_owner:yI.current}}op.Fragment=gI;op.jsx=bN;op.jsxs=bN;uN.exports=op;var c=uN.exports,ov={},wN={exports:{}},Ir={},SN={exports:{}},_N={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,B){var U=I.length;I.push(B);e:for(;0<U;){var H=U-1>>>1,V=I[H];if(0<i(V,B))I[H]=B,I[U]=V,U=H;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var B=I[0],U=I.pop();if(U!==B){I[0]=U;e:for(var H=0,V=I.length,q=V>>>1;H<q;){var re=2*(H+1)-1,ae=I[re],de=re+1,_e=I[de];if(0>i(ae,U))de<V&&0>i(_e,ae)?(I[H]=_e,I[de]=U,H=de):(I[H]=ae,I[re]=U,H=re);else if(de<V&&0>i(_e,U))I[H]=_e,I[de]=U,H=de;else break e}}return B}function i(I,B){var U=I.sortIndex-B.sortIndex;return U!==0?U:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=I)n(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(u)}}function _(I){if(g=!1,b(I),!m)if(r(l)!==null)m=!0,G(w);else{var B=r(u);B!==null&&M(_,B.startTime-I)}}function w(I,B){m=!1,g&&(g=!1,x(E),E=-1),p=!0;var U=h;try{for(b(B),f=r(l);f!==null&&(!(f.expirationTime>B)||I&&!D());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=B);B=t.unstable_now(),typeof V=="function"?f.callback=V:f===r(l)&&n(l),b(B)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var re=r(u);re!==null&&M(_,re.startTime-B),q=!1}return q}finally{f=null,h=U,p=!1}}var S=!1,j=null,E=-1,A=5,k=-1;function D(){return!(t.unstable_now()-k<A)}function P(){if(j!==null){var I=t.unstable_now();k=I;var B=!0;try{B=j(!0,I)}finally{B?O():(S=!1,j=null)}}else S=!1}var O;if(typeof y=="function")O=function(){y(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=P,O=function(){W.postMessage(null)}}else O=function(){v(P,0)};function G(I){j=I,S||(S=!0,O())}function M(I,B){E=v(function(){I(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,G(w))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var U=h;h=B;try{return I()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=h;h=I;try{return B()}finally{h=U}},t.unstable_scheduleCallback=function(I,B,U){var H=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,I={id:d++,callback:B,priorityLevel:I,startTime:U,expirationTime:V,sortIndex:-1},U>H?(I.sortIndex=U,e(u,I),r(l)===null&&I===r(u)&&(g?(x(E),E=-1):g=!0,M(_,U-H))):(I.sortIndex=V,e(l,I),m||p||(m=!0,G(w))),I},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(I){var B=h;return function(){var U=h;h=B;try{return I.apply(this,arguments)}finally{h=U}}}})(_N);SN.exports=_N;var bI=SN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI=C,Rr=bI;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EN=new Set,Sc={};function hs(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(Sc[t]=e,t=0;t<e.length;t++)EN.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lv=Object.prototype.hasOwnProperty,SI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lS={},cS={};function _I(t){return lv.call(cS,t)?!0:lv.call(lS,t)?!1:SI.test(t)?cS[t]=!0:(lS[t]=!0,!1)}function EI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jI(t,e,r,n){if(e===null||typeof e>"u"||EI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hr(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var ux=/[\-:]([a-z])/g;function dx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ux,dx);Yt[e]=new hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ux,dx);Yt[e]=new hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ux,dx);Yt[e]=new hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new hr(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fx(t,e,r,n){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jI(e,r,i,n)&&(r=null),n||i===null?_I(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pi=wI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),jN=Symbol.for("react.provider"),AN=Symbol.for("react.context"),px=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),dv=Symbol.for("react.suspense_list"),mx=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),TN=Symbol.for("react.offscreen"),uS=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=uS&&t[uS]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Nm;function ql(t){if(Nm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Nm=e&&e[1]||""}return`
`+Nm+t}var Cm=!1;function km(t,e){if(!t||Cm)return"";Cm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Cm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ql(t):""}function AI(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function fv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Fs:return"Portal";case cv:return"Profiler";case hx:return"StrictMode";case uv:return"Suspense";case dv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AN:return(t.displayName||"Context")+".Consumer";case jN:return(t._context.displayName||"Context")+".Provider";case px:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mx:return e=t.displayName||null,e!==null?e:fv(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return fv(t(e))}catch{}}return null}function TI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fv(e);case 8:return e===hx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function NN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NI(t){var e=NN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xu(t){t._valueTracker||(t._valueTracker=NI(t))}function CN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=NN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function uf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hv(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function dS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ta(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kN(t,e){e=e.checked,e!=null&&fx(t,"checked",e,!1)}function pv(t,e){kN(t,e);var r=ta(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mv(t,e.type,r):e.hasOwnProperty("defaultValue")&&mv(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function mv(t,e,r){(e!=="number"||uf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Yl=Array.isArray;function to(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ta(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Yl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ta(r)}}function ON(t,e){var r=ta(e.value),n=ta(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function pS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,PN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _c(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CI=["Webkit","ms","Moz","O"];Object.keys(ec).forEach(function(t){CI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ec[e]=ec[t]})});function MN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ec.hasOwnProperty(t)&&ec[t]?(""+e).trim():e+"px"}function RN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=MN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var kI=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yv(t,e){if(e){if(kI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function xv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bv=null;function gx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wv=null,ro=null,no=null;function mS(t){if(t=ku(t)){if(typeof wv!="function")throw Error(te(280));var e=t.stateNode;e&&(e=fp(e),wv(t.stateNode,t.type,e))}}function IN(t){ro?no?no.push(t):no=[t]:ro=t}function $N(){if(ro){var t=ro,e=no;if(no=ro=null,mS(t),e)for(t=0;t<e.length;t++)mS(e[t])}}function LN(t,e){return t(e)}function FN(){}var Om=!1;function BN(t,e,r){if(Om)return t(e,r);Om=!0;try{return LN(t,e,r)}finally{Om=!1,(ro!==null||no!==null)&&(FN(),$N())}}function Ec(t,e){var r=t.stateNode;if(r===null)return null;var n=fp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var Sv=!1;if(si)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){Sv=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Sv=!1}function OI(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var tc=!1,df=null,ff=!1,_v=null,DI={onError:function(t){tc=!0,df=t}};function PI(t,e,r,n,i,a,s,o,l){tc=!1,df=null,OI.apply(DI,arguments)}function MI(t,e,r,n,i,a,s,o,l){if(PI.apply(this,arguments),tc){if(tc){var u=df;tc=!1,df=null}else throw Error(te(198));ff||(ff=!0,_v=u)}}function ps(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function UN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gS(t){if(ps(t)!==t)throw Error(te(188))}function RI(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return gS(i),t;if(a===n)return gS(i),e;a=a.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function HN(t){return t=RI(t),t!==null?zN(t):null}function zN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zN(t);if(e!==null)return e;t=t.sibling}return null}var WN=Rr.unstable_scheduleCallback,vS=Rr.unstable_cancelCallback,II=Rr.unstable_shouldYield,$I=Rr.unstable_requestPaint,St=Rr.unstable_now,LI=Rr.unstable_getCurrentPriorityLevel,vx=Rr.unstable_ImmediatePriority,VN=Rr.unstable_UserBlockingPriority,hf=Rr.unstable_NormalPriority,FI=Rr.unstable_LowPriority,GN=Rr.unstable_IdlePriority,lp=null,Cn=null;function BI(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(lp,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:zI,UI=Math.log,HI=Math.LN2;function zI(t){return t>>>=0,t===0?32:31-(UI(t)/HI|0)|0}var Zu=64,Ju=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Kl(o):(a&=s,a!==0&&(n=Kl(a)))}else s=r&~i,s!==0?n=Kl(s):a!==0&&(n=Kl(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gn(e),i=1<<r,n|=t[r],e&=~i;return n}function WI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-gn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=WI(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Ev(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qN(){var t=Zu;return Zu<<=1,!(Zu&4194240)&&(Zu=64),t}function Dm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Nu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=r}function GI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-gn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function yx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ve=0;function YN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KN,xx,XN,QN,ZN,jv=!1,ed=[],zi=null,Wi=null,Vi=null,jc=new Map,Ac=new Map,Oi=[],qI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yS(t,e){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(e.pointerId)}}function El(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ku(e),e!==null&&xx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YI(t,e,r,n,i){switch(e){case"focusin":return zi=El(zi,t,e,r,n,i),!0;case"dragenter":return Wi=El(Wi,t,e,r,n,i),!0;case"mouseover":return Vi=El(Vi,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return jc.set(a,El(jc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Ac.set(a,El(Ac.get(a)||null,t,e,r,n,i)),!0}return!1}function JN(t){var e=$a(t.target);if(e!==null){var r=ps(e);if(r!==null){if(e=r.tag,e===13){if(e=UN(r),e!==null){t.blockedOn=e,ZN(t.priority,function(){XN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Av(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);bv=n,r.target.dispatchEvent(n),bv=null}else return e=ku(r),e!==null&&xx(e),t.blockedOn=r,!1;e.shift()}return!0}function xS(t,e,r){Vd(t)&&r.delete(e)}function KI(){jv=!1,zi!==null&&Vd(zi)&&(zi=null),Wi!==null&&Vd(Wi)&&(Wi=null),Vi!==null&&Vd(Vi)&&(Vi=null),jc.forEach(xS),Ac.forEach(xS)}function jl(t,e){t.blockedOn===e&&(t.blockedOn=null,jv||(jv=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,KI)))}function Tc(t){function e(i){return jl(i,t)}if(0<ed.length){jl(ed[0],t);for(var r=1;r<ed.length;r++){var n=ed[r];n.blockedOn===t&&(n.blockedOn=null)}}for(zi!==null&&jl(zi,t),Wi!==null&&jl(Wi,t),Vi!==null&&jl(Vi,t),jc.forEach(e),Ac.forEach(e),r=0;r<Oi.length;r++)n=Oi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Oi.length&&(r=Oi[0],r.blockedOn===null);)JN(r),r.blockedOn===null&&Oi.shift()}var io=pi.ReactCurrentBatchConfig,mf=!0;function XI(t,e,r,n){var i=Ve,a=io.transition;io.transition=null;try{Ve=1,bx(t,e,r,n)}finally{Ve=i,io.transition=a}}function QI(t,e,r,n){var i=Ve,a=io.transition;io.transition=null;try{Ve=4,bx(t,e,r,n)}finally{Ve=i,io.transition=a}}function bx(t,e,r,n){if(mf){var i=Av(t,e,r,n);if(i===null)Hm(t,e,n,gf,r),yS(t,n);else if(YI(i,t,e,r,n))n.stopPropagation();else if(yS(t,n),e&4&&-1<qI.indexOf(t)){for(;i!==null;){var a=ku(i);if(a!==null&&KN(a),a=Av(t,e,r,n),a===null&&Hm(t,e,n,gf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Hm(t,e,n,null,r)}}var gf=null;function Av(t,e,r,n){if(gf=null,t=gx(n),t=$a(t),t!==null)if(e=ps(t),e===null)t=null;else if(r=e.tag,r===13){if(t=UN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gf=t,null}function eC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LI()){case vx:return 1;case VN:return 4;case hf:case FI:return 16;case GN:return 536870912;default:return 16}default:return 16}}var Ri=null,wx=null,Gd=null;function tC(){if(Gd)return Gd;var t,e=wx,r=e.length,n,i="value"in Ri?Ri.value:Ri.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Gd=i.slice(t,1<n?1-n:void 0)}function qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function bS(){return!1}function $r(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?td:bS,this.isPropagationStopped=bS,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sx=$r(Zo),Cu=yt({},Zo,{view:0,detail:0}),ZI=$r(Cu),Pm,Mm,Al,cp=yt({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_x,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(Pm=t.screenX-Al.screenX,Mm=t.screenY-Al.screenY):Mm=Pm=0,Al=t),Pm)},movementY:function(t){return"movementY"in t?t.movementY:Mm}}),wS=$r(cp),JI=yt({},cp,{dataTransfer:0}),e$=$r(JI),t$=yt({},Cu,{relatedTarget:0}),Rm=$r(t$),r$=yt({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),n$=$r(r$),i$=yt({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a$=$r(i$),s$=yt({},Zo,{data:0}),SS=$r(s$),o$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c$[t])?!!e[t]:!1}function _x(){return u$}var d$=yt({},Cu,{key:function(t){if(t.key){var e=o$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?l$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_x,charCode:function(t){return t.type==="keypress"?qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f$=$r(d$),h$=yt({},cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_S=$r(h$),p$=yt({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_x}),m$=$r(p$),g$=yt({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),v$=$r(g$),y$=yt({},cp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x$=$r(y$),b$=[9,13,27,32],Ex=si&&"CompositionEvent"in window,rc=null;si&&"documentMode"in document&&(rc=document.documentMode);var w$=si&&"TextEvent"in window&&!rc,rC=si&&(!Ex||rc&&8<rc&&11>=rc),ES=String.fromCharCode(32),jS=!1;function nC(t,e){switch(t){case"keyup":return b$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function S$(t,e){switch(t){case"compositionend":return iC(e);case"keypress":return e.which!==32?null:(jS=!0,ES);case"textInput":return t=e.data,t===ES&&jS?null:t;default:return null}}function _$(t,e){if(Us)return t==="compositionend"||!Ex&&nC(t,e)?(t=tC(),Gd=wx=Ri=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rC&&e.locale!=="ko"?null:e.data;default:return null}}var E$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E$[t.type]:e==="textarea"}function aC(t,e,r,n){IN(n),e=vf(e,"onChange"),0<e.length&&(r=new Sx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var nc=null,Nc=null;function j$(t){gC(t,0)}function up(t){var e=Ws(t);if(CN(e))return t}function A$(t,e){if(t==="change")return e}var sC=!1;if(si){var Im;if(si){var $m="oninput"in document;if(!$m){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),$m=typeof TS.oninput=="function"}Im=$m}else Im=!1;sC=Im&&(!document.documentMode||9<document.documentMode)}function NS(){nc&&(nc.detachEvent("onpropertychange",oC),Nc=nc=null)}function oC(t){if(t.propertyName==="value"&&up(Nc)){var e=[];aC(e,Nc,t,gx(t)),BN(j$,e)}}function T$(t,e,r){t==="focusin"?(NS(),nc=e,Nc=r,nc.attachEvent("onpropertychange",oC)):t==="focusout"&&NS()}function N$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return up(Nc)}function C$(t,e){if(t==="click")return up(e)}function k$(t,e){if(t==="input"||t==="change")return up(e)}function O$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:O$;function Cc(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!lv.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function CS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kS(t,e){var r=CS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=CS(r)}}function lC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cC(){for(var t=window,e=uf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=uf(t.document)}return e}function jx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D$(t){var e=cC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&lC(r.ownerDocument.documentElement,r)){if(n!==null&&jx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=kS(r,a);var s=kS(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P$=si&&"documentMode"in document&&11>=document.documentMode,Hs=null,Tv=null,ic=null,Nv=!1;function OS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nv||Hs==null||Hs!==uf(n)||(n=Hs,"selectionStart"in n&&jx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ic&&Cc(ic,n)||(ic=n,n=vf(Tv,"onSelect"),0<n.length&&(e=new Sx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Hs)))}function rd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zs={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},Lm={},uC={};si&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function dp(t){if(Lm[t])return Lm[t];if(!zs[t])return t;var e=zs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in uC)return Lm[t]=e[r];return t}var dC=dp("animationend"),fC=dp("animationiteration"),hC=dp("animationstart"),pC=dp("transitionend"),mC=new Map,DS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(t,e){mC.set(t,e),hs(e,[t])}for(var Fm=0;Fm<DS.length;Fm++){var Bm=DS[Fm],M$=Bm.toLowerCase(),R$=Bm[0].toUpperCase()+Bm.slice(1);oa(M$,"on"+R$)}oa(dC,"onAnimationEnd");oa(fC,"onAnimationIteration");oa(hC,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(pC,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function PS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MI(n,e,void 0,t),t.currentTarget=null}function gC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;PS(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;PS(i,o,u),a=l}}}if(ff)throw t=_v,ff=!1,_v=null,t}function lt(t,e){var r=e[Pv];r===void 0&&(r=e[Pv]=new Set);var n=t+"__bubble";r.has(n)||(vC(e,t,2,!1),r.add(n))}function Um(t,e,r){var n=0;e&&(n|=4),vC(r,t,n,e)}var nd="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[nd]){t[nd]=!0,EN.forEach(function(r){r!=="selectionchange"&&(I$.has(r)||Um(r,!1,t),Um(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nd]||(e[nd]=!0,Um("selectionchange",!1,e))}}function vC(t,e,r,n){switch(eC(e)){case 1:var i=XI;break;case 4:i=QI;break;default:i=bx}r=i.bind(null,e,r,t),i=void 0,!Sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Hm(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=$a(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}BN(function(){var u=a,d=gx(r),f=[];e:{var h=mC.get(t);if(h!==void 0){var p=Sx,m=t;switch(t){case"keypress":if(qd(r)===0)break e;case"keydown":case"keyup":p=f$;break;case"focusin":m="focus",p=Rm;break;case"focusout":m="blur",p=Rm;break;case"beforeblur":case"afterblur":p=Rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=e$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=m$;break;case dC:case fC:case hC:p=n$;break;case pC:p=v$;break;case"scroll":p=ZI;break;case"wheel":p=x$;break;case"copy":case"cut":case"paste":p=a$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_S}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=Ec(y,x),_!=null&&g.push(Oc(y,_,b)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==bv&&(m=r.relatedTarget||r.fromElement)&&($a(m)||m[oi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?$a(m):null,m!==null&&(v=ps(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=wS,_="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=_S,_="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:Ws(p),b=m==null?h:Ws(m),h=new g(_,y+"leave",p,r,d),h.target=v,h.relatedTarget=b,_=null,$a(d)===u&&(g=new g(x,y+"enter",m,r,d),g.target=b,g.relatedTarget=v,_=g),v=_,p&&m)t:{for(g=p,x=m,y=0,b=g;b;b=As(b))y++;for(b=0,_=x;_;_=As(_))b++;for(;0<y-b;)g=As(g),y--;for(;0<b-y;)x=As(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=As(g),x=As(x)}g=null}else g=null;p!==null&&MS(f,h,p,g,!1),m!==null&&v!==null&&MS(f,v,m,g,!0)}}e:{if(h=u?Ws(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=A$;else if(AS(h))if(sC)w=k$;else{w=N$;var S=T$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=C$);if(w&&(w=w(t,u))){aC(f,w,r,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&mv(h,"number",h.value)}switch(S=u?Ws(u):window,t){case"focusin":(AS(S)||S.contentEditable==="true")&&(Hs=S,Tv=u,ic=null);break;case"focusout":ic=Tv=Hs=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,OS(f,r,d);break;case"selectionchange":if(P$)break;case"keydown":case"keyup":OS(f,r,d)}var j;if(Ex)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Us?nC(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(rC&&r.locale!=="ko"&&(Us||E!=="onCompositionStart"?E==="onCompositionEnd"&&Us&&(j=tC()):(Ri=d,wx="value"in Ri?Ri.value:Ri.textContent,Us=!0)),S=vf(u,E),0<S.length&&(E=new SS(E,t,null,r,d),f.push({event:E,listeners:S}),j?E.data=j:(j=iC(r),j!==null&&(E.data=j)))),(j=w$?S$(t,r):_$(t,r))&&(u=vf(u,"onBeforeInput"),0<u.length&&(d=new SS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}gC(f,e)})}function Oc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function vf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ec(t,r),a!=null&&n.unshift(Oc(t,a,i)),a=Ec(t,e),a!=null&&n.push(Oc(t,a,i))),t=t.return}return n}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function MS(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Ec(r,a),l!=null&&s.unshift(Oc(r,l,o))):i||(l=Ec(r,a),l!=null&&s.push(Oc(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var $$=/\r\n?/g,L$=/\u0000|\uFFFD/g;function RS(t){return(typeof t=="string"?t:""+t).replace($$,`
`).replace(L$,"")}function id(t,e,r){if(e=RS(e),RS(t)!==e&&r)throw Error(te(425))}function yf(){}var Cv=null,kv=null;function Ov(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dv=typeof setTimeout=="function"?setTimeout:void 0,F$=typeof clearTimeout=="function"?clearTimeout:void 0,IS=typeof Promise=="function"?Promise:void 0,B$=typeof queueMicrotask=="function"?queueMicrotask:typeof IS<"u"?function(t){return IS.resolve(null).then(t).catch(U$)}:Dv;function U$(t){setTimeout(function(){throw t})}function zm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Tc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Tc(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $S(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),jn="__reactFiber$"+Jo,Dc="__reactProps$"+Jo,oi="__reactContainer$"+Jo,Pv="__reactEvents$"+Jo,H$="__reactListeners$"+Jo,z$="__reactHandles$"+Jo;function $a(t){var e=t[jn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[oi]||r[jn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=$S(t);t!==null;){if(r=t[jn])return r;t=$S(t)}return e}t=r,r=t.parentNode}return null}function ku(t){return t=t[jn]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function fp(t){return t[Dc]||null}var Mv=[],Vs=-1;function la(t){return{current:t}}function dt(t){0>Vs||(t.current=Mv[Vs],Mv[Vs]=null,Vs--)}function nt(t,e){Vs++,Mv[Vs]=t.current,t.current=e}var ra={},sr=la(ra),wr=la(!1),Za=ra;function go(t,e){var r=t.type.contextTypes;if(!r)return ra;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(t){return t=t.childContextTypes,t!=null}function xf(){dt(wr),dt(sr)}function LS(t,e,r){if(sr.current!==ra)throw Error(te(168));nt(sr,e),nt(wr,r)}function yC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,TI(t)||"Unknown",i));return yt({},r,n)}function bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ra,Za=sr.current,nt(sr,t),nt(wr,wr.current),!0}function FS(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=yC(t,e,Za),n.__reactInternalMemoizedMergedChildContext=t,dt(wr),dt(sr),nt(sr,t)):dt(wr),nt(wr,r)}var Gn=null,hp=!1,Wm=!1;function xC(t){Gn===null?Gn=[t]:Gn.push(t)}function W$(t){hp=!0,xC(t)}function ca(){if(!Wm&&Gn!==null){Wm=!0;var t=0,e=Ve;try{var r=Gn;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Gn=null,hp=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(t+1)),WN(vx,ca),i}finally{Ve=e,Wm=!1}}return null}var Gs=[],qs=0,wf=null,Sf=0,zr=[],Wr=0,Ja=null,Yn=1,Kn="";function Aa(t,e){Gs[qs++]=Sf,Gs[qs++]=wf,wf=t,Sf=e}function bC(t,e,r){zr[Wr++]=Yn,zr[Wr++]=Kn,zr[Wr++]=Ja,Ja=t;var n=Yn;t=Kn;var i=32-gn(n)-1;n&=~(1<<i),r+=1;var a=32-gn(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Yn=1<<32-gn(e)+i|r<<i|n,Kn=a+t}else Yn=1<<a|r<<i|n,Kn=t}function Ax(t){t.return!==null&&(Aa(t,1),bC(t,1,0))}function Tx(t){for(;t===wf;)wf=Gs[--qs],Gs[qs]=null,Sf=Gs[--qs],Gs[qs]=null;for(;t===Ja;)Ja=zr[--Wr],zr[Wr]=null,Kn=zr[--Wr],zr[Wr]=null,Yn=zr[--Wr],zr[Wr]=null}var Dr=null,kr=null,ft=!1,fn=null;function wC(t,e){var r=Gr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function BS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dr=t,kr=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dr=t,kr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ja!==null?{id:Yn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Dr=t,kr=null,!0):!1;default:return!1}}function Rv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iv(t){if(ft){var e=kr;if(e){var r=e;if(!BS(t,e)){if(Rv(t))throw Error(te(418));e=Gi(r.nextSibling);var n=Dr;e&&BS(t,e)?wC(n,r):(t.flags=t.flags&-4097|2,ft=!1,Dr=t)}}else{if(Rv(t))throw Error(te(418));t.flags=t.flags&-4097|2,ft=!1,Dr=t}}}function US(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dr=t}function ad(t){if(t!==Dr)return!1;if(!ft)return US(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ov(t.type,t.memoizedProps)),e&&(e=kr)){if(Rv(t))throw SC(),Error(te(418));for(;e;)wC(t,e),e=Gi(e.nextSibling)}if(US(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){kr=Gi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}kr=null}}else kr=Dr?Gi(t.stateNode.nextSibling):null;return!0}function SC(){for(var t=kr;t;)t=Gi(t.nextSibling)}function vo(){kr=Dr=null,ft=!1}function Nx(t){fn===null?fn=[t]:fn.push(t)}var V$=pi.ReactCurrentBatchConfig;function Tl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HS(t){var e=t._init;return e(t._payload)}function _C(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Xi(x,y),x.index=0,x.sibling=null,x}function a(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,_){return y===null||y.tag!==6?(y=Qm(b,x.mode,_),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,_){var w=b.type;return w===Bs?d(x,y,b.props.children,_,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ai&&HS(w)===y.type)?(_=i(y,b.props),_.ref=Tl(x,y,b),_.return=x,_):(_=ef(b.type,b.key,b.props,null,x.mode,_),_.ref=Tl(x,y,b),_.return=x,_)}function u(x,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Zm(b,x.mode,_),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function d(x,y,b,_,w){return y===null||y.tag!==7?(y=qa(b,x.mode,_,w),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qm(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ku:return b=ef(y.type,y.key,y.props,null,x.mode,b),b.ref=Tl(x,null,y),b.return=x,b;case Fs:return y=Zm(y,x.mode,b),y.return=x,y;case Ai:var _=y._init;return f(x,_(y._payload),b)}if(Yl(y)||Sl(y))return y=qa(y,x.mode,b,null),y.return=x,y;sd(x,y)}return null}function h(x,y,b,_){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(x,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:return b.key===w?l(x,y,b,_):null;case Fs:return b.key===w?u(x,y,b,_):null;case Ai:return w=b._init,h(x,y,w(b._payload),_)}if(Yl(b)||Sl(b))return w!==null?null:d(x,y,b,_,null);sd(x,b)}return null}function p(x,y,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,o(y,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return x=x.get(_.key===null?b:_.key)||null,l(y,x,_,w);case Fs:return x=x.get(_.key===null?b:_.key)||null,u(y,x,_,w);case Ai:var S=_._init;return p(x,y,b,S(_._payload),w)}if(Yl(_)||Sl(_))return x=x.get(b)||null,d(y,x,_,w,null);sd(y,_)}return null}function m(x,y,b,_){for(var w=null,S=null,j=y,E=y=0,A=null;j!==null&&E<b.length;E++){j.index>E?(A=j,j=null):A=j.sibling;var k=h(x,j,b[E],_);if(k===null){j===null&&(j=A);break}t&&j&&k.alternate===null&&e(x,j),y=a(k,y,E),S===null?w=k:S.sibling=k,S=k,j=A}if(E===b.length)return r(x,j),ft&&Aa(x,E),w;if(j===null){for(;E<b.length;E++)j=f(x,b[E],_),j!==null&&(y=a(j,y,E),S===null?w=j:S.sibling=j,S=j);return ft&&Aa(x,E),w}for(j=n(x,j);E<b.length;E++)A=p(j,x,E,b[E],_),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?E:A.key),y=a(A,y,E),S===null?w=A:S.sibling=A,S=A);return t&&j.forEach(function(D){return e(x,D)}),ft&&Aa(x,E),w}function g(x,y,b,_){var w=Sl(b);if(typeof w!="function")throw Error(te(150));if(b=w.call(b),b==null)throw Error(te(151));for(var S=w=null,j=y,E=y=0,A=null,k=b.next();j!==null&&!k.done;E++,k=b.next()){j.index>E?(A=j,j=null):A=j.sibling;var D=h(x,j,k.value,_);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(x,j),y=a(D,y,E),S===null?w=D:S.sibling=D,S=D,j=A}if(k.done)return r(x,j),ft&&Aa(x,E),w;if(j===null){for(;!k.done;E++,k=b.next())k=f(x,k.value,_),k!==null&&(y=a(k,y,E),S===null?w=k:S.sibling=k,S=k);return ft&&Aa(x,E),w}for(j=n(x,j);!k.done;E++,k=b.next())k=p(j,x,E,k.value,_),k!==null&&(t&&k.alternate!==null&&j.delete(k.key===null?E:k.key),y=a(k,y,E),S===null?w=k:S.sibling=k,S=k);return t&&j.forEach(function(P){return e(x,P)}),ft&&Aa(x,E),w}function v(x,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Bs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:e:{for(var w=b.key,S=y;S!==null;){if(S.key===w){if(w=b.type,w===Bs){if(S.tag===7){r(x,S.sibling),y=i(S,b.props.children),y.return=x,x=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ai&&HS(w)===S.type){r(x,S.sibling),y=i(S,b.props),y.ref=Tl(x,S,b),y.return=x,x=y;break e}r(x,S);break}else e(x,S);S=S.sibling}b.type===Bs?(y=qa(b.props.children,x.mode,_,b.key),y.return=x,x=y):(_=ef(b.type,b.key,b.props,null,x.mode,_),_.ref=Tl(x,y,b),_.return=x,x=_)}return s(x);case Fs:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=Zm(b,x.mode,_),y.return=x,x=y}return s(x);case Ai:return S=b._init,v(x,y,S(b._payload),_)}if(Yl(b))return m(x,y,b,_);if(Sl(b))return g(x,y,b,_);sd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,b),y.return=x,x=y):(r(x,y),y=Qm(b,x.mode,_),y.return=x,x=y),s(x)):r(x,y)}return v}var yo=_C(!0),EC=_C(!1),_f=la(null),Ef=null,Ys=null,Cx=null;function kx(){Cx=Ys=Ef=null}function Ox(t){var e=_f.current;dt(_f),t._currentValue=e}function $v(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ao(t,e){Ef=t,Cx=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(Cx!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(Ef===null)throw Error(te(308));Ys=t,Ef.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var La=null;function Dx(t){La===null?La=[t]:La.push(t)}function jC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Dx(e)):(r.next=i.next,i.next=r),e.interleaved=r,li(t,n)}function li(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ti=!1;function Px(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,li(t,r)}return i=n.interleaved,i===null?(e.next=e,Dx(n)):(e.next=i.next,i.next=e),n.interleaved=e,li(t,r)}function Yd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yx(t,r)}}function zS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function jf(t,e,r,n){var i=t.updateQueue;Ti=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=yt({},f,h);break e;case 2:Ti=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ts|=s,t.lanes=s,t.memoizedState=f}}function WS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var Ou={},kn=la(Ou),Pc=la(Ou),Mc=la(Ou);function Fa(t){if(t===Ou)throw Error(te(174));return t}function Mx(t,e){switch(nt(Mc,e),nt(Pc,t),nt(kn,Ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vv(e,t)}dt(kn),nt(kn,e)}function xo(){dt(kn),dt(Pc),dt(Mc)}function TC(t){Fa(Mc.current);var e=Fa(kn.current),r=vv(e,t.type);e!==r&&(nt(Pc,t),nt(kn,r))}function Rx(t){Pc.current===t&&(dt(kn),dt(Pc))}var mt=la(0);function Af(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vm=[];function Ix(){for(var t=0;t<Vm.length;t++)Vm[t]._workInProgressVersionPrimary=null;Vm.length=0}var Kd=pi.ReactCurrentDispatcher,Gm=pi.ReactCurrentBatchConfig,es=0,vt=null,Ot=null,Lt=null,Tf=!1,ac=!1,Rc=0,G$=0;function Xt(){throw Error(te(321))}function $x(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yn(t[r],e[r]))return!1;return!0}function Lx(t,e,r,n,i,a){if(es=a,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kd.current=t===null||t.memoizedState===null?X$:Q$,t=r(n,i),ac){a=0;do{if(ac=!1,Rc=0,25<=a)throw Error(te(301));a+=1,Lt=Ot=null,e.updateQueue=null,Kd.current=Z$,t=r(n,i)}while(ac)}if(Kd.current=Nf,e=Ot!==null&&Ot.next!==null,es=0,Lt=Ot=vt=null,Tf=!1,e)throw Error(te(300));return t}function Fx(){var t=Rc!==0;return Rc=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?vt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Zr(){if(Ot===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Lt===null?vt.memoizedState:Lt.next;if(e!==null)Lt=e,Ot=t;else{if(t===null)throw Error(te(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?vt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Ic(t,e){return typeof e=="function"?e(t):e}function qm(t){var e=Zr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Ot,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((es&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,vt.lanes|=d,ts|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,yn(n,e.memoizedState)||(yr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,vt.lanes|=a,ts|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ym(t){var e=Zr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);yn(a,e.memoizedState)||(yr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function NC(){}function CC(t,e){var r=vt,n=Zr(),i=e(),a=!yn(n.memoizedState,i);if(a&&(n.memoizedState=i,yr=!0),n=n.queue,Bx(DC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,$c(9,OC.bind(null,r,n,i,e),void 0,null),Ft===null)throw Error(te(349));es&30||kC(r,e,i)}return i}function kC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function OC(t,e,r,n){e.value=r,e.getSnapshot=n,PC(e)&&MC(t)}function DC(t,e,r){return r(function(){PC(e)&&MC(t)})}function PC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yn(t,r)}catch{return!0}}function MC(t){var e=li(t,1);e!==null&&vn(e,t,1,-1)}function VS(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:t},e.queue=t,t=t.dispatch=K$.bind(null,vt,t),[e.memoizedState,t]}function $c(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function RC(){return Zr().memoizedState}function Xd(t,e,r,n){var i=_n();vt.flags|=t,i.memoizedState=$c(1|e,r,void 0,n===void 0?null:n)}function pp(t,e,r,n){var i=Zr();n=n===void 0?null:n;var a=void 0;if(Ot!==null){var s=Ot.memoizedState;if(a=s.destroy,n!==null&&$x(n,s.deps)){i.memoizedState=$c(e,r,a,n);return}}vt.flags|=t,i.memoizedState=$c(1|e,r,a,n)}function GS(t,e){return Xd(8390656,8,t,e)}function Bx(t,e){return pp(2048,8,t,e)}function IC(t,e){return pp(4,2,t,e)}function $C(t,e){return pp(4,4,t,e)}function LC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FC(t,e,r){return r=r!=null?r.concat([t]):null,pp(4,4,LC.bind(null,e,t),r)}function Ux(){}function BC(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$x(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function UC(t,e){var r=Zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$x(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function HC(t,e,r){return es&21?(yn(r,e)||(r=qN(),vt.lanes|=r,ts|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=r)}function q$(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=Gm.transition;Gm.transition={};try{t(!1),e()}finally{Ve=r,Gm.transition=n}}function zC(){return Zr().memoizedState}function Y$(t,e,r){var n=Ki(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},WC(t))VC(e,r);else if(r=jC(t,e,r,n),r!==null){var i=cr();vn(r,t,n,i),GC(r,e,n)}}function K$(t,e,r){var n=Ki(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(WC(t))VC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,yn(o,s)){var l=e.interleaved;l===null?(i.next=i,Dx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=jC(t,e,i,n),r!==null&&(i=cr(),vn(r,t,n,i),GC(r,e,n))}}function WC(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function VC(t,e){ac=Tf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function GC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yx(t,r)}}var Nf={readContext:Qr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},X$={readContext:Qr,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:GS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xd(4194308,4,LC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xd(4,2,t,e)},useMemo:function(t,e){var r=_n();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=_n();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Y$.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:VS,useDebugValue:Ux,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=VS(!1),e=t[0];return t=q$.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=_n();if(ft){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Ft===null)throw Error(te(349));es&30||kC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,GS(DC.bind(null,n,a,t),[t]),n.flags|=2048,$c(9,OC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=_n(),e=Ft.identifierPrefix;if(ft){var r=Kn,n=Yn;r=(n&~(1<<32-gn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Rc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=G$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q$={readContext:Qr,useCallback:BC,useContext:Qr,useEffect:Bx,useImperativeHandle:FC,useInsertionEffect:IC,useLayoutEffect:$C,useMemo:UC,useReducer:qm,useRef:RC,useState:function(){return qm(Ic)},useDebugValue:Ux,useDeferredValue:function(t){var e=Zr();return HC(e,Ot.memoizedState,t)},useTransition:function(){var t=qm(Ic)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:NC,useSyncExternalStore:CC,useId:zC,unstable_isNewReconciler:!1},Z$={readContext:Qr,useCallback:BC,useContext:Qr,useEffect:Bx,useImperativeHandle:FC,useInsertionEffect:IC,useLayoutEffect:$C,useMemo:UC,useReducer:Ym,useRef:RC,useState:function(){return Ym(Ic)},useDebugValue:Ux,useDeferredValue:function(t){var e=Zr();return Ot===null?e.memoizedState=t:HC(e,Ot.memoizedState,t)},useTransition:function(){var t=Ym(Ic)[0],e=Zr().memoizedState;return[t,e]},useMutableSource:NC,useSyncExternalStore:CC,useId:zC,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Lv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mp={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cr(),i=Ki(t),a=ei(n,i);a.payload=e,r!=null&&(a.callback=r),e=qi(t,a,i),e!==null&&(vn(e,t,i,n),Yd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cr(),i=Ki(t),a=ei(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=qi(t,a,i),e!==null&&(vn(e,t,i,n),Yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cr(),n=Ki(t),i=ei(r,n);i.tag=2,e!=null&&(i.callback=e),e=qi(t,i,n),e!==null&&(vn(e,t,n,r),Yd(e,t,n))}};function qS(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Cc(r,n)||!Cc(i,a):!0}function qC(t,e,r){var n=!1,i=ra,a=e.contextType;return typeof a=="object"&&a!==null?a=Qr(a):(i=Sr(e)?Za:sr.current,n=e.contextTypes,a=(n=n!=null)?go(t,i):ra),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function YS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mp.enqueueReplaceState(e,e.state,null)}function Fv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Px(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qr(a):(a=Sr(e)?Za:sr.current,i.context=go(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Lv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mp.enqueueReplaceState(i,i.state,null),jf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,e){try{var r="",n=e;do r+=AI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Km(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Bv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var J$=typeof WeakMap=="function"?WeakMap:Map;function YC(t,e,r){r=ei(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){kf||(kf=!0,Xv=n),Bv(t,e)},r}function KC(t,e,r){r=ei(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Bv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Bv(t,e),typeof n!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function KS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new J$;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=hL.bind(null,t,e,r),e.then(t,t))}function XS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ei(-1,1),e.tag=2,qi(r,e,1))),r.lanes|=1),t)}var eL=pi.ReactCurrentOwner,yr=!1;function or(t,e,r,n){e.child=t===null?EC(e,null,r,n):yo(e,t.child,r,n)}function ZS(t,e,r,n,i){r=r.render;var a=e.ref;return ao(e,i),n=Lx(t,e,r,n,a,i),r=Fx(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(ft&&r&&Ax(e),e.flags|=1,or(t,e,n,i),e.child)}function JS(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Kx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,XC(t,e,a,n,i)):(t=ef(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Cc,r(s,n)&&t.ref===e.ref)return ci(t,e,i)}return e.flags|=1,t=Xi(a,n),t.ref=e.ref,t.return=e,e.child=t}function XC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Cc(a,n)&&t.ref===e.ref)if(yr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(yr=!0);else return e.lanes=t.lanes,ci(t,e,i)}return Uv(t,e,r,n,i)}function QC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Xs,Tr),Tr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Xs,Tr),Tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,nt(Xs,Tr),Tr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,nt(Xs,Tr),Tr|=n;return or(t,e,i,r),e.child}function ZC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Uv(t,e,r,n,i){var a=Sr(r)?Za:sr.current;return a=go(e,a),ao(e,i),r=Lx(t,e,r,n,a,i),n=Fx(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ci(t,e,i)):(ft&&n&&Ax(e),e.flags|=1,or(t,e,r,i),e.child)}function e_(t,e,r,n,i){if(Sr(r)){var a=!0;bf(e)}else a=!1;if(ao(e,i),e.stateNode===null)Qd(t,e),qC(e,r,n),Fv(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=Sr(r)?Za:sr.current,u=go(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&YS(e,s,n,u),Ti=!1;var h=e.memoizedState;s.state=h,jf(e,n,s,i),l=e.memoizedState,o!==n||h!==l||wr.current||Ti?(typeof d=="function"&&(Lv(e,r,d,n),l=e.memoizedState),(o=Ti||qS(e,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,AC(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:on(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qr(l):(l=Sr(r)?Za:sr.current,l=go(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&YS(e,s,n,l),Ti=!1,h=e.memoizedState,s.state=h,jf(e,n,s,i);var m=e.memoizedState;o!==f||h!==m||wr.current||Ti?(typeof p=="function"&&(Lv(e,r,p,n),m=e.memoizedState),(u=Ti||qS(e,r,u,n,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Hv(t,e,r,n,a,i)}function Hv(t,e,r,n,i,a){ZC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&FS(e,r,!1),ci(t,e,a);n=e.stateNode,eL.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=yo(e,t.child,null,a),e.child=yo(e,null,o,a)):or(t,e,o,a),e.memoizedState=n.state,i&&FS(e,r,!0),e.child}function JC(t){var e=t.stateNode;e.pendingContext?LS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LS(t,e.context,!1),Mx(t,e.containerInfo)}function t_(t,e,r,n,i){return vo(),Nx(i),e.flags|=256,or(t,e,r,n),e.child}var zv={dehydrated:null,treeContext:null,retryLane:0};function Wv(t){return{baseLanes:t,cachePool:null,transitions:null}}function ek(t,e,r){var n=e.pendingProps,i=mt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(mt,i&1),t===null)return Iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=yp(s,n,0,null),t=qa(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Wv(r),e.memoizedState=zv,t):Hx(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return tL(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Xi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Xi(o,a):(a=qa(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?Wv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=zv,n}return a=t.child,t=a.sibling,n=Xi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Hx(t,e){return e=yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function od(t,e,r,n){return n!==null&&Nx(n),yo(e,t.child,null,r),t=Hx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tL(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Km(Error(te(422))),od(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=yp({mode:"visible",children:n.children},i,0,null),a=qa(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&yo(e,t.child,null,s),e.child.memoizedState=Wv(s),e.memoizedState=zv,a);if(!(e.mode&1))return od(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(te(419)),n=Km(a,n,void 0),od(t,e,s,n)}if(o=(s&t.childLanes)!==0,yr||o){if(n=Ft,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,li(t,i),vn(n,t,i,-1))}return Yx(),n=Km(Error(te(421))),od(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pL.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,kr=Gi(i.nextSibling),Dr=e,ft=!0,fn=null,t!==null&&(zr[Wr++]=Yn,zr[Wr++]=Kn,zr[Wr++]=Ja,Yn=t.id,Kn=t.overflow,Ja=e),e=Hx(e,n.children),e.flags|=4096,e)}function r_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$v(t.return,e,r)}function Xm(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function tk(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(or(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r_(t,r,e);else if(t.tag===19)r_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nt(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Af(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Xm(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Af(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Xm(e,!0,r,null,a);break;case"together":Xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=Xi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rL(t,e,r){switch(e.tag){case 3:JC(e),vo();break;case 5:TC(e);break;case 1:Sr(e.type)&&bf(e);break;case 4:Mx(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;nt(_f,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nt(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?ek(t,e,r):(nt(mt,mt.current&1),t=ci(t,e,r),t!==null?t.sibling:null);nt(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return tk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,QC(t,e,r)}return ci(t,e,r)}var rk,Vv,nk,ik;rk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vv=function(){};nk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Fa(kn.current);var a=null;switch(r){case"input":i=hv(t,i),n=hv(t,n),a=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),a=[];break;case"textarea":i=gv(t,i),n=gv(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yf)}yv(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};ik=function(t,e,r,n){r!==n&&(e.flags|=4)};function Nl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nL(t,e,r){var n=e.pendingProps;switch(Tx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return Sr(e.type)&&xf(),Qt(e),null;case 3:return n=e.stateNode,xo(),dt(wr),dt(sr),Ix(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Jv(fn),fn=null))),Vv(t,e),Qt(e),null;case 5:Rx(e);var i=Fa(Mc.current);if(r=e.type,t!==null&&e.stateNode!=null)nk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Qt(e),null}if(t=Fa(kn.current),ad(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[jn]=e,n[Dc]=a,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<Xl.length;i++)lt(Xl[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":dS(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":hS(n,a),lt("invalid",n)}yv(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&id(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&id(n.textContent,o,t),i=["children",""+o]):Sc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&lt("scroll",n)}switch(r){case"input":Xu(n),fS(n,a,!0);break;case"textarea":Xu(n),pS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=yf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[jn]=e,t[Dc]=n,rk(t,e,!1,!1),e.stateNode=t;e:{switch(s=xv(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Xl.length;i++)lt(Xl[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":dS(t,n),i=hv(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":hS(t,n),i=gv(t,n),lt("invalid",t);break;default:i=n}yv(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?RN(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PN(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_c(t,l):typeof l=="number"&&_c(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Sc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&lt("scroll",t):l!=null&&fx(t,a,l,s))}switch(r){case"input":Xu(t),fS(t,n,!1);break;case"textarea":Xu(t),pS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ta(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?to(t,!!n.multiple,a,!1):n.defaultValue!=null&&to(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)ik(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Fa(Mc.current),Fa(kn.current),ad(e)){if(n=e.stateNode,r=e.memoizedProps,n[jn]=e,(a=n.nodeValue!==r)&&(t=Dr,t!==null))switch(t.tag){case 3:id(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&id(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jn]=e,e.stateNode=n}return Qt(e),null;case 13:if(dt(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&kr!==null&&e.mode&1&&!(e.flags&128))SC(),vo(),e.flags|=98560,a=!1;else if(a=ad(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[jn]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),a=!1}else fn!==null&&(Jv(fn),fn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Dt===0&&(Dt=3):Yx())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return xo(),Vv(t,e),t===null&&kc(e.stateNode.containerInfo),Qt(e),null;case 10:return Ox(e.type._context),Qt(e),null;case 17:return Sr(e.type)&&xf(),Qt(e),null;case 19:if(dt(mt),a=e.memoizedState,a===null)return Qt(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)Nl(a,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Af(t),s!==null){for(e.flags|=128,Nl(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nt(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&St()>wo&&(e.flags|=128,n=!0,Nl(a,!1),e.lanes=4194304)}else{if(!n)if(t=Af(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Nl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ft)return Qt(e),null}else 2*St()-a.renderingStartTime>wo&&r!==1073741824&&(e.flags|=128,n=!0,Nl(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=St(),e.sibling=null,r=mt.current,nt(mt,n?r&1|2:r&1),e):(Qt(e),null);case 22:case 23:return qx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Tr&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function iL(t,e){switch(Tx(e),e.tag){case 1:return Sr(e.type)&&xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),dt(wr),dt(sr),Ix(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rx(e),null;case 13:if(dt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(mt),null;case 4:return xo(),null;case 10:return Ox(e.type._context),null;case 22:case 23:return qx(),null;case 24:return null;default:return null}}var ld=!1,er=!1,aL=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ks(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(t,e,n)}else r.current=null}function Gv(t,e,r){try{r()}catch(n){bt(t,e,n)}}var n_=!1;function sL(t,e){if(Cv=mf,t=cC(),jx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kv={focusedElem:t,selectionRange:r},mf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:on(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(_){bt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return m=n_,n_=!1,m}function sc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Gv(e,r,a)}i=i.next}while(i!==n)}}function gp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function qv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ak(t){var e=t.alternate;e!==null&&(t.alternate=null,ak(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[Dc],delete e[Pv],delete e[H$],delete e[z$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sk(t){return t.tag===5||t.tag===3||t.tag===4}function i_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yf));else if(n!==4&&(t=t.child,t!==null))for(Yv(t,e,r),t=t.sibling;t!==null;)Yv(t,e,r),t=t.sibling}function Kv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Kv(t,e,r),t=t.sibling;t!==null;)Kv(t,e,r),t=t.sibling}var zt=null,ln=!1;function wi(t,e,r){for(r=r.child;r!==null;)ok(t,e,r),r=r.sibling}function ok(t,e,r){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(lp,r)}catch{}switch(r.tag){case 5:er||Ks(r,e);case 6:var n=zt,i=ln;zt=null,wi(t,e,r),zt=n,ln=i,zt!==null&&(ln?(t=zt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(ln?(t=zt,r=r.stateNode,t.nodeType===8?zm(t.parentNode,r):t.nodeType===1&&zm(t,r),Tc(t)):zm(zt,r.stateNode));break;case 4:n=zt,i=ln,zt=r.stateNode.containerInfo,ln=!0,wi(t,e,r),zt=n,ln=i;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Gv(r,e,s),i=i.next}while(i!==n)}wi(t,e,r);break;case 1:if(!er&&(Ks(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){bt(r,e,o)}wi(t,e,r);break;case 21:wi(t,e,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,wi(t,e,r),er=n):wi(t,e,r);break;default:wi(t,e,r)}}function a_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new aL),e.forEach(function(n){var i=mL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function rn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:zt=o.stateNode,ln=!1;break e;case 3:zt=o.stateNode.containerInfo,ln=!0;break e;case 4:zt=o.stateNode.containerInfo,ln=!0;break e}o=o.return}if(zt===null)throw Error(te(160));ok(a,s,i),zt=null,ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lk(e,t),e=e.sibling}function lk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),Sn(t),n&4){try{sc(3,t,t.return),gp(3,t)}catch(g){bt(t,t.return,g)}try{sc(5,t,t.return)}catch(g){bt(t,t.return,g)}}break;case 1:rn(e,t),Sn(t),n&512&&r!==null&&Ks(r,r.return);break;case 5:if(rn(e,t),Sn(t),n&512&&r!==null&&Ks(r,r.return),t.flags&32){var i=t.stateNode;try{_c(i,"")}catch(g){bt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&kN(i,a),xv(o,s);var u=xv(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?RN(i,f):d==="dangerouslySetInnerHTML"?PN(i,f):d==="children"?_c(i,f):fx(i,d,f,u)}switch(o){case"input":pv(i,a);break;case"textarea":ON(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?to(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?to(i,!!a.multiple,a.defaultValue,!0):to(i,!!a.multiple,a.multiple?[]:"",!1))}i[Dc]=a}catch(g){bt(t,t.return,g)}}break;case 6:if(rn(e,t),Sn(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){bt(t,t.return,g)}}break;case 3:if(rn(e,t),Sn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(g){bt(t,t.return,g)}break;case 4:rn(e,t),Sn(t);break;case 13:rn(e,t),Sn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Vx=St())),n&4&&a_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(er=(u=er)||d,rn(e,t),er=u):rn(e,t),Sn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(f=ge=d;ge!==null;){switch(h=ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:sc(4,h,h.return);break;case 1:Ks(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){bt(n,r,g)}}break;case 5:Ks(h,h.return);break;case 22:if(h.memoizedState!==null){o_(f);continue}}p!==null?(p.return=h,ge=p):o_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=MN("display",s))}catch(g){bt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){bt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rn(e,t),Sn(t),n&4&&a_(t);break;case 21:break;default:rn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sk(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_c(i,""),n.flags&=-33);var a=i_(t);Kv(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=i_(t);Yv(t,o,s);break;default:throw Error(te(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oL(t,e,r){ge=t,ck(t)}function ck(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||ld;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||er;o=ld;var u=er;if(ld=s,(er=l)&&!u)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?l_(i):l!==null?(l.return=s,ge=l):l_(i);for(;a!==null;)ge=a,ck(a),a=a.sibling;ge=i,ld=o,er=u}s_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ge=a):s_(t)}}function s_(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:er||gp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!er)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:on(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&WS(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}WS(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}er||e.flags&512&&qv(e)}catch(h){bt(e,e.return,h)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function o_(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function l_(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gp(4,e)}catch(l){bt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){bt(e,i,l)}}var a=e.return;try{qv(e)}catch(l){bt(e,a,l)}break;case 5:var s=e.return;try{qv(e)}catch(l){bt(e,s,l)}}}catch(l){bt(e,e.return,l)}if(e===t){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var lL=Math.ceil,Cf=pi.ReactCurrentDispatcher,zx=pi.ReactCurrentOwner,Yr=pi.ReactCurrentBatchConfig,$e=0,Ft=null,At=null,qt=0,Tr=0,Xs=la(0),Dt=0,Lc=null,ts=0,vp=0,Wx=0,oc=null,gr=null,Vx=0,wo=1/0,Wn=null,kf=!1,Xv=null,Yi=null,cd=!1,Ii=null,Of=0,lc=0,Qv=null,Zd=-1,Jd=0;function cr(){return $e&6?St():Zd!==-1?Zd:Zd=St()}function Ki(t){return t.mode&1?$e&2&&qt!==0?qt&-qt:V$.transition!==null?(Jd===0&&(Jd=qN()),Jd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:eC(t.type)),t):1}function vn(t,e,r,n){if(50<lc)throw lc=0,Qv=null,Error(te(185));Nu(t,r,n),(!($e&2)||t!==Ft)&&(t===Ft&&(!($e&2)&&(vp|=r),Dt===4&&Di(t,qt)),_r(t,n),r===1&&$e===0&&!(e.mode&1)&&(wo=St()+500,hp&&ca()))}function _r(t,e){var r=t.callbackNode;VI(t,e);var n=pf(t,t===Ft?qt:0);if(n===0)r!==null&&vS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&vS(r),e===1)t.tag===0?W$(c_.bind(null,t)):xC(c_.bind(null,t)),B$(function(){!($e&6)&&ca()}),r=null;else{switch(YN(n)){case 1:r=vx;break;case 4:r=VN;break;case 16:r=hf;break;case 536870912:r=GN;break;default:r=hf}r=vk(r,uk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function uk(t,e){if(Zd=-1,Jd=0,$e&6)throw Error(te(327));var r=t.callbackNode;if(so()&&t.callbackNode!==r)return null;var n=pf(t,t===Ft?qt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Df(t,n);else{e=n;var i=$e;$e|=2;var a=fk();(Ft!==t||qt!==e)&&(Wn=null,wo=St()+500,Ga(t,e));do try{dL();break}catch(o){dk(t,o)}while(1);kx(),Cf.current=a,$e=i,At!==null?e=0:(Ft=null,qt=0,e=Dt)}if(e!==0){if(e===2&&(i=Ev(t),i!==0&&(n=i,e=Zv(t,i))),e===1)throw r=Lc,Ga(t,0),Di(t,n),_r(t,St()),r;if(e===6)Di(t,n);else{if(i=t.current.alternate,!(n&30)&&!cL(i)&&(e=Df(t,n),e===2&&(a=Ev(t),a!==0&&(n=a,e=Zv(t,a))),e===1))throw r=Lc,Ga(t,0),Di(t,n),_r(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:Ta(t,gr,Wn);break;case 3:if(Di(t,n),(n&130023424)===n&&(e=Vx+500-St(),10<e)){if(pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dv(Ta.bind(null,t,gr,Wn),e);break}Ta(t,gr,Wn);break;case 4:if(Di(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-gn(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lL(n/1960))-n,10<n){t.timeoutHandle=Dv(Ta.bind(null,t,gr,Wn),n);break}Ta(t,gr,Wn);break;case 5:Ta(t,gr,Wn);break;default:throw Error(te(329))}}}return _r(t,St()),t.callbackNode===r?uk.bind(null,t):null}function Zv(t,e){var r=oc;return t.current.memoizedState.isDehydrated&&(Ga(t,e).flags|=256),t=Df(t,e),t!==2&&(e=gr,gr=r,e!==null&&Jv(e)),t}function Jv(t){gr===null?gr=t:gr.push.apply(gr,t)}function cL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!yn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~Wx,e&=~vp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gn(e),n=1<<r;t[r]=-1,e&=~n}}function c_(t){if($e&6)throw Error(te(327));so();var e=pf(t,0);if(!(e&1))return _r(t,St()),null;var r=Df(t,e);if(t.tag!==0&&r===2){var n=Ev(t);n!==0&&(e=n,r=Zv(t,n))}if(r===1)throw r=Lc,Ga(t,0),Di(t,e),_r(t,St()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ta(t,gr,Wn),_r(t,St()),null}function Gx(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(wo=St()+500,hp&&ca())}}function rs(t){Ii!==null&&Ii.tag===0&&!($e&6)&&so();var e=$e;$e|=1;var r=Yr.transition,n=Ve;try{if(Yr.transition=null,Ve=1,t)return t()}finally{Ve=n,Yr.transition=r,$e=e,!($e&6)&&ca()}}function qx(){Tr=Xs.current,dt(Xs)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,F$(r)),At!==null)for(r=At.return;r!==null;){var n=r;switch(Tx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xf();break;case 3:xo(),dt(wr),dt(sr),Ix();break;case 5:Rx(n);break;case 4:xo();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:Ox(n.type._context);break;case 22:case 23:qx()}r=r.return}if(Ft=t,At=t=Xi(t.current,null),qt=Tr=e,Dt=0,Lc=null,Wx=vp=ts=0,gr=oc=null,La!==null){for(e=0;e<La.length;e++)if(r=La[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}La=null}return t}function dk(t,e){do{var r=At;try{if(kx(),Kd.current=Nf,Tf){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tf=!1}if(es=0,Lt=Ot=vt=null,ac=!1,Rc=0,zx.current=null,r===null||r.return===null){Dt=1,Lc=e,At=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=qt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=XS(s);if(p!==null){p.flags&=-257,QS(p,s,o,a,e),p.mode&1&&KS(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){KS(a,u,e),Yx();break e}l=Error(te(426))}}else if(ft&&o.mode&1){var v=XS(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),QS(v,s,o,a,e),Nx(bo(l,o));break e}}a=l=bo(l,o),Dt!==4&&(Dt=2),oc===null?oc=[a]:oc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=YC(a,l,e);zS(a,x);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yi===null||!Yi.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=KC(a,o,e);zS(a,_);break e}}a=a.return}while(a!==null)}pk(r)}catch(w){e=w,At===r&&r!==null&&(At=r=r.return);continue}break}while(1)}function fk(){var t=Cf.current;return Cf.current=Nf,t===null?Nf:t}function Yx(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(ts&268435455)&&!(vp&268435455)||Di(Ft,qt)}function Df(t,e){var r=$e;$e|=2;var n=fk();(Ft!==t||qt!==e)&&(Wn=null,Ga(t,e));do try{uL();break}catch(i){dk(t,i)}while(1);if(kx(),$e=r,Cf.current=n,At!==null)throw Error(te(261));return Ft=null,qt=0,Dt}function uL(){for(;At!==null;)hk(At)}function dL(){for(;At!==null&&!II();)hk(At)}function hk(t){var e=gk(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?pk(t):At=e,zx.current=null}function pk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=iL(r,e),r!==null){r.flags&=32767,At=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,At=null;return}}else if(r=nL(r,e,Tr),r!==null){At=r;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Dt===0&&(Dt=5)}function Ta(t,e,r){var n=Ve,i=Yr.transition;try{Yr.transition=null,Ve=1,fL(t,e,r,n)}finally{Yr.transition=i,Ve=n}return null}function fL(t,e,r,n){do so();while(Ii!==null);if($e&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(GI(t,a),t===Ft&&(At=Ft=null,qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cd||(cd=!0,vk(hf,function(){return so(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Yr.transition,Yr.transition=null;var s=Ve;Ve=1;var o=$e;$e|=4,zx.current=null,sL(t,r),lk(r,t),D$(kv),mf=!!Cv,kv=Cv=null,t.current=r,oL(r),$I(),$e=o,Ve=s,Yr.transition=a}else t.current=r;if(cd&&(cd=!1,Ii=t,Of=i),a=t.pendingLanes,a===0&&(Yi=null),BI(r.stateNode),_r(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(kf)throw kf=!1,t=Xv,Xv=null,t;return Of&1&&t.tag!==0&&so(),a=t.pendingLanes,a&1?t===Qv?lc++:(lc=0,Qv=t):lc=0,ca(),null}function so(){if(Ii!==null){var t=YN(Of),e=Yr.transition,r=Ve;try{if(Yr.transition=null,Ve=16>t?16:t,Ii===null)var n=!1;else{if(t=Ii,Ii=null,Of=0,$e&6)throw Error(te(331));var i=$e;for($e|=4,ge=t.current;ge!==null;){var a=ge,s=a.child;if(ge.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:sc(8,d,a)}var f=d.child;if(f!==null)f.return=d,ge=f;else for(;ge!==null;){d=ge;var h=d.sibling,p=d.return;if(ak(d),d===u){ge=null;break}if(h!==null){h.return=p,ge=h;break}ge=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ge=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ge=s;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:sc(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ge=x;break e}ge=a.return}}var y=t.current;for(ge=y;ge!==null;){s=ge;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ge=b;else e:for(s=y;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:gp(9,o)}}catch(w){bt(o,o.return,w)}if(o===s){ge=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,ge=_;break e}ge=o.return}}if($e=i,ca(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(lp,t)}catch{}n=!0}return n}finally{Ve=r,Yr.transition=e}}return!1}function u_(t,e,r){e=bo(r,e),e=YC(t,e,1),t=qi(t,e,1),e=cr(),t!==null&&(Nu(t,1,e),_r(t,e))}function bt(t,e,r){if(t.tag===3)u_(t,t,r);else for(;e!==null;){if(e.tag===3){u_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yi===null||!Yi.has(n))){t=bo(r,t),t=KC(e,t,1),e=qi(e,t,1),t=cr(),e!==null&&(Nu(e,1,t),_r(e,t));break}}e=e.return}}function hL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&r,Ft===t&&(qt&r)===r&&(Dt===4||Dt===3&&(qt&130023424)===qt&&500>St()-Vx?Ga(t,0):Wx|=r),_r(t,e)}function mk(t,e){e===0&&(t.mode&1?(e=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):e=1);var r=cr();t=li(t,e),t!==null&&(Nu(t,e,r),_r(t,r))}function pL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),mk(t,r)}function mL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),mk(t,r)}var gk;gk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wr.current)yr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return yr=!1,rL(t,e,r);yr=!!(t.flags&131072)}else yr=!1,ft&&e.flags&1048576&&bC(e,Sf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qd(t,e),t=e.pendingProps;var i=go(e,sr.current);ao(e,r),i=Lx(null,e,n,t,i,r);var a=Fx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(n)?(a=!0,bf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Px(e),i.updater=mp,e.stateNode=i,i._reactInternals=e,Fv(e,n,t,r),e=Hv(null,e,n,!0,a,r)):(e.tag=0,ft&&a&&Ax(e),or(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=vL(n),t=on(n,t),i){case 0:e=Uv(null,e,n,t,r);break e;case 1:e=e_(null,e,n,t,r);break e;case 11:e=ZS(null,e,n,t,r);break e;case 14:e=JS(null,e,n,on(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),Uv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),e_(t,e,n,i,r);case 3:e:{if(JC(e),t===null)throw Error(te(387));n=e.pendingProps,a=e.memoizedState,i=a.element,AC(t,e),jf(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=bo(Error(te(423)),e),e=t_(t,e,n,r,i);break e}else if(n!==i){i=bo(Error(te(424)),e),e=t_(t,e,n,r,i);break e}else for(kr=Gi(e.stateNode.containerInfo.firstChild),Dr=e,ft=!0,fn=null,r=EC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vo(),n===i){e=ci(t,e,r);break e}or(t,e,n,r)}e=e.child}return e;case 5:return TC(e),t===null&&Iv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Ov(n,i)?s=null:a!==null&&Ov(n,a)&&(e.flags|=32),ZC(t,e),or(t,e,s,r),e.child;case 6:return t===null&&Iv(e),null;case 13:return ek(t,e,r);case 4:return Mx(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yo(e,null,n,r):or(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),ZS(t,e,n,i,r);case 7:return or(t,e,e.pendingProps,r),e.child;case 8:return or(t,e,e.pendingProps.children,r),e.child;case 12:return or(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,nt(_f,n._currentValue),n._currentValue=s,a!==null)if(yn(a.value,s)){if(a.children===i.children&&!wr.current){e=ci(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ei(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),$v(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(te(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),$v(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}or(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ao(e,r),i=Qr(i),n=n(i),e.flags|=1,or(t,e,n,r),e.child;case 14:return n=e.type,i=on(n,e.pendingProps),i=on(n.type,i),JS(t,e,n,i,r);case 15:return XC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),Qd(t,e),e.tag=1,Sr(n)?(t=!0,bf(e)):t=!1,ao(e,r),qC(e,n,i),Fv(e,n,i,r),Hv(null,e,n,!0,t,r);case 19:return tk(t,e,r);case 22:return QC(t,e,r)}throw Error(te(156,e.tag))};function vk(t,e){return WN(t,e)}function gL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,r,n){return new gL(t,e,r,n)}function Kx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vL(t){if(typeof t=="function")return Kx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===px)return 11;if(t===mx)return 14}return 2}function Xi(t,e){var r=t.alternate;return r===null?(r=Gr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ef(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Kx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bs:return qa(r.children,i,a,e);case hx:s=8,i|=8;break;case cv:return t=Gr(12,r,e,i|2),t.elementType=cv,t.lanes=a,t;case uv:return t=Gr(13,r,e,i),t.elementType=uv,t.lanes=a,t;case dv:return t=Gr(19,r,e,i),t.elementType=dv,t.lanes=a,t;case TN:return yp(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jN:s=10;break e;case AN:s=9;break e;case px:s=11;break e;case mx:s=14;break e;case Ai:s=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Gr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function qa(t,e,r,n){return t=Gr(7,t,n,e),t.lanes=r,t}function yp(t,e,r,n){return t=Gr(22,t,n,e),t.elementType=TN,t.lanes=r,t.stateNode={isHidden:!1},t}function Qm(t,e,r){return t=Gr(6,t,null,e),t.lanes=r,t}function Zm(t,e,r){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xx(t,e,r,n,i,a,s,o,l){return t=new yL(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Gr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Px(a),t}function xL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yk(t){if(!t)return ra;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Sr(r))return yC(t,r,e)}return e}function xk(t,e,r,n,i,a,s,o,l){return t=Xx(r,n,!0,t,i,a,s,o,l),t.context=yk(null),r=t.current,n=cr(),i=Ki(r),a=ei(n,i),a.callback=e??null,qi(r,a,i),t.current.lanes=i,Nu(t,i,n),_r(t,n),t}function xp(t,e,r,n){var i=e.current,a=cr(),s=Ki(i);return r=yk(r),e.context===null?e.context=r:e.pendingContext=r,e=ei(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qi(i,e,s),t!==null&&(vn(t,i,s,a),Yd(t,i,s)),s}function Pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Qx(t,e){d_(t,e),(t=t.alternate)&&d_(t,e)}function bL(){return null}var bk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zx(t){this._internalRoot=t}bp.prototype.render=Zx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));xp(t,e,null,null)};bp.prototype.unmount=Zx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){xp(null,t,null,null)}),e[oi]=null}};function bp(t){this._internalRoot=t}bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=QN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Oi.length&&e!==0&&e<Oi[r].priority;r++);Oi.splice(r,0,t),r===0&&JN(t)}};function Jx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f_(){}function wL(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Pf(s);a.call(u)}}var s=xk(e,n,t,0,null,!1,!1,"",f_);return t._reactRootContainer=s,t[oi]=s.current,kc(t.nodeType===8?t.parentNode:t),rs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Pf(l);o.call(u)}}var l=Xx(t,0,!1,null,null,!1,!1,"",f_);return t._reactRootContainer=l,t[oi]=l.current,kc(t.nodeType===8?t.parentNode:t),rs(function(){xp(e,l,r,n)}),l}function Sp(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Pf(s);o.call(l)}}xp(e,s,t,i)}else s=wL(r,e,t,i,n);return Pf(s)}KN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Kl(e.pendingLanes);r!==0&&(yx(e,r|1),_r(e,St()),!($e&6)&&(wo=St()+500,ca()))}break;case 13:rs(function(){var n=li(t,1);if(n!==null){var i=cr();vn(n,t,1,i)}}),Qx(t,1)}};xx=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var r=cr();vn(e,t,134217728,r)}Qx(t,134217728)}};XN=function(t){if(t.tag===13){var e=Ki(t),r=li(t,e);if(r!==null){var n=cr();vn(r,t,e,n)}Qx(t,e)}};QN=function(){return Ve};ZN=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};wv=function(t,e,r){switch(e){case"input":if(pv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=fp(n);if(!i)throw Error(te(90));CN(n),pv(n,i)}}}break;case"textarea":ON(t,r);break;case"select":e=r.value,e!=null&&to(t,!!r.multiple,e,!1)}};LN=Gx;FN=rs;var SL={usingClientEntryPoint:!1,Events:[ku,Ws,fp,IN,$N,Gx]},Cl={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_L={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HN(t),t===null?null:t.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||bL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{lp=ud.inject(_L),Cn=ud}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SL;Ir.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jx(e))throw Error(te(200));return xL(t,e,null,r)};Ir.createRoot=function(t,e){if(!Jx(t))throw Error(te(299));var r=!1,n="",i=bk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xx(t,1,!1,null,null,r,!1,n,i),t[oi]=e.current,kc(t.nodeType===8?t.parentNode:t),new Zx(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=HN(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return rs(t)};Ir.hydrate=function(t,e,r){if(!wp(e))throw Error(te(200));return Sp(null,t,e,!0,r)};Ir.hydrateRoot=function(t,e,r){if(!Jx(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=bk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=xk(e,null,t,1,r??null,i,!1,a,s),t[oi]=e.current,kc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bp(e)};Ir.render=function(t,e,r){if(!wp(e))throw Error(te(200));return Sp(null,t,e,!1,r)};Ir.unmountComponentAtNode=function(t){if(!wp(t))throw Error(te(40));return t._reactRootContainer?(rs(function(){Sp(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Ir.unstable_batchedUpdates=Gx;Ir.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!wp(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Sp(t,e,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function wk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wk)}catch(t){console.error(t)}}wk(),wN.exports=Ir;var Mf=wN.exports,h_=Mf;ov.createRoot=h_.createRoot,ov.hydrateRoot=h_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fc.apply(this,arguments)}var $i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($i||($i={}));const p_="popstate";function EL(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return ey("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Rf(i)}return AL(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jL(){return Math.random().toString(36).substr(2,8)}function m_(t,e){return{usr:t.state,key:t.key,idx:e}}function ey(t,e,r,n){return r===void 0&&(r=null),Fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?el(e):e,{state:r,key:e&&e.key||n||jL()})}function Rf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function el(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function AL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=$i.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Fc({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=$i.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:x})}function h(v,x){o=$i.Push;let y=ey(g.location,v,x);r&&r(y,v),u=d()+1;let b=m_(y,u),_=g.createHref(y);try{s.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&l&&l({action:o,location:g.location,delta:1})}function p(v,x){o=$i.Replace;let y=ey(g.location,v,x);r&&r(y,v),u=d();let b=m_(y,u),_=g.createHref(y);s.replaceState(b,"",_),a&&l&&l({action:o,location:g.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Rf(v);return y=y.replace(/ $/,"%20"),_t(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(p_,f),l=v,()=>{i.removeEventListener(p_,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var g_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(g_||(g_={}));function TL(t,e,r){return r===void 0&&(r="/"),NL(t,e,r,!1)}function NL(t,e,r,n){let i=typeof e=="string"?el(e):e,a=eb(i.pathname||"/",r);if(a==null)return null;let s=_k(t);CL(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=BL(a);o=LL(s[l],u,n)}return o}function _k(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Qi([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_k(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:IL(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of Ek(a.path))i(a,s,l)}),e}function Ek(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=Ek(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function CL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:$L(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kL=/^:[\w-]+$/,OL=3,DL=2,PL=1,ML=10,RL=-2,v_=t=>t==="*";function IL(t,e){let r=t.split("/"),n=r.length;return r.some(v_)&&(n+=RL),e&&(n+=DL),r.filter(i=>!v_(i)).reduce((i,a)=>i+(kL.test(a)?OL:a===""?PL:ML),n)}function $L(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function LL(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=y_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=y_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Qi([a,f.pathname]),pathnameBase:WL(Qi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Qi([a,f.pathnameBase]))}return s}function y_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=FL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function FL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Sk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function BL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function UL(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?el(t):t;return{pathname:r?r.startsWith("/")?r:HL(r,e):e,search:VL(n),hash:GL(i)}}function HL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Jm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zL(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tb(t,e){let r=zL(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=el(t):(i=Fc({},t),_t(!i.pathname||!i.pathname.includes("?"),Jm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Jm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Jm("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=UL(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),WL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jk=["post","put","patch","delete"];new Set(jk);const YL=["get",...jk];new Set(YL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bc.apply(this,arguments)}const nb=C.createContext(null),KL=C.createContext(null),ua=C.createContext(null),_p=C.createContext(null),da=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Ak=C.createContext(null);function XL(t,e){let{relative:r}=e===void 0?{}:e;tl()||_t(!1);let{basename:n,navigator:i}=C.useContext(ua),{hash:a,pathname:s,search:o}=Ck(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Qi([n,s])),i.createHref({pathname:l,search:o,hash:a})}function tl(){return C.useContext(_p)!=null}function rl(){return tl()||_t(!1),C.useContext(_p).location}function Tk(t){C.useContext(ua).static||C.useLayoutEffect(t)}function Nk(){let{isDataRoute:t}=C.useContext(da);return t?c4():QL()}function QL(){tl()||_t(!1);let t=C.useContext(nb),{basename:e,future:r,navigator:n}=C.useContext(ua),{matches:i}=C.useContext(da),{pathname:a}=rl(),s=JSON.stringify(tb(i,r.v7_relativeSplatPath)),o=C.useRef(!1);return Tk(()=>{o.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=rb(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qi([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function Ck(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(ua),{matches:i}=C.useContext(da),{pathname:a}=rl(),s=JSON.stringify(tb(i,n.v7_relativeSplatPath));return C.useMemo(()=>rb(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function ZL(t,e){return JL(t,e)}function JL(t,e,r,n){tl()||_t(!1);let{navigator:i}=C.useContext(ua),{matches:a}=C.useContext(da),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=rl(),d;if(e){var f;let v=typeof e=="string"?el(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||_t(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=TL(t,{pathname:p}),g=i4(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Qi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Qi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&g?C.createElement(_p.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$i.Pop}},g):g}function e4(){let t=l4(),e=qL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,a)}const t4=C.createElement(e4,null);class r4 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(da.Provider,{value:this.props.routeContext},C.createElement(Ak.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n4(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(nb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(da.Provider,{value:e},n)}function i4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_t(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||t4,l&&(u<0&&h===0?(u4("route-fallback",!1),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return p?b=g:m?b=v:f.route.Component?b=C.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,C.createElement(n4,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(r4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var kk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kk||{}),If=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(If||{});function a4(t){let e=C.useContext(nb);return e||_t(!1),e}function s4(t){let e=C.useContext(KL);return e||_t(!1),e}function o4(t){let e=C.useContext(da);return e||_t(!1),e}function Ok(t){let e=o4(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function l4(){var t;let e=C.useContext(Ak),r=s4(If.UseRouteError),n=Ok(If.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function c4(){let{router:t}=a4(kk.UseNavigateStable),e=Ok(If.UseNavigateStable),r=C.useRef(!1);return Tk(()=>{r.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bc({fromRouteId:e},a)))},[t,e])}const x_={};function u4(t,e,r){!e&&!x_[t]&&(x_[t]=!0)}function d4(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function f4(t){let{to:e,replace:r,state:n,relative:i}=t;tl()||_t(!1);let{future:a,static:s}=C.useContext(ua),{matches:o}=C.useContext(da),{pathname:l}=rl(),u=Nk(),d=rb(e,tb(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function mr(t){_t(!1)}function h4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=$i.Pop,navigator:a,static:s=!1,future:o}=t;tl()&&_t(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:a,static:s,future:Bc({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=el(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=C.useMemo(()=>{let v=eb(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:C.createElement(ua.Provider,{value:u},C.createElement(_p.Provider,{children:r,value:g}))}function p4(t){let{children:e,location:r}=t;return ZL(ty(e),r)}new Promise(()=>{});function ty(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let a=[...e,i];if(n.type===C.Fragment){r.push.apply(r,ty(n.props.children,a));return}n.type!==mr&&_t(!1),!n.props.index||!n.props.children||_t(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=ty(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ry.apply(this,arguments)}function m4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function g4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v4(t,e){return t.button===0&&(!e||e==="_self")&&!g4(t)}const y4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x4="6";try{window.__reactRouterVersion=x4}catch{}const b4="startTransition",b_=hI[b4];function w4(t){let{basename:e,children:r,future:n,window:i}=t,a=C.useRef();a.current==null&&(a.current=EL({window:i,v5Compat:!0}));let s=a.current,[o,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=C.useCallback(f=>{u&&b_?b_(()=>l(f)):l(f)},[l,u]);return C.useLayoutEffect(()=>s.listen(d),[s,d]),C.useEffect(()=>d4(n),[n]),C.createElement(h4,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const S4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ts=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=m4(e,y4),{basename:p}=C.useContext(ua),m,g=!1;if(typeof u=="string"&&_4.test(u)&&(m=u,S4))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=eb(_.pathname,p);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:g=!0}catch{}let v=XL(u,{relative:i}),x=E4(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||x(b)}return C.createElement("a",ry({},h,{href:m||v,onClick:g||a?n:y,ref:r,target:l}))});var w_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(w_||(w_={}));var S_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S_||(S_={}));function E4(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Nk(),u=rl(),d=Ck(t,{relative:s});return C.useCallback(f=>{if(v4(f,r)){f.preventDefault();let h=n!==void 0?n:Rf(u)===Rf(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}const j4="modulepreload",A4=function(t){return"/scrub-shop-road-app/"+t},__={},Du=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=A4(a),a in __)return;__[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":j4,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},T4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Du(()=>Promise.resolve().then(()=>nl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ib extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class N4 extends ib{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class E_ extends ib{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class j_ extends ib{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ny;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ny||(ny={}));var C4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class k4{constructor(e,{headers:r={},customFetch:n,region:i=ny.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=T4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return C4(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new N4(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new E_(f);if(!f.ok)throw new j_(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof j_||i instanceof E_?i.context:void 0}}})}}var vr={},ab={},Ep={},Pu={},jp={},Ap={},O4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},So=O4();const D4=So.fetch,Dk=So.fetch.bind(So),Pk=So.Headers,P4=So.Request,M4=So.Response,nl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pk,Request:P4,Response:M4,default:Dk,fetch:D4},Symbol.toStringTag,{value:"Module"})),R4=QR(nl);var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});let I4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Tp.default=I4;var Mk=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ap,"__esModule",{value:!0});const $4=Mk(R4),L4=Mk(Tp);let F4=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new L4.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Ap.default=F4;var B4=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jp,"__esModule",{value:!0});const U4=B4(Ap);let H4=class extends U4.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jp.default=H4;var z4=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pu,"__esModule",{value:!0});const W4=z4(jp);let V4=class extends W4.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Pu.default=V4;var G4=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ep,"__esModule",{value:!0});const kl=G4(Pu);let q4=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new kl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new kl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new kl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new kl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new kl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ep.default=q4;var Np={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.version=void 0;Cp.version="0.0.0-automated";Object.defineProperty(Np,"__esModule",{value:!0});Np.DEFAULT_HEADERS=void 0;const Y4=Cp;Np.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Y4.version}`};var Rk=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ab,"__esModule",{value:!0});const K4=Rk(Ep),X4=Rk(Pu),Q4=Np;let Z4=class Ik{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Q4.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new K4.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ik(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new X4.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ab.default=Z4;var il=Vt&&Vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vr,"__esModule",{value:!0});vr.PostgrestError=vr.PostgrestBuilder=vr.PostgrestTransformBuilder=vr.PostgrestFilterBuilder=vr.PostgrestQueryBuilder=vr.PostgrestClient=void 0;const $k=il(ab);vr.PostgrestClient=$k.default;const Lk=il(Ep);vr.PostgrestQueryBuilder=Lk.default;const Fk=il(Pu);vr.PostgrestFilterBuilder=Fk.default;const Bk=il(jp);vr.PostgrestTransformBuilder=Bk.default;const Uk=il(Ap);vr.PostgrestBuilder=Uk.default;const Hk=il(Tp);vr.PostgrestError=Hk.default;var J4=vr.default={PostgrestClient:$k.default,PostgrestQueryBuilder:Lk.default,PostgrestFilterBuilder:Fk.default,PostgrestTransformBuilder:Bk.default,PostgrestBuilder:Uk.default,PostgrestError:Hk.default};const{PostgrestClient:e3,PostgrestQueryBuilder:Yye,PostgrestFilterBuilder:Kye,PostgrestTransformBuilder:Xye,PostgrestBuilder:Qye,PostgrestError:Zye}=J4;function t3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const r3=t3(),n3="2.11.15",i3=`realtime-js/${n3}`,a3="1.0.0",zk=1e4,s3=1e3;var cc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cc||(cc={}));var Zt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Zt||(Zt={}));var cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cn||(cn={}));var iy;(function(t){t.websocket="websocket"})(iy||(iy={}));var Ra;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ra||(Ra={}));class o3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Wk{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const A_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=l3(s,t,e,i),a),{})},l3=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?Vk(a,s):ay(s)},Vk=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return f3(e,r)}switch(t){case tt.bool:return c3(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return u3(e);case tt.json:case tt.jsonb:return d3(e);case tt.timestamp:return h3(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return ay(e);default:return ay(e)}},ay=t=>t,c3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},u3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},d3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},f3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Vk(e,o))}return t},h3=t=>typeof t=="string"?t.replace(" ","T"):t,Gk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class eg{constructor(e,r,n={},i=zk){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var T_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(T_||(T_={}));class uc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uc.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=uc.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=uc.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var N_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(N_||(N_={}));var C_;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(C_||(C_={}));var Vn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class sb{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new eg(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Wk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new uc(this),this.broadcastEndpointURL=Gk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Zt.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(Vn.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Vn.CLOSED));const l={},u={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Vn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:x,schema:y,table:b,filter:_}}=v,w=d&&d[g];if(w&&w.event===x&&w.schema===y&&w.table===b&&w.filter===_)m.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Zt.errored,e==null||e(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Vn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Zt.errored,e==null||e(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new eg(this,cn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new eg(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=cn;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:x,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&sb.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=A_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=A_(e.columns,e.old_record)),r}}const k_=()=>{},p3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m3{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=k_,this.ref=0,this.logger=k_,this.conn=null,this.sendBuffer=[],this.serializer=new o3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>Du(()=>Promise.resolve().then(()=>nl),void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${iy.websocket}`,this.httpEndpoint=Gk(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=r3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:a3}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cc.connecting:return Ra.Connecting;case cc.open:return Ra.Open;case cc.closing:return Ra.Closing;default:return Ra.Closed}}isConnected(){return this.connectionState()===Ra.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new sb(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:i3};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(cn.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(s3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([p3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ob extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function It(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class g3 extends ob{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class sy extends ob{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var v3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const qk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Du(()=>Promise.resolve().then(()=>nl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},y3=()=>v3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Du(()=>Promise.resolve().then(()=>nl),void 0)).Response:Response}),oy=t=>{if(Array.isArray(t))return t.map(r=>oy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=oy(n)}),e};var ms=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const tg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),x3=(t,e,r)=>ms(void 0,void 0,void 0,function*(){const n=yield y3();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new g3(tg(i),t.status||500))}).catch(i=>{e(new sy(tg(i),i))}):e(new sy(tg(t),t))}),b3=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Mu(t,e,r,n,i,a){return ms(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,b3(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>x3(l,o,n))})})}function $f(t,e,r,n){return ms(this,void 0,void 0,function*(){return Mu(t,"GET",e,r,n)})}function Ni(t,e,r,n,i){return ms(this,void 0,void 0,function*(){return Mu(t,"POST",e,n,i,r)})}function w3(t,e,r,n,i){return ms(this,void 0,void 0,function*(){return Mu(t,"PUT",e,n,i,r)})}function S3(t,e,r,n){return ms(this,void 0,void 0,function*(){return Mu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Yk(t,e,r,n,i){return ms(this,void 0,void 0,function*(){return Mu(t,"DELETE",e,n,i,r)})}var pr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const _3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E3{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=qk(i)}uploadOrUpdate(e,r,n,i){return pr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},O_),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(It(a))return{data:null,error:a};throw a}})}upload(e,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return pr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:O_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(It(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return pr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Ni(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new ob("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}update(e,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return pr(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}copy(e,r,n){return pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ni(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ni(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return pr(this,void 0,void 0,function*(){try{const i=yield Ni(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}download(e,r){return pr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield $f(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(It(o))return{data:null,error:o};throw o}})}info(e){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield $f(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:oy(n),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}exists(e){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield S3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(It(n)&&n instanceof sy){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return pr(this,void 0,void 0,function*(){try{return{data:yield Yk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}list(e,r,n){return pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_3),r),{prefix:e||""});return{data:yield Ni(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(It(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const j3="2.7.1",A3={"X-Client-Info":`storage-js/${j3}`};var Ns=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class T3{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},A3),r),this.fetch=qk(n)}listBuckets(){return Ns(this,void 0,void 0,function*(){try{return{data:yield $f(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(It(e))return{data:null,error:e};throw e}})}getBucket(e){return Ns(this,void 0,void 0,function*(){try{return{data:yield $f(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Ns(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Ns(this,void 0,void 0,function*(){try{return{data:yield w3(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(It(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ns(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ns(this,void 0,void 0,function*(){try{return{data:yield Yk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(It(r))return{data:null,error:r};throw r}})}}class N3 extends T3{constructor(e,r={},n){super(e,r,n)}from(e){return new E3(this.url,this.headers,e,this.fetch)}}const C3="2.50.5";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const k3={"X-Client-Info":`supabase-js-${Ql}/${C3}`},O3={headers:k3},D3={schema:"public"},P3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M3={};var R3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const I3=t=>{let e;return t?e=t:typeof fetch>"u"?e=Dk:e=fetch,(...r)=>e(...r)},$3=()=>typeof Headers>"u"?Pk:Headers,L3=(t,e,r)=>{const n=I3(r),i=$3();return(a,s)=>R3(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var F3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function B3(t){return t.endsWith("/")?t:t+"/"}function U3(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>F3(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Kk="2.70.0",$s=30*1e3,ly=3,rg=ly*$s,H3="http://localhost:9999",z3="supabase.auth.token",W3={"X-Client-Info":`gotrue-js/${Kk}`},cy="X-Supabase-Api-Version",Xk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G3=6e5;class lb extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class q3 extends lb{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Y3(t){return Ae(t)&&t.name==="AuthApiError"}class Qk extends lb{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class fa extends lb{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ei extends fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K3(t){return Ae(t)&&t.name==="AuthSessionMissingError"}class dd extends fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fd extends fa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hd extends fa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X3(t){return Ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class D_ extends fa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uy extends fa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ng(t){return Ae(t)&&t.name==="AuthRetryableFetchError"}class P_ extends fa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dc extends fa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M_=` 	
\r=`.split(""),Q3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<M_.length;e+=1)t[M_[e].charCodeAt(0)]=-2;for(let e=0;e<Lf.length;e+=1)t[Lf[e].charCodeAt(0)]=e;return t})();function R_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Lf[n]),e.queuedBits-=6}}function Zk(t,e,r){const n=Q3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function I_(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{eF(s,n,r)};for(let s=0;s<t.length;s+=1)Zk(t.charCodeAt(s),i,a);return e.join("")}function Z3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function J3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Z3(n,e)}}function eF(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function tF(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Zk(t.charCodeAt(i),r,n);return new Uint8Array(e)}function rF(t){const e=[];return J3(t,r=>e.push(r)),new Uint8Array(e)}function nF(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>R_(i,r,n)),R_(null,r,n),e.join("")}function iF(t){return Math.round(Date.now()/1e3)+t}function aF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",Ea={tested:!1,writable:!1},fc=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ea.tested)return Ea.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ea.tested=!0,Ea.writable=!0}catch{Ea.tested=!0,Ea.writable=!1}return Ea.writable};function sF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Jk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Du(()=>Promise.resolve().then(()=>nl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},oF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",eO=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},pd=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},md=async(t,e)=>{await t.removeItem(e)};class kp{constructor(){this.promise=new kp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}kp.promiseConstructor=Promise;function ig(t){const e=t.split(".");if(e.length!==3)throw new dc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!V3.test(e[n]))throw new dc("JWT not in base64url format");return{header:JSON.parse(I_(e[0])),payload:JSON.parse(I_(e[1])),signature:tF(e[2]),raw:{header:e[0],payload:e[1]}}}async function lF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cF(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function uF(t){return("0"+t.toString(16)).substr(-2)}function dF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,uF).join("")}async function fF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function hF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(t,e,r=!1){const n=dF();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await eO(t,`${e}-code-verifier`,i);const a=await hF(n);return[a,n===a?"plain":"s256"]}const pF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mF(t){const e=t.headers.get(cy);if(!e||!e.match(pF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ks(t){if(!yF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var xF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Na=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bF=[502,503,504];async function $_(t){var e;if(!oF(t))throw new uy(Na(t),0);if(bF.includes(t.status))throw new uy(Na(t),t.status);let r;try{r=await t.json()}catch(a){throw new Qk(Na(a),a)}let n;const i=mF(t);if(i&&i.getTime()>=Xk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new P_(Na(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ei}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new P_(Na(r),t.status,r.weak_password.reasons);throw new q3(Na(r),t.status||500,n)}const wF=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function De(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[cy]||(a[cy]=Xk["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await SF(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function SF(t,e,r,n,i,a){const s=wF(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new uy(Na(l),0)}if(o.ok||await $_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await $_(l)}}function zn(t){var e;let r=null;AF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=iF(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function L_(t){const e=zn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _F(t){return{data:t,error:null}}function EF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=xF(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function jF(t){return t}function AF(t){return t.access_token&&t.refresh_token&&t.expires_in}const ag=["global","local","others"];var TF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class NF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Jk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ag[0]){if(ag.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ag.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=TF(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:EF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:jF});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ks(e);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ks(e);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ks(e);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ks(e.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ks(e.userId),ks(e.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}const CF={getItem:t=>fc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{fc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{fc()&&globalThis.localStorage.removeItem(t)}};function F_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function kF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Os={debug:!!(globalThis&&fc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class OF extends tO{}async function DF(t,e,r){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new OF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Os.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}kF();const PF={url:H3,storageKey:z3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function B_(t,e,r){return await r()}class Uc{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uc.nextInstanceID,Uc.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},PF),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new NF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Jk(i.fetch),this.lock=i.lock||B_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=DF:this.lock=B_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:fc()?this.storage=CF:(this.memoryStorage={},this.storage=F_(this.memoryStorage)):(this.memoryStorage={},this.storage=F_(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kk}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=sF(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),X3(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new Qk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:zn}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ae(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Cs(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:zn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zn})}else throw new fd("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ae(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:L_})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:L_})}else throw new fd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,s,o,l,u,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:b}=e;let _;if(sn())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)m=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:x}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:nF(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:zn});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new dd}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Ae(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await pd(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:zn});if(await md(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new dd}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Ae(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zn}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Cs(this.storage,this.storageKey));const{error:f}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new fd("You must provide either an email or phone number.")}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:zn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Cs(this.storage,this.storageKey)),await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:_F})}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ei;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new fd("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await pd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<rg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pi}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ei}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Pi})})}catch(r){if(Ae(r))return K3(r)&&(await this._removeSession(),await md(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ei;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Cs(this.storage,this.storageKey));const{data:u,error:d}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Pi});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ei;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=ig(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ei;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!sn())throw new hd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new D_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new D_("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new hd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await pd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(Y3(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await md(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=aF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Cs(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return sn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cF(async i=>(i>0&&await lF(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&ng(a)&&Date.now()+s-n<$s})}catch(n){if(this._debug(r,"error",n),Ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await pd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<rg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${rg}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),ng(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kp;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Ae(a)){const s={session:null,error:a};return ng(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await eO(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await md(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$s}ms, refresh threshold is ${ly} ticks`),i<=ly&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Cs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await De(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ig(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+G3>Date.now()))return n;const{data:i,error:a}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new dc("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===e),!n)throw new dc("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=ig(n);if(gF(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const u=vF(i.alg),d=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,rF(`${o}.${l}`)))throw new dc("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}Uc.nextInstanceID=0;const MF=Uc;class RF extends MF{constructor(e){super(e)}}var IF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class $F{constructor(e,r,n){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=B3(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:D3,realtime:M3,auth:Object.assign(Object.assign({},P3),{storageKey:u}),global:O3},f=U3(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=L3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new e3(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new k4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new N3(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return IF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new m3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LF=(t,e,r)=>new $F(t,e,r),sg="https://kvsbrrmzedadyffqtcdq.supabase.co",og="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw";let J=null;try{sg&&sg!=="https://placeholder.supabase.co"&&og&&og!=="placeholder-key"&&(J=LF(sg,og))}catch(t){console.error("Failed to create Supabase client:",t)}class Ci{constructor(){this.isAuthenticated=!0,Ci.mockMessages||(Ci.mockMessages=[])}async init(){try{if(!J)return!0;const{data:e,error:r}=await J.from("venues").select("count").limit(1);return r?(console.error("Supabase connection failed:",r),!1):!0}catch(e){return console.error("Failed to initialize Supabase API:",e),!1}}getMockData(e){return{venues:[],trailer_history:[],camper_history:[],staff:[]}[e]||[]}async readTable(e,r={}){try{if(!J)return{success:!0,data:this.getMockData(e)};let n=[],i=0;const a=1e3;let s=!0;for(;s;){let o=J.from(e).select("*");r.filters&&Object.entries(r.filters).forEach(([d,f])=>{o=o.eq(d,f)}),r.dateFrom&&r.dateTo&&(o=o.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?o=o.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):e.includes("history")?o=o.order("date",{ascending:!1}):o=o.order("id",{ascending:!1}),o=o.range(i*a,(i+1)*a-1);const{data:l,error:u}=await o;if(u)throw new Error(u.message);l&&l.length>0?(n=n.concat(l),i++,l.length<a&&(s=!1),i>50&&(console.warn(`[readTable] Stopping pagination after 50 pages to prevent infinite loop for ${e}`),s=!1)):s=!1}return{success:!0,data:n}}catch(n){return console.error(`Failed to read from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async addRow(e,r){try{if(!J)return{success:!0,data:{...r,id:Date.now()},message:"Row added successfully (mock mode)"};const{data:n,error:i}=await J.from(e).insert([r]).select();if(i)throw new Error(i.message);return{success:!0,data:n[0],message:"Row added successfully"}}catch(n){return console.error(`Failed to add row to ${e}:`,n),{success:!1,error:n.message}}}async updateRow(e,r,n){try{if(!J)return{success:!0,data:{id:r,...n},message:"Row updated successfully (mock mode)"};const{data:i,error:a}=await J.from(e).update(n).eq("id",r).select();if(a)throw new Error(a.message);return{success:!0,data:i[0],message:"Row updated successfully"}}catch(i){return console.error(`Failed to update row in ${e}:`,i),{success:!1,error:i.message}}}async deleteRow(e,r){try{if(!J)return{success:!0,message:"Row deleted successfully (mock mode)"};const{error:n}=await J.from(e).delete().eq("id",r);if(n)throw new Error(n.message);return{success:!0,message:"Row deleted successfully"}}catch(n){return console.error(`Failed to delete row from ${e}:`,n),{success:!1,error:n.message}}}async getTableInfo(e){try{if(!J){const i=this.getMockData(e);return{success:!0,data:{title:e,rowCount:i.length,columnCount:i.length>0?Object.keys(i[0]).length:0}}}const{count:r,error:n}=await J.from(e).select("*",{count:"exact",head:!0});if(n)throw new Error(n.message);return{success:!0,data:{title:e,rowCount:r||0,columnCount:10}}}catch(r){return console.error(`Failed to get table info for ${e}:`,r),{success:!1,error:r.message}}}async searchData(e,r,n=null){try{if(!J){const o=this.getMockData(e);return r?{success:!0,data:o.filter(u=>n?u[n]&&u[n].toString().toLowerCase().includes(r.toLowerCase()):Object.values(u).some(d=>d&&d.toString().toLowerCase().includes(r.toLowerCase())))}:{success:!0,data:o}}let i=J.from(e).select("*");r&&(n?i=i.ilike(n,`%${r}%`):i=i.or(`name.ilike.%${r}%,email.ilike.%${r}%,promo.ilike.%${r}%`));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error(`Failed to search data in ${e}:`,i),{success:!1,error:i.message,data:[]}}}async getSalesWithVenues(e,r={}){try{if(!J){const s=this.getMockData(e),o=this.getMockData("venues");return{success:!0,data:s.map(u=>({...u,venues:o.find(d=>d.id===u.venue_id)||{}}))}}let n=J.from(e).select(`
          *,
          venues (
            id,
            promo,
            address_city,
            contact,
            phone,
            email
          )
        `);r.dateFrom&&r.dateTo&&(n=n.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?n=n.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):n=n.order("date",{ascending:!1});const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error(`Failed to get sales with venues from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async getDashboardStats(){try{if(!J){const u=this.getMockData("trailer_history"),d=this.getMockData("camper_history"),f=this.getMockData("venues"),h=this.getMockData("staff");return{success:!0,data:{trailerHistory:u,camperHistory:d,venueCount:f.length,staffCount:h.length}}}const{data:e,error:r}=await J.from("trailer_history").select("gross_sales, net_sales, sales_tax, date");if(r)throw new Error(r.message);const{data:n,error:i}=await J.from("camper_history").select("gross_sales, net_sales, sales_tax, date");if(i)throw new Error(i.message);const{count:a,error:s}=await J.from("venues").select("*",{count:"exact",head:!0});if(s)throw new Error(s.message);const{count:o,error:l}=await J.from("staff").select("*",{count:"exact",head:!0});if(l)throw new Error(l.message);return{success:!0,data:{trailerHistory:e||[],camperHistory:n||[],venueCount:a||0,staffCount:o||0}}}catch(e){return console.error("Failed to get dashboard stats:",e),{success:!1,error:e.message}}}async getCurrentUser(){var e;try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:{user:r},error:n}=await J.auth.getUser();if(n)return{success:!1,error:n.message};if(!r)return{success:!1,error:"No user found"};const{data:i,error:a}=await J.from("users").select("*").eq("email",r.email).single();return a&&a.code!=="PGRST116"&&console.warn("Could not fetch user profile:",a),{success:!0,data:{id:r.id,email:r.email,name:(i==null?void 0:i.name)||((e=r.user_metadata)==null?void 0:e.name)||r.email,role:(i==null?void 0:i.role)||"user",created_at:r.created_at,last_sign_in:r.last_sign_in_at}}}catch(r){return console.error("Failed to get current user:",r),{success:!1,error:r.message}}}async signIn(e,r){var n;try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await J.auth.signInWithPassword({email:e,password:r});if(a)return{success:!1,error:a.message};const s={id:i.user.id,email:i.user.email,name:((n=i.user.user_metadata)==null?void 0:n.name)||i.user.email,role:"user",created_at:i.user.created_at,last_sign_in:i.user.last_sign_in_at},{data:o}=await J.from("users").select("*").eq("email",i.user.email).single();if(o&&(s.name=o.name,s.role=o.role,s.staff_id=o.staff_id),o!=null&&o.staff_id){const{data:l}=await J.from("staff").select("*").eq("id",o.staff_id).single();l&&(s.staffMember=l,s.name=l.name||s.name)}return{success:!0,data:s}}catch(i){return console.error("Failed to sign in:",i),{success:!1,error:i.message}}}async signUp(e,r,n){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:i,error:a}=await J.auth.signUp({email:e,password:r,options:{data:{name:n}}});if(a)return{success:!1,error:a.message};if(i.user)try{const{error:s}=await J.from("users").insert([{id:i.user.id,email:i.user.email,name:n,role:"user",is_active:!0}]);s&&s.code!=="23505"&&console.warn("Could not create user profile:",s)}catch(s){console.warn("Profile creation failed, but auth succeeded:",s)}return{success:!0,data:i.user}}catch(i){return console.error("Failed to sign up:",i),{success:!1,error:i.message}}}async signOut(){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:e}=await J.auth.signOut();return e?{success:!1,error:e.message}:{success:!0}}catch(e){return console.error("Failed to sign out:",e),{success:!1,error:e.message}}}async resetPassword(e){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:r}=await J.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to reset password:",r),{success:!1,error:r.message}}}async resendConfirmationEmail(e){try{if(!J)return{success:!1,error:"Supabase not configured"};const{error:r}=await J.auth.resend({type:"signup",email:e});return r?{success:!1,error:r.message}:{success:!0}}catch(r){return console.error("Failed to resend confirmation email:",r),{success:!1,error:r.message}}}async updateProfile(e,r){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await J.from("users").update(r).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to update profile:",n),{success:!1,error:n.message}}}async linkUserToStaff(e,r){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:n,error:i}=await J.from("users").update({staff_id:r}).eq("id",e).select().single();return i?{success:!1,error:i.message}:{success:!0,data:n}}catch(n){return console.error("Failed to link user to staff:",n),{success:!1,error:n.message}}}async getUnlinkedUsers(){try{if(!J)return{success:!1,error:"Supabase not configured"};const{data:e,error:r}=await J.from("users").select("*").is("staff_id",null).order("created_at",{ascending:!1});return r?{success:!1,error:r.message}:{success:!0,data:e||[]}}catch(e){return console.error("Failed to get unlinked users:",e),{success:!1,error:e.message}}}async authenticate(){return(await this.getCurrentUser()).success}async getUsers(){try{if(!J)return{success:!0,data:[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}]};const{data:{user:e}}=await J.auth.getUser();if(!e)return{success:!0,data:[]};const{data:r}=await J.from("users").select("role").eq("email",e.email).single();let n=J.from("users").select("*");(r==null?void 0:r.role)==="admin"?n=n.eq("is_active",!0).order("name"):n=n.eq("email",e.email);const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(e){return console.error("Failed to get users:",e),{success:!1,error:e.message,data:[]}}}async addUser(e){try{if(!J)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}};const{data:r,error:n}=await J.from("users").insert([e]).select().single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to add user:",r),{success:!1,error:r.message}}}async updateUser(e,r){try{if(!J)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await J.from("users").update(r).eq("id",e).select().single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update user:",n),{success:!1,error:n.message}}}async getMessageGroups(){try{if(!J)return{success:!0,data:[{id:1,group_name:"General",created_by:1,is_active:!0}]};const{data:e,error:r}=await J.from("message_groups").select("*").eq("is_active",!0).order("group_name");if(r)throw new Error(r.message);return{success:!0,data:e||[]}}catch(e){return console.error("Failed to get message groups:",e),{success:!1,error:e.message,data:[]}}}async getGroupMembers(e){try{if(!J)return{success:!0,data:[{id:1,group_id:1,user_id:1,role:"admin"},{id:2,group_id:1,user_id:2,role:"member"},{id:3,group_id:1,user_id:3,role:"member"},{id:4,group_id:1,user_id:4,role:"member"},{id:5,group_id:1,user_id:5,role:"admin"},{id:6,group_id:1,user_id:6,role:"member"}]};const{data:r,error:n}=await J.from("group_members").select(`
          *,
          staff (id, name, email, role)
        `).eq("group_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get group members:",r),{success:!1,error:r.message,data:[]}}}async getMessages(e=null,r=null,n=50){try{if(!J){let o=Ci.mockMessages||[];return e&&(o=o.filter(l=>l.group_id===e)),o.sort((l,u)=>new Date(l.created_at)-new Date(u.created_at)),n&&(o=o.slice(0,n)),{success:!0,data:o}}let i=J.from("team_messages").select("*").eq("is_deleted",!1).order("created_at",{ascending:!0}).limit(n);e?i=i.eq("group_id",e):r&&(i=i.eq("recipient_id",r));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error("Failed to get messages:",i),{success:!1,error:i.message,data:[]}}}async sendMessage(e){try{if(!J){const a=[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}].find(o=>o.id===e.sender_id)||{id:e.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"},s={id:Date.now(),...e,created_at:new Date().toISOString(),sender:{id:a.id,name:a.name,email:a.email}};return Ci.mockMessages||(Ci.mockMessages=[]),Ci.mockMessages.push(s),{success:!0,data:s}}const{data:r,error:n}=await J.from("team_messages").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to send message:",r),{success:!1,error:r.message}}}async getTasks(e=null,r=null){try{if(!J)return{success:!0,data:[]};let n=J.from("tasks").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("assigned_to",e)),r&&(n=n.eq("status",r));const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error("Failed to get tasks:",n),{success:!1,error:n.message,data:[]}}}async createTask(e){try{if(!J)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};const{data:r,error:n}=await J.from("tasks").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to create task:",r),{success:!1,error:r.message}}}async updateTask(e,r){try{if(!J)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await J.from("tasks").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update task:",n),{success:!1,error:n.message}}}async deleteTask(e){try{if(!J)return{success:!0};const{error:r}=await J.from("tasks").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete task:",r),{success:!1,error:r.message}}}async getTaskComments(e){try{return{success:!0,data:[]}}catch(r){return console.error("Failed to get task comments:",r),{success:!1,error:r.message,data:[]}}}async addTaskComment(e){try{return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}}}catch(r){return console.error("Failed to add task comment:",r),{success:!1,error:r.message}}}async getStoreHours(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("store_hours").select("*").eq("store_id",e).order("day_of_week");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store hours:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHours(e,r){try{if(!J)return console.log("Mock: Saving store hours:",r),{success:!0};const{error:n}=await J.from("store_hours").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("store_hours").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store hours:",n),{success:!1,error:n.message}}}async getStoreHolidays(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("store_holidays").select("*").eq("store_id",e).order("date");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store holidays:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHolidays(e,r){try{if(!J)return console.log("Mock: Saving store holidays:",r),{success:!0};const{error:n}=await J.from("store_holidays").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("store_holidays").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store holidays:",n),{success:!1,error:n.message}}}async getCommissionTiers(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("commission_tiers").select("*").eq("store_id",e).order("sales_target");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get commission tiers:",r),{success:!1,error:r.message,data:[]}}}async saveCommissionTiers(e,r){try{if(!J)return console.log("Mock: Saving commission tiers:",r),{success:!0};console.log("saveCommissionTiers called with storeId:",e,"tiersData:",r);const{error:n}=await J.from("commission_tiers").delete().eq("store_id",e);if(n)throw new Error(n.message);const i=r.filter(s=>s.sales_target>0&&s.bonus_amount>0).map(s=>{const o=s.tier_name&&s.tier_name.trim()||`Bonus for $${s.sales_target.toLocaleString()}+ sales`;return{store_id:s.store_id,tier_name:o,sales_target:s.sales_target,commission_rate:s.commission_rate||0,bonus_amount:s.bonus_amount}});console.log("Final insertData to send to database:",i);const{error:a}=await J.from("commission_tiers").insert(i);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save commission tiers:",n),{success:!1,error:n.message}}}async getStaffCommissionRates(e){try{if(!J)return{success:!0,data:[]};const{data:r,error:n}=await J.from("staff_commission_rates").select("*").eq("store_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get staff commission rates:",r),{success:!1,error:r.message,data:[]}}}async saveStaffCommissionRates(e,r){try{if(!J)return console.log("Mock: Saving staff commission rates:",r),{success:!0};const{error:n}=await J.from("staff_commission_rates").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await J.from("staff_commission_rates").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save staff commission rates:",n),{success:!1,error:n.message}}}async getScheduleSlots(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("schedule_slots").select("*").eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(i){return console.error("Failed to get schedule slots:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleSlot(e){try{if(!J)return console.log("Mock: Saving schedule slot:",e),{success:!0};const{error:r}=await J.from("schedule_slots").upsert(e,{onConflict:"store_id,date,start_time"});if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to save schedule slot:",r),{success:!1,error:r.message}}}async deleteScheduleSlot(e){try{if(!J)return console.log("Mock: Deleting schedule slot:",e),{success:!0};const{error:r}=await J.from("schedule_slots").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule slot:",r),{success:!1,error:r.message}}}async getScheduleAssignments(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("schedule_assignments").select(`
          *,
          staff:staff_id(name, role)
        `).eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:(i||[]).map(o=>({id:o.id,storeId:o.store_id,staffId:o.staff_id,date:o.date,startTime:o.start_time,endTime:o.end_time,notes:o.notes,staff:o.staff}))}}catch(i){return console.error("Failed to get schedule assignments:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleAssignment(e){try{if(!J)return console.log("Mock: Saving schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const r={store_id:e.storeId,staff_id:e.staffId,date:e.date,start_time:e.startTime,end_time:e.endTime,notes:e.notes},{data:n,error:i}=await J.from("schedule_assignments").upsert(r,{onConflict:"staff_id,date,start_time"}).select();if(i)throw new Error(i.message);return{success:!0,data:n!=null&&n[0]?{id:n[0].id,storeId:n[0].store_id,staffId:n[0].staff_id,date:n[0].date,startTime:n[0].start_time,endTime:n[0].end_time,notes:n[0].notes}:e}}catch(r){return console.error("Failed to save schedule assignment:",r),{success:!1,error:r.message}}}async createScheduleAssignment(e){try{if(!J)return console.log("Mock: Creating schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const{data:r,error:n}=await J.from("schedule_assignments").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:(r==null?void 0:r[0])||e}}catch(r){return console.error("Failed to create schedule assignment:",r),{success:!1,error:r.message}}}async deleteScheduleAssignment(e){try{if(!J)return console.log("Mock: Deleting schedule assignment:",e),{success:!0};const{error:r}=await J.from("schedule_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule assignment:",r),{success:!1,error:r.message}}}async importTrailerHistory(e){if(!Array.isArray(e)||e.length===0)return{success:!1,error:"No data to import",processed:0,failed:0};if(!J)return{success:!0,processed:e.length,failed:0};const r={};for(const a of e){const s=`${a.date}_${a.store}`;r[s]||(r[s]={date:a.date,Store:a.store,sales_tax:0,net_sales:0,gross_sales:0}),r[s].sales_tax+=parseFloat(a.sales_tax||0),r[s].net_sales+=parseFloat(a.net_sales||0),r[s].gross_sales+=parseFloat(a.gross_sales||0)}let n=0,i=0;for(const a of Object.values(r))try{const{error:s}=await J.from("trailer_history").upsert([a],{onConflict:["date","Store"]});s?(i++,console.error("Upsert error:",s)):n++}catch(s){i++,console.error("Exception during upsert:",s)}return{success:i===0,processed:n,failed:i}}async getSalesForPeriod(e,r,n){try{if(!J)return{success:!0,data:[{date:r,store:e,total_sales:15e3},{date:n,store:e,total_sales:18e3}]};const{data:i,error:a}=await J.from("trailer_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n),{data:s,error:o}=await J.from("camper_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n);if(a)throw a;if(o)throw o;const u=[...i||[],...s||[]].reduce((d,f)=>{const h=f.date;return d[h]||(d[h]={date:h,store:e,total_sales:0}),d[h].total_sales+=parseFloat(f.gross_sales||0),d},{});return{success:!0,data:Object.values(u)}}catch(i){return console.error("Error fetching sales data:",i),{success:!1,error:i.message}}}async getSalesByStaff(e,r,n){try{return J?{success:!0,data:[{date:r,staff_id:e,sales_amount:5e3},{date:n,staff_id:e,sales_amount:6e3}]}:{success:!0,data:[]}}catch(i){return console.error("Error fetching staff sales:",i),{success:!1,error:i.message}}}async getPayrollHistory(e,r,n){try{if(!J)return{success:!0,data:[]};const{data:i,error:a}=await J.from("payroll_history").select("*").eq("store_id",e).gte("pay_period_start",r).lte("pay_period_end",n).order("pay_period_start",{ascending:!1});if(a)throw a;return{success:!0,data:i||[]}}catch(i){return console.error("Error fetching payroll history:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{if(!J)return{success:!0,data:{id:Date.now()}};const{data:r,error:n}=await J.from("payroll_history").insert([e]).select();if(n)throw n;return{success:!0,data:r[0]}}catch(r){return console.error("Error saving payroll record:",r),{success:!1,error:r.message}}}async getStores(){try{if(!J)return{success:!0,data:[{id:1,name:"Spartanburg",number:"1"},{id:2,name:"Greenville",number:"3"},{id:3,name:"Columbia",number:"4"},{id:4,name:"Trailer",number:"5"},{id:5,name:"Camper",number:"7"}]};const{data:e,error:r}=await J.from("stores").select("*").eq("is_active",!0).order("number");if(r)throw r;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching stores:",e),{success:!1,error:e.message}}}async getStaffBonusTiers(e){try{console.log(" Getting staff bonus tiers for staffId:",e);const{data:r,error:n}=await J.from("staff_bonus_tiers").select("*").eq("staff_id",e).order("sales_target",{ascending:!0});return n?(console.error(" Error fetching staff bonus tiers:",n),{success:!1,error:n.message}):(console.log(" Staff bonus tiers fetched successfully:",r),{success:!0,data:r})}catch(r){return console.error(" Exception in getStaffBonusTiers:",r),{success:!1,error:r.message}}}async saveStaffBonusTiers(e,r){try{if(console.log(" Saving staff bonus tiers for staffId:",e,"tiersData:",r),!J)return console.log(" Supabase not available, returning mock success"),{success:!0,data:r};console.log(" Deleting existing tiers for staff:",e);const{error:n}=await J.from("staff_bonus_tiers").delete().eq("staff_id",e);if(n)return console.error(" Error deleting existing staff bonus tiers:",n),{success:!1,error:n.message};if(console.log(" Successfully deleted existing tiers"),!r||r.length===0)return console.log(" No tiers to save, deletion completed"),{success:!0,data:[]};console.log(" Inserting new tiers:",r);const{data:i,error:a}=await J.from("staff_bonus_tiers").insert(r).select();return a?(console.error(" Error saving staff bonus tiers:",a),console.error(" Error details:",{code:a.code,message:a.message,details:a.details,hint:a.hint}),{success:!1,error:a.message}):(console.log(" Staff bonus tiers saved successfully:",i),{success:!0,data:i})}catch(n){return console.error(" Exception in saveStaffBonusTiers:",n),{success:!1,error:n.message}}}async calculateStaffBonus(e,r){try{console.log(" Calculating staff bonus for staffId:",e,"salesAmount:",r);const{data:n,error:i}=await J.from("staff_bonus_tiers").select("*").eq("staff_id",e).eq("is_active",!0).order("sales_target",{ascending:!1});if(i)return console.error(" Error calculating staff bonus:",i),{success:!1,error:i.message};let a=0;for(const s of n||[])if(r>=s.sales_target){a=s.bonus_amount;break}return console.log(" Staff bonus calculated:",a),{success:!0,data:a}}catch(n){return console.error(" Exception in calculateStaffBonus:",n),{success:!1,error:n.message}}}async getScheduleAssignmentsForDateRange(e,r,n){try{console.log(" Getting schedule assignments for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await J.from("schedule_assignments").select(`
          *,
          slot:schedule_slots(*)
        `).eq("slot.store_id",e).gte("slot.slot_date",r).lte("slot.slot_date",n);return a?(console.error(" Error fetching schedule assignments:",a),{success:!1,error:a.message}):(console.log(" Schedule assignments fetched:",i),{success:!0,data:i||[]})}catch(i){return console.error(" Exception in getScheduleAssignmentsForDateRange:",i),{success:!1,error:i.message}}}async getSalesForDateRange(e,r,n){try{console.log(" Getting sales for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await J.from("trailer_history").select("date, Store, gross_sales").order("date",{ascending:!1}).limit(5);a?console.error(" Error fetching sample data:",a):console.log(" Sample dates from trailer_history:",i);const{data:s,error:o}=await J.from("trailer_history").select("*").gte("date",r).lte("date",n);if(o)return console.error(" Error fetching sales data:",o),{success:!1,error:o.message};console.log(" Raw data for date range:",(s==null?void 0:s.length)||0,"records");const l=(s||[]).filter(u=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"}[u.Store]||u.Store)===e);return console.log(" Sales fetched for store:",e,l),{success:!0,data:l}}catch(i){return console.error(" Exception in getSalesForDateRange:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{console.log(" Saving payroll record:",e);const{data:r,error:n}=await J.from("payroll_records").insert(e).select();return n?(console.error(" Error saving payroll record:",n),{success:!1,error:n.message}):(console.log(" Payroll record saved:",r),{success:!0,data:r})}catch(r){return console.error(" Exception in savePayrollRecord:",r),{success:!1,error:r.message}}}}const le=new Ci,Zl=(t,e)=>{const r=s=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"})[s]||`Store ${s}`,n=t.Store||t.store||null,i=n?r(String(n)):e==="TRAILER_HISTORY"?"Trailer":"Camper";return{id:t.id||null,date:t.date||"",status:t.status||"",salesTax:parseFloat(t.sales_tax||0)||0,netSales:parseFloat(t.net_sales||0)||0,grossSales:parseFloat(t.gross_sales||0)||0,store:i,venue:t.common_venue_name||t.venue_name||"",sheetType:e}},FF=t=>{const e={};return t.forEach((n,i)=>{const a=String(n.store||"Unknown Store"),s=n.date||"";if(!s)return;const o=parseFloat(n.salesTax||0)||0,l=parseFloat(n.netSales||0)||0,u=parseFloat(n.grossSales||0)||0;if(l<=0||u<=0)return;let d=s;s.includes(" ")&&(d=s.split(" ")[0]);const f=`${a}_${d}`;e[f]||(e[f]={store:a,venue:n.venue||"",date:d,salesTax:0,netSales:0,grossSales:0,count:0}),e[f].salesTax+=o,e[f].netSales+=l,e[f].grossSales+=u,e[f].count+=1}),Object.values(e).sort((n,i)=>{const a=new Date(n.date),s=new Date(i.date);return a.getTime()!==s.getTime()?a-s:String(n.store).localeCompare(String(i.store))})},gd=t=>({id:t.id||null,promo:t.promo||"",promoSend:t.promo_to_send||"",addressCity:t.address_city||"",contact:t.contact||"",phone:t.phone||"",email:t.email||"",times:t.times||"",showInfo:t.show_info||"",forecastWill:t.forecast||""}),U_=t=>({id:t.id||null,name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hireDate:t.hire_date||"",notes:t.notes||"",store_id:t.store_id||null,payType:t.pay_type||"hourly",hourlyRate:parseFloat(t.hourly_rate||0)||0,salaryAmount:parseFloat(t.salary_amount||0)||0,preferredHoursPerWeek:parseFloat(t.preferred_hours_per_week||0)||0,maxHoursPerWeek:parseFloat(t.max_hours_per_week||0)||0}),H_=(t,e=!1)=>{const r={name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hire_date:t.hireDate||"",notes:t.notes||"",store_id:t.store_id||null,pay_type:t.payType||"hourly",hourly_rate:parseFloat(t.hourlyRate||0)||0,salary_amount:parseFloat(t.salaryAmount||0)||0,preferred_hours_per_week:parseFloat(t.preferredHoursPerWeek||0)||0,max_hours_per_week:parseFloat(t.maxHoursPerWeek||0)||0};return e&&t.id&&(r.id=t.id),r},BF=["Confirmed","Pending","Closed","Cancelled","Rescheduled"],UF=["Manager","Worker","Driver","Sales","Support"],HF=["Active","Inactive","On Leave","Terminated"],zF=["hourly","salary","salary+bonus"],lg=t=>({date:new Date().toISOString().split("T")[0],status:"Confirmed",salesTax:0,netSales:0,grossSales:0,venueId:"",sheetType:t}),cg=()=>({promo:"",promoSend:"",addressCity:"",contact:"",phone:"",email:"",times:"",showInfo:"",forecastWill:""}),ug=()=>({name:"",email:"",phone:"",role:"Worker",status:"Active",hireDate:new Date().toISOString().split("T")[0],notes:"",store_id:null,payType:"hourly",hourlyRate:0,salaryAmount:0,preferredHoursPerWeek:0,maxHoursPerWeek:0}),WF={currentSheet:"TRAILER_HISTORY",salesData:[],rawSalesData:[],venuesData:[],staffData:[],tasksData:[],messagesData:[],calendarEvents:[],currentMonth:new Date,loading:!1,error:null,user:null},oe={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_SALES_DATA:"SET_SALES_DATA",SET_VENUES_DATA:"SET_VENUES_DATA",SET_STAFF_DATA:"SET_STAFF_DATA",SET_CURRENT_SHEET:"SET_CURRENT_SHEET",SET_CURRENT_MONTH:"SET_CURRENT_MONTH",SET_SELECTED_VENUE:"SET_SELECTED_VENUE",ADD_SALES_ENTRY:"ADD_SALES_ENTRY",UPDATE_SALES_ENTRY:"UPDATE_SALES_ENTRY",DELETE_SALES_ENTRY:"DELETE_SALES_ENTRY",ADD_VENUE_ENTRY:"ADD_VENUE_ENTRY",UPDATE_VENUE_ENTRY:"UPDATE_VENUE_ENTRY",DELETE_VENUE_ENTRY:"DELETE_VENUE_ENTRY",ADD_STAFF_ENTRY:"ADD_STAFF_ENTRY",UPDATE_STAFF_ENTRY:"UPDATE_STAFF_ENTRY",DELETE_STAFF_ENTRY:"DELETE_STAFF_ENTRY",SET_IS_AUTHENTICATED:"SET_IS_AUTHENTICATED",SET_USER:"SET_USER",SET_USERS_DATA:"SET_USERS_DATA",SET_MESSAGES_DATA:"SET_MESSAGES_DATA",SET_MESSAGE_GROUPS:"SET_MESSAGE_GROUPS",ADD_MESSAGE:"ADD_MESSAGE",SET_CURRENT_USER:"SET_CURRENT_USER",SET_SELECTED_GROUP:"SET_SELECTED_GROUP",SET_TASKS_DATA:"SET_TASKS_DATA",ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",SET_TASK_COMMENTS:"SET_TASK_COMMENTS",ADD_TASK_COMMENT:"ADD_TASK_COMMENT",SET_SELECTED_TASK:"SET_SELECTED_TASK",SET_RAW_SALES_DATA:"SET_RAW_SALES_DATA"};function VF(t,e){switch(e.type){case oe.SET_CURRENT_SHEET:return{...t,currentSheet:e.payload};case oe.SET_LOADING:return{...t,loading:e.payload};case oe.SET_ERROR:return{...t,error:e.payload,loading:!1};case oe.SET_SALES_DATA:return{...t,salesData:e.payload,loading:!1,error:null};case oe.SET_VENUES_DATA:return{...t,venuesData:e.payload,loading:!1,error:null};case oe.SET_STAFF_DATA:return{...t,staffData:e.payload,loading:!1,error:null};case oe.ADD_SALES_ENTRY:return{...t,salesData:[...t.salesData,e.payload]};case oe.UPDATE_SALES_ENTRY:return{...t,salesData:t.salesData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_SALES_ENTRY:return{...t,salesData:t.salesData.filter(r=>r.id!==e.payload)};case oe.ADD_VENUE_ENTRY:return{...t,venuesData:[...t.venuesData,e.payload]};case oe.UPDATE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.filter(r=>r.id!==e.payload)};case oe.ADD_STAFF_ENTRY:return{...t,staffData:[...t.staffData,e.payload]};case oe.UPDATE_STAFF_ENTRY:return{...t,staffData:t.staffData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_STAFF_ENTRY:return{...t,staffData:t.staffData.filter(r=>r.id!==e.payload)};case oe.SET_CURRENT_MONTH:return{...t,currentMonth:e.payload};case oe.SET_SELECTED_VENUE:return{...t,selectedVenue:e.payload};case oe.SET_IS_AUTHENTICATED:return{...t,isAuthenticated:e.payload};case oe.SET_USER:return{...t,user:e.payload,isAuthenticated:!!e.payload};case oe.SET_USERS_DATA:return{...t,usersData:e.payload};case oe.SET_MESSAGES_DATA:return{...t,messagesData:e.payload};case oe.SET_MESSAGE_GROUPS:return{...t,messageGroups:e.payload};case oe.ADD_MESSAGE:return{...t,messagesData:[...t.messagesData,e.payload]};case oe.SET_CURRENT_USER:return{...t,currentUser:e.payload};case oe.SET_SELECTED_GROUP:return{...t,selectedGroup:e.payload};case oe.SET_TASKS_DATA:return{...t,tasksData:e.payload};case oe.ADD_TASK:return{...t,tasksData:[e.payload,...t.tasksData]};case oe.UPDATE_TASK:return{...t,tasksData:t.tasksData.map(r=>r.id===e.payload.id?e.payload:r)};case oe.DELETE_TASK:return{...t,tasksData:t.tasksData.filter(r=>r.id!==e.payload)};case oe.SET_TASK_COMMENTS:return{...t,taskComments:e.payload};case oe.ADD_TASK_COMMENT:return{...t,taskComments:[e.payload,...t.taskComments]};case oe.SET_SELECTED_TASK:return{...t,selectedTask:e.payload};case oe.SET_RAW_SALES_DATA:return{...t,rawSalesData:e.payload};default:return t}}const rO=C.createContext();function GF({children:t}){const[e,r]=C.useReducer(VF,WF),n=async()=>{try{const[T,N]=await Promise.all([le.getUsers(),le.getMessageGroups()]);T.success&&r({type:oe.SET_USERS_DATA,payload:T.data}),N.success&&r({type:oe.SET_MESSAGE_GROUPS,payload:N.data})}catch(T){console.error("Failed to load staff and groups data:",T)}};C.useEffect(()=>{setTimeout(()=>{i()},100)},[]),C.useEffect(()=>{a()},[e.currentSheet]);const i=async()=>{r({type:oe.SET_LOADING,payload:!0});try{if(await le.init()){await P();const N=new Promise((R,L)=>setTimeout(()=>L(new Error("Data loading timeout")),1e4));try{await Promise.race([Promise.all([a(),l(),u()]),N]),n(),U()}catch(R){console.warn("Data loading timed out, continuing with app:",R)}}}catch(T){console.error("Failed to initialize app:",T),r({type:oe.SET_ERROR,payload:T.message})}finally{r({type:oe.SET_LOADING,payload:!1})}},a=async()=>{try{const T="trailer_history",N=await le.readTable(T);if(N.success){const R=N.data.map(X=>Zl(X,e.currentSheet)),L=FF(R);r({type:oe.SET_SALES_DATA,payload:L}),r({type:oe.SET_RAW_SALES_DATA,payload:R})}else r({type:oe.SET_ERROR,payload:N.error})}catch(T){r({type:oe.SET_ERROR,payload:T.message})}},s=async()=>{try{const T="trailer_history",N=await le.readTable(T);if(N.success){const R=N.data.map(L=>Zl(L,e.currentSheet));r({type:oe.SET_RAW_SALES_DATA,payload:R})}else r({type:oe.SET_ERROR,payload:N.error})}catch(T){r({type:oe.SET_ERROR,payload:T.message})}},o=async()=>{try{const{data:T}=await le.supabase.from("trailer_history").select("id").or("net_sales.lte.0,gross_sales.lte.0");if(T&&T.length>0){const N=T.map(R=>le.supabase.from("trailer_history").delete().eq("id",R.id));return await Promise.all(N),await s(),{success:!0,message:`${T.length} zero sales entries cleaned up successfully`}}else return{success:!0,message:"No zero sales entries found to clean up"}}catch(T){return{success:!1,error:T.message}}},l=async()=>{try{const T=await le.readTable("venues");if(T.success){const N=T.data.map(R=>gd(R));r({type:oe.SET_VENUES_DATA,payload:N})}else r({type:oe.SET_ERROR,payload:T.error})}catch(T){r({type:oe.SET_ERROR,payload:T.message})}},u=async()=>{try{const T=await le.readTable("staff");if(T.success){const N=T.data.map(R=>U_(R));r({type:oe.SET_STAFF_DATA,payload:N})}else{const N=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:oe.SET_STAFF_DATA,payload:N})}}catch{const N=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:oe.SET_STAFF_DATA,payload:N})}},d=T=>{r({type:oe.SET_CURRENT_SHEET,payload:T})},f=async T=>{try{const N="trailer_history",R=Zl(T,e.currentSheet),L=await le.addRow(N,R);if(L.success){const X=Zl(L.data,e.currentSheet);return r({type:oe.ADD_SALES_ENTRY,payload:X}),{success:!0}}else return{success:!1,error:L.error}}catch(N){return{success:!1,error:N.message}}},h=async(T,N)=>{try{const R=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",L=await le.updateRow(R,T,N);if(L.success){const X={...N,id:T};return r({type:oe.UPDATE_SALES_ENTRY,payload:X}),{success:!0}}else return{success:!1,error:L.error}}catch(R){return{success:!1,error:R.message}}},p=async T=>{try{const N=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",R=await le.deleteRow(N,T);return R.success?(r({type:oe.DELETE_SALES_ENTRY,payload:T}),{success:!0}):{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},m=async T=>{try{const N=gd(T),R=await le.addRow("venues",N);if(R.success){const L=gd(R.data);return r({type:oe.ADD_VENUE_ENTRY,payload:L}),{success:!0}}else return{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},g=async(T,N)=>{try{const R=gd(N),L=await le.updateRow("venues",T,R);if(L.success){const X={...N,id:T};return r({type:oe.UPDATE_VENUE_ENTRY,payload:X}),{success:!0}}else return{success:!1,error:L.error}}catch(R){return{success:!1,error:R.message}}},v=async T=>{try{const N=await le.deleteRow("venues",T);return N.success?(r({type:oe.DELETE_VENUE_ENTRY,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},x=async T=>{try{const N=H_(T,!0),R=await le.addRow("staff",N);if(R.success){const L=U_(R.data);return r({type:oe.ADD_STAFF_ENTRY,payload:L}),{success:!0}}else return{success:!1,error:R.error}}catch(N){return{success:!1,error:N.message}}},y=async(T,N)=>{try{const R=H_(N,!1),L=await le.updateRow("staff",T,R);if(L.success){const X={...N,id:T};return r({type:oe.UPDATE_STAFF_ENTRY,payload:X}),{success:!0}}else return{success:!1,error:L.error}}catch(R){return{success:!1,error:R.message}}},b=async T=>{try{const N=await le.deleteRow("staff",T);return N.success?(r({type:oe.DELETE_STAFF_ENTRY,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},_=T=>{r({type:oe.SET_CURRENT_MONTH,payload:T})},w=T=>{r({type:oe.SET_SELECTED_VENUE,payload:T})},S=()=>{r({type:oe.SET_ERROR,payload:null})},j=T=>{r({type:oe.SET_IS_AUTHENTICATED,payload:T})},E=T=>{r({type:oe.SET_USER,payload:T})},A=async(T,N)=>{try{const R=await le.signIn(T,N);if(R.success){const L=R.data;if(!L.staffMember)try{const{data:X}=await le.supabase.from("staff").select("*").eq("email",T).single();X&&(await le.supabase.from("users").update({staff_id:X.id}).eq("email",T),L.staffMember=X,L.name=X.name||L.name,L.staff_id=X.id)}catch{console.log("No staff member found for email:",T)}return r({type:oe.SET_USER,payload:L}),{success:!0,data:L}}else return{success:!1,error:R.error}}catch(R){return console.error("Sign in error:",R),{success:!1,error:R.message}}},k=async(T,N,R)=>{try{const L=await le.signUp(T,N,R);return L.success?{success:!0}:{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},D=async()=>{try{const T=await le.signOut();return T.success?(E(null),{success:!0}):{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},P=async()=>{try{const T=await le.getCurrentUser();if(T.success){const N=T.data;if(!N.staffMember)try{const{data:R}=await le.supabase.from("staff").select("*").eq("email",N.email).single();R&&(await le.supabase.from("users").update({staff_id:R.id}).eq("email",N.email),N.staffMember=R,N.name=R.name||N.name,N.staff_id=R.id)}catch{console.log("No staff member found for email:",N.email)}return E(N),!0}else return E(null),!1}catch{return E(null),!1}},O=async T=>{try{const N=await le.resendConfirmationEmail(T);return N.success?{success:!0}:{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},z=async T=>{try{if(T){const N=await le.init();return r({type:oe.SET_IS_AUTHENTICATED,payload:N}),N}else return r({type:oe.SET_IS_AUTHENTICATED,payload:!1}),!0}catch(N){return console.error("Supabase connection toggle error:",N),r({type:oe.SET_IS_AUTHENTICATED,payload:!1}),!1}},W=()=>e.staffData.filter(T=>T.status==="Active"),G=async T=>{try{const N=await le.getMessages(T);if(N.success){const R=N.data.map(L=>{const X=e.usersData.find(ee=>ee.id===L.sender_id);return{...L,sender:X?{id:X.id,name:X.name,email:X.email}:{id:L.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"}}});r({type:oe.SET_MESSAGES_DATA,payload:R})}}catch(N){console.error("Failed to load messages:",N)}},M=async T=>{var N,R;try{const L=await le.sendMessage(T);if(L.success){const X={...L.data,sender:{id:T.sender_id,name:((N=e.currentUser)==null?void 0:N.name)||"Unknown User",email:((R=e.currentUser)==null?void 0:R.email)||"unknown@scrubshop.com"}};return r({type:oe.ADD_MESSAGE,payload:X}),{success:!0}}else return{success:!1,error:L.error}}catch(L){return{success:!1,error:L.message}}},I=T=>{r({type:oe.SET_CURRENT_USER,payload:T})},B=T=>{r({type:oe.SET_SELECTED_GROUP,payload:T})},U=async()=>{try{const T=await le.getTasks();T.success&&r({type:oe.SET_TASKS_DATA,payload:T.data})}catch(T){console.error("Failed to load tasks:",T)}},H=async T=>{try{const N=await le.createTask(T);return N.success?(r({type:oe.ADD_TASK,payload:N.data}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},V=async(T,N)=>{try{const R=await le.updateTask(T,N);return R.success?(r({type:oe.UPDATE_TASK,payload:{id:T,...N}}),{success:!0}):{success:!1,error:R.error}}catch(R){return{success:!1,error:R.message}}},q=async T=>{try{const N=await le.deleteTask(T);return N.success?(r({type:oe.DELETE_TASK,payload:T}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},re=async T=>{try{const N=await le.getTaskComments(T);N.success&&r({type:oe.SET_TASK_COMMENTS,payload:N.data})}catch(N){console.error("Failed to load task comments:",N)}},ae=async T=>{try{const N=await le.addTaskComment(T);return N.success?(r({type:oe.ADD_TASK_COMMENT,payload:N.data}),{success:!0}):{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},de=T=>{r({type:oe.SET_SELECTED_TASK,payload:T})},_e=F.useCallback(async T=>{try{let N=T.isWorkDay?"WORK DAY":T.venue||"";if(T.isWorkDay&&T.workers&&T.workers.length>0){const X=T.workers.join(","),ee=T.hours||"0";N=`WORK DAY|${X}|${ee}`}const R={date:T.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:N,Store:T.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},L=await le.addRow("trailer_history",R);return L.success?{success:!0,data:{id:L.data.id,title:T.title,date:T.date,backgroundColor:T.isWorkDay?"#fefce8":"#dcfce7",borderColor:T.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:T.isWorkDay?"workday":"sale",workers:T.workers,worker:T.workers.join(", "),hours:T.hours,venueId:T.venueId,venue:e.venuesData.find(ee=>ee.id===T.venueId)}}}:{success:!1,error:L.error}}catch(N){return{success:!1,error:N.message}}},[e.currentSheet,e.venuesData]),fe=F.useCallback(async(T,N)=>{try{let R=N.isWorkDay?"WORK DAY":N.venue||"";if(N.isWorkDay&&N.workers&&N.workers.length>0){const ee=N.workers.join(","),ce=N.hours||"0";R=`WORK DAY|${ee}|${ce}`}const L={date:N.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:R,Store:N.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},X=await le.updateRow("trailer_history",T,L);return X.success?{success:!0,data:{id:T,title:N.title,date:N.date,backgroundColor:N.isWorkDay?"#fefce8":"#dcfce7",borderColor:N.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:N.isWorkDay?"workday":"sale",workers:N.workers,worker:N.workers.join(", "),hours:N.hours,venueId:N.venueId,venue:e.venuesData.find(ce=>ce.id===N.venueId)}}}:{success:!1,error:X.error}}catch(R){return{success:!1,error:R.message}}},[e.currentSheet,e.venuesData]),Q=F.useCallback(async T=>{try{const N=await le.deleteRow("trailer_history",T);return N.success?{success:!0}:{success:!1,error:N.error}}catch(N){return{success:!1,error:N.message}}},[]),se=F.useCallback(async()=>{try{const T=await le.readTable("trailer_history",{filters:{Store:99}});return T.success?{success:!0,data:T.data.map(R=>{let L=[],X="";if(R.common_venue_name.startsWith("WORK DAY|")){const ee=R.common_venue_name.split("|");ee.length>=3&&(L=ee[1].split(",").filter(ce=>ce.trim()!==""),X=ee[2]||"")}return{id:R.id,title:"Work Day",date:R.date,backgroundColor:"#fefce8",borderColor:"#fde047",extendedProps:{type:"workday",workers:L,worker:L.join(", "),hours:X,venueId:null,venue:null}}})}:{success:!1,error:T.error}}catch(T){return{success:!1,error:T.message}}},[]),ne={...e,workers:W(),supabaseAPI:le,setCurrentSheet:d,addSalesEntry:f,updateSalesEntry:h,deleteSalesEntry:p,addVenueEntry:m,updateVenueEntry:g,deleteVenueEntry:v,addStaffEntry:x,updateStaffEntry:y,deleteStaffEntry:b,setCurrentMonth:_,setSelectedVenue:w,clearError:S,loadSalesData:a,loadVenuesData:l,loadStaffData:u,setIsAuthenticated:j,setUser:E,signIn:A,signUp:k,signOut:D,checkAuth:P,resendConfirmationEmail:O,toggleSupabaseConnection:z,loadStaffAndGroups:n,loadMessages:G,sendMessage:M,setCurrentUser:I,setSelectedGroup:B,loadTasks:U,addTask:H,updateTask:V,deleteTask:q,loadTaskComments:re,addTaskComment:ae,setSelectedTask:de,addCalendarEvent:_e,updateCalendarEvent:fe,deleteCalendarEvent:Q,loadCalendarEvents:se,loadRawSalesData:s,cleanupZeroSalesEntries:o};return c.jsx(rO.Provider,{value:ne,children:t})}function Nt(){const t=C.useContext(rO);if(!t)throw new Error("useApp must be used within an AppProvider");return t}function qF({onSuccess:t,onSwitchToRegister:e}){const[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(!1),[l,u]=C.useState(""),{signIn:d}=Nt(),f=async h=>{h.preventDefault(),o(!0),u("");try{const p=await d(r,i);p.success?t&&t():u(p.error||"Login failed")}catch(p){u("An unexpected error occurred"),console.error("Login error:",p)}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Scrub Shop"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your sales dashboard and management tools"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:h=>n(h.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:i,onChange:h=>a(h.target.value)})]})]}),l&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:l})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign in"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Don't have an account? Sign up"})})]})]})})}function YF({email:t,onConfirmed:e}){const[r,n]=C.useState(!1),[i,a]=C.useState(""),[s,o]=C.useState(""),{resendConfirmationEmail:l}=Nt(),u=async()=>{n(!0),a(""),o("");try{const d=await l(t);d.success?o("Confirmation email sent! Please check your inbox."):a(d.error||"Failed to resend confirmation email")}catch(d){a("An unexpected error occurred"),console.error("Resend error:",d)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Email"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["We sent a confirmation email to ",t]})]}),c.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please check your email and click the confirmation link to verify your account."}),s&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:s})}),i&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:i})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:u,disabled:r,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending...":"Resend Confirmation Email"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"I've Confirmed My Email"})]}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive the email? Check your spam folder or try resending."})})]})})]})})}function KF({onSuccess:t,onSwitchToLogin:e}){const[r,n]=C.useState(""),[i,a]=C.useState(""),[s,o]=C.useState(""),[l,u]=C.useState(""),[d,f]=C.useState(!1),[h,p]=C.useState(""),[m,g]=C.useState(""),[v,x]=C.useState(!1),{signUp:y}=Nt(),b=async _=>{if(_.preventDefault(),f(!0),p(""),g(""),i!==s){p("Passwords do not match"),f(!1);return}if(i.length<6){p("Password must be at least 6 characters long"),f(!1);return}try{const w=await y(r,i,l);w.success?x(!0):p(w.error||"Registration failed")}catch(w){p("An unexpected error occurred"),console.error("Registration error:",w)}finally{f(!1)}};return v?c.jsx(YF,{email:r,onConfirmed:t}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),c.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Scrub Shop management team"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[c.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:l,onChange:_=>u(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:_=>n(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password (min 6 characters)",value:i,onChange:_=>a(_.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:_=>o(_.target.value)})]})]}),h&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("div",{className:"text-sm text-red-700",children:h})}),m&&c.jsx("div",{className:"rounded-md bg-green-50 p-4",children:c.jsx("div",{className:"text-sm text-green-700",children:m})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating account...":"Create account"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Already have an account? Sign in"})})]})]})})}function XF({children:t}){const{user:e,loading:r}=Nt(),[n,i]=F.useState(!1);return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):e?t:n?c.jsx(KF,{onSuccess:()=>i(!1),onSwitchToLogin:()=>i(!1)}):c.jsx(qF,{onSuccess:()=>{},onSwitchToRegister:()=>i(!0)})}var QF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JF=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>C.createElement("svg",{ref:u,...QF,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${ZF(t)}`,...l},[...e.map(([d,f])=>C.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Ne=JF;const dy=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),eB=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),tf=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),fy=Ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),cb=Ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Or=Ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),z_=Ne("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),hy=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),tB=Ne("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),hc=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ub=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),db=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ha=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qn=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),nO=Ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),py=Ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),rB=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),An=Ne("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),nB=Ne("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),iB=Ne("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),aB=Ne("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),sB=Ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),oB=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),xn=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),lB=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),gs=Ne("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),cB=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),pa=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),uB=Ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),fb=Ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),dB=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),fB=Ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ff=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),iO=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ma=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Op=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),my=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ns=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),On=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),hB=Ne("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Hc=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),aO=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function sO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=sO(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function pB(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=sO(t))&&(n&&(n+=" "),n+=e);return n}function mB(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=oO(e))&&(n&&(n+=" "),n+=r);return n}function oO(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=oO(t[n]))&&(r&&(r+=" "),r+=e);return r}var hb="-";function gB(t){var e=yB(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(o){var l=o.split(hb);return l[0]===""&&l.length!==1&&l.shift(),lO(l,e)||vB(o)}function s(o,l){var u=r[o]||[];return l&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:a,getConflictingClassGroupIds:s}}function lO(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?lO(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(hb);return(s=e.validators.find(function(o){var l=o.validator;return l(a)}))==null?void 0:s.classGroupId}}var W_=/^\[(.+)\]$/;function vB(t){if(W_.test(t)){var e=W_.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function yB(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=bB(Object.entries(t.classGroups),r);return i.forEach(function(a){var s=a[0],o=a[1];gy(o,n,s,e)}),n}function gy(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:V_(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(xB(i)){gy(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(s){var o=s[0],l=s[1];gy(l,V_(e,o),r,n)})})}function V_(t,e){var r=t;return e.split(hb).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function xB(t){return t.isThemeGetter}function bB(t,e){return e?t.map(function(r){var n=r[0],i=r[1],a=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[e+l,u]})):s});return[n,a]}):t}function wB(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(a,s){r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):i(s,o)}}}var cO="!";function SB(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(s){for(var o=[],l=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===n&&(r||s.slice(f,f+i)===e)){o.push(s.slice(u,f)),u=f+i;continue}if(h==="/"){d=f;continue}}h==="["?l++:h==="]"&&l--}var p=o.length===0?s:s.substring(u),m=p.startsWith(cO),g=m?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}}}function _B(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function EB(t){return{cache:wB(t.cacheSize),splitModifiers:SB(t),...gB(t)}}var jB=/\s+/;function AB(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(jB).map(function(s){var o=r(s),l=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};p=!1}var m=_B(l).join(":"),g=u?m+cO:m;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,d=o+l;return a.has(d)?!1:(a.add(d),i(l,u).forEach(function(f){return a.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function TB(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,a,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(p,m){return m(p)},d());return n=EB(h),i=n.cache.get,a=n.cache.set,s=l,l(u)}function l(u){var d=i(u);if(d)return d;var f=AB(u,n);return a(u,f),f}return function(){return s(mB.apply(null,arguments))}}function ot(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var uO=/^\[(?:([a-z-]+):)?(.+)\]$/i,NB=/^\d+\/\d+$/,CB=new Set(["px","full","screen"]),kB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DB=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nn(t){return Ba(t)||CB.has(t)||NB.test(t)||vy(t)}function vy(t){return vs(t,"length",LB)}function PB(t){return vs(t,"size",dO)}function MB(t){return vs(t,"position",dO)}function RB(t){return vs(t,"url",FB)}function vd(t){return vs(t,"number",Ba)}function Ba(t){return!Number.isNaN(Number(t))}function IB(t){return t.endsWith("%")&&Ba(t.slice(0,-1))}function Ol(t){return G_(t)||vs(t,"number",G_)}function Me(t){return uO.test(t)}function Dl(){return!0}function Si(t){return kB.test(t)}function $B(t){return vs(t,"",BB)}function vs(t,e,r){var n=uO.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function LB(t){return OB.test(t)}function dO(){return!1}function FB(t){return t.startsWith("url(")}function G_(t){return Number.isInteger(Number(t))}function BB(t){return DB.test(t)}function UB(){var t=ot("colors"),e=ot("spacing"),r=ot("blur"),n=ot("brightness"),i=ot("borderColor"),a=ot("borderRadius"),s=ot("borderSpacing"),o=ot("borderWidth"),l=ot("contrast"),u=ot("grayscale"),d=ot("hueRotate"),f=ot("invert"),h=ot("gap"),p=ot("gradientColorStops"),m=ot("gradientColorStopPositions"),g=ot("inset"),v=ot("margin"),x=ot("opacity"),y=ot("padding"),b=ot("saturate"),_=ot("scale"),w=ot("sepia"),S=ot("skew"),j=ot("space"),E=ot("translate"),A=function(){return["auto","contain","none"]},k=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Me,e]},P=function(){return[Me,e]},O=function(){return["",nn]},z=function(){return["auto",Ba,Me]},W=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},M=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},I=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",Me]},U=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},H=function(){return[Ba,vd]},V=function(){return[Ba,Me]};return{cacheSize:500,theme:{colors:[Dl],spacing:[nn],blur:["none","",Si,Me],brightness:H(),borderColor:[t],borderRadius:["none","","full",Si,Me],borderSpacing:P(),borderWidth:O(),contrast:H(),grayscale:B(),hueRotate:V(),invert:B(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[IB,vy],inset:D(),margin:D(),opacity:H(),padding:P(),saturate:H(),scale:H(),sepia:B(),skew:V(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Si]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(W(),[Me])}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ol]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ol]}],"grid-cols":[{"grid-cols":[Dl]}],"col-start-end":[{col:["auto",{span:["full",Ol]},Me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Dl]}],"row-start-end":[{row:["auto",{span:[Ol]},Me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(I())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(I(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(I(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Me,e]}],"min-w":[{"min-w":["min","max","fit",Me,nn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Si]},Si,Me]}],h:[{h:[Me,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Me,nn]}],"max-h":[{"max-h":[Me,e,"min","max","fit"]}],"font-size":[{text:["base",Si,vy]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vd]}],"font-family":[{font:[Dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Ba,vd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Me,nn]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nn]}],"underline-offset":[{"underline-offset":["auto",Me,nn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(W(),[MB])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[Me,nn]}],"outline-w":[{outline:[nn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Si,$B]}],"shadow-color":[{shadow:[Dl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":M()}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Si,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ol,Me]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nn,vd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var HB=TB(UB);function He(...t){return HB(pB(t))}function zB(){const{user:t,signOut:e}=Nt();return t?c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-medium",children:t.name||t.email}),t.role&&c.jsxs("span",{className:"ml-2 text-gray-500",children:["(",t.role,")"]})]}),c.jsx("button",{onClick:e,className:"text-sm text-gray-500 hover:text-gray-700",children:"Sign out"})]}):null}const Rt={MANAGER:"Manager",WORKER:"Worker"},WB={"/dashboard":[Rt.MANAGER,Rt.WORKER],"/tasks":[Rt.MANAGER,Rt.WORKER],"/messages":[Rt.MANAGER,Rt.WORKER],"/sales-analysis":[Rt.MANAGER],"/scheduler":[Rt.MANAGER,Rt.WORKER],"/daily-sales":[Rt.MANAGER],"/venues":[Rt.MANAGER,Rt.WORKER],"/calendar":[Rt.MANAGER,Rt.WORKER],"/bonuses":[Rt.MANAGER],"/staff":[Rt.MANAGER],"/admin/sales-upload":[Rt.MANAGER]},VB=(t,e)=>{if(!t||!t.role)return!1;const r=WB[e];return r?r.includes(t.role):!1},dg=(t,e)=>e?t.filter(r=>VB(e,r.href)):[],yd=t=>t&&t.role===Rt.MANAGER,GB=({size:t="medium",className:e=""})=>{const n=(()=>{switch(t){case"small":return{welcome:"text-xs",main:"text-lg",tagline:"text-xs",container:"py-1"};case"large":return{welcome:"text-lg",main:"text-3xl",tagline:"text-base",container:"py-3"};default:return{welcome:"text-sm",main:"text-2xl",tagline:"text-sm",container:"py-2"}}})();return c.jsxs("div",{className:`flex flex-col items-center justify-center ${e}`,children:[c.jsx("div",{className:`font-bold text-black mb-1 ${n.welcome}`,children:"WELCOME TO"}),c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("span",{className:`italic text-green-500 mr-1 ${n.welcome}`,children:"The"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:`italic font-bold text-white ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Scrub"}),c.jsx("span",{className:`italic font-bold text-green-500 ${n.main}`,style:{textShadow:"2px 2px 0px #000, -2px -2px 0px #000, 2px -2px 0px #000, -2px 2px 0px #000"},children:"Shop"})]})]}),c.jsx("div",{className:`bg-black rounded-lg px-2 ${n.container}`,children:c.jsx("span",{className:`font-bold text-white ${n.tagline}`,children:"FOOTWEAR & APPAREL"})})]})},qB=()=>{const t=rl(),{currentSheet:e,setCurrentSheet:r,currentUser:n,setCurrentUser:i,staffData:a}=Nt(),[s,o]=C.useState(!1),[l,u]=C.useState(!1),[d,f]=C.useState(!1),h=C.useRef(null),p=C.useRef(null),m=C.useRef(null);C.useEffect(()=>{const j=E=>{h.current&&!h.current.contains(E.target)&&o(!1),p.current&&!p.current.contains(E.target)&&u(!1),m.current&&!m.current.contains(E.target)&&f(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const g=j=>j==="/"?t.pathname==="/":t.pathname.startsWith(j),v=j=>{const E=a.find(A=>A.id===parseInt(j));i(E),o(!1)},x=[{name:"Dashboard",href:"/dashboard",icon:fy},{name:"Tasks",href:"/tasks",icon:tB},{name:"Messages",href:"/messages",icon:lB},{name:"Scheduler",href:"/scheduler",icon:ha}],y=[{name:"Daily Sales",href:"/daily-sales",icon:fy},{name:"Venues",href:"/venues",icon:xn},{name:"Calendar",href:"/calendar",icon:Or},{name:"Bonuses",href:"/bonuses",icon:Op}],b=[{name:"Staff",href:"/staff",icon:On},{name:"Sales Upload",href:"/admin/sales-upload",icon:my}],_=dg(x,n),w=dg(y,n),S=dg(b,n);return c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-secondary-200 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(GB,{size:"small",className:"text-primary-600"})}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[_.map(j=>{const E=j.icon;return c.jsxs(Ts,{to:j.href,className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g(j.href)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)}),w.length>0&&c.jsxs("div",{className:"relative",ref:p,onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=p.current)!=null&&j.matches(":hover")||u(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/daily-sales")||g("/venues")||g("/calendar")||g("/bonuses")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(z_,{className:"w-4 h-4 mr-2"}),"ROAD",c.jsx(hc,{className:"w-4 h-4 ml-1"})]}),l&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=p.current)!=null&&j.matches(":hover")||u(!1)},200)},children:w.map(j=>{const E=j.icon;return c.jsxs(Ts,{to:j.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(j.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)})})]}),S.length>0&&c.jsxs("div",{className:"relative",ref:m,onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=m.current)!=null&&j.matches(":hover")||f(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/staff")||g("/admin/sales-upload")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(Ff,{className:"w-4 h-4 mr-2"}),"ADMIN",c.jsx(hc,{className:"w-4 h-4 ml-1"})]}),d&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var j;(j=m.current)!=null&&j.matches(":hover")||f(!1)},200)},children:S.map(j=>{const E=j.icon;return c.jsxs(Ts,{to:j.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(j.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),j.name]},j.name)})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(zB,{}),n&&c.jsx("div",{className:"hidden sm:flex items-center px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:c.jsx("span",{className:"font-medium",children:n.role||"No Role"})}),c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(ns,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:n?`${n.name} (${n.role||"No Role"})`:"Select User"}),c.jsx(hc,{className:"w-4 h-4"})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Select your name"}),a.map(j=>c.jsx("button",{onClick:()=>v(j.id),className:He("w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors",(n==null?void 0:n.id)===j.id?"bg-primary-50 text-primary-700":"text-gray-700"),children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:j.name}),c.jsx("div",{className:"text-xs text-gray-500",children:j.role||"No Role"})]})},j.id))]})]})]})]}),c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-secondary-200",children:[_.map(j=>{const E=j.icon;return c.jsxs(Ts,{to:j.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)}),w.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(z_,{className:"w-4 h-4 mb-1"}),"ROAD"]}),S.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(Ff,{className:"w-4 h-4 mb-1"}),"ADMIN"]})]}),w.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:w.map(j=>{const E=j.icon;return c.jsxs(Ts,{to:j.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)})})}),S.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:S.map(j=>{const E=j.icon;return c.jsxs(Ts,{to:j.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(j.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(E,{className:"w-4 h-4 mb-1"}),j.name]},j.name)})})})]})]})})};function fO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=fO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=fO(t))&&(n&&(n+=" "),n+=e);return n}var YB=Array.isArray,Er=YB,KB=typeof Vt=="object"&&Vt&&Vt.Object===Object&&Vt,hO=KB,XB=hO,QB=typeof self=="object"&&self&&self.Object===Object&&self,ZB=XB||QB||Function("return this")(),Ln=ZB,JB=Ln,eU=JB.Symbol,Ru=eU,q_=Ru,pO=Object.prototype,tU=pO.hasOwnProperty,rU=pO.toString,Pl=q_?q_.toStringTag:void 0;function nU(t){var e=tU.call(t,Pl),r=t[Pl];try{t[Pl]=void 0;var n=!0}catch{}var i=rU.call(t);return n&&(e?t[Pl]=r:delete t[Pl]),i}var iU=nU,aU=Object.prototype,sU=aU.toString;function oU(t){return sU.call(t)}var lU=oU,Y_=Ru,cU=iU,uU=lU,dU="[object Null]",fU="[object Undefined]",K_=Y_?Y_.toStringTag:void 0;function hU(t){return t==null?t===void 0?fU:dU:K_&&K_ in Object(t)?cU(t):uU(t)}var mi=hU;function pU(t){return t!=null&&typeof t=="object"}var gi=pU,mU=mi,gU=gi,vU="[object Symbol]";function yU(t){return typeof t=="symbol"||gU(t)&&mU(t)==vU}var al=yU,xU=Er,bU=al,wU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SU=/^\w*$/;function _U(t,e){if(xU(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||bU(t)?!0:SU.test(t)||!wU.test(t)||e!=null&&t in Object(e)}var pb=_U;function EU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ga=EU;const sl=Qe(ga);var jU=mi,AU=ga,TU="[object AsyncFunction]",NU="[object Function]",CU="[object GeneratorFunction]",kU="[object Proxy]";function OU(t){if(!AU(t))return!1;var e=jU(t);return e==NU||e==CU||e==TU||e==kU}var mb=OU;const Te=Qe(mb);var DU=Ln,PU=DU["__core-js_shared__"],MU=PU,fg=MU,X_=function(){var t=/[^.]+$/.exec(fg&&fg.keys&&fg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function RU(t){return!!X_&&X_ in t}var IU=RU,$U=Function.prototype,LU=$U.toString;function FU(t){if(t!=null){try{return LU.call(t)}catch{}try{return t+""}catch{}}return""}var mO=FU,BU=mb,UU=IU,HU=ga,zU=mO,WU=/[\\^$.*+?()[\]{}|]/g,VU=/^\[object .+?Constructor\]$/,GU=Function.prototype,qU=Object.prototype,YU=GU.toString,KU=qU.hasOwnProperty,XU=RegExp("^"+YU.call(KU).replace(WU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QU(t){if(!HU(t)||UU(t))return!1;var e=BU(t)?XU:VU;return e.test(zU(t))}var ZU=QU;function JU(t,e){return t==null?void 0:t[e]}var e6=JU,t6=ZU,r6=e6;function n6(t,e){var r=r6(t,e);return t6(r)?r:void 0}var ys=n6,i6=ys,a6=i6(Object,"create"),Dp=a6,Q_=Dp;function s6(){this.__data__=Q_?Q_(null):{},this.size=0}var o6=s6;function l6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var c6=l6,u6=Dp,d6="__lodash_hash_undefined__",f6=Object.prototype,h6=f6.hasOwnProperty;function p6(t){var e=this.__data__;if(u6){var r=e[t];return r===d6?void 0:r}return h6.call(e,t)?e[t]:void 0}var m6=p6,g6=Dp,v6=Object.prototype,y6=v6.hasOwnProperty;function x6(t){var e=this.__data__;return g6?e[t]!==void 0:y6.call(e,t)}var b6=x6,w6=Dp,S6="__lodash_hash_undefined__";function _6(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=w6&&e===void 0?S6:e,this}var E6=_6,j6=o6,A6=c6,T6=m6,N6=b6,C6=E6;function ol(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ol.prototype.clear=j6;ol.prototype.delete=A6;ol.prototype.get=T6;ol.prototype.has=N6;ol.prototype.set=C6;var k6=ol;function O6(){this.__data__=[],this.size=0}var D6=O6;function P6(t,e){return t===e||t!==t&&e!==e}var gb=P6,M6=gb;function R6(t,e){for(var r=t.length;r--;)if(M6(t[r][0],e))return r;return-1}var Pp=R6,I6=Pp,$6=Array.prototype,L6=$6.splice;function F6(t){var e=this.__data__,r=I6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():L6.call(e,r,1),--this.size,!0}var B6=F6,U6=Pp;function H6(t){var e=this.__data__,r=U6(e,t);return r<0?void 0:e[r][1]}var z6=H6,W6=Pp;function V6(t){return W6(this.__data__,t)>-1}var G6=V6,q6=Pp;function Y6(t,e){var r=this.__data__,n=q6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var K6=Y6,X6=D6,Q6=B6,Z6=z6,J6=G6,eH=K6;function ll(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ll.prototype.clear=X6;ll.prototype.delete=Q6;ll.prototype.get=Z6;ll.prototype.has=J6;ll.prototype.set=eH;var Mp=ll,tH=ys,rH=Ln,nH=tH(rH,"Map"),vb=nH,Z_=k6,iH=Mp,aH=vb;function sH(){this.size=0,this.__data__={hash:new Z_,map:new(aH||iH),string:new Z_}}var oH=sH;function lH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cH=lH,uH=cH;function dH(t,e){var r=t.__data__;return uH(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Rp=dH,fH=Rp;function hH(t){var e=fH(this,t).delete(t);return this.size-=e?1:0,e}var pH=hH,mH=Rp;function gH(t){return mH(this,t).get(t)}var vH=gH,yH=Rp;function xH(t){return yH(this,t).has(t)}var bH=xH,wH=Rp;function SH(t,e){var r=wH(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var _H=SH,EH=oH,jH=pH,AH=vH,TH=bH,NH=_H;function cl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cl.prototype.clear=EH;cl.prototype.delete=jH;cl.prototype.get=AH;cl.prototype.has=TH;cl.prototype.set=NH;var yb=cl,gO=yb,CH="Expected a function";function xb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(CH);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(xb.Cache||gO),r}xb.Cache=gO;var vO=xb;const kH=Qe(vO);var OH=vO,DH=500;function PH(t){var e=OH(t,function(n){return r.size===DH&&r.clear(),n}),r=e.cache;return e}var MH=PH,RH=MH,IH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$H=/\\(\\)?/g,LH=RH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IH,function(r,n,i,a){e.push(i?a.replace($H,"$1"):n||r)}),e}),FH=LH;function BH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var bb=BH,J_=Ru,UH=bb,HH=Er,zH=al,WH=1/0,e1=J_?J_.prototype:void 0,t1=e1?e1.toString:void 0;function yO(t){if(typeof t=="string")return t;if(HH(t))return UH(t,yO)+"";if(zH(t))return t1?t1.call(t):"";var e=t+"";return e=="0"&&1/t==-WH?"-0":e}var VH=yO,GH=VH;function qH(t){return t==null?"":GH(t)}var xO=qH,YH=Er,KH=pb,XH=FH,QH=xO;function ZH(t,e){return YH(t)?t:KH(t,e)?[t]:XH(QH(t))}var bO=ZH,JH=al,e5=1/0;function t5(t){if(typeof t=="string"||JH(t))return t;var e=t+"";return e=="0"&&1/t==-e5?"-0":e}var Ip=t5,r5=bO,n5=Ip;function i5(t,e){e=r5(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[n5(e[r++])];return r&&r==n?t:void 0}var wb=i5,a5=wb;function s5(t,e,r){var n=t==null?void 0:a5(t,e);return n===void 0?r:n}var wO=s5;const Kr=Qe(wO);function o5(t){return t==null}var l5=o5;const Oe=Qe(l5);var c5=mi,u5=Er,d5=gi,f5="[object String]";function h5(t){return typeof t=="string"||!u5(t)&&d5(t)&&c5(t)==f5}var p5=h5;const is=Qe(p5);var SO={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb=Symbol.for("react.element"),_b=Symbol.for("react.portal"),$p=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),m5=Symbol.for("react.server_context"),Hp=Symbol.for("react.forward_ref"),zp=Symbol.for("react.suspense"),Wp=Symbol.for("react.suspense_list"),Vp=Symbol.for("react.memo"),Gp=Symbol.for("react.lazy"),g5=Symbol.for("react.offscreen"),_O;_O=Symbol.for("react.module.reference");function en(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Sb:switch(t=t.type,t){case $p:case Fp:case Lp:case zp:case Wp:return t;default:switch(t=t&&t.$$typeof,t){case m5:case Up:case Hp:case Gp:case Vp:case Bp:return t;default:return e}}case _b:return e}}}Ge.ContextConsumer=Up;Ge.ContextProvider=Bp;Ge.Element=Sb;Ge.ForwardRef=Hp;Ge.Fragment=$p;Ge.Lazy=Gp;Ge.Memo=Vp;Ge.Portal=_b;Ge.Profiler=Fp;Ge.StrictMode=Lp;Ge.Suspense=zp;Ge.SuspenseList=Wp;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return en(t)===Up};Ge.isContextProvider=function(t){return en(t)===Bp};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sb};Ge.isForwardRef=function(t){return en(t)===Hp};Ge.isFragment=function(t){return en(t)===$p};Ge.isLazy=function(t){return en(t)===Gp};Ge.isMemo=function(t){return en(t)===Vp};Ge.isPortal=function(t){return en(t)===_b};Ge.isProfiler=function(t){return en(t)===Fp};Ge.isStrictMode=function(t){return en(t)===Lp};Ge.isSuspense=function(t){return en(t)===zp};Ge.isSuspenseList=function(t){return en(t)===Wp};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$p||t===Fp||t===Lp||t===zp||t===Wp||t===g5||typeof t=="object"&&t!==null&&(t.$$typeof===Gp||t.$$typeof===Vp||t.$$typeof===Bp||t.$$typeof===Up||t.$$typeof===Hp||t.$$typeof===_O||t.getModuleId!==void 0)};Ge.typeOf=en;SO.exports=Ge;var v5=SO.exports,y5=mi,x5=gi,b5="[object Number]";function w5(t){return typeof t=="number"||x5(t)&&y5(t)==b5}var EO=w5;const S5=Qe(EO);var _5=EO;function E5(t){return _5(t)&&t!=+t}var j5=E5;const ul=Qe(j5);var pn=function(e){return e===0?0:e>0?1:-1},Ua=function(e){return is(e)&&e.indexOf("%")===e.length-1},ie=function(e){return S5(e)&&!ul(e)},A5=function(e){return Oe(e)},Pt=function(e){return ie(e)||is(e)},T5=0,dl=function(e){var r=++T5;return"".concat(e||"").concat(r)},as=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!is(e))return n;var a;if(Ua(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return ul(a)&&(a=n),i&&a>r&&(a=r),a},Mi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},N5=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Wt=function(e,r){return ie(e)&&ie(r)?function(n){return e+n*(r-e)}:function(){return r}};function Bf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Kr(n,e))===r})}var C5=function(e,r){return ie(e)&&ie(r)?e-r:is(e)&&is(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function oo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var k5=["viewBox","children"],O5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r1=["points","pathLength"],hg={svg:k5,polygon:r1,polyline:r1},Eb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),!sl(n))return null;var i={};return Object.keys(n).forEach(function(a){Eb.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},D5=function(e,r,n){return function(i){return e(r,n,i),null}},Hf=function(e,r,n){if(!sl(e)||yy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];Eb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=D5(s,r,n))}),i},P5=["children"],M5=["children"];function n1(t,e){if(t==null)return{};var r=R5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}var i1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},a1=null,pg=null,jb=function t(e){if(e===a1&&Array.isArray(pg))return pg;var r=[];return C.Children.forEach(e,function(n){Oe(n)||(v5.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),pg=r,a1=e,r};function Xr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ti(i)}):n=[ti(e)],jb(t).forEach(function(i){var a=Kr(i,"type.displayName")||Kr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Nr(t,e){var r=Xr(t,e);return r&&r[0]}var s1=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ie(n)||n<=0||!ie(i)||i<=0)},I5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$5=function(e){return e&&e.type&&is(e.type)&&I5.indexOf(e.type)>=0},jO=function(e){return e&&xy(e)==="object"&&"clipDot"in e},L5=function(e,r,n,i){var a,s=(a=hg==null?void 0:hg[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Te(e)&&(i&&s.includes(r)||O5.includes(r))||n&&Eb.includes(r)},Ce=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!sl(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;L5((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},by=function t(e,r){if(e===r)return!0;var n=C.Children.count(e);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return o1(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!o1(a,s))return!1}return!0},o1=function(e,r){if(Oe(e)&&Oe(r))return!0;if(!Oe(e)&&!Oe(r)){var n=e.props||{},i=n.children,a=n1(n,P5),s=r.props||{},o=s.children,l=n1(s,M5);return i&&o?oo(a,l)&&by(i,o):!i&&!o?oo(a,l):!1}return!1},l1=function(e,r){var n=[],i={};return jb(e).forEach(function(a,s){if($5(a))n.push(a);else if(a){var o=ti(a.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},F5=function(e){var r=e&&e.type;return r&&i1[r]?i1[r]:null},B5=function(e,r){return jb(r).indexOf(e)},U5=["children","width","height","viewBox","className","style","title","desc"];function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wy.apply(this,arguments)}function H5(t,e){if(t==null)return{};var r=z5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=H5(t,U5),d=i||{width:r,height:n,x:0,y:0},f=Ie("recharts-surface",a);return F.createElement("svg",wy({},Ce(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,o),F.createElement("desc",null,l),e)}var W5=["children","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_y.apply(this,arguments)}function V5(t,e){if(t==null)return{};var r=G5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var it=F.forwardRef(function(t,e){var r=t.children,n=t.className,i=V5(t,W5),a=Ie("recharts-layer",n);return F.createElement("g",_y({className:a},Ce(i,!0),{ref:e}),r)}),ri=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function q5(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var Y5=q5,K5=Y5;function X5(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:K5(t,e,r)}var Q5=X5,Z5="\\ud800-\\udfff",J5="\\u0300-\\u036f",ez="\\ufe20-\\ufe2f",tz="\\u20d0-\\u20ff",rz=J5+ez+tz,nz="\\ufe0e\\ufe0f",iz="\\u200d",az=RegExp("["+iz+Z5+rz+nz+"]");function sz(t){return az.test(t)}var AO=sz;function oz(t){return t.split("")}var lz=oz,TO="\\ud800-\\udfff",cz="\\u0300-\\u036f",uz="\\ufe20-\\ufe2f",dz="\\u20d0-\\u20ff",fz=cz+uz+dz,hz="\\ufe0e\\ufe0f",pz="["+TO+"]",Ey="["+fz+"]",jy="\\ud83c[\\udffb-\\udfff]",mz="(?:"+Ey+"|"+jy+")",NO="[^"+TO+"]",CO="(?:\\ud83c[\\udde6-\\uddff]){2}",kO="[\\ud800-\\udbff][\\udc00-\\udfff]",gz="\\u200d",OO=mz+"?",DO="["+hz+"]?",vz="(?:"+gz+"(?:"+[NO,CO,kO].join("|")+")"+DO+OO+")*",yz=DO+OO+vz,xz="(?:"+[NO+Ey+"?",Ey,CO,kO,pz].join("|")+")",bz=RegExp(jy+"(?="+jy+")|"+xz+yz,"g");function wz(t){return t.match(bz)||[]}var Sz=wz,_z=lz,Ez=AO,jz=Sz;function Az(t){return Ez(t)?jz(t):_z(t)}var Tz=Az,Nz=Q5,Cz=AO,kz=Tz,Oz=xO;function Dz(t){return function(e){e=Oz(e);var r=Cz(e)?kz(e):void 0,n=r?r[0]:e.charAt(0),i=r?Nz(r,1).join(""):e.slice(1);return n[t]()+i}}var Pz=Dz,Mz=Pz,Rz=Mz("toUpperCase"),Iz=Rz;const qp=Qe(Iz);function rt(t){return function(){return t}}const PO=Math.cos,zf=Math.sin,wn=Math.sqrt,Wf=Math.PI,Yp=2*Wf,Ay=Math.PI,Ty=2*Ay,Ca=1e-6,$z=Ty-Ca;function MO(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Lz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MO;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Fz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MO:Lz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ca)if(!(Math.abs(f*l-u*d)>Ca)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-o,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan((Ay-Math.acos((g+h-v)/(2*x*y)))/2),_=b/y,w=b/x;Math.abs(_-1)>Ca&&this._append`L${e+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+w*l},${this._y1=r+w*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ca||Math.abs(this._y1-d)>Ca)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ty+Ty),h>$z?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ca&&this._append`A${n},${n},0,${+(h>=Ay)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ab(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Fz(e)}function Tb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RO(t){this._context=t}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Kp(t){return new RO(t)}function IO(t){return t[0]}function $O(t){return t[1]}function LO(t,e){var r=rt(!0),n=null,i=Kp,a=null,s=Ab(o);t=typeof t=="function"?t:t===void 0?IO:rt(t),e=typeof e=="function"?e:e===void 0?$O:rt(e);function o(l){var u,d=(l=Tb(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:rt(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function xd(t,e,r){var n=null,i=rt(!0),a=null,s=Kp,o=null,l=Ab(u);t=typeof t=="function"?t:t===void 0?IO:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?$O:rt(+r);function u(f){var h,p,m,g=(f=Tb(f)).length,v,x=!1,y,b=new Array(g),_=new Array(g);for(a==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(b[m],_[m]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+t(v,h,f),_[h]=+e(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):_[h]))}if(y)return o=null,y+""||null}function d(){return LO().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class FO{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Bz(t){return new FO(t,!0)}function Uz(t){return new FO(t,!1)}const Nb={draw(t,e){const r=wn(e/Wf);t.moveTo(r,0),t.arc(0,0,r,0,Yp)}},Hz={draw(t,e){const r=wn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},BO=wn(1/3),zz=BO*2,Wz={draw(t,e){const r=wn(e/zz),n=r*BO;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Vz={draw(t,e){const r=wn(e),n=-r/2;t.rect(n,n,r,r)}},Gz=.8908130915292852,UO=zf(Wf/10)/zf(7*Wf/10),qz=zf(Yp/10)*UO,Yz=-PO(Yp/10)*UO,Kz={draw(t,e){const r=wn(e*Gz),n=qz*r,i=Yz*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Yp*a/5,o=PO(s),l=zf(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},mg=wn(3),Xz={draw(t,e){const r=-wn(e/(mg*3));t.moveTo(0,r*2),t.lineTo(-mg*r,-r),t.lineTo(mg*r,-r),t.closePath()}},Fr=-.5,Br=wn(3)/2,Ny=1/wn(12),Qz=(Ny/2+1)*3,Zz={draw(t,e){const r=wn(e/Qz),n=r/2,i=r*Ny,a=n,s=r*Ny+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Fr*n-Br*i,Br*n+Fr*i),t.lineTo(Fr*a-Br*s,Br*a+Fr*s),t.lineTo(Fr*o-Br*l,Br*o+Fr*l),t.lineTo(Fr*n+Br*i,Fr*i-Br*n),t.lineTo(Fr*a+Br*s,Fr*s-Br*a),t.lineTo(Fr*o+Br*l,Fr*l-Br*o),t.closePath()}};function Jz(t,e){let r=null,n=Ab(i);t=typeof t=="function"?t:rt(t||Nb),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:rt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Vf(){}function Gf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function HO(t){this._context=t}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eW(t){return new HO(t)}function zO(t){this._context=t}zO.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tW(t){return new zO(t)}function WO(t){this._context=t}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rW(t){return new WO(t)}function VO(t){this._context=t}VO.prototype={areaStart:Vf,areaEnd:Vf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nW(t){return new VO(t)}function c1(t){return t<0?-1:1}function u1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(c1(a)+c1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function d1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function gg(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function qf(t){this._context=t}qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gg(this,this._t0,d1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gg(this,d1(this,r=u1(this,t,e)),r);break;default:gg(this,this._t0,r=u1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function GO(t){this._context=new qO(t)}(GO.prototype=Object.create(qf.prototype)).point=function(t,e){qf.prototype.point.call(this,e,t)};function qO(t){this._context=t}qO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function iW(t){return new qf(t)}function aW(t){return new GO(t)}function YO(t){this._context=t}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=f1(t),i=f1(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function f1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function sW(t){return new YO(t)}function Xp(t,e){this._context=t,this._t=e}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function oW(t){return new Xp(t,.5)}function lW(t){return new Xp(t,0)}function cW(t){return new Xp(t,1)}function _o(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Cy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function uW(t,e){return t[e]}function dW(t){const e=[];return e.key=t,e}function fW(){var t=rt([]),e=Cy,r=_o,n=uW;function i(a){var s=Array.from(t.apply(this,arguments),dW),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=Tb(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Cy:typeof a=="function"?a:rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??_o,i):r},i}function hW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}_o(t,e)}}function pW(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}_o(t,e)}}function mW(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,_o(t,e)}}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var gW=["type","size","sizeType"];function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ky.apply(this,arguments)}function h1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(r),!0).forEach(function(n){vW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vW(t,e,r){return e=yW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yW(t){var e=xW(t,"string");return zc(e)=="symbol"?e:e+""}function xW(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bW(t,e){if(t==null)return{};var r=wW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KO={symbolCircle:Nb,symbolCross:Hz,symbolDiamond:Wz,symbolSquare:Vz,symbolStar:Kz,symbolTriangle:Xz,symbolWye:Zz},SW=Math.PI/180,_W=function(e){var r="symbol".concat(qp(e));return KO[r]||Nb},EW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*SW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jW=function(e,r){KO["symbol".concat(qp(e))]=r},Cb=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=bW(e,gW),u=p1(p1({},l),{},{type:n,size:a,sizeType:o}),d=function(){var v=_W(n),x=Jz().type(v).size(EW(a,o,n));return x()},f=u.className,h=u.cx,p=u.cy,m=Ce(u,!0);return h===+h&&p===+p&&a===+a?F.createElement("path",ky({},m,{className:Ie("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Cb.registerSymbol=jW;function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(t)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oy.apply(this,arguments)}function m1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(r),!0).forEach(function(n){Wc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QO(n.key),n)}}function NW(t,e,r){return e&&g1(t.prototype,e),r&&g1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CW(t,e,r){return e=Yf(e),kW(t,XO()?Reflect.construct(e,r||[],Yf(t).constructor):e.apply(t,r))}function kW(t,e){if(e&&(Eo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OW(t)}function OW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(t)}function DW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dy(t,e)}function Wc(t,e,r){return e=QO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QO(t){var e=PW(t,"string");return Eo(e)=="symbol"?e:e+""}function PW(t,e){if(Eo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ur=32,kb=function(t){function e(){return TW(this,e),CW(this,e,arguments)}return DW(e,t),NW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ur/2,s=Ur/6,o=Ur/3,l=n.inactive?i:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ur,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ur,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ur/8,"h").concat(Ur,"v").concat(Ur*3/4,"h").concat(-Ur,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=AW({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(Cb,{fill:l,cx:a,cy:a,size:Ur,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ur,height:Ur},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=Ie(Wc(Wc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Te(p.value)?null:p.value;ri(!Te(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return F.createElement("li",Oy({className:v,style:f,key:"legend-item-".concat(m)},Hf(n.props,p,m)),F.createElement(Sy,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(C.PureComponent);Wc(kb,"displayName","Legend");Wc(kb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var MW=Mp;function RW(){this.__data__=new MW,this.size=0}var IW=RW;function $W(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var LW=$W;function FW(t){return this.__data__.get(t)}var BW=FW;function UW(t){return this.__data__.has(t)}var HW=UW,zW=Mp,WW=vb,VW=yb,GW=200;function qW(t,e){var r=this.__data__;if(r instanceof zW){var n=r.__data__;if(!WW||n.length<GW-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new VW(n)}return r.set(t,e),this.size=r.size,this}var YW=qW,KW=Mp,XW=IW,QW=LW,ZW=BW,JW=HW,e8=YW;function fl(t){var e=this.__data__=new KW(t);this.size=e.size}fl.prototype.clear=XW;fl.prototype.delete=QW;fl.prototype.get=ZW;fl.prototype.has=JW;fl.prototype.set=e8;var ZO=fl,t8="__lodash_hash_undefined__";function r8(t){return this.__data__.set(t,t8),this}var n8=r8;function i8(t){return this.__data__.has(t)}var a8=i8,s8=yb,o8=n8,l8=a8;function Kf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new s8;++e<r;)this.add(t[e])}Kf.prototype.add=Kf.prototype.push=o8;Kf.prototype.has=l8;var JO=Kf;function c8(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var eD=c8;function u8(t,e){return t.has(e)}var tD=u8,d8=JO,f8=eD,h8=tD,p8=1,m8=2;function g8(t,e,r,n,i,a){var s=r&p8,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&m8?new d8:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(n)var v=s?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!f8(e,function(x,y){if(!h8(p,y)&&(m===x||i(m,x,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var rD=g8,v8=Ln,y8=v8.Uint8Array,x8=y8;function b8(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var w8=b8;function S8(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Ob=S8,v1=Ru,y1=x8,_8=gb,E8=rD,j8=w8,A8=Ob,T8=1,N8=2,C8="[object Boolean]",k8="[object Date]",O8="[object Error]",D8="[object Map]",P8="[object Number]",M8="[object RegExp]",R8="[object Set]",I8="[object String]",$8="[object Symbol]",L8="[object ArrayBuffer]",F8="[object DataView]",x1=v1?v1.prototype:void 0,vg=x1?x1.valueOf:void 0;function B8(t,e,r,n,i,a,s){switch(r){case F8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L8:return!(t.byteLength!=e.byteLength||!a(new y1(t),new y1(e)));case C8:case k8:case P8:return _8(+t,+e);case O8:return t.name==e.name&&t.message==e.message;case M8:case I8:return t==e+"";case D8:var o=j8;case R8:var l=n&T8;if(o||(o=A8),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=N8,s.set(t,e);var d=E8(o(t),o(e),n,i,a,s);return s.delete(t),d;case $8:if(vg)return vg.call(t)==vg.call(e)}return!1}var U8=B8;function H8(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var nD=H8,z8=nD,W8=Er;function V8(t,e,r){var n=e(t);return W8(t)?n:z8(n,r(t))}var G8=V8;function q8(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var Y8=q8;function K8(){return[]}var X8=K8,Q8=Y8,Z8=X8,J8=Object.prototype,eV=J8.propertyIsEnumerable,b1=Object.getOwnPropertySymbols,tV=b1?function(t){return t==null?[]:(t=Object(t),Q8(b1(t),function(e){return eV.call(t,e)}))}:Z8,rV=tV;function nV(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var iV=nV,aV=mi,sV=gi,oV="[object Arguments]";function lV(t){return sV(t)&&aV(t)==oV}var cV=lV,w1=cV,uV=gi,iD=Object.prototype,dV=iD.hasOwnProperty,fV=iD.propertyIsEnumerable,hV=w1(function(){return arguments}())?w1:function(t){return uV(t)&&dV.call(t,"callee")&&!fV.call(t,"callee")},Db=hV,Xf={exports:{}};function pV(){return!1}var mV=pV;Xf.exports;(function(t,e){var r=Ln,n=mV,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Xf,Xf.exports);var aD=Xf.exports,gV=9007199254740991,vV=/^(?:0|[1-9]\d*)$/;function yV(t,e){var r=typeof t;return e=e??gV,!!e&&(r=="number"||r!="symbol"&&vV.test(t))&&t>-1&&t%1==0&&t<e}var Pb=yV,xV=9007199254740991;function bV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xV}var Mb=bV,wV=mi,SV=Mb,_V=gi,EV="[object Arguments]",jV="[object Array]",AV="[object Boolean]",TV="[object Date]",NV="[object Error]",CV="[object Function]",kV="[object Map]",OV="[object Number]",DV="[object Object]",PV="[object RegExp]",MV="[object Set]",RV="[object String]",IV="[object WeakMap]",$V="[object ArrayBuffer]",LV="[object DataView]",FV="[object Float32Array]",BV="[object Float64Array]",UV="[object Int8Array]",HV="[object Int16Array]",zV="[object Int32Array]",WV="[object Uint8Array]",VV="[object Uint8ClampedArray]",GV="[object Uint16Array]",qV="[object Uint32Array]",ct={};ct[FV]=ct[BV]=ct[UV]=ct[HV]=ct[zV]=ct[WV]=ct[VV]=ct[GV]=ct[qV]=!0;ct[EV]=ct[jV]=ct[$V]=ct[AV]=ct[LV]=ct[TV]=ct[NV]=ct[CV]=ct[kV]=ct[OV]=ct[DV]=ct[PV]=ct[MV]=ct[RV]=ct[IV]=!1;function YV(t){return _V(t)&&SV(t.length)&&!!ct[wV(t)]}var KV=YV;function XV(t){return function(e){return t(e)}}var sD=XV,Qf={exports:{}};Qf.exports;(function(t,e){var r=hO,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Qf,Qf.exports);var QV=Qf.exports,ZV=KV,JV=sD,S1=QV,_1=S1&&S1.isTypedArray,eG=_1?JV(_1):ZV,oD=eG,tG=iV,rG=Db,nG=Er,iG=aD,aG=Pb,sG=oD,oG=Object.prototype,lG=oG.hasOwnProperty;function cG(t,e){var r=nG(t),n=!r&&rG(t),i=!r&&!n&&iG(t),a=!r&&!n&&!i&&sG(t),s=r||n||i||a,o=s?tG(t.length,String):[],l=o.length;for(var u in t)(e||lG.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aG(u,l)))&&o.push(u);return o}var uG=cG,dG=Object.prototype;function fG(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||dG;return t===r}var hG=fG;function pG(t,e){return function(r){return t(e(r))}}var lD=pG,mG=lD,gG=mG(Object.keys,Object),vG=gG,yG=hG,xG=vG,bG=Object.prototype,wG=bG.hasOwnProperty;function SG(t){if(!yG(t))return xG(t);var e=[];for(var r in Object(t))wG.call(t,r)&&r!="constructor"&&e.push(r);return e}var _G=SG,EG=mb,jG=Mb;function AG(t){return t!=null&&jG(t.length)&&!EG(t)}var Iu=AG,TG=uG,NG=_G,CG=Iu;function kG(t){return CG(t)?TG(t):NG(t)}var Qp=kG,OG=G8,DG=rV,PG=Qp;function MG(t){return OG(t,PG,DG)}var RG=MG,E1=RG,IG=1,$G=Object.prototype,LG=$G.hasOwnProperty;function FG(t,e,r,n,i,a){var s=r&IG,o=E1(t),l=o.length,u=E1(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:LG.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var x=t[h],y=e[h];if(n)var b=s?n(y,x,h,e,t,a):n(x,y,h,t,e,a);if(!(b===void 0?x===y||i(x,y,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var BG=FG,UG=ys,HG=Ln,zG=UG(HG,"DataView"),WG=zG,VG=ys,GG=Ln,qG=VG(GG,"Promise"),YG=qG,KG=ys,XG=Ln,QG=KG(XG,"Set"),cD=QG,ZG=ys,JG=Ln,e7=ZG(JG,"WeakMap"),t7=e7,Py=WG,My=vb,Ry=YG,Iy=cD,$y=t7,uD=mi,hl=mO,j1="[object Map]",r7="[object Object]",A1="[object Promise]",T1="[object Set]",N1="[object WeakMap]",C1="[object DataView]",n7=hl(Py),i7=hl(My),a7=hl(Ry),s7=hl(Iy),o7=hl($y),ka=uD;(Py&&ka(new Py(new ArrayBuffer(1)))!=C1||My&&ka(new My)!=j1||Ry&&ka(Ry.resolve())!=A1||Iy&&ka(new Iy)!=T1||$y&&ka(new $y)!=N1)&&(ka=function(t){var e=uD(t),r=e==r7?t.constructor:void 0,n=r?hl(r):"";if(n)switch(n){case n7:return C1;case i7:return j1;case a7:return A1;case s7:return T1;case o7:return N1}return e});var l7=ka,yg=ZO,c7=rD,u7=U8,d7=BG,k1=l7,O1=Er,D1=aD,f7=oD,h7=1,P1="[object Arguments]",M1="[object Array]",bd="[object Object]",p7=Object.prototype,R1=p7.hasOwnProperty;function m7(t,e,r,n,i,a){var s=O1(t),o=O1(e),l=s?M1:k1(t),u=o?M1:k1(e);l=l==P1?bd:l,u=u==P1?bd:u;var d=l==bd,f=u==bd,h=l==u;if(h&&D1(t)){if(!D1(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new yg),s||f7(t)?c7(t,e,r,n,i,a):u7(t,e,l,r,n,i,a);if(!(r&h7)){var p=d&&R1.call(t,"__wrapped__"),m=f&&R1.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new yg),i(g,v,r,n,a)}}return h?(a||(a=new yg),d7(t,e,r,n,i,a)):!1}var g7=m7,v7=g7,I1=gi;function dD(t,e,r,n,i){return t===e?!0:t==null||e==null||!I1(t)&&!I1(e)?t!==t&&e!==e:v7(t,e,r,n,dD,i)}var Rb=dD,y7=ZO,x7=Rb,b7=1,w7=2;function S7(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new y7;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?x7(d,u,b7|w7,n,f):h))return!1}}return!0}var _7=S7,E7=ga;function j7(t){return t===t&&!E7(t)}var fD=j7,A7=fD,T7=Qp;function N7(t){for(var e=T7(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,A7(i)]}return e}var C7=N7;function k7(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var hD=k7,O7=_7,D7=C7,P7=hD;function M7(t){var e=D7(t);return e.length==1&&e[0][2]?P7(e[0][0],e[0][1]):function(r){return r===t||O7(r,t,e)}}var R7=M7;function I7(t,e){return t!=null&&e in Object(t)}var $7=I7,L7=bO,F7=Db,B7=Er,U7=Pb,H7=Mb,z7=Ip;function W7(t,e,r){e=L7(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=z7(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&H7(i)&&U7(s,i)&&(B7(t)||F7(t)))}var V7=W7,G7=$7,q7=V7;function Y7(t,e){return t!=null&&q7(t,e,G7)}var K7=Y7,X7=Rb,Q7=wO,Z7=K7,J7=pb,e9=fD,t9=hD,r9=Ip,n9=1,i9=2;function a9(t,e){return J7(t)&&e9(e)?t9(r9(t),e):function(r){var n=Q7(r,t);return n===void 0&&n===e?Z7(r,t):X7(e,n,n9|i9)}}var s9=a9;function o9(t){return t}var pl=o9;function l9(t){return function(e){return e==null?void 0:e[t]}}var c9=l9,u9=wb;function d9(t){return function(e){return u9(e,t)}}var f9=d9,h9=c9,p9=f9,m9=pb,g9=Ip;function v9(t){return m9(t)?h9(g9(t)):p9(t)}var y9=v9,x9=R7,b9=s9,w9=pl,S9=Er,_9=y9;function E9(t){return typeof t=="function"?t:t==null?w9:typeof t=="object"?S9(t)?b9(t[0],t[1]):x9(t):_9(t)}var va=E9;function j9(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var pD=j9;function A9(t){return t!==t}var T9=A9;function N9(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var C9=N9,k9=pD,O9=T9,D9=C9;function P9(t,e,r){return e===e?D9(t,e,r):k9(t,O9,r)}var M9=P9,R9=M9;function I9(t,e){var r=t==null?0:t.length;return!!r&&R9(t,e,0)>-1}var $9=I9;function L9(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var F9=L9;function B9(){}var U9=B9,xg=cD,H9=U9,z9=Ob,W9=1/0,V9=xg&&1/z9(new xg([,-0]))[1]==W9?function(t){return new xg(t)}:H9,G9=V9,q9=JO,Y9=$9,K9=F9,X9=tD,Q9=G9,Z9=Ob,J9=200;function eq(t,e,r){var n=-1,i=Y9,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=K9;else if(a>=J9){var u=e?null:Q9(t);if(u)return Z9(u);s=!1,i=X9,l=new q9}else l=e?[]:o;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var tq=eq,rq=va,nq=tq;function iq(t,e){return t&&t.length?nq(t,rq(e)):[]}var aq=iq;const $1=Qe(aq);function mD(t,e,r){return e===!0?$1(t,r):Te(e)?$1(t,e):t}function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}var sq=["ref"];function L1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(r),!0).forEach(function(n){Zp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vD(n.key),n)}}function lq(t,e,r){return e&&F1(t.prototype,e),r&&F1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cq(t,e,r){return e=Zf(e),uq(t,gD()?Reflect.construct(e,r||[],Zf(t).constructor):e.apply(t,r))}function uq(t,e){if(e&&(jo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dq(t)}function dq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function Zf(t){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(t)}function fq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ly(t,e)}function Zp(t,e,r){return e=vD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vD(t){var e=hq(t,"string");return jo(e)=="symbol"?e:e+""}function hq(t,e){if(jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pq(t,e){if(t==null)return{};var r=mq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gq(t){return t.value}function vq(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var r=pq(e,sq);return F.createElement(kb,r)}var B1=1,Zi=function(t){function e(){var r;oq(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=cq(this,e,[].concat(i)),Zp(r,"lastBoundingBox",{width:-1,height:-1}),r}return fq(e,t),lq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>B1||Math.abs(i.height-this.lastBoundingBox.height)>B1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Un({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Un(Un({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Un(Un({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},vq(a,Un(Un({},this.props),{},{payload:mD(d,u,gq)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Un(Un({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ie(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(C.PureComponent);Zp(Zi,"displayName","Legend");Zp(Zi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var U1=Ru,yq=Db,xq=Er,H1=U1?U1.isConcatSpreadable:void 0;function bq(t){return xq(t)||yq(t)||!!(H1&&t&&t[H1])}var wq=bq,Sq=nD,_q=wq;function yD(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=_q),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?yD(o,e-1,r,n,i):Sq(i,o):n||(i[i.length]=o)}return i}var xD=yD;function Eq(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var jq=Eq,Aq=jq,Tq=Aq(),Nq=Tq,Cq=Nq,kq=Qp;function Oq(t,e){return t&&Cq(t,e,kq)}var bD=Oq,Dq=Iu;function Pq(t,e){return function(r,n){if(r==null)return r;if(!Dq(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Mq=Pq,Rq=bD,Iq=Mq,$q=Iq(Rq),Ib=$q,Lq=Ib,Fq=Iu;function Bq(t,e){var r=-1,n=Fq(t)?Array(t.length):[];return Lq(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var wD=Bq;function Uq(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Hq=Uq,z1=al;function zq(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=z1(t),s=e!==void 0,o=e===null,l=e===e,u=z1(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var Wq=zq,Vq=Wq;function Gq(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=Vq(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var qq=Gq,bg=bb,Yq=wb,Kq=va,Xq=wD,Qq=Hq,Zq=sD,Jq=qq,eY=pl,tY=Er;function rY(t,e,r){e.length?e=bg(e,function(a){return tY(a)?function(s){return Yq(s,a.length===1?a[0]:a)}:a}):e=[eY];var n=-1;e=bg(e,Zq(Kq));var i=Xq(t,function(a,s,o){var l=bg(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return Qq(i,function(a,s){return Jq(a,s,r)})}var nY=rY;function iY(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var aY=iY,sY=aY,W1=Math.max;function oY(t,e,r){return e=W1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=W1(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),sY(t,this,o)}}var lY=oY;function cY(t){return function(){return t}}var uY=cY,dY=ys,fY=function(){try{var t=dY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),SD=fY,hY=uY,V1=SD,pY=pl,mY=V1?function(t,e){return V1(t,"toString",{configurable:!0,enumerable:!1,value:hY(e),writable:!0})}:pY,gY=mY,vY=800,yY=16,xY=Date.now;function bY(t){var e=0,r=0;return function(){var n=xY(),i=yY-(n-r);if(r=n,i>0){if(++e>=vY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var wY=bY,SY=gY,_Y=wY,EY=_Y(SY),jY=EY,AY=pl,TY=lY,NY=jY;function CY(t,e){return NY(TY(t,e,AY),t+"")}var kY=CY,OY=gb,DY=Iu,PY=Pb,MY=ga;function RY(t,e,r){if(!MY(r))return!1;var n=typeof e;return(n=="number"?DY(r)&&PY(e,r.length):n=="string"&&e in r)?OY(r[e],t):!1}var Jp=RY,IY=xD,$Y=nY,LY=kY,G1=Jp,FY=LY(function(t,e){if(t==null)return[];var r=e.length;return r>1&&G1(t,e[0],e[1])?e=[]:r>2&&G1(e[0],e[1],e[2])&&(e=[e[0]]),$Y(t,IY(e,1),[])}),BY=FY;const $b=Qe(BY);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fy.apply(this,arguments)}function UY(t,e){return VY(t)||WY(t,e)||zY(t,e)||HY()}function HY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(t,e){if(t){if(typeof t=="string")return q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(t,e)}}function q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function VY(t){if(Array.isArray(t))return t}function Y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(r),!0).forEach(function(n){GY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GY(t,e,r){return e=qY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qY(t){var e=YY(t,"string");return Vc(e)=="symbol"?e:e+""}function YY(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var XY=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var P={padding:0,margin:0},O=(h?$b(d,h):d).map(function(z,W){if(z.type==="none")return null;var G=wg({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},o),M=z.formatter||f||KY,I=z.value,B=z.name,U=I,H=B;if(M&&U!=null&&H!=null){var V=M(I,B,z,W,d);if(Array.isArray(V)){var q=UY(V,2);U=q[0],H=q[1]}else U=V}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:G},Pt(H)?F.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Pt(H)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},U),F.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},_=wg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=wg({margin:0},u),S=!Oe(g),j=S?g:"",E=Ie("recharts-default-tooltip",p),A=Ie("recharts-tooltip-label",m);S&&v&&d!==void 0&&d!==null&&(j=v(g,d));var k=y?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Fy({className:E,style:_},k),F.createElement("p",{className:A,style:w},F.isValidElement(j)?j:"".concat(j)),b())};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function wd(t,e,r){return e=QY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QY(t){var e=ZY(t,"string");return Gc(e)=="symbol"?e:e+""}function ZY(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ml="recharts-tooltip-wrapper",JY={visibility:"hidden"};function eK(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ie(Ml,wd(wd(wd(wd({},"".concat(Ml,"-right"),ie(r)&&e&&ie(e.x)&&r>=e.x),"".concat(Ml,"-left"),ie(r)&&e&&ie(e.x)&&r<e.x),"".concat(Ml,"-bottom"),ie(n)&&e&&ie(e.y)&&n>=e.y),"".concat(Ml,"-top"),ie(n)&&e&&ie(e.y)&&n<e.y))}function K1(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&ie(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?d:f;if(s[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+o,g=l[n]+u;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function tK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function rK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=K1({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=K1({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=tK({translateX:d,translateY:f,useTranslate3d:o})):u=JY,{cssProperties:u,cssClasses:eK({translateX:d,translateY:f,coordinate:r})}}function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function X1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(r),!0).forEach(function(n){Uy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ED(n.key),n)}}function iK(t,e,r){return e&&Z1(t.prototype,e),r&&Z1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aK(t,e,r){return e=Jf(e),sK(t,_D()?Reflect.construct(e,r||[],Jf(t).constructor):e.apply(t,r))}function sK(t,e){if(e&&(Ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oK(t)}function oK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!t})()}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(t)}function lK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},By(t,e)}function Uy(t,e,r){return e=ED(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ED(t){var e=cK(t,"string");return Ao(e)=="symbol"?e:e+""}function cK(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J1=1,uK=function(t){function e(){var r;nK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=aK(this,e,[].concat(i)),Uy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Uy(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return lK(e,t),iK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>J1||Math.abs(n.height-this.state.lastBoundingBox.height)>J1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,b=rK({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=b.cssClasses,w=b.cssProperties,S=Q1(Q1({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return F.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(E){n.wrapperNode=E}},u)}}])}(C.PureComponent),dK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Dn={isSsr:dK(),get:function(e){return Dn[e]},set:function(e,r){if(typeof e=="string")Dn[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Dn[i]=e[i]})}}};function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){Lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AD(n.key),n)}}function hK(t,e,r){return e&&rE(t.prototype,e),r&&rE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pK(t,e,r){return e=eh(e),mK(t,jD()?Reflect.construct(e,r||[],eh(t).constructor):e.apply(t,r))}function mK(t,e){if(e&&(To(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gK(t)}function gK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!t})()}function eh(t){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eh(t)}function vK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hy(t,e)}function Lb(t,e,r){return e=AD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AD(t){var e=yK(t,"string");return To(e)=="symbol"?e:e+""}function yK(t,e){if(To(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xK(t){return t.dataKey}function bK(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(XY,e)}var Hr=function(t){function e(){return fK(this,e),pK(this,e,arguments)}return vK(e,t),hK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=m??[];f&&w.length&&(w=mD(m.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),g,xK));var S=w.length>0;return F.createElement(uK,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:_},bK(u,tE(tE({},this.props),{},{payload:w})))}}])}(C.PureComponent);Lb(Hr,"displayName","Tooltip");Lb(Hr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Dn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wK=Ln,SK=function(){return wK.Date.now()},_K=SK,EK=/\s/;function jK(t){for(var e=t.length;e--&&EK.test(t.charAt(e)););return e}var AK=jK,TK=AK,NK=/^\s+/;function CK(t){return t&&t.slice(0,TK(t)+1).replace(NK,"")}var kK=CK,OK=kK,nE=ga,DK=al,iE=0/0,PK=/^[-+]0x[0-9a-f]+$/i,MK=/^0b[01]+$/i,RK=/^0o[0-7]+$/i,IK=parseInt;function $K(t){if(typeof t=="number")return t;if(DK(t))return iE;if(nE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=nE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=OK(t);var r=MK.test(t);return r||RK.test(t)?IK(t.slice(2),r?2:8):PK.test(t)?iE:+t}var TD=$K,LK=ga,Sg=_K,aE=TD,FK="Expected a function",BK=Math.max,UK=Math.min;function HK(t,e,r){var n,i,a,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(FK);e=aE(e)||0,LK(r)&&(d=!!r.leading,f="maxWait"in r,a=f?BK(aE(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(S){var j=n,E=i;return n=i=void 0,u=S,s=t.apply(E,j),s}function m(S){return u=S,o=setTimeout(x,e),d?p(S):s}function g(S){var j=S-l,E=S-u,A=e-j;return f?UK(A,a-E):A}function v(S){var j=S-l,E=S-u;return l===void 0||j>=e||j<0||f&&E>=a}function x(){var S=Sg();if(v(S))return y(S);o=setTimeout(x,g(S))}function y(S){return o=void 0,h&&n?p(S):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function _(){return o===void 0?s:y(Sg())}function w(){var S=Sg(),j=v(S);if(n=arguments,i=this,l=S,j){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return w.cancel=b,w.flush=_,w}var zK=HK,WK=zK,VK=ga,GK="Expected a function";function qK(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(GK);return VK(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),WK(t,e,{leading:n,maxWait:e,trailing:i})}var YK=qK;const ND=Qe(YK);function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){KK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KK(t,e,r){return e=XK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XK(t){var e=QK(t,"string");return qc(e)=="symbol"?e:e+""}function QK(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZK(t,e){return rX(t)||tX(t,e)||eX(t,e)||JK()}function JK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(t,e){if(t){if(typeof t=="string")return oE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oE(t,e)}}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rX(t){if(Array.isArray(t))return t}var zy=C.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,x=t.className,y=t.onResize,b=t.style,_=b===void 0?{}:b,w=C.useRef(null),S=C.useRef();S.current=y,C.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var j=C.useState({containerWidth:i.width,containerHeight:i.height}),E=ZK(j,2),A=E[0],k=E[1],D=C.useCallback(function(O,z){k(function(W){var G=Math.round(O),M=Math.round(z);return W.containerWidth===G&&W.containerHeight===M?W:{containerWidth:G,containerHeight:M}})},[]);C.useEffect(function(){var O=function(B){var U,H=B[0].contentRect,V=H.width,q=H.height;D(V,q),(U=S.current)===null||U===void 0||U.call(S,V,q)};g>0&&(O=ND(O,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(O),W=w.current.getBoundingClientRect(),G=W.width,M=W.height;return D(G,M),z.observe(w.current),function(){z.disconnect()}},[D,g]);var P=C.useMemo(function(){var O=A.containerWidth,z=A.containerHeight;if(O<0||z<0)return null;ri(Ua(s)||Ua(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ri(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Ua(s)?O:s,G=Ua(l)?z:l;r&&r>0&&(W?G=W/r:G&&(W=G*r),h&&G>h&&(G=h)),ri(W>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,G,s,l,d,f,r);var M=!Array.isArray(p)&&ti(p.type).endsWith("Chart");return F.Children.map(p,function(I){return F.isValidElement(I)?C.cloneElement(I,Sd({width:W,height:G},M?{style:Sd({height:"100%",width:"100%",maxHeight:G,maxWidth:W},I.props.style)}:{})):I})},[r,p,l,h,f,d,A,s]);return F.createElement("div",{id:v?"".concat(v):void 0,className:Ie("recharts-responsive-container",x),style:Sd(Sd({},_),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},P)}),CD=function(e){return null};CD.displayName="Cell";function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function lE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(r),!0).forEach(function(n){nX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nX(t,e,r){return e=iX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iX(t){var e=aX(t,"string");return Yc(e)=="symbol"?e:e+""}function aX(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds={widthCache:{},cacheCount:0},sX=2e3,oX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cE="recharts_measurement_span";function lX(t){var e=Wy({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var pc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Dn.isSsr)return{width:0,height:0};var n=lX(r),i=JSON.stringify({text:e,copyStyle:n});if(Ds.widthCache[i])return Ds.widthCache[i];try{var a=document.getElementById(cE);a||(a=document.createElement("span"),a.setAttribute("id",cE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Wy(Wy({},oX),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Ds.widthCache[i]=l,++Ds.cacheCount>sX&&(Ds.cacheCount=0,Ds.widthCache={}),l}catch{return{width:0,height:0}}},cX=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function th(t,e){return hX(t)||fX(t,e)||dX(t,e)||uX()}function uX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return uE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hX(t){if(Array.isArray(t))return t}function pX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gX(n.key),n)}}function mX(t,e,r){return e&&dE(t.prototype,e),r&&dE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gX(t){var e=vX(t,"string");return Kc(e)=="symbol"?e:e+""}function vX(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bX=Object.keys(kD),Qs="NaN";function wX(t,e){return t*kD[e]}var _d=function(){function t(e,r){pX(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!yX.test(r)&&(this.num=NaN,this.unit=""),bX.includes(r)&&(this.num=wX(e,r),this.unit="px")}return mX(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=xX.exec(r))!==null&&n!==void 0?n:[],a=th(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function OD(t){if(t.includes(Qs))return Qs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=fE.exec(e))!==null&&r!==void 0?r:[],i=th(n,4),a=i[1],s=i[2],o=i[3],l=_d.parse(a??""),u=_d.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Qs;e=e.replace(fE,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=hE.exec(e))!==null&&f!==void 0?f:[],p=th(h,4),m=p[1],g=p[2],v=p[3],x=_d.parse(m??""),y=_d.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return Qs;e=e.replace(hE,b.toString())}return e}var pE=/\(([^()]*)\)/;function SX(t){for(var e=t;e.includes("(");){var r=pE.exec(e),n=th(r,2),i=n[1];e=e.replace(pE,OD(i))}return e}function _X(t){var e=t.replace(/\s+/g,"");return e=SX(e),e=OD(e),e}function EX(t){try{return _X(t)}catch{return Qs}}function _g(t){var e=EX(t.slice(5,-1));return e===Qs?"":e}var jX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AX=["dx","dy","angle","className","breakAll"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vy.apply(this,arguments)}function mE(t,e){if(t==null)return{};var r=TX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gE(t,e){return OX(t)||kX(t,e)||CX(t,e)||NX()}function NX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(t,e){if(t){if(typeof t=="string")return vE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(t,e)}}function vE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function OX(t){if(Array.isArray(t))return t}var DD=/[ \f\n\r\t\v\u2028\u2029]+/,PD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Oe(r)||(n?a=r.toString().split(""):a=r.toString().split(DD));var s=a.map(function(l){return{word:l,width:pc(l,i).width}}),o=n?0:pc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},DX=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=ie(s),f=o,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(G,M){var I=M.word,B=M.width,U=G[G.length-1];if(U&&(i==null||a||U.width+B+n<Number(i)))U.words.push(I),U.width+=B+n;else{var H={words:[I],width:B};G.push(H)}return G},[])},p=h(r),m=function(W){return W.reduce(function(G,M){return G.width>M.width?G:M})};if(!d)return p;for(var g="",v=function(W){var G=f.slice(0,W),M=PD({breakAll:u,style:l,children:G+g}).wordsWithComputedWidth,I=h(M),B=I.length>s||m(I).width>Number(i);return[B,I]},x=0,y=f.length-1,b=0,_;x<=y&&b<=f.length-1;){var w=Math.floor((x+y)/2),S=w-1,j=v(S),E=gE(j,2),A=E[0],k=E[1],D=v(w),P=gE(D,1),O=P[0];if(!A&&!O&&(x=w+1),A&&O&&(y=w-1),!A&&O){_=k;break}b++}return _||p},yE=function(e){var r=Oe(e)?[]:e.toString().split(DD);return[{words:r}]},PX=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Dn.isSsr){var l,u,d=PD({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return yE(i);return DX({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return yE(i)},xE="#808080",rh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,x=v===void 0?xE:v,y=mE(e,jX),b=C.useMemo(function(){return PX({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,w=y.dy,S=y.angle,j=y.className,E=y.breakAll,A=mE(y,AX);if(!Pt(n)||!Pt(a))return null;var k=n+(ie(_)?_:0),D=a+(ie(w)?w:0),P;switch(g){case"start":P=_g("calc(".concat(u,")"));break;case"middle":P=_g("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:P=_g("calc(".concat(b.length-1," * -").concat(o,")"));break}var O=[];if(f){var z=b[0].width,W=y.width;O.push("scale(".concat((ie(W)?W/z:1)/z,")"))}return S&&O.push("rotate(".concat(S,", ").concat(k,", ").concat(D,")")),O.length&&(A.transform=O.join(" ")),F.createElement("text",Vy({},Ce(A,!0),{x:k,y:D,className:Ie("recharts-text",j),textAnchor:p,fill:x.includes("url")?xE:x}),b.map(function(G,M){var I=G.words.join(E?"":" ");return F.createElement("tspan",{x:k,dy:M===0?P:o,key:"".concat(I,"-").concat(M)},I)}))};function Ji(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fb(t){let e,r,n;t.length!==2?(e=Ji,r=(o,l)=>Ji(t(o),l),n=(o,l)=>t(o)-l):(e=t===Ji||t===MX?t:RX,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function RX(){return 0}function MD(t){return t===null?NaN:+t}function*IX(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const $X=Fb(Ji),LX=$X.right;Fb(MD).center;const $u=LX;class bE extends Map{constructor(e,r=UX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(wE(this,e))}has(e){return super.has(wE(this,e))}set(e,r){return super.set(FX(this,e),r)}delete(e){return super.delete(BX(this,e))}}function wE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function FX({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function BX({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function UX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function HX(t=Ji){if(t===Ji)return RD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function RD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zX=Math.sqrt(50),WX=Math.sqrt(10),VX=Math.sqrt(2);function nh(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=zX?10:a>=WX?5:a>=VX?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?nh(t,e,r*2):[o,l,u]}function Gy(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?nh(e,t,r):nh(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function qy(t,e,r){return e=+e,t=+t,r=+r,nh(t,e,r)[2]}function Yy(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?qy(e,t,r):qy(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function SE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function _E(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function ID(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?RD:HX(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),m=Math.min(n,Math.floor(e+(l-u)*f/l+h));ID(t,e,p,m,i)}const a=t[e];let s=r,o=n;for(Rl(t,r,e),i(t[n],a)>0&&Rl(t,r,n);s<o;){for(Rl(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Rl(t,r,o):(++o,Rl(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Rl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function GX(t,e,r){if(t=Float64Array.from(IX(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return _E(t);if(e>=1)return SE(t);var n,i=(n-1)*e,a=Math.floor(i),s=SE(ID(t,a).subarray(0,a+1)),o=_E(t.subarray(a+1));return s+(o-s)*(i-a)}}function qX(t,e,r=MD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function YX(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function tn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ky=Symbol("implicit");function Bb(){var t=new bE,e=[],r=[],n=Ky;function i(a){let s=t.get(a);if(s===void 0){if(n!==Ky)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new bE;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Bb(e,r).unknown(n)},tn.apply(i,arguments),i}function Xc(){var t=Bb().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=YX(h).map(function(x){return m+a*x});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Xc(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},tn.apply(f(),arguments)}function $D(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $D(e())},t}function mc(){return $D(Xc.apply(null,arguments).paddingInner(1))}function Ub(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function LD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Lu(){}var Qc=.7,ih=1/Qc,lo="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KX=/^#([0-9a-f]{3,8})$/,XX=new RegExp(`^rgb\\(${lo},${lo},${lo}\\)$`),QX=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),ZX=new RegExp(`^rgba\\(${lo},${lo},${lo},${Zc}\\)$`),JX=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${Zc}\\)$`),eQ=new RegExp(`^hsl\\(${Zc},${Pn},${Pn}\\)$`),tQ=new RegExp(`^hsla\\(${Zc},${Pn},${Pn},${Zc}\\)$`),EE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ub(Lu,Jc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jE,formatHex:jE,formatHex8:rQ,formatHsl:nQ,formatRgb:AE,toString:AE});function jE(){return this.rgb().formatHex()}function rQ(){return this.rgb().formatHex8()}function nQ(){return FD(this).formatHsl()}function AE(){return this.rgb().formatRgb()}function Jc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=KX.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?TE(e):r===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ed(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ed(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XX.exec(t))?new xr(e[1],e[2],e[3],1):(e=QX.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ZX.exec(t))?Ed(e[1],e[2],e[3],e[4]):(e=JX.exec(t))?Ed(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eQ.exec(t))?kE(e[1],e[2]/100,e[3]/100,1):(e=tQ.exec(t))?kE(e[1],e[2]/100,e[3]/100,e[4]):EE.hasOwnProperty(t)?TE(EE[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function TE(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Ed(t,e,r,n){return n<=0&&(t=e=r=NaN),new xr(t,e,r,n)}function iQ(t){return t instanceof Lu||(t=Jc(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function Xy(t,e,r,n){return arguments.length===1?iQ(t):new xr(t,e,r,n??1)}function xr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ub(xr,Xy,LD(Lu,{brighter(t){return t=t==null?ih:Math.pow(ih,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qc:Math.pow(Qc,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(Ya(this.r),Ya(this.g),Ya(this.b),ah(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NE,formatHex:NE,formatHex8:aQ,formatRgb:CE,toString:CE}));function NE(){return`#${Ha(this.r)}${Ha(this.g)}${Ha(this.b)}`}function aQ(){return`#${Ha(this.r)}${Ha(this.g)}${Ha(this.b)}${Ha((isNaN(this.opacity)?1:this.opacity)*255)}`}function CE(){const t=ah(this.opacity);return`${t===1?"rgb(":"rgba("}${Ya(this.r)}, ${Ya(this.g)}, ${Ya(this.b)}${t===1?")":`, ${t})`}`}function ah(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ya(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ha(t){return t=Ya(t),(t<16?"0":"")+t.toString(16)}function kE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hn(t,e,r,n)}function FD(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof Lu||(t=Jc(t)),!t)return new hn;if(t instanceof hn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new hn(s,o,l,t.opacity)}function sQ(t,e,r,n){return arguments.length===1?FD(t):new hn(t,e,r,n??1)}function hn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ub(hn,sQ,LD(Lu,{brighter(t){return t=t==null?ih:Math.pow(ih,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qc:Math.pow(Qc,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new xr(Eg(t>=240?t-240:t+120,i,n),Eg(t,i,n),Eg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new hn(OE(this.h),jd(this.s),jd(this.l),ah(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ah(this.opacity);return`${t===1?"hsl(":"hsla("}${OE(this.h)}, ${jd(this.s)*100}%, ${jd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OE(t){return t=(t||0)%360,t<0?t+360:t}function jd(t){return Math.max(0,Math.min(1,t||0))}function Eg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Hb=t=>()=>t;function oQ(t,e){return function(r){return t+r*e}}function lQ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function cQ(t){return(t=+t)==1?BD:function(e,r){return r-e?lQ(e,r,t):Hb(isNaN(e)?r:e)}}function BD(t,e){var r=e-t;return r?oQ(t,r):Hb(isNaN(t)?e:t)}const DE=function t(e){var r=cQ(e);function n(i,a){var s=r((i=Xy(i)).r,(a=Xy(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=BD(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function uQ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function dQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fQ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ml(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function hQ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function sh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function pQ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ml(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Qy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jg=new RegExp(Qy.source,"g");function mQ(t){return function(){return t}}function gQ(t){return function(e){return t(e)+""}}function vQ(t,e){var r=Qy.lastIndex=jg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Qy.exec(t))&&(i=jg.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:sh(n,i)})),r=jg.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?gQ(l[0].x):mQ(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function ml(t,e){var r=typeof e,n;return e==null||r==="boolean"?Hb(e):(r==="number"?sh:r==="string"?(n=Jc(e))?(e=n,DE):vQ:e instanceof Jc?DE:e instanceof Date?hQ:dQ(e)?uQ:Array.isArray(e)?fQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pQ:sh)(t,e)}function zb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function yQ(t,e){e===void 0&&(e=t,t=ml);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function xQ(t){return function(){return t}}function oh(t){return+t}var PE=[0,1];function lr(t){return t}function Zy(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:xQ(isNaN(e)?NaN:.5)}function bQ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function wQ(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Zy(i,n),a=r(s,a)):(n=Zy(n,i),a=r(a,s)),function(o){return a(n(o))}}function SQ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Zy(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=$u(t,o,1,n)-1;return a[l](i[l](o))}}function Fu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function em(){var t=PE,e=PE,r=ml,n,i,a,s=lr,o,l,u;function d(){var h=Math.min(t.length,e.length);return s!==lr&&(s=bQ(t[0],t[h-1])),o=h>2?SQ:wQ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(n),sh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,oh),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=zb,d()},f.clamp=function(h){return arguments.length?(s=h?!0:lr,d()):s!==lr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function Wb(){return em()(lr,lr)}function _Q(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lh(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function No(t){return t=lh(Math.abs(t)),t?t[1]:NaN}function EQ(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function jQ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var AQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eu(t){if(!(e=AQ.exec(t)))throw new Error("invalid format: "+t);var e;return new Vb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}eu.prototype=Vb.prototype;function Vb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Vb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TQ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var UD;function NQ(t,e){var r=lh(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(UD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+lh(t,Math.max(0,e+a-1))[0]}function ME(t,e){var r=lh(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const RE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_Q,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ME(t*100,e),r:ME,s:NQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function IE(t){return t}var $E=Array.prototype.map,LE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CQ(t){var e=t.grouping===void 0||t.thousands===void 0?IE:EQ($E.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?IE:jQ($E.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=eu(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(y=!0,w="g"):RE[w]||(b===void 0&&(b=12),_=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",j=g==="$"?n:/[%p]/.test(w)?s:"",E=RE[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(D){var P=S,O=j,z,W,G;if(w==="c")O=E(D)+O,D="";else{D=+D;var M=D<0||1/D<0;if(D=isNaN(D)?l:E(Math.abs(D),b),_&&(D=TQ(D)),M&&+D==0&&m!=="+"&&(M=!1),P=(M?m==="("?m:o:m==="-"||m==="("?"":m)+P,O=(w==="s"?LE[8+UD/3]:"")+O+(M&&m==="("?")":""),A){for(z=-1,W=D.length;++z<W;)if(G=D.charCodeAt(z),48>G||G>57){O=(G===46?i+D.slice(z+1):D.slice(z))+O,D=D.slice(0,z);break}}}y&&!v&&(D=e(D,1/0));var I=P.length+D.length+O.length,B=I<x?new Array(x-I+1).join(h):"";switch(y&&v&&(D=e(B+D,B.length?x-O.length:1/0),B=""),p){case"<":D=P+D+O+B;break;case"=":D=P+B+D+O;break;case"^":D=B.slice(0,I=B.length>>1)+P+D+O+B.slice(I);break;default:D=B+P+D+O;break}return a(D)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=eu(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(No(h)/3)))*3,g=Math.pow(10,-m),v=LE[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var Ad,Gb,HD;kQ({thousands:",",grouping:[3],currency:["$",""]});function kQ(t){return Ad=CQ(t),Gb=Ad.format,HD=Ad.formatPrefix,Ad}function OQ(t){return Math.max(0,-No(Math.abs(t)))}function DQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(No(e)/3)))*3-No(Math.abs(t)))}function PQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,No(e)-No(t))+1}function zD(t,e,r,n){var i=Yy(t,e,r),a;switch(n=eu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=DQ(i,s))&&(n.precision=a),HD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=PQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=OQ(i))&&(n.precision=a-(n.type==="%")*2);break}}return Gb(n)}function ya(t){var e=t.domain;return t.ticks=function(r){var n=e();return Gy(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return zD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=qy(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function ch(){var t=Wb();return t.copy=function(){return Fu(t,ch())},tn.apply(t,arguments),ya(t)}function WD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,oh),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return WD(t).unknown(e)},t=arguments.length?Array.from(t,oh):[0,1],ya(r)}function VD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function FE(t){return Math.log(t)}function BE(t){return Math.exp(t)}function MQ(t){return-Math.log(-t)}function RQ(t){return-Math.exp(-t)}function IQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $Q(t){return t===10?IQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UE(t){return(e,r)=>-t(-e,r)}function qb(t){const e=t(FE,BE),r=e.domain;let n=10,i,a;function s(){return i=LQ(n),a=$Q(n),r()[0]<0?(i=UE(i),a=UE(a),t(MQ,RQ)):t(FE,BE),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=Gy(u,d,v))}else x=Gy(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=eu(l)).precision==null&&(l.trim=!0),l=Gb(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(VD(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function GD(){const t=qb(em()).domain([1,10]);return t.copy=()=>Fu(t,GD()).base(t.base()),tn.apply(t,arguments),t}function HE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Yb(t){var e=1,r=t(HE(e),zE(e));return r.constant=function(n){return arguments.length?t(HE(e=+n),zE(e)):e},ya(r)}function qD(){var t=Yb(em());return t.copy=function(){return Fu(t,qD()).constant(t.constant())},tn.apply(t,arguments)}function WE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function FQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function BQ(t){return t<0?-t*t:t*t}function Kb(t){var e=t(lr,lr),r=1;function n(){return r===1?t(lr,lr):r===.5?t(FQ,BQ):t(WE(r),WE(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ya(e)}function Xb(){var t=Kb(em());return t.copy=function(){return Fu(t,Xb()).exponent(t.exponent())},tn.apply(t,arguments),t}function UQ(){return Xb.apply(null,arguments).exponent(.5)}function VE(t){return Math.sign(t)*t*t}function HQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YD(){var t=Wb(),e=[0,1],r=!1,n;function i(a){var s=HQ(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(VE(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,oh)).map(VE)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return YD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},tn.apply(i,arguments),ya(i)}function KD(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=qX(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[$u(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ji),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return KD().domain(t).range(e).unknown(n)},tn.apply(a,arguments)}function XD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[$u(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return XD().domain([t,e]).range(i).unknown(a)},tn.apply(ya(s),arguments)}function QD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[$u(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return QD().domain(t).range(e).unknown(r)},tn.apply(i,arguments)}const Ag=new Date,Tg=new Date;function Mt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Mt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Ag.setTime(+a),Tg.setTime(+s),t(Ag),t(Tg),Math.floor(r(Ag,Tg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const uh=Mt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);uh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):uh);uh.range;const Xn=1e3,qr=Xn*60,Qn=qr*60,ui=Qn*24,Qb=ui*7,GE=ui*30,Ng=ui*365,za=Mt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getUTCSeconds());za.range;const Zb=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xn)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getMinutes());Zb.range;const Jb=Mt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qr)},(t,e)=>(e-t)/qr,t=>t.getUTCMinutes());Jb.range;const ew=Mt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xn-t.getMinutes()*qr)},(t,e)=>{t.setTime(+t+e*Qn)},(t,e)=>(e-t)/Qn,t=>t.getHours());ew.range;const tw=Mt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qn)},(t,e)=>(e-t)/Qn,t=>t.getUTCHours());tw.range;const Bu=Mt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qr)/ui,t=>t.getDate()-1);Bu.range;const tm=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>t.getUTCDate()-1);tm.range;const ZD=Mt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>Math.floor(t/ui));ZD.range;function xs(t){return Mt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qr)/Qb)}const rm=xs(0),dh=xs(1),zQ=xs(2),WQ=xs(3),Co=xs(4),VQ=xs(5),GQ=xs(6);rm.range;dh.range;zQ.range;WQ.range;Co.range;VQ.range;GQ.range;function bs(t){return Mt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Qb)}const nm=bs(0),fh=bs(1),qQ=bs(2),YQ=bs(3),ko=bs(4),KQ=bs(5),XQ=bs(6);nm.range;fh.range;qQ.range;YQ.range;ko.range;KQ.range;XQ.range;const rw=Mt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rw.range;const nw=Mt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nw.range;const di=Mt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});di.range;const fi=Mt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});fi.range;function JD(t,e,r,n,i,a){const s=[[za,1,Xn],[za,5,5*Xn],[za,15,15*Xn],[za,30,30*Xn],[a,1,qr],[a,5,5*qr],[a,15,15*qr],[a,30,30*qr],[i,1,Qn],[i,3,3*Qn],[i,6,6*Qn],[i,12,12*Qn],[n,1,ui],[n,2,2*ui],[r,1,Qb],[e,1,GE],[e,3,3*GE],[t,1,Ng]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=Fb(([,,v])=>v).right(s,h);if(p===s.length)return t.every(Yy(u/Ng,d/Ng,f));if(p===0)return uh.every(Math.max(Yy(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[QQ,ZQ]=JD(fi,nw,nm,ZD,tw,Jb),[JQ,eZ]=JD(di,rw,rm,Bu,ew,Zb);function Cg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Il(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function tZ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=$l(i),d=Ll(i),f=$l(a),h=Ll(a),p=$l(s),m=Ll(s),g=$l(o),v=Ll(o),x=$l(l),y=Ll(l),b={a:M,A:I,b:B,B:U,c:null,d:ZE,e:ZE,f:EZ,g:MZ,G:IZ,H:wZ,I:SZ,j:_Z,L:eP,m:jZ,M:AZ,p:H,q:V,Q:tj,s:rj,S:TZ,u:NZ,U:CZ,V:kZ,w:OZ,W:DZ,x:null,X:null,y:PZ,Y:RZ,Z:$Z,"%":ej},_={a:q,A:re,b:ae,B:de,c:null,d:JE,e:JE,f:UZ,g:QZ,G:JZ,H:LZ,I:FZ,j:BZ,L:rP,m:HZ,M:zZ,p:_e,q:fe,Q:tj,s:rj,S:WZ,u:VZ,U:GZ,V:qZ,w:YZ,W:KZ,x:null,X:null,y:XZ,Y:ZZ,Z:eJ,"%":ej},w={a:k,A:D,b:P,B:O,c:z,d:XE,e:XE,f:vZ,g:KE,G:YE,H:QE,I:QE,j:hZ,L:gZ,m:fZ,M:pZ,p:A,q:dZ,Q:xZ,s:bZ,S:mZ,u:sZ,U:oZ,V:lZ,w:aZ,W:cZ,x:W,X:G,y:KE,Y:YE,Z:uZ,"%":yZ};b.x=S(r,b),b.X=S(n,b),b.c=S(e,b),_.x=S(r,_),_.X=S(n,_),_.c=S(e,_);function S(Q,se){return function(ne){var T=[],N=-1,R=0,L=Q.length,X,ee,ce;for(ne instanceof Date||(ne=new Date(+ne));++N<L;)Q.charCodeAt(N)===37&&(T.push(Q.slice(R,N)),(ee=qE[X=Q.charAt(++N)])!=null?X=Q.charAt(++N):ee=X==="e"?" ":"0",(ce=se[X])&&(X=ce(ne,ee)),T.push(X),R=N+1);return T.push(Q.slice(R,N)),T.join("")}}function j(Q,se){return function(ne){var T=Il(1900,void 0,1),N=E(T,Q,ne+="",0),R,L;if(N!=ne.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(se&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(R=kg(Il(T.y,0,1)),L=R.getUTCDay(),R=L>4||L===0?fh.ceil(R):fh(R),R=tm.offset(R,(T.V-1)*7),T.y=R.getUTCFullYear(),T.m=R.getUTCMonth(),T.d=R.getUTCDate()+(T.w+6)%7):(R=Cg(Il(T.y,0,1)),L=R.getDay(),R=L>4||L===0?dh.ceil(R):dh(R),R=Bu.offset(R,(T.V-1)*7),T.y=R.getFullYear(),T.m=R.getMonth(),T.d=R.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),L="Z"in T?kg(Il(T.y,0,1)).getUTCDay():Cg(Il(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(L+5)%7:T.w+T.U*7-(L+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,kg(T)):Cg(T)}}function E(Q,se,ne,T){for(var N=0,R=se.length,L=ne.length,X,ee;N<R;){if(T>=L)return-1;if(X=se.charCodeAt(N++),X===37){if(X=se.charAt(N++),ee=w[X in qE?se.charAt(N++):X],!ee||(T=ee(Q,ne,T))<0)return-1}else if(X!=ne.charCodeAt(T++))return-1}return T}function A(Q,se,ne){var T=u.exec(se.slice(ne));return T?(Q.p=d.get(T[0].toLowerCase()),ne+T[0].length):-1}function k(Q,se,ne){var T=p.exec(se.slice(ne));return T?(Q.w=m.get(T[0].toLowerCase()),ne+T[0].length):-1}function D(Q,se,ne){var T=f.exec(se.slice(ne));return T?(Q.w=h.get(T[0].toLowerCase()),ne+T[0].length):-1}function P(Q,se,ne){var T=x.exec(se.slice(ne));return T?(Q.m=y.get(T[0].toLowerCase()),ne+T[0].length):-1}function O(Q,se,ne){var T=g.exec(se.slice(ne));return T?(Q.m=v.get(T[0].toLowerCase()),ne+T[0].length):-1}function z(Q,se,ne){return E(Q,e,se,ne)}function W(Q,se,ne){return E(Q,r,se,ne)}function G(Q,se,ne){return E(Q,n,se,ne)}function M(Q){return s[Q.getDay()]}function I(Q){return a[Q.getDay()]}function B(Q){return l[Q.getMonth()]}function U(Q){return o[Q.getMonth()]}function H(Q){return i[+(Q.getHours()>=12)]}function V(Q){return 1+~~(Q.getMonth()/3)}function q(Q){return s[Q.getUTCDay()]}function re(Q){return a[Q.getUTCDay()]}function ae(Q){return l[Q.getUTCMonth()]}function de(Q){return o[Q.getUTCMonth()]}function _e(Q){return i[+(Q.getUTCHours()>=12)]}function fe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var se=S(Q+="",b);return se.toString=function(){return Q},se},parse:function(Q){var se=j(Q+="",!1);return se.toString=function(){return Q},se},utcFormat:function(Q){var se=S(Q+="",_);return se.toString=function(){return Q},se},utcParse:function(Q){var se=j(Q+="",!0);return se.toString=function(){return Q},se}}}var qE={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,rZ=/^%/,nZ=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function iZ(t){return t.replace(nZ,"\\$&")}function $l(t){return new RegExp("^(?:"+t.map(iZ).join("|")+")","i")}function Ll(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function aZ(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function sZ(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function oZ(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function lZ(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function cZ(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function YE(t,e,r){var n=Bt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function KE(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uZ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dZ(t,e,r){var n=Bt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function fZ(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function XE(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function hZ(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function QE(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function pZ(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function mZ(t,e,r){var n=Bt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function gZ(t,e,r){var n=Bt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function vZ(t,e,r){var n=Bt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yZ(t,e,r){var n=rZ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function xZ(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function bZ(t,e,r){var n=Bt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function ZE(t,e){return Le(t.getDate(),e,2)}function wZ(t,e){return Le(t.getHours(),e,2)}function SZ(t,e){return Le(t.getHours()%12||12,e,2)}function _Z(t,e){return Le(1+Bu.count(di(t),t),e,3)}function eP(t,e){return Le(t.getMilliseconds(),e,3)}function EZ(t,e){return eP(t,e)+"000"}function jZ(t,e){return Le(t.getMonth()+1,e,2)}function AZ(t,e){return Le(t.getMinutes(),e,2)}function TZ(t,e){return Le(t.getSeconds(),e,2)}function NZ(t){var e=t.getDay();return e===0?7:e}function CZ(t,e){return Le(rm.count(di(t)-1,t),e,2)}function tP(t){var e=t.getDay();return e>=4||e===0?Co(t):Co.ceil(t)}function kZ(t,e){return t=tP(t),Le(Co.count(di(t),t)+(di(t).getDay()===4),e,2)}function OZ(t){return t.getDay()}function DZ(t,e){return Le(dh.count(di(t)-1,t),e,2)}function PZ(t,e){return Le(t.getFullYear()%100,e,2)}function MZ(t,e){return t=tP(t),Le(t.getFullYear()%100,e,2)}function RZ(t,e){return Le(t.getFullYear()%1e4,e,4)}function IZ(t,e){var r=t.getDay();return t=r>=4||r===0?Co(t):Co.ceil(t),Le(t.getFullYear()%1e4,e,4)}function $Z(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function JE(t,e){return Le(t.getUTCDate(),e,2)}function LZ(t,e){return Le(t.getUTCHours(),e,2)}function FZ(t,e){return Le(t.getUTCHours()%12||12,e,2)}function BZ(t,e){return Le(1+tm.count(fi(t),t),e,3)}function rP(t,e){return Le(t.getUTCMilliseconds(),e,3)}function UZ(t,e){return rP(t,e)+"000"}function HZ(t,e){return Le(t.getUTCMonth()+1,e,2)}function zZ(t,e){return Le(t.getUTCMinutes(),e,2)}function WZ(t,e){return Le(t.getUTCSeconds(),e,2)}function VZ(t){var e=t.getUTCDay();return e===0?7:e}function GZ(t,e){return Le(nm.count(fi(t)-1,t),e,2)}function nP(t){var e=t.getUTCDay();return e>=4||e===0?ko(t):ko.ceil(t)}function qZ(t,e){return t=nP(t),Le(ko.count(fi(t),t)+(fi(t).getUTCDay()===4),e,2)}function YZ(t){return t.getUTCDay()}function KZ(t,e){return Le(fh.count(fi(t)-1,t),e,2)}function XZ(t,e){return Le(t.getUTCFullYear()%100,e,2)}function QZ(t,e){return t=nP(t),Le(t.getUTCFullYear()%100,e,2)}function ZZ(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function JZ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ko(t):ko.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function eJ(){return"+0000"}function ej(){return"%"}function tj(t){return+t}function rj(t){return Math.floor(+t/1e3)}var Ps,iP,aP;tJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tJ(t){return Ps=tZ(t),iP=Ps.format,Ps.parse,aP=Ps.utcFormat,Ps.utcParse,Ps}function rJ(t){return new Date(t)}function nJ(t){return t instanceof Date?+t:+new Date(+t)}function iw(t,e,r,n,i,a,s,o,l,u){var d=Wb(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),_=u("%Y");function w(S){return(l(S)<S?p:o(S)<S?m:s(S)<S?g:a(S)<S?v:n(S)<S?i(S)<S?x:y:r(S)<S?b:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,nJ)):h().map(rJ)},d.ticks=function(S){var j=h();return t(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?w:u(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=e(j[0],j[j.length-1],S??10)),S?h(VD(j,S)):d},d.copy=function(){return Fu(d,iw(t,e,r,n,i,a,s,o,l,u))},d}function iJ(){return tn.apply(iw(JQ,eZ,di,rw,rm,Bu,ew,Zb,za,iP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aJ(){return tn.apply(iw(QQ,ZQ,fi,nw,nm,tm,tw,Jb,za,aP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function im(){var t=0,e=1,r,n,i,a,s=lr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(ml),u.rangeRound=d(zb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function xa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sP(){var t=ya(im()(lr));return t.copy=function(){return xa(t,sP())},vi.apply(t,arguments)}function oP(){var t=qb(im()).domain([1,10]);return t.copy=function(){return xa(t,oP()).base(t.base())},vi.apply(t,arguments)}function lP(){var t=Yb(im());return t.copy=function(){return xa(t,lP()).constant(t.constant())},vi.apply(t,arguments)}function aw(){var t=Kb(im());return t.copy=function(){return xa(t,aw()).exponent(t.exponent())},vi.apply(t,arguments)}function sJ(){return aw.apply(null,arguments).exponent(.5)}function cP(){var t=[],e=lr;function r(n){if(n!=null&&!isNaN(n=+n))return e(($u(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ji),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>GX(t,a/n))},r.copy=function(){return cP(e).domain(t)},vi.apply(r,arguments)}function am(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=lr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=yQ(g,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(ml),p.rangeRound=m(zb),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function uP(){var t=ya(am()(lr));return t.copy=function(){return xa(t,uP())},vi.apply(t,arguments)}function dP(){var t=qb(am()).domain([.1,1,10]);return t.copy=function(){return xa(t,dP()).base(t.base())},vi.apply(t,arguments)}function fP(){var t=Yb(am());return t.copy=function(){return xa(t,fP()).constant(t.constant())},vi.apply(t,arguments)}function sw(){var t=Kb(am());return t.copy=function(){return xa(t,sw()).exponent(t.exponent())},vi.apply(t,arguments)}function oJ(){return sw.apply(null,arguments).exponent(.5)}const nj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xc,scaleDiverging:uP,scaleDivergingLog:dP,scaleDivergingPow:sw,scaleDivergingSqrt:oJ,scaleDivergingSymlog:fP,scaleIdentity:WD,scaleImplicit:Ky,scaleLinear:ch,scaleLog:GD,scaleOrdinal:Bb,scalePoint:mc,scalePow:Xb,scaleQuantile:KD,scaleQuantize:XD,scaleRadial:YD,scaleSequential:sP,scaleSequentialLog:oP,scaleSequentialPow:aw,scaleSequentialQuantile:cP,scaleSequentialSqrt:sJ,scaleSequentialSymlog:lP,scaleSqrt:UQ,scaleSymlog:qD,scaleThreshold:QD,scaleTime:iJ,scaleUtc:aJ,tickFormat:zD},Symbol.toStringTag,{value:"Module"}));var lJ=al;function cJ(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!lJ(s):r(s,o)))var o=s,l=a}return l}var hP=cJ;function uJ(t,e){return t>e}var dJ=uJ,fJ=hP,hJ=dJ,pJ=pl;function mJ(t){return t&&t.length?fJ(t,pJ,hJ):void 0}var gJ=mJ;const Li=Qe(gJ);function vJ(t,e){return t<e}var yJ=vJ,xJ=hP,bJ=yJ,wJ=pl;function SJ(t){return t&&t.length?xJ(t,wJ,bJ):void 0}var _J=SJ;const sm=Qe(_J);var EJ=bb,jJ=va,AJ=wD,TJ=Er;function NJ(t,e){var r=TJ(t)?EJ:AJ;return r(t,jJ(e))}var CJ=NJ,kJ=xD,OJ=CJ;function DJ(t,e){return kJ(OJ(t,e),1)}var PJ=DJ;const MJ=Qe(PJ);var RJ=Rb;function IJ(t,e){return RJ(t,e)}var $J=IJ;const Oo=Qe($J);var gl=1e9,LJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lw,ht=!0,Jr="[DecimalError] ",Ka=Jr+"Invalid argument: ",ow=Jr+"Exponent out of range: ",vl=Math.floor,Oa=Math.pow,FJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,$t=1e7,ut=7,pP=9007199254740991,hh=vl(pP/ut),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ut;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return ni(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return Je(ni(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return Tt(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Cr))throw Error(Jr+"NaN");if(r.s<1)throw Error(Jr+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(ht=!1,e=ni(tu(r,a),tu(t,a),a),ht=!0,Je(e,i))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vP(e,t):mP(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Jr+"NaN");return r.s?(ht=!1,e=ni(r,t,0,1).times(t),ht=!0,r.minus(e)):Je(new n(r),i)};ve.naturalExponential=ve.exp=function(){return gP(this)};ve.naturalLogarithm=ve.ln=function(){return tu(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mP(e,t):vP(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ka+t);if(e=Tt(i)+1,n=i.d.length-1,r=n*ut+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Jr+"NaN")}for(t=Tt(o),ht=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Tn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ni(o,a,s+2)).times(.5),Tn(a.d).slice(0,s)===(e=Tn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Je(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return ht=!0,Je(n,r)};ve.times=ve.mul=function(t){var e,r,n,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+e,a[i--]=o%$t|0,e=o/$t|0;a[i]=(a[i]+e)%$t|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ht?Je(t,f.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Rn(t,0,gl),e===void 0?e=n.rounding:Rn(e,0,8),Je(r,t+Tt(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ss(n,!0):(Rn(t,0,gl),e===void 0?e=i.rounding:Rn(e,0,8),n=Je(new i(n),t+1,e),r=ss(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ss(i):(Rn(t,0,gl),e===void 0?e=a.rounding:Rn(e,0,8),n=Je(new a(i),t+Tt(i)+1,e),r=ss(n.abs(),!1,t+Tt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return Je(new e(t),Tt(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Cr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Jr+"Infinity");return o}if(o.eq(Cr))return o;if(n=l.precision,t.eq(Cr))return Je(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=pP){for(i=new l(Cr),e=Math.ceil(n/ut+4),ht=!1;r%2&&(i=i.times(o),aj(i.d,e)),r=vl(r/2),r!==0;)o=o.times(o),aj(o.d,e);return ht=!0,t.s<0?new l(Cr).div(i):Je(i,n)}}else if(a<0)throw Error(Jr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ht=!1,i=t.times(tu(o,n+u)),ht=!0,i=gP(i),i.s=a,i};ve.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Tt(i),n=ss(i,r<=a.toExpNeg||r>=a.toExpPos)):(Rn(t,1,gl),e===void 0?e=a.rounding:Rn(e,0,8),i=Je(new a(i),t,e),r=Tt(i),n=ss(i,t<=r||r<=a.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Rn(t,1,gl),e===void 0?e=n.rounding:Rn(e,0,8)),Je(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tt(t),r=t.constructor;return ss(t,e<=r.toExpNeg||e>=r.toExpPos)};function mP(t,e){var r,n,i,a,s,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ht?Je(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/ut),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/$t|0,l[a]%=$t;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ht?Je(e,f):e}function Rn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ka+t)}function Tn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=ut-n.length,r&&(a+=ki(r)),a+=n;s=t[e],n=s+"",r=ut-n.length,r&&(a+=ki(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ni=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%$t|0,s=a/$t|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*$t+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,h,p,m,g,v,x,y,b,_,w,S,j,E,A=n.constructor,k=n.s==i.s?1:-1,D=n.d,P=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Jr+"Division by zero");for(l=n.e-i.e,j=P.length,w=D.length,p=new A(k),m=p.d=[],u=0;P[u]==(D[u]||0);)++u;if(P[u]>(D[u]||0)&&--l,a==null?y=a=A.precision:s?y=a+(Tt(n)-Tt(i))+1:y=a,y<0)return new A(0);if(y=y/ut+2|0,u=0,j==1)for(d=0,P=P[0],y++;(u<w||d)&&y--;u++)b=d*$t+(D[u]||0),m[u]=b/P|0,d=b%P|0;else{for(d=$t/(P[0]+1)|0,d>1&&(P=t(P,d),D=t(D,d),j=P.length,w=D.length),_=j,g=D.slice(0,j),v=g.length;v<j;)g[v++]=0;E=P.slice(),E.unshift(0),S=P[0],P[1]>=$t/2&&++S;do d=0,o=e(P,g,j,v),o<0?(x=g[0],j!=v&&(x=x*$t+(g[1]||0)),d=x/S|0,d>1?(d>=$t&&(d=$t-1),f=t(P,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,r(f,j<h?E:P,h))):(d==0&&(o=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=e(P,g,j,v),o<1&&(d++,r(g,j<v?E:P,v))),v=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[v++]=D[_]||0:(g=[D[_]],v=1);while((_++<w||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,Je(p,s?a+Tt(p)+1:a)}}();function gP(t,e){var r,n,i,a,s,o,l=0,u=0,d=t.constructor,f=d.precision;if(Tt(t)>16)throw Error(ow+Tt(t));if(!t.s)return new d(Cr);for(e==null?(ht=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Oa(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Cr),d.precision=o;;){if(i=Je(i.times(t),o),r=r.times(++l),s=a.plus(ni(i,r,o)),Tn(s.d).slice(0,o)===Tn(a.d).slice(0,o)){for(;u--;)a=Je(a.times(a),o);return d.precision=f,e==null?(ht=!0,Je(a,f)):a}a=s}}function Tt(t){for(var e=t.e*ut,r=t.d[0];r>=10;r/=10)e++;return e}function Og(t,e,r){if(e>t.LN10.sd())throw ht=!0,r&&(t.precision=r),Error(Jr+"LN10 precision limit exceeded");return Je(new t(t.LN10),e)}function ki(t){for(var e="";t--;)e+="0";return e}function tu(t,e){var r,n,i,a,s,o,l,u,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Jr+(p.s?"NaN":"-Infinity"));if(p.eq(Cr))return new g(0);if(e==null?(ht=!1,u=v):u=e,p.eq(10))return e==null&&(ht=!0),Og(g,u);if(u+=h,g.precision=u,r=Tn(m),n=r.charAt(0),a=Tt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Tn(p.d),n=r.charAt(0),f++;a=Tt(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=Og(g,u+2,v).times(a+""),p=tu(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(ht=!0,Je(p,v)):p;for(o=s=p=ni(p.minus(Cr),p.plus(Cr),u),d=Je(p.times(p),u),i=3;;){if(s=Je(s.times(d),u),l=o.plus(ni(s,new g(i),u)),Tn(l.d).slice(0,u)===Tn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Og(g,u+2,v).times(a+""))),o=ni(o,new g(f),u),g.precision=v,e==null?(ht=!0,Je(o,v)):o;o=l,i+=2}}function ij(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=vl(r/ut),t.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ut;n<i;)t.d.push(+e.slice(n,n+=ut));e=e.slice(n),n=ut-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ht&&(t.e>hh||t.e<-hh))throw Error(ow+r)}else t.s=0,t.e=0,t.d=[0];return t}function Je(t,e,r){var n,i,a,s,o,l,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=ut,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ut),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=ut,i=n-ut+s}if(r!==void 0&&(a=Oa(10,s-i-1),o=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Oa(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Tt(t),f.length=1,e=e-a-1,f[0]=Oa(10,(ut-e%ut)%ut),t.e=vl(-e/ut)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Oa(10,ut-n),f[d]=i>0?(u/Oa(10,s-i)%Oa(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==$t&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=$t)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ht&&(t.e>hh||t.e<-hh))throw Error(ow+Tt(t));return t}function vP(t,e){var r,n,i,a,s,o,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?Je(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(p/ut),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=$t-1;--l[a],l[i]+=$t}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ht?Je(e,p):e):new h(0)}function ss(t,e,r){var n,i=Tt(t),a=Tn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+ki(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ki(-i-1)+a,r&&(n=r-s)>0&&(a+=ki(n))):i>=s?(a+=ki(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+ki(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=ki(n))),t.s<0?"-"+a:a}function aj(t,e){if(t.length>e)return t.length=e,!0}function yP(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ka+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return ij(s,a.toString())}else if(typeof a!="string")throw Error(Ka+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,FJ.test(a))ij(s,a);else throw Error(Ka+a)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yP,i.config=i.set=BJ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function BJ(t){if(!t||typeof t!="object")throw Error(Jr+"Object expected");var e,r,n,i=["precision",1,gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(vl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ka+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ka+r+": "+n);return this}var lw=yP(LJ);Cr=new lw(1);const Xe=lw;function UJ(t){return VJ(t)||WJ(t)||zJ(t)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zJ(t,e){if(t){if(typeof t=="string")return Jy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(t,e)}}function WJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function VJ(t){if(Array.isArray(t))return Jy(t)}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var GJ=function(e){return e},xP={"@@functional/placeholder":!0},bP=function(e){return e===xP},sj=function(e){return function r(){return arguments.length===0||arguments.length===1&&bP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},qJ=function t(e,r){return e===1?r:sj(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==xP}).length;return s>=e?r.apply(void 0,i):t(e-s,sj(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(f){return bP(f)?l.shift():f});return r.apply(void 0,UJ(d).concat(l))}))})},om=function(e){return qJ(e.length,e)},e0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},YJ=om(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),KJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return GJ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},t0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},wP=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function XJ(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function QJ(t,e,r){for(var n=new Xe(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var ZJ=om(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),JJ=om(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),eee=om(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const lm={rangeStep:QJ,getDigitCount:XJ,interpolateNumber:ZJ,uninterpolateNumber:JJ,uninterpolateTruncation:eee};function r0(t){return nee(t)||ree(t)||SP(t)||tee()}function tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nee(t){if(Array.isArray(t))return n0(t)}function ru(t,e){return see(t)||aee(t,e)||SP(t,e)||iee()}function iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(t,e){if(t){if(typeof t=="string")return n0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n0(t,e)}}function n0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function see(t){if(Array.isArray(t))return t}function _P(t){var e=ru(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function EP(t,e,r){if(t.lte(0))return new Xe(0);var n=lm.getDigitCount(t.toNumber()),i=new Xe(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Xe(Math.ceil(l))}function oee(t,e,r){var n=1,i=new Xe(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Xe(10).pow(lm.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var s=Math.floor((e-1)/2),o=KJ(YJ(function(l){return i.add(new Xe(l-s).mul(n)).toNumber()}),e0);return o(0,e)}function jP(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=EP(new Xe(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Xe(0):(s=new Xe(t).add(e).div(2),s=s.sub(new Xe(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Xe(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?jP(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Xe(o).mul(a)),tickMax:s.add(new Xe(l).mul(a))})}function lee(t){var e=ru(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=_P([r,n]),l=ru(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(r0(e0(0,i-1).map(function(){return 1/0}))):[].concat(r0(e0(0,i-1).map(function(){return-1/0})),[d]);return r>n?t0(f):f}if(u===d)return oee(u,i,a);var h=jP(u,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,v=lm.rangeStep(m,g.add(new Xe(.1).mul(p)),p);return r>n?t0(v):v}function cee(t,e){var r=ru(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=_P([n,i]),o=ru(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=EP(new Xe(u).sub(l).div(d-1),a,0),h=[].concat(r0(lm.rangeStep(new Xe(l),new Xe(u).sub(new Xe(.99).mul(f)),f)),[u]);return n>i?t0(h):h}var uee=wP(lee),dee=wP(cee),fee=!0,Dg="Invariant failed";function os(t,e){if(!t){if(fee)throw new Error(Dg);var r=typeof e=="function"?e():e,n=r?"".concat(Dg,": ").concat(r):Dg;throw new Error(n)}}var hee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ph.apply(this,arguments)}function pee(t,e){return yee(t)||vee(t,e)||gee(t,e)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(t,e){if(t){if(typeof t=="string")return oj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(t,e)}}function oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function yee(t){if(Array.isArray(t))return t}function xee(t,e){if(t==null)return{};var r=bee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NP(n.key),n)}}function See(t,e,r){return e&&lj(t.prototype,e),r&&lj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ee(t,e,r){return e=mh(e),Eee(t,AP()?Reflect.construct(e,r||[],mh(t).constructor):e.apply(t,r))}function Eee(t,e){if(e&&(Do(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jee(t)}function jee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AP=function(){return!!t})()}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(t)}function Aee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i0(t,e)}function i0(t,e){return i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i0(t,e)}function TP(t,e,r){return e=NP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NP(t){var e=Tee(t,"string");return Do(e)=="symbol"?e:e+""}function Tee(t,e){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu=function(t){function e(){return wee(this,e),_ee(this,e,arguments)}return Aee(e,t),See(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=xee(n,hee),p=Ce(h,!1);this.props.direction==="x"&&d.type!=="number"&&os(!1);var m=l.map(function(g){var v=u(g,o),x=v.x,y=v.y,b=v.value,_=v.errorVal;if(!_)return null;var w=[],S,j;if(Array.isArray(_)){var E=pee(_,2);S=E[0],j=E[1]}else S=j=_;if(a==="vertical"){var A=d.scale,k=y+i,D=k+s,P=k-s,O=A(b-S),z=A(b+j);w.push({x1:z,y1:D,x2:z,y2:P}),w.push({x1:O,y1:k,x2:z,y2:k}),w.push({x1:O,y1:D,x2:O,y2:P})}else if(a==="horizontal"){var W=f.scale,G=x+i,M=G-s,I=G+s,B=W(b-S),U=W(b+j);w.push({x1:M,y1:U,x2:I,y2:U}),w.push({x1:G,y1:B,x2:G,y2:U}),w.push({x1:M,y1:B,x2:I,y2:B})}return F.createElement(it,ph({className:"recharts-errorBar",key:"bar-".concat(w.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),w.map(function(H){return F.createElement("line",ph({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return F.createElement(it,{className:"recharts-errorBars"},m)}}])}(F.Component);TP(Uu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TP(Uu,"displayName","ErrorBar");function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(r),!0).forEach(function(n){Nee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nee(t,e,r){return e=Cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cee(t){var e=kee(t,"string");return nu(e)=="symbol"?e:e+""}function kee(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CP=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Nr(r,Zi);if(!s)return null;var o=Zi.defaultProps,l=o!==void 0?ja(ja({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ja(ja({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:cw(f),value:g||m,payload:p}}),ja(ja(ja({},l),Zi.getWithHeight(s,i)),{},{payload:u,item:s})};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function uj(t){return Mee(t)||Pee(t)||Dee(t)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dee(t,e){if(t){if(typeof t=="string")return a0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a0(t,e)}}function Pee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mee(t){if(Array.isArray(t))return a0(t)}function a0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(r),!0).forEach(function(n){co(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function co(t,e,r){return e=Ree(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ree(t){var e=Iee(t,"string");return iu(e)=="symbol"?e:e+""}function Iee(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dr(t,e,r){return Oe(t)||Oe(e)?r:Pt(e)?Kr(t,e,r):Te(e)?e(t):r}function gc(t,e,r,n){var i=MJ(t,function(o){return dr(o,e)});if(r==="number"){var a=i.filter(function(o){return ie(o)||parseFloat(o)});return a.length?[sm(a),Li(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Oe(o)}):i;return s.map(function(o){return Pt(o)||o instanceof Date?o:""})}var $ee=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(pn(f-d)!==pn(h-f)){var m=[];if(pn(h-f)===pn(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(e>(y+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},cw=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},Lee=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,x=g.filter(function(j){return ti(j.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?wt(wt({},y),x[0].props):x[0].props,_=b.barSize,w=b[v];s[w]||(s[w]=[]);var S=Oe(_)?r:_;s[w].push({item:x[0],stackList:x.slice(1),barSize:Oe(S)?void 0:as(S,n,0)})}}return s},Fee=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=as(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(_,w){return _+w.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(_,w){var S={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},j=[].concat(uj(_),[S]);return v=j[j.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var x=as(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(_,w,S){var j=[].concat(uj(_),[{item:w.item,position:{offset:x+(y+u)*S+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},Bee=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=CP({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ie(e[p]))return wt(wt({},e),{},co({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ie(e[m]))return wt(wt({},e),{},co({},m,e[m]+(h||0)))}return e},Uee=function(e,r,n){return Oe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kP=function(e,r,n,i,a){var s=r.props.children,o=Xr(s,Uu).filter(function(u){return Uee(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=dr(d,n);if(Oe(f))return u;var h=Array.isArray(f)?[sm(f),Li(f)]:[f,f],p=l.reduce(function(m,g){var v=dr(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Hee=function(e,r,n,i,a){var s=r.map(function(o){return kP(e,o,n,a,i)}).filter(function(o){return!Oe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},OP=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&kP(e,l,u,i)||gc(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},DP=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},PP=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Zn=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?pn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!ul(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Pg=new WeakMap,Td=function(e,r){if(typeof r!="function")return e;Pg.has(e)||Pg.set(e,new WeakMap);var n=Pg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},zee=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Xc(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:ch(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mc(),realScaleType:"point"}:a==="category"?{scale:Xc(),realScaleType:"band"}:{scale:ch(),realScaleType:"linear"};if(is(i)){var l="scale".concat(qp(i));return{scale:(nj[l]||mc)(),realScaleType:nj[l]?l:"point"}}return Te(i)?{scale:i}:{scale:mc(),realScaleType:"point"}},fj=1e-4,Wee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-fj,s=Math.max(i[0],i[1])+fj,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},Vee=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Gee=function(e,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ie(e[0])||e[0]<n)&&(a[0]=n),(!ie(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},qee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=ul(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},Yee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=ul(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Kee={sign:qee,expand:hW,none:_o,silhouette:pW,wiggle:mW,positive:Yee},Xee=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Kee[n],s=fW().keys(i).value(function(o,l){return+dr(o,l,0)}).order(Cy).offset(a);return s(e)},Qee=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?wt(wt({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Pt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[dl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return wt(wt({},f),{},co({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return wt(wt({},g),{},co({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Xee(e,x.items,a)}))},m)}return wt(wt({},f),{},co({},h,p))},d)},Zee=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=uee(u,a,o);return e.domain([sm(d),Li(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=dee(f,a,o);return{niceTicks:h}}return null};function gh(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(i[e.dataKey])){var o=Bf(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=dr(i,Oe(s)?e.dataKey:s);return Oe(l)?null:e.scale(l)}var hj=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=dr(s,r.dataKey,r.domain[o]);return Oe(l)?null:r.scale(l)-a/2+i},Jee=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},ete=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Pt(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},tte=function(e){return e.reduce(function(r,n){return[sm(n.concat([r[0]]).filter(ie)),Li(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},MP=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var f=tte(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},pj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s0=function(e,r,n){if(Te(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ie(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(pj.test(e[0])){var a=+pj.exec(e[0])[1];i[0]=r[0]-a}else Te(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ie(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(mj.test(e[1])){var s=+mj.exec(e[1])[1];i[1]=r[1]+s}else Te(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},vh=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=$b(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},gj=function(e,r,n){return!e||!e.length||Oo(e,Kr(n,"type.defaultProps.domain"))?r:e},RP=function(e,r){var n=e.type.defaultProps?wt(wt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return wt(wt({},Ce(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:cw(e),value:dr(r,i),type:l,payload:r,chartType:u,hide:d})};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(r),!0).forEach(function(n){rte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rte(t,e,r){return e=nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nte(t){var e=ite(t,"string");return au(e)=="symbol"?e:e+""}function ite(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yh=Math.PI/180,ate=function(e){return e*180/Math.PI},Gt=function(e,r,n,i){return{x:e+Math.cos(-yh*i)*n,y:r+Math.sin(-yh*i)*n}},ste=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},ote=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=ste({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:ate(u),angleInRadian:u}},lte=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},cte=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},xj=function(e,r){var n=e.x,i=e.y,a=ote({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=lte(r),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?yj(yj({},r),{},{radius:s,angle:cte(p,r)}):null};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}var ute=["offset"];function dte(t){return mte(t)||pte(t)||hte(t)||fte()}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(t,e){if(t){if(typeof t=="string")return o0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o0(t,e)}}function pte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mte(t){if(Array.isArray(t))return o0(t)}function o0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gte(t,e){if(t==null)return{};var r=vte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(r),!0).forEach(function(n){yte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yte(t,e,r){return e=xte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xte(t){var e=bte(t,"string");return su(e)=="symbol"?e:e+""}function bte(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}var wte=function(e){var r=e.value,n=e.formatter,i=Oe(e.children)?r:e.children;return Te(n)?n(i):i},Ste=function(e,r){var n=pn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},_te=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,x=Ste(p,m),y=x>=0?1:-1,b,_;i==="insideStart"?(b=p+y*s,_=g):i==="insideEnd"?(b=m-y*s,_=!g):i==="end"&&(b=m+y*s,_=g),_=x<=0?_:!_;var w=Gt(u,d,v,b),S=Gt(u,d,v,b+(_?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),E=Oe(e.id)?dl("recharts-radial-line-"):e.id;return F.createElement("text",ou({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",o)}),F.createElement("defs",null,F.createElement("path",{id:E,d:j})),F.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Ete=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Gt(s,o,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Gt(s,o,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},jte=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return kt(kt({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return kt(kt({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var w={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return kt(kt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var S={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return kt(kt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return a==="insideLeft"?kt({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},j):a==="insideRight"?kt({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},j):a==="insideTop"?kt({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},j):a==="insideBottom"?kt({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},j):a==="insideTopLeft"?kt({x:o+v,y:l+h,textAnchor:y,verticalAnchor:m},j):a==="insideTopRight"?kt({x:o+u-v,y:l+h,textAnchor:x,verticalAnchor:m},j):a==="insideBottomLeft"?kt({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:p},j):a==="insideBottomRight"?kt({x:o+u-v,y:l+d-h,textAnchor:x,verticalAnchor:p},j):sl(a)&&(ie(a.x)||Ua(a.x))&&(ie(a.y)||Ua(a.y))?kt({x:o+as(a.x,u),y:l+as(a.y,d),textAnchor:"end",verticalAnchor:"end"},j):kt({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Ate=function(e){return"cx"in e&&ie(e.cx)};function tr(t){var e=t.offset,r=e===void 0?5:e,n=gte(t,ute),i=kt({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Oe(o)&&Oe(l)&&!C.isValidElement(u)&&!Te(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var p;if(Te(u)){if(p=C.createElement(u,i),C.isValidElement(p))return p}else p=wte(i);var m=Ate(a),g=Ce(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return _te(i,p,g);var v=m?Ete(i):jte(i);return F.createElement(rh,ou({className:Ie("recharts-label",f)},g,v,{breakAll:h}),p)}tr.displayName="Label";var IP=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ie(g)&&ie(v)){if(ie(f)&&ie(h))return{x:f,y:h,width:g,height:v};if(ie(p)&&ie(m))return{x:p,y:m,width:g,height:v}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},Tte=function(e,r){return e?e===!0?F.createElement(tr,{key:"label-implicit",viewBox:r}):Pt(e)?F.createElement(tr,{key:"label-implicit",viewBox:r,value:e}):C.isValidElement(e)?e.type===tr?C.cloneElement(e,{key:"label-implicit",viewBox:r}):F.createElement(tr,{key:"label-implicit",content:e,viewBox:r}):Te(e)?F.createElement(tr,{key:"label-implicit",content:e,viewBox:r}):sl(e)?F.createElement(tr,ou({viewBox:r},e,{key:"label-implicit"})):null:null},Nte=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=IP(e),s=Xr(i,tr).map(function(l,u){return C.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=Tte(e.label,r||a);return[o].concat(dte(s))};tr.parseViewBox=IP;tr.renderCallByParent=Nte;function Cte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kte=Cte;const Ote=Qe(kte);function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}var Dte=["valueAccessor"],Pte=["data","dataKey","clockWise","id","textBreakAll"];function Mte(t){return Lte(t)||$te(t)||Ite(t)||Rte()}function Rte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ite(t,e){if(t){if(typeof t=="string")return l0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(t,e)}}function $te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lte(t){if(Array.isArray(t))return l0(t)}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xh.apply(this,arguments)}function wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(r),!0).forEach(function(n){Fte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fte(t,e,r){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bte(t){var e=Ute(t,"string");return lu(e)=="symbol"?e:e+""}function Ute(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _j(t,e){if(t==null)return{};var r=Hte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zte=function(e){return Array.isArray(e.value)?Ote(e.value):e.value};function ii(t){var e=t.valueAccessor,r=e===void 0?zte:e,n=_j(t,Dte),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=_j(n,Pte);return!i||!i.length?null:F.createElement(it,{className:"recharts-label-list"},i.map(function(d,f){var h=Oe(a)?r(d,f):dr(d&&d.payload,a),p=Oe(o)?{}:{id:"".concat(o,"-").concat(f)};return F.createElement(tr,xh({},Ce(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:tr.parseViewBox(Oe(s)?d:Sj(Sj({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ii.displayName="LabelList";function Wte(t,e){return t?t===!0?F.createElement(ii,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Te(t)?F.createElement(ii,{key:"labelList-implicit",data:e,content:t}):sl(t)?F.createElement(ii,xh({data:e},t,{key:"labelList-implicit"})):null:null}function Vte(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Xr(n,ii).map(function(s,o){return C.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=Wte(t.label,e);return[a].concat(Mte(i))}ii.renderCallByParent=Vte;function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}function Ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(r),!0).forEach(function(n){Gte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gte(t,e,r){return e=qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qte(t){var e=Yte(t,"string");return cu(e)=="symbol"?e:e+""}function Yte(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kte=function(e,r){var n=pn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Nd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/yh,h=u?a:a+s*f,p=Gt(r,n,d,h),m=Gt(r,n,i,h),g=u?a-s*f:a,v=Gt(r,n,d*Math.cos(f*yh),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},$P=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Kte(s,o),u=s+l,d=Gt(r,n,a,s),f=Gt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Gt(r,n,i,s),m=Gt(r,n,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Xte=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=pn(d-u),h=Nd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=Nd({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,_=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(_<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):$P({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var S=Nd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=S.circleTangency,E=S.lineTangency,A=S.theta,k=Nd({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=k.circleTangency,P=k.lineTangency,O=k.theta,z=l?Math.abs(u-d):Math.abs(u-d)-A-O;if(z<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Qte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LP=function(e){var r=jj(jj({},Qte),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=Ie("recharts-sector",h),m=s-a,g=as(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Xte({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=$P({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),F.createElement("path",c0({},Ce(r,!0),{className:p,d:v,role:"img"}))};function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u0.apply(this,arguments)}function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){Zte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zte(t,e,r){return e=Jte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jte(t){var e=ere(t,"string");return uu(e)=="symbol"?e:e+""}function ere(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nj={curveBasisClosed:tW,curveBasisOpen:rW,curveBasis:eW,curveBumpX:Bz,curveBumpY:Uz,curveLinearClosed:nW,curveLinear:Kp,curveMonotoneX:iW,curveMonotoneY:aW,curveNatural:sW,curveStep:oW,curveStepAfter:cW,curveStepBefore:lW},Cd=function(e){return e.x===+e.x&&e.y===+e.y},Fl=function(e){return e.x},Bl=function(e){return e.y},tre=function(e,r){if(Te(e))return e;var n="curve".concat(qp(e));return(n==="curveMonotone"||n==="curveBump")&&r?Nj["".concat(n).concat(r==="vertical"?"Y":"X")]:Nj[n]||Kp},rre=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=tre(n,o),f=u?a.filter(function(g){return Cd(g)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return Cd(g)}):s,m=f.map(function(g,v){return Tj(Tj({},g),{},{base:p[v]})});return o==="vertical"?h=xd().y(Bl).x1(Fl).x0(function(g){return g.base.x}):h=xd().x(Fl).y1(Bl).y0(function(g){return g.base.y}),h.defined(Cd).curve(d),h(m)}return o==="vertical"&&ie(s)?h=xd().y(Bl).x1(Fl).x0(s):ie(s)?h=xd().x(Fl).y1(Bl).y0(s):h=LO().x(Fl).y(Bl),h.defined(Cd).curve(d),h(f)},uo=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?rre(e):i;return C.createElement("path",u0({},Ce(e,!1),Uf(e),{className:Ie("recharts-curve",r),d:s,ref:a}))},FP={exports:{}},nre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ire=nre,are=ire;function BP(){}function UP(){}UP.resetWarningCache=BP;var sre=function(){function t(n,i,a,s,o,l){if(l!==are){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UP,resetWarningCache:BP};return r.PropTypes=r,r};FP.exports=sre();var ore=FP.exports;const Ue=Qe(ore);var lre=Object.getOwnPropertyNames,cre=Object.getOwnPropertySymbols,ure=Object.prototype.hasOwnProperty;function Cj(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function kd(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function kj(t){return lre(t).concat(cre(t))}var dre=Object.hasOwn||function(t,e){return ure.call(t,e)};function ws(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var fre="__v",hre="__o",pre="_owner",Oj=Object.getOwnPropertyDescriptor,Dj=Object.keys;function mre(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function gre(t,e){return ws(t.getTime(),e.getTime())}function vre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yre(t,e){return t===e}function Pj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var xre=ws;function bre(t,e,r){var n=Dj(t),i=n.length;if(Dj(e).length!==i)return!1;for(;i-- >0;)if(!HP(t,e,r,n[i]))return!1;return!0}function Ul(t,e,r){var n=kj(t),i=n.length;if(kj(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!HP(t,e,r,a)||(s=Oj(t,a),o=Oj(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function wre(t,e){return ws(t.valueOf(),e.valueOf())}function Sre(t,e){return t.source===e.source&&t.flags===e.flags}function Mj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function _re(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Ere(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function HP(t,e,r,n){return(n===pre||n===hre||n===fre)&&(t.$$typeof||e.$$typeof)?!0:dre(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var jre="[object Arguments]",Are="[object Boolean]",Tre="[object Date]",Nre="[object Error]",Cre="[object Map]",kre="[object Number]",Ore="[object Object]",Dre="[object RegExp]",Pre="[object Set]",Mre="[object String]",Rre="[object URL]",Ire=Array.isArray,Rj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ij=Object.assign,$re=Object.prototype.toString.call.bind(Object.prototype.toString);function Lre(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(m,g,v):x==="function"?i(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return o(m,g,v);if(Ire(m))return e(m,g,v);if(Rj!=null&&Rj(m))return f(m,g,v);if(y===Date)return r(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return a(m,g,v);if(y===Set)return d(m,g,v);var b=$re(m);return b===Tre?r(m,g,v):b===Dre?u(m,g,v):b===Cre?a(m,g,v):b===Pre?d(m,g,v):b===Ore?typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,v):b===Rre?h(m,g,v):b===Nre?n(m,g,v):b===jre?o(m,g,v):b===Are||b===kre||b===Mre?l(m,g,v):!1}}function Fre(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Ul:mre,areDatesEqual:gre,areErrorsEqual:vre,areFunctionsEqual:yre,areMapsEqual:n?Cj(Pj,Ul):Pj,areNumbersEqual:xre,areObjectsEqual:n?Ul:bre,arePrimitiveWrappersEqual:wre,areRegExpsEqual:Sre,areSetsEqual:n?Cj(Mj,Ul):Mj,areTypedArraysEqual:n?Ul:_re,areUrlsEqual:Ere};if(r&&(i=Ij({},i,r(i))),e){var a=kd(i.areArraysEqual),s=kd(i.areMapsEqual),o=kd(i.areObjectsEqual),l=kd(i.areSetsEqual);i=Ij({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function Bre(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function Ure(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var Hre=ba();ba({strict:!0});ba({circular:!0});ba({circular:!0,strict:!0});ba({createInternalComparator:function(){return ws}});ba({strict:!0,createInternalComparator:function(){return ws}});ba({circular:!0,createInternalComparator:function(){return ws}});ba({circular:!0,createInternalComparator:function(){return ws},strict:!0});function ba(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=Fre(t),l=Lre(o),u=n?n(l):Bre(l);return Ure({circular:r,comparator:l,createState:i,equals:u,strict:s})}function zre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $j(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):zre(i)};requestAnimationFrame(n)}function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function Wre(t){return Yre(t)||qre(t)||Gre(t)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return Lj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(t,e)}}function Lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yre(t){if(Array.isArray(t))return t}function Kre(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Wre(s),l=o[0],u=o.slice(1);if(typeof l=="number"){$j(i.bind(null,u),l);return}i(l),$j(i.bind(null,u));return}d0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){zP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zP(t,e,r){return e=Xre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xre(t){var e=Qre(t,"string");return du(e)==="symbol"?e:String(e)}function Qre(t,e){if(du(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(du(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zre=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Jre=function(e){return e},ene=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vc=function(e,r){return Object.keys(r).reduce(function(n,i){return Bj(Bj({},n),{},zP({},i,e(i,r[i])))},{})},Uj=function(e,r,n){return e.map(function(i){return"".concat(ene(i)," ").concat(r,"ms ").concat(n)}).join(",")};function tne(t,e){return ine(t)||nne(t,e)||WP(t,e)||rne()}function rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ine(t){if(Array.isArray(t))return t}function ane(t){return lne(t)||one(t)||WP(t)||sne()}function sne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WP(t,e){if(t){if(typeof t=="string")return f0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(t,e)}}function one(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lne(t){if(Array.isArray(t))return f0(t)}function f0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bh=1e-4,VP=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},GP=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Hj=function(e,r){return function(n){var i=VP(e,r);return GP(i,n)}},cne=function(e,r){return function(n){var i=VP(e,r),a=[].concat(ane(i.map(function(s,o){return s*o}).slice(1)),[0]);return GP(a,n)}},zj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=tne(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=Hj(i,s),h=Hj(a,o),p=cne(i,s),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,_=0;_<8;++_){var w=f(b)-y,S=p(b);if(Math.abs(w-y)<bh||S<bh)return h(b);b=m(b-w/S)}return h(b)};return g.isStepper=!1,g},une=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<bh&&Math.abs(g)<bh?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},dne=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zj(i);case"spring":return une();default:if(i.split("(")[0]==="cubic-bezier")return zj(i)}return typeof i=="function"?i:null};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Wj(t){return pne(t)||hne(t)||qP(t)||fne()}function fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pne(t){if(Array.isArray(t))return p0(t)}function Vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(r),!0).forEach(function(n){h0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h0(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=gne(t,"string");return fu(e)==="symbol"?e:String(e)}function gne(t,e){if(fu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vne(t,e){return bne(t)||xne(t,e)||qP(t,e)||yne()}function yne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qP(t,e){if(t){if(typeof t=="string")return p0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p0(t,e)}}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function bne(t){if(Array.isArray(t))return t}var wh=function(e,r,n){return e+(r-e)*n},m0=function(e){var r=e.from,n=e.to;return r!==n},wne=function t(e,r,n){var i=vc(function(a,s){if(m0(s)){var o=e(s.from,s.to,s.velocity),l=vne(o,2),u=l[0],d=l[1];return Ht(Ht({},s),{},{from:u,velocity:d})}return s},r);return n<1?vc(function(a,s){return m0(s)?Ht(Ht({},s),{},{velocity:wh(s.velocity,i[a].velocity,n),from:wh(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Sne=function(t,e,r,n,i){var a=Zre(t,e),s=a.reduce(function(v,x){return Ht(Ht({},v),{},h0({},x,[t[x],e[x]]))},{}),o=a.reduce(function(v,x){return Ht(Ht({},v),{},h0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return vc(function(x,y){return y.from},o)},p=function(){return!Object.values(o).filter(m0).length},m=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=wne(r,o,b),i(Ht(Ht(Ht({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,b=vc(function(w,S){return wh.apply(void 0,Wj(S).concat([r(y)]))},s);if(i(Ht(Ht(Ht({},t),e),b)),y<1)l=requestAnimationFrame(f);else{var _=vc(function(w,S){return wh.apply(void 0,Wj(S).concat([r(1)]))},s);i(Ht(Ht(Ht({},t),e),_))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}var _ne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ene(t,e){if(t==null)return{};var r=jne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jne(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Mg(t){return Cne(t)||Nne(t)||Tne(t)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tne(t,e){if(t){if(typeof t=="string")return g0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g0(t,e)}}function Nne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cne(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(r),!0).forEach(function(n){Jl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jl(t,e,r){return e=YP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YP(n.key),n)}}function One(t,e,r){return e&&qj(t.prototype,e),r&&qj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YP(t){var e=Dne(t,"string");return Po(e)==="symbol"?e:String(e)}function Dne(t,e){if(Po(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Po(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v0(t,e)}function Mne(t){var e=Rne();return function(){var n=Sh(t),i;if(e){var a=Sh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return y0(this,i)}}function y0(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x0(t)}function x0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(t)}var cm=function(t){Pne(r,t);var e=Mne(r);function r(n,i){var a;kne(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(x0(a)),a.changeStyle=a.changeStyle.bind(x0(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),y0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},y0(a);a.state={style:l?Jl({},l,u):u}}else a.state={style:{}};return a}return One(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Jl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Hre(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?Jl({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(an(an({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Sne(s,o,dne(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,_=b===void 0?"ease":b,w=v.style,S=v.properties,j=v.onAnimationEnd,E=x>0?s[x-1]:v,A=S||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Mg(g),[a.runJSAnimation.bind(a,{from:E.style,to:w,duration:y,easing:_}),y]);var k=Uj(A,y,_),D=an(an(an({},E.style),w),{},{transition:k});return[].concat(Mg(g),[D,y,j]).filter(Jre)};return this.manager.start([l].concat(Mg(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Kre());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Jl({},o,l):l,v=Uj(Object.keys(g),s,u);m.start([d,a,an(an({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Ene(i,_ne),u=C.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,y=C.cloneElement(p,an(an({},l),{},{style:an(an({},v),d),className:x}));return y};return u===1?f(C.Children.only(a)):F.createElement("div",null,C.Children.map(a,function(h){return f(h)}))}}]),r}(C.PureComponent);cm.displayName="Animate";cm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};cm.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};const ls=cm;function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(this,arguments)}function Ine(t,e){return Bne(t)||Fne(t,e)||Lne(t,e)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(t,e){if(t){if(typeof t=="string")return Yj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yj(t,e)}}function Yj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Bne(t){if(Array.isArray(t))return t}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){Une(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Une(t,e,r){return e=Hne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hne(t){var e=zne(t,"string");return hu(e)=="symbol"?e:e+""}function zne(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qj=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*m,`
            L `).concat(e+n,",").concat(r+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Wne=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Vne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uw=function(e){var r=Xj(Xj({},Vne),e),n=C.useRef(),i=C.useState(-1),a=Ine(i,2),s=a[0],o=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ie("recharts-rectangle",p);return y?F.createElement(ls,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(_){var w=_.width,S=_.height,j=_.x,E=_.y;return F.createElement(ls,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},F.createElement("path",_h({},Ce(r,!0),{className:b,d:Qj(j,E,w,S,h),ref:n})))}):F.createElement("path",_h({},Ce(r,!0),{className:b,d:Qj(l,u,d,f,h)}))};function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}var um=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Ie("recharts-dot",a);return r===+r&&n===+n&&i===+i?C.createElement("circle",b0({},Ce(e,!1),Uf(e),{className:s,cx:r,cy:n,r:i})):null};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}var Gne=["x","y","top","left","width","height","className"];function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w0.apply(this,arguments)}function Zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(r),!0).forEach(function(n){Yne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yne(t,e,r){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kne(t){var e=Xne(t,"string");return pu(e)=="symbol"?e:e+""}function Xne(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qne(t,e){if(t==null)return{};var r=Zne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Jne=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},eie=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=Qne(e,Gne),v=qne({x:n,y:a,top:o,left:u,width:f,height:p},g);return!ie(n)||!ie(a)||!ie(f)||!ie(p)||!ie(o)||!ie(u)?null:F.createElement("path",w0({},Ce(v,!0),{className:Ie("recharts-cross",m),d:Jne(n,a,f,p,o,u)}))},tie=lD,rie=tie(Object.getPrototypeOf,Object),nie=rie,iie=mi,aie=nie,sie=gi,oie="[object Object]",lie=Function.prototype,cie=Object.prototype,KP=lie.toString,uie=cie.hasOwnProperty,die=KP.call(Object);function fie(t){if(!sie(t)||iie(t)!=oie)return!1;var e=aie(t);if(e===null)return!0;var r=uie.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&KP.call(r)==die}var hie=fie;const pie=Qe(hie);var mie=mi,gie=gi,vie="[object Boolean]";function yie(t){return t===!0||t===!1||gie(t)&&mie(t)==vie}var xie=yie;const bie=Qe(xie);function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eh.apply(this,arguments)}function wie(t,e){return jie(t)||Eie(t,e)||_ie(t,e)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ie(t,e){if(t){if(typeof t=="string")return Jj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(t,e)}}function Jj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function jie(t){if(Array.isArray(t))return t}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){Aie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aie(t,e,r){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tie(t){var e=Nie(t,"string");return mu(e)=="symbol"?e:e+""}function Nie(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rA=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},Cie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kie=function(e){var r=tA(tA({},Cie),e),n=C.useRef(),i=C.useState(-1),a=wie(i,2),s=a[0],o=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ie("recharts-trapezoid",p);return x?F.createElement(ls,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(b){var _=b.upperWidth,w=b.lowerWidth,S=b.height,j=b.x,E=b.y;return F.createElement(ls,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},F.createElement("path",Eh({},Ce(r,!0),{className:y,d:rA(j,E,_,w,S),ref:n})))}):F.createElement("g",null,F.createElement("path",Eh({},Ce(r,!0),{className:y,d:rA(l,u,d,f,h)})))},Oie=["option","shapeType","propTransformer","activeClassName","isActive"];function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Die(t,e){if(t==null)return{};var r=Pie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(r),!0).forEach(function(n){Mie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mie(t,e,r){return e=Rie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rie(t){var e=Iie(t,"string");return gu(e)=="symbol"?e:e+""}function Iie(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t,e){return jh(jh({},e),t)}function Lie(t,e){return t==="symbols"}function iA(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return F.createElement(uw,r);case"trapezoid":return F.createElement(kie,r);case"sector":return F.createElement(LP,r);case"symbols":if(Lie(e))return F.createElement(Cb,r);break;default:return null}}function Fie(t){return C.isValidElement(t)?t.props:t}function Bie(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?$ie:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=Die(t,Oie),u;if(C.isValidElement(e))u=C.cloneElement(e,jh(jh({},l),Fie(e)));else if(Te(e))u=e(l);else if(pie(e)&&!bie(e)){var d=i(e,l);u=F.createElement(iA,{shapeType:r,elementProps:d})}else{var f=l;u=F.createElement(iA,{shapeType:r,elementProps:f})}return o?F.createElement(it,{className:s},u):u}function dm(t,e){return e!=null&&"trapezoids"in t.props}function fm(t,e){return e!=null&&"sectors"in t.props}function vu(t,e){return e!=null&&"points"in t.props}function Uie(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Hie(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function zie(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Wie(t,e){var r;return dm(t,e)?r=Uie:fm(t,e)?r=Hie:vu(t,e)&&(r=zie),r}function Vie(t,e){var r;return dm(t,e)?r="trapezoids":fm(t,e)?r="sectors":vu(t,e)&&(r="points"),r}function Gie(t,e){if(dm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(fm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vu(t,e)?e.payload:{}}function qie(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Vie(r,e),a=Gie(r,e),s=n.filter(function(l,u){var d=Oo(a,l),f=r.props[i].filter(function(m){var g=Wie(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var Yie=Math.ceil,Kie=Math.max;function Xie(t,e,r,n){for(var i=-1,a=Kie(Yie((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var Qie=Xie,Zie=TD,aA=1/0,Jie=17976931348623157e292;function eae(t){if(!t)return t===0?t:0;if(t=Zie(t),t===aA||t===-aA){var e=t<0?-1:1;return e*Jie}return t===t?t:0}var XP=eae,tae=Qie,rae=Jp,Rg=XP;function nae(t){return function(e,r,n){return n&&typeof n!="number"&&rae(e,r,n)&&(r=n=void 0),e=Rg(e),r===void 0?(r=e,e=0):r=Rg(r),n=n===void 0?e<r?1:-1:Rg(n),tae(e,r,n,t)}}var iae=nae,aae=iae,sae=aae(),oae=sae;const Ah=Qe(oae);function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){QP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QP(t,e,r){return e=lae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lae(t){var e=cae(t,"string");return yu(e)=="symbol"?e:e+""}function cae(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uae=["Webkit","Moz","O","ms"],dae=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=uae.reduce(function(a,s){return oA(oA({},a),{},QP({},s+n,r))},{});return i[e]=r,i};function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Th.apply(this,arguments)}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ig(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){Ar(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JP(n.key),n)}}function hae(t,e,r){return e&&cA(t.prototype,e),r&&cA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pae(t,e,r){return e=Nh(e),mae(t,ZP()?Reflect.construct(e,r||[],Nh(t).constructor):e.apply(t,r))}function mae(t,e){if(e&&(Mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gae(t)}function gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nh(t)}function vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(t,e)}function Ar(t,e,r){return e=JP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JP(t){var e=yae(t,"string");return Mo(e)=="symbol"?e:e+""}function yae(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=mc().domain(Ah(0,l)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},uA=function(e){return e.changedTouches&&!!e.changedTouches.length},Ro=function(t){function e(r){var n;return fae(this,e),n=pae(this,e,[r]),Ar(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ar(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ar(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Ar(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ar(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ar(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ar(n,"handleSlideDragStart",function(i){var a=uA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vae(e,t),hae(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=dr(a[n],o,n);return Te(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=uA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[s]=u+y;var b=this.getIndex(x),_=b.startIndex,w=b.endIndex,S=function(){var E=v.length-1;return s==="startX"&&(o>l?_%g===0:w%g===0)||o<l&&w===E||s==="endX"&&(o>l?w%g===0:_%g===0)||o>l&&w===E};this.setState(Ar(Ar({},s,u+y),"brushMoveStartX",n.pageX),function(){m&&S()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Ar({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=C.Children.only(u);return f?F.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=Ig(Ig({},Ce(this.props,!1)),{},{x,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return F.createElement(it,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return F.createElement(it,{className:"recharts-brush-texts"},F.createElement(rh,Th({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),F.createElement(rh,Th({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!ie(o)||!ie(l)||!ie(u)||!ie(d)||u<=0||d<=0)return null;var b=Ie("recharts-brush",a),_=F.Children.count(s)===1,w=dae("userSelect","none");return F.createElement(it,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return F.isValidElement(n)?a=F.cloneElement(n,i):Te(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Ig({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?xae({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(C.PureComponent);Ar(Ro,"displayName","Brush");Ar(Ro,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bae=Ib;function wae(t,e){var r;return bae(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Sae=wae,_ae=eD,Eae=va,jae=Sae,Aae=Er,Tae=Jp;function Nae(t,e,r){var n=Aae(t)?_ae:jae;return r&&Tae(t,e,r)&&(e=void 0),n(t,Eae(e))}var Cae=Nae;const kae=Qe(Cae);var Mn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},dA=SD;function Oae(t,e,r){e=="__proto__"&&dA?dA(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Dae=Oae,Pae=Dae,Mae=bD,Rae=va;function Iae(t,e){var r={};return e=Rae(e),Mae(t,function(n,i,a){Pae(r,i,e(n,i,a))}),r}var $ae=Iae;const Lae=Qe($ae);function Fae(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Bae=Fae,Uae=Ib;function Hae(t,e){var r=!0;return Uae(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var zae=Hae,Wae=Bae,Vae=zae,Gae=va,qae=Er,Yae=Jp;function Kae(t,e,r){var n=qae(t)?Wae:Vae;return r&&Yae(t,e,r)&&(e=void 0),n(t,Gae(e))}var Xae=Kae;const e2=Qe(Xae);var Qae=["x","y"];function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_0.apply(this,arguments)}function fA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(r),!0).forEach(function(n){Zae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zae(t,e,r){return e=Jae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jae(t){var e=ese(t,"string");return xu(e)=="symbol"?e:e+""}function ese(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tse(t,e){if(t==null)return{};var r=rse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nse(t,e){var r=t.x,n=t.y,i=tse(t,Qae),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Hl(Hl(Hl(Hl(Hl({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function hA(t){return F.createElement(Bie,_0({shapeType:"rectangle",propTransformer:nse,activeClassName:"recharts-active-bar"},t))}var ise=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ie(n)||A5(n);return a?e(n,i):(a||os(!1),r)}},ase=["value","background"],t2;function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function sse(t,e){if(t==null)return{};var r=ose(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ose(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ch.apply(this,arguments)}function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(r),!0).forEach(function(n){Fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n2(n.key),n)}}function cse(t,e,r){return e&&mA(t.prototype,e),r&&mA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function use(t,e,r){return e=kh(e),dse(t,r2()?Reflect.construct(e,r||[],kh(t).constructor):e.apply(t,r))}function dse(t,e){if(e&&(Io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fse(t)}function fse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r2=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(t)}function hse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E0(t,e)}function E0(t,e){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E0(t,e)}function Fi(t,e,r){return e=n2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n2(t){var e=pse(t,"string");return Io(e)=="symbol"?e:e+""}function pse(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ss=function(t){function e(){var r;lse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=use(this,e,[].concat(i)),Fi(r,"state",{isAnimationFinished:!1}),Fi(r,"id",dl("recharts-bar-")),Fi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Fi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return hse(e,t),cse(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=Ce(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:s,g=jt(jt(jt({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(it,Ch({className:"recharts-bar-rectangle"},Hf(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(hA,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return F.createElement(ls,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,x){var y=h&&h[x];if(y){var b=Wt(y.x,v.x),_=Wt(y.y,v.y),w=Wt(y.width,v.width),S=Wt(y.height,v.height);return jt(jt({},v),{},{x:b(m),y:_(m),width:w(m),height:S(m)})}if(s==="horizontal"){var j=Wt(0,v.height),E=j(m);return jt(jt({},v),{},{y:v.y+v.height-E,height:E})}var A=Wt(0,v.width),k=A(m);return jt(jt({},v),{},{width:k})});return F.createElement(it,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Oo(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Ce(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=sse(u,ase);if(!f)return null;var p=jt(jt(jt(jt(jt({},h),{},{fill:"#eee"},f),l),Hf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(hA,Ch({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Xr(d,Uu);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:dr(v,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(it,m,f.map(function(g){return F.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Ie("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,_=y||b,w=Oe(g)?this.id:g;return F.createElement(it,{className:x},y||b?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(w)},F.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,F.createElement(it,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||v)&&ii.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(C.PureComponent);t2=Ss;Fi(Ss,"displayName","Bar");Fi(Ss,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Dn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fi(Ss,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Vee(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?jt(jt({},g),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,_=m==="horizontal"?s:a,w=u?_.scale.domain():null,S=Jee({numericAxis:_}),j=Xr(y,CD),E=f.map(function(A,k){var D,P,O,z,W,G;u?D=Gee(u[d+k],w):(D=dr(A,x),Array.isArray(D)||(D=[S,D]));var M=ise(b,t2.defaultProps.minPointSize)(D[1],k);if(m==="horizontal"){var I,B=[s.scale(D[0]),s.scale(D[1])],U=B[0],H=B[1];P=hj({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:A,index:k}),O=(I=H??U)!==null&&I!==void 0?I:void 0,z=p.size;var V=U-H;if(W=Number.isNaN(V)?0:V,G={x:P,y:s.y,width:z,height:s.height},Math.abs(M)>0&&Math.abs(W)<Math.abs(M)){var q=pn(W||M)*(Math.abs(M)-Math.abs(W));O-=q,W+=q}}else{var re=[a.scale(D[0]),a.scale(D[1])],ae=re[0],de=re[1];if(P=ae,O=hj({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:A,index:k}),z=de-ae,W=p.size,G={x:a.x,y:O,width:a.width,height:W},Math.abs(M)>0&&Math.abs(z)<Math.abs(M)){var _e=pn(z||M)*(Math.abs(M)-Math.abs(z));z+=_e}}return jt(jt(jt({},A),{},{x:P,y:O,width:z,height:W,value:u?D:D[1],payload:A,background:G},j&&j[k]&&j[k].props),{},{tooltipPayload:[RP(r,A)],tooltipPosition:{x:P+z/2,y:O+W/2}})});return jt({data:E,layout:m},h)});function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function mse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i2(n.key),n)}}function gse(t,e,r){return e&&gA(t.prototype,e),r&&gA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(r),!0).forEach(function(n){hm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hm(t,e,r){return e=i2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i2(t){var e=vse(t,"string");return bu(e)=="symbol"?e:e+""}function vse(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dw=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Nr(u,Ss);return d.reduce(function(p,m){var g=r[m],v=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,_=g.mirror,w=g.reversed,S="".concat(v).concat(_?"Mirror":""),j,E,A,k,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=x[1]-x[0],O=1/0,z=g.categoricalDomain.sort(C5);if(z.forEach(function(re,ae){ae>0&&(O=Math.min((re||0)-(z[ae-1]||0),O))}),Number.isFinite(O)){var W=O/P,G=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(j=W*G/2),g.padding==="no-gap"){var M=as(e.barCategoryGap,W*G),I=W*G/2;j=I-M-(I-M)/G*M}}}i==="xAxis"?E=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:E=g.range,w&&(E=[E[1],E[0]]);var B=zee(g,a,h),U=B.scale,H=B.realScaleType;U.domain(x).range(E),Wee(U);var V=Zee(U,un(un({},g),{},{realScaleType:H}));i==="xAxis"?(D=v==="top"&&!_||v==="bottom"&&_,A=n.left,k=f[S]-D*g.height):i==="yAxis"&&(D=v==="left"&&!_||v==="right"&&_,A=f[S]-D*g.width,k=n.top);var q=un(un(un({},g),V),{},{realScaleType:H,x:A,y:k,scale:U,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return q.bandSize=vh(q,V),!g.hide&&i==="xAxis"?f[S]+=(D?-1:1)*q.height:g.hide||(f[S]+=(D?-1:1)*q.width),un(un({},p),{},hm({},m,q))},{})},a2=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},yse=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return a2({x:r,y:n},{x:i,y:a})},s2=function(){function t(e){mse(this,t),this.scale=e}return gse(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();hm(s2,"EPS",1e-4);var fw=function(e){var r=Object.keys(e).reduce(function(n,i){return un(un({},n),{},hm({},i,s2.create(e[i])))},{});return un(un({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Lae(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return e2(i,function(a,s){return r[s].isInRange(a)})}})};function xse(t){return(t%180+180)%180}var bse=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xse(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},wse=va,Sse=Iu,_se=Qp;function Ese(t){return function(e,r,n){var i=Object(e);if(!Sse(e)){var a=wse(r);e=_se(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var jse=Ese,Ase=XP;function Tse(t){var e=Ase(t),r=e%1;return e===e?r?e-r:e:0}var Nse=Tse,Cse=pD,kse=va,Ose=Nse,Dse=Math.max;function Pse(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Ose(r);return i<0&&(i=Dse(n+i,0)),Cse(t,kse(e),i)}var Mse=Pse,Rse=jse,Ise=Mse,$se=Rse(Ise),Lse=$se;const Fse=Qe(Lse);var Bse=kH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),hw=C.createContext(void 0),pw=C.createContext(void 0),o2=C.createContext(void 0),l2=C.createContext({}),c2=C.createContext(void 0),u2=C.createContext(0),d2=C.createContext(0),yA=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=Bse(a);return F.createElement(hw.Provider,{value:n},F.createElement(pw.Provider,{value:i},F.createElement(l2.Provider,{value:a},F.createElement(o2.Provider,{value:d},F.createElement(c2.Provider,{value:s},F.createElement(u2.Provider,{value:u},F.createElement(d2.Provider,{value:l},o)))))))},Use=function(){return C.useContext(c2)},f2=function(e){var r=C.useContext(hw);r==null&&os(!1);var n=r[e];return n==null&&os(!1),n},Hse=function(){var e=C.useContext(hw);return Mi(e)},zse=function(){var e=C.useContext(pw),r=Fse(e,function(n){return e2(n.domain,Number.isFinite)});return r||Mi(e)},h2=function(e){var r=C.useContext(pw);r==null&&os(!1);var n=r[e];return n==null&&os(!1),n},Wse=function(){var e=C.useContext(o2);return e},Vse=function(){return C.useContext(l2)},mw=function(){return C.useContext(d2)},gw=function(){return C.useContext(u2)};function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function Gse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m2(n.key),n)}}function qse(t,e,r){return e&&xA(t.prototype,e),r&&xA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yse(t,e,r){return e=Oh(e),Kse(t,p2()?Reflect.construct(e,r||[],Oh(t).constructor):e.apply(t,r))}function Kse(t,e){if(e&&($o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xse(t)}function Xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(t)}function Qse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j0(t,e)}function j0(t,e){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j0(t,e)}function bA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bA(Object(r),!0).forEach(function(n){vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vw(t,e,r){return e=m2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m2(t){var e=Zse(t,"string");return $o(e)=="symbol"?e:e+""}function Zse(t,e){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jse(t,e){return noe(t)||roe(t,e)||toe(t,e)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return SA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SA(t,e)}}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function roe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function noe(t){if(Array.isArray(t))return t}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A0.apply(this,arguments)}var ioe=function(e,r){var n;return F.isValidElement(e)?n=F.cloneElement(e,r):Te(e)?n=e(r):n=F.createElement("line",A0({},r,{className:"recharts-reference-line-line"})),n},aoe=function(e,r,n,i,a,s,o,l,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=u.y,g=e.y.apply(m,{position:s});if(Mn(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:s});if(Mn(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?b.reverse():b}if(i){var _=u.segment,w=_.map(function(S){return e.apply(S,{position:s})});return Mn(u,"discard")&&kae(w,function(S){return!e.isInRange(S)})?null:w}return null};function soe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=Use(),d=f2(i),f=h2(a),h=Wse();if(!u||!h)return null;ri(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fw({x:d.scale,y:f.scale}),m=Pt(e),g=Pt(r),v=n&&n.length===2,x=aoe(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=Jse(x,2),b=y[0],_=b.x,w=b.y,S=y[1],j=S.x,E=S.y,A=Mn(t,"hidden")?"url(#".concat(u,")"):void 0,k=wA(wA({clipPath:A},Ce(t,!0)),{},{x1:_,y1:w,x2:j,y2:E});return F.createElement(it,{className:Ie("recharts-reference-line",o)},ioe(s,k),tr.renderCallByParent(t,yse({x1:_,y1:w,x2:j,y2:E})))}var yw=function(t){function e(){return Gse(this,e),Yse(this,e,arguments)}return Qse(e,t),qse(e,[{key:"render",value:function(){return F.createElement(soe,this.props)}}])}(F.Component);vw(yw,"displayName","ReferenceLine");vw(yw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(r),!0).forEach(function(n){pm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ooe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v2(n.key),n)}}function loe(t,e,r){return e&&jA(t.prototype,e),r&&jA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function coe(t,e,r){return e=Dh(e),uoe(t,g2()?Reflect.construct(e,r||[],Dh(t).constructor):e.apply(t,r))}function uoe(t,e){if(e&&(Lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(t)}function doe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}function foe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N0(t,e)}function pm(t,e,r){return e=v2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v2(t){var e=hoe(t,"string");return Lo(e)=="symbol"?e:e+""}function hoe(t,e){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var poe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=fw({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Mn(e,"discard")&&!s.isInRange(o)?null:o},mm=function(t){function e(){return ooe(this,e),coe(this,e,arguments)}return foe(e,t),loe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Pt(i),d=Pt(a);if(ri(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=poe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=Mn(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=EA(EA({clipPath:x},Ce(this.props,!0)),{},{cx:h,cy:p});return F.createElement(it,{className:Ie("recharts-reference-dot",v)},e.renderDot(g,y),tr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(F.Component);pm(mm,"displayName","ReferenceDot");pm(mm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});pm(mm,"renderDot",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Te(t)?r=t(e):r=F.createElement(um,T0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function AA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AA(Object(r),!0).forEach(function(n){gm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x2(n.key),n)}}function goe(t,e,r){return e&&NA(t.prototype,e),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function voe(t,e,r){return e=Ph(e),yoe(t,y2()?Reflect.construct(e,r||[],Ph(t).constructor):e.apply(t,r))}function yoe(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xoe(t)}function xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(t)}function boe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k0(t,e)}function k0(t,e){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k0(t,e)}function gm(t,e,r){return e=x2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x2(t){var e=woe(t,"string");return Fo(e)=="symbol"?e:e+""}function woe(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Soe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=fw({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Mn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:a2(p,m)},vm=function(t){function e(){return moe(this,e),voe(this,e,arguments)}return boe(e,t),goe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ri(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pt(i),h=Pt(a),p=Pt(s),m=Pt(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=Soe(f,h,p,m,this.props);if(!v&&!g)return null;var x=Mn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(it,{className:Ie("recharts-reference-area",l)},e.renderRect(g,TA(TA({clipPath:x},Ce(this.props,!0)),v)),tr.renderCallByParent(this.props,v))}}])}(F.Component);gm(vm,"displayName","ReferenceArea");gm(vm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gm(vm,"renderRect",function(t,e){var r;return F.isValidElement(t)?r=F.cloneElement(t,e):Te(t)?r=t(e):r=F.createElement(uw,C0({},e,{className:"recharts-reference-area-rect"})),r});function b2(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function _oe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return bse(n,r)}function Eoe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Mh(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function joe(t,e){return b2(t,e+1)}function Aoe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:b2(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(m,g)),v},y=m.coordinate,b=l===0||Mh(t,y,x,d,o);b||(l=0,d=s,u+=1),b&&(d=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function CA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(r),!0).forEach(function(n){Toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Toe(t,e,r){return e=Noe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Noe(t){var e=Coe(t,"string");return wu(e)=="symbol"?e:e+""}function Coe(t,e){if(wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function koe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Jt(Jt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Jt(Jt({},p),{},{tickCoord:p.coordinate});var x=Mh(t,p.tickCoord,g,o,l);x&&(l=p.tickCoord-t*(g()/2+i),a[h]=Jt(Jt({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function Ooe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=Jt(Jt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Mh(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),s[o-1]=Jt(Jt({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(y){var b=s[y],_,w=function(){return _===void 0&&(_=r(b,y)),_};if(y===0){var S=t*(b.coordinate-t*w()/2-l);s[y]=b=Jt(Jt({},b),{},{tickCoord:S<0?b.coordinate-S*t:b.coordinate})}else s[y]=b=Jt(Jt({},b),{},{tickCoord:b.coordinate});var j=Mh(t,b.tickCoord,w,l,u);j&&(l=b.tickCoord+t*(w()/2+i),s[y]=Jt(Jt({},b),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function xw(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ie(l)||Dn.isSsr)return joe(i,typeof l=="number"&&ie(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?pc(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,_){var w=Te(u)?u(b.value,_):b.value;return p==="width"?_oe(pc(w,{fontSize:e,letterSpacing:r}),m,f):pc(w,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?pn(i[1].coordinate-i[0].coordinate):1,x=Eoe(a,v,p);return l==="equidistantPreserveStart"?Aoe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Ooe(v,x,g,i,s,l==="preserveStartEnd"):h=koe(v,x,g,i,s),h.filter(function(y){return y.isShow}))}var Doe=["viewBox"],Poe=["viewBox"],Moe=["ticks"];function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(t)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zs.apply(this,arguments)}function kA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $g(t,e){if(t==null)return{};var r=Roe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Roe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S2(n.key),n)}}function $oe(t,e,r){return e&&OA(t.prototype,e),r&&OA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Loe(t,e,r){return e=Rh(e),Foe(t,w2()?Reflect.construct(e,r||[],Rh(t).constructor):e.apply(t,r))}function Foe(t,e){if(e&&(Bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Boe(t)}function Boe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w2=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rh(t)}function Uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O0(t,e)}function bw(t,e,r){return e=S2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S2(t){var e=Hoe(t,"string");return Bo(e)=="symbol"?e:e+""}function Hoe(t,e){if(Bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yl=function(t){function e(r){var n;return Ioe(this,e),n=Loe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Uoe(e,t),$oe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=$g(n,Doe),o=this.props,l=o.viewBox,u=$g(o,Poe);return!oo(a,l)||!oo(s,u)||!oo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,x,y,b=f?-1:1,_=n.tickSize||d,w=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=s+ +!f*l,g=v-b*_,y=g-b*h,x=w;break;case"left":g=v=n.coordinate,m=a+ +!f*o,p=m-b*_,x=p-b*h,y=w;break;case"right":g=v=n.coordinate,m=a+ +f*o,p=m+b*_,x=p+b*h,y=w;break;default:p=m=n.coordinate,v=s+ +f*l,g=v+b*_,y=g+b*h,x=w;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Ct(Ct(Ct({},Ce(this.props,!1)),Ce(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Ct(Ct({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Ct(Ct({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return F.createElement("line",Zs({},f,{className:Ie("recharts-cartesian-axis-line",Kr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=xw(Ct(Ct({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ce(this.props,!1),x=Ce(d,!1),y=Ct(Ct({},v),{},{fill:"none"},Ce(l,!1)),b=p.map(function(_,w){var S=s.getTickLineCoord(_),j=S.line,E=S.tick,A=Ct(Ct(Ct(Ct({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),E),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(it,Zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Hf(s.props,_,w)),l&&F.createElement("line",Zs({},y,j,{className:Ie("recharts-cartesian-axis-tick-line",Kr(l,"className"))})),d&&e.renderTickItem(d,A,"".concat(Te(f)?f(_.value,w):_.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=$g(f,Moe),m=h;return Te(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:F.createElement(it,{className:Ie("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=Ie(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(n)?s=F.cloneElement(n,Ct(Ct({},i),{},{className:o})):Te(n)?s=n(Ct(Ct({},i),{},{className:o})):s=F.createElement(rh,Zs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(C.Component);bw(yl,"displayName","CartesianAxis");bw(yl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zoe=["x1","y1","x2","y2","key"],Woe=["offset"];function cs(t){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(t)}function DA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(r),!0).forEach(function(n){Voe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Voe(t,e,r){return e=Goe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Goe(t){var e=qoe(t,"string");return cs(e)=="symbol"?e:e+""}function qoe(t,e){if(cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wa.apply(this,arguments)}function PA(t,e){if(t==null)return{};var r=Yoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Koe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return F.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _2(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Te(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=PA(e,zoe),u=Ce(l,!1);u.offset;var d=PA(u,Woe);r=F.createElement("line",Wa({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Xoe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=rr(rr({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return _2(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Qoe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=rr(rr({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return _2(i,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Zoe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Joe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ele=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return PP(xw(rr(rr(rr({},yl.defaultProps),n),{},{ticks:Zn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},tle=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return PP(xw(rr(rr(rr({},yl.defaultProps),n),{},{ticks:Zn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Ms={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ih(t){var e,r,n,i,a,s,o=mw(),l=gw(),u=Vse(),d=rr(rr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ms.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ms.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ms.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ms.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ms.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ms.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Hse(),b=zse();if(!ie(p)||p<=0||!ie(m)||m<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||ele,w=d.horizontalCoordinatesGenerator||tle,S=d.horizontalPoints,j=d.verticalPoints;if((!S||!S.length)&&Te(w)){var E=v&&v.length,A=w({yAxis:b?rr(rr({},b),{},{ticks:E?v:b.ticks}):void 0,width:o,height:l,offset:u},E?!0:g);ri(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cs(A),"]")),Array.isArray(A)&&(S=A)}if((!j||!j.length)&&Te(_)){var k=x&&x.length,D=_({xAxis:y?rr(rr({},y),{},{ticks:k?x:y.ticks}):void 0,width:o,height:l,offset:u},k?!0:g);ri(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cs(D),"]")),Array.isArray(D)&&(j=D)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(Koe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(Xoe,Wa({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:b})),F.createElement(Qoe,Wa({},d,{offset:u,verticalPoints:j,xAxis:y,yAxis:b})),F.createElement(Zoe,Wa({},d,{horizontalPoints:S})),F.createElement(Joe,Wa({},d,{verticalPoints:j})))}Ih.displayName="CartesianGrid";var rle=["type","layout","connectNulls","ref"],nle=["key"];function Uo(t){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(t)}function MA(t,e){if(t==null)return{};var r=ile(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ile(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yc.apply(this,arguments)}function RA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(r),!0).forEach(function(n){dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rs(t){return lle(t)||ole(t)||sle(t)||ale()}function ale(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sle(t,e){if(t){if(typeof t=="string")return D0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D0(t,e)}}function ole(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lle(t){if(Array.isArray(t))return D0(t)}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j2(n.key),n)}}function ule(t,e,r){return e&&IA(t.prototype,e),r&&IA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dle(t,e,r){return e=$h(e),fle(t,E2()?Reflect.construct(e,r||[],$h(t).constructor):e.apply(t,r))}function fle(t,e){if(e&&(Uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hle(t)}function hle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E2=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(t)}function ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P0(t,e)}function P0(t,e){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P0(t,e)}function dn(t,e,r){return e=j2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j2(t){var e=mle(t,"string");return Uo(e)=="symbol"?e:e+""}function mle(t,e){if(Uo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hu=function(t){function e(){var r;cle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=dle(this,e,[].concat(i)),dn(r,"state",{isAnimationFinished:!0,totalLength:0}),dn(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),dn(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Rs(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Rs(e.repeat(l,d)),Rs(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),dn(r,"id",dl("recharts-line-")),dn(r,"pathRef",function(s){r.mainCurve=s}),dn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),dn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ple(e,t),ule(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Xr(d,Uu);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:dr(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return F.createElement(it,p,f.map(function(m){return F.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,f=Ce(this.props,!1),h=Ce(l,!0),p=u.map(function(g,v){var x=jr(jr(jr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(it,yc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=MA(o,rle),h=jr(jr(jr({},Ce(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:d});return F.createElement(uo,yc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,x=this.state,y=x.prevPoints,b=x.totalLength;return F.createElement(ls,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(y){var S=y.length/o.length,j=o.map(function(P,O){var z=Math.floor(O*S);if(y[z]){var W=y[z],G=Wt(W.x,P.x),M=Wt(W.y,P.y);return jr(jr({},P),{},{x:G(w),y:M(w)})}if(m){var I=Wt(g*2,P.x),B=Wt(v/2,P.y);return jr(jr({},P),{},{x:I(w),y:B(w)})}return jr(jr({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(j,n,i)}var E=Wt(0,b),A=E(w),k;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});k=a.getStrokeDasharray(A,b,D)}else k=a.generateSimpleStrokeDasharray(b,A);return a.renderCurveStatically(o,n,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!Oo(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=Ie("recharts-line",l),_=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=_||w,j=Oe(v)?this.id:v,E=(n=Ce(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,P=D===void 0?2:D,O=jO(s)?s:{},z=O.clipDot,W=z===void 0?!0:z,G=k*2+P;return F.createElement(it,{className:b},_||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(j)},F.createElement("rect",{x:_?h:h-p/2,y:w?f:f-m/2,width:_?p:p*2,height:w?m:m*2})),!W&&F.createElement("clipPath",{id:"clipPath-dots-".concat(j)},F.createElement("rect",{x:h-G/2,y:f-G/2,width:p+G,height:m+G}))):null,!y&&this.renderCurve(S,j),this.renderErrorBar(S,j),(y||s)&&this.renderDots(S,W,j),(!g||x)&&ii.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Rs(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Rs(s),Rs(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(F.isValidElement(n))a=F.cloneElement(n,i);else if(Te(n))a=n(i);else{var s=i.key,o=MA(i,nle),l=Ie("recharts-line-dot",typeof n!="boolean"?n.className:"");a=F.createElement(um,yc({key:s},o,{className:l}))}return a}}])}(C.PureComponent);dn(Hu,"displayName","Line");dn(Hu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Dn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dn(Hu,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var m=dr(h,s);return d==="horizontal"?{x:gh({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:Oe(m)?null:n.scale(m),value:m,payload:h}:{x:Oe(m)?null:r.scale(m),y:gh({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return jr({points:f,layout:d},u)});var gle=["layout","type","stroke","connectNulls","isRange","ref"],vle=["key"],A2;function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function T2(t,e){if(t==null)return{};var r=yle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Va.apply(this,arguments)}function $A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(r),!0).forEach(function(n){Nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C2(n.key),n)}}function ble(t,e,r){return e&&LA(t.prototype,e),r&&LA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wle(t,e,r){return e=Lh(e),Sle(t,N2()?Reflect.construct(e,r||[],Lh(t).constructor):e.apply(t,r))}function Sle(t,e){if(e&&(Ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _le(t)}function _le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N2=function(){return!!t})()}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lh(t)}function Ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(t,e)}function Nn(t,e,r){return e=C2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C2(t){var e=jle(t,"string");return Ho(e)=="symbol"?e:e+""}function jle(t,e){if(Ho(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wa=function(t){function e(){var r;xle(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=wle(this,e,[].concat(i)),Nn(r,"state",{isAnimationFinished:!0}),Nn(r,"id",dl("recharts-area-")),Nn(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Te(s)&&s()}),Nn(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Te(s)&&s()}),r}return Ele(e,t),ble(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Ce(this.props,!1),p=Ce(u,!0),m=d.map(function(v,x){var y=ji(ji(ji({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return F.createElement(it,Va({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,d=n*Math.abs(l-u),f=Li(s.map(function(h){return h.y||0}));return ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Li(a.map(function(h){return h.y||0})),f)),ie(f)?F.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,d=n*Math.abs(l-u),f=Li(s.map(function(h){return h.x||0}));return ie(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Li(a.map(function(h){return h.x||0})),f)),ie(f)?F.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,l=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=T2(o,gle);return F.createElement(it,{clipPath:a?"url(#clipPath-".concat(s,")"):null},F.createElement(uo,Va({},Ce(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&F.createElement(uo,Va({},Ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&F.createElement(uo,Va({},Ce(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return F.createElement(ls,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(g){var b=g.length/o.length,_=o.map(function(E,A){var k=Math.floor(A*b);if(g[k]){var D=g[k],P=Wt(D.x,E.x),O=Wt(D.y,E.y);return ji(ji({},E),{},{x:P(y),y:O(y)})}return E}),w;if(ie(l)&&typeof l=="number"){var S=Wt(v,l);w=S(y)}else if(Oe(l)||ul(l)){var j=Wt(v,0);w=j(y)}else w=l.map(function(E,A){var k=Math.floor(A*b);if(v[k]){var D=v[k],P=Wt(D.x,E.x),O=Wt(D.y,E.y);return ji(ji({},E),{},{x:P(y),y:O(y)})}return E});return a.renderAreaStatically(_,w,n,i)}return F.createElement(it,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),F.createElement(it,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,l=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!d&&h>0||!Oo(d,s)||!Oo(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=Ie("recharts-area",l),_=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=_||w,j=Oe(v)?this.id:v,E=(n=Ce(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,k=A===void 0?3:A,D=E.strokeWidth,P=D===void 0?2:D,O=jO(s)?s:{},z=O.clipDot,W=z===void 0?!0:z,G=k*2+P;return F.createElement(it,{className:b},_||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(j)},F.createElement("rect",{x:_?d:d-p/2,y:w?u:u-m/2,width:_?p:p*2,height:w?m:m*2})),!W&&F.createElement("clipPath",{id:"clipPath-dots-".concat(j)},F.createElement("rect",{x:d-G/2,y:u-G/2,width:p+G,height:m+G}))):null,y?null:this.renderArea(S,j),(s||y)&&this.renderDots(S,W,j),(!g||x)&&ii.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(C.PureComponent);A2=wa;Nn(wa,"displayName","Area");Nn(wa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Dn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Nn(wa,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(ie(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Nn(wa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=u&&u.length,g=A2.getBaseValue(e,r,n,i),v=p==="horizontal",x=!1,y=f.map(function(_,w){var S;m?S=u[d+w]:(S=dr(_,l),Array.isArray(S)?x=!0:S=[g,S]);var j=S[1]==null||m&&dr(_,l)==null;return v?{x:gh({axis:n,ticks:a,bandSize:o,entry:_,index:w}),y:j?null:i.scale(S[1]),value:S,payload:_}:{x:j?null:n.scale(S[1]),y:gh({axis:i,ticks:s,bandSize:o,entry:_,index:w}),value:S,payload:_}}),b;return m||x?b=y.map(function(_){var w=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:w!=null&&_.y!=null?i.scale(w):null}:{x:w!=null?n.scale(w):null,y:_.y}}):b=v?i.scale(g):n.scale(g),ji({points:y,baseLine:b,layout:p,isRange:x},h)});Nn(wa,"renderDotItem",function(t,e){var r;if(F.isValidElement(t))r=F.cloneElement(t,e);else if(Te(t))r=t(e);else{var n=Ie("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=T2(e,vle);r=F.createElement(um,Va({},a,{key:i,className:n}))}return r});function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}function Ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D2(n.key),n)}}function Tle(t,e,r){return e&&FA(t.prototype,e),r&&FA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nle(t,e,r){return e=Fh(e),Cle(t,k2()?Reflect.construct(e,r||[],Fh(t).constructor):e.apply(t,r))}function Cle(t,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kle(t)}function kle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k2=function(){return!!t})()}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fh(t)}function Ole(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R0(t,e)}function O2(t,e,r){return e=D2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D2(t){var e=Dle(t,"string");return zo(e)=="symbol"?e:e+""}function Dle(t,e){if(zo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function Ple(t){var e=t.xAxisId,r=mw(),n=gw(),i=f2(e);return i==null?null:C.createElement(yl,I0({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Zn(s,!0)}}))}var na=function(t){function e(){return Ale(this,e),Nle(this,e,arguments)}return Ole(e,t),Tle(e,[{key:"render",value:function(){return C.createElement(Ple,this.props)}}])}(C.Component);O2(na,"displayName","XAxis");O2(na,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function Mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R2(n.key),n)}}function Rle(t,e,r){return e&&BA(t.prototype,e),r&&BA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ile(t,e,r){return e=Bh(e),$le(t,P2()?Reflect.construct(e,r||[],Bh(t).constructor):e.apply(t,r))}function $le(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lle(t)}function Lle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P2=function(){return!!t})()}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bh(t)}function Fle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(t,e)}function M2(t,e,r){return e=R2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R2(t){var e=Ble(t,"string");return Wo(e)=="symbol"?e:e+""}function Ble(t,e){if(Wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}var Ule=function(e){var r=e.yAxisId,n=mw(),i=gw(),a=h2(r);return a==null?null:C.createElement(yl,L0({},a,{className:Ie("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Zn(o,!0)}}))},ia=function(t){function e(){return Mle(this,e),Ile(this,e,arguments)}return Fle(e,t),Rle(e,[{key:"render",value:function(){return C.createElement(Ule,this.props)}}])}(C.Component);M2(ia,"displayName","YAxis");M2(ia,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UA(t){return Vle(t)||Wle(t)||zle(t)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zle(t,e){if(t){if(typeof t=="string")return F0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F0(t,e)}}function Wle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vle(t){if(Array.isArray(t))return F0(t)}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var B0=function(e,r,n,i,a){var s=Xr(e,yw),o=Xr(e,mm),l=[].concat(UA(s),UA(o)),u=Xr(e,vm),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Mn(v.props,"extendDomain")&&ie(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&Mn(v.props,"extendDomain")&&ie(v.props[p])&&ie(v.props[m])){var x=v.props[p],y=v.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return ie(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},I2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var _=v.length,w;for(b=0;b<_;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(I2);var Gle=I2.exports;const qle=Qe(Gle);var Lg=new qle,Fg="recharts.syncMouseEvents";function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function Yle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$2(n.key),n)}}function Kle(t,e,r){return e&&HA(t.prototype,e),r&&HA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bg(t,e,r){return e=$2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $2(t){var e=Xle(t,"string");return Su(e)=="symbol"?e:e+""}function Xle(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qle=function(){function t(){Yle(this,t),Bg(this,"activeIndex",0),Bg(this,"coordinateList",[]),Bg(this,"layout","horizontal")}return Kle(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Zle(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ie(n)&&ie(i))return!0}return!1}function Jle(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function L2(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Gt(e,r,n,i),o=Gt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function ece(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Gt(o,l,u,f),p=Gt(o,l,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return L2(e);return[{x:n,y:i},{x:a,y:s}]}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function zA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Od(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(r),!0).forEach(function(n){tce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tce(t,e,r){return e=rce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rce(t){var e=nce(t,"string");return _u(e)=="symbol"?e:e+""}function nce(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ice(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=uo;if(h==="ScatterChart")m=s,g=eie;else if(h==="BarChart")m=Jle(f,s,l,d),g=uw;else if(f==="radial"){var v=L2(s),x=v.cx,y=v.cy,b=v.radius,_=v.startAngle,w=v.endAngle;m={cx:x,cy:y,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},g=LP}else m={points:ece(f,s,l)},g=uo;var S=Od(Od(Od(Od({stroke:"#ccc",pointerEvents:"none"},l),m),Ce(p,!1)),{},{payload:o,payloadIndex:u,className:Ie("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,S):C.createElement(g,S)}var ace=["item"],sce=["children","className","width","height","style","compact","title","desc"];function Vo(t){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(t)}function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Js.apply(this,arguments)}function WA(t,e){return cce(t)||lce(t,e)||B2(t,e)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function cce(t){if(Array.isArray(t))return t}function VA(t,e){if(t==null)return{};var r=uce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U2(n.key),n)}}function fce(t,e,r){return e&&GA(t.prototype,e),r&&GA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,r){return e=Uh(e),pce(t,F2()?Reflect.construct(e,r||[],Uh(t).constructor):e.apply(t,r))}function pce(t,e){if(e&&(Vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F2=function(){return!!t})()}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uh(t)}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(t,e)}function Go(t){return xce(t)||yce(t)||B2(t)||vce()}function vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B2(t,e){if(t){if(typeof t=="string")return H0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H0(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xce(t){if(Array.isArray(t))return H0(t)}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(r),!0).forEach(function(n){Se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Se(t,e,r){return e=U2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U2(t){var e=bce(t,"string");return Vo(e)=="symbol"?e:e+""}function bce(t,e){if(Vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wce={xAxis:["bottom","top"],yAxis:["left","right"]},Sce={width:"100%",height:"100%"},H2={x:0,y:0};function Dd(t){return t}var _ce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ece=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return Z(Z(Z({},i),Gt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return Z(Z(Z({},i),Gt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return H2},ym=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Go(o),Go(u)):o},[]);return s.length>0?s:e&&e.length&&ie(i)&&ie(a)?e.slice(i,a+1):[]};function z2(t){return t==="number"?[0,"auto"]:void 0}var z0=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=ym(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Bf(p,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(Go(l),[RP(u,h)]):l},[])},YA=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=_ce(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=$ee(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=z0(e,r,d,f),p=Ece(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},jce=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=DP(d,a);return n.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?Z(Z({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,_=x.allowDataOverflow,w=x.allowDuplicatedCategory,S=x.scale,j=x.ticks,E=x.includeHidden,A=x[s];if(m[A])return m;var k=ym(e.data,{graphicalItems:i.filter(function(V){var q,re=s in V.props?V.props[s]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[s];return re===A}),dataStartIndex:l,dataEndIndex:u}),D=k.length,P,O,z;Zle(x.domain,_,y)&&(P=s0(x.domain,null,_),p&&(y==="number"||S!=="auto")&&(z=gc(k,b,"category")));var W=z2(y);if(!P||P.length===0){var G,M=(G=x.domain)!==null&&G!==void 0?G:W;if(b){if(P=gc(k,b,y),y==="category"&&p){var I=N5(P);w&&I?(O=P,P=Ah(0,D)):w||(P=gj(M,P,g).reduce(function(V,q){return V.indexOf(q)>=0?V:[].concat(Go(V),[q])},[]))}else if(y==="category")w?P=P.filter(function(V){return V!==""&&!Oe(V)}):P=gj(M,P,g).reduce(function(V,q){return V.indexOf(q)>=0||q===""||Oe(q)?V:[].concat(Go(V),[q])},[]);else if(y==="number"){var B=Hee(k,i.filter(function(V){var q,re,ae=s in V.props?V.props[s]:(q=V.type.defaultProps)===null||q===void 0?void 0:q[s],de="hide"in V.props?V.props.hide:(re=V.type.defaultProps)===null||re===void 0?void 0:re.hide;return ae===A&&(E||!de)}),b,a,d);B&&(P=B)}p&&(y==="number"||S!=="auto")&&(z=gc(k,b,"category"))}else p?P=Ah(0,D):o&&o[A]&&o[A].hasStack&&y==="number"?P=h==="expand"?[0,1]:MP(o[A].stackGroups,l,u):P=OP(k,i.filter(function(V){var q=s in V.props?V.props[s]:V.type.defaultProps[s],re="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return q===A&&(E||!re)}),y,d,!0);if(y==="number")P=B0(f,P,A,a,j),M&&(P=s0(M,P,_));else if(y==="category"&&M){var U=M,H=P.every(function(V){return U.indexOf(V)>=0});H&&(P=U)}}return Z(Z({},m),{},Se({},A,Z(Z({},x),{},{axisType:a,domain:P,categoricalDomain:z,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:d})))},{})},Ace=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=ym(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=DP(d,a),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?Z(Z({},x.type.defaultProps),x.props):x.props,b=y[s],_=z2("number");if(!v[b]){g++;var w;return m?w=Ah(0,p):o&&o[b]&&o[b].hasStack?(w=MP(o[b].stackGroups,l,u),w=B0(f,w,b,a)):(w=s0(_,OP(h,n.filter(function(S){var j,E,A=s in S.props?S.props[s]:(j=S.type.defaultProps)===null||j===void 0?void 0:j[s],k="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===b&&!k}),"number",d),i.defaultProps.allowDataOverflow),w=B0(f,w,b,a)),Z(Z({},v),{},Se({},b,Z(Z({axisType:a},i.defaultProps),{},{hide:!0,orientation:Kr(wce,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:m,layout:d})))}return v},{})},Tce=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Xr(d,a),p={};return h&&h.length?p=jce(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=Ace(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},Nce=function(e){var r=Mi(e),n=Zn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$b(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vh(r,n)}},KA=function(e){var r=e.children,n=e.defaultShowTooltip,i=Nr(r,Ro),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Cce=function(e){return!e||!e.length?!1:e.some(function(r){var n=ti(r&&r.type);return n&&n.indexOf("Bar")>=0})},XA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kce=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Nr(f,Ro),m=Nr(f,Zi),g=Object.keys(l).reduce(function(w,S){var j=l[S],E=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},Se({},E,w[E]+j.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,S){var j=s[S],E=j.orientation;return!j.mirror&&!j.hide?Z(Z({},w),{},Se({},E,Kr(w,"".concat(E))+j.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=Z(Z({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||Ro.defaultProps.height),m&&r&&(x=Bee(x,i,n,r));var b=u-x.left-x.right,_=d-x.top-x.bottom;return Z(Z({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},Oce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},ww=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var b=y.graphicalItems,_=y.stackGroups,w=y.offset,S=y.updateId,j=y.dataStartIndex,E=y.dataEndIndex,A=x.barSize,k=x.layout,D=x.barGap,P=x.barCategoryGap,O=x.maxBarSize,z=XA(k),W=z.numericAxisName,G=z.cateAxisName,M=Cce(b),I=[];return b.forEach(function(B,U){var H=ym(x.data,{graphicalItems:[B],dataStartIndex:j,dataEndIndex:E}),V=B.type.defaultProps!==void 0?Z(Z({},B.type.defaultProps),B.props):B.props,q=V.dataKey,re=V.maxBarSize,ae=V["".concat(W,"Id")],de=V["".concat(G,"Id")],_e={},fe=l.reduce(function(ke,Y){var he=y["".concat(Y.axisType,"Map")],me=V["".concat(Y.axisType,"Id")];he&&he[me]||Y.axisType==="zAxis"||os(!1);var we=he[me];return Z(Z({},ke),{},Se(Se({},Y.axisType,we),"".concat(Y.axisType,"Ticks"),Zn(we)))},_e),Q=fe[G],se=fe["".concat(G,"Ticks")],ne=_&&_[ae]&&_[ae].hasStack&&ete(B,_[ae].stackGroups),T=ti(B.type).indexOf("Bar")>=0,N=vh(Q,se),R=[],L=M&&Lee({barSize:A,stackGroups:_,totalSize:Oce(fe,G)});if(T){var X,ee,ce=Oe(re)?O:re,ue=(X=(ee=vh(Q,se,!0))!==null&&ee!==void 0?ee:ce)!==null&&X!==void 0?X:0;R=Fee({barGap:D,barCategoryGap:P,bandSize:ue!==N?ue:N,sizeList:L[de],maxBarSize:ce}),ue!==N&&(R=R.map(function(ke){return Z(Z({},ke),{},{position:Z(Z({},ke.position),{},{offset:ke.position.offset-ue/2})})}))}var pe=B&&B.type&&B.type.getComposedData;pe&&I.push({props:Z(Z({},pe(Z(Z({},fe),{},{displayedData:H,props:x,dataKey:q,item:B,bandSize:N,barPosition:R,offset:w,stackedData:ne,layout:k,dataStartIndex:j,dataEndIndex:E}))),{},Se(Se(Se({key:B.key||"item-".concat(U)},W,fe[W]),G,fe[G]),"animationId",S)),childIndex:B5(B,x.children),item:B})}),I},p=function(x,y){var b=x.props,_=x.dataStartIndex,w=x.dataEndIndex,S=x.updateId;if(!s1({props:b}))return null;var j=b.children,E=b.layout,A=b.stackOffset,k=b.data,D=b.reverseStackOrder,P=XA(E),O=P.numericAxisName,z=P.cateAxisName,W=Xr(j,n),G=Qee(k,W,"".concat(O,"Id"),"".concat(z,"Id"),A,D),M=l.reduce(function(V,q){var re="".concat(q.axisType,"Map");return Z(Z({},V),{},Se({},re,Tce(b,Z(Z({},q),{},{graphicalItems:W,stackGroups:q.axisType===O&&G,dataStartIndex:_,dataEndIndex:w}))))},{}),I=kce(Z(Z({},M),{},{props:b,graphicalItems:W}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(V){M[V]=d(b,M[V],I,V.replace("Map",""),r)});var B=M["".concat(z,"Map")],U=Nce(B),H=h(b,Z(Z({},M),{},{dataStartIndex:_,dataEndIndex:w,updateId:S,graphicalItems:W,stackGroups:G,offset:I}));return Z(Z({formattedGraphicalItems:H,graphicalItems:W,offset:I,stackGroups:G},U),M)},m=function(v){function x(y){var b,_,w;return dce(this,x),w=hce(this,x,[y]),Se(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(w,"accessibilityManager",new Qle),Se(w,"handleLegendBBoxUpdate",function(S){if(S){var j=w.state,E=j.dataStartIndex,A=j.dataEndIndex,k=j.updateId;w.setState(Z({legendBBox:S},p({props:w.props,dataStartIndex:E,dataEndIndex:A,updateId:k},Z(Z({},w.state),{},{legendBBox:S}))))}}),Se(w,"handleReceiveSyncEvent",function(S,j,E){if(w.props.syncId===S){if(E===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(j)}}),Se(w,"handleBrushChange",function(S){var j=S.startIndex,E=S.endIndex;if(j!==w.state.dataStartIndex||E!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return Z({dataStartIndex:j,dataEndIndex:E},p({props:w.props,dataStartIndex:j,dataEndIndex:E,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),Se(w,"handleMouseEnter",function(S){var j=w.getMouseInfo(S);if(j){var E=Z(Z({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseEnter;Te(A)&&A(E,S)}}),Se(w,"triggeredAfterMouseMove",function(S){var j=w.getMouseInfo(S),E=j?Z(Z({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var A=w.props.onMouseMove;Te(A)&&A(E,S)}),Se(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Se(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Se(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Se(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var E=w.props.onMouseLeave;Te(E)&&E(j,S)}),Se(w,"handleOuterEvent",function(S){var j=F5(S),E=Kr(w.props,"".concat(j));if(j&&Te(E)){var A,k;/.*touch.*/i.test(j)?k=w.getMouseInfo(S.changedTouches[0]):k=w.getMouseInfo(S),E((A=k)!==null&&A!==void 0?A:{},S)}}),Se(w,"handleClick",function(S){var j=w.getMouseInfo(S);if(j){var E=Z(Z({},j),{},{isTooltipActive:!0});w.setState(E),w.triggerSyncEvent(E);var A=w.props.onClick;Te(A)&&A(E,S)}}),Se(w,"handleMouseDown",function(S){var j=w.props.onMouseDown;if(Te(j)){var E=w.getMouseInfo(S);j(E,S)}}),Se(w,"handleMouseUp",function(S){var j=w.props.onMouseUp;if(Te(j)){var E=w.getMouseInfo(S);j(E,S)}}),Se(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Se(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Se(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Se(w,"handleDoubleClick",function(S){var j=w.props.onDoubleClick;if(Te(j)){var E=w.getMouseInfo(S);j(E,S)}}),Se(w,"handleContextMenu",function(S){var j=w.props.onContextMenu;if(Te(j)){var E=w.getMouseInfo(S);j(E,S)}}),Se(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Lg.emit(Fg,w.props.syncId,S,w.eventEmitterSymbol)}),Se(w,"applySyncEvent",function(S){var j=w.props,E=j.layout,A=j.syncMethod,k=w.state.updateId,D=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(Z({dataStartIndex:D,dataEndIndex:P},p({props:w.props,dataStartIndex:D,dataEndIndex:P,updateId:k},w.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,z=S.chartY,W=S.activeTooltipIndex,G=w.state,M=G.offset,I=G.tooltipTicks;if(!M)return;if(typeof A=="function")W=A(I,S);else if(A==="value"){W=-1;for(var B=0;B<I.length;B++)if(I[B].value===S.activeLabel){W=B;break}}var U=Z(Z({},M),{},{x:M.left,y:M.top}),H=Math.min(O,U.x+U.width),V=Math.min(z,U.y+U.height),q=I[W]&&I[W].value,re=z0(w.state,w.props.data,W),ae=I[W]?{x:E==="horizontal"?I[W].coordinate:H,y:E==="horizontal"?V:I[W].coordinate}:H2;w.setState(Z(Z({},S),{},{activeLabel:q,activeCoordinate:ae,activePayload:re,activeTooltipIndex:W}))}else w.setState(S)}),Se(w,"renderCursor",function(S){var j,E=w.state,A=E.isTooltipActive,k=E.activeCoordinate,D=E.activePayload,P=E.offset,O=E.activeTooltipIndex,z=E.tooltipAxisBandSize,W=w.getTooltipEventType(),G=(j=S.props.active)!==null&&j!==void 0?j:A,M=w.props.layout,I=S.key||"_recharts-cursor";return F.createElement(ice,{key:I,activeCoordinate:k,activePayload:D,activeTooltipIndex:O,chartName:r,element:S,isActive:G,layout:M,offset:P,tooltipAxisBandSize:z,tooltipEventType:W})}),Se(w,"renderPolarAxis",function(S,j,E){var A=Kr(S,"type.axisType"),k=Kr(w.state,"".concat(A,"Map")),D=S.type.defaultProps,P=D!==void 0?Z(Z({},D),S.props):S.props,O=k&&k[P["".concat(A,"Id")]];return C.cloneElement(S,Z(Z({},O),{},{className:Ie(A,O.className),key:S.key||"".concat(j,"-").concat(E),ticks:Zn(O,!0)}))}),Se(w,"renderPolarGrid",function(S){var j=S.props,E=j.radialLines,A=j.polarAngles,k=j.polarRadius,D=w.state,P=D.radiusAxisMap,O=D.angleAxisMap,z=Mi(P),W=Mi(O),G=W.cx,M=W.cy,I=W.innerRadius,B=W.outerRadius;return C.cloneElement(S,{polarAngles:Array.isArray(A)?A:Zn(W,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(k)?k:Zn(z,!0).map(function(U){return U.coordinate}),cx:G,cy:M,innerRadius:I,outerRadius:B,key:S.key||"polar-grid",radialLines:E})}),Se(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,j=w.props,E=j.children,A=j.width,k=j.height,D=w.props.margin||{},P=A-(D.left||0)-(D.right||0),O=CP({children:E,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!O)return null;var z=O.item,W=VA(O,ace);return C.cloneElement(z,Z(Z({},W),{},{chartWidth:A,chartHeight:k,margin:D,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Se(w,"renderTooltip",function(){var S,j=w.props,E=j.children,A=j.accessibilityLayer,k=Nr(E,Hr);if(!k)return null;var D=w.state,P=D.isTooltipActive,O=D.activeCoordinate,z=D.activePayload,W=D.activeLabel,G=D.offset,M=(S=k.props.active)!==null&&S!==void 0?S:P;return C.cloneElement(k,{viewBox:Z(Z({},G),{},{x:G.left,y:G.top}),active:M,label:W,payload:M?z:[],coordinate:O,accessibilityLayer:A})}),Se(w,"renderBrush",function(S){var j=w.props,E=j.margin,A=j.data,k=w.state,D=k.offset,P=k.dataStartIndex,O=k.dataEndIndex,z=k.updateId;return C.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Td(w.handleBrushChange,S.props.onChange),data:A,x:ie(S.props.x)?S.props.x:D.left,y:ie(S.props.y)?S.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:ie(S.props.width)?S.props.width:D.width,startIndex:P,endIndex:O,updateId:"brush-".concat(z)})}),Se(w,"renderReferenceElement",function(S,j,E){if(!S)return null;var A=w,k=A.clipPathId,D=w.state,P=D.xAxisMap,O=D.yAxisMap,z=D.offset,W=S.type.defaultProps||{},G=S.props,M=G.xAxisId,I=M===void 0?W.xAxisId:M,B=G.yAxisId,U=B===void 0?W.yAxisId:B;return C.cloneElement(S,{key:S.key||"".concat(j,"-").concat(E),xAxis:P[I],yAxis:O[U],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:k})}),Se(w,"renderActivePoints",function(S){var j=S.item,E=S.activePoint,A=S.basePoint,k=S.childIndex,D=S.isRange,P=[],O=j.props.key,z=j.item.type.defaultProps!==void 0?Z(Z({},j.item.type.defaultProps),j.item.props):j.item.props,W=z.activeDot,G=z.dataKey,M=Z(Z({index:k,dataKey:G,cx:E.x,cy:E.y,r:4,fill:cw(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ce(W,!1)),Uf(W));return P.push(x.renderActiveDot(W,M,"".concat(O,"-activePoint-").concat(k))),A?P.push(x.renderActiveDot(W,Z(Z({},M),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(k))):D&&P.push(null),P}),Se(w,"renderGraphicChild",function(S,j,E){var A=w.filterFormatItem(S,j,E);if(!A)return null;var k=w.getTooltipEventType(),D=w.state,P=D.isTooltipActive,O=D.tooltipAxis,z=D.activeTooltipIndex,W=D.activeLabel,G=w.props.children,M=Nr(G,Hr),I=A.props,B=I.points,U=I.isRange,H=I.baseLine,V=A.item.type.defaultProps!==void 0?Z(Z({},A.item.type.defaultProps),A.item.props):A.item.props,q=V.activeDot,re=V.hide,ae=V.activeBar,de=V.activeShape,_e=!!(!re&&P&&M&&(q||ae||de)),fe={};k!=="axis"&&M&&M.props.trigger==="click"?fe={onClick:Td(w.handleItemMouseEnter,S.props.onClick)}:k!=="axis"&&(fe={onMouseLeave:Td(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Td(w.handleItemMouseEnter,S.props.onMouseEnter)});var Q=C.cloneElement(S,Z(Z({},A.props),fe));function se(Y){return typeof O.dataKey=="function"?O.dataKey(Y.payload):null}if(_e)if(z>=0){var ne,T;if(O.dataKey&&!O.allowDuplicatedCategory){var N=typeof O.dataKey=="function"?se:"payload.".concat(O.dataKey.toString());ne=Bf(B,N,W),T=U&&H&&Bf(H,N,W)}else ne=B==null?void 0:B[z],T=U&&H&&H[z];if(de||ae){var R=S.props.activeIndex!==void 0?S.props.activeIndex:z;return[C.cloneElement(S,Z(Z(Z({},A.props),fe),{},{activeIndex:R})),null,null]}if(!Oe(ne))return[Q].concat(Go(w.renderActivePoints({item:A,activePoint:ne,basePoint:T,childIndex:z,isRange:U})))}else{var L,X=(L=w.getItemByXY(w.state.activeCoordinate))!==null&&L!==void 0?L:{graphicalItem:Q},ee=X.graphicalItem,ce=ee.item,ue=ce===void 0?S:ce,pe=ee.childIndex,ke=Z(Z(Z({},A.props),fe),{},{activeIndex:pe});return[C.cloneElement(ue,ke),null,null]}return U?[Q,null,null]:[Q,null]}),Se(w,"renderCustomized",function(S,j,E){return C.cloneElement(S,Z(Z({key:"recharts-customized-".concat(E)},w.props),w.state))}),Se(w,"renderMap",{CartesianGrid:{handler:Dd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Dd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Dd},YAxis:{handler:Dd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:dl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=ND(w.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return gce(x,v),fce(x,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,S=b.height,j=b.layout,E=Nr(_,Hr);if(E){var A=E.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,D=z0(this.state,w,A,k),P=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+S)/2,z=j==="horizontal",W=z?{x:P,y:O}:{y:P,x:O},G=this.state.formattedGraphicalItems.find(function(I){var B=I.item;return B.type.name==="Scatter"});G&&(W=Z(Z({},W),G.props.points[A].tooltipPosition),D=G.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:k,activePayload:D,activeCoordinate:W};this.setState(M),this.renderCursor(E),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){by([Nr(b.children,Hr)],[Nr(this.props.children,Hr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Nr(this.props.children,Hr);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return o.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),S=cX(w),j={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},E=w.width/_.offsetWidth||1,A=this.inRange(j.chartX,j.chartY,E);if(!A)return null;var k=this.state,D=k.xAxisMap,P=k.yAxisMap,O=this.getTooltipEventType(),z=YA(this.state,this.props.data,this.props.layout,A);if(O!=="axis"&&D&&P){var W=Mi(D).scale,G=Mi(P).scale,M=W&&W.invert?W.invert(j.chartX):null,I=G&&G.invert?G.invert(j.chartY):null;return Z(Z({},j),{},{xValue:M,yValue:I},z)}return z?Z(Z({},j),z):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,j=b/w,E=_/w;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,k=j>=A.left&&j<=A.left+A.width&&E>=A.top&&E<=A.top+A.height;return k?{x:j,y:E}:null}var D=this.state,P=D.angleAxisMap,O=D.radiusAxisMap;if(P&&O){var z=Mi(P);return xj({x:j,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Nr(b,Hr),S={};w&&_==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Uf(this.props,this.handleOuterEvent);return Z(Z({},j),S)}},{key:"addListener",value:function(){Lg.on(Fg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lg.removeListener(Fg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var S=this.state.formattedGraphicalItems,j=0,E=S.length;j<E;j++){var A=S[j];if(A.item===b||A.props.key===b.key||_===ti(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,S=_.top,j=_.height,E=_.width;return F.createElement("defs",null,F.createElement("clipPath",{id:b},F.createElement("rect",{x:w,y:S,height:j,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=WA(w,2),j=S[0],E=S[1];return Z(Z({},_),{},Se({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var S=WA(w,2),j=S[0],E=S[1];return Z(Z({},_),{},Se({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,S=_.activeItem;if(w&&w.length)for(var j=0,E=w.length;j<E;j++){var A=w[j],k=A.props,D=A.item,P=D.type.defaultProps!==void 0?Z(Z({},D.type.defaultProps),D.props):D.props,O=ti(D.type);if(O==="Bar"){var z=(k.data||[]).find(function(I){return Wne(b,I)});if(z)return{graphicalItem:A,payload:z}}else if(O==="RadialBar"){var W=(k.data||[]).find(function(I){return xj(b,I)});if(W)return{graphicalItem:A,payload:W}}else if(dm(A,S)||fm(A,S)||vu(A,S)){var G=qie({graphicalItem:A,activeTooltipItem:S,itemData:P.data}),M=P.activeIndex===void 0?G:P.activeIndex;return{graphicalItem:Z(Z({},A),{},{childIndex:M}),payload:vu(A,S)?P.data[G]:A.props.data[G]}}}return null}},{key:"render",value:function(){var b=this;if(!s1(this))return null;var _=this.props,w=_.children,S=_.className,j=_.width,E=_.height,A=_.style,k=_.compact,D=_.title,P=_.desc,O=VA(_,sce),z=Ce(O,!1);if(k)return F.createElement(yA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(Sy,Js({},z,{width:j,height:E,title:D,desc:P}),this.renderClipPath(),l1(w,this.renderMap)));if(this.props.accessibilityLayer){var W,G;z.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,z.role=(G=this.props.role)!==null&&G!==void 0?G:"application",z.onKeyDown=function(I){b.accessibilityManager.keyboardEvent(I)},z.onFocus=function(){b.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return F.createElement(yA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Js({className:Ie("recharts-wrapper",S),style:Z({position:"relative",cursor:"default",width:j,height:E},A)},M,{ref:function(B){b.container=B}}),F.createElement(Sy,Js({},z,{width:j,height:E,title:D,desc:P,style:Sce}),this.renderClipPath(),l1(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);Se(m,"displayName",r),Se(m,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Se(m,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,_=v.children,w=v.width,S=v.height,j=v.layout,E=v.stackOffset,A=v.margin,k=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var P=KA(v);return Z(Z(Z({},P),{},{updateId:0},p(Z(Z({props:v},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:_})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||S!==x.prevHeight||j!==x.prevLayout||E!==x.prevStackOffset||!oo(A,x.prevMargin)){var O=KA(v),z={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},W=Z(Z({},YA(x,b,j)),{},{updateId:x.updateId+1}),G=Z(Z(Z({},O),z),W);return Z(Z(Z({},G),p(Z({props:v},G),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:j,prevStackOffset:E,prevMargin:A,prevChildren:_})}if(!by(_,x.prevChildren)){var M,I,B,U,H=Nr(_,Ro),V=H&&(M=(I=H.props)===null||I===void 0?void 0:I.startIndex)!==null&&M!==void 0?M:k,q=H&&(B=(U=H.props)===null||U===void 0?void 0:U.endIndex)!==null&&B!==void 0?B:D,re=V!==k||q!==D,ae=!Oe(b),de=ae&&!re?x.updateId:x.updateId+1;return Z(Z({updateId:de},p(Z(Z({props:v},x),{},{updateId:de,dataStartIndex:V,dataEndIndex:q}),x)),{},{prevChildren:_,dataStartIndex:V,dataEndIndex:q})}return null}),Se(m,"renderActiveDot",function(v,x,y){var b;return C.isValidElement(v)?b=C.cloneElement(v,x):Te(v)?b=v(x):b=F.createElement(um,x),F.createElement(it,{className:"recharts-active-dot",key:y},b)});var g=C.forwardRef(function(x,y){return F.createElement(m,Js({},x,{ref:y}))});return g.displayName=m.displayName,g},Dce=ww({chartName:"LineChart",GraphicalChild:Hu,axisComponents:[{axisType:"xAxis",AxisComp:na},{axisType:"yAxis",AxisComp:ia}],formatAxisMap:dw}),Pce=ww({chartName:"BarChart",GraphicalChild:Ss,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:na},{axisType:"yAxis",AxisComp:ia}],formatAxisMap:dw}),Mce=ww({chartName:"AreaChart",GraphicalChild:wa,axisComponents:[{axisType:"xAxis",AxisComp:na},{axisType:"yAxis",AxisComp:ia}],formatAxisMap:dw});function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function In(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function et(t){Ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Hh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function W2(t,e){Ze(2,arguments);var r=et(t),n=In(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function Rce(t,e){Ze(2,arguments);var r=et(t).getTime(),n=In(e);return new Date(r+n)}var Ice={};function zu(){return Ice}function W0(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function rf(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var V2=6e4,G2=36e5;function $ce(t){return Ze(1,arguments),t instanceof Date||Hh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lce(t){if(Ze(1,arguments),!$ce(t)&&typeof t!="number")return!1;var e=et(t);return!isNaN(Number(e))}function Fce(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Bce(t,e){return Ze(2,arguments),et(t).getTime()-et(e).getTime()}var QA={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Uce="trunc";function Hce(t){return t?QA[t]:QA[Uce]}function zce(t){Ze(1,arguments);var e=et(t);return e.setHours(23,59,59,999),e}function Wce(t){Ze(1,arguments);var e=et(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Vce(t){Ze(1,arguments);var e=et(t);return zce(e).getTime()===Wce(e).getTime()}function Gce(t,e){Ze(2,arguments);var r=et(t),n=et(e),i=rf(r,n),a=Math.abs(Fce(r,n)),s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var o=rf(r,n)===-i;Vce(et(t))&&a===1&&rf(t,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function qce(t,e,r){Ze(2,arguments);var n=Bce(t,e)/1e3;return Hce(r==null?void 0:r.roundingMethod)(n)}function Yce(t,e){Ze(2,arguments);var r=In(e);return Rce(t,-r)}var Kce=864e5;function Xce(t){Ze(1,arguments);var e=et(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/Kce)+1}function zh(t){Ze(1,arguments);var e=1,r=et(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function q2(t){Ze(1,arguments);var e=et(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=zh(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=zh(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Qce(t){Ze(1,arguments);var e=q2(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=zh(r);return n}var Zce=6048e5;function Jce(t){Ze(1,arguments);var e=et(t),r=zh(e).getTime()-Qce(e).getTime();return Math.round(r/Zce)+1}function Wh(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=zu(),f=In((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=et(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function Y2(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=et(t),f=d.getUTCFullYear(),h=zu(),p=In((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=Wh(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=Wh(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function eue(t,e){var r,n,i,a,s,o,l,u;Ze(1,arguments);var d=zu(),f=In((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Y2(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=Wh(p,e);return m}var tue=6048e5;function rue(t,e){Ze(1,arguments);var r=et(t),n=Wh(r,e).getTime()-eue(r,e).getTime();return Math.round(n/tue)+1}function We(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var nue={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return We(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):We(n+1,2)},d:function(e,r){return We(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return We(e.getUTCHours()%12||12,r.length)},H:function(e,r){return We(e.getUTCHours(),r.length)},m:function(e,r){return We(e.getUTCMinutes(),r.length)},s:function(e,r){return We(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return We(a,r.length)}};const _i=nue;var Is={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iue={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return _i.y(e,r)},Y:function(e,r,n,i){var a=Y2(e,i),s=a>0?a:1-a;if(r==="YY"){var o=s%100;return We(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):We(s,r.length)},R:function(e,r){var n=q2(e);return We(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return We(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return We(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return We(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return _i.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return We(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=rue(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):We(a,r.length)},I:function(e,r,n){var i=Jce(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):We(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):_i.d(e,r)},D:function(e,r,n){var i=Xce(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):We(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return We(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return We(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return We(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=Is.noon:i===0?a=Is.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=Is.evening:i>=12?a=Is.afternoon:i>=4?a=Is.morning:a=Is.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return _i.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):_i.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):We(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):We(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):_i.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):_i.s(e,r)},S:function(e,r){return _i.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return JA(s);case"XXXX":case"XX":return Da(s);case"XXXXX":case"XXX":default:return Da(s,":")}},x:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"x":return JA(s);case"xxxx":case"xx":return Da(s);case"xxxxx":case"xxx":default:return Da(s,":")}},O:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+ZA(s,":");case"OOOO":default:return"GMT"+Da(s,":")}},z:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+ZA(s,":");case"zzzz":default:return"GMT"+Da(s,":")}},t:function(e,r,n,i){var a=i._originalDate||e,s=Math.floor(a.getTime()/1e3);return We(s,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,s=a.getTime();return We(s,r.length)}};function ZA(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var s=e||"";return r+String(i)+s+We(a,2)}function JA(t,e){if(t%60===0){var r=t>0?"-":"+";return r+We(Math.abs(t)/60,2)}return Da(t,e)}function Da(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=We(Math.floor(i/60),2),s=We(i%60,2);return n+a+r+s}const aue=iue;var eT=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},K2=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},sue=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return eT(e,r);var s;switch(i){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",eT(i,r)).replace("{{time}}",K2(a,r))},oue={p:K2,P:sue};const lue=oue;var cue=["D","DD"],uue=["YY","YYYY"];function due(t){return cue.indexOf(t)!==-1}function fue(t){return uue.indexOf(t)!==-1}function tT(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var hue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pue=function(e,r,n){var i,a=hue[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const mue=pue;function Ug(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var gue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xue={date:Ug({formats:gue,defaultWidth:"full"}),time:Ug({formats:vue,defaultWidth:"full"}),dateTime:Ug({formats:yue,defaultWidth:"full"})};const bue=xue;var wue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sue=function(e,r,n,i){return wue[e]};const _ue=Sue;function zl(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Eue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kue=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Oue={ordinalNumber:kue,era:zl({values:Eue,defaultWidth:"wide"}),quarter:zl({values:jue,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:zl({values:Aue,defaultWidth:"wide"}),day:zl({values:Tue,defaultWidth:"wide"}),dayPeriod:zl({values:Nue,defaultWidth:"wide",formattingValues:Cue,defaultFormattingWidth:"wide"})};const Due=Oue;function Wl(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Mue(o,function(f){return f.test(s)}):Pue(o,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function Pue(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function Mue(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Rue(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;var o=e.slice(i.length);return{value:s,rest:o}}}var Iue=/^(\d+)(th|st|nd|rd)?/i,$ue=/\d+/i,Lue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fue={any:[/^b/i,/^(a|c)/i]},Bue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uue={any:[/1/i,/2/i,/3/i,/4/i]},Hue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},que={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yue={ordinalNumber:Rue({matchPattern:Iue,parsePattern:$ue,valueCallback:function(e){return parseInt(e,10)}}),era:Wl({matchPatterns:Lue,defaultMatchWidth:"wide",parsePatterns:Fue,defaultParseWidth:"any"}),quarter:Wl({matchPatterns:Bue,defaultMatchWidth:"wide",parsePatterns:Uue,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Wl({matchPatterns:Hue,defaultMatchWidth:"wide",parsePatterns:zue,defaultParseWidth:"any"}),day:Wl({matchPatterns:Wue,defaultMatchWidth:"wide",parsePatterns:Vue,defaultParseWidth:"any"}),dayPeriod:Wl({matchPatterns:Gue,defaultMatchWidth:"any",parsePatterns:que,defaultParseWidth:"any"})};const Kue=Yue;var Xue={code:"en-US",formatDistance:mue,formatLong:bue,formatRelative:_ue,localize:Due,match:Kue,options:{weekStartsOn:0,firstWeekContainsDate:1}};const X2=Xue;var Que=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jue=/^'([^]*?)'?$/,ede=/''/g,tde=/[a-zA-Z]/;function Q2(t,e,r){var n,i,a,s,o,l,u,d,f,h,p,m,g,v,x,y,b,_;Ze(2,arguments);var w=String(e),S=zu(),j=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:S.locale)!==null&&n!==void 0?n:X2,E=In((a=(s=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=In((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&m!==void 0?m:(b=S.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var k=et(t);if(!Lce(k))throw new RangeError("Invalid time value");var D=W0(k),P=Yce(k,D),O={firstWeekContainsDate:E,weekStartsOn:A,locale:j,_originalDate:k},z=w.match(Zue).map(function(W){var G=W[0];if(G==="p"||G==="P"){var M=lue[G];return M(W,j.formatLong)}return W}).join("").match(Que).map(function(W){if(W==="''")return"'";var G=W[0];if(G==="'")return rde(W);var M=aue[G];if(M)return!(r!=null&&r.useAdditionalWeekYearTokens)&&fue(W)&&tT(W,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&due(W)&&tT(W,e,String(t)),M(P,W,j.localize,O);if(G.match(tde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return W}).join("");return z}function rde(t){var e=t.match(Jue);return e?e[1].replace(ede,"'"):t}function Z2(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function nde(t){return Z2({},t)}var rT=1440,ide=2520,Hg=43200,ade=86400;function sde(t,e,r){var n,i;Ze(2,arguments);var a=zu(),s=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:X2;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=rf(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var l=Z2(nde(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=et(e),d=et(t)):(u=et(t),d=et(e));var f=qce(d,u),h=(W0(d)-W0(u))/1e3,p=Math.round((f-h)/60),m;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<rT){var g=Math.round(p/60);return s.formatDistance("aboutXHours",g,l)}else{if(p<ide)return s.formatDistance("xDays",1,l);if(p<Hg){var v=Math.round(p/rT);return s.formatDistance("xDays",v,l)}else if(p<ade)return m=Math.round(p/Hg),s.formatDistance("aboutXMonths",m,l)}if(m=Gce(d,u),m<12){var x=Math.round(p/Hg);return s.formatDistance("xMonths",x,l)}else{var y=m%12,b=Math.floor(m/12);return y<3?s.formatDistance("aboutXYears",b,l):y<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function Sw(t,e){return Ze(1,arguments),sde(t,Date.now(),e)}function ode(t,e){var r;Ze(1,arguments);var n=In((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=dde(t),a;if(i.date){var s=fde(i.date,n);a=hde(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o=a.getTime(),l=0,u;if(i.time&&(l=pde(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=mde(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+l+u)}var Pd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,cde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ude=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dde(t){var e={},r=t.split(Pd.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Pd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Pd.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=Pd.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function fde(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function hde(t,e){if(e===null)return new Date(NaN);var r=t.match(lde);if(!r)return new Date(NaN);var n=!!r[4],i=Vl(r[1]),a=Vl(r[2])-1,s=Vl(r[3]),o=Vl(r[4]),l=Vl(r[5])-1;if(n)return bde(e,o,l)?gde(e,o,l):new Date(NaN);var u=new Date(0);return!yde(e,a,s)||!xde(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,s)),u)}function Vl(t){return t?parseInt(t):1}function pde(t){var e=t.match(cde);if(!e)return NaN;var r=zg(e[1]),n=zg(e[2]),i=zg(e[3]);return wde(r,n,i)?r*G2+n*V2+i*1e3:NaN}function zg(t){return t&&parseFloat(t.replace(",","."))||0}function mde(t){if(t==="Z")return 0;var e=t.match(ude);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Sde(n,i)?r*(n*G2+i*V2):NaN}function gde(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var vde=[31,null,31,30,31,30,31,31,30,31,30,31];function J2(t){return t%400===0||t%4===0&&t%100!==0}function yde(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(vde[e]||(J2(t)?29:28))}function xde(t,e){return e>=1&&e<=(J2(t)?366:365)}function bde(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function wde(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Sde(t,e){return e>=0&&e<=59}function _de(t,e){Ze(2,arguments);var r=In(e);return W2(t,-r)}const qo=(t,e="MM/dd/yy")=>{if(!t)return"N/A";try{const r=typeof t=="string"?nr(t):t;return!r||isNaN(r.getTime())?"Invalid Date":Q2(r,e)}catch(r){return console.warn("Error formatting date:",t,r),"Invalid Date"}},Vr=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),Ede=t=>W2(t,1),jde=t=>_de(t,1),nT=t=>Q2(t,"MMMM yyyy"),nr=t=>{if(!t)return null;try{if(typeof t=="string"&&t.includes(" 0:00:00")){const n=t.split(" 0:00:00")[0],i=new Date(n+"T00:00:00");if(!isNaN(i.getTime()))return i}const e=ode(t);if(!isNaN(e.getTime()))return e;const r=new Date(t);return isNaN(r.getTime())?null:r}catch{return null}},Ade=t=>{if(!t)return"";if(typeof t=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}T/.test(t))return t.slice(0,10)}const e=typeof t=="string"?nr(t):t;if(!e||isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`},Tde=(t,e)=>e.map(n=>{const a=t.filter(o=>{const l=o.venue?o.venue.trim().toLowerCase():null,u=n.promo?n.promo.trim().toLowerCase():null;return l&&u&&l===u&&o.grossSales>0}).map(o=>({...o,date:new Date(o.date)})).sort((o,l)=>l.date-o.date).slice(0,5).map(o=>o.grossSales);let s=0;return a.length>0&&(s=a.reduce((l,u)=>l+u,0)/a.length,s=Math.round(s/100)*100),{...n,averageSales:s,salesCount:a.length}}).sort((n,i)=>i.averageSales-n.averageSales),Nde=(t,e)=>t.filter(n=>{const i=n.venue?n.venue.trim().toLowerCase():null,a=e?e.trim().toLowerCase():null;return i&&a&&i===a&&n.grossSales>0}).map(n=>({...n,date:new Date(n.date)})).sort((n,i)=>i.date-n.date).slice(0,5).map(n=>({date:n.date.toLocaleDateString(),amount:n.grossSales})),Cde=({salesData:t,currentSheet:e,selectedYears:r=[new Date().getFullYear()]})=>{const[n,i]=C.useState(!1),a=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((u,d)=>{const f={month:u};return r.forEach(h=>{const m=t.filter(g=>{const v=nr(g.date);return v&&v.getMonth()===d&&v.getFullYear()===h}).reduce((g,v)=>g+(v.grossSales||0),0);f[h]=m}),f}),s=C.useMemo(()=>a(),[t,r]),o=({active:l,payload:u,label:d})=>l&&u&&u.length?c.jsxs("div",{className:"bg-white p-3 border border-secondary-200 rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium text-secondary-900",children:d}),u.map((f,h)=>c.jsxs("p",{style:{color:f.color},className:"text-sm",children:[f.name,": ",Vr(f.value)]},h))]}):null;return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Gross Sales: ",r.length>1?`${r.length} Years`:r[0]," (",e==="TRAILER_HISTORY"?"Trailer":"Camper",")"]}),r.length>1&&c.jsxs("button",{className:`mt-2 sm:mt-0 px-3 py-1 rounded border text-xs font-semibold transition ${n?"bg-primary-600 text-white border-primary-600":"bg-white text-primary-600 border-primary-200 hover:bg-primary-50"}`,onClick:()=>i(l=>!l),children:[n?"Hide":"Show"," All Years"]})]}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"h-96",children:c.jsx(zy,{width:"100%",height:"100%",children:c.jsxs(Dce,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(Ih,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(na,{dataKey:"month",stroke:"#64748b",fontSize:12}),c.jsx(ia,{stroke:"#64748b",fontSize:12,tickFormatter:l=>`$${(l/1e3).toFixed(0)}k`,domain:[0,5e5]}),c.jsx(Hr,{content:c.jsx(o,{})}),c.jsx(Zi,{}),r.map((l,u)=>{const d=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"],f=d[u%d.length];return c.jsx(Hu,{type:"monotone",dataKey:l,stroke:f,strokeWidth:2,dot:{fill:f,strokeWidth:2,r:4},activeDot:{r:6,stroke:"#94a3b8",strokeWidth:2},name:`${l}`},l)})]})})})})]})},kde=()=>{var ue,pe,ke;const{salesData:t,currentSheet:e,loading:r}=Nt(),[n,i]=C.useState(null),[a,s]=C.useState(new Date().getMonth()),[o,l]=C.useState([new Date().getFullYear()]),[u,d]=C.useState([]),[f,h]=C.useState(!1),[p,m]=C.useState(!1),[g,v]=C.useState(null),x=C.useRef(null),y=C.useRef(null),[b,_]=C.useState([]),[w,S]=C.useState(!0),[j,E]=C.useState(null),[A,k]=C.useState([]),[D,P]=C.useState([new Date().getFullYear()]),[O,z]=C.useState(!1),W=C.useRef(null),G=C.useRef(null);C.useEffect(()=>{const Y=he=>{x.current&&!x.current.contains(he.target)&&h(!1),y.current&&!y.current.contains(he.target)&&m(!1)};return(f||p)&&document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[f,p]),C.useEffect(()=>(z(!0),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{k(u),z(!1)},800),()=>{W.current&&clearTimeout(W.current)}),[u]),C.useEffect(()=>(z(!0),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{P(o),z(!1)},800),()=>{G.current&&clearTimeout(G.current)}),[o]),C.useEffect(()=>()=>{W.current&&clearTimeout(W.current),G.current&&clearTimeout(G.current)},[]),C.useEffect(()=>{(async()=>{try{const he=await le.getStores();he.success?_(he.data):console.error("Error fetching stores:",he.error)}catch(he){console.error("Error fetching stores:",he)}finally{S(!1)}})()},[]);const M=["Trailer","Camper","Spartanburg","Greenville","Columbia"],I=()=>{const Y=Array.from(new Set(t.map(he=>he.store).filter(Boolean)));return Y.length===0?M:Y},B=C.useCallback(()=>A.length===0?t:t.filter(he=>A.includes(he.store)),[A,t]),U=C.useCallback(Y=>{d(he=>he.includes(Y)?he.filter(me=>me!==Y):[...he,Y])},[]),H=C.useCallback(()=>{const Y=I();d(Y)},[]),V=C.useCallback(()=>{d([])},[]),q=C.useCallback(Y=>{l(he=>{if(he.includes(Y)){const me=he.filter(we=>we!==Y);return me.length>0?me:[new Date().getFullYear()]}else return he.length<5?[...he,Y].sort((me,we)=>we-me):he})},[]),re=C.useCallback(()=>{const Y=new Date().getFullYear(),he=[Y,Y-1,Y-2,Y-3,Y-4];l(he)},[]),ae=C.useCallback(()=>{l([new Date().getFullYear()])},[]),de=()=>o.length===0?"Select Years":o.length===1?o[0].toString():o.length===5?"All Years":`${o.length} Years Selected`,_e=()=>u.length===0?"All Stores":u.length===1?u[0]:u.length===I().length?"All Stores":`${u.length} Stores Selected`,fe=C.useCallback(()=>{const Y=B(),he=new Date,me=he.getMonth(),we=he.getFullYear(),ye={};D.forEach(Fe=>{const xt=Y.filter(Bn=>{const _a=nr(Bn.date);return _a&&_a.getFullYear()===Fe}),Ee=xt.reduce((Bn,_a)=>Bn+(_a.grossSales||0),0),Be=xt.filter(Bn=>(Bn.grossSales||0)>0).length;let Ke,Kt,bi;if(Fe===we){const Bn=Math.max(0,me-1);Ke=Bn+1;const _a=xt.filter(wl=>{const qu=nr(wl.date);return qu&&qu.getMonth()<=Bn}),nS=_a.reduce((wl,qu)=>wl+(qu.grossSales||0),0),iS=_a.filter(wl=>(wl.grossSales||0)>0).length;Kt=Ke>0?Math.round(nS/Ke):0,bi=iS>0?Math.round(nS/iS):0}else Ke=12,Kt=Ke>0?Math.round(Ee/Ke):0,bi=Be>0?Math.round(Ee/Be):0;ye[Fe]={totalGross:Math.round(Ee),positiveSalesCount:Be,monthlyAverage:Kt,averagePerSale:bi,monthsToCount:Ke}});const je=D[0]||we,qe=Y.filter(Fe=>{const xt=nr(Fe.date);return xt&&xt.getMonth()===a&&xt.getFullYear()===je}),Ut=qe,Ye=qe.reduce((Fe,xt)=>Fe+(xt.grossSales||0),0),Et=qe.filter(Fe=>(Fe.grossSales||0)>0).length;return{selectedYearsData:ye,confirmedMonthSalesCount:Ut.length,positiveMonthSalesCount:Et,monthTotalGross:Math.round(Ye),primaryYear:je}},[B,D,a]),Q=C.useMemo(()=>fe(),[fe]),se=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],ne=()=>{var Y;return((Y=se.find(he=>he.value===a))==null?void 0:Y.label)||"Unknown"},T=C.useCallback(()=>{const Y=["January","February","March","April","May","June","July","August","September","October","November","December"],he=[];return Y.forEach((me,we)=>{const ye={month:me,monthIndex:we,years:{}};let je=!1;D.forEach(qe=>{const Ut=B().filter(xt=>{const Ee=nr(xt.date);return Ee&&Ee.getMonth()===we&&Ee.getFullYear()===qe}),Ye=Ut.reduce((xt,Ee)=>xt+(Ee.grossSales||0),0),Et=Ut.length,Fe=Ut.filter(xt=>(xt.grossSales||0)>0).length;ye.years[qe]={salesCount:Ut.length,confirmedSales:Et,positiveSales:Fe,totalGross:Ye,sales:Ut},Ut.length>0&&(je=!0)}),je&&he.push(ye)}),he},[B,D]),N=C.useMemo(()=>T(),[T]),R=Y=>{i(Y)},L=()=>{i(null)},X=Y=>{s(parseInt(Y.target.value))},ee=(Y,he)=>{switch(Y){case"scheduler":window.location.href=`/scheduler?store=${he.id}`;break;case"staff":window.location.href=`/staff?store=${he.id}`;break;case"pay-calculator":window.location.href=`/pay-calculator?store=${he.id}`;break;case"bonuses":window.location.href=`/bonuses?store=${he.id}`;break;case"settings":window.location.href=`/venues?store=${he.id}`;break}},ce=Y=>Y.store==="Trailer"||Y.store==="Camper"?Y.store:Y.venue||Y.store||"N/A";return r?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading dashboard..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please wait while we load your data"})]})}):t.length===0&&!r?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your dashboard will show sales analytics once you have data in your system."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Try adding some sales entries or check your data connection."})]})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative",ref:x,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Filter by Store"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>h(!f),className:"block w-full sm:w-64 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:_e()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(hc,{className:"h-4 w-4 text-secondary-400"})})]}),f&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-64 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:H,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:V,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:I().map(Y=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:u.includes(Y),onChange:()=>U(Y),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:Y})]},Y))})]})]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative mr-4",ref:y,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Select Years"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>m(!p),className:"block w-full sm:w-48 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:de()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(hc,{className:"h-4 w-4 text-secondary-400"})})]}),p&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-48 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:re,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:ae,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:Array.from({length:5},(Y,he)=>new Date().getFullYear()-he).map(Y=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:o.includes(Y),onChange:()=>q(Y),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:Y})]},Y))})]})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[18rem_1fr_22rem] gap-6 mb-8 items-stretch",children:[c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"18rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(qn,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Total Gross Sales"}),O?c.jsx("div",{className:"flex flex-col gap-1",children:o.map(Y=>c.jsxs("div",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[Y," - ",c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-20 ml-2 rounded"})]},Y))}):c.jsx("div",{className:"flex flex-col gap-1",children:D.map(Y=>{var he;return c.jsxs("span",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[Y," - $",((he=Q.selectedYearsData[Y])==null?void 0:he.totalGross.toLocaleString())||"0"]},Y)})})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"40rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Or,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 min-w-0",children:[c.jsxs("p",{className:"text-base font-bold text-primary-700 whitespace-nowrap",children:["Month Sales [",e==="TRAILER_HISTORY"?"Trailer":"Camper"," Only]"]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("select",{value:a,onChange:X,className:"text-xs border border-secondary-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",style:{maxWidth:"8rem"},children:se.map(Y=>c.jsx("option",{value:Y.value,children:Y.label},Y.value))})})]}),O?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-32 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-40 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-48 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Confirmed: ",Q.confirmedMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Completed Sales: ",Q.positiveMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Total Gross Sales (",ne()," ",Q.primaryYear,"): $",Q.monthTotalGross.toLocaleString()]})]})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"22rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Op,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Average"}),O?c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),o.map(Y=>c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:Y}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"})]},Y))]}):c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),D.map(Y=>{var he,me,we,ye,je,qe;return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:Y}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:["$",((he=Q.selectedYearsData[Y])==null?void 0:he.averagePerSale.toLocaleString())||"0"]}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap cursor-help relative group",onMouseEnter:()=>v(Y),onMouseLeave:()=>v(null),children:["$",((me=Q.selectedYearsData[Y])==null?void 0:me.monthlyAverage.toLocaleString())||"0",g===Y&&c.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[c.jsxs("div",{children:[((we=Q.selectedYearsData[Y])==null?void 0:we.monthsToCount)||0," month",(((ye=Q.selectedYearsData[Y])==null?void 0:ye.monthsToCount)||0)!==1?"s":""," used"]}),c.jsxs("div",{children:["Total: $",((je=Q.selectedYearsData[Y])==null?void 0:je.totalGross.toLocaleString())||"0"]}),c.jsxs("div",{children:["Monthly Average: $",((qe=Q.selectedYearsData[Y])==null?void 0:qe.monthlyAverage.toLocaleString())||"0"]}),c.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]},Y)}),c.jsx("div",{className:"mt-2 text-xs text-secondary-600",children:Q.primaryYear===new Date().getFullYear()?`Based on ${((ue=Q.selectedYearsData[Q.primaryYear])==null?void 0:ue.monthsToCount)||0} month${(((pe=Q.selectedYearsData[Q.primaryYear])==null?void 0:pe.monthsToCount)||0)!==1?"s":""} (Jan - ${((ke=se[Math.max(0,new Date().getMonth()-1)])==null?void 0:ke.label)||"Previous Month"})`:"Based on 12 months"})]})]})]})})})]}),c.jsx("div",{className:"mb-8",children:O?c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})})})}):c.jsx(Cde,{salesData:B(),currentSheet:e,selectedYears:D})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Monthly Sales Statistics - Last 3 Years"})}),c.jsx("div",{className:"card-body",children:O?c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsxs("thead",{className:"table-header",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Month"}),D.map(Y=>c.jsx("th",{className:"table-header-cell",colSpan:"3",children:Y},Y)),c.jsx("th",{className:"table-header-cell",children:"Actions"})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell"}),D.map(Y=>c.jsxs(F.Fragment,{children:[c.jsx("th",{className:"table-header-cell text-xs",children:"Sales"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Confirmed"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Gross Sales"})]},Y)),c.jsx("th",{className:"table-header-cell"})]})]}),c.jsx("tbody",{className:"table-body",children:N.map((Y,he)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:Y.month}),D.map(me=>{var we,ye,je;return c.jsxs(F.Fragment,{children:[c.jsx("td",{className:"table-cell",children:((we=Y.years[me])==null?void 0:we.salesCount)||0}),c.jsx("td",{className:"table-cell",children:((ye=Y.years[me])==null?void 0:ye.confirmedSales)||0}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(((je=Y.years[me])==null?void 0:je.totalGross)||0)})]},me)}),c.jsx("td",{className:"table-cell",children:c.jsx("button",{onClick:()=>R(Y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"View Details",children:c.jsx(nO,{className:"w-4 h-4"})})})]},he))})]})})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Store Management"}),c.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Hover over a store to see available actions"})]}),c.jsx("div",{className:"card-body",children:w?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(Y=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},Y))}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(Y=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>E(Y.id),onMouseLeave:()=>E(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:Y.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",Y.number]})]})]}),j===Y.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>ee("scheduler",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ha,{className:"w-4 h-4 mr-2"}),"Scheduler"]}),c.jsxs("button",{onClick:()=>ee("staff",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(On,{className:"w-4 h-4 mr-2"}),"Staff"]}),c.jsxs("button",{onClick:()=>ee("pay-calculator",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(cb,{className:"w-4 h-4 mr-2"}),"Pay Calculator"]}),c.jsxs("button",{onClick:()=>ee("bonuses",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(nB,{className:"w-4 h-4 mr-2"}),"Bonuses"]}),c.jsxs("button",{onClick:()=>ee("settings",Y),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Ff,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})]},Y.id))})})]})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[c.jsxs("h3",{className:"text-xl font-semibold text-secondary-900",children:[n.month," Sales Details - ",o.length," Year",o.length!==1?"s":""]}),c.jsx("button",{onClick:L,className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:c.jsx(Hc,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[c.jsx("div",{className:`grid gap-4 mb-6 ${o.length<=3?"grid-cols-3":"grid-cols-2"}`,children:o.map((Y,he)=>{const me=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900"],we=me[he%me.length],ye=n.years[Y];return c.jsxs("div",{className:`p-4 rounded-lg border ${we}`,children:[c.jsx("h4",{className:"text-lg font-semibold mb-3",children:Y}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Total Sales:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.salesCount)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Confirmed:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.confirmedSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Positive:"}),c.jsx("p",{className:"font-bold",children:(ye==null?void 0:ye.positiveSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Gross Sales:"}),c.jsx("p",{className:"font-bold",children:Vr((ye==null?void 0:ye.totalGross)||0)})]})]})]},Y)})}),c.jsx("div",{className:"space-y-6",children:o.map((Y,he)=>{const me=["text-blue-900","text-green-900","text-purple-900","text-orange-900","text-pink-900"],we=me[he%me.length],ye=n.years[Y];return c.jsxs("div",{children:[c.jsxs("h4",{className:`text-lg font-semibold ${we} mb-3`,children:[Y," Sales"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"})]})}),c.jsx("tbody",{className:"table-body",children:(ye==null?void 0:ye.sales.length)===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"6",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",n.month," ",Y]})}):ye==null?void 0:ye.sales.map(je=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:qo(je.date)}),c.jsx("td",{className:"table-cell",children:ce(je)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(je.grossSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(je.netSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(je.salesTax)}),c.jsx("td",{className:"table-cell font-medium",children:je.count||1})]},je.id))})]})})]},Y)})})]})]})})]})},Ode=({onAddVenue:t,onEditVenue:e,onDeleteVenue:r})=>{const{venuesData:n,salesData:i}=Nt(),[a,s]=C.useState([]),[o,l]=C.useState(""),[u,d]=C.useState(""),[f,h]=C.useState(null),[p,m]=C.useState(!1),g=C.useMemo(()=>Tde(i,n),[i,n]),v=C.useMemo(()=>[...new Set(g.map(_=>_.addressCity).filter(Boolean))],[g]);C.useEffect(()=>{let _=g;o&&(_=_.filter(w=>w.promo.toLowerCase().includes(o.toLowerCase())||w.addressCity.toLowerCase().includes(o.toLowerCase())||w.contact.toLowerCase().includes(o.toLowerCase()))),u&&(_=_.filter(w=>w.addressCity===u)),s(_)},[g,o,u]);const x=async _=>{window.confirm("Are you sure you want to delete this venue?")&&await r(_)},y=_=>{h(_),m(!0)},b=()=>{l(""),d("")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(dB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search venues...",value:o,onChange:_=>l(_.target.value),className:"pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("select",{value:u,onChange:_=>d(_.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"All Cities"}),v.map(_=>c.jsx("option",{value:_,children:_},_))]}),(o||u)&&c.jsx("button",{onClick:b,className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Clear Filters"})]}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),c.jsxs("div",{className:"text-sm text-secondary-600",children:["Showing ",a.length," of ",g.length," venues"]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Venue Name"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell sticky right-0 bg-white z-10",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center text-secondary-500 py-8",children:o||u?"No venues match your search criteria":"No venues found"})}):a.map((_,w)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-secondary-900 flex items-center",children:[_.averageSales>0&&c.jsxs("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-primary-600 rounded-full mr-2",children:["#",w+1]}),_.promo]}),_.promoSend&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["Promo: ",_.promoSend]}),_.averageSales>0&&c.jsxs("div",{className:"text-xs text-primary-600 font-medium mt-1",children:[" Avg Sales: $",_.averageSales.toLocaleString()," (",_.salesCount," sales)"]})]})}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-4 h-4 mr-1 text-secondary-400"}),_.addressCity]})}),c.jsx("td",{className:"table-cell sticky right-0 bg-white z-10",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>y(_),className:"text-primary-600 hover:text-primary-900 font-semibold text-xs px-2 py-1 rounded border border-primary-200 bg-primary-50 hover:bg-primary-100 transition",title:"Show Details",children:"Show Details"}),c.jsx("button",{onClick:()=>e(_),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(gs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>x(_.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ma,{className:"w-4 h-4"})})]})})]},_.id))})]})})})}),p&&f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Venue Details"}),c.jsx("button",{onClick:()=>m(!1),className:"text-secondary-400 hover:text-secondary-600",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Venue Name"}),c.jsx("p",{className:"text-secondary-900 font-medium",children:f.promo})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Promo to Send"}),c.jsx("p",{className:"text-secondary-900",children:f.promoSend||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Address/City"}),c.jsx("p",{className:"text-secondary-900",children:f.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Contact"}),c.jsx("p",{className:"text-secondary-900",children:f.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Phone"}),c.jsx("p",{className:"text-secondary-900",children:f.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Email"}),c.jsx("p",{className:"text-secondary-900",children:c.jsx("a",{href:`mailto:${f.email}`,className:"text-primary-600 hover:text-primary-900",children:f.email})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Times"}),c.jsx("p",{className:"text-secondary-900",children:f.times||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Show Info"}),c.jsx("p",{className:"text-secondary-900",children:f.showInfo||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Forecast Will"}),c.jsx("p",{className:"text-secondary-900",children:f.forecastWill||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Last 5 Sales"}),c.jsx("div",{className:"text-secondary-900",children:(()=>{const _=Nde(i,f.promo);return _.length>0?c.jsx("div",{className:"space-y-1",children:_.map((w,S)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-secondary-600",children:w.date}),c.jsxs("span",{className:"font-medium",children:["$",w.amount.toLocaleString()]})]},S))}):c.jsx("span",{className:"text-secondary-500",children:"No sales data"})})()})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>m(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{m(!1),e(f)},className:"btn-primary",children:"Edit"})]})]})})]})},Dde=()=>{const{addVenueEntry:t,updateVenueEntry:e,deleteVenueEntry:r,loading:n}=Nt(),[i,a]=C.useState(!1),[s,o]=C.useState(null),[l,u]=C.useState(cg()),[d,f]=C.useState({}),h=()=>{o(null),u(cg()),f({}),a(!0)},p=y=>{o(y),u({promo:y.promo,promoSend:y.promoSend,addressCity:y.addressCity,contact:y.contact,phone:y.phone,email:y.email,times:y.times,showInfo:y.showInfo,forecastWill:y.forecastWill}),f({}),a(!0)},m=async y=>{const b=await r(y);b.success||alert(`Error deleting venue: ${b.error}`)},g=()=>{const y={};return l.promo||(y.promo="Venue name is required"),l.addressCity||(y.addressCity="Address/City is required"),l.contact||(y.contact="Contact is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(y.email="Please enter a valid email address"),f(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!g())return;const b={promo:l.promo,promo_send:l.promoSend,address_city:l.addressCity,contact:l.contact,phone:l.phone,email:l.email,times:l.times,show_info:l.showInfo,forecast_will:l.forecastWill};let _;s?_=await e(s.id,b):_=await t(b),_.success?(a(!1),o(null),u(cg())):alert(`Error ${s?"updating":"adding"} venue: ${_.error}`)},x=(y,b)=>{u(_=>({..._,[y]:b})),d[y]&&f(_=>({..._,[y]:""}))};return n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading venues..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Venues"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage venue information, contacts, and event details"})]}),c.jsx(Ode,{onAddVenue:h,onEditVenue:p,onDeleteVenue:m}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:s?"Edit Venue":"Add New Venue"}),c.jsx("button",{onClick:()=>a(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue Name *"}),c.jsx("input",{type:"text",value:l.promo,onChange:y=>x("promo",y.target.value),className:He("input",d.promo&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter venue name"}),d.promo&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.promo})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Promo to Send"}),c.jsx("input",{type:"text",value:l.promoSend,onChange:y=>x("promoSend",y.target.value),className:"input",placeholder:"Enter promo information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Address/City *"}),c.jsx("input",{type:"text",value:l.addressCity,onChange:y=>x("addressCity",y.target.value),className:He("input",d.addressCity&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter address and city"}),d.addressCity&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Contact *"}),c.jsx("input",{type:"text",value:l.contact,onChange:y=>x("contact",y.target.value),className:He("input",d.contact&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Contact person name"}),d.contact&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:l.phone,onChange:y=>x("phone",y.target.value),className:"input",placeholder:"Phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:l.email,onChange:y=>x("email",y.target.value),className:He("input",d.email&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Email address"}),d.email&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Times"}),c.jsx("input",{type:"text",value:l.times,onChange:y=>x("times",y.target.value),className:"input",placeholder:"e.g., 9 AM - 5 PM"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Show Info"}),c.jsx("textarea",{value:l.showInfo,onChange:y=>x("showInfo",y.target.value),className:"input",rows:"3",placeholder:"Additional show information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Forecast Will"}),c.jsx("input",{type:"text",value:l.forecastWill,onChange:y=>x("forecastWill",y.target.value),className:"input",placeholder:"Forecast information"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:s?"Update Venue":"Add Venue"})]})]})]})})]})})},Pde=({staffId:t,staffName:e,onSave:r})=>{const[n,i]=C.useState([]),[a,s]=C.useState(!0),[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(0),[p,m]=C.useState(!1);C.useEffect(()=>{if(!t){console.log(" No staffId provided");return}console.log(" Loading bonus tiers for staff:",t),(async()=>{try{const S=await le.getStaffBonusTiers(t);if(console.log(" Load result:",S),S.success){const j=(S.data||[]).map(E=>({id:E.id,staff_id:E.staff_id,sales_target:E.sales_target,bonus_amount:E.bonus_amount,description:E.description||E.tier_name||`Bonus for $${E.sales_target.toLocaleString()}+ sales`,is_active:E.is_active}));console.log(" Converted tiers:",j),i(j)}else console.error(" Load failed:",S.error),d("Failed to load bonus tiers")}catch(S){console.error(" Exception during load:",S),d("Failed to load bonus tiers")}finally{s(!1)}})()},[t]),C.useEffect(()=>{m(n.some(w=>w.id.toString().startsWith("temp_")))},[n]);const g=C.useCallback(()=>{const w={id:`temp_${Date.now()}_${f}`,staff_id:t,sales_target:0,bonus_amount:0,description:"",is_active:!0};i(S=>[...S,w]),h(S=>S+1)},[t,f]),v=C.useCallback(w=>{i(S=>S.filter(j=>j.id!==w))},[]),x=C.useCallback((w,S,j)=>{i(E=>E.map(A=>A.id===w?{...A,[S]:j}:A))},[]),y=C.useCallback(async()=>{if(!p){console.log(" No changes to save");return}console.log(" Saving bonus tiers:",n),l(!0),d(null);try{const w=n.map(E=>({staff_id:E.staff_id,tier_name:E.description||`Bonus for $${E.sales_target.toLocaleString()}+ sales`,sales_target:E.sales_target,bonus_amount:E.bonus_amount,description:E.description,is_active:E.is_active}));console.log(" Converted tiers for database:",w);const S=[...w].sort((E,A)=>E.sales_target-A.sales_target);console.log(" Sorted tiers:",S);const j=await le.saveStaffBonusTiers(t,S);if(console.log(" Save result:",j),j.success){console.log(" Save successful, reloading data...");const E=await le.getStaffBonusTiers(t);if(console.log(" Reload result:",E),E.success){const A=(E.data||[]).map(k=>({id:k.id,staff_id:k.staff_id,sales_target:k.sales_target,bonus_amount:k.bonus_amount,description:k.description||k.tier_name||`Bonus for $${k.sales_target.toLocaleString()}+ sales`,is_active:k.is_active}));console.log(" Final converted tiers from database:",A),i(A)}m(!1),r&&await r(n)}else d("Failed to save bonus tiers"),console.error(" Save failed:",j.error)}catch(w){d("Failed to save bonus tiers"),console.error(" Exception during save:",w)}finally{l(!1)}},[n,t,p,r]),b=C.useCallback(w=>{if(!n||n.length===0)return 0;const S=[...n].filter(j=>j.is_active).sort((j,E)=>E.sales_target-j.sales_target);for(const j of S)if(w>=j.sales_target)return j.bonus_amount;return 0},[n]),_=C.useMemo(()=>[...n].sort((w,S)=>w.sales_target-S.sales_target),[n]);return a?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[c.jsx(qn,{className:"w-5 h-5 mr-2 text-green-600"}),"Personal Bonus Structure - ",e]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set individual bonus tiers for this staff member"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[u&&c.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-1 rounded",children:u}),c.jsxs("button",{onClick:g,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[c.jsx(pa,{className:"w-4 h-4 mr-1"}),"Add Tier"]}),c.jsx("button",{onClick:y,disabled:o||!p,className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o||!p?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(fb,{className:"w-4 h-4 mr-1"}),"Save Changes"]})})]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Target"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bonus Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[c.jsx(qn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("p",{children:"No bonus tiers set for this staff member"}),c.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create the first bonus structure'})]})}):_.map((w,S)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(iO,{className:"w-4 h-4 text-blue-600 mr-2"}),c.jsx("input",{type:"number",value:w.sales_target,onChange:j=>x(w.id,"sales_target",parseFloat(j.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"}),c.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"+"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(qn,{className:"w-4 h-4 text-green-600 mr-1"}),c.jsx("input",{type:"number",value:w.bonus_amount,onChange:j=>x(w.id,"bonus_amount",parseFloat(j.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("input",{type:"text",value:w.description,onChange:j=>x(w.id,"description",j.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"e.g., High performer bonus"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("select",{value:w.is_active?"active":"inactive",onChange:j=>x(w.id,"is_active",j.target.value==="active"),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-900 p-1",title:"Remove tier",children:c.jsx(ma,{className:"w-4 h-4"})})})]},`${w.id}-${S}`))})]})})}),_.length>0&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(cb,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bonus Calculator"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Sales Amount"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(qn,{className:"w-4 h-4 text-gray-400 mr-2"}),c.jsx("input",{type:"number",id:"sales-calculator",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter sales amount",step:"0.01",min:"0",onChange:w=>{const S=parseFloat(w.target.value)||0,j=b(S);document.getElementById("bonus-result").textContent=`$${j.toFixed(2)}`}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calculated Bonus"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(qn,{className:"w-4 h-4 text-green-600 mr-2"}),c.jsx("span",{id:"bonus-result",className:"text-2xl font-bold text-green-600",children:"$0.00"})]})]})]})]})]})};function Mde(){const[t,e]=C.useState([]),[r,n]=C.useState([]),[i,a]=C.useState(!1),[s,o]=C.useState(""),[l,u]=C.useState(""),{supabaseAPI:d}=Nt();C.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const[p,m]=await Promise.all([d.getUnlinkedUsers(),d.readTable("staff")]);p.success&&e(p.data),m.success&&n(m.data)}catch{o("Failed to load data")}finally{a(!1)}},h=async(p,m)=>{a(!0),o(""),u("");try{const g=await d.linkUserToStaff(p,m);g.success?(u("User successfully linked to staff member!"),await f()):o(g.error||"Failed to link user")}catch{o("An unexpected error occurred")}finally{a(!1)}};return i&&t.length===0?c.jsx("div",{className:"flex justify-center items-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):c.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Link Users to Staff Members"}),l&&c.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-green-700",children:l})}),s&&c.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:c.jsx("div",{className:"text-sm text-red-700",children:s})}),t.length===0?c.jsx("p",{className:"text-gray-500",children:"All users are already linked to staff members."}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Link unlinked users to existing staff members to give them access to the system."}),c.jsx("div",{className:"space-y-3",children:t.map(p=>c.jsx("div",{className:"border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:p.name||p.email}),c.jsx("p",{className:"text-sm text-gray-500",children:p.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Role: ",p.role]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm",onChange:m=>{m.target.value&&h(p.id,parseInt(m.target.value))},defaultValue:"",children:[c.jsx("option",{value:"",children:"Select staff member..."}),r.map(m=>c.jsxs("option",{value:m.id,children:[m.name," (",m.email,")"]},m.id))]})})]})},p.id))})]}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:f,disabled:i,className:"text-sm text-indigo-600 hover:text-indigo-500 disabled:opacity-50",children:i?"Loading...":"Refresh"})})]})}const Rde=()=>{const{staffData:t,addStaffEntry:e,updateStaffEntry:r,deleteStaffEntry:n,loading:i,error:a,user:s}=Nt(),[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(ug()),[p,m]=C.useState([]),[g,v]=C.useState(!1),[x,y]=C.useState(null),[b,_]=C.useState(!1),w=()=>{d(null),h(ug()),l(!0)},S=O=>{d(O),h({name:O.name||"",email:O.email||"",phone:O.phone||"",role:O.role||"Worker",status:O.status||"Active",hireDate:O.hireDate||"",notes:O.notes||"",store_id:O.store_id||null,payType:O.payType||"hourly",hourlyRate:O.hourlyRate||0,salaryAmount:O.salaryAmount||0,preferredHoursPerWeek:O.preferredHoursPerWeek||0,maxHoursPerWeek:O.maxHoursPerWeek||0}),l(!0)},j=async O=>{if(window.confirm("Are you sure you want to delete this staff member?")){const z=await n(O);z.success||alert(`Error deleting staff: ${z.error}`)}},E=O=>{y(O),v(!0)},A=async O=>{if(O.preventDefault(),!f.name||!f.email){alert("Name and email are required");return}const z=u?await r(u.id,f):await e(f);z.success?(l(!1),h(ug())):alert(`Error ${u?"updating":"adding"} staff: ${z.error}`)};C.useEffect(()=>{(async()=>{try{const z=await le.getStores();z.success&&m(z.data)}catch(z){console.error("Error fetching stores:",z)}})()},[]);const k=(O,z)=>{h(W=>({...W,[O]:z}))},D=O=>{switch(O){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"On Leave":return"text-yellow-600 bg-yellow-100";case"Terminated":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},P=O=>{switch(O){case"Manager":return"text-blue-600 bg-blue-100";case"Worker":return"text-green-600 bg-green-100";case"Driver":return"text-purple-600 bg-purple-100";case"Sales":return"text-orange-600 bg-orange-100";case"Support":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a?c.jsxs("div",{className:"alert alert-error",children:[c.jsx(hB,{className:"w-5 h-5"}),c.jsxs("span",{children:["Error loading staff data: ",a]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Staff Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage your staff members and their roles"})]}),c.jsxs("div",{className:"flex space-x-2",children:[(s==null?void 0:s.role)==="admin"&&c.jsxs("button",{onClick:()=>_(!0),className:"btn-outline",children:[c.jsx(aB,{className:"w-4 h-4 mr-2"}),"Link Users"]}),c.jsxs("button",{onClick:w,className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(On,{className:"w-8 h-8 text-primary"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Total Staff"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(hy,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Active"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.status==="Active").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(On,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Workers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.role==="Worker").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(On,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Managers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(O=>O.role==="Manager").length})]})]})})})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Contact"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Store"}),c.jsx("th",{children:"Hire Date"}),c.jsx("th",{children:"Pay Structure"}),c.jsx("th",{children:"Notes"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-secondary-500",children:c.jsx("p",{className:"text-gray-500 text-center",children:"No staff members found. Add your first staff member to get started."})})}):t.map(O=>{var z;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{children:c.jsx("div",{className:"font-medium text-secondary-900",children:O.name})})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[O.email&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(oB,{className:"w-3 h-3 mr-1"}),O.email]}),O.phone&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(cB,{className:"w-3 h-3 mr-1"}),O.phone]})]})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P(O.role)),children:O.role})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",D(O.status)),children:O.status})}),c.jsx("td",{children:O.store_id?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(xn,{className:"w-3 h-3 mr-1 text-blue-600"}),c.jsx("span",{children:((z=p.find(W=>W.id===O.store_id))==null?void 0:z.name)||"Unknown Store"})]}):c.jsx("span",{className:"text-secondary-400 text-sm",children:"Unassigned"})}),c.jsx("td",{children:O.hireDate?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Or,{className:"w-3 h-3 mr-1"}),qo(O.hireDate)]}):c.jsx("span",{className:"text-secondary-400",children:"Not set"})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(qn,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"font-medium",children:O.payType==="hourly"?"Hourly":O.payType==="salary"?"Salary":O.payType==="salary+bonus"?"Salary+Bonus":O.payType})]}),O.payType==="hourly"&&O.hourlyRate>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",O.hourlyRate,"/hr"]}),(O.payType==="salary"||O.payType==="salary+bonus")&&O.salaryAmount>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",O.salaryAmount.toLocaleString(),"/year"]}),O.preferredHoursPerWeek>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:[O.preferredHoursPerWeek,"h preferred"]})]})}),c.jsx("td",{children:O.notes?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(py,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"truncate max-w-32",title:O.notes,children:O.notes})]}):c.jsx("span",{className:"text-secondary-400",children:"No notes"})}),c.jsx("td",{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>S(O),className:"btn-icon btn-sm",title:"Edit",children:c.jsx(gs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>E(O),className:"btn-icon btn-sm text-green-600 hover:text-green-700",title:"Manage Bonus Tiers",children:c.jsx(iO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(O.id),className:"btn-icon btn-sm text-red-600 hover:text-red-700",title:"Delete",children:c.jsx(ma,{className:"w-4 h-4"})})]})})]},O.id)})})]})})})}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:u?"Edit Staff Member":"Add Staff Member"}),c.jsx("button",{onClick:()=>l(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:f.name,onChange:O=>k("name",O.target.value),className:"input",placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:f.email,onChange:O=>k("email",O.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:f.phone,onChange:O=>k("phone",O.target.value),className:"input",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Role"}),c.jsx("select",{value:f.role,onChange:O=>k("role",O.target.value),className:"input",children:UF.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status"}),c.jsx("select",{value:f.status,onChange:O=>k("status",O.target.value),className:"input",children:HF.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hire Date"}),c.jsx("input",{type:"date",value:f.hireDate,onChange:O=>k("hireDate",O.target.value),className:"input"})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Pay Structure"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Pay Type"}),c.jsx("select",{value:f.payType,onChange:O=>k("payType",O.target.value),className:"input",children:zF.map(O=>c.jsx("option",{value:O,children:O==="hourly"?"Hourly":O==="salary"?"Salary":O==="salary+bonus"?"Salary + Bonus":O},O))})]}),f.payType==="hourly"&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hourly Rate ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.hourlyRate,onChange:O=>k("hourlyRate",parseFloat(O.target.value)||0),className:"input",placeholder:"0.00"})]}),(f.payType==="salary"||f.payType==="salary+bonus")&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Salary Amount ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:f.salaryAmount,onChange:O=>k("salaryAmount",parseFloat(O.target.value)||0),className:"input",placeholder:"0.00"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Preferred Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.preferredHoursPerWeek,onChange:O=>k("preferredHoursPerWeek",parseFloat(O.target.value)||0),className:"input",placeholder:"40"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Max Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:f.maxHoursPerWeek,onChange:O=>k("maxHoursPerWeek",parseFloat(O.target.value)||0),className:"input",placeholder:"40"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Assigned Store"}),c.jsxs("select",{value:f.store_id||"",onChange:O=>k("store_id",O.target.value?parseInt(O.target.value):null),className:"input",children:[c.jsx("option",{value:"",children:"No Store Assigned"}),p.map(O=>c.jsxs("option",{value:O.id,children:[O.name," (#",O.number,")"]},O.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Notes"}),c.jsx("textarea",{value:f.notes,onChange:O=>k("notes",O.target.value),className:"input",rows:"3",placeholder:"Additional notes about this staff member"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-outline",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",children:[u?"Update":"Add"," Staff Member"]})]})]})]})}),g&&x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Bonus Tiers Management - ",x.name]}),c.jsx("button",{onClick:()=>v(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsx(Pde,{staffId:x.id,staffName:x.name,onSave:()=>{v(!1)}})]})}),b&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Link Users to Staff Members"}),c.jsx("button",{onClick:()=>_(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsx(Mde,{})]})})]})},iT=({task:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=h=>{switch(h){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=h=>h?Sw(new Date(h),{addSuffix:!0}):"No due date",l=h=>{if(!h)return[];let p=[];return Array.isArray(h)?p=h:p=[h],p.map(m=>{const g=e.find(v=>v.id===m);return g?g.name:"Unknown User"})},u=h=>{switch(h){case"urgent":return c.jsx(An,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(An,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(An,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(An,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(An,{className:"w-3 h-3 text-gray-600"})}},d=l(t.assigned_to),f=d.length===0;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-1",children:f?c.jsxs(c.Fragment,{children:[c.jsx(ns,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):d.length===1?c.jsxs(c.Fragment,{children:[c.jsx(ns,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:d[0]})]}):c.jsxs(c.Fragment,{children:[c.jsx(On,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 truncate",children:[d.length," assignees"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:t.title})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(t.priority)),children:t.priority}),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(t.status)),children:t.status.replace("_"," ")})]})]}),t.description&&c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),d.length>1&&c.jsx("div",{className:"mb-3",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((h,p)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h},p))})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[u(t.priority),c.jsx("span",{className:"capitalize",children:t.priority})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ha,{className:"w-4 h-4"}),c.jsx("span",{children:o(t.due_date)})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>r(t),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(gs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ma,{className:"w-4 h-4"})})]})]})]})},aT=({tasks:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=d=>{switch(d){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=d=>{switch(d){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>d?Sw(new Date(d),{addSuffix:!0}):"No due date",l=d=>{if(!d)return[];let f=[];return Array.isArray(d)?f=d:f=[d],f.map(h=>{const p=e.find(m=>m.id===h);return p?p.name:"Unknown User"})},u=d=>{switch(d){case"urgent":return c.jsx(An,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(An,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(An,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(An,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(An,{className:"w-3 h-3 text-gray-600"})}};return t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})]}):c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignee(s)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>{const f=l(d.assigned_to),h=f.length===0;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ns,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):f.length===1?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ns,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:f[0]})]}):c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(On,{className:"w-4 h-4 text-gray-500"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.length," assignees"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:f.map((p,m)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:p},m))})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:d.title}),d.description&&c.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:d.description})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[u(d.priority),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(d.priority)),children:d.priority})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(d.status)),children:d.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[c.jsx(ha,{className:"w-4 h-4"}),c.jsx("span",{children:o(d.due_date)})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[c.jsx("button",{onClick:()=>r(d),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(gs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(ma,{className:"w-4 h-4"})})]})})]},d.id)})})]})})})},Ide=({task:t=null,users:e=[],onSubmit:r,onCancel:n})=>{const[i,a]=C.useState({title:"",description:"",assigned_to:[],priority:"normal",status:"pending",due_date:"",category:"general"}),[s,o]=C.useState([]);C.useEffect(()=>{if(t){let p=[];t.assigned_to&&(Array.isArray(t.assigned_to)?p=t.assigned_to:p=[t.assigned_to]),a({title:t.title||"",description:t.description||"",assigned_to:p,priority:t.priority||"normal",status:t.status||"pending",due_date:t.due_date?t.due_date.split("T")[0]:"",category:t.category||"general"}),o(p)}},[t]);const l=p=>{p.preventDefault(),r(i)},u=p=>{const{name:m,value:g}=p.target;a(v=>({...v,[m]:g}))},d=p=>{const m=parseInt(p.target.value);if(m&&!s.includes(m)){const g=[...s,m];o(g),a(v=>({...v,assigned_to:g}))}},f=p=>{const m=s.filter(g=>g!==p);o(m),a(g=>({...g,assigned_to:m}))},h=()=>s.map(p=>{const m=e.find(g=>g.id===p);return m?m.name:"Unknown User"});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Task":"Create New Task"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Hc,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",name:"title",value:i.title,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:i.description,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),s.length>0&&c.jsx("div",{className:"mb-2",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:h().map((p,m)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[c.jsx("span",{children:p}),c.jsx("button",{type:"button",onClick:()=>f(s[m]),className:"text-blue-600 hover:text-blue-800",children:c.jsx(Hc,{className:"w-3 h-3"})})]},s[m]))})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:"",onChange:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Add assignee..."}),e.filter(p=>!s.includes(p.id)).map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]}),c.jsx("div",{className:"text-gray-400",children:c.jsx(On,{className:"w-5 h-5"})})]}),s.length===0&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for unassigned task"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),c.jsxs("select",{name:"priority",value:i.priority,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:i.status,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"date",name:"due_date",value:i.due_date,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{name:"category",value:i.category,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"sales",children:"Sales"}),c.jsx("option",{value:"venue",children:"Venue"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:t?"Update Task":"Create Task"})]})]})]})})},$de=()=>{const{loading:t,tasksData:e,staffData:r,currentUser:n,user:i,loadTasks:a,addTask:s,updateTask:o,deleteTask:l,setCurrentUser:u}=Nt(),[d,f]=C.useState(!1),[h,p]=C.useState(null),[m,g]=C.useState("all"),[v,x]=C.useState("all"),[y,b]=C.useState("list");C.useEffect(()=>{i!=null&&i.staffMember&&!n?u(i.staffMember):r.length>0&&!n&&!(i!=null&&i.staffMember)&&u(r[0]),a()},[r,n,u,a,i]),C.useEffect(()=>{i!=null&&i.staffMember&&!n&&u(i.staffMember)},[i,n,u]);const _=async O=>{if(!n)return;const z={...O,assigned_by:n.id,assigned_to:O.assigned_to.length===0?null:O.assigned_to};(await s(z)).success&&f(!1)},w=async O=>{const z={...O,assigned_to:O.assigned_to.length===0?null:O.assigned_to};(await o(h.id,z)).success&&(f(!1),p(null))},S=async O=>{window.confirm("Are you sure you want to delete this task?")&&await l(O)},j=O=>{p(O),f(!0)},E=O=>{},k=(()=>{let O=e;return yd(n)||(O=e.filter(z=>!z.assigned_to||Array.isArray(z.assigned_to)&&z.assigned_to.length===0?!0:Array.isArray(z.assigned_to)?z.assigned_to.includes(n==null?void 0:n.id):z.assigned_to===(n==null?void 0:n.id))),O.filter(z=>{const W=m==="all"||z.status===m,G=v==="all"||z.priority===v;return W&&G})})(),D=k.filter(O=>O.assigned_to?Array.isArray(O.assigned_to)?O.assigned_to.length===0:!1:!0),P=k.filter(O=>O.assigned_to?Array.isArray(O.assigned_to)?O.assigned_to.length>0:!0:!1);return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading tasks..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Task Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Create, assign, and track tasks for your staff"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),c.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-secondary-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(rB,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),c.jsxs("select",{value:m,onChange:O=>g(O.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:v,onChange:O=>x(O.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Priorities"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>b("card"),className:`p-2 rounded-md transition-colors ${y==="card"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Card view",children:c.jsx(iB,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-md transition-colors ${y==="list"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"List view",children:c.jsx(sB,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(dy,{className:"w-5 h-5 text-orange-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unassigned Tasks"}),c.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:D.length})]})}),c.jsx("div",{className:"p-6",children:D.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No unassigned tasks"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(O=>c.jsx(iT,{task:O,staffData:r,onEdit:j,onDelete:S,onViewComments:E},O.id))}):c.jsx(aT,{tasks:D,staffData:r,onEdit:j,onDelete:S,onViewComments:E})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ns,{className:"w-5 h-5 text-blue-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:yd(n)?"All Assigned Tasks":"My Tasks"}),c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:P.length})]})}),c.jsx("div",{className:"p-6",children:P.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:yd(n)?"No assigned tasks found":"No tasks assigned to you"})]}):y==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(O=>c.jsx(iT,{task:O,staffData:r,onEdit:j,onDelete:S,onViewComments:E},O.id))}):c.jsx(aT,{tasks:P,staffData:r,onEdit:j,onDelete:S,onViewComments:E})})]}),k.length===0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500",children:yd(n)?"No tasks found. Create your first task!":"No tasks assigned to you. Contact your manager for new assignments."})]})]}),d&&c.jsx(Ide,{task:h,users:r,onSubmit:h?w:_,onCancel:()=>{f(!1),p(null)}})]})})};var xm,xe,eM,tM,Yo,Ia,sT,rM,nM,Vh={},iM=[],Lde=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Bi(t,e){for(var r in e)t[r]=e[r];return t}function aM(t){var e=t.parentNode;e&&e.removeChild(t)}function $(t,e,r){var n,i,a,s={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?xm.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return nf(t,s,n,i,null)}function nf(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++eM};return i==null&&xe.vnode!=null&&xe.vnode(a),a}function ur(){return{current:null}}function at(t){return t.children}function Fde(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||Gh(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Gh(t,a,e[a],r[a],n)}function oT(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Lde.test(e)?r:r+"px"}function Gh(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||oT(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||oT(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?cT:lT,a):t.removeEventListener(e,a?cT:lT,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function lT(t){Yo=!0;try{return this.l[t.type+!1](xe.event?xe.event(t):t)}finally{Yo=!1}}function cT(t){Yo=!0;try{return this.l[t.type+!0](xe.event?xe.event(t):t)}finally{Yo=!1}}function Pr(t,e){this.props=t,this.context=e}function Eu(t,e){if(e==null)return t.__?Eu(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Eu(t):null}function sM(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return sM(t)}}function Bde(t){Yo?setTimeout(t):rM(t)}function V0(t){(!t.__d&&(t.__d=!0)&&Ia.push(t)&&!qh.__r++||sT!==xe.debounceRendering)&&((sT=xe.debounceRendering)||Bde)(qh)}function qh(){var t,e,r,n,i,a,s,o;for(Ia.sort(function(l,u){return l.__v.__b-u.__v.__b});t=Ia.shift();)t.__d&&(e=Ia.length,n=void 0,i=void 0,s=(a=(r=t).__v).__e,(o=r.__P)&&(n=[],(i=Bi({},a)).__v=a.__v+1,_w(o,a,i,r.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,n,s??Eu(a),a.__h),dM(n,a),a.__e!=s&&sM(a)),Ia.length>e&&Ia.sort(function(l,u){return l.__v.__b-u.__v.__b}));qh.__r=0}function oM(t,e,r,n,i,a,s,o,l,u){var d,f,h,p,m,g,v,x=n&&n.__k||iM,y=x.length;for(r.__k=[],d=0;d<e.length;d++)if((p=r.__k[d]=(p=e[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?nf(null,p,null,null,p):Array.isArray(p)?nf(at,{children:p},null,null,null):p.__b>0?nf(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(h=x[d])===null||h&&p.key==h.key&&p.type===h.type)x[d]=void 0;else for(f=0;f<y;f++){if((h=x[f])&&p.key==h.key&&p.type===h.type){x[f]=void 0;break}h=null}_w(t,p,h=h||Vh,i,a,s,o,l,u),m=p.__e,(f=p.ref)&&h.ref!=f&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(f,p.__c||m,p)),m!=null?(g==null&&(g=m),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=lM(p,l,t):l=cM(t,p,h,x,m,l),typeof r.type=="function"&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Eu(h))}for(r.__e=g,d=y;d--;)x[d]!=null&&(typeof r.type=="function"&&x[d].__e!=null&&x[d].__e==r.__d&&(r.__d=uM(n).nextSibling),hM(x[d],x[d]));if(v)for(d=0;d<v.length;d++)fM(v[d],v[++d],v[++d])}function lM(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?lM(n,e,r):cM(r,n,n,i,n.__e,e));return e}function Yh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Yh(r,e)}):e.push(t)),e}function cM(t,e,r,n,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function uM(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=uM(r)))return n}return null}function _w(t,e,r,n,i,a,s,o,l){var u,d,f,h,p,m,g,v,x,y,b,_,w,S,j,E=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,o=e.__e=r.__e,e.__h=null,a=[o]),(u=xe.__b)&&u(e);try{e:if(typeof E=="function"){if(v=e.props,x=(u=E.contextType)&&n[u.__c],y=u?x?x.props.value:u.__:n,r.__c?g=(d=e.__c=r.__c).__=d.__E:("prototype"in E&&E.prototype.render?e.__c=d=new E(v,y):(e.__c=d=new Pr(v,y),d.constructor=E,d.render=Hde),x&&x.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),E.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Bi({},d.__s)),Bi(d.__s,E.getDerivedStateFromProps(v,d.__s))),h=d.props,p=d.state,d.__v=e,f)E.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(E.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,y),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(A){A&&(A.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,y),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=y,d.props=v,d.__P=t,_=xe.__r,w=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(n=Bi(Bi({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(h,p)),j=u!=null&&u.type===at&&u.key==null?u.props.children:u,oM(t,Array.isArray(j)?j:[j],e,r,n,i,a,s,o,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Ude(r.__e,e,r,n,i,a,s,l);(u=xe.diffed)&&u(e)}catch(A){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),xe.__e(A,e,r)}}function dM(t,e){xe.__c&&xe.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){xe.__e(n,r.__v)}})}function Ude(t,e,r,n,i,a,s,o){var l,u,d,f=r.props,h=e.props,p=e.type,m=0;if(p==="svg"&&(i=!0),a!=null){for(;m<a.length;m++)if((l=a[m])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,a[m]=null;break}}if(t==null){if(p===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),a=null,o=!1}if(p===null)f===h||o&&t.data===h||(t.data=h);else{if(a=a&&xm.call(t.childNodes),u=(f=r.props||Vh).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(a!=null)for(f={},m=0;m<t.attributes.length;m++)f[t.attributes[m].name]=t.attributes[m].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(Fde(t,h,f,i,o),d)e.__k=[];else if(m=e.props.children,oM(t,Array.isArray(m)?m:[m],e,r,n,i&&p!=="foreignObject",a,s,a?a[0]:r.__k&&Eu(r,0),o),a!=null)for(m=a.length;m--;)a[m]!=null&&aM(a[m]);o||("value"in h&&(m=h.value)!==void 0&&(m!==t.value||p==="progress"&&!m||p==="option"&&m!==f.value)&&Gh(t,"value",m,f.value,!1),"checked"in h&&(m=h.checked)!==void 0&&m!==t.checked&&Gh(t,"checked",m,f.checked,!1))}return t}function fM(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){xe.__e(n,r)}}function hM(t,e,r){var n,i;if(xe.unmount&&xe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||fM(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){xe.__e(a,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&hM(n[i],e,r||typeof t.type!="function");r||t.__e==null||aM(t.__e),t.__=t.__e=t.__d=void 0}function Hde(t,e,r){return this.constructor(t,r)}function ju(t,e,r){var n,i,a;xe.__&&xe.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],_w(e,t=(!n&&r||e).__k=$(at,null,[t]),i||Vh,Vh,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?xm.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),dM(a,t)}function zde(t,e){var r={__c:e="__cC"+nM++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,V0(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}xm=iM.slice,xe={__e:function(t,e,r,n){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},eM=0,tM=function(t){return t!=null&&t.constructor===void 0},Yo=!1,Pr.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Bi({},this.state),typeof t=="function"&&(t=t(Bi({},r),this.props)),t&&Bi(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),V0(this))},Pr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),V0(this))},Pr.prototype.render=at,Ia=[],rM=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,qh.__r=0,nM=0;var En,Wg,uT,pM=[],Vg=[],dT=xe.__b,fT=xe.__r,hT=xe.diffed,pT=xe.__c,mT=xe.unmount;function Wde(){for(var t;t=pM.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(af),t.__H.__h.forEach(G0),t.__H.__h=[]}catch(e){t.__H.__h=[],xe.__e(e,t.__v)}}xe.__b=function(t){En=null,dT&&dT(t)},xe.__r=function(t){fT&&fT(t);var e=(En=t.__c).__H;e&&(Wg===En?(e.__h=[],En.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Vg,r.__N=r.i=void 0})):(e.__h.forEach(af),e.__h.forEach(G0),e.__h=[])),Wg=En},xe.diffed=function(t){hT&&hT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(pM.push(e)!==1&&uT===xe.requestAnimationFrame||((uT=xe.requestAnimationFrame)||Vde)(Wde)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Vg&&(r.__=r.__V),r.i=void 0,r.__V=Vg})),Wg=En=null},xe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(af),r.__h=r.__h.filter(function(n){return!n.__||G0(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],xe.__e(n,r.__v)}}),pT&&pT(t,e)},xe.unmount=function(t){mT&&mT(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{af(n)}catch(i){e=i}}),r.__H=void 0,e&&xe.__e(e,r.__v))};var gT=typeof requestAnimationFrame=="function";function Vde(t){var e,r=function(){clearTimeout(n),gT&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);gT&&(e=requestAnimationFrame(r))}function af(t){var e=En,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),En=e}function G0(t){var e=En;t.__c=t.__(),En=e}function Gde(t,e){for(var r in e)t[r]=e[r];return t}function vT(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function yT(t){this.props=t}(yT.prototype=new Pr).isPureReactComponent=!0,yT.prototype.shouldComponentUpdate=function(t,e){return vT(this.props,t)||vT(this.state,e)};var xT=xe.__b;xe.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),xT&&xT(t)};var qde=xe.__e;xe.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}qde(t,e,r,n)};var bT=xe.unmount;function mM(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Gde({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return mM(n,e,r)})),t}function gM(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return gM(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function Gg(){this.__u=0,this.t=null,this.__b=null}function vM(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Md(){this.u=null,this.o=null}xe.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),bT&&bT(t)},(Gg.prototype=new Pr).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=vM(n.__v),a=!1,s=function(){a||(a=!0,r.__R=null,i?i(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=gM(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},Gg.prototype.componentWillUnmount=function(){this.t=[]},Gg.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=mM(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&$(at,null,t.fallback);return i&&(i.__h=null),[$(at,null,e.__a?null:t.children),i]};var wT=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function Yde(t){return this.getChildContext=function(){return t.context},t.children}function Kde(t){var e=this,r=t.i;e.componentWillUnmount=function(){ju(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),ju($(Yde,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Xde(t,e){var r=$(Kde,{__v:t,i:e});return r.containerInfo=e,r}(Md.prototype=new Pr).__a=function(t){var e=this,r=vM(e.__v),n=e.o.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),wT(e,t,n)):i()};r?r(a):a()}},Md.prototype.render=function(t){this.u=null,this.o=new Map;var e=Yh(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Md.prototype.componentDidUpdate=Md.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){wT(t,r,e)})};var Qde=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Zde=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Jde=typeof document<"u",efe=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Pr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Pr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var ST=xe.event;function tfe(){}function rfe(){return this.cancelBubble}function nfe(){return this.defaultPrevented}xe.event=function(t){return ST&&(t=ST(t)),t.persist=tfe,t.isPropagationStopped=rfe,t.isDefaultPrevented=nfe,t.nativeEvent=t};var _T={configurable:!0,get:function(){return this.class}},ET=xe.vnode;xe.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in n={},r){var s=r[a];Jde&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in r&&s==null||(a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!efe(r.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&Zde.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Yh(r.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Yh(r.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),t.props=n,r.class!=r.className&&(_T.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",_T))}t.$$typeof=Qde,ET&&ET(t)};var jT=xe.__r;xe.__r=function(t){jT&&jT(t),t.__c};const yM=[],q0=new Map;function Ew(t){yM.push(t),q0.forEach(e=>{bM(e,t)})}function ife(t){t.isConnected&&t.getRootNode&&xM(t.getRootNode())}function xM(t){let e=q0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=sfe();r&&(e.nonce=r);const n=t===document?document.head:t,i=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,i)}q0.set(t,e),afe(e)}}function afe(t){for(const e of yM)bM(t,e)}function bM(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&r.insertRule(i+"}",n+a)})}let qg;function sfe(){return qg===void 0&&(qg=ofe()),qg}function ofe(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&xM(document);var lfe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Ew(lfe);class jw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Aw(t){t.parentNode&&t.parentNode.removeChild(t)}function ir(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(cfe(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function cfe(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function ufe(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let i=0;i<r.length;i+=1){let a=r[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)n.push(a[s])}return n}const dfe=/(top|left|right|bottom|width|height)$/i;function xc(t,e){for(let r in e)wM(t,r,e[r])}function wM(t,e,r){r==null?t.style[e]="":typeof r=="number"&&dfe.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function SM(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let AT=0;function bm(){return AT+=1,"fc-dom-"+AT}function wm(t){t.preventDefault()}function ffe(t,e){return r=>{let n=ir(r.target,t);n&&e.call(n,r,n)}}function _M(t,e,r,n){let i=ffe(r,n);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function hfe(t,e,r,n){let i;return _M(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,r(a,s);let o=l=>{i=null,n(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const TT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function pfe(t,e){let r=n=>{e(n),TT.forEach(i=>{t.removeEventListener(i,r)})};TT.forEach(n=>{t.addEventListener(n,r)})}function EM(t){return Object.assign({onClick:t},jM(t))}function jM(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let NT=0;function _s(){return NT+=1,String(NT)}function Tw(){document.body.classList.add("fc-not-allowed")}function Nw(){document.body.classList.remove("fc-not-allowed")}function mfe(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",wm)}function gfe(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",wm)}function vfe(t){t.addEventListener("contextmenu",wm)}function yfe(t){t.removeEventListener("contextmenu",wm)}function xfe(t){let e=[],r=[],n,i;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)i=r[n],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function bfe(t,e,r){let n,i;for(n=0;n<r.length;n+=1)if(i=wfe(t,e,r[n]),i)return i;return 0}function wfe(t,e,r){return r.func?r.func(t,e):Sfe(t[r.field],e[r.field])*(r.order||1)}function Sfe(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function fo(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function bc(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,i,a)=>n.replace("$"+a,i||""),t):r}function _fe(t,e){return t-e}function sf(t){return t%1===0}function Efe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const CT=["years","months","days","milliseconds"],jfe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Re(t,e){return typeof t=="string"?Afe(t):typeof t=="object"&&t?kT(t):typeof t=="number"?kT({[e||"milliseconds"]:t}):null}function Afe(t){let e=jfe.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function kT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function Tfe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Y0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function Nfe(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function Cfe(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function kfe(t){return ho(t)/365}function Ofe(t){return ho(t)/30}function ho(t){return mn(t)/864e5}function mn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Cw(t,e){let r=null;for(let n=0;n<CT.length;n+=1){let i=CT[n];if(e[i]){let a=t[i]/e[i];if(!sf(a)||r!==null&&r!==a)return null;r=a}else if(t[i])return null}return r}function K0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function aa(t,e,r){if(t===e)return!0;let n=t.length,i;if(n!==e.length)return!1;for(i=0;i<n;i+=1)if(!(r?r(t[i],e[i]):t[i]===e[i]))return!1;return!0}const Dfe=["sun","mon","tue","wed","thu","fri","sat"];function OT(t,e){let r=Ui(t);return r[2]+=e*7,br(r)}function ar(t,e){let r=Ui(t);return r[2]+=e,br(r)}function sa(t,e){let r=Ui(t);return r[6]+=e,br(r)}function Pfe(t,e){return Es(t,e)/7}function Es(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Mfe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function Rfe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Ife(t,e){return(e.valueOf()-t.valueOf())/1e3}function $fe(t,e){let r=st(t),n=st(e);return{years:0,months:0,days:Math.round(Es(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function Lfe(t,e){let r=Kh(t,e);return r!==null&&r%7===0?r/7:null}function Kh(t,e){return Hi(t)===Hi(e)?Math.round(Es(t,e)):null}function st(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Ffe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Bfe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Ufe(t){return br([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Hfe(t,e,r){let n=t.getUTCFullYear(),i=Yg(t,n,e,r);if(i<1)return Yg(t,n-1,e,r);let a=Yg(t,n+1,e,r);return a>=1?Math.min(i,a):i}function Yg(t,e,r,n){let i=br([e,0,1+zfe(e,r,n)]),a=st(t),s=Math.round(Es(i,a));return Math.floor(s/7)+1}function zfe(t,e,r){let n=7+e-r;return-((7+br([t,0,n]).getUTCDay()-e)%7)+n-1}function DT(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function PT(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ui(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function br(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function AM(t){return!isNaN(t.valueOf())}function Hi(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function TM(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",Ow(e,!0)))),n}function kw(t){return t.toISOString().replace(/T.*$/,"")}function Wfe(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Vfe(t){return fo(t.getUTCHours(),2)+":"+fo(t.getUTCMinutes(),2)+":"+fo(t.getUTCSeconds(),2)}function Ow(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=Math.round(n%60);return e?`${r+fo(i,2)}:${fo(a,2)}`:`GMT${r}${i}${a?`:${fo(a,2)}`:""}`}function be(t,e,r){let n,i;return function(...a){if(!n)i=t.apply(this,a);else if(!aa(n,a)){r&&r(i);let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}function of(t,e,r){let n,i;return a=>{if(!n)i=t.call(this,a);else if(!bn(n,a)){r&&r(i);let s=t.call(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}const Kg={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Xh={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Rd=/\s*([ap])\.?m\.?/i,Gfe=/,/g,qfe=/\s+/g,Yfe=/\u200e/g,Kfe=/UTC|GMT/;class Xfe{constructor(e){let r={},n={},i=9;for(let a in e)a in Kg?(n[a]=e[a],Kg[a]<9&&(i=Math.min(Kg[a],i))):(r[a]=e[a],a in Xh&&(i=Math.min(Xh[a],i)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=i,this.buildFormattingFunc=be(MT)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,i){let{standardDateProps:a,extendedSettings:s}=this,o=rhe(e.marker,r.marker,n.calendarSystem);if(!o)return this.format(e,n);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=nhe(a,l),h=MT(f,s,n),p=h(e),m=h(r),g=ihe(u,p,d,m),v=s.separator||i||n.defaultSeparator||"";return g?g.before+p+v+m+g.after:u+v+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function MT(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?i=>Ow(i.timeZoneOffset):n===0&&e.week?i=>the(r.computeWeekNumber(i.marker),r.weekText,r.weekTextLong,r.locale,e.week):Qfe(t,e,r)}function Qfe(t,e,r){t=Object.assign({},t),e=Object.assign({},e),Zfe(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(r.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=n;let l=o.format(s);return Jfe(l,a,t,e,r)}}function Zfe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Jfe(t,e,r,n,i){return t=t.replace(Yfe,""),r.timeZoneName==="short"&&(t=ehe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Ow(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(Gfe,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(Rd,"").trim():n.meridiem==="narrow"?t=t.replace(Rd,(a,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(Rd,(a,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(Rd,a=>a.toLocaleLowerCase())),t=t.replace(qfe," "),t=t.trim(),t}function ehe(t,e){let r=!1;return t=t.replace(Kfe,()=>(r=!0,e)),r||(t+=` ${e}`),t}function the(t,e,r,n,i){let a=[];return i==="long"?a.push(r):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function rhe(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:Hi(t)!==Hi(e)?1:0}function nhe(t,e){let r={};for(let n in t)(!(n in Xh)||Xh[n]<=e)&&(r[n]=t[n]);return r}function ihe(t,e,r,n){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<r.length;){let u=r.indexOf(n,l);if(u===-1)break;let d=r.substr(0,u);l=u+n.length;let f=r.substr(l);if(s===d&&o===f)return{before:s,after:o}}}return null}function RT(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function Qh(t,e,r,n){let i=RT(t,r.calendarSystem),a=e?RT(e,r.calendarSystem):null;return{date:i,start:i,end:a,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class ahe{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,Qh(e,null,r,n))}formatRange(e,r,n,i){return n.cmdFormatter(this.cmdStr,Qh(e,r,n,i))}}class she{constructor(e){this.func=e}format(e,r,n){return this.func(Qh(e,null,r,n))}formatRange(e,r,n,i){return this.func(Qh(e,r,n,i))}}function gt(t){return typeof t=="object"&&t?new Xfe(t):typeof t=="string"?new ahe(t):typeof t=="function"?new she(t):null}const IT={navLinkDayClick:K,navLinkWeekClick:K,duration:Re,bootstrapFontAwesome:K,buttonIcons:K,customButtons:K,defaultAllDayEventDuration:Re,defaultTimedEventDuration:Re,nextDayThreshold:Re,scrollTime:Re,scrollTimeReset:Boolean,slotMinTime:Re,slotMaxTime:Re,dayPopoverFormat:gt,slotDuration:Re,snapDuration:Re,headerToolbar:K,footerToolbar:K,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:gt,dayHeaderClassNames:K,dayHeaderContent:K,dayHeaderDidMount:K,dayHeaderWillUnmount:K,dayCellClassNames:K,dayCellContent:K,dayCellDidMount:K,dayCellWillUnmount:K,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:K,weekNumbers:Boolean,weekNumberClassNames:K,weekNumberContent:K,weekNumberDidMount:K,weekNumberWillUnmount:K,editable:Boolean,viewClassNames:K,viewDidMount:K,viewWillUnmount:K,nowIndicator:Boolean,nowIndicatorClassNames:K,nowIndicatorContent:K,nowIndicatorDidMount:K,nowIndicatorWillUnmount:K,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:K,locale:K,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:K,eventOrder:xfe,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:K,contentHeight:K,direction:String,weekNumberFormat:gt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:K,initialDate:K,now:K,eventDataTransform:K,stickyHeaderDates:K,stickyFooterScrollbar:K,viewHeight:K,defaultAllDay:Boolean,eventSourceFailure:K,eventSourceSuccess:K,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:K,eventConstraint:K,eventAllow:K,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:K,eventContent:K,eventDidMount:K,eventWillUnmount:K,selectConstraint:K,selectOverlap:K,selectAllow:K,droppable:Boolean,unselectCancel:String,slotLabelFormat:K,slotLaneClassNames:K,slotLaneContent:K,slotLaneDidMount:K,slotLaneWillUnmount:K,slotLabelClassNames:K,slotLabelContent:K,slotLabelDidMount:K,slotLabelWillUnmount:K,dayMaxEvents:K,dayMaxEventRows:K,dayMinWidth:Number,slotLabelInterval:Re,allDayText:String,allDayClassNames:K,allDayContent:K,allDayDidMount:K,allDayWillUnmount:K,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:gt,rerenderDelay:Number,moreLinkText:K,moreLinkHint:K,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:K,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Re,hiddenDays:K,fixedWeekCount:Boolean,validRange:K,visibleRange:K,titleFormat:K,eventInteractive:Boolean,noEventsText:String,viewHint:K,navLinkHint:K,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:K,moreLinkClassNames:K,moreLinkContent:K,moreLinkDidMount:K,moreLinkWillUnmount:K,monthStartFormat:gt,handleCustomRendering:K,customRenderingMetaMap:K,customRenderingReplaces:Boolean},wc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},$T={datesSet:K,eventsSet:K,eventAdd:K,eventChange:K,eventRemove:K,windowResize:K,eventClick:K,eventMouseEnter:K,eventMouseLeave:K,select:K,unselect:K,loading:K,_unmount:K,_beforeprint:K,_afterprint:K,_noEventDrop:K,_noEventResize:K,_resize:K,_scrollRequest:K},LT={buttonText:K,buttonHints:K,views:K,plugins:K,initialEvents:K,events:K,eventSources:K},Pa={headerToolbar:Ma,footerToolbar:Ma,buttonText:Ma,buttonHints:Ma,buttonIcons:Ma,dateIncrement:Ma,plugins:Id,events:Id,eventSources:Id,resources:Id};function Ma(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?bn(t,e):t===e}function Id(t,e){return Array.isArray(t)&&Array.isArray(e)?aa(t,e):t===e}const ohe={type:String,component:K,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:K,usesMinMaxTime:Boolean,classNames:K,content:K,didMount:K,willUnmount:K};function Xg(t){return Pw(t,Pa)}function Dw(t,e){let r={},n={};for(let i in e)i in t&&(r[i]=e[i](t[i]));for(let i in t)i in e||(n[i]=t[i]);return{refined:r,extra:n}}function K(t){return t}const{hasOwnProperty:Zh}=Object.prototype;function Pw(t,e){let r={};if(e){for(let n in e)if(e[n]===Ma){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][n];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){r[n]=s;break}}i.length&&(r[n]=Pw(i))}}for(let n=t.length-1;n>=0;n-=1){let i=t[n];for(let a in i)a in r||(r[a]=i[a])}return r}function us(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function hi(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function NM(t){let e={};for(let r of t)e[r]=!0;return e}function Mw(t){let e=[];for(let r in t)e.push(t[r]);return e}function bn(t,e){if(t===e)return!0;for(let r in t)if(Zh.call(t,r)&&!(r in e))return!1;for(let r in e)if(Zh.call(e,r)&&t[r]!==e[r])return!1;return!0}const lhe=/^on[A-Z]/;function che(t,e){const r=uhe(t,e);for(let n of r)if(!lhe.test(n))return!1;return!0}function uhe(t,e){let r=[];for(let n in t)Zh.call(t,n)&&(n in e||r.push(n));for(let n in e)Zh.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function Qg(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&dhe(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function dhe(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function fhe(t,e=0,r,n=1){let i=[];r==null&&(r=Object.keys(t).length);for(let a=e;a<r;a+=n){let s=t[a];s!==void 0&&i.push(s)}return i}let CM={};function hhe(t,e){CM[t]=e}function phe(t){return new CM[t]}class mhe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return br(e)}markerToArray(e){return Ui(e)}}hhe("gregory",mhe);const ghe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function vhe(t){let e=ghe.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(AM(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class yhe{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=phe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):br(DT(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=br(e)),r===null||!AM(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=vhe(e);if(r===null)return null;let{marker:n}=r,i=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):i=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return Hi(e)===Hi(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return Hi(e)===Hi(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=Lfe(e,r),n!==null?{unit:"week",value:n}:(n=Kh(e,r),n!==null?{unit:"day",value:n}:(n=Mfe(e,r),sf(n)?{unit:"hour",value:n}:(n=Rfe(e,r),sf(n)?{unit:"minute",value:n}:(n=Ife(e,r),sf(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let i;return n.years&&(i=this.diffWholeYears(e,r),i!==null)?i/kfe(n):n.months&&(i=this.diffWholeMonths(e,r),i!==null)?i/Ofe(n):n.days&&(i=Kh(e,r),i!==null)?i/ho(n):(r.valueOf()-e.valueOf())/mn(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?st(e):r==="hour"?Ffe(e):r==="minute"?Bfe(e):r==="second"?Ufe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Hfe(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,i={}){return i.isEndExclusive&&(r=sa(r,-1)),n.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(r)},this,i.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),TM(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?br(DT(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):br(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-PT(Ui(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ui(e)):null}toDate(e,r){return this.timeZone==="local"?PT(Ui(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ui(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class Wu{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}Wu.prototype.classes={};Wu.prototype.iconClasses={};Wu.prototype.baseIconClass="";Wu.prototype.iconOverridePrefix="";function Jh(t){t();let e=xe.debounceRendering,r=[];function n(i){r.push(i)}for(xe.debounceRendering=n,ju($(xhe,{}),document.createElement("div"));r.length;)r.shift()();xe.debounceRendering=e}class xhe extends Pr{render(){return $("div",{})}componentDidMount(){this.setState({})}}function kM(t){let e=zde(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,i=r.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class bhe{constructor(e,r,n,i){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const yi=kM({});function whe(t,e,r,n,i,a,s,o,l,u,d,f,h,p){return{dateEnv:i,nowManager:a,options:r,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(m){d.on("_resize",m)},removeResizeHandler(m){d.off("_resize",m)},createScrollResponder(m){return new bhe(m,d,Re(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class js extends Pr{shouldComponentUpdate(e,r){return!Qg(this.props,e,this.propEquality)||!Qg(this.state,r,this.stateEquality)}safeSetState(e){Qg(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}js.addPropsEquality=She;js.addStateEquality=_he;js.contextType=yi;js.prototype.propEquality={};js.prototype.stateEquality={};class ze extends js{}ze.contextType=yi;function She(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function _he(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function $n(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Rw extends ze{constructor(){super(...arguments),this.id=_s(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!X0(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&$n(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=OM(e,[],this.handleEl);let l=!1,u,d=[],f;if(i!=null){const h=typeof i=="function"?i(s,$):i;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(p?tM(h):typeof h!="function")?u=h:f=h}}else l=!X0(e.generatorName,n);return l&&a&&(u=a(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,$(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(Ehe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!aa(e,r)){r.forEach(Aw);for(let i of e)n.appendChild(i);this.currentDomNodes=e}}}Rw.addPropsEquality({elClasses:aa,elStyle:bn,elAttrs:che,renderProps:bn});function X0(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function OM(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function Ehe(t){return!!t}const DM=kM(0);class Lr extends Pr{constructor(){super(...arguments),this.InnerContent=jhe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&($n(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=Ahe(e.classNameGenerator,e.renderProps);if(e.children){const n=OM(e,r,this.handleEl),i=e.children(this.InnerContent,e.renderProps,n);return e.elTag?$(e.elTag,n,i):i}else return $(Rw,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Lr.contextType=DM;function jhe(t,e){const r=t.props;return $(Rw,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function Ahe(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class ep extends ze{render(){let{props:e,context:r}=this,{options:n}=r,i={view:r.viewApi};return $(Lr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...PM(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function PM(t){return[`fc-${t.type}-view`,"fc-view"]}function The(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function FT(t,e){let r=[],{start:n}=e,i,a;for(t.sort(Nhe),i=0;i<t.length;i+=1)a=t[i],a.start>n&&r.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<e.end&&r.push({start:n,end:e.end}),r}function Nhe(t,e){return t.start.valueOf()-e.start.valueOf()}function ds(t,e){let{start:r,end:n}=t,i=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(i={start:r,end:n}),i}function Che(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Iw(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Sm(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function ai(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function khe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function MM(t){let e=Math.floor(Es(t.start,t.end))||1,r=st(t.start),n=ar(r,e);return{start:r,end:n}}function RM(t,e=Re(0)){let r=null,n=null;if(t.end){n=st(t.end);let i=t.end.valueOf()-n.valueOf();i&&i>=mn(e)&&(n=ar(n,1))}return t.start&&(r=st(t.start),n&&n<=r&&(n=ar(r,1))),{start:r,end:n}}function eo(t,e,r,n){return n==="year"?Re(r.diffWholeYears(t,e),"year"):n==="month"?Re(r.diffWholeMonths(t,e),"month"):$fe(t,e)}class IM{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,r,n){let{dateEnv:i}=this.props,a=i.add(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,r,n=!0){let{props:i}=this,a,s,o,l,u,d;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(e=khe(e,a)),s=this.buildCurrentRangeInfo(e,r),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=ds(u,s.range)),u=this.adjustActiveRange(u),u=ds(u,a),d=Iw(s.range,a),ai(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,i=null,a=null,s=null,o;return n.duration?(i=n.duration,a=n.durationUnit,s=this.buildRangeFromDuration(e,r,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,r,o)):(s=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=K0(i).unit,s=this.buildRangeFromDuration(e,r,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Re({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return n&&(ho(i)<0&&(s=st(s),s=r.add(s,i)),ho(a)>1&&(o=st(o),o=ar(o,-1),o=r.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,r,n,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:f}=this.props;f&&mn(f)<mn(n)?s=K0(f).unit:s=i}ho(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,r),o=st(o));function d(){o=a.startOf(e,s),l=a.add(o,n),u={start:o,end:l}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=st(o),o=this.skipHiddenDays(o,r),l=o;do l=ar(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,i=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Re(1,n):e||Re({days:1}))}refineRange(e){if(e){let r=The(e,this.props.dateEnv);return r&&(r=RM(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(r[i]=e.indexOf(i)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=ar(e,r);return e}}function $w(t,e,r,n){return{instanceId:_s(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function Ohe(t,e,r,n){for(let i=0;i<n.length;i+=1){let a=n[i].parse(t,r);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function fs(t,e,r){let{dateEnv:n,pluginHooks:i,options:a}=r,{defs:s,instances:o}=t;o=us(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let f=Dhe(u,d,e,n,i.recurringTypes);for(let h of f){let p=$w(l,{start:h,end:n.add(h,d)});o[p.instanceId]=p}}}return{defs:s,instances:o}}function Dhe(t,e,r,n,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(st)),s}const lf={id:String,groupId:String,title:String,url:String,interactive:Boolean},$M={start:K,end:K,date:K,allDay:Boolean},Phe=Object.assign(Object.assign(Object.assign({},lf),$M),{extendedProps:K});function LM(t,e,r,n,i=Lw(r),a,s){let{refined:o,extra:l}=FM(t,r,i),u=Rhe(e,r),d=Ohe(o,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=Q0(o,l,e?e.sourceId:"",d.allDay,!!d.duration,r,a);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=Mhe(o,u,r,n);if(f){let h=Q0(o,l,e?e.sourceId:"",f.allDay,f.hasEnd,r,a),p=$w(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(p.instanceId=s[h.publicId]),{def:h,instance:p}}return null}function FM(t,e,r=Lw(e)){return Dw(t,r)}function Lw(t){return Object.assign(Object.assign(Object.assign({},tp),Phe),t.pluginHooks.eventRefiners)}function Q0(t,e,r,n,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||_s(),sourceId:r,allDay:n,hasEnd:i,interactive:t.interactive,ui:rp(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function Mhe(t,e,r,n){let{allDay:i}=t,a,s=null,o=!1,l,u=null,d=t.start!=null?t.start:t.date;if(a=r.dateEnv.createMarkerMeta(d),a)s=a.marker;else if(!n)return null;return t.end!=null&&(l=r.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=st(s)),l&&(u=l.marker,i&&(u=st(u)),s&&u<=s&&(u=null)),u?o=!0:n||(o=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,i?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Rhe(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function Au(t,e,r,n,i,a){let s=Mr(),o=Lw(r);for(let l of t){let u=LM(l,e,r,n,o,i,a);u&&Z0(u,s)}return s}function Z0(t,e=Mr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Fw(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],i=_m(t,a=>Ihe(n,a));return i.defs[n.defId]=n,i.instances[r.instanceId]=r,i}return Mr()}function Ihe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Mr(){return{defs:{},instances:{}}}function Bw(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function _m(t,e){let r=us(t.defs,e),n=us(t.instances,i=>r[i.defId]);return{defs:r,instances:n}}function $he(t,e){let{defs:r,instances:n}=t,i={},a={};for(let s in r)e.defs[s]||(i[s]=r[s]);for(let s in n)!e.instances[s]&&i[n[s].defId]&&(a[s]=n[s]);return{defs:i,instances:a}}function Lhe(t,e){return Array.isArray(t)?Au(t,null,e,!0):typeof t=="object"&&t?Au([t],null,e,!0):t!=null?String(t):null}function BT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const tp={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:K,overlap:K,allow:K,className:BT,classNames:BT,color:String,backgroundColor:String,borderColor:String,textColor:String},Fhe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function rp(t,e){let r=Lhe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function BM(t){return t.reduce(Bhe,Fhe)}function Bhe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Uhe={id:String,defaultAllDay:Boolean,url:String,format:String,events:K,eventDataTransform:K,success:K,failure:K};function UM(t,e,r=HM(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:i,extra:a}=Dw(n,r),s=Hhe(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:_s(),sourceDefId:s.sourceDefId,meta:s.meta,ui:rp(i,e),extendedProps:a}}return null}function HM(t){return Object.assign(Object.assign(Object.assign({},tp),Uhe),t.pluginHooks.eventSourceRefiners)}function Hhe(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let a=r[n].parseMeta(t);if(a)return{sourceDefId:n,meta:a}}return null}function zhe(t,e,r,n,i){switch(e.type){case"RECEIVE_EVENTS":return Whe(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Vhe(t,r[e.sourceId],e.rawEvents,n.activeRange,i);case"ADD_EVENTS":return Ghe(t,e.eventStore,n?n.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Bw(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?fs(t,n.activeRange,i):t;case"REMOVE_EVENTS":return $he(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return WM(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return _m(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Mr();default:return t}}function Whe(t,e,r,n,i,a){if(e&&r===e.latestFetchId){let s=Au(zM(i,e,a),e,a);return n&&(s=fs(s,n,a)),Bw(WM(t,e.sourceId),s)}return t}function Vhe(t,e,r,n,i){const{defIdMap:a,instanceIdMap:s}=Yhe(t);let o=Au(zM(r,e,i),e,i,!1,a,s);return fs(o,n,i)}function zM(t,e,r){let n=r.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=UT(t,i)),n&&(t=UT(t,n)),t}function UT(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let i=e(n);i?r.push(i):i==null&&r.push(n)}}return r}function Ghe(t,e,r,n){return r&&(e=fs(e,r,n)),Bw(t,e)}function HT(t,e,r){let{defs:n}=t,i=hi(t.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:r.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:r.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:i}}function WM(t,e){return _m(t,r=>r.sourceId!==e)}function qhe(t,e){return{defs:t.defs,instances:us(t.instances,r=>!e[r.instanceId])}}function Yhe(t){const{defs:e,instances:r}=t,n={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(n[o]=a)}for(let a in r){const s=r[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:n,instanceIdMap:i}}class Em{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){Khe(this.handlers,e,r)}off(e,r){Xhe(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],n);for(let s of a)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Khe(t,e,r){(t[e]||(t[e]=[])).push(r)}function Xhe(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const Qhe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Zhe(t,e){return Au(Jhe(t),null,e)}function Jhe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},Qhe),r)),e}function VM(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},Uw(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function epe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Uw(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,ppe(t,e.dateEnv)),r}function zT(t,e,r){let{dateEnv:n,options:i}=r,a=e;return t?(a=st(a),a=n.add(a,i.defaultAllDayEventDuration)):a=n.add(a,i.defaultTimedEventDuration),a}function Hw(t,e,r,n){let i=np(t.defs,e),a=Mr();for(let s in t.defs){let o=t.defs[s];a.defs[s]=tpe(o,i[s],r,n)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=rpe(o,l,i[o.defId],r,n)}return a}function tpe(t,e,r,n){let i=r.standardProps||{};i.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});r.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(a,r,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function rpe(t,e,r,n,i){let{dateEnv:a}=i,s=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=MM(l.range)),n.datesDelta&&r.startEditable&&(l.range={start:a.add(l.range.start,n.datesDelta),end:a.add(l.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(l.range={start:a.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&r.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,n.endDelta)}),o&&(l.range={start:l.range.start,end:zT(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:st(l.range.start),end:st(l.range.end)}),l.range.end<l.range.start&&(l.range.end=zT(e.allDay,l.range.start,i)),l}class Ls{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class pt{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in $M)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=lf[e](r),this.mutate({standardProps:{publicId:r}});else if(e in lf)r=lf[e](r),this.mutate({standardProps:{[e]:r}});else if(e in tp){let n=tp[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,i=n.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=eo(a.start,i,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,i;if(!(e!=null&&(i=n.createMarker(e),!i))&&this._instance)if(i){let a=eo(this._instance.range.end,i,n,r.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:i}=this._context,a={allDay:n.allDay},s=i.createMarker(e),o;if(s&&!(r!=null&&(o=i.createMarker(r),!o))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=MM(l));let u=eo(l.start,s,i,n.granularity);if(o){let d=eo(l.end,o,i,n.granularity);Tfe(u,d)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let r=Re(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Re(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Re(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:i}=r;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,i=gt(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=Fw(a,r.instanceId);s=Hw(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new pt(i,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Xa(s,i,r),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,r=GM(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Ls(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:i,endStr:a}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),i&&(s.start=i),a&&(s.end=a),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function GM(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function Xa(t,e,r){let{defs:n,instances:i}=t,a=[],s=r?r.instanceId:"";for(let o in i){let l=i[o],u=n[l.defId];l.instanceId!==s&&a.push(new pt(e,u,l))}return a}function WT(t,e,r,n){let i={},a={},s={},o=[],l=[],u=np(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):a[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],p=u[h.defId],m=f.range,g=!h.allDay&&n?RM(m,n):m,v=ds(g,r);v&&(p.display==="inverse-background"?h.groupId?i[h.groupId].push(v):a[f.defId].push(v):p.display!=="none"&&(p.display==="background"?o:l).push({def:h,ui:p,instance:f,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let d in i){let f=i[d],h=FT(f,r);for(let p of h){let m=s[d],g=u[m.defId];o.push({def:m,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in a){let f=a[d],h=FT(f,r);for(let p of h)o.push({def:t.defs[d],ui:u[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function npe(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function VT(t,e){t.fcSeg=e}function Ko(t){return t.fcSeg||t.parentNode.fcSeg||null}function np(t,e){return hi(t,r=>qM(r,e))}function qM(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),BM(r)}function YM(t,e){let r=t.map(ipe);return r.sort((n,i)=>bfe(n,i,e)),r.map(n=>n._seg)}function ipe(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,i=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:i,end:a,duration:a-i,allDay:Number(r.allDay),_seg:t})}function ape(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of n)s=o(s,i,a,e);return s}function spe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function ope(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function KM(t,e,r,n,i,a,s){let{dateEnv:o,options:l}=r,{displayEventTime:u,displayEventEnd:d}=l,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=i!==!1);let p=h.range.start,m=h.range.end,g=a||t.start||t.eventRange.range.start,v=s||t.end||t.eventRange.range.end,x=st(p).valueOf()===st(g).valueOf(),y=st(sa(m,-1)).valueOf()===st(sa(v,-1)).valueOf();return u&&!f.allDay&&(x||y)?(g=x?p:g,v=y?m:v,d&&f.hasEnd?o.formatRange(g,v,e,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(g,e,{forcedTzo:a?null:h.forcedStartTzo})):""}function ea(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&ai(e,n.start)}}function lpe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function XM(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function QM(t,e){let{def:r,instance:n}=t.eventRange,{url:i}=r;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=r.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?jM(l=>{a.trigger("eventClick",{el:l.target,event:new pt(e,r,n),jsEvent:l,view:e.viewApi})}):{}}const cpe={start:K,end:K,allDay:Boolean};function upe(t,e,r){let n=dpe(t,e),{range:i}=n;if(!i.start)return null;if(!i.end){if(r==null)return null;i.end=e.add(i.start,r)}return n}function dpe(t,e){let{refined:r,extra:n}=Dw(t,cpe),i=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},n)}function fpe(t,e){return Che(t.range,e.range)&&t.allDay===e.allDay&&hpe(t,e)}function hpe(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function ppe(t,e){return Object.assign(Object.assign({},JM(t.range,e,t.allDay)),{allDay:t.allDay})}function ZM(t,e,r){return Object.assign(Object.assign({},JM(t,e,r)),{timeZone:e.timeZone})}function JM(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function mpe(t,e,r){let n=FM({editable:!1},r),i=Q0(n.refined,n.extra,"",t.allDay,!0,r);return{def:i,ui:qM(i,e),instance:$w(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function gpe(t,e,r){let n=!1,i=function(o){n||(n=!0,e(o))},a=function(o){n||(n=!0,r(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class GT extends Error{constructor(e,r){super(e),this.response=r}}function vpe(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new GT("Failure parsing JSON",i)});throw new GT("Request failed",i)})}let Zg;function eR(){return Zg==null&&(Zg=ype()),Zg}function ype(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class xpe extends ze{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Jh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Jh(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,i=n||r.height==="auto"||r.contentHeight==="auto",a=!i&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return eR()||s.push("fc-liquid-hack"),e.children(s,a,i,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class xl{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function bpe(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function zw(t){return{[t.component.uid]:t}}const J0={};class bl extends Pr{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),i=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(i,Re(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:i,todayRange:wpe(i)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}bl.contextType=yi;function wpe(t){let e=st(t),r=ar(e,1);return{start:e,end:r}}class Spe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),i;r=r||"day",i=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),i=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,s;for(let o in r)i.push(o);for(a=0;a<i.length;a+=1)if(s=r[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Re(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),gt(r))}formatRange(e,r,n){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(r),gt(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let i=this.getCurrentData(),a=upe(n,i.dateEnv,Re({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),VM(a,null,i))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),epe(e,r))}addEvent(e,r){if(e instanceof pt){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Z0({def:s,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),i;if(r instanceof Ls)i=r.internalEventSource;else if(typeof r=="boolean")r&&([i]=Mw(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;i=s.internalEventSource}let a=LM(e,i,n,!1);if(a){let s=new pt(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Z0(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:GM(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:i}=r.eventStore;e=String(e);for(let a in n){let s=n[a];if(s.publicId===e){if(s.recurringDef)return new pt(r,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new pt(r,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Xa(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let i in r)n.push(new Ls(e,r[i]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let i in n)if(n[i].publicId===e)return new Ls(r,n[i]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Ls)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=UM(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Ls(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Re(e);r&&this.trigger("_scrollRequest",{time:r})}}function _pe(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function tR(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function Epe(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function jpe(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Ape(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Jg=Mr();class Tpe{constructor(){this.getKeysForEventDefs=be(this._getKeysForEventDefs),this.splitDateSelection=be(this._splitDateSpan),this.splitEventStore=be(this._splitEventStore),this.splitIndividualUi=be(this._splitIndividualUi),this.splitEventDrag=be(this._splitInteraction),this.splitEventResize=be(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=hi(r,(d,f)=>this.eventUiBuilders[f]||be(Npe));for(let d in r){let f=r[d],h=s[d]||Jg,p=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],f.ui,a[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:l[d]||null}}return u}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let i of n)r[i]=e}return r}_getKeysForEventDefs(e){return hi(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:i}=e,a={};for(let s in n)for(let o of r[s])a[o]||(a[o]=Mr()),a[o].defs[s]=n[s];for(let s in i){let o=i[s];for(let l of r[o.defId])a[l]&&(a[l].instances[s]=o)}return a}_splitIndividualUi(e,r){let n={};for(let i in e)if(i)for(let a of r[i])n[a]||(n[a]={}),n[a][i]=e[i];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),s=o=>{r[o]||(r[o]={affectedEvents:n[o]||Jg,mutatedEvents:a[o]||Jg,isEvent:e.isEvent})};for(let o in n)s(o);for(let o in a)s(o)}return r}}function Npe(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let i={"":BM(n)};return r&&Object.assign(i,r),i}function rR(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!ai(n.activeRange,t))),isOther:!!(n&&!ai(n.currentRange,t)),isToday:!!(e&&ai(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function Ww(t,e){let r=["fc-day",`fc-day-${Dfe[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const Cpe=gt({year:"numeric",month:"long",day:"numeric"}),kpe=gt({week:"long"});function ip(t,e,r="day",n=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,r==="week"?kpe:Cpe);if(a.navLinks){let l=i.toDate(e);const u=d=>{let f=r==="day"?a.navLinkDayClick:r==="week"?a.navLinkWeekClick:null;typeof f=="function"?f.call(s,i.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:bc(a.navLinkHint,[o,l],o),"data-navlink":""},n?EM(u):{onClick:u})}return{"aria-label":o}}let ev=null;function Ope(){return ev===null&&(ev=Dpe()),ev}function Dpe(){let t=document.createElement("div");xc(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Aw(t),r}let tv;function Ppe(){return tv||(tv=Mpe()),tv}function Mpe(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=nR(t);return document.body.removeChild(t),e}function nR(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function Rpe(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,i=parseInt(r.borderRightWidth,10)||0,a=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,o=nR(t),l=o.y-n-i,u=o.x-a-s,d={borderLeft:n,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Ope()&&r.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function Ipe(t,e=!1,r){let n=r?t.getBoundingClientRect():Vw(t),i=Rpe(t,e),a={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function Vw(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function $pe(t){let e=iR(t),r=t.getBoundingClientRect();for(let n of e){let i=tR(r,n.getBoundingClientRect());if(i)r=i;else return null}return r}function iR(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class Xo{constructor(e,r,n,i){this.els=r;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.left-e),n.push(a.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.top-e),n.push(a.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}topToIndex(e){let{tops:r,bottoms:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return $d(this.tops||[],e.tops||[])&&$d(this.bottoms||[],e.bottoms||[])&&$d(this.lefts||[],e.lefts||[])&&$d(this.rights||[],e.rights||[])}}function $d(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class Gw{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Lpe extends Gw{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Fpe extends Gw{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Fn extends ze{constructor(){super(...arguments),this.uid=_s()}prepareHits(){}queryHit(e,r,n,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ir(e,".fc-event-mirror")}isValidDateDownEl(e){return!ir(e,".fc-event:not(.fc-bg-event)")&&!ir(e,".fc-more-link")&&!ir(e,"a[data-navlink]")&&!ir(e,".fc-popover")}}class aR{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},r),{span:qw(r.span,e.touchingEntry.span)});n.push(i),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let i=e.span,a=r.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},n),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:i}=this;r.lateral===-1?(rv(i,r.level,r.levelCoord),rv(n,r.level,[e])):rv(n[r.level],r.lateral,e),this.stackCnts[Qa(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:i,stackCnts:a}=this,s=r.length,o=0,l=-1,u=-1,d=null,f=0;for(let m=0;m<s;m+=1){const g=r[m];if(!i&&g>=o+this.getEntryThickness(e))break;let v=n[m],x,y=tx(v,e.span.start,ex),b=y[0]+y[1];for(;(x=v[b])&&x.span.start<e.span.end;){let _=g+this.getEntryThickness(x);_>o&&(o=_,d=x,l=m,u=b),_===o&&(f=Math.max(f,a[Qa(x)]+1)),b+=1}}let h=0;if(d)for(h=l+1;h<s&&r[h]<o;)h+=1;let p=-1;return h<s&&r[h]===o&&(p=tx(n[h],e.span.end,ex)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:o,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,i=[];for(let a=0;a<n;a+=1){let s=e[a],o=r[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function ex(t){return t.span.end}function Qa(t){return t.index+":"+t.span.start}function Bpe(t){let e=[];for(let r of t){let n=[],i={span:r.span,entries:[r]};for(let a of e)qw(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:Upe(a.span,i.span)}:n.push(a);n.push(i),e=n}return e}function Upe(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function qw(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function rv(t,e,r){t.splice(e,0,r)}function tx(t,e,r){let n=0,i=t.length;if(!i||e<r(t[n]))return[0,0];if(e>r(t[i-1]))return[i,0];for(;n<i;){let a=Math.floor(n+(i-n)/2),s=r(t[a]);if(e<s)i=a;else if(e>s)n=a+1;else return[a,1]}return[n,0]}class Hpe{constructor(e,r){this.emitter=new Em}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Yw={};function zpe(t,e){return!t||e>10?gt({weekday:"short"}):e>1?gt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):gt({weekday:"long"})}const sR="fc-col-header-cell";function oR(t){return t.text}class Wpe extends ze{render(){let{dateEnv:e,options:r,theme:n,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=rR(s,a.todayRange,null,o),u=[sR].concat(Ww(l,n)),d=e.format(s,a.dayHeaderFormat),f=!l.isDisabled&&a.colCnt>1?ip(this.context,s):{},h=e.toDate(s);e.namedTimeZoneImpl&&(h=sa(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:i},a.extraRenderProps),{text:d}),l);return $(Lr,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:kw(s)},a.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:oR,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},m=>$("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&$(m,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const Vpe=gt({weekday:"long"});class Gpe extends ze{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:i,options:a}=this.context,s=ar(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return $(Lr,{elTag:"th",elClasses:[sR,...Ww(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:oR,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},d=>$("div",{className:"fc-scrollgrid-sync-inner"},$(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,Vpe)}})))}}class lR extends ze{constructor(){super(...arguments),this.createDayHeaderFormatter=be(qpe)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,r.length);return $(bl,{unit:"day"},(o,l)=>$("tr",{role:"row"},a&&a("day"),r.map(u=>i?$(Wpe,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:r.length,dayHeaderFormat:s}):$(Gpe,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function qpe(t,e,r){return t||zpe(e,r)}class cR{constructor(e,r){let n=e.start,{end:i}=e,a=[],s=[],o=-1;for(;n<i;)r.isHiddenDay(n)?a.push(o+.5):(o+=1,a.push(o),s.push(n)),n=ar(n,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ar(e.end,-1)),i=Math.max(0,r),a=Math.min(this.cnt-1,n);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:r===i,isEnd:n===a}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(Es(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class uR{constructor(e,r){let{dates:n}=e,i,a,s;if(r){for(a=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==a;i+=1);s=Math.ceil(n.length/i)}else s=1,i=n.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let i=0;i<this.colCnt;i+=1)n.push(this.buildCell(r,i));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),i=[];if(n){let{firstIndex:a,lastIndex:s}=n,o=a;for(;o<=s;){let l=Math.floor(o/r),u=Math.min((l+1)*r,s+1);i.push({row:l,firstCol:o%r,lastCol:(u-1)%r,isStart:n.isStart&&o===a,isEnd:n.isEnd&&u-1===s}),o=u}}return i}}class dR{constructor(){this.sliceBusinessHours=be(this._sliceBusinessHours),this.sliceDateSelection=be(this._sliceDateSpan),this.sliceEventStore=be(this._sliceEventStore),this.sliceEventDrag=be(this._sliceInteraction),this.sliceEventResize=be(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,r,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...a),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,i,...a){return this._sliceDateSpan({range:{start:e,end:sa(e,1)},allDay:!1},r,n,{},i,...a)}_sliceBusinessHours(e,r,n,i,...a){return e?this._sliceEventStore(fs(e,Ld(r,!!n),i),{},r,n,...a).bg:[]}_sliceEventStore(e,r,n,i,...a){if(e){let s=WT(e,r,Ld(n,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,i,...a){if(!e)return null;let s=WT(e.mutatedEvents,r,Ld(n,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,i,a,...s){if(!e)return[];let o=Ld(r,!!n),l=ds(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=mpe(e,i,a),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let i of e)n.push(...this.sliceEventRange(i,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:ar(n.start,1)});let i=this.sliceRange(n,...r);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function Ld(t,e){let r=t.activeRange;return e?r:{start:sa(r.start,t.slotMinTime.milliseconds),end:sa(r.end,t.slotMaxTime.milliseconds-864e5)}}function fR(t,e,r){let{instances:n}=t.mutatedEvents;for(let i in n)if(!Sm(e.validRange,n[i].range))return!1;return hR({eventDrag:t},r)}function Ype(t,e,r){return Sm(e.validRange,t.range)?hR({dateSelection:t},r):!1}function hR(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Kpe)(n,e)}function Kpe(t,e,r={},n){return!(t.eventDrag&&!Xpe(t,e,r,n)||t.dateSelection&&!Qpe(t,e,r,n))}function Xpe(t,e,r,n){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=np(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});n&&(u=hi(u,n));let d=qhe(t.eventStore,a.affectedEvents.instances),f=d.defs,h=d.instances,p=np(f,t.eventUiBases);for(let m in l){let g=l[m],v=g.range,x=u[g.defId],y=o[g.defId];if(!pR(x.constraints,v,d,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,_=typeof b=="function"?b:null;for(let S in h){let j=h[S];if(Iw(v,j.range)&&(p[j.defId].overlap===!1&&a.isEvent||x.overlap===!1||_&&!_(new pt(e,f[j.defId],j),new pt(e,y,g))))return!1}let w=i.eventStore;for(let S of x.allows){let j=Object.assign(Object.assign({},r),{range:g.range,allDay:y.allDay}),E=w.defs[y.defId],A=w.instances[m],k;if(E?k=new pt(e,E,A):k=new pt(e,y),!S(Uw(j,e),k))return!1}}return!0}function Qpe(t,e,r,n){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!pR(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in s){let p=s[h];if(Iw(l,p.range)&&(u.overlap===!1||f&&!f(new pt(e,a[p.defId],p),null)))return!1}for(let h of u.allows){let p=Object.assign(Object.assign({},r),o);if(!h(Uw(p,e),null))return!1}return!0}function pR(t,e,r,n,i){for(let a of t)if(!Jpe(Zpe(a,e,r,n,i),e))return!1;return!0}function Zpe(t,e,r,n,i){return t==="businessHours"?nv(fs(n,e,i)):typeof t=="string"?nv(_m(r,a=>a.groupId===t)):typeof t=="object"&&t?nv(fs(t,e,i)):[]}function nv(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function Jpe(t,e){for(let r of t)if(Sm(r,e))return!0;return!1}const Fd=/^(visible|hidden)$/;class eme extends ze{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,$n(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,i=r&&n,a=["fc-scroller"];return r&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),$("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Fd.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(Fd.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return Fd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Fd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Jn{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;r!==null?(s=n in a,a[n]=r,i[n]=(i[n]||0)+1,o=!0):(i[n]-=1,i[n]||(delete a[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),o&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return fhe(this.currentMap,e,r,n)}getAll(){return Mw(this.currentMap)}}function tme(t){let e=ufe(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,Efe(n));return Math.ceil(r)}function mR(t,e){return t.liquid&&e.liquid}function rme(t,e){return e.maxHeight!=null||mR(t,e)}function nme(t,e,r,n){let{expandRows:i}=r;return typeof e.content=="function"?e.content(r):$("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:i?r.clientHeight:""}},r.tableColGroupNode,$(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function ime(t,e){return aa(t,e,bn)}function ame(t,e){let r=[];for(let n of t){let i=n.span||1;for(let a=0;a<i;a+=1)r.push($("col",{style:{width:n.width==="shrink"?sme(e):n.width||"",minWidth:n.minWidth||""}}))}return $("colgroup",{},...r)}function sme(t){return t??4}function ome(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function lme(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function cme(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function rx(t){return $("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function ap(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function gR(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Kw extends ze{constructor(){super(...arguments),this.processCols=be(e=>e,ime),this.renderMicroColGroup=be(ame),this.scrollerRefs=new Jn,this.scrollerElRefs=new Jn(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,r.shrinkWidth),o=lme(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,d,f=[],h=[],p=[];for(;u<l&&(d=i[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<l&&(d=i[u]).type==="body";)h.push(this.renderSection(d,s,!1)),u+=1;for(;u<l&&(d=i[u]).type==="footer";)p.push(this.renderSection(d,s,!0)),u+=1;let m=!eR();const g={role:"rowgroup"};return $("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!m&&f.length)&&$("thead",g,...f),!!(!m&&h.length)&&$("tbody",g,...h),!!(!m&&p.length)&&$("tfoot",g,...p),m&&$("tbody",g,...f,...h,...p))}renderSection(e,r,n){return"outerContent"in e?$(at,{key:e.key},e.outerContent):$("tr",{key:e.key,role:"presentation",className:cme(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,i){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=rme(a,e),d=mR(a,e),f=a.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,p=nme(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return $(i?"th":"td",{ref:n.elRef,role:"presentation"},$("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},$(eme,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,r){let n=ume(this.props.sections,r);n&&$n(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return ome(this.props.cols)?tme(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Ppe(),{scrollerRefs:r,scrollerElRefs:n}=this,i=!1,a={},s={};for(let o in r.currentMap){let l=r.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=n.currentMap[l];if(u){let d=u.parentNode;a[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}Kw.addStateEquality({scrollerClientWidths:bn,scrollerClientHeights:bn});function ume(t,e){for(let r of t)if(r.key===e)return r;return null}class Xw extends ze{constructor(){super(...arguments),this.buildPublicEvent=be((e,r,n)=>new pt(e,r,n)),this.handleEl=e=>{this.el=e,$n(this.props.elRef,e),e&&VT(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(r,a.def,a.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&ape(i,r),isStartResizable:!e.disableResizing&&spe(i,r),isEndResizable:!e.disableResizing&&ope(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return $(Lr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...lpe(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&VT(this.el,this.props.seg)}}class Qw extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{ui:a}=i.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,o=KM(i,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return $(Xw,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:QM(i,r),defaultGenerator:dme,timeText:o}),(l,u)=>$(at,null,$(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&$("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&$("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Qw.addPropsEquality({seg:bn});function dme(t){return $("div",{className:"fc-event-main-frame"},t.timeText&&$("div",{className:"fc-event-time"},t.timeText),$("div",{className:"fc-event-title-container"},$("div",{className:"fc-event-title fc-sticky"},t.event.title||$(at,null,""))))}const Zw=t=>$(yi.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return $(Lr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount},t.children)}),fme=gt({day:"numeric"});class Jw extends ze{constructor(){super(...arguments),this.refineRenderProps=of(hme)}render(){let{props:e,context:r}=this,{options:n}=r,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return $(Lr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":kw(e.date)}),elClasses:[...Ww(i,r.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function eS(t){return!!(t.dayCellContent||X0("dayCellContent",t))}function hme(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:i}=t,a=rR(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,i?t.monthStartFormat:fme):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class vR extends ze{render(){let{props:e}=this,{seg:r}=e;return $(Xw,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:pme,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function pme(t){let{title:e}=t.event;return e&&$("div",{className:"fc-event-title"},t.event.title)}function yR(t){return $("div",{className:`fc-${t}`})}const xR=t=>$(yi.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:i}=t,a=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(i),o=r.format(i,a),l={num:s,text:o,date:i};return $(Lr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:mme,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},t.children)});function mme(t){return t.text}const iv=10;class gme extends ze{constructor(){super(...arguments),this.state={titleId:bm()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&$n(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=SM(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return Xde($("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),$("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},$("span",{className:"fc-popover-title",id:i.titleId},n.title),$("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),$("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:i}=this,a=$pe(r);if(a){let s=i.getBoundingClientRect(),o=n?ir(r,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,iv),l=Math.min(l,document.documentElement.clientWidth-iv-s.width),l=Math.max(l,iv);let u=i.offsetParent.getBoundingClientRect();xc(i,{top:o-u.top,left:l-u.left})}}}class vme extends Fn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:i,todayRange:a,dateProfile:s}=n,o=r.format(i,e.dayPopoverFormat);return $(Jw,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,d)=>$(gme,{elRef:d.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},eS(e)&&$(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,i){let{rootEl:a,props:s}=this;return e>=0&&e<n&&r>=0&&r<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null}}class bR extends ze{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:bm()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&$n(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:i}=n.options,a=qT(r).start;function s(o){let{def:l,instance:u,range:d}=o.eventRange;return{event:new pt(n,l,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&n.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return $(yi.Consumer,null,n=>{let{viewApi:i,options:a,calendarApi:s}=n,{moreLinkText:o}=a,{moreCnt:l}=e,u=qT(e),d=typeof o=="function"?o.call(s,l):`+${l} ${o}`,f=bc(a.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:i};return $(at,null,!!e.moreCnt&&$(Lr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),EM(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||yme,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),r.isPopoverOpen&&$(vme,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ir(this.linkEl,".fc-view-harness"))}}function yme(t){return t.text}function qT(t){if(t.allDayDate)return{start:t.allDayDate,end:ar(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:wR(e),end:bme(e)}}function wR(t){return t.reduce(xme).eventRange.range.start}function xme(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function bme(t){return t.reduce(wme).eventRange.range.end}function wme(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Sme{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class _me extends Sme{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const Eme=[],SR={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},_R=Object.assign(Object.assign({},SR),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function jme(t){let e=t.length>0?t[0].code:"en",r=Eme.concat(t),n={en:_R};for(let i of r)n[i.code]=i;return{map:n,defaultCode:e}}function ER(t,e){return typeof t=="object"&&!Array.isArray(t)?jR(t.code,[t.code],t):Ame(t,e)}function Ame(t,e){let r=[].concat(t||[]),n=Tme(r,e)||_R;return jR(t,r,n)}function Tme(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let i=n.length;i>0;i-=1){let a=n.slice(0,i).join("-");if(e[a])return e[a]}}return null}function jR(t,e,r){let n=Pw([SR,r],["buttonText"]);delete n.code;let{week:i}=n;return delete n.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function xi(t){return{id:_s(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Nme(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=r[o];l===void 0?(r[o]=s.id,i(s.deps),n=kme(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),n}function Cme(){let t=[],e=[],r;return(n,i)=>((!r||!aa(n,t)||!aa(i,e))&&(r=Nme(n,i)),t=n,e=i,r)}function kme(t,e){return{premiumReleaseDate:Ome(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Ome(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Sa extends Wu{}Sa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Sa.prototype.baseIconClass="fc-icon";Sa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Sa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Sa.prototype.iconOverrideOption="buttonIcons";Sa.prototype.iconOverrideCustomButtonOption="icon";Sa.prototype.iconOverridePrefix="fc-icon-";function Dme(t,e){let r={},n;for(n in t)nx(n,r,t,e);for(n in e)nx(n,r,t,e);return r}function nx(t,e,r,n){if(e[t])return e[t];let i=Pme(t,e,r,n);return i&&(e[t]=i),i}function Pme(t,e,r,n){let i=r[t],a=n[t],s=d=>i&&i[d]!==null?i[d]:a&&a[d]!==null?a[d]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=nx(l,e,r,n)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function YT(t){return hi(t,Mme)}function Mme(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=KT(e):r&&!(r.prototype instanceof ze)&&(r=KT(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function KT(t){return e=>$(yi.Consumer,null,r=>$(Lr,{elTag:"div",elClasses:PM(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function Rme(t,e,r,n){let i=YT(t),a=YT(e.views),s=Dme(i,a);return hi(s,o=>Ime(o,a,e,r,n))}function Ime(t,e,r,n,i){let a=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,o="",l="",u={};if(a&&(s=$me(a),s)){let h=K0(s);o=h.unit,h.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let d=h=>{let p=h.buttonText||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},f=h=>{let p=h.buttonHints||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(wc)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(wc)}}let XT={};function $me(t){let e=JSON.stringify(t),r=XT[e];return r===void 0&&(r=Re(t),XT[e]=r),r}function Lme(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Fme(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Bme(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function Ume(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Hme(t,e,r,n){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(i=n.buildPrev(t,r),i.isValid)return i;break;case"NEXT":if(i=n.buildNext(t,r),i.isValid)return i;break}return t}function zme(t,e,r){let n=e?e.activeRange:null;return TR({},Xme(t,r),n,r)}function Wme(t,e,r,n){let i=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return TR(t,e.sources,i,n);case"REMOVE_EVENT_SOURCE":return Gme(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?NR(t,i,n):t;case"FETCH_EVENT_SOURCES":return tS(t,e.sourceIds?NM(e.sourceIds):CR(t,n),i,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Kme(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Vme(t,e,r){let n=e?e.activeRange:null;return tS(t,CR(t,r),n,!0,r)}function AR(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function TR(t,e,r,n){let i={};for(let a of e)i[a.sourceId]=a;return r&&(i=NR(i,r,n)),Object.assign(Object.assign({},t),i)}function Gme(t,e){return us(t,r=>r.sourceId!==e)}function NR(t,e,r){return tS(t,us(t,n=>qme(n,e,r)),e,!1,r)}function qme(t,e,r){return kR(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function tS(t,e,r,n,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=Yme(o,r,n,i):a[s]=o}return a}function Yme(t,e,r,n){let{options:i,calendarApi:a}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],o=_s();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function Kme(t,e,r,n){let i=t[e];return i&&r===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:n})}):t}function CR(t,e){return us(t,r=>kR(r,e))}function Xme(t,e){let r=HM(e),n=[].concat(t.eventSources||[]),i=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let a of n){let s=UM(a,e,r);s&&i.push(s)}return i}function kR(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Qme(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Zme(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Jme(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function ege(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function tge(t,e,r,n,i){let a=t.headerToolbar?QT(t.headerToolbar,t,e,r,n,i):null,s=t.footerToolbar?QT(t.footerToolbar,t,e,r,n,i):null;return{header:a,footer:s}}function QT(t,e,r,n,i,a){let s={},o=[],l=!1;for(let u in t){let d=t[u],f=rge(d,e,r,n,i,a);s[u]=f.widgets,o.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function rge(t,e,r,n,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],p=[],m=!1;return{widgets:h.map(v=>v.split(",").map(x=>{if(x==="title")return m=!0,{buttonName:x};let y,b,_,w,S,j;if(y=o[x])_=E=>{y.click&&y.click.call(E.target,E,E.target)},(w=n.getCustomButtonIconClass(y))||(w=n.getIconClass(x,s))||(S=y.text),j=y.hint||y.text;else if(b=i[x]){p.push(x),_=()=>{a.changeView(x)},(S=b.buttonTextOverride)||(w=n.getIconClass(x,s))||(S=b.buttonTextDefault);let E=b.buttonTextOverride||b.buttonTextDefault;j=bc(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[E,x],E)}else if(a[x])if(_=()=>{a[x]()},(S=l[x])||(w=n.getIconClass(x,s))||(S=u[x]),x==="prevYear"||x==="nextYear"){let E=x==="prevYear"?"prev":"next";j=bc(d[E]||f[E],[u.year||"year","year"],u[x])}else j=E=>bc(d[x]||f[x],[u[E]||E,E],u[x]);return{buttonName:x,buttonClick:_,buttonIcon:w,buttonText:S,buttonHint:j}})),viewsWithButtons:p,hasTitle:m}}class nge{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let ige={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const age=xi({name:"array-event-source",eventSourceDefs:[ige]});let sge={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,i=t.eventSource.meta;gpe(i.bind(null,ZM(t.range,n)),a=>e({rawEvents:a}),r)}};const oge=xi({name:"func-event-source",eventSourceDefs:[sge]}),lge={method:String,extraParams:K,startParam:String,endParam:String,timeZoneParam:String};let cge={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,i=dge(n,t.range,t.context);vpe(n.method,n.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},r)}};const uge=xi({name:"json-event-source",eventSourceRefiners:lge,eventSourceDefs:[cge]});function dge(t,e,r){let{dateEnv:n,options:i}=r,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[o]=n.timeZone),u}const fge={daysOfWeek:K,startTime:Re,endTime:Re,duration:Re,startRecur:K,endRecur:K};let hge={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=Nfe(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=ds(e,{start:t.startRecur,end:t.endRecur});return n?mge(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const pge=xi({name:"simple-recurring-event",recurringTypes:[hge],eventRefiners:fge});function mge(t,e,r,n,i){let a=t?NM(t):null,s=st(i.start),o=i.end,l=[];for(;s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,l.push(n.createMarker(r.toDate(u)))),s=ar(s,1)}return l}const gge=xi({name:"change-handler",optionChangeHandlers:{events(t,e){ZT([t],e)},eventSources:ZT}});function ZT(t,e){let r=Mw(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let i of t){let a=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===i){r.splice(s,1),a=!0;break}a||n.push(i)}for(let i of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of n)e.calendarApi.addEventSource(i)}function vge(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},ZM(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function yge(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",Xa(t,e))}const xge=[age,oge,uge,pge,gge,xi({name:"misc",isLoadingFuncs:[t=>AR(t.eventSources)],propSetHandlers:{dateProfile:vge,eventStore:yge}})];class bge{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new jw(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function wge(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,gt(e.titleFormat||Sge(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Sge(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=Kh(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class JT{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class _ge{constructor(e){this.computeCurrentViewData=be(this._computeCurrentViewData),this.organizeRawLocales=be(jme),this.buildLocale=be(ER),this.buildPluginHooks=Cme(),this.buildDateEnv=be(Ege),this.buildTheme=be(jge),this.parseToolbars=be(tge),this.buildViewSpecs=be(Rme),this.buildDateProfileGenerator=of(Age),this.buildViewApi=be(Tge),this.buildViewUiProps=of(kge),this.buildEventUiBySource=be(Nge,bn),this.buildEventUiBases=be(Cge),this.parseContextBusinessHours=of(Oge),this.buildTitle=be(wge),this.nowManager=new JT,this.emitter=new Em,this.actionRunner=new bge(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new JT;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(i,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=Bme(n.calendarOptions,n.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);ai(l.activeRange,o)||(o=l.currentRange.start);for(let h of n.pluginHooks.contextInit)h(s);let u=zme(n.calendarOptions,l,s),d={dynamicOptionOverrides:r,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Mr(),renderableEventStore:Mr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));av(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:i}=this,a=Ume(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),o=Lme(n.currentViewType,e),l=this.computeCurrentViewData(o,s,r.optionOverrides,a);r.calendarApi.currentDataManager=this,i.setThisContext(r.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(d)),d=Fme(d,e),f=Hme(f,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ai(f.currentRange,d))&&(d=f.currentRange.start);let h=Wme(n.eventSources,e,f,u),p=zhe(n.eventStore,e,h,f,u),g=AR(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),b=this.buildEventUiBases(g.defs,v,y),_={dynamicOptionOverrides:a,currentViewType:o,currentDate:d,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:g,selectionConfig:x,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:Qme(n.dateSelection,e),eventSelection:Zme(n.eventSelection,e),eventDrag:Jme(n.eventDrag,e),eventResize:ege(n.eventResize,e)},w=Object.assign(Object.assign({},u),_);for(let E of s.pluginHooks.reducers)Object.assign(_,E(n,e,w));let S=av(n,u),j=av(_,u);!S&&j?i.trigger("loading",!0):S&&!j&&i.trigger("loading",!1),this.state=_,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(r.currentViewType,i,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),r),o=i.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=Vme(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=HT(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=HT(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==u[d])&&o[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,r);eN(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),d=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(i,a),h=this.parseToolbars(i,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,r){let{locales:n,locale:i}=Xg([wc,e,r]),a=this.organizeRawLocales(n),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],xge),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},IT),$T),LT),l.listenerRefiners),l.optionRefiners),d={},f=Xg([wc,o,e,r]),h={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let v in f)this.optionsForRefining.indexOf(v)===-1&&(f[v]===p[v]||Pa[v]&&v in p&&Pa[v](p[v],f[v]))?h[v]=m[v]:u[v]?(h[v]=u[v](f[v]),g=!0):d[v]=p[v];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:d}}_computeCurrentViewData(e,r,n,i){let a=r.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,r.pluginHooks,r.localeDefaults,n,i);eN(o),this.nowManager.handleInput(r.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,r,n,i,a){let s=Xg([wc,e.optionDefaults,n,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},IT),$T),LT),ohe),r.listenerRefiners),r.optionRefiners),l={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let p in s)s[p]===u[p]||Pa[p]&&Pa[p](s[p],u[p])?l[p]=d[p]:(s[p]===this.currentCalendarOptionsInput[p]||Pa[p]&&Pa[p](s[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):o[p]?l[p]=o[p](s[p]):h[p]=s[p],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function Ege(t,e,r,n,i,a,s,o){let l=ER(e||s.defaultCode,s.map);return new yhe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:r,firstDay:n,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function jge(t,e){let r=e.themeClasses[t.themeSystem]||Sa;return new r(t)}function Age(t){let e=t.dateProfileGeneratorClass||IM;return new e(t)}function Tge(t,e,r){return new nge(t,e,r)}function Nge(t){return hi(t,e=>e.ui)}function Cge(t,e,r){let n={"":e};for(let i in t){let a=t[i];a.sourceId&&r[a.sourceId]&&(n[i]=r[a.sourceId])}return n}function kge(t){let{options:e}=t;return{eventUiSingleBase:rp({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:rp({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function av(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function Oge(t){return Zhe(t.options.businessHours,t)}function eN(t,e){for(let r in t)console.warn(`Unknown option '${r}'`+(e?` for view '${e}'`:""))}class Dge extends ze{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return $("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(o==="title")a=!1,i.push($("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=o===r.activeButton,p=!r.isTodayEnabled&&o==="today"||!r.isPrevEnabled&&o==="prev"||!r.isNextEnabled&&o==="next",m=[`fc-${o}-button`,n.getClass("button")];h&&m.push(n.getClass("buttonActive")),i.push($("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:p,"aria-pressed":h,className:m.join(" "),onClick:l},u||(d?$("span",{className:d,role:"img"}):"")))}}if(i.length>1){let s=a&&n.getClass("buttonGroup")||"";return $("div",{className:s},...i)}return i[0]}}class tN extends ze{render(){let{model:e,extraClassName:r}=this.props,n=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(n=!0,i=s.left):i=s.start,s.right?(n=!0,a=s.right):a=s.end,$("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,r){let{props:n}=this;return $(Dge,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class Pge extends ze{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,$n(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return n?r.availableWidth!==null?a=r.availableWidth/n:s=`${1/n*100}%`:a=e.height||"",$("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Mge extends xl{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:i}=this,{context:a}=i,s=Ko(n);if(s&&i.isValidSegDownEl(r.target)){let o=ir(r.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new pt(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},this.destroy=_M(e.el,"click",".fc-event",this.handleSegClick)}}class Rge extends xl{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{Ko(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=hfe(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:i}=this,{context:a}=i,s=Ko(n);(!r||i.isValidSegDownEl(r.target))&&a.emitter.trigger(e,{el:n,event:new pt(a,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi})}}class Ige extends js{constructor(){super(...arguments),this.buildViewContext=be(whe),this.buildViewPropTransformers=be(Lge),this.buildToolbarProps=be($ge),this.headerRef=ur(),this.footerRef=ur(),this.interactionsStore={},this.state={viewLabelId:bm()},this.registerInteractiveComponent=(e,r)=>{let n=bpe(e,r),s=[Mge,Rge].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=s,J0[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete J0[e.uid]},this.resizeRunner=new jw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":n.height!=null?i=!0:n.contentHeight!=null?a=n.contentHeight:s=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return $(yi.Provider,{value:o},$(bl,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return $(at,null,r.header&&$(tN,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:l},d)),$(Pge,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),r.footer&&$(tN,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let i in n)r[i]!==e[i]&&n[i](r[i],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return $(at,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=n.component;return $(s,Object.assign({},i))}}function $ge(t,e,r,n,i,a){let s=r.build(i,void 0,!1),o=r.buildPrev(e,n,!1),l=r.buildNext(e,n,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!ai(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function Lge(t){return t.map(e=>new e)}let Fge=class extends Spe{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;Jh(()=>{ju($(xpe,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),$(DM.Provider,{value:this.customContentRenderId},$(Ige,Object.assign({isHeightAuto:s,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ju(null,this.el),this.setClassNames([]),this.setHeight(""))},ife(e),this.el=e,this.renderRunner=new jw(this.handleRenderRequest),new _ge({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Jh(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!aa(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){wM(this.el,"height",e)}};const Bge=parseInt(String(F.version).split(".")[0]),Uge=Bge<18;class OR extends C.Component{constructor(){super(...arguments),this.elRef=C.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(F.createElement(Hge,{key:r.id,customRendering:r}));return F.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new _me;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Fge(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Mf.flushSync(()=>{})});let r;e.subscribe(n=>{const i=Date.now(),a=!r;(Uge||a||this.isUpdating||this.isUnmounting||i-r<100?DR:Mf.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}OR.act=DR;class Hge extends C.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return Mf.createPortal(n,e.containerEl)}}function DR(t){t()}class zge extends Fn{constructor(){super(...arguments),this.headerElRef=ur()}renderSimpleLayout(e,r){let{props:n,context:i}=this,a=[],s=ap(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),$(ep,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},$(Kw,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,r,n,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&ap(o.options),u=!s.forPrint&&gR(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:rx}]}),$(ep,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},$(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))}}function cf(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function Bd(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function rN(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const PR=gt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function MR(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class RR extends ze{render(){let{props:e}=this;return $(Qw,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:PR,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class IR extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,a=n.eventTimeFormat||PR,s=KM(i,a,r,!0,e.defaultDisplayEventEnd);return $(Xw,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:QM(e.seg,r),defaultGenerator:Wge,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function Wge(t){return $(at,null,$("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&$("div",{className:"fc-event-time"},t.timeText),$("div",{className:"fc-event-title"},t.event.title||$(at,null,"")))}class Vge extends ze{constructor(){super(...arguments),this.compileSegs=be(Gge)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return $(bR,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return $(at,null,r.map(a=>{let s=a.eventRange.instance.instanceId;return $("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},MR(a)?$(IR,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},ea(a,e.todayRange))):$(RR,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},ea(a,e.todayRange))))}))}})}}function Gge(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const qge=gt({week:"narrow"});class Yge extends Fn{constructor(){super(...arguments),this.rootElRef=ur(),this.state={dayNumberId:bm()},this.handleRootEl=e=>{$n(this.rootElRef,e),$n(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=r;const u=r.showDayNumber&&Xge(o,l.currentRange,s);return $(Jw,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Kge,date:o,dateProfile:l,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>$("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&$(xR,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ip(e,o,"week"),date:o,defaultFormat:qge}),!f.isDisabled&&(r.showDayNumber||eS(a)||r.forceDayTop)?$("div",{className:"fc-daygrid-day-top"},$(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ip(e,o)),{id:n.dayNumberId})})):r.showDayNumber?$("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},$("a",{className:"fc-daygrid-day-number"},"")):void 0,$("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,$("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},$(Vge,{allDayDate:o,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:i,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),$("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function Kge(t){return t.dayNumberText||$(at,null,"")}function Xge(t,e,r){const{start:n,end:i}=e,a=sa(i,-1),s=r.getYear(n),o=r.getMonth(n),l=r.getYear(a),u=r.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<i.valueOf())}function $R(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function LR(t){return $R(t)+":"+t.lastCol}function Qge(t,e,r,n,i,a,s){let o=new eve(x=>{let y=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||r===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof r=="number"&&(o.maxStackCnt=r,o.hiddenConsumes=!0);let l=[],u=[];for(let x=0;x<t.length;x+=1){let y=t[x],b=LR(y);i[b]!=null?l.push({index:x,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let d=o.addSegs(l),f=o.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=Zge(f,t,s),g=[],v=[];for(let x of u){p[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=x.firstCol;y<=x.lastCol;y+=1)h[y].push({seg:po(x,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)g.push(0);for(let x of d){let y=t[x.index],b=x.span;p[b.start].push({seg:po(y,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=b.start;_<b.end;_+=1)g[_]+=1,h[_].push({seg:po(y,_,_+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)v.push(m[x]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:v}}function Zge(t,e,r){let n=Jge(t,r.length),i=[],a=[],s=[];for(let o=0;o<r.length;o+=1){let l=n[o],u=[],d=0,f=0;for(let p of l){let m=e[p.index];u.push({seg:po(m,o,o+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let h=[];d=0,f=0;for(let p of l){let m=e[p.index],g=p.span.end-p.span.start>1,v=p.span.start===o;f+=p.levelCoord-d,d=p.levelCoord+p.thickness,g?(f+=p.thickness,v&&h.push({seg:po(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):v&&(h.push({seg:po(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}i.push(u),a.push(h),s.push(f)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function Jge(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let i=n.span.start;i<n.span.end;i+=1)r[i].push(n);return r}function po(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let i=t.eventRange,a=i.range,s=ds(a,{start:n[e].date,end:ar(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class eve extends aR{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,i=a=>!this.forceHidden[Qa(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(i);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=Qa(s);if(!a[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:qw(s.span,r.span)}),f=Qa(d);a[f]=!0,i[o][l]=d,n.push(d),this.splitEntry(s,r,n)}else a[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class FR extends Fn{constructor(){super(...arguments),this.cellElRefs=new Jn,this.frameElRefs=new Jn,this.fgElRefs=new Jn,this.segHarnessRefs=new Jn,this.rootElRef=ur(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=e.cells.length,s=Bd(e.businessHourSegs,a),o=Bd(e.bgEventSegs,a),l=Bd(this.getHighlightSegs(),a),u=Bd(this.getMirrorSegs(),a),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=Qge(YM(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return $("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let x=this.renderFgSegs(v,e.forPrint?d[v]:f[v],e.todayRange,m),y=this.renderFgSegs(v,tve(u[v],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return $(Yge,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[v],moreMarginTop:p[v],singlePlacements:d[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:$(at,null,$(at,null,x),$(at,null,y)),bgContent:$(at,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!bn(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=a||s||o,p=[];if(d)for(let m of r){let{seg:g}=m,{instanceId:v}=g.eventRange.instance,x=m.isVisible&&!i[v],y=m.isAbsolute,b="",_="";y&&(l.isRtl?(_=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,_=d.rights[g.firstCol]-d.rights[g.lastCol])),p.push($("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:$R(g),ref:h?null:this.segHarnessRefs.createRef(LR(g)),style:{visibility:x?"":"hidden",marginTop:y?"":m.marginTop,top:y?m.absoluteTop:"",left:b,right:_}},MR(g)?$(IR,Object.assign({seg:g,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:f},ea(g,n))):$(RR,Object.assign({seg:g,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:f},ea(g,n)))))}return p}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=n?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push($("div",{key:XM(o.eventRange),className:"fc-daygrid-bg-harness",style:l},r==="bg-event"?$(vR,Object.assign({seg:o},ea(o,i))):yR(r)))}return $(at,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:i}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let l=r.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,d=new Xo(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new Xo(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,i)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}FR.addStateEquality({segHeights:bn});function tve(t,e){if(!t.length)return[];let r=rve(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function rve(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class nve extends Fn{constructor(){super(...arguments),this.splitBusinessHourSegs=be(cf),this.splitBgEventSegs=be(ive),this.splitFgEventSegs=be(cf),this.splitDateSelectionSegs=be(cf),this.splitEventDrag=be(rN),this.splitEventResize=be(rN),this.rowRefs=new Jn}render(){let{props:e,context:r}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return $(bl,{unit:"day"},(f,h)=>$(at,null,e.cells.map((p,m)=>$(FR,{ref:this.rowRefs.createRef(m),key:p.length?p[0].date.toISOString():m,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:i[m],eventSelection:e.eventSelection,bgEventSegs:a[m],fgEventSegs:s[m],dateSelectionSegs:o[m],eventDrag:l[m],eventResize:u[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Xo(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Xo(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:i}=this,a=n.leftToIndex(e),s=i.topToIndex(r);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:n.lefts[a],right:n.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,i=ar(n,1);return{start:n,end:i}}}function ive(t,e){return cf(t.filter(ave),e)}function ave(t){return t.eventRange.def.allDay}class sve extends Fn{constructor(){super(...arguments),this.elRef=ur(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:i}=e,a=n===!0||r===!0;a&&!i&&(a=!1,r=null,n=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return $("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},$("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,$("tbody",{role:"presentation"},$(nve,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=ove(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),i=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function ove(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${Wfe(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${kw(e.currentDate)}"]`)),r}class lve extends dR{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class BR extends Fn{constructor(){super(...arguments),this.slicer=new lve,this.tableRef=ur()}render(){let{props:e,context:r}=this;return $(sve,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class cve extends zge{constructor(){super(...arguments),this.buildDayTableModel=be(uve),this.headerRef=ur(),this.tableRef=ur()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,r),a=e.dayHeaders&&$(lR,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>$(BR,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function uve(t,e){let r=new cR(t.renderRange,e);return new uR(r,/year|month|week/.test(t.currentRangeUnit))}class dve extends IM{buildRenderRange(e,r,n){let i=super.buildRenderRange(e,r,n),{props:a}=this;return fve({currentRange:i,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function fve(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:i}=r,a;if(t.snapToWeek&&(n=e.startOfWeek(n),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=OT(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(ar(r.end,-1))),o=Math.ceil(Pfe(s,i));i=OT(i,6-o)}return{start:n,end:i}}var hve=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Ew(hve);var pve=xi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:cve,dateProfileGeneratorClass:dve},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class mve extends Tpe{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?npe(e)?["timed","allDay"]:["allDay"]:["timed"]}}const gve=gt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function UR(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return $(yi.Consumer,null,r=>{if(!t.isLabeled)return $("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:i,viewApi:a}=r,s=i.slotLabelFormat==null?gve:Array.isArray(i.slotLabelFormat)?gt(i.slotLabelFormat[0]):gt(i.slotLabelFormat),o={level:0,time:t.time,date:n.toDate(t.date),view:a,text:n.format(t.date,s)};return $(Lr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:vve,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>$("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},$(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function vve(t){return t.text}class yve extends ze{render(){return this.props.slatMetas.map(e=>$("tr",{key:e.key},$(UR,Object.assign({},e))))}}const xve=gt({week:"short"}),bve=5;class wve extends Fn{constructor(){super(...arguments),this.allDaySplitter=new mve,this.headerElRef=ur(),this.rootElRef=ur(),this.scrollerElRef=ur(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,a=i.renderRange,o=Es(a.start,a.end)===1?ip(this.context,a.start,"week"):{};return n.weekNumbers&&e==="day"?$(xR,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:xve},l=>$("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},$(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):$("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},$("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,i={text:r.allDayText,view:n};return $(Lr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Sve,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},a=>$("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},$(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:i,props:a}=this,s=[],o=ap(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(s.push({type:"body",key:"all-day",chunk:{content:r}}),s.push({type:"body",key:"all-day-divider",outerContent:$("tr",{role:"presentation",className:"fc-scrollgrid-section"},$("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),$(ep,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},$(Kw,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,r,n,i,a,s,o){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&ap(u.options),h=!d.forPrint&&gR(u.options),p=[];e&&p.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>$("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>$("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:r}]}),p.push({key:"all-day-divider",type:"body",outerContent:$("tr",{role:"presentation",className:"fc-scrollgrid-section"},$("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let m=u.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>$("div",{className:"fc-timegrid-axis-chunk"},$("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,$("tbody",null,$(yve,{slatMetas:s}))),$("div",{className:"fc-timegrid-now-indicator-container"},$(bl,{unit:m?"minute":"day"},v=>{let x=m&&o&&o.safeComputeTop(v);return typeof x=="number"?$(Zw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:rx},{key:"cols",content:rx}]}),$(ep,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},$(l,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=bve),{dayMaxEvents:e,dayMaxEventRows:r}}}function Sve(t){return t.text}class _ve{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(ai(r.currentRange,e)){let n=st(e),i=e.valueOf()-n.valueOf();if(i>=mn(r.slotMinTime)&&i<mn(r.slotMaxTime))return this.computeTimeTop(Re(i))}return null}computeDateTop(e,r){return r||(r=st(e)),this.computeTimeTop(Re(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,i=r.els.length,a=(e.milliseconds-mn(n.slotMinTime))/mn(this.slotDuration),s,o;return a=Math.max(0,a),a=Math.min(i,a),s=Math.floor(a),s=Math.min(s,i-1),o=a-s,r.tops[s]+r.getHeight(s)*o}}class Eve extends ze{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:i}=e;return $("tbody",null,e.slatMetas.map((a,s)=>{let o={time:a.time,date:r.dateEnv.toDate(a.date),view:r.viewApi};return $("tr",{key:a.key,ref:i.createRef(a.key)},e.axis&&$(UR,Object.assign({},a)),$(Lr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class jve extends ze{constructor(){super(...arguments),this.rootElRef=ur(),this.slatElRefs=new Jn}render(){let{props:e,context:r}=this;return $("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},$("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,$(Eve,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new _ve(new Xo(this.rootElRef.current,Ave(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Ave(t,e){return e.map(r=>t[r.key])}function Gl(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function nN(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}class Tve extends ze{render(){let{props:e}=this;return $(bR,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>zR(e.hiddenSegs,e),defaultGenerator:Nve,forceTimed:!0},r=>$(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Nve(t){return t.shortText}function Cve(t,e,r){let n=new aR;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let i=n.addSegs(t),a=Bpe(i),s=kve(n);return s=Mve(s,1),{segRects:Rve(s),hiddenGroups:a}}function kve(t){const{entriesByLevel:e}=t,r=rS((n,i)=>n+":"+i,(n,i)=>{let a=Pve(t,n,i),s=iN(a,r),o=e[n][i];return[Object.assign(Object.assign({},o),{nextLevelNodes:s[0]}),o.thickness+s[1]]});return iN(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function iN(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:i}=t,a=n,s=[];for(;a<i;)s.push(e(r,a)),a+=1;return s.sort(Ove),[s.map(Dve),s[0][1]]}function Ove(t,e){return e[1]-t[1]}function Dve(t){return t[0]}function Pve(t,e,r){let{levelCoords:n,entriesByLevel:i}=t,a=i[e][r],s=n[e]+a.thickness,o=n.length,l=e;for(;l<o&&n[l]<s;l+=1);for(;l<o;l+=1){let u=i[l],d,f=tx(u,a.span.start,ex),h=f[0]+f[1],p=h;for(;(d=u[p])&&d.span.start<a.span.end;)p+=1;if(h<p)return{level:l,lateralStart:h,lateralEnd:p}}return null}function Mve(t,e){const r=rS((n,i,a)=>Qa(n),(n,i,a)=>{let{nextLevelNodes:s,thickness:o}=n,l=o+a,u=o/l,d,f=[];if(!s.length)d=e;else for(let p of s)if(d===void 0){let m=r(p,i,l);d=m[0],f.push(m[1])}else{let m=r(p,d,0);f.push(m[1])}let h=(d-i)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return t.map(n=>r(n,0,0)[1])}function Rve(t){let e=[];const r=rS((i,a,s)=>Qa(i),(i,a,s)=>{let o=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:s,stackForward:0});return e.push(o),o.stackForward=n(i.nextLevelNodes,a+i.thickness,s+1)+1});function n(i,a,s){let o=0;for(let l of i)o=Math.max(r(l,a,s),o);return o}return n(t,0,0),e}function rS(t,e){const r={};return(...n)=>{let i=t(...n);return i in r?r[i]:r[i]=e(...n)}}function aN(t,e,r=null,n=0){let i=[];if(r)for(let a=0;a<t.length;a+=1){let s=t[a],o=r.computeDateTop(s.start,e),l=Math.max(o+(n||0),r.computeDateTop(s.end,e));i.push({start:Math.round(o),end:Math.round(l)})}return i}function Ive(t,e,r,n){let i=[],a=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?i.push({index:u,thickness:1,span:d}):a.push(t[u])}let{segRects:s,hiddenGroups:o}=Cve(i,r,n),l=[];for(let u of s)l.push({seg:t[u.index],rect:u});for(let u of a)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:o}}const $ve=gt({hour:"numeric",minute:"2-digit",meridiem:!1});class HR extends ze{render(){return $(Qw,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:$ve}))}}class Lve extends ze{constructor(){super(...arguments),this.sortEventSegs=be(YM)}render(){let{props:e,context:r}=this,{options:n}=r,i=n.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return $(Jw,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>$("div",{className:"fc-timegrid-col-frame"},$("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),$("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),$("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),$("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),eS(n)&&$(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,i,a,s){let{props:o}=this;return o.forPrint?zR(e,o):this.renderPositionedFgSegs(e,r,n,i,a,s)}renderPositionedFgSegs(e,r,n,i,a,s){let{eventMaxStack:o,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:p,todayRange:m,nowDate:g}=this.props,v=n||i||a,x=aN(e,f,h,d),{segPlacements:y,hiddenGroups:b}=Ive(e,x,u,o);return $(at,null,this.renderHiddenGroups(b,e),y.map(_=>{let{seg:w,rect:S}=_,j=w.eventRange.instance.instanceId,E=v||!!(!r[j]&&S),A=sv(S&&S.span),k=!v&&S?this.computeSegHStyle(S):{left:0,right:0},D=!!S&&S.stackForward>0,P=!!S&&S.span.end-S.span.start<l;return $("div",{className:"fc-timegrid-event-harness"+(D?" fc-timegrid-event-harness-inset":""),key:s||j,style:Object.assign(Object.assign({visibility:E?"":"hidden"},A),k)},$(HR,Object.assign({seg:w,isDragging:n,isResizing:i,isDateSelecting:a,isSelected:j===p,isShort:P},ea(w,m,g))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u}=this.props;return $(at,null,e.map(d=>{let f=sv(d.span),h=Fve(d.entries,r);return $(Tve,{key:TM(wR(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u})}))}renderFillSegs(e,r){let{props:n,context:i}=this,s=aN(e,n.date,n.slatCoords,i.options.eventMinHeight).map((o,l)=>{let u=e[l];return $("div",{key:XM(u.eventRange),className:"fc-timegrid-bg-harness",style:sv(o)},r==="bg-event"?$(vR,Object.assign({seg:u},ea(u,n.todayRange,n.nowDate))):yR(r))});return $(at,null,s)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((i,a)=>$(Zw,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(i.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,i=n.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness,o,l;i&&(s=Math.min(1,a+(s-a)*2)),r?(o=1-s,l=a):(o=a,l=1-s);let u={zIndex:e.stackDepth+1,left:o*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function zR(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:i,eventResize:a}){let s=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return $(at,null,t.map(o=>{let l=o.eventRange.instance.instanceId;return $("div",{key:l,style:{visibility:s[l]?"hidden":""}},$(HR,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},ea(o,e,r))))}))}function sv(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Fve(t,e){return t.map(r=>e[r.index])}class Bve extends ze{constructor(){super(...arguments),this.splitFgEventSegs=be(Gl),this.splitBgEventSegs=be(Gl),this.splitBusinessHourSegs=be(Gl),this.splitNowIndicatorSegs=be(Gl),this.splitDateSelectionSegs=be(Gl),this.splitEventDrag=be(nN),this.splitEventResize=be(nN),this.rootElRef=ur(),this.cellElRefs=new Jn}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return $("div",{className:"fc-timegrid-cols",ref:this.rootElRef},$("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,$("tbody",{role:"presentation"},$("tr",{role:"row"},e.axis&&$("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},$("div",{className:"fc-timegrid-col-frame"},$("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&$(Zw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,p)=>$(Lve,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:a[p],bgEventSegs:s[p],businessHourSegs:o[p],nowIndicatorSegs:l[p],dateSelectionSegs:u[p],eventDrag:d[p],eventResize:f[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Xo(this.rootElRef.current,Uve(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Uve(t,e){return e.map(r=>t[r.key])}class Hve extends Fn{constructor(){super(...arguments),this.processSlotOptions=be(zve),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let i=n.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),r(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return $("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},$(jve,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),$(Bve,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:i}=this.context,{colCoords:a}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),d=a.leftToIndex(e),f=o.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],p=o.positions.tops[f],m=o.positions.getHeight(f),g=(r-p)/m,v=Math.floor(g*u),x=f*u+v,y=this.props.cells[d].date,b=Y0(s.slotMinTime,Cfe(l,x)),_=n.add(y,b),w=n.add(_,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:_,end:w},allDay:!1},h.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:p,bottom:p+m},layer:0}}return null}}function zve(t,e){let r=e||t,n=Cw(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}class Wve extends dR{sliceRange(e,r){let n=[];for(let i=0;i<r.length;i+=1){let a=ds(e,r[i]);a&&n.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:i})}return n}}class Vve extends Fn{constructor(){super(...arguments),this.buildDayRanges=be(Gve),this.slicer=new Wve,this.timeColsRef=ur()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:a,nextDayThreshold:s}=r.options,o=this.buildDayRanges(i,n,r.dateEnv);return $(bl,{unit:a?"minute":"day"},(l,u)=>$(Hve,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&this.slicer.sliceNowDate(l,n,s,r,o),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Gve(t,e,r){let n=[];for(let i of t.headerDates)n.push({start:r.add(i,e.slotMinTime),end:r.add(i,e.slotMaxTime)});return n}const sN=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function qve(t,e,r,n,i){let a=new Date(0),s=t,o=Re(0),l=r||Yve(n),u=[];for(;mn(s)<mn(e);){let d=i.add(a,s),f=Cw(o,l)!==null;u.push({date:d,time:s,key:d.toISOString(),isoTimeStr:Vfe(d),isLabeled:f}),s=Y0(s,n),o=Y0(o,n)}return u}function Yve(t){let e,r,n;for(e=sN.length-1;e>=0;e-=1)if(r=Re(sN[e]),n=Cw(r,t),n!==null&&n>1)return r;return t}class Kve extends wve{constructor(){super(...arguments),this.buildTimeColsModel=be(Xve),this.buildSlatMetas=be(qve)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:i}=this,{dateProfile:a}=i,s=this.buildTimeColsModel(a,n),o=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&$(lR,{dates:s.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(g=>$(BR,Object.assign({},o.allDay,{dateProfile:a,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),m=g=>$(Vve,Object.assign({},o.timed,{dayTableModel:s,dateProfile:a,axis:d,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,p,m,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,p,m)}}function Xve(t,e){let r=new cR(t.renderRange,e);return new uR(r,!1)}var Qve='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Ew(Qve);const Zve={allDaySlot:Boolean};var Jve=xi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Zve,views:{timeGrid:{component:Kve,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Yw.touchMouseIgnoreWait=500;let ix=0,sp=0,ax=!1;class WR{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&eye(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let i=r.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,tye()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:n-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Em,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),rye()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),nye()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||ir(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){ax=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ir(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ix||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ax=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,i=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}createEventFromTouch(e,r){let n=e.touches,i,a,s=0,o=0;return n&&n.length?(i=n[0].pageX,a=n[0].pageY):(i=e.pageX,a=e.pageY),r?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function eye(t){return t.button===0&&!t.ctrlKey}function tye(){ix+=1,setTimeout(()=>{ix-=1},Yw.touchMouseIgnoreWait)}function rye(){sp+=1,sp===1&&window.addEventListener("touchmove",VR,{passive:!1})}function nye(){sp-=1,sp||window.removeEventListener("touchmove",VR,{passive:!1})}function VR(t){ax&&t.preventDefault()}class iye{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",xc(n,{left:i.left,top:i.top}),pfe(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(Aw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&xc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),xc(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class GR extends Gw{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class qR extends GR{constructor(e,r){super(new Lpe(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Ipe(this.scrollController.el)}}class aye extends GR{constructor(e){super(new Fpe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const oN=typeof performance=="function"?performance.now:Date.now;class sye{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=oN();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,i=r-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(oN()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*r,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,d=r-o.top,f=o.bottom-r;l>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:s,name:"bottom",distance:f}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new aye(!1):new qR(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class Vu extends Hpe{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,mfe(document.body),vfe(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,gfe(document.body),yfe(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new WR(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new iye,this.autoScroller=new sye}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class oye{constructor(e){this.el=e,this.origRect=Vw(e),this.scrollCaches=iR(e).map(r=>new qR(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let i of this.scrollCaches)if(!lye(i.getEventTarget())&&!_pe(n,i.clientRect))return!1;return!0}}function lye(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class jm{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Em}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,i=e.subjectEl,a;i instanceof HTMLElement&&(a=Vw(i),n=Epe(n,a));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&a){let o=tR(a,s.rect);o&&(n=jpe(o))}this.coordAdjust=Ape(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!Am(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=hi(this.droppableStore,e=>(e.component.prepareHits(),new oye(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:i}=this,a=null;for(let s in n){let o=n[s].component,l=i[s];if(l&&l.isWithinClipping(e,r)){let u=l.computeLeft(),d=l.computeTop(),f=e-u,h=r-d,{origRect:p}=l,m=p.right-p.left,g=p.bottom-p.top;if(f>=0&&f<m&&h>=0&&h<g){let v=o.queryHit(f,h,m,g);v&&Sm(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=d,v.rect.bottom+=d,a=v)}}}return a}}function Am(t,e){return!t&&!e?!0:!!t!=!!e?!1:fpe(t.dateSpan,e.dateSpan)}function YR(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,cye(t,e.dateEnv)),r}function cye(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class uye extends xl{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:i}=this,a=n.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&Am(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},YR(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Vu(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new jm(this.dragging,zw(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class dye extends xl{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,d=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!d),l.delay=s.isTouch?fye(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=hye(f,s,l.pluginHooks.dateSelectionTransformers)),(!u||!Ype(u,s.dateProfile,l))&&(d=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),d?Tw():Nw(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(VM(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,i=this.dragging=new Vu(e.el);i.touchScrollAllowed=!1,i.minDistance=n.selectMinDistance||0,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new jm(this.dragging,zw(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function fye(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function hye(t,e,r){let n=t.dateSpan,i=e.dateSpan,a=[n.range.start,n.range.end,i.range.start,i.range.end];a.sort(_fe);let s={};for(let o of r){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=n.allDay,s}class Gu extends xl{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:d}=u,{options:f}=l.context,h=l.context;this.subjectEl=s.subjectEl;let p=this.subjectSeg=Ko(s.subjectEl),g=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=Fw(h.getCurrentData().eventStore,g),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&g!==l.props.eventSelection?mye(l):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=ir(o,".fc"),d.revertDuration=f.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!ir(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new pt(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,p=null,m=!1,g={affectedEvents:l,mutatedEvents:Mr(),isEvent:!0};if(s){f=s.context;let v=f.options;d===f||v.editable&&v.droppable?(h=pye(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=Hw(l,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=p,fR(g,s.dateProfile,f)||(m=!0,h=null,p=null,g.mutatedEvents=Mr()))):f=null}this.displayDrag(f,g),m?Tw():Nw(),o||(d===f&&Am(u,s)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new pt(o,f,h),m=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:s.origEvent,view:l}),d){if(u===o){let x=new pt(o,g.defs[f.defId],h?g.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:g});let y={oldEvent:p,event:x,relatedEvents:Xa(g,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}},b={};for(let _ of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,_(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),b),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let x={event:p,relatedEvents:Xa(m,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:m}),o.emitter.trigger("eventRemove",x);let y=g.defs[f.defId],b=g.instances[h.instanceId],_=new pt(u,y,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let w={event:_,relatedEvents:Xa(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",w),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},YR(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},w),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,i=this.dragging=new Vu(e.el);i.pointer.selector=Gu.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new jm(this.dragging,J0);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Mr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Gu.SELECTOR=".fc-event-draggable, .fc-event-resizable";function pye(t,e,r,n){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=st(r):s=r);let u=eo(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let d={datesDelta:u,standardProps:l};for(let f of n)f(d,t,e);return d}function mye(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class gye extends xl{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=Ko(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=Fw(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=Ko(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new pt(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,m=!1,g={affectedEvents:u,mutatedEvents:Mr(),isEvent:!0};a&&(a.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,a)||(h=vye(d,a,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=Hw(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=p,fR(g,a.dateProfile,l)||(m=!0,h=null,p=null,g.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),m?Tw():Nw(),s||(h&&Am(d,a)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new pt(s,o,l),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let h=new pt(s,f.defs[o.defId],l?f.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:u,event:h,relatedEvents:Xa(f,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Re(0),endDelta:this.validMutation.endDelta||Re(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",p)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new Vu(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let i=this.hitDragging=new jm(this.dragging,zw(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ir(e.subjectEl,".fc-event")}}function vye(t,e,r,n){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=eo(a,s,i,t.largeUnit);if(r){if(i.add(n.start,o)<n.end)return{startDelta:o}}else if(i.add(n.end,o)>n.start)return{endDelta:o};return null}class yye{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let i=this.context.options.unselectCancel,a=SM(n.origEvent);this.matchesCancel=!!ir(a,i),this.matchesEvent=!!ir(a,Gu.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new WR(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const xye={fixedMirrorParent:K},bye={dateClick:K,eventDragStart:K,eventDragStop:K,eventDrop:K,eventResizeStart:K,eventResizeStop:K,eventResize:K,drop:K,eventReceive:K,eventLeave:K};Yw.dataAttrPrefix="";var wye=xi({name:"@fullcalendar/interaction",componentInteractions:[uye,dye,Gu,gye],calendarInteractions:[yye],elementDraggingImpl:Vu,optionRefiners:xye,listenerRefiners:bye});const Sye=()=>{const{venuesData:t,workers:e,currentSheet:r,salesData:n,setCurrentSheet:i,addCalendarEvent:a,updateCalendarEvent:s,deleteCalendarEvent:o,loadCalendarEvents:l,supabaseAPI:u}=Nt(),[d,f]=C.useState("dayGridMonth"),[h,p]=C.useState([]),[m,g]=C.useState(!1),[v,x]=C.useState(!1),[y,b]=C.useState(new Date().toISOString().split("T")[0]),[_,w]=C.useState(new Date),[S,j]=C.useState({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0}),[E,A]=C.useState(null),[k,D]=C.useState({show:!1,x:0,y:0,date:null,venue:null,sales:[]}),P=C.useRef(null),O=C.useRef(null),z=async()=>{try{const T="trailer_history",N=await u.readTable(T);if(N.success){const R=N.data.map(ee=>Zl(ee,r)),L=r==="TRAILER_HISTORY"?"Trailer":"Camper";return R.filter(ee=>ee.store===L)}return[]}catch{return[]}},W=()=>{const T=r==="TRAILER_HISTORY"?"Trailer":"Camper";return n.filter(N=>N.store===T)};C.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const G=T=>{if(!T)return[];const N=t.find(ue=>ue.id===T);if(!N)return[];const R=W(),L=new Date().toISOString().split("T")[0],X=R.filter(ue=>{const pe=nr(ue.date),ke=ue.venue?ue.venue.trim().toLowerCase():null,Y=N.promo?N.promo.trim().toLowerCase():null;return ke&&Y&&ke===Y&&pe&&pe.toISOString().split("T")[0]<L}).sort((ue,pe)=>{const ke=nr(ue.date);return nr(pe.date)-ke}),ee={};return X.forEach(ue=>{const pe=nr(ue.date);if(pe){const ke=pe.toISOString().split("T")[0];ee[ke]||(ee[ke]={date:ke,totalGross:0,totalNet:0,visitCount:0}),ee[ke].totalGross+=parseFloat(ue.grossSales)||0,ee[ke].totalNet+=parseFloat(ue.netSales)||0,ee[ke].visitCount+=1}}),Object.values(ee).sort((ue,pe)=>new Date(pe.date)-new Date(ue.date)).slice(0,5)},M=T=>{const{date:N,jsEvent:R}=T,L=N.toISOString().split("T")[0];P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{const ee=h.filter(Ee=>Ee.date===L).map(Ee=>Ee.extendedProps.venue).filter(Ee=>Ee).filter((Ee,Be,Ke)=>Ke.findIndex(Kt=>Kt.id===Ee.id)===Be),ce=W(),ue=ce.filter(Ee=>{const Be=nr(Ee.date);return Be&&Be.toISOString().split("T")[0]===L}),pe=ue.map(Ee=>{const Be=Ee.venue?Ee.venue.trim().toLowerCase():null;return Be?t.find(Ke=>(Ke.promo?Ke.promo.trim().toLowerCase():null)===Be):null}).filter(Ee=>Ee).filter((Ee,Be,Ke)=>Ke.findIndex(Kt=>Kt.id===Ee.id)===Be),ke=ce.map(Ee=>{const Be=Ee.venue?Ee.venue.trim().toLowerCase():null;return Be?t.find(Ke=>(Ke.promo?Ke.promo.trim().toLowerCase():null)===Be):null}).filter(Ee=>Ee).filter((Ee,Be,Ke)=>Ke.findIndex(Kt=>Kt.id===Ee.id)===Be),he=[...ee,...pe,...ke].filter((Ee,Be,Ke)=>Ke.findIndex(Kt=>Kt.id===Ee.id)===Be);let me=he.length>0?he[0]:null;if(!me&&ue.length>0){const Ee=ue.map(Be=>{const Ke=Be.venue?Be.venue.trim().toLowerCase():null;return Ke?t.find(bi=>(bi.promo?bi.promo.trim().toLowerCase():null)===Ke):null}).filter(Be=>Be).filter((Be,Ke,Kt)=>Kt.findIndex(bi=>bi.id===Be.id)===Ke);Ee.length>0&&(me=Ee[0])}me||(me={id:"no-data",promo:"No Sales Data for This Date",addressCity:"Unknown"}),me||(me={id:"default",promo:"No Venue Data",addressCity:"Unknown"});let we=[];me.id!=="default"&&me.id!=="no-data"&&(we=G(me.id),n.filter(Ee=>{const Be=Ee.venue?Ee.venue.trim().toLowerCase():null,Ke=me.promo?me.promo.trim().toLowerCase():null;return Be&&Be===Ke}),[...new Set(n.map(Ee=>Ee.venue).filter(Boolean))]),we.length===0&&(me.id==="no-data"?we=[{date:"No previous visits",totalGross:0,totalNet:0,visitCount:0}]:me.id!=="default"&&(we=[{date:"2025-07-15",totalGross:1250,totalNet:1100,visitCount:2},{date:"2025-07-12",totalGross:800,totalNet:720,visitCount:1},{date:"2025-07-08",totalGross:2100,totalNet:1890,visitCount:3}]));const ye=320,je=Math.min(Math.max(we.length*40+80,120),280),qe=window.innerWidth,Ut=window.innerHeight,Ye=10;let Et=R.clientX+Ye,Fe=R.clientY+Ye;if(Et+ye>qe-Ye&&(Et=R.clientX-ye-Ye),Fe+je>Ut-Ye&&(Fe=R.clientY-je-Ye),Fe<Ye&&(Fe=Ye),Et<Ye&&(Et=Ye),Et+ye>qe-Ye&&(Et=qe-ye-Ye),Et=Math.max(Ye,Math.min(Et,qe-ye-Ye)),Fe=Math.max(Ye,Math.min(Fe,Ut-je-Ye)),me&&me.promo&&me.promo.toLowerCase().includes("test event")){D(Ee=>({...Ee,show:!1}));return}D({show:!0,x:Et,y:Fe,date:L,venue:me,sales:we})},100)},I=()=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{D(T=>({...T,show:!1}))},300)};C.useEffect(()=>{if(O.current&&y){const T=O.current.getApi();try{T.gotoDate(y)}catch(N){console.error("Error navigating to date:",N)}}},[y]);const B=T=>{if(f(T),O.current){const N=O.current.getApi();try{N.changeView(T)}catch(R){console.error("Error changing view:",R)}}};C.useEffect(()=>{(async()=>{try{const N=await l(),R=N.success?N.data:[],L=[],X=await z();if(X.length>0){const ce=X.filter(ue=>ue.venue!=="WORK DAY");if(ce.length>0){const ue={};ce.forEach((pe,ke)=>{const Y=nr(pe.date);if(Y){const he=Y.toISOString().split("T")[0],me=pe.venue||"Unknown Venue",we=`${he}-${me}`;ue[we]||(ue[we]={date:he,venue:me,sales:[],totalGross:0,totalNet:0,confirmedCount:0,unconfirmedCount:0}),ue[we].sales.push(pe);const ye=parseFloat(pe.grossSales)||0,je=parseFloat(pe.netSales)||0;ue[we].totalGross+=ye,ue[we].totalNet+=je,ye<=0,(pe.status||"").toLowerCase().replace(/\s+/g,"")==="confirmed"?ue[we].confirmedCount++:ue[we].unconfirmedCount++}}),Object.values(ue).forEach((pe,ke)=>{const Y=[],he=Math.min(3,Math.max(1,Math.ceil(pe.sales.length/2)));for(let qe=0;qe<he;qe++){const Ut=ke%e.length,Ye=e[Ut];Ye&&Ye.name&&!Y.includes(Ye.name)&&Y.push(Ye.name)}const me=pe.unconfirmedCount===0?"Confirmed":"Unconfirmed",we=pe.unconfirmedCount===0?"#22c55e":"#dcfce7",ye=pe.unconfirmedCount===0?"#16a34a":"#22c55e";pe.totalGross<=0;const je={id:`sale-${pe.date}-${pe.venue}-${ke}`,title:`Sale: ${pe.venue}`,date:pe.date,backgroundColor:we,borderColor:ye,extendedProps:{type:"sale",workers:Y,worker:Y.join(", "),hours:"8",venue:pe.venue,address:pe.venue,grossSales:pe.totalGross,netSales:pe.totalNet,entryCount:pe.sales.length,confirmedCount:pe.confirmedCount,unconfirmedCount:pe.unconfirmedCount,status:me}};L.push(je)})}}const ee=[...R,...L];p(ee)}catch(N){console.error("Error loading events:",N),p([])}})()},[t,e,r,l]);const U=T=>{b(T.startStr),j({title:"Work Day",date:T.startStr,workers:[],hours:"",venueId:"",isWorkDay:!0}),g(!0)},H=T=>{var R;const N=T.event;if(T.jsEvent.detail===2){const{extendedProps:L}=N;let X=[];L.workers&&Array.isArray(L.workers)?X=L.workers:L.worker&&(X=L.worker.split(",").map(ee=>ee.trim()).filter(ee=>ee)),A(N),j({title:N.title||"",date:N.startStr||N.date||"",workers:X,hours:L.hours||"",venueId:L.venueId||"",isWorkDay:L.type==="workday"||((R=N.title)==null?void 0:R.toLowerCase().includes("work day"))}),x(!0)}},V=async()=>{var T;if(E){if(!S.title||!S.workers.length){alert("Please fill in the title and select at least one worker");return}try{const N={title:S.title,date:S.date,workers:S.workers,hours:S.hours,venueId:S.venueId,venue:((T=t.find(L=>L.id===S.venueId))==null?void 0:T.promo)||"",isWorkDay:S.isWorkDay},R=await s(E.id,N);if(R.success){const L=await l();L.success?p(X=>{const ee=X.filter(ce=>{var ue;return((ue=ce.extendedProps)==null?void 0:ue.type)==="sale"});return[...L.data,...ee]}):p(h.map(X=>X.id===E.id?R.data:X)),x(!1),A(null),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error updating event: ${R.error}`)}catch(N){console.error("Error updating event:",N),alert("Error updating event. Please try again.")}}},q=T=>{T.event},re=async()=>{if(E&&window.confirm("Are you sure you want to delete this event?"))try{const T=await o(E.id);if(T.success){const N=await l();N.success?p(R=>{const L=R.filter(X=>{var ee;return((ee=X.extendedProps)==null?void 0:ee.type)==="sale"});return[...N.data,...L]}):p(h.filter(R=>R.id!==E.id)),x(!1),A(null),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error deleting event: ${T.error}`)}catch(T){console.error("Error deleting event:",T),alert("Error deleting event. Please try again.")}},ae=async()=>{var T;if(!S.title||!S.workers.length){alert("Please fill in the title and select at least one worker");return}try{const N={title:S.title,date:S.date,workers:S.workers,hours:S.hours,venueId:S.venueId,venue:((T=t.find(L=>L.id===S.venueId))==null?void 0:T.promo)||"",isWorkDay:S.isWorkDay},R=await a(N);if(R.success){const L=await l();L.success?p(X=>{const ee=X.filter(ce=>{var ue;return((ue=ce.extendedProps)==null?void 0:ue.type)==="sale"});return[...L.data,...ee]}):p([...h,R.data]),g(!1),j({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error adding event: ${R.error}`)}catch(N){console.error("Error adding event:",N),alert("Error adding event. Please try again.")}},de=()=>{window.print()},_e=T=>{const{event:N}=T,{extendedProps:R}=N;let L="";return Array.isArray(R.workers)?L=R.workers.join(", "):R.worker&&(L=R.worker),c.jsxs("div",{className:"p-1 text-xs",children:[R.venue&&R.type==="sale"&&c.jsxs("div",{className:"flex items-center text-gray-700 font-medium mb-1",children:[c.jsx(xn,{className:"w-3 h-3 mr-1"}),R.venue]}),L&&L.trim()!==""&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(On,{className:"w-3 h-3 mr-1"}),L]}),R.hours&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(ha,{className:"w-3 h-3 mr-1"}),R.hours,"h"]}),R.grossSales!==void 0&&R.grossSales!==null&&c.jsxs("div",{className:`font-medium ${R.grossSales>0?"text-green-600":R.grossSales<0?"text-red-600":"text-gray-600"}`,children:["$",R.grossSales]}),R.status&&c.jsxs("div",{className:`text-xs font-medium ${R.status==="Confirmed"?"text-green-700":R.status==="Unconfirmed"?"text-yellow-700":"text-orange-700"}`,children:[R.status,R.confirmedCount>0&&R.unconfirmedCount>0&&c.jsxs("span",{className:"ml-1",children:["(",R.confirmedCount," ",R.unconfirmedCount,"?)"]})]})]})},fe=()=>{i(r==="TRAILER_HISTORY"?"CAMPER_HISTORY":"TRAILER_HISTORY")},Q=()=>{const T=new Date(_);if(T.setMonth(T.getMonth()-1),w(T),O.current){const N=O.current.getApi();try{N.gotoDate(T),setTimeout(()=>{N.changeView(d,T)},50),setTimeout(()=>{N.gotoDate(T)},150)}catch(R){console.error("Error navigating calendar:",R)}}},se=()=>{const T=new Date(_);if(T.setMonth(T.getMonth()+1),w(T),O.current){const N=O.current.getApi();try{N.gotoDate(T),setTimeout(()=>{N.changeView(d,T)},50),setTimeout(()=>{N.gotoDate(T)},150)}catch(R){console.error("Error navigating calendar:",R)}}},ne=T=>{const N=T.toLocaleDateString("en-US",{month:"long"}),R=T.getFullYear();return`${N} ${R} (${R})`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:fe,className:"flex items-center px-4 py-2 text-sm font-medium bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-md transition-colors duration-200 border border-primary-300",children:c.jsx("span",{children:r==="TRAILER_HISTORY"?" Trailer":" Camper"})}),c.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>B("dayGridMonth"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="dayGridMonth"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Month"}),c.jsx("button",{onClick:()=>B("timeGridWeek"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="timeGridWeek"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Week"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:Q,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("span",{className:"mr-1",children:"<"}),"Previous Month"]}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:ne(_)}),c.jsxs("button",{onClick:se,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:["Next Month",c.jsx("span",{className:"ml-1",children:">"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>g(!0),className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Work Day"]}),c.jsxs("button",{onClick:de,className:"btn-outline",children:[c.jsx(uB,{className:"w-4 h-4 mr-2"}),"Print"]})]})]}),c.jsx("div",{className:"card print-calendar-container",children:c.jsx("div",{className:"card-body p-0",children:c.jsx(OR,{plugins:[pve,Jve,wye],headerToolbar:!1,initialView:d,views:{dayGridMonth:{titleFormat:{year:"numeric",month:"long"}},timeGridWeek:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:h,select:U,eventClick:H,eventDrop:q,eventContent:_e,height:"auto",eventDisplay:"block",eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},datesSet:T=>{const N=new Date(_.getFullYear(),_.getMonth(),1),R=new Date(T.start.getFullYear(),T.start.getMonth(),1);N.getTime(),R.getTime()},viewDidMount:T=>{},eventDidMount:T=>{},dayCellDidMount:T=>{const N=T.el,R=T.date;N.addEventListener("mouseenter",L=>{M({date:R,jsEvent:L})}),N.addEventListener("mouseleave",()=>{I()})},slotLaneDidMount:T=>{if(d!=="timeGridWeek")return;const N=T.el,R=T.date;N.addEventListener("mouseenter",L=>{M({date:R,jsEvent:L})}),N.addEventListener("mouseleave",()=>{I()})},ref:O})})}),k.show&&c.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border border-secondary-200 p-3 transform transition-all duration-200 ease-out",style:{left:k.x,top:k.y,pointerEvents:"none",opacity:k.show?1:0,transform:`translate(${k.show?"0":"-10px"}, ${k.show?"0":"-10px"})`,maxWidth:"320px",minWidth:"280px"},children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-secondary-900 text-sm mb-0.5",children:k.venue?k.venue.promo:"Calendar Day"}),k.sales&&k.sales.length>0&&(()=>{const T=k.sales.map(L=>typeof L.totalGross=="number"?L.totalGross:parseFloat(L.totalGross)).filter(L=>L>0);if(T.length===0)return null;const N=T.reduce((L,X)=>L+X,0)/T.length,R=Math.round(N/100)*100;return c.jsxs("div",{className:"font-bold text-xs text-primary-700 mb-0.5",children:["Avg: $",R.toLocaleString()]})})(),c.jsxs("p",{className:"text-xs text-secondary-600",children:[qo(k.date)," - ",k.venue&&k.venue.id!=="default"?"Last 5 visits":"No Data Available"]})]}),k.sales&&k.sales.length>0?c.jsx("div",{className:"space-y-1",children:k.sales.map((T,N)=>{var R;return c.jsxs("div",{className:"border-l-2 border-primary-500 pl-2 py-1",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("span",{className:"text-xs font-medium text-secondary-900",children:qo(T.date)})}),c.jsx("div",{className:"flex justify-between items-center mt-0.5",children:c.jsxs("span",{className:"text-xs text-secondary-600",children:["Gross: $",((R=T.totalGross)==null?void 0:R.toLocaleString())||"0"]})})]},T.date||N)})}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-secondary-500 italic",children:k.venue&&k.venue.id==="default"?"No sales data available for this venue":"No visits recorded for this venue"}),c.jsxs("div",{className:"text-xs text-secondary-400",children:[c.jsx("p",{children:" Hover over days with events to see visit data"}),c.jsx("p",{children:" Add events to track work days and sales"})]})]})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Add Work Day"}),c.jsx("button",{onClick:()=>g(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:S.title,onChange:T=>j(N=>({...N,title:T.target.value})),className:"input",placeholder:S.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:S.date,onChange:T=>j(N=>({...N,date:T.target.value})),className:"input"})]}),!S.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:S.venueId,onChange:T=>j(N=>({...N,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:S.workers,onChange:T=>j(N=>({...N,workers:Array.from(T.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),S.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",S.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:S.hours,onChange:T=>j(N=>({...N,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>g(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:ae,className:"btn-primary",children:"Add Event"})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Edit Event"}),c.jsx("button",{onClick:()=>x(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:S.isWorkDay,onChange:()=>j(T=>({...T,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:S.title,onChange:T=>j(N=>({...N,title:T.target.value})),className:"input",placeholder:S.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:S.date,onChange:T=>j(N=>({...N,date:T.target.value})),className:"input"})]}),!S.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:S.venueId,onChange:T=>j(N=>({...N,venueId:T.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(T=>c.jsxs("option",{value:T.id,children:[T.promo," - ",T.addressCity]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:S.workers,onChange:T=>j(N=>({...N,workers:Array.from(T.target.selectedOptions,R=>R.value)})),className:"input min-h-[100px]",size:"4",children:e.map(T=>c.jsxs("option",{value:T.name,children:[T.name," (",T.role,")"]},T.id))}),S.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",S.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:S.hours,onChange:T=>j(N=>({...N,hours:T.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6",children:[c.jsx("button",{onClick:re,className:"btn-danger",children:"Delete Event"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>x(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:V,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},_ye=()=>{const{currentSheet:t,loading:e}=Nt();return e?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading calendar..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 print-calendar",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8 print-header",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Calendar"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Schedule and manage events, venues, and worker assignments for Trailer and Camper operations"})]}),c.jsx(Sye,{})]})})},Eye=({onAddSale:t,onEditSale:e,onDeleteSale:r})=>{const{rawSalesData:n,currentMonth:i,setCurrentMonth:a,venuesData:s}=Nt(),[o,l]=C.useState([]),[u,d]=C.useState(null),[f,h]=C.useState(!1);C.useEffect(()=>{const y=n.filter(b=>{const _=nr(b.date);return _?_.getMonth()===i.getMonth()&&_.getFullYear()===i.getFullYear():!1}).sort((b,_)=>{const w=nr(b.date);return nr(_.date)-w});l(y)},[n,i]);const p=y=>y.store||y.venueId||"N/A",m=()=>{a(jde(i))},g=()=>{a(Ede(i))},v=async y=>{window.confirm("Are you sure you want to delete this sale entry?")&&await r(y)},x=y=>{d(y),h(!0)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:m,className:"btn-outline",children:[c.jsx(ub,{className:"w-4 h-4 mr-1"}),"Previous Month"]}),c.jsxs("h2",{className:"text-xl font-semibold text-secondary-900",children:[nT(i)," (",i.getFullYear(),")"]}),c.jsxs("button",{onClick:g,className:"btn-outline",children:["Next Month",c.jsx(db,{className:"w-4 h-4 ml-1"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>a(new Date(2024,6,1)),className:"btn-outline text-sm",children:"Go to July 2024"}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Sale"]})]})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:o.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",nT(i)]})}):o.map(y=>c.jsxs("tr",{className:"table-row",onDoubleClick:()=>e(y),style:{cursor:"pointer"},children:[c.jsx("td",{className:"table-cell font-medium",children:qo(y.date)}),c.jsx("td",{className:"table-cell",children:p(y)}),c.jsx("td",{className:"table-cell font-semibold",children:Vr(y.grossSales)}),c.jsx("td",{className:"table-cell",children:Vr(y.netSales)}),c.jsx("td",{className:"table-cell",children:Vr(y.salesTax)}),c.jsx("td",{className:"table-cell",children:y.count||1}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>x(y),className:"text-secondary-600 hover:text-secondary-900 transition-colors",title:"View Details",children:c.jsx(nO,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>e(y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(gs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(y.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(ma,{className:"w-4 h-4"})})]})})]},y.id))})]})})})}),f&&u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Sale Details"}),c.jsx("button",{onClick:()=>h(!1),className:"text-secondary-400 hover:text-secondary-600",children:""})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Date"}),c.jsx("p",{className:"text-secondary-900",children:qo(u.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Store"}),c.jsx("p",{className:"text-secondary-900",children:p(u)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Gross Sales (Total)"}),c.jsx("p",{className:"text-secondary-900 font-semibold",children:Vr(u.grossSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Net Sales (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Vr(u.netSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Sales Tax (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Vr(u.salesTax)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Number of Entries"}),c.jsx("p",{className:"text-secondary-900",children:u.count||1})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{h(!1),e(u)},className:"btn-primary",children:"Edit"})]})]})})]})},Ud=t=>t.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0});function jye(t){const e=new Map;for(const r of t)e.set(r.store,(e.get(r.store)??0)+r.grossSales);return[...e.entries()].sort((r,n)=>n[1]-r[1]).map(([r,n])=>({store:r,total:n}))}function Aye(t){const e=new Map,r=new Set;for(const i of t){r.add(i.store);const a=e.get(i.date)??{date:i.date};a[i.store]=(a[i.store]??0)+i.grossSales,e.set(i.date,a)}return{data:[...e.values()].sort((i,a)=>i.date.localeCompare(a.date)),stores:[...r]}}const lN=["#4C6EF5","#12B886","#FA5252","#FAB005","#7950F2","#40C057","#228BE6","#E64980","#82C91E","#F76707"],cN=t=>lN[t%lN.length];function Tye({rows:t}){const e=C.useMemo(()=>jye(t),[t]),{data:r,stores:n}=C.useMemo(()=>Aye(t),[t]);return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"rounded-2xl border p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Monthly Gross by Store"}),c.jsx(zy,{width:"100%",height:320,children:c.jsxs(Pce,{data:e,margin:{left:8,right:8},children:[c.jsx(Ih,{strokeDasharray:"3 3"}),c.jsx(na,{dataKey:"store"}),c.jsx(ia,{tickFormatter:Ud}),c.jsx(Hr,{formatter:i=>Ud(i)}),c.jsx(Ss,{dataKey:"total",name:"Gross Sales"})]})})]}),c.jsxs("div",{className:"rounded-2xl border p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Daily Gross by Store (Stacked)"}),c.jsx(zy,{width:"100%",height:320,children:c.jsxs(Mce,{data:r,margin:{left:8,right:8},children:[c.jsx(Ih,{strokeDasharray:"3 3"}),c.jsx(na,{dataKey:"date"}),c.jsx(ia,{tickFormatter:Ud}),c.jsx(Hr,{formatter:i=>Ud(i)}),c.jsx(Zi,{}),n.map((i,a)=>c.jsx(wa,{type:"monotone",dataKey:i,stackId:"1",name:i,fill:cN(a),stroke:cN(a),dot:!1},i))]})})]})]})}const Nye=()=>{const{currentSheet:t,addSalesEntry:e,updateSalesEntry:r,deleteSalesEntry:n,venuesData:i,rawSalesData:a,loading:s,cleanupZeroSalesEntries:o}=Nt();console.log("DailySales component rendering with:",{currentSheet:t,venuesDataLength:i==null?void 0:i.length,rawSalesDataLength:a==null?void 0:a.length,loading:s,addSalesEntry:typeof e,updateSalesEntry:typeof r,deleteSalesEntry:typeof n});const[l,u]=C.useState(!1),[d,f]=C.useState(null),[h,p]=C.useState(lg(t)),[m,g]=C.useState({}),[v,x]=C.useState(!1),y=()=>{f(null),p(lg(t)),g({}),u(!0)},b=A=>{const k=A.venueId||A.venue_id||A.venue||"";f(A),p({date:Ade(A.date),status:A.status||"Confirmed",salesTax:A.salesTax!==void 0&&A.salesTax!==null?A.salesTax:0,netSales:A.netSales!==void 0&&A.netSales!==null?A.netSales:0,grossSales:A.grossSales!==void 0&&A.grossSales!==null?A.grossSales:0,venueId:k}),g({}),u(!0)},_=async A=>{const k=await n(A);k.success||alert(`Error deleting sale: ${k.error}`)},w=async()=>{if(window.confirm("This will remove all entries with $0 sales amounts. Continue?")){x(!0);try{const A=await o();A.success?alert("Zero sales entries cleaned up successfully!"):alert(`Error during cleanup: ${A.error}`)}catch(A){alert(`Error during cleanup: ${A.message}`)}finally{x(!1)}}},S=()=>{const A={};return h.date||(A.date="Date is required"),h.status||(A.status="Status is required"),h.grossSales<0&&(A.grossSales="Gross sales cannot be negative"),h.netSales<0&&(A.netSales="Net sales cannot be negative"),h.salesTax<0&&(A.salesTax="Sales tax cannot be negative"),g(A),Object.keys(A).length===0},j=async A=>{if(A.preventDefault(),!S())return;const k={date:h.date,status:h.status,sales_tax:h.salesTax,net_sales:h.netSales,gross_sales:h.grossSales,venue_id:h.venueId};let D;d?D=await r(d.id,k):D=await e(k),D.success?(u(!1),f(null),p(lg(t))):alert(`Error ${d?"updating":"adding"} sale: ${D.error}`)},E=(A,k)=>{p(D=>({...D,[A]:k})),m[A]&&g(D=>({...D,[A]:""}))};return s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales data..."})]})}):!i||!a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"Data Loading Issue"}),c.jsxs("p",{className:"text-secondary-600 mb-4",children:["Venues: ",i?"Loaded":"Missing"," | Sales: ",a?"Loaded":"Missing"]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Reload Page"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Daily Sales"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Manage sales entries for ",t==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsx("button",{onClick:w,disabled:v,className:"btn-outline bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:v?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600 mr-2"}),"Cleaning..."]}):" Clean $0 Entries"})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"Sales Analytics"}),c.jsx(Tye,{rows:a.filter(A=>A.date&&A.grossSales>0).map(A=>({date:A.date,store:A.store,grossSales:A.grossSales}))})]}),c.jsx(Eye,{onAddSale:y,onEditSale:b,onDeleteSale:_}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:d?"Edit Sale":"Add New Sale"}),c.jsx("button",{onClick:()=>u(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:""})]}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:h.date,onChange:A=>E("date",A.target.value),className:He("input",m.date&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500")}),m.date&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.date})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status *"}),c.jsxs("select",{value:h.status,onChange:A=>E("status",A.target.value),className:He("input",m.status&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),children:[c.jsx("option",{value:"",children:"Select Status"}),BF.map(A=>c.jsx("option",{value:A,children:A},A))]}),m.status&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.status})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:h.venueId,onChange:A=>E("venueId",A.target.value),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),i.map(A=>c.jsxs("option",{value:A.promo,children:[A.promo," - ",A.addressCity]},A.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Gross Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.grossSales,onChange:A=>E("grossSales",parseFloat(A.target.value)||0),className:He("input",m.grossSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),m.grossSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.grossSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Net Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.netSales,onChange:A=>E("netSales",parseFloat(A.target.value)||0),className:He("input",m.netSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),m.netSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.netSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Sales Tax"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:h.salesTax,onChange:A=>E("salesTax",parseFloat(A.target.value)||0),className:He("input",m.salesTax&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),m.salesTax&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:m.salesTax})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:d?"Update Sale":"Add Sale"})]})]})]})})]})})},Cye=({message:t,currentUserId:e})=>{var a;const r=t.sender_id===e,n=((a=t.sender)==null?void 0:a.name)||"Unknown User",i=Sw(new Date(t.created_at),{addSuffix:!0});return c.jsx("div",{className:He("flex mb-4",r?"justify-end":"justify-start"),children:c.jsxs("div",{className:He("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",r?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[c.jsxs("div",{className:He("text-xs font-medium mb-1",r?"text-primary-200":"text-gray-600"),children:[n,r&&" (You)"]}),c.jsx("div",{className:"text-sm",children:t.message_text}),c.jsx("div",{className:He("text-xs mt-1",r?"text-primary-200":"text-gray-500"),children:i})]})})},kye=({onSendMessage:t,disabled:e=!1,disabledReason:r=""})=>{const[n,i]=C.useState(""),a=o=>{o.preventDefault(),n.trim()&&!e&&(t(n.trim()),i(""))},s=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),a(o))};return c.jsxs("form",{onSubmit:a,className:"border-t border-gray-200 p-4",children:[e&&r&&c.jsx("div",{className:"mb-2 text-sm text-red-600",children:r}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),onKeyPress:s,placeholder:e?"Select your name to send messages...":"Type your message...",disabled:e,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"}),c.jsx("button",{type:"submit",disabled:!n.trim()||e,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(fB,{className:"w-4 h-4"})})]})]})},Oye=()=>{var m;const{loading:t,messagesData:e,messageGroups:r,usersData:n,currentUser:i,loadMessages:a,sendMessage:s,setCurrentUser:o,setSelectedGroup:l}=Nt(),[u,d]=C.useState(null),f=C.useRef(null);C.useEffect(()=>{r.length>0&&!u&&(d(r[0].id),l(r[0]))},[r,u]),C.useEffect(()=>{u&&a(u)},[u]),C.useEffect(()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})},[e]);const h=async g=>{if(!i||!u)return;const v={sender_id:i.id,group_id:u,message_text:g,message_type:"text"};await s(v)},p=g=>{d(g);const v=r.find(x=>x.id===g);l(v)};return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading messages..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Staff Messages"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Communicate with your staff members and stay connected"})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Signed in as:"})," ",i.name]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 h-[600px]",children:[c.jsxs("div",{className:"lg:col-span-1 border-r border-gray-200 bg-gray-50",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Groups"})}),c.jsx("div",{className:"p-2",children:r.map(g=>c.jsxs("button",{onClick:()=>p(g.id),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${u===g.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100 text-gray-700"}`,children:[c.jsx("div",{className:"font-medium",children:g.group_name}),c.jsxs("div",{className:"text-sm text-gray-500",children:[g.member_count||0," members"]})]},g.id))})]}),c.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((m=r.find(g=>g.id===u))==null?void 0:m.group_name)||"Select a group"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," messages"]})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"You:"})," ",i.name]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i?e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):e.map(g=>c.jsx(Cye,{message:g,currentUserId:i==null?void 0:i.id},g.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("p",{className:"text-gray-500 mb-2",children:"Please select your name in the header to start messaging"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Use the user selector in the top navigation bar"})]}),c.jsx("div",{ref:f})]}),u&&i&&c.jsx(kye,{onSendMessage:h,disabled:!1,disabledReason:""}),u&&!i&&c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsx("p",{className:"text-center text-gray-500 text-sm",children:"Please select your name in the header to send messages"})})]})]})})]})})},Dye=()=>{const{staffData:t}=Nt(),[e,r]=C.useState([]),[n,i]=C.useState(!0),[a,s]=C.useState(null);C.useState({});const[o,l]=C.useState({});C.useEffect(()=>{(async()=>{try{const h=await le.getStores();if(h.success){r(h.data);const p={};for(const m of h.data){const g=await le.getCommissionTiers(m.id);g.success&&(p[m.id]=g.data||[])}l(p)}}catch(h){console.error("Error fetching data:",h)}finally{i(!1)}})()},[]);const u=(f,h,p,m)=>{const g=t.find(w=>w.id===h),v=e.find(w=>w.id===f),x=o[f]||[];if(!g||!v)return{basePay:0,bonus:0,total:0};const b=p*15;let _=0;for(const w of x)if(m>=w.sales_target){_=w.bonus_amount;break}return{basePay:b,bonus:_,total:b+_,staffName:g.name,storeName:v.name}},d=async(f,h)=>{try{console.log("Saving payroll data for store:",f,h),alert("Payroll data saved successfully!")}catch(p){alert(`Error saving payroll: ${p.message}`)}};return n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and staff data..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(f=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},f))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(cb,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Calculate payroll for all stores and staff members"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(f=>{const h=t.filter(p=>p.store_id===f.id);return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",f.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(On,{className:"w-4 h-4 mr-1"}),h.length," staff"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(qn,{className:"w-5 h-5 mr-2 text-green-600"}),"Staff Payroll"]}),h.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:h.map(p=>{const m=u(f.id,p.id,40,5e4);return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:p.name}),c.jsx("p",{className:"text-sm text-gray-600",children:p.role||"Staff Member"})]}),c.jsx("button",{onClick:()=>s(f.id===a?null:f.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:a===f.id?"Hide Details":"Show Details"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",m.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",m.bonus.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total"}),c.jsxs("p",{className:"font-medium text-blue-600",children:["$",m.total.toFixed(2)]})]})]}),a===f.id&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hours Worked"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Amount"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50000",min:"0"})]})]}),c.jsx("button",{onClick:()=>d(f.id,{staffId:p.id,payroll:m}),className:"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save Payroll"})]})]},p.id)})})]})]},f.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Op,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Payroll Summary"}),c.jsx("p",{className:"text-green-700",children:"Calculate and manage payroll for all stores and staff members. Each store shows its assigned staff with individual pay calculations."})]})]})})]})};var KR={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(Vt,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function d(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var k=w(A);k.chunkSize=parseInt(k.chunkSize),A.step||A.chunk||(k.chunkSize=null),this._handle=new g(k),(this._handle.streamer=this)._config=k}).call(this,E),this.parseChunk=function(A,k){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let O=this._config.newline;O||(P=this._config.quoteChar||'"',O=this._handle.guessLineEndings(A,P)),A=[...A.split(O).slice(D)].join(O)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(A))!==void 0&&(A=P),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+A,P=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=P.meta.cursor,D=(this._finished||(this._partialLine=D.substring(A-this._baseIndex),this._baseIndex=A),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:P,workerId:u.WORKER_ID,finished:D});else if(j(this._config.chunk)&&!k){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!D||!j(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(A){j(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:A,finished:!1})}}function f(E){var A;(E=E||{}).chunkSize||(E.chunkSize=u.RemoteChunkSize),d.call(this,E),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=S(this._chunkLoaded,this),A.onerror=S(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var k,D=this._config.downloadRequestHeaders;for(k in D)A.setRequestHeader(k,D[k])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+P));try{A.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(k){k=A.statusText||k,this._sendError(new Error(k))}}function h(E){(E=E||{}).chunkSize||(E.chunkSize=u.LocalChunkSize),d.call(this,E);var A,k,D=typeof FileReader<"u";this.stream=function(P){this._input=P,k=P.slice||P.webkitSlice||P.mozSlice,D?((A=new FileReader).onload=S(this._chunkLoaded,this),A.onerror=S(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),P=k.call(P,this._start,O)),A.readAsText(P,this._config.encoding));D||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(A.error)}}function p(E){var A;d.call(this,E=E||{}),this.stream=function(k){return A=k,this._nextChunk()},this._nextChunk=function(){var k,D;if(!this._finished)return k=this._config.chunkSize,A=k?(D=A.substring(0,k),A.substring(k)):(D=A,""),this._finished=!A,this.parseChunk(D)}}function m(E){d.call(this,E=E||{});var A=[],k=!0,D=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):k=!0},this._streamData=S(function(P){try{A.push(typeof P=="string"?P:P.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(O){this._streamError(O)}},this),this._streamError=S(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=S(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(E){var A,k,D,P,O=Math.pow(2,53),z=-O,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,I=0,B=0,U=!1,H=!1,V=[],q={data:[],errors:[],meta:{}};function re(fe){return E.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function ae(){if(q&&D&&(_e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),D=!1),E.skipEmptyLines&&(q.data=q.data.filter(function(T){return!re(T)})),de()){let T=function(N,R){j(E.transformHeader)&&(N=E.transformHeader(N,R)),V.push(N)};var ne=T;if(q)if(Array.isArray(q.data[0])){for(var fe=0;de()&&fe<q.data.length;fe++)q.data[fe].forEach(T);q.data.splice(0,1)}else q.data.forEach(T)}function Q(T,N){for(var R=E.header?{}:[],L=0;L<T.length;L++){var X=L,ee=T[L],ee=((ce,ue)=>(pe=>(E.dynamicTypingFunction&&E.dynamicTyping[pe]===void 0&&(E.dynamicTyping[pe]=E.dynamicTypingFunction(pe)),(E.dynamicTyping[pe]||E.dynamicTyping)===!0))(ce)?ue==="true"||ue==="TRUE"||ue!=="false"&&ue!=="FALSE"&&((pe=>{if(W.test(pe)&&(pe=parseFloat(pe),z<pe&&pe<O))return 1})(ue)?parseFloat(ue):G.test(ue)?new Date(ue):ue===""?null:ue):ue)(X=E.header?L>=V.length?"__parsed_extra":V[L]:X,ee=E.transform?E.transform(ee,X):ee);X==="__parsed_extra"?(R[X]=R[X]||[],R[X].push(ee)):R[X]=ee}return E.header&&(L>V.length?_e("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+L,B+N):L<V.length&&_e("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+L,B+N)),R}var se;q&&(E.header||E.dynamicTyping||E.transform)&&(se=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(Q),se=q.data.length):q.data=Q(q.data,0),E.header&&q.meta&&(q.meta.fields=V),B+=se)}function de(){return E.header&&V.length===0}function _e(fe,Q,se,ne){fe={type:fe,code:Q,message:se},ne!==void 0&&(fe.row=ne),q.errors.push(fe)}j(E.step)&&(P=E.step,E.step=function(fe){q=fe,de()?ae():(ae(),q.data.length!==0&&(I+=fe.data.length,E.preview&&I>E.preview?k.abort():(q.data=q.data[0],P(q,M))))}),this.parse=function(fe,Q,se){var ne=E.quoteChar||'"',ne=(E.newline||(E.newline=this.guessLineEndings(fe,ne)),D=!1,E.delimiter?j(E.delimiter)&&(E.delimiter=E.delimiter(fe),q.meta.delimiter=E.delimiter):((ne=((T,N,R,L,X)=>{var ee,ce,ue,pe;X=X||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var ke=0;ke<X.length;ke++){for(var Y,he=X[ke],me=0,we=0,ye=0,je=(ue=void 0,new x({comments:L,delimiter:he,newline:N,preview:10}).parse(T)),qe=0;qe<je.data.length;qe++)R&&re(je.data[qe])?ye++:(Y=je.data[qe].length,we+=Y,ue===void 0?ue=Y:0<Y&&(me+=Math.abs(Y-ue),ue=Y));0<je.data.length&&(we/=je.data.length-ye),(ce===void 0||me<=ce)&&(pe===void 0||pe<we)&&1.99<we&&(ce=me,ee=he,pe=we)}return{successful:!!(E.delimiter=ee),bestDelimiter:ee}})(fe,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess)).successful?E.delimiter=ne.bestDelimiter:(D=!0,E.delimiter=u.DefaultDelimiter),q.meta.delimiter=E.delimiter),w(E));return E.preview&&E.header&&ne.preview++,A=fe,k=new x(ne),q=k.parse(A,Q,se),ae(),U?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return U},this.pause=function(){U=!0,k.abort(),A=j(E.chunk)?"":A.substring(k.getCharIndex())},this.resume=function(){M.streamer._halted?(U=!1,M.streamer.parseChunk(A,!0)):setTimeout(M.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,k.abort(),q.meta.aborted=!0,j(E.complete)&&E.complete(q),A=""},this.guessLineEndings=function(T,ne){T=T.substring(0,1048576);var ne=new RegExp(v(ne)+"([^]*?)"+v(ne),"gm"),se=(T=T.replace(ne,"")).split("\r"),ne=T.split(`
`),T=1<ne.length&&ne[0].length<se[0].length;if(se.length===1||T)return`
`;for(var N=0,R=0;R<se.length;R++)se[R][0]===`
`&&N++;return N>=se.length/2?`\r
`:"\r"}}function v(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(E){var A=(E=E||{}).delimiter,k=E.newline,D=E.comments,P=E.step,O=E.preview,z=E.fastMode,W=null,G=!1,M=E.quoteChar==null?'"':E.quoteChar,I=M;if(E.escapeChar!==void 0&&(I=E.escapeChar),(typeof A!="string"||-1<u.BAD_DELIMITERS.indexOf(A))&&(A=","),D===A)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<u.BAD_DELIMITERS.indexOf(D))&&(D=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var B=0,U=!1;this.parse=function(H,V,q){if(typeof H!="string")throw new Error("Input must be a string");var re=H.length,ae=A.length,de=k.length,_e=D.length,fe=j(P),Q=[],se=[],ne=[],T=B=0;if(!H)return me();if(z||z!==!1&&H.indexOf(M)===-1){for(var N=H.split(k),R=0;R<N.length;R++){if(ne=N[R],B+=ne.length,R!==N.length-1)B+=k.length;else if(q)return me();if(!D||ne.substring(0,_e)!==D){if(fe){if(Q=[],pe(ne.split(A)),we(),U)return me()}else pe(ne.split(A));if(O&&O<=R)return Q=Q.slice(0,O),me(!0)}}return me()}for(var L=H.indexOf(A,B),X=H.indexOf(k,B),ee=new RegExp(v(I)+v(M),"g"),ce=H.indexOf(M,B);;)if(H[B]===M)for(ce=B,B++;;){if((ce=H.indexOf(M,ce+1))===-1)return q||se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:B}),Y();if(ce===re-1)return Y(H.substring(B,ce).replace(ee,M));if(M===I&&H[ce+1]===I)ce++;else if(M===I||ce===0||H[ce-1]!==I){L!==-1&&L<ce+1&&(L=H.indexOf(A,ce+1));var ue=ke((X=X!==-1&&X<ce+1?H.indexOf(k,ce+1):X)===-1?L:Math.min(L,X));if(H.substr(ce+1+ue,ae)===A){ne.push(H.substring(B,ce).replace(ee,M)),H[B=ce+1+ue+ae]!==M&&(ce=H.indexOf(M,B)),L=H.indexOf(A,B),X=H.indexOf(k,B);break}if(ue=ke(X),H.substring(ce+1+ue,ce+1+ue+de)===k){if(ne.push(H.substring(B,ce).replace(ee,M)),he(ce+1+ue+de),L=H.indexOf(A,B),ce=H.indexOf(M,B),fe&&(we(),U))return me();if(O&&Q.length>=O)return me(!0);break}se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:B}),ce++}}else if(D&&ne.length===0&&H.substring(B,B+_e)===D){if(X===-1)return me();B=X+de,X=H.indexOf(k,B),L=H.indexOf(A,B)}else if(L!==-1&&(L<X||X===-1))ne.push(H.substring(B,L)),B=L+ae,L=H.indexOf(A,B);else{if(X===-1)break;if(ne.push(H.substring(B,X)),he(X+de),fe&&(we(),U))return me();if(O&&Q.length>=O)return me(!0)}return Y();function pe(ye){Q.push(ye),T=B}function ke(ye){var je=0;return je=ye!==-1&&(ye=H.substring(ce+1,ye))&&ye.trim()===""?ye.length:je}function Y(ye){return q||(ye===void 0&&(ye=H.substring(B)),ne.push(ye),B=re,pe(ne),fe&&we()),me()}function he(ye){B=ye,pe(ne),ne=[],X=H.indexOf(k,B)}function me(ye){if(E.header&&!V&&Q.length&&!G){var je=Q[0],qe=Object.create(null),Ut=new Set(je);let Ye=!1;for(let Et=0;Et<je.length;Et++){let Fe=je[Et];if(qe[Fe=j(E.transformHeader)?E.transformHeader(Fe,Et):Fe]){let xt,Ee=qe[Fe];for(;xt=Fe+"_"+Ee,Ee++,Ut.has(xt););Ut.add(xt),je[Et]=xt,qe[Fe]++,Ye=!0,(W=W===null?{}:W)[xt]=Fe}else qe[Fe]=1,je[Et]=Fe;Ut.add(Fe)}Ye&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:Q,errors:se,meta:{delimiter:A,linebreak:k,aborted:U,truncated:!!ye,cursor:T+(V||0),renamedHeaders:W}}}function we(){P(me()),Q=[],se=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return B}}function y(E){var A=E.data,k=o[A.workerId],D=!1;if(A.error)k.userError(A.error,A.file);else if(A.results&&A.results.data){var P={abort:function(){D=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(j(k.userStep)){for(var O=0;O<A.results.data.length&&(k.userStep({data:A.results.data[O],errors:A.results.errors,meta:A.results.meta},P),!D);O++);delete A.results}else j(k.userChunk)&&(k.userChunk(A.results,P,A.file),delete A.results)}A.finished&&!D&&b(A.workerId,A.results)}function b(E,A){var k=o[E];j(k.userComplete)&&k.userComplete(A),k.terminate(),delete o[E]}function _(){throw new Error("Not implemented.")}function w(E){if(typeof E!="object"||E===null)return E;var A,k=Array.isArray(E)?[]:{};for(A in E)k[A]=w(E[A]);return k}function S(E,A){return function(){E.apply(A,arguments)}}function j(E){return typeof E=="function"}return u.parse=function(E,A){var k=(A=A||{}).dynamicTyping||!1;if(j(k)&&(A.dynamicTypingFunction=k,k={}),A.dynamicTyping=k,A.transform=!!j(A.transform)&&A.transform,!A.worker||!u.WORKERS_SUPPORTED)return k=null,u.NODE_STREAM_INPUT,typeof E=="string"?(E=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(E),k=new(A.download?f:p)(A)):E.readable===!0&&j(E.read)&&j(E.on)?k=new m(A):(n.File&&E instanceof File||E instanceof Object)&&(k=new h(A)),k.stream(E);(k=(()=>{var D;return!!u.WORKERS_SUPPORTED&&(D=(()=>{var P=n.URL||n.webkitURL||null,O=r.toString();return u.BLOB_URL||(u.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(D=new n.Worker(D)).onmessage=y,D.id=l++,o[D.id]=D)})()).userStep=A.step,k.userChunk=A.chunk,k.userComplete=A.complete,k.userError=A.error,A.step=j(A.step),A.chunk=j(A.chunk),A.complete=j(A.complete),A.error=j(A.error),delete A.worker,k.postMessage({input:E,config:A,workerId:k.id})},u.unparse=function(E,A){var k=!1,D=!0,P=",",O=`\r
`,z='"',W=z+z,G=!1,M=null,I=!1,B=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||u.BAD_DELIMITERS.filter(function(V){return A.delimiter.indexOf(V)!==-1}).length||(P=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(k=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(G=A.skipEmptyLines),typeof A.newline=="string"&&(O=A.newline),typeof A.quoteChar=="string"&&(z=A.quoteChar),typeof A.header=="boolean"&&(D=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");M=A.columns}A.escapeChar!==void 0&&(W=A.escapeChar+z),A.escapeFormulae instanceof RegExp?I=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(I=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(z),"g"));if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return U(null,E,G);if(typeof E[0]=="object")return U(M||Object.keys(E[0]),E,G)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||M),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),U(E.fields||[],E.data||[],G);throw new Error("Unable to serialize unrecognized input");function U(V,q,re){var ae="",de=(typeof V=="string"&&(V=JSON.parse(V)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(V)&&0<V.length),_e=!Array.isArray(q[0]);if(de&&D){for(var fe=0;fe<V.length;fe++)0<fe&&(ae+=P),ae+=H(V[fe],fe);0<q.length&&(ae+=O)}for(var Q=0;Q<q.length;Q++){var se=(de?V:q[Q]).length,ne=!1,T=de?Object.keys(q[Q]).length===0:q[Q].length===0;if(re&&!de&&(ne=re==="greedy"?q[Q].join("").trim()==="":q[Q].length===1&&q[Q][0].length===0),re==="greedy"&&de){for(var N=[],R=0;R<se;R++){var L=_e?V[R]:R;N.push(q[Q][L])}ne=N.join("").trim()===""}if(!ne){for(var X=0;X<se;X++){0<X&&!T&&(ae+=P);var ee=de&&_e?V[X]:X;ae+=H(q[Q][ee],X)}Q<q.length-1&&(!re||0<se&&!T)&&(ae+=O)}}return ae}function H(V,q){var re,ae;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(ae=!1,I&&typeof V=="string"&&I.test(V)&&(V="'"+V,ae=!0),re=V.toString().replace(B,W),(ae=ae||k===!0||typeof k=="function"&&k(V,q)||Array.isArray(k)&&k[q]||((de,_e)=>{for(var fe=0;fe<_e.length;fe++)if(-1<de.indexOf(_e[fe]))return!0;return!1})(re,u.BAD_DELIMITERS)||-1<re.indexOf(P)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?z+re+z:re)}},u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=p,u.ReadableStreamStreamer=m,n.jQuery&&((i=n.jQuery).fn.parse=function(E){var A=E.config||{},k=[];return this.each(function(O){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)k.push({file:this.files[z],inputElem:this,instanceConfig:i.extend({},A)})}),D(),this;function D(){if(k.length===0)j(E.complete)&&E.complete();else{var O,z,W,G,M=k[0];if(j(E.before)){var I=E.before(M.file,M.inputElem);if(typeof I=="object"){if(I.action==="abort")return O="AbortError",z=M.file,W=M.inputElem,G=I.reason,void(j(E.error)&&E.error({name:O},z,W,G));if(I.action==="skip")return void P();typeof I.config=="object"&&(M.instanceConfig=i.extend(M.instanceConfig,I.config))}else if(I==="skip")return void P()}var B=M.instanceConfig.complete;M.instanceConfig.complete=function(U){j(B)&&B(U,M.file,M.inputElem),P()},u.parse(M.file,M.instanceConfig)}}function P(){k.splice(0,1),D()}}),s&&(n.onmessage=function(E){E=E.data,u.WORKER_ID===void 0&&E&&(u.WORKER_ID=E.workerId),typeof E.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(E.input,E.config),finished:!0}):(n.File&&E.input instanceof File||E.input instanceof Object)&&(E=u.parse(E.input,E.config))&&n.postMessage({workerId:u.WORKER_ID,results:E,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,u})})(KR);var Pye=KR.exports;const Hd=Qe(Pye),Mye=()=>{const[t,e]=C.useState(null),[r,n]=C.useState([]),[i,a]=C.useState(!1),[s,o]=C.useState(0),[l,u]=C.useState(null),d=C.useRef(null),[f,h]=C.useState(null),[p,m]=C.useState([]),[g,v]=C.useState(!1),[x,y]=C.useState(null),b=C.useRef(null),_=M=>{const I=M.target.files[0];I&&I.type==="text/csv"?(e(I),w(I)):alert("Please select a valid CSV file")},w=M=>{Hd.parse(M,{header:!0,skipEmptyLines:!0,complete:I=>{const B=I.data.slice(0,10);n(B)},error:I=>{alert("Error parsing CSV file")}})},S=M=>{if(!M)return 1;const I=M.match(/-(\d+)$/);if(I)return parseInt(I[1]);const B=M.match(/-(\d+)$/);return B?parseInt(B[1]):1},j=M=>{console.log("Processing row:",M);const I=S(M["Invoice No."]||M["Ref No."]||M.ID||"");let B=null;M.Date||M["Invoice Date"]||M["Sale Date"]?B=new Date(M.Date||M["Invoice Date"]||M["Sale Date"]):M["8/01/25"]&&(B=new Date(M["8/01/25"]));let U=1,H=0;(M.Qty||M.Quantity||M["Sold Qty"])&&(U=parseInt(M.Qty||M.Quantity||M["Sold Qty"])||1),(M.Price||M.Cost||M.Retail||M.Actual)&&(H=parseFloat(M.Price||M.Cost||M.Retail||M.Actual)||0);const V=H*U,q=H*U;if(!B||isNaN(B.getTime()))return console.log("Skipping row - Invalid date:",M),null;if(!I||I<=0)return console.log("Skipping row - Invalid store ID:",I,"from row:",M),null;if(V<=0||q<=0)return console.log("Skipping row - Invalid sales amounts:",{netSales:V,grossSales:q},"from row:",M),null;if(U<=0)return console.log("Skipping row - Invalid quantity:",U,"from row:",M),null;if(H<=0)return console.log("Skipping row - Invalid price:",H,"from row:",M),null;let re="Unknown",ae="Unknown";return(M.Vendor||M.Company||M.Location)&&(re=M.Vendor||M.Company||M.Location),(M.Product||M.Item||M.Description)&&(ae=M.Product||M.Item||M.Description),{date:B.toISOString().split("T")[0],status:"Confirmed",sales_tax:0,net_sales:V,gross_sales:q,common_venue_name:`${re} - ${ae}`,Store:I,invoice_no:M["Invoice No."]||M["Ref No."]||M.ID||"",po_no:M["PO No."]||"",vendor:re,style:M.Style||"",color:M.Color||"",size:M.Size||"",product:ae,description:M.Description||"",department:M.Department||"",sold_qty:U,cost:H,retail:H,actual:H}},E=async()=>{if(!t){alert("Please select a file");return}a(!0),o(0),u(null);try{Hd.parse(t,{header:!0,skipEmptyLines:!0,complete:async M=>{const B=M.data.map(j).filter(de=>de).filter(de=>{const _e=de.net_sales>0&&de.gross_sales>0;return _e||console.log("Filtering out row with $0 sales:",de),_e}),U=M.data.length,H=B.length,V=U-H;if(console.log(`Validation Results: ${H} valid rows, ${V} skipped rows out of ${U} total`),H===0){u({success:!1,error:`No valid rows found. All ${U} rows were skipped due to validation errors.`}),a(!1);return}const q=100;let re=0,ae=0;for(let de=0;de<B.length;de+=q){const _e=B.slice(de,de+q);try{const fe=await le.addRow("trailer_history",_e);fe.success?re+=_e.length:(ae+=_e.length,console.error("Upload failed for batch:",fe.error)),o(re/B.length*100)}catch(fe){ae+=_e.length,console.error("Upload error for batch:",fe)}}u({success:!0,uploaded:re,failed:ae,total:B.length,skipped:V}),a(!1)},error:M=>{u({success:!1,error:M.message}),a(!1)}})}catch(M){console.error("Upload failed:",M),u({success:!1,error:M.message}),a(!1)}},A=M=>{M.preventDefault();const I=M.dataTransfer.files[0];I&&I.type==="text/csv"&&(e(I),w(I))},k=M=>{M.preventDefault()},D=()=>{e(null),n([]),u(null),o(0),d.current&&(d.current.value="")},P=M=>{const I=M.target.files[0];I&&(I.type==="text/csv"||I.type==="text/tab-separated-values"||I.name.endsWith(".tsv"))?(h(I),O(I)):alert("Please select a valid CSV or TSV file")},O=M=>{Hd.parse(M,{header:!0,skipEmptyLines:!0,delimiter:M.name.endsWith(".tsv")?"	":",",complete:I=>{const B=I.data.map(W).filter(V=>V.date&&V.store),U={};for(const V of B){const q=`${V.date}_${V.store}`;U[q]||(U[q]={date:V.date,store:V.store,sales_tax:0,net_sales:0,gross_sales:0,record_count:0}),U[q].sales_tax+=parseFloat(V.sales_tax||0),U[q].net_sales+=parseFloat(V.net_sales||0),U[q].gross_sales+=parseFloat(V.gross_sales||0),U[q].record_count+=1}const H=Object.values(U).slice(0,10);m(H)},error:I=>{alert("Error parsing Trailer History file")}})},z=M=>{if(!M)return null;const I=M.match(/-(\d+)/);return I?parseInt(I[1]):null},W=M=>({date:M.Date?new Date(M.Date).toISOString():null,store:z(M["Ref No."]),sales_tax:parseFloat(M.Tax)||0,net_sales:parseFloat(M.Subtotal)||0,gross_sales:parseFloat(M.Total)||0}),G=async()=>{if(!f){alert("Please select a file");return}v(!0),y(null);try{Hd.parse(f,{header:!0,skipEmptyLines:!0,delimiter:f.name.endsWith(".tsv")?"	":",",complete:async M=>{const I=M.data.map(W).filter(U=>U.date&&U.store),B=await le.importTrailerHistory(I);y(B),v(!1)},error:M=>{y({success:!1,error:M.message}),v(!1)}})}catch(M){y({success:!1,error:M.message}),v(!1)}};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Data Upload"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Upload CSV files to import sales analysis data for all stores"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload CSV File"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:A,onDragOver:k,children:[c.jsx("input",{ref:d,type:"file",accept:".csv",onChange:_,className:"hidden"}),t?c.jsxs("div",{children:[c.jsx(py,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:D,className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(my,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV file here, or"," ",c.jsx("button",{onClick:()=>{var M;return(M=d.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports CSV files with sales data"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Upload sales data files here"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Trailer History File"}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:" How to Export from Uniform Solutions:"}),c.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:c.jsx("strong",{children:"GO TO Uniform Solutions"})}),c.jsx("li",{children:c.jsx("strong",{children:"File  Export  Sales Invoices"})}),c.jsx("li",{children:c.jsx("strong",{children:"Choose Date Range and All Stores"})}),c.jsx("li",{children:"Export the CSV file"}),c.jsx("li",{children:"Upload the exported file here"})]}),c.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[c.jsx("strong",{children:"Note:"})," The system will automatically detect store numbers from the invoice/reference numbers."]})]}),c.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[c.jsx("input",{ref:b,type:"file",accept:".csv,.tsv",onChange:P,className:"hidden"}),f?c.jsxs("div",{children:[c.jsx(py,{className:"mx-auto h-8 w-8 text-primary-500 mb-2"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(f.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:()=>{h(null),m([]),y(null),b.current&&(b.current.value="")},className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(my,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[c.jsx("button",{onClick:()=>{var M;return(M=b.current)==null?void 0:M.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"Select CSV or TSV file"})," ","for Trailer History data"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Supports CSV and TSV files with trailer sales data"})]})]})]}),p.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Trailer History Preview (Aggregated by Store & Date)"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",p.length," aggregated records"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Tax"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((M,I)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:new Date(M.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.store}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.sales_tax.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.net_sales.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",M.gross_sales.toFixed(2)]}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:M.record_count})]},I))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"})," Data is automatically aggregated by store and date. Multiple records for the same store on the same date will be summed together."]})})]}),f&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:G,disabled:g,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Importing..."]}):"Import Trailer History"})}),x&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${x.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[x.success?c.jsx(hy,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(dy,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${x.success?"text-green-900":"text-red-900"}`,children:x.success?"Import Complete":"Import Failed"}),c.jsx("p",{className:`text-sm ${x.success?"text-green-700":"text-red-700"}`,children:x.success?`Successfully processed ${x.processed||0} records${x.failed>0?`, ${x.failed} failed`:""}`:x.error})]})]})}),r.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Data Preview"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",r.length," rows"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:Object.keys(r[0]||{}).map(M=>c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:M},M))})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((M,I)=>c.jsx("tr",{children:Object.values(M).map((B,U)=>c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 max-w-xs truncate",title:String(B),children:String(B)},U))},I))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-yellow-800",children:[c.jsx("strong",{children:"Debug Info:"})," This shows the raw CSV data. Check the browser console for detailed processing information."]})})]}),t&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:E,disabled:i,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading... ",s.toFixed(1),"%"]}):"Upload Sales Data"})}),l&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[l.success?c.jsx(hy,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(dy,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Upload Complete":"Upload Failed"}),c.jsx("p",{className:`text-sm ${l.success?"text-green-700":"text-red-700"}`,children:l.success?`Successfully uploaded ${l.uploaded} records${l.failed>0?`, ${l.failed} failed`:""}`:l.error}),l.skipped>0&&c.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:[" ",l.skipped," rows were skipped due to validation errors (negative/zero sales, invalid dates, etc.)"]})]})]})})]})})},Hn=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],Rye=({storeId:t,storeName:e,onSave:r,onCancel:n})=>{const[i,a]=C.useState({}),[s,o]=C.useState(!1),[l,u]=C.useState(!0),[d,f]=C.useState(null),[h,p]=C.useState(!1),m=C.useCallback(async y=>{if(!(!y||Object.keys(y).length===0))try{const b=Hn.map((w,S)=>{var j,E,A;return{store_id:parseInt(t),day_of_week:parseInt(S),open_time:((j=y[w.key])==null?void 0:j.openTime)||"09:00",close_time:((E=y[w.key])==null?void 0:E.closeTime)||"17:00",is_open:!!((A=y[w.key])!=null&&A.isOpen)}}),_=await le.saveStoreHours(t,b);if(_.success){const w=await le.getStoreHours(t);if(w.success){const S={};Hn.forEach((j,E)=>{const A=w.data.find(k=>parseInt(k.day_of_week)===E);S[j.key]={isOpen:(A==null?void 0:A.is_open)??!0,openTime:(A==null?void 0:A.open_time)||"09:00",closeTime:(A==null?void 0:A.close_time)||"17:00"}}),a(S)}f(new Date),p(!1),console.log("Auto-saved store hours successfully")}else console.error("Auto-save failed:",_.error)}catch(b){console.error("Auto-save error:",b)}},[t]);C.useEffect(()=>{t&&(async()=>{u(!0);try{const b=await le.getStoreHours(t);if(b.success){const _={};Hn.forEach((w,S)=>{const j=b.data.find(E=>E.day_of_week===S);_[w.key]={isOpen:(j==null?void 0:j.is_open)??!0,openTime:(j==null?void 0:j.open_time)||"09:00",closeTime:(j==null?void 0:j.close_time)||"17:00"}}),a(_),f(new Date),p(!1)}else{console.error("Error loading store hours:",b.error);const _={};Hn.forEach(w=>{_[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(_)}}catch(b){console.error("Error loading store hours:",b);const _={};Hn.forEach(w=>{_[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(_)}finally{u(!1)}})()},[t]),C.useEffect(()=>{if(Object.keys(i).length>0&&h){const y=setTimeout(()=>{m(i)},2e3);return()=>clearTimeout(y)}},[i,h,m]);const g=(y,b,_)=>{a(w=>({...w,[y]:{...w[y],[b]:_}})),p(!0)},v=async()=>{o(!0);try{if(await m(i),r){const y=Hn.map((b,_)=>{var w,S,j;return{store_id:parseInt(t),day_of_week:parseInt(_),open_time:((w=i[b.key])==null?void 0:w.openTime)||"09:00",close_time:((S=i[b.key])==null?void 0:S.closeTime)||"17:00",is_open:!!((j=i[b.key])!=null&&j.isOpen)}});await r(y)}}catch(y){console.error("Error saving store hours:",y)}finally{o(!1)}},x=y=>{const b=i[y],_={};Hn.forEach(w=>{_[w.key]={...b}}),a(_)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Store Hours - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Set operating hours for each day of the week"}),d&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last saved: ",d.toLocaleTimeString(),h&&c.jsx("span",{className:"text-orange-600 ml-2",children:" Unsaved changes"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:n,className:"btn-outline btn-sm",children:[c.jsx(Hc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:v,disabled:s,className:"btn-primary btn-sm",children:[c.jsx(fb,{className:"w-4 h-4 mr-1"}),s?"Saving...":"Save Now"]})]})]}),l?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Loading store hours..."})]}):c.jsx("div",{className:"space-y-4",children:Hn.map(y=>{var b,_,w,S,j;return c.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-24 flex-shrink-0",children:c.jsx("span",{className:"font-medium text-gray-900",children:y.label})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:`${y.key}-open`,checked:((b=i[y.key])==null?void 0:b.isOpen)||!1,onChange:E=>g(y.key,"isOpen",E.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:`${y.key}-open`,className:"text-sm text-gray-700",children:"Open"})]}),((_=i[y.key])==null?void 0:_.isOpen)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ha,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"time",value:((w=i[y.key])==null?void 0:w.openTime)||"09:00",onChange:E=>g(y.key,"openTime",E.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),c.jsx("span",{className:"text-gray-500",children:"to"}),c.jsx("input",{type:"time",value:((S=i[y.key])==null?void 0:S.closeTime)||"17:00",onChange:E=>g(y.key,"closeTime",E.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsx("button",{onClick:()=>x(y.key),className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Copy to all days"})]}),!((j=i[y.key])!=null&&j.isOpen)&&c.jsx("span",{className:"text-gray-500 text-sm",children:"Closed"})]},y.key)})}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>{const y=["monday","tuesday","wednesday","thursday","friday"],b={...i};y.forEach(_=>{b[_]={isOpen:!0,openTime:"10:00",closeTime:"19:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekdays 10-7"}),c.jsx("button",{onClick:()=>{const y=["saturday","sunday"],b={...i};y.forEach(_=>{b[_]={isOpen:!0,openTime:"10:00",closeTime:"18:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekend 10-6"}),c.jsx("button",{onClick:()=>{const y={};Hn.forEach(b=>{y[b.key]={isOpen:!1,openTime:"09:00",closeTime:"17:00"}}),a(y)},className:"btn-outline btn-sm",children:"Set All Closed"})]})]})]})},Iye=({storeId:t,storeName:e,staffData:r,onSaveShift:n,onDeleteShift:i,selectedDate:a=new Date})=>{const[s,o]=C.useState(a),[l,u]=C.useState([]),[d,f]=C.useState(!1),[h,p]=C.useState(null),[m,g]=C.useState({staffId:"",startTime:"09:00",endTime:"17:00",notes:""}),v=r.filter(T=>T.store_id===t),[x,y]=C.useState({});C.useEffect(()=>{y({0:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},1:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},2:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},3:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},4:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},5:{isOpen:!0,openTime:"10:00",closeTime:"18:00"}})},[]);const _=(()=>{const T=new Set;Object.values(x).forEach(L=>{L.isOpen&&(T.add(L.openTime),T.add(L.closeTime))});const N=Array.from(T).sort(),R=[];return N.forEach((L,X)=>{if(X<N.length-1){const ee=L,ce=N[X+1];R.push(ee);const ue=parseInt(ee.split(":")[0]),pe=parseInt(ce.split(":")[0]);for(let ke=ue+1;ke<pe;ke++)R.push(`${ke.toString().padStart(2,"0")}:00`)}}),R})(),w=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value for formatting:",T),"--:--";try{const[N,R]=T.split(":").map(Number),L=N>=12?"PM":"AM";return`${N===0?12:N>12?N-12:N}:${R.toString().padStart(2,"0")} ${L}`}catch(N){return console.warn("Error formatting time:",T,N),"--:--"}},S=T=>x[T]||{isOpen:!1},j=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=(T=>{const N=new Date(T),R=N.getDay(),L=N.getDate()-R+(R===0?-6:1);N.setDate(L);const X=[];for(let ee=0;ee<6;ee++){const ce=new Date(N);ce.setDate(N.getDate()+ee),X.push(ce)}return X})(s);C.useEffect(()=>{A.length>0&&k()},[s,t,A]);const k=async()=>{try{const T=A[0].toISOString().split("T")[0],N=A[5].toISOString().split("T")[0],R=await le.getScheduleAssignments(t,T,N);if(R.success){const L=R.data.filter(X=>{const ee=X.startTime&&X.endTime&&X.staffId;return ee||console.warn("Filtering out invalid shift:",X),ee});console.log("Valid shifts:",L),u(L)}}catch(T){console.error("Failed to load shifts:",T)}},D=()=>{const T=new Date(s);T.setDate(T.getDate()-7),o(T)},P=()=>{const T=new Date(s);T.setDate(T.getDate()+7),o(T)},O=()=>{o(new Date)},z=T=>T.toLocaleDateString("en-US",{month:"short",day:"numeric"}),W=T=>{const N=new Date;return T.toDateString()===N.toDateString()},G=T=>{if(!T||typeof T!="string")return console.warn("Invalid time value:",T),0;try{const[N,R]=T.split(":").map(Number);return N*60+R}catch(N){return console.warn("Error parsing time:",T,N),0}},M=(T,N)=>{if(!N.startTime||!N.endTime)return!1;const R=G(T),L=G(N.startTime),X=G(N.endTime);return R>=L&&R<X},I=(T,N)=>{p({dayIndex:T,timeSlot:N}),g({staffId:"",startTime:N,endTime:B(N),notes:""}),f(!0)},B=T=>{const[N]=T.split(":");return`${(parseInt(N)+1).toString().padStart(2,"0")}:00`},U=async()=>{if(!m.staffId){alert("Please select a staff member");return}const T={storeId:t,staffId:m.staffId,date:A[h.dayIndex].toISOString().split("T")[0],startTime:m.startTime,endTime:m.endTime,notes:m.notes};try{const N=await le.saveScheduleAssignment(T);N.success?(u(R=>[...R,N.data]),n&&n(N.data)):alert("Failed to save shift: "+N.error)}catch(N){console.error("Error saving shift:",N),alert("An unexpected error occurred while saving the shift.")}f(!1),p(null),g({staffId:"",startTime:"09:00",endTime:"17:00",notes:""})},H=async T=>{if(window.confirm("Are you sure you want to delete this shift?"))try{const N=await le.deleteScheduleAssignment(T);N.success?(u(R=>R.filter(L=>L.id!==T)),i&&i(T)):alert("Failed to delete shift: "+N.error)}catch(N){console.error("Error deleting shift:",N),alert("An unexpected error occurred while deleting the shift.")}},V=T=>{const N=v.find(R=>R.id===T||R.id===parseInt(T));return N?N.name:`Unknown (ID: ${T})`},q=(T,N)=>{if(!T||!N)return console.warn("Missing start or end time:",{startTime:T,endTime:N}),0;const R=G(T),L=G(N);return Math.max(0,(L-R)/60)},re=()=>{const T={};let N=0,R=0;return l.forEach(L=>{if(!L.startTime||!L.endTime||!L.staffId){console.warn("Skipping invalid shift:",L);return}const X=q(L.startTime,L.endTime),ee=v.find(ce=>ce.id===L.staffId||ce.id===parseInt(L.staffId));if(ee){T[ee.id]||(T[ee.id]={name:ee.name,hours:0,cost:0}),T[ee.id].hours+=X;let ce=0;if(ee.payType==="hourly")ce=X*(ee.hourlyRate||0);else if(ee.payType==="salary"||ee.payType==="salary+bonus"){const pe=(ee.salaryAmount||0)/365,Y=X/8;ce=pe*Y}T[ee.id].cost+=ce,N+=X,R+=ce}}),{staffTotals:T,storeTotalHours:N,storeTotalCost:R}},{staffTotals:ae,storeTotalHours:de,storeTotalCost:_e}=re(),fe=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.filter(L=>L.date===R&&M(N,L))},Q=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.some(L=>L.date===R&&L.startTime===N)},se=(T,N)=>{const R=A[T].toISOString().split("T")[0];return l.find(L=>L.date===R&&L.startTime===N)},ne=T=>{const N=A[T].toISOString().split("T")[0];return l.filter(R=>R.date===N)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Weekly Schedule - ",e]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[z(A[0])," - ",z(A[5])]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:D,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(ub,{className:"w-5 h-5"})}),c.jsx("button",{onClick:O,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Today"}),c.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(db,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Week Totals"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-xs font-medium text-blue-800 mb-2",children:"Staff Hours:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.values(ae).map(T=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[c.jsx("div",{className:"font-medium text-blue-900",children:T.name}),c.jsxs("div",{className:"text-blue-700",children:[T.hours.toFixed(1)," hours"]}),c.jsxs("div",{className:"text-blue-600",children:["$",T.cost.toFixed(2)]})]},T.name))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Hours"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:[de.toFixed(1)," hours"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Cost"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:["$",_e.toFixed(2)]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("div",{className:"min-w-[800px]",children:[c.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[c.jsx("div",{className:"h-12"})," ",A.map((T,N)=>c.jsxs("div",{className:`h-12 flex flex-col items-center justify-center border rounded ${W(T)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[c.jsx("div",{className:"text-xs font-medium text-gray-600",children:j[N].slice(0,3)}),c.jsx("div",{className:`text-sm font-semibold ${W(T)?"text-blue-700":"text-gray-900"}`,children:T.getDate()})]},N))]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.jsx("div",{className:"space-y-1",children:_.map(T=>c.jsx("div",{className:"h-12 flex items-center justify-end pr-2 text-xs text-gray-500",children:w(T)},T))}),A.map((T,N)=>{const R=S(N);return c.jsx("div",{className:"space-y-1 relative",children:_.map(L=>{if(!(R.isOpen&&G(L)>=G(R.openTime)&&G(L)<G(R.closeTime)))return c.jsx("div",{className:"h-12 border border-gray-100 bg-gray-50"},L);const ee=fe(N,L);return Q(N,L),se(N,L),c.jsx("div",{className:`h-12 border border-gray-200 rounded cursor-pointer transition-colors relative ${ee.length>0?"bg-green-100 border-green-300 hover:bg-green-200":"hover:bg-gray-50"}`,onClick:()=>I(N,L),children:ee.length>0&&c.jsxs("div",{className:"p-1 h-full flex flex-col justify-center",children:[ee.slice(0,2).map((ce,ue)=>c.jsx("div",{className:"text-xs font-medium text-green-800 truncate",children:V(ce.staffId)},ce.id)),ee.length>2&&c.jsxs("div",{className:"text-xs text-green-600",children:["+",ee.length-2," more"]})]})},L)})},N)})]})]})}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"This Week's Shifts"}),c.jsx("div",{className:"space-y-2",children:A.map((T,N)=>{const R=ne(N);return R.length===0?null:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-700 mb-1",children:[j[N]," (",z(T),")"]}),c.jsx("div",{className:"space-y-1",children:R.map(L=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ns,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:V(L.staffId)}),c.jsx(ha,{className:"w-4 h-4 text-gray-400"}),c.jsxs("span",{className:"text-gray-600",children:[w(L.startTime)," - ",w(L.endTime)]})]}),c.jsx("button",{onClick:()=>H(L.id),className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]},L.id))})]},N)})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Shift"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),c.jsxs("select",{value:m.staffId,onChange:T=>g(N=>({...N,staffId:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"",children:"Select staff member"}),v.map(T=>c.jsxs("option",{value:T.id,children:[T.name," (",T.role,")"]},T.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:m.startTime,onChange:T=>g(N=>({...N,startTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:m.endTime,onChange:T=>g(N=>({...N,endTime:T.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),c.jsx("textarea",{value:m.notes,onChange:T=>g(N=>({...N,notes:T.target.value})),rows:"3",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Any special instructions or notes..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:U,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Add Shift"})]})]})})]})},$ye=({storeId:t,storeName:e,staffData:r,storeHours:n,commissionTiers:i,onSave:a,onCancel:s})=>{const[o,l]=C.useState([]),[u,d]=C.useState([]),[f,h]=C.useState([]),[p,m]=C.useState({minStaffing:2,maxConsecutiveHours:8,lunchBreakRequired:!0,lunchBreakDuration:30,minShiftDuration:3,maxHoursPerWeek:40,preferredHoursPerWeek:32}),[g,v]=C.useState([]),[x,y]=C.useState(!1),[b,_]=C.useState(new Date),w=r.filter(U=>U.store_id===t);C.useEffect(()=>{(async()=>{try{const H=await le.getStoreHours(t);H.success&&d(H.data||[]);const V=await le.getCommissionTiers(t);V.success&&h(V.data||[])}catch(H){console.error("Error fetching store data:",H)}})()},[t]);const j=(U=>{const H=new Date(U),V=H.getDay(),q=H.getDate()-V+(V===0?-6:1);H.setDate(q);const re=[];for(let ae=0;ae<6;ae++){const de=new Date(H);de.setDate(H.getDate()+ae),re.push(de)}return re})(b),E=U=>{if(!U)return"";const[H,V]=U.split(":"),q=parseInt(H),re=q>=12?"PM":"AM";return`${q%12||12}:${V} ${re}`},A=()=>w.map(U=>{const H=k(U.id),V=Math.max(0,p.maxHoursPerWeek-H);return{id:U.id,name:U.name,role:U.role,preferredHours:U.preferredHoursPerWeek||p.preferredHoursPerWeek,maxHours:U.maxHoursPerWeek||p.maxHoursPerWeek,currentHours:H,availableHours:V,hourlyRate:U.hourlyRate||0,commissionRate:D(U.id)}}),k=U=>(j[0].toISOString().split("T")[0],j[5].toISOString().split("T")[0],0),D=U=>0,P=U=>{const H=u.find(q=>q.day_of_week===U);return H?{isOpen:H.is_open,openTime:H.open_time,closeTime:H.close_time}:[{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"18:00"}][U]||{isOpen:!1,openTime:"10:00",closeTime:"19:00"}},O=()=>{y(!0);try{const U=A(),H=[],V=[];j.forEach((q,re)=>{const ae=P(re);if(!ae.isOpen)return;const de=z(q,U,ae,V,re);H.push(...de)}),l(H),v(V)}catch(U){console.error("Error generating schedule:",U)}finally{y(!1)}},z=(U,H,V,q,re)=>{const ae=[],de=[...H].sort((N,R)=>R.availableHours-N.availableHours),_e=new Date(`2000-01-01T${V.openTime}`),Q=(new Date(`2000-01-01T${V.closeTime}`)-_e)/(1e3*60*60),se=Math.max(p.minStaffing,Math.ceil(Q/8));let ne=0,T=new Date(_e);for(;ne<se&&de.length>0;){const N=de.shift();if(N.availableHours<p.minShiftDuration){q.push({type:"insufficient_hours",staff:N.name,date:U.toISOString().split("T")[0],message:`${N.name} has insufficient available hours (${N.availableHours}h)`});continue}const R=Math.min(N.availableHours,Math.max(p.minShiftDuration,8));let L=new Date(T);if(L.setHours(L.getHours()+R),R>5&&p.lunchBreakRequired){const X=new Date(T);X.setHours(X.getHours()+Math.floor(R/2));const ee=new Date(X);ee.setMinutes(ee.getMinutes()+p.lunchBreakDuration),ae.push({id:Date.now()+Math.random(),store_id:t,staff_id:N.id,staff_name:N.name,date:U.toISOString().split("T")[0],day_index:re,start_time:T.toTimeString().slice(0,5),end_time:X.toTimeString().slice(0,5),notes:"Auto-generated (before lunch)"}),ae.push({id:Date.now()+Math.random()+1,store_id:t,staff_id:N.id,staff_name:N.name,date:U.toISOString().split("T")[0],day_index:re,start_time:ee.toTimeString().slice(0,5),end_time:L.toTimeString().slice(0,5),notes:"Auto-generated (after lunch)"})}else ae.push({id:Date.now()+Math.random(),store_id:t,staff_id:N.id,staff_name:N.name,date:U.toISOString().split("T")[0],day_index:re,start_time:T.toTimeString().slice(0,5),end_time:L.toTimeString().slice(0,5),notes:"Auto-generated"});ne++,T=new Date(L),N.availableHours-=R}return ae},W=U=>{const H=w.find(de=>de.id===U.staff_id);if(!H)return 0;const V=new Date(`2000-01-01T${U.start_time}`),re=(new Date(`2000-01-01T${U.end_time}`)-V)/(1e3*60*60);let ae=0;if(H.payType==="hourly")ae=re*(H.hourlyRate||0);else if(H.payType==="salary"||H.payType==="salary+bonus"){const _e=(H.salaryAmount||0)/365,Q=re/8;if(ae=_e*Q,H.payType==="salary+bonus"){const se=re*D(H.id)/100;ae+=se}}return ae},G=()=>o.reduce((U,H)=>U+W(H),0),M=async()=>{if(o.length===0){alert("No schedules to save. Please generate a schedule first.");return}y(!0);try{const U=o.map(H=>({store_id:t,staff_id:H.staff_id,date:H.date,start_time:H.start_time,end_time:H.end_time,notes:H.notes||"",created_at:new Date().toISOString()}));await a(U),alert("Schedule saved successfully!")}catch(U){console.error("Error saving schedule:",U),alert("Error saving schedule. Please try again.")}finally{y(!1)}},B=(()=>{const U={};return j.forEach((H,V)=>{const q=H.toISOString().split("T")[0];U[q]={date:H,dayIndex:V,schedules:o.filter(re=>re.date===q)}}),U})();return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Auto Scheduler - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Generate optimal schedules based on store hours and staff availability"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:s,className:"btn-outline btn-sm",children:[c.jsx(Hc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:M,disabled:x||o.length===0,className:"btn-primary btn-sm",children:[c.jsx(fb,{className:"w-4 h-4 mr-1"}),x?"Saving...":"Save Schedule"]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Store Staff (",w.length," employees)"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:A().map(U=>c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-blue-900",children:U.name}),c.jsxs("div",{className:"text-blue-700",children:["Available: ",U.availableHours,"h / ",U.maxHours,"h"]}),c.jsxs("div",{className:"text-blue-600",children:["Rate: $",U.hourlyRate,"/hr"]})]},U.id))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Ff,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Scheduling Rules"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Staffing"}),c.jsx("input",{type:"number",min:"1",max:"10",value:p.minStaffing,onChange:U=>m(H=>({...H,minStaffing:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Hours"}),c.jsx("input",{type:"number",min:"1",max:"12",value:p.maxConsecutiveHours,onChange:U=>m(H=>({...H,maxConsecutiveHours:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Shift Duration"}),c.jsx("input",{type:"number",min:"1",max:"8",value:p.minShiftDuration,onChange:U=>m(H=>({...H,minShiftDuration:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Hours/Week"}),c.jsx("input",{type:"number",min:"20",max:"60",value:p.maxHoursPerWeek,onChange:U=>m(H=>({...H,maxHoursPerWeek:parseInt(U.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:O,disabled:x,className:"w-full btn-primary",children:[c.jsx(aO,{className:"w-4 h-4 mr-2"}),x?"Generating Schedule...":"Generate Auto Schedule"]})}),g.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(eB,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Scheduling Conflicts"})]}),c.jsx("div",{className:"space-y-2",children:g.map((U,H)=>c.jsxs("div",{className:"text-sm text-red-700",children:[c.jsxs("strong",{children:[U.date,":"]})," ",U.message]},H))})]}),o.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Generated Schedule (",o.length," shifts)"]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(qn,{className:"w-4 h-4 text-green-600"}),c.jsxs("span",{className:"font-medium text-green-600",children:["Total Pay: $",G().toFixed(2)]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border border-gray-300",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Mon"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Tue"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Wed"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Thu"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Fri"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Sat"})]})}),c.jsx("tbody",{children:Object.values(B).map((U,H)=>{const V=U.schedules,q=Math.max(1,V.length);return Array.from({length:q},(re,ae)=>c.jsx("tr",{children:j.map((de,_e)=>{const fe=B[de.toISOString().split("T")[0]],Q=(fe==null?void 0:fe.schedules)||[],se=Q[ae];return se?c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:se.staff_name}),c.jsxs("div",{className:"text-gray-600",children:[E(se.start_time)," - ",E(se.end_time)]})]})},_e):c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:ae===0&&Q.length===0&&c.jsx("div",{className:"text-sm text-gray-400 italic",children:"No shifts"})},_e)})},`${U.date}-${ae}`))})})]})})]})]})},Lye=()=>{const{staffData:t}=Nt(),[e,r]=C.useState("main"),[n,i]=C.useState(null),[a,s]=C.useState([]),[o,l]=C.useState(!0),[u,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{const v=await le.getStores();v.success?(console.log(" Loaded stores:",v.data),s(v.data)):console.error("Error fetching stores:",v.error)}catch(v){console.error("Error fetching stores:",v)}finally{l(!1)}})()},[]);const f=(g,v)=>{i(v),r(g)},h=()=>{r("main"),i(null)},p=async g=>{try{const v=await le.saveStoreHours(n.id,g);v.success?(alert("Store hours saved successfully!"),h()):alert(`Error saving store hours: ${v.error}`)}catch(v){alert(`Error saving store hours: ${v.message}`)}},m=async g=>{try{const v=g.map(b=>le.saveScheduleAssignment(b)),y=(await Promise.all(v)).filter(b=>!b.success);y.length===0?(alert("Auto-generated schedule saved successfully!"),h()):alert(`Error saving some schedules: ${y.length} failed out of ${g.length}`)}catch(v){alert(`Error saving auto schedule: ${v.message}`)}};return e==="store-hours"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(tf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(Rye,{storeId:n.id,storeName:n.name,onSave:p,onCancel:h})]}):e==="schedule"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(tf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(Iye,{storeId:n.id,storeName:n.name,staffData:t})]}):e==="auto-scheduler"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(tf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx($ye,{storeId:n.id,storeName:n.name,staffData:t,storeHours:[],onSave:m,onCancel:h})]}):e==="holiday-manager"?c.jsx(Fye,{onBack:h}):o?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(g=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},g))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Hover over a store to see available scheduling actions"})]}),c.jsx("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("holiday-manager"),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-8 h-8 text-green-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"text-gray-600",children:"Manage holidays for all stores"}),c.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Click to manage "})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>d(g.id),onMouseLeave:()=>d(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",g.number]})]})]}),u===g.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>f("store-hours",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ha,{className:"w-4 h-4 mr-2"}),"Manage Hours"]}),c.jsxs("button",{onClick:()=>f("schedule",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Weekly Calendar"]}),g.name!=="Camper"&&g.name!=="Trailer"&&c.jsxs("button",{onClick:()=>f("auto-scheduler",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600 col-span-2",children:[c.jsx(aO,{className:"w-4 h-4 mr-2"}),"Auto Schedule"]})]})})]},g.id))})]})},Fye=({onBack:t})=>{const[e,r]=C.useState([]),[n,i]=C.useState({}),[a,s]=C.useState(!0),[o,l]=C.useState({name:"",date:""}),[u,d]=C.useState(null);C.useEffect(()=>{(async()=>{try{const g=await le.getStores();if(g.success){r(g.data);const v={};for(const x of g.data){const y=await le.getStoreHolidays(x.id);y.success&&(v[x.id]=y.data||[])}i(v)}}catch(g){console.error("Error fetching data:",g)}finally{s(!1)}})()},[]);const f=async m=>{if(!o.name.trim()||!o.date){alert("Please fill in both holiday name and date");return}try{const g={store_id:m,holiday_name:o.name.trim(),holiday_date:o.date,is_closed:!0},v=await le.saveStoreHolidays(m,[g]);if(v.success){const x=await le.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),l({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${v.error}`)}catch(g){alert(`Error adding holiday: ${g.message}`)}},h=async(m,g)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const v=await le.deleteStoreHoliday(m,g);if(v.success){const x=await le.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${v.error}`)}catch(v){alert(`Error deleting holiday: ${v.message}`)}},p=async(m,g,v)=>{try{const x=await le.updateStoreHoliday(m,g,v);if(x.success){const y=await le.getStoreHolidays(m);y.success&&i(b=>({...b,[m]:y.data||[]})),d(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${x.error}`)}catch(x){alert(`Error updating holiday: ${x.message}`)}};return a?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:t,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(tf,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(m=>{const g=n[m.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Or,{className:"w-4 h-4 mr-1"}),g.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Or,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:o.name,onChange:v=>l(x=>({...x,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:o.date,onChange:v=>l(x=>({...x,date:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>f(m.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:g.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):g.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:u===v.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:v.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${v.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:v.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${v.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const x=document.getElementById(`edit-name-${v.id}`).value,y=document.getElementById(`edit-date-${v.id}`).value;p(m.id,v.id,{holiday_name:x,holiday_date:y})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>d(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:v.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>d(v.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(gs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(m.id,v.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ma,{className:"w-4 h-4"})})]})]})},v.id))})]})]},m.id)})})]})},Bye=()=>{const{staffData:t}=Nt(),[e,r]=C.useState([]),[n,i]=C.useState(!0),[a,s]=C.useState({}),[o,l]=C.useState(()=>{const m=new Date,g=new Date(m.getFullYear(),m.getMonth(),1),v=new Date(m.getFullYear(),m.getMonth()+1,0);return{startDate:g.toISOString().split("T")[0],endDate:v.toISOString().split("T")[0]}});C.useEffect(()=>{(async()=>{try{const g=await le.getStores();g.success&&(r(g.data),await u(g.data))}catch(g){console.error("Error fetching data:",g)}finally{i(!1)}})()},[o]);const u=async m=>{const g={};for(const v of m)try{const x=t.filter(w=>w.store_id===v.id),y=await le.getScheduleAssignmentsForDateRange(v.id,o.startDate,o.endDate),b=await le.getSalesForDateRange(v.name,o.startDate,o.endDate),_=[];for(const w of x){const S=await le.getStaffBonusTiers(w.id),j={...w,bonus_tiers:S.success?S.data:[]},E=d(y.data||[],w.id),A=b.data||[],k=f(j,E,A);_.push({staff:j,hours:E,sales:A,payroll:k})}g[v.id]={store:v,staffPayroll:_,totalHours:_.reduce((w,S)=>w+S.hours,0),totalSales:b.data?b.data.reduce((w,S)=>w+(parseFloat(S.gross_sales)||0),0):0,totalPayroll:_.reduce((w,S)=>w+S.payroll.total,0)}}catch(x){console.error(`Error calculating payroll for store ${v.name}:`,x),g[v.id]={store:v,staffPayroll:[],totalHours:0,totalSales:0,totalPayroll:0,error:x.message}}s(g)},d=(m,g)=>{let v=0;return m.forEach(x=>{if(x.staff_id===g&&x.slot){const y=new Date(`2000-01-01T${x.slot.start_time}`),_=(new Date(`2000-01-01T${x.slot.end_time}`)-y)/(1e3*60*60);v+=_}}),v},f=(m,g,v)=>{let x=0,y=0;if(m.pay_type==="salary"||m.pay_type==="salary+bonus"){const _=m.salary_amount||0,[w,S,j]=o.startDate.split("-").map(Number),[E,A,k]=o.endDate.split("-").map(Number),D=new Date(w,S-1,j),P=new Date(E,A-1,k),O=Math.ceil((P-D)/(1e3*60*60*24))+1;x=_/365*O,y=g>0?x/g:0}else y=m.hourly_rate||15,x=g*y;let b=0;if(m.bonus_tiers&&m.bonus_tiers.length>0){const _=v.reduce((j,E)=>j+(parseFloat(E.gross_sales)||0),0),S=m.bonus_tiers.sort((j,E)=>E.sales_target-j.sales_target).find(j=>_>=j.sales_target);S&&(b=S.bonus_amount)}return{basePay:x,bonus:b,total:x+b,hourlyRate:y,totalSales:v.reduce((_,w)=>_+(parseFloat(w.gross_sales)||0),0),payType:m.pay_type||"hourly"}},h=(m,g)=>{l(v=>{let x;if(m==="startDate"){const y=new Date(g),b=new Date(y.getFullYear(),y.getMonth()+1,0);x={startDate:g,endDate:b.toISOString().split("T")[0]}}else if(m==="endDate"){const y=new Date(g);x={startDate:new Date(y.getFullYear(),y.getMonth(),1).toISOString().split("T")[0],endDate:g}}else x={...v,[m]:g};return x})},p=m=>{l(g=>{const[v,x,y]=g.startDate.split("-").map(Number),b=new Date(v,x-1,y);let _,w;if(m==="forward")_=new Date(b.getFullYear(),b.getMonth()+1,1),w=new Date(_.getFullYear(),_.getMonth()+1,0);else if(m==="backward")_=new Date(b.getFullYear(),b.getMonth()-1,1),w=new Date(_.getFullYear(),_.getMonth()+1,0);else if(m==="current"){const S=new Date;_=new Date(S.getFullYear(),S.getMonth(),1),w=new Date(S.getFullYear(),S.getMonth()+1,0)}return{startDate:_.toISOString().split("T")[0],endDate:w.toISOString().split("T")[0]}})};return n?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and calculating bonuses..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Op,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"View bonus calculations based on actual hours and sales data"})]})]})}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-5 h-5 mr-2 text-blue-600"}),"Date Range"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>p("backward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Previous Month",children:c.jsx(ub,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[120px] text-center",children:(()=>{const[m,g,v]=o.startDate.split("-").map(Number);return new Date(m,g-1,v).toLocaleDateString("en-US",{month:"long",year:"numeric"})})()}),c.jsx("button",{onClick:()=>p("forward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Next Month",children:c.jsx(db,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>p("current"),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Go to Current Month",children:"Today"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",value:o.startDate,onChange:m=>h("startDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",value:o.endDate,onChange:m=>h("endDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(fy,{className:"w-5 h-5 mr-2 text-green-600"}),"Overall Summary"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Stores"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalHours)||0),0).toFixed(1)}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalSales)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalPayroll)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Payroll"})]})]})]}),c.jsx("div",{className:"space-y-6",children:e.map(m=>{const g=a[m.id];if(!g)return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsx("div",{className:"text-gray-500",children:"Loading..."})]})},m.id);const{staffPayroll:v,totalHours:x,totalSales:y,totalPayroll:b,error:_}=g;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Payroll"}),c.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",b.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Hours:"}),c.jsx("span",{className:"ml-2 font-medium",children:x.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Sales:"}),c.jsxs("span",{className:"ml-2 font-medium",children:["$",y.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Staff Count:"}),c.jsx("span",{className:"ml-2 font-medium",children:v.length})]})]})]}),c.jsx("div",{className:"p-6",children:_?c.jsxs("div",{className:"text-red-600 text-center py-4",children:["Error loading data: ",_]}):v.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:v.map(({staff:w,hours:S,sales:j,payroll:E})=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:w.name}),c.jsx("p",{className:"text-sm text-gray-600",children:w.role||"Staff Member"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",E.total.toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Total Pay"})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Hours"}),c.jsx("p",{className:"font-medium",children:S.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Rate"}),c.jsx("p",{className:"font-medium",children:E.payType==="salary"||E.payType==="salary+bonus"?`$${E.hourlyRate.toFixed(2)}/hr (effective)`:`$${E.hourlyRate}/hr`})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",E.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",E.bonus.toFixed(2)]})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sales Generated:"}),c.jsxs("span",{className:"font-medium",children:["$",E.totalSales.toFixed(2)]})]})})]},w.id))})})]},m.id)})})]})},Uye=()=>{const[t,e]=C.useState([]),[r,n]=C.useState({}),[i,a]=C.useState(!0);C.useState(null);const[s,o]=C.useState({name:"",date:""}),[l,u]=C.useState(null);C.useEffect(()=>{(async()=>{try{const m=await le.getStores();if(m.success){e(m.data);const g={};for(const v of m.data){const x=await le.getStoreHolidays(v.id);x.success&&(g[v.id]=x.data||[])}n(g)}}catch(m){console.error("Error fetching data:",m)}finally{a(!1)}})()},[]);const d=async p=>{if(!s.name.trim()||!s.date){alert("Please fill in both holiday name and date");return}try{const m={store_id:p,holiday_name:s.name.trim(),holiday_date:s.date,is_closed:!0},g=await le.saveStoreHolidays(p,[m]);if(g.success){const v=await le.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),o({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${g.error}`)}catch(m){alert(`Error adding holiday: ${m.message}`)}},f=async(p,m)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const g=await le.deleteStoreHoliday(p,m);if(g.success){const v=await le.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${g.error}`)}catch(g){alert(`Error deleting holiday: ${g.message}`)}},h=async(p,m,g)=>{try{const v=await le.updateStoreHoliday(p,m,g);if(v.success){const x=await le.getStoreHolidays(p);x.success&&n(y=>({...y,[p]:x.data||[]})),u(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${v.error}`)}catch(v){alert(`Error updating holiday: ${v.message}`)}};return i?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(p=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},p))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:t.map(p=>{const m=r[p.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(xn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Or,{className:"w-4 h-4 mr-1"}),m.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Or,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:s.name,onChange:g=>o(v=>({...v,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:s.date,onChange:g=>o(v=>({...v,date:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>d(p.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(pa,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:m.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):m.map(g=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l===g.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:g.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${g.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:g.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${g.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const v=document.getElementById(`edit-name-${g.id}`).value,x=document.getElementById(`edit-date-${g.id}`).value;h(p.id,g.id,{holiday_name:v,holiday_date:x})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>u(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:g.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(gs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>f(p.id,g.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(ma,{className:"w-4 h-4"})})]})]})},g.id))})]})]},p.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Or,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Holiday Management"}),c.jsx("p",{className:"text-green-700",children:"Manage holidays for all stores in one centralized location. Each store can have its own set of holidays that apply to all staff members."})]})]})})]})};function Hye(){return c.jsx(GF,{children:c.jsx(w4,{children:c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs(XF,{children:[c.jsx(qB,{}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(p4,{children:[c.jsx(mr,{path:"/",element:c.jsx(f4,{to:"/daily-sales",replace:!0})}),c.jsx(mr,{path:"/dashboard",element:c.jsx(kde,{})}),c.jsx(mr,{path:"/daily-sales",element:c.jsx(Nye,{})}),c.jsx(mr,{path:"/venues",element:c.jsx(Dde,{})}),c.jsx(mr,{path:"/calendar",element:c.jsx(_ye,{})}),c.jsx(mr,{path:"/bonuses",element:c.jsx(Bye,{})}),c.jsx(mr,{path:"/staff",element:c.jsx(Rde,{})}),c.jsx(mr,{path:"/tasks",element:c.jsx($de,{})}),c.jsx(mr,{path:"/messages",element:c.jsx(Oye,{})}),c.jsx(mr,{path:"/scheduler",element:c.jsx(Lye,{})}),c.jsx(mr,{path:"/admin/sales-upload",element:c.jsx(Mye,{})}),c.jsx(mr,{path:"/pay-calculator",element:c.jsx(Dye,{})}),c.jsx(mr,{path:"/holiday-manager",element:c.jsx(Uye,{})})]})})]})})})})}ov.createRoot(document.getElementById("root")).render(c.jsx(F.StrictMode,{children:c.jsx(Hye,{})}));
//# sourceMappingURL=index-524e4c2b.js.map
