function RR(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function IR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ZT={exports:{}},Jh={},JT={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),$R=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),FR=Symbol.for("react.strict_mode"),BR=Symbol.for("react.profiler"),UR=Symbol.for("react.provider"),HR=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),WR=Symbol.for("react.suspense"),VR=Symbol.for("react.memo"),GR=Symbol.for("react.lazy"),Qw=Symbol.iterator;function qR(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var eN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tN=Object.assign,rN={};function Vo(t,e,r){this.props=t,this.context=e,this.refs=rN,this.updater=r||eN}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nN(){}nN.prototype=Vo.prototype;function Z0(t,e,r){this.props=t,this.context=e,this.refs=rN,this.updater=r||eN}var J0=Z0.prototype=new nN;J0.constructor=Z0;tN(J0,Vo.prototype);J0.isPureReactComponent=!0;var Xw=Array.isArray,iN=Object.prototype.hasOwnProperty,ex={current:null},aN={key:!0,ref:!0,__self:!0,__source:!0};function sN(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)iN.call(e,n)&&!aN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:bu,type:t,key:a,ref:s,props:i,_owner:ex.current}}function YR(t,e){return{$$typeof:bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tx(t){return typeof t=="object"&&t!==null&&t.$$typeof===bu}function KR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zw=/\/+/g;function xm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KR(""+t.key):e.toString(36)}function Id(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case bu:case $R:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+xm(s,0):n,Xw(i)?(r="",t!=null&&(r=t.replace(Zw,"$&/")+"/"),Id(i,e,r,"",function(u){return u})):i!=null&&(tx(i)&&(i=YR(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Xw(t))for(var o=0;o<t.length;o++){a=t[o];var l=n+xm(a,o);s+=Id(a,e,r,l,i)}else if(l=qR(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=n+xm(a,o++),s+=Id(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hu(t,e,r){if(t==null)return t;var n=[],i=0;return Id(t,n,"","",function(a){return e.call(r,a,i++)}),n}function QR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dr={current:null},$d={transition:null},XR={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:$d,ReactCurrentOwner:ex};function oN(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Hu,forEach:function(t,e,r){Hu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!tx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Vo;De.Fragment=LR;De.Profiler=BR;De.PureComponent=Z0;De.StrictMode=FR;De.Suspense=WR;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR;De.act=oN;De.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=tN({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=ex.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)iN.call(e,l)&&!aN.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:bu,type:t.type,key:i,ref:a,props:n,_owner:s}};De.createContext=function(t){return t={$$typeof:HR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UR,_context:t},t.Consumer=t};De.createElement=sN;De.createFactory=function(t){var e=sN.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:zR,render:t}};De.isValidElement=tx;De.lazy=function(t){return{$$typeof:GR,_payload:{_status:-1,_result:t},_init:QR}};De.memo=function(t,e){return{$$typeof:VR,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=$d.transition;$d.transition={};try{t()}finally{$d.transition=e}};De.unstable_act=oN;De.useCallback=function(t,e){return dr.current.useCallback(t,e)};De.useContext=function(t){return dr.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return dr.current.useDeferredValue(t)};De.useEffect=function(t,e){return dr.current.useEffect(t,e)};De.useId=function(){return dr.current.useId()};De.useImperativeHandle=function(t,e,r){return dr.current.useImperativeHandle(t,e,r)};De.useInsertionEffect=function(t,e){return dr.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return dr.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return dr.current.useMemo(t,e)};De.useReducer=function(t,e,r){return dr.current.useReducer(t,e,r)};De.useRef=function(t){return dr.current.useRef(t)};De.useState=function(t){return dr.current.useState(t)};De.useSyncExternalStore=function(t,e,r){return dr.current.useSyncExternalStore(t,e,r)};De.useTransition=function(){return dr.current.useTransition()};De.version="18.3.1";JT.exports=De;var k=JT.exports;const U=Je(k),ZR=RR({__proto__:null,default:U},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=k,eI=Symbol.for("react.element"),tI=Symbol.for("react.fragment"),rI=Object.prototype.hasOwnProperty,nI=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iI={key:!0,ref:!0,__self:!0,__source:!0};function lN(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)rI.call(e,n)&&!iI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:eI,type:t,key:a,ref:s,props:i,_owner:nI.current}}Jh.Fragment=tI;Jh.jsx=lN;Jh.jsxs=lN;ZT.exports=Jh;var c=ZT.exports,Jg={},cN={exports:{}},Rr={},uN={exports:{}},dN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var $=P.length;P.push(L);e:for(;0<$;){var B=$-1>>>1,G=P[B];if(0<i(G,L))P[B]=L,P[$]=G,$=B;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],$=P.pop();if($!==L){P[0]=$;e:for(var B=0,G=P.length,Y=G>>>1;B<Y;){var oe=2*(B+1)-1,ue=P[oe],z=oe+1,K=P[z];if(0>i(ue,$))z<G&&0>i(K,ue)?(P[B]=K,P[z]=$,B=z):(P[B]=ue,P[oe]=$,B=oe);else if(z<G&&0>i(K,$))P[B]=K,P[z]=$,B=z;else break e}}return L}function i(P,L){var $=P.sortIndex-L.sortIndex;return $!==0?$:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=P)n(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=r(u)}}function S(P){if(g=!1,b(P),!m)if(r(l)!==null)m=!0,V(w);else{var L=r(u);L!==null&&D(S,L.startTime-P)}}function w(P,L){m=!1,g&&(g=!1,x(j),j=-1),p=!0;var $=h;try{for(b(L),f=r(l);f!==null&&(!(f.expirationTime>L)||P&&!O());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var G=B(f.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(l)&&n(l),b(L)}else n(l);f=r(l)}if(f!==null)var Y=!0;else{var oe=r(u);oe!==null&&D(S,oe.startTime-L),Y=!1}return Y}finally{f=null,h=$,p=!1}}var _=!1,E=null,j=-1,A=5,T=-1;function O(){return!(t.unstable_now()-T<A)}function C(){if(E!==null){var P=t.unstable_now();T=P;var L=!0;try{L=E(!0,P)}finally{L?R():(_=!1,E=null)}}else _=!1}var R;if(typeof y=="function")R=function(){y(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,H=F.port2;F.port1.onmessage=C,R=function(){H.postMessage(null)}}else R=function(){v(C,0)};function V(P){E=P,_||(_=!0,R())}function D(P,L){j=v(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,V(w))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var $=h;h=L;try{return P()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=h;h=P;try{return L()}finally{h=$}},t.unstable_scheduleCallback=function(P,L,$){var B=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,P={id:d++,callback:L,priorityLevel:P,startTime:$,expirationTime:G,sortIndex:-1},$>B?(P.sortIndex=$,e(u,P),r(l)===null&&P===r(u)&&(g?(x(j),j=-1):g=!0,D(S,$-B))):(P.sortIndex=G,e(l,P),m||p||(m=!0,V(w))),P},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(P){var L=h;return function(){var $=h;h=L;try{return P.apply(this,arguments)}finally{h=$}}}})(dN);uN.exports=dN;var aI=uN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI=k,Pr=aI;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fN=new Set,pc={};function cs(t,e){lo(t,e),lo(t+"Capture",e)}function lo(t,e){for(pc[t]=e,t=0;t<e.length;t++)fN.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ev=Object.prototype.hasOwnProperty,oI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jw={},eS={};function lI(t){return ev.call(eS,t)?!0:ev.call(Jw,t)?!1:oI.test(t)?eS[t]=!0:(Jw[t]=!0,!1)}function cI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uI(t,e,r,n){if(e===null||typeof e>"u"||cI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function nx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rx,nx);Gt[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rx,nx);Gt[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rx,nx);Gt[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ix(t,e,r,n){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uI(e,r,i,n)&&(r=null),n||i===null?lI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fi=sI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),ax=Symbol.for("react.strict_mode"),tv=Symbol.for("react.profiler"),hN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),rv=Symbol.for("react.suspense"),nv=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),mN=Symbol.for("react.offscreen"),tS=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=tS&&t[tS]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,bm;function Bl(t){if(bm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);bm=e&&e[1]||""}return`
`+bm+t}var wm=!1;function Sm(t,e){if(!t||wm)return"";wm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{wm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Bl(t):""}function dI(t){switch(t.tag){case 5:return Bl(t.type);case 16:return Bl("Lazy");case 13:return Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 2:case 15:return t=Sm(t.type,!1),t;case 11:return t=Sm(t.type.render,!1),t;case 1:return t=Sm(t.type,!0),t;default:return""}}function iv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case Ms:return"Portal";case tv:return"Profiler";case ax:return"StrictMode";case rv:return"Suspense";case nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pN:return(t.displayName||"Context")+".Consumer";case hN:return(t._context.displayName||"Context")+".Provider";case sx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ox:return e=t.displayName||null,e!==null?e:iv(t.type)||"Memo";case _i:e=t._payload,t=t._init;try{return iv(t(e))}catch{}}return null}function fI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iv(e);case 8:return e===ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hI(t){var e=gN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wu(t){t._valueTracker||(t._valueTracker=hI(t))}function vN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function av(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function rS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yN(t,e){e=e.checked,e!=null&&ix(t,"checked",e,!1)}function sv(t,e){yN(t,e);var r=Zi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ov(t,e.type,r):e.hasOwnProperty("defaultValue")&&ov(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ov(t,e,r){(e!=="number"||nf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ul=Array.isArray;function Qs(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(se(92));if(Ul(r)){if(1<r.length)throw Error(se(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zi(r)}}function xN(t,e){var r=Zi(e.value),n=Zi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function aS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vu,wN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vu=Vu||document.createElement("div"),Vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pI=["Webkit","ms","Moz","O"];Object.keys(Gl).forEach(function(t){pI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gl[e]=Gl[t]})});function SN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gl.hasOwnProperty(t)&&Gl[t]?(""+e).trim():e+"px"}function _N(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=SN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var mI=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uv(t,e){if(e){if(mI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function dv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fv=null;function lx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hv=null,Xs=null,Zs=null;function sS(t){if(t=_u(t)){if(typeof hv!="function")throw Error(se(280));var e=t.stateNode;e&&(e=ip(e),hv(t.stateNode,t.type,e))}}function EN(t){Xs?Zs?Zs.push(t):Zs=[t]:Xs=t}function jN(){if(Xs){var t=Xs,e=Zs;if(Zs=Xs=null,sS(t),e)for(t=0;t<e.length;t++)sS(e[t])}}function AN(t,e){return t(e)}function TN(){}var _m=!1;function NN(t,e,r){if(_m)return t(e,r);_m=!0;try{return AN(t,e,r)}finally{_m=!1,(Xs!==null||Zs!==null)&&(TN(),jN())}}function gc(t,e){var r=t.stateNode;if(r===null)return null;var n=ip(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(se(231,e,typeof r));return r}var pv=!1;if(ii)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){pv=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{pv=!1}function gI(t,e,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var ql=!1,af=null,sf=!1,mv=null,vI={onError:function(t){ql=!0,af=t}};function yI(t,e,r,n,i,a,s,o,l){ql=!1,af=null,gI.apply(vI,arguments)}function xI(t,e,r,n,i,a,s,o,l){if(yI.apply(this,arguments),ql){if(ql){var u=af;ql=!1,af=null}else throw Error(se(198));sf||(sf=!0,mv=u)}}function us(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function CN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oS(t){if(us(t)!==t)throw Error(se(188))}function bI(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(se(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return oS(i),t;if(a===n)return oS(i),e;a=a.sibling}throw Error(se(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?t:e}function kN(t){return t=bI(t),t!==null?ON(t):null}function ON(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ON(t);if(e!==null)return e;t=t.sibling}return null}var DN=Pr.unstable_scheduleCallback,lS=Pr.unstable_cancelCallback,wI=Pr.unstable_shouldYield,SI=Pr.unstable_requestPaint,wt=Pr.unstable_now,_I=Pr.unstable_getCurrentPriorityLevel,cx=Pr.unstable_ImmediatePriority,PN=Pr.unstable_UserBlockingPriority,of=Pr.unstable_NormalPriority,EI=Pr.unstable_LowPriority,MN=Pr.unstable_IdlePriority,ep=null,kn=null;function jI(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(ep,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:NI,AI=Math.log,TI=Math.LN2;function NI(t){return t>>>=0,t===0?32:31-(AI(t)/TI|0)|0}var Gu=64,qu=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Hl(o):(a&=s,a!==0&&(n=Hl(a)))}else s=r&~i,s!==0?n=Hl(s):a!==0&&(n=Hl(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vn(e),i=1<<r,n|=t[r],e&=~i;return n}function CI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-vn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=CI(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function gv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RN(){var t=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),t}function Em(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=r}function OI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-vn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function ux(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ge=0;function IN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $N,dx,LN,FN,BN,vv=!1,Yu=[],Fi=null,Bi=null,Ui=null,vc=new Map,yc=new Map,Ni=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cS(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(e.pointerId)}}function vl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=_u(e),e!==null&&dx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PI(t,e,r,n,i){switch(e){case"focusin":return Fi=vl(Fi,t,e,r,n,i),!0;case"dragenter":return Bi=vl(Bi,t,e,r,n,i),!0;case"mouseover":return Ui=vl(Ui,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return vc.set(a,vl(vc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,yc.set(a,vl(yc.get(a)||null,t,e,r,n,i)),!0}return!1}function UN(t){var e=Pa(t.target);if(e!==null){var r=us(e);if(r!==null){if(e=r.tag,e===13){if(e=CN(r),e!==null){t.blockedOn=e,BN(t.priority,function(){LN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=yv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);fv=n,r.target.dispatchEvent(n),fv=null}else return e=_u(r),e!==null&&dx(e),t.blockedOn=r,!1;e.shift()}return!0}function uS(t,e,r){Ld(t)&&r.delete(e)}function MI(){vv=!1,Fi!==null&&Ld(Fi)&&(Fi=null),Bi!==null&&Ld(Bi)&&(Bi=null),Ui!==null&&Ld(Ui)&&(Ui=null),vc.forEach(uS),yc.forEach(uS)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,vv||(vv=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,MI)))}function xc(t){function e(i){return yl(i,t)}if(0<Yu.length){yl(Yu[0],t);for(var r=1;r<Yu.length;r++){var n=Yu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fi!==null&&yl(Fi,t),Bi!==null&&yl(Bi,t),Ui!==null&&yl(Ui,t),vc.forEach(e),yc.forEach(e),r=0;r<Ni.length;r++)n=Ni[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ni.length&&(r=Ni[0],r.blockedOn===null);)UN(r),r.blockedOn===null&&Ni.shift()}var Js=fi.ReactCurrentBatchConfig,cf=!0;function RI(t,e,r,n){var i=Ge,a=Js.transition;Js.transition=null;try{Ge=1,fx(t,e,r,n)}finally{Ge=i,Js.transition=a}}function II(t,e,r,n){var i=Ge,a=Js.transition;Js.transition=null;try{Ge=4,fx(t,e,r,n)}finally{Ge=i,Js.transition=a}}function fx(t,e,r,n){if(cf){var i=yv(t,e,r,n);if(i===null)Mm(t,e,n,uf,r),cS(t,n);else if(PI(i,t,e,r,n))n.stopPropagation();else if(cS(t,n),e&4&&-1<DI.indexOf(t)){for(;i!==null;){var a=_u(i);if(a!==null&&$N(a),a=yv(t,e,r,n),a===null&&Mm(t,e,n,uf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Mm(t,e,n,null,r)}}var uf=null;function yv(t,e,r,n){if(uf=null,t=lx(n),t=Pa(t),t!==null)if(e=us(t),e===null)t=null;else if(r=e.tag,r===13){if(t=CN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uf=t,null}function HN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_I()){case cx:return 1;case PN:return 4;case of:case EI:return 16;case MN:return 536870912;default:return 16}default:return 16}}var Di=null,hx=null,Fd=null;function zN(){if(Fd)return Fd;var t,e=hx,r=e.length,n,i="value"in Di?Di.value:Di.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Fd=i.slice(t,1<n?1-n:void 0)}function Bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function dS(){return!1}function Ir(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ku:dS,this.isPropagationStopped=dS,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Ir(Go),Su=vt({},Go,{view:0,detail:0}),$I=Ir(Su),jm,Am,xl,tp=vt({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(jm=t.screenX-xl.screenX,Am=t.screenY-xl.screenY):Am=jm=0,xl=t),jm)},movementY:function(t){return"movementY"in t?t.movementY:Am}}),fS=Ir(tp),LI=vt({},tp,{dataTransfer:0}),FI=Ir(LI),BI=vt({},Su,{relatedTarget:0}),Tm=Ir(BI),UI=vt({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),HI=Ir(UI),zI=vt({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WI=Ir(zI),VI=vt({},Go,{data:0}),hS=Ir(VI),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YI[t])?!!e[t]:!1}function mx(){return KI}var QI=vt({},Su,{key:function(t){if(t.key){var e=GI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(t){return t.type==="keypress"?Bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XI=Ir(QI),ZI=vt({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pS=Ir(ZI),JI=vt({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),e$=Ir(JI),t$=vt({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),r$=Ir(t$),n$=vt({},tp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i$=Ir(n$),a$=[9,13,27,32],gx=ii&&"CompositionEvent"in window,Yl=null;ii&&"documentMode"in document&&(Yl=document.documentMode);var s$=ii&&"TextEvent"in window&&!Yl,WN=ii&&(!gx||Yl&&8<Yl&&11>=Yl),mS=String.fromCharCode(32),gS=!1;function VN(t,e){switch(t){case"keyup":return a$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function o$(t,e){switch(t){case"compositionend":return GN(e);case"keypress":return e.which!==32?null:(gS=!0,mS);case"textInput":return t=e.data,t===mS&&gS?null:t;default:return null}}function l$(t,e){if(Is)return t==="compositionend"||!gx&&VN(t,e)?(t=zN(),Fd=hx=Di=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WN&&e.locale!=="ko"?null:e.data;default:return null}}var c$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c$[t.type]:e==="textarea"}function qN(t,e,r,n){EN(n),e=df(e,"onChange"),0<e.length&&(r=new px("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Kl=null,bc=null;function u$(t){iC(t,0)}function rp(t){var e=Fs(t);if(vN(e))return t}function d$(t,e){if(t==="change")return e}var YN=!1;if(ii){var Nm;if(ii){var Cm="oninput"in document;if(!Cm){var yS=document.createElement("div");yS.setAttribute("oninput","return;"),Cm=typeof yS.oninput=="function"}Nm=Cm}else Nm=!1;YN=Nm&&(!document.documentMode||9<document.documentMode)}function xS(){Kl&&(Kl.detachEvent("onpropertychange",KN),bc=Kl=null)}function KN(t){if(t.propertyName==="value"&&rp(bc)){var e=[];qN(e,bc,t,lx(t)),NN(u$,e)}}function f$(t,e,r){t==="focusin"?(xS(),Kl=e,bc=r,Kl.attachEvent("onpropertychange",KN)):t==="focusout"&&xS()}function h$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rp(bc)}function p$(t,e){if(t==="click")return rp(e)}function m$(t,e){if(t==="input"||t==="change")return rp(e)}function g$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:g$;function wc(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ev.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function bS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wS(t,e){var r=bS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bS(r)}}function QN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XN(){for(var t=window,e=nf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=nf(t.document)}return e}function vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v$(t){var e=XN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&QN(r.ownerDocument.documentElement,r)){if(n!==null&&vx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=wS(r,a);var s=wS(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y$=ii&&"documentMode"in document&&11>=document.documentMode,$s=null,xv=null,Ql=null,bv=!1;function SS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bv||$s==null||$s!==nf(n)||(n=$s,"selectionStart"in n&&vx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ql&&wc(Ql,n)||(Ql=n,n=df(xv,"onSelect"),0<n.length&&(e=new px("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=$s)))}function Qu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ls={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},km={},ZN={};ii&&(ZN=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function np(t){if(km[t])return km[t];if(!Ls[t])return t;var e=Ls[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ZN)return km[t]=e[r];return t}var JN=np("animationend"),eC=np("animationiteration"),tC=np("animationstart"),rC=np("transitionend"),nC=new Map,_S="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(t,e){nC.set(t,e),cs(e,[t])}for(var Om=0;Om<_S.length;Om++){var Dm=_S[Om],x$=Dm.toLowerCase(),b$=Dm[0].toUpperCase()+Dm.slice(1);na(x$,"on"+b$)}na(JN,"onAnimationEnd");na(eC,"onAnimationIteration");na(tC,"onAnimationStart");na("dblclick","onDoubleClick");na("focusin","onFocus");na("focusout","onBlur");na(rC,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w$=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function ES(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xI(n,e,void 0,t),t.currentTarget=null}function iC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;ES(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;ES(i,o,u),a=l}}}if(sf)throw t=mv,sf=!1,mv=null,t}function ot(t,e){var r=e[jv];r===void 0&&(r=e[jv]=new Set);var n=t+"__bubble";r.has(n)||(aC(e,t,2,!1),r.add(n))}function Pm(t,e,r){var n=0;e&&(n|=4),aC(r,t,n,e)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Sc(t){if(!t[Xu]){t[Xu]=!0,fN.forEach(function(r){r!=="selectionchange"&&(w$.has(r)||Pm(r,!1,t),Pm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xu]||(e[Xu]=!0,Pm("selectionchange",!1,e))}}function aC(t,e,r,n){switch(HN(e)){case 1:var i=RI;break;case 4:i=II;break;default:i=fx}r=i.bind(null,e,r,t),i=void 0,!pv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Mm(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Pa(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}NN(function(){var u=a,d=lx(r),f=[];e:{var h=nC.get(t);if(h!==void 0){var p=px,m=t;switch(t){case"keypress":if(Bd(r)===0)break e;case"keydown":case"keyup":p=XI;break;case"focusin":m="focus",p=Tm;break;case"focusout":m="blur",p=Tm;break;case"beforeblur":case"afterblur":p=Tm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=e$;break;case JN:case eC:case tC:p=HI;break;case rC:p=r$;break;case"scroll":p=$I;break;case"wheel":p=i$;break;case"copy":case"cut":case"paste":p=WI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pS}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=gc(y,x),S!=null&&g.push(_c(y,S,b)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==fv&&(m=r.relatedTarget||r.fromElement)&&(Pa(m)||m[ai]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Pa(m):null,m!==null&&(v=us(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=fS,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=pS,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:Fs(p),b=m==null?h:Fs(m),h=new g(S,y+"leave",p,r,d),h.target=v,h.relatedTarget=b,S=null,Pa(d)===u&&(g=new g(x,y+"enter",m,r,d),g.target=b,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,x=m,y=0,b=g;b;b=ws(b))y++;for(b=0,S=x;S;S=ws(S))b++;for(;0<y-b;)g=ws(g),y--;for(;0<b-y;)x=ws(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=ws(g),x=ws(x)}g=null}else g=null;p!==null&&jS(f,h,p,g,!1),m!==null&&v!==null&&jS(f,v,m,g,!0)}}e:{if(h=u?Fs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=d$;else if(vS(h))if(YN)w=m$;else{w=h$;var _=f$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=p$);if(w&&(w=w(t,u))){qN(f,w,r,d);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&ov(h,"number",h.value)}switch(_=u?Fs(u):window,t){case"focusin":(vS(_)||_.contentEditable==="true")&&($s=_,xv=u,Ql=null);break;case"focusout":Ql=xv=$s=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,SS(f,r,d);break;case"selectionchange":if(y$)break;case"keydown":case"keyup":SS(f,r,d)}var E;if(gx)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Is?VN(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(WN&&r.locale!=="ko"&&(Is||j!=="onCompositionStart"?j==="onCompositionEnd"&&Is&&(E=zN()):(Di=d,hx="value"in Di?Di.value:Di.textContent,Is=!0)),_=df(u,j),0<_.length&&(j=new hS(j,t,null,r,d),f.push({event:j,listeners:_}),E?j.data=E:(E=GN(r),E!==null&&(j.data=E)))),(E=s$?o$(t,r):l$(t,r))&&(u=df(u,"onBeforeInput"),0<u.length&&(d=new hS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}iC(f,e)})}function _c(t,e,r){return{instance:t,listener:e,currentTarget:r}}function df(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gc(t,r),a!=null&&n.unshift(_c(t,a,i)),a=gc(t,e),a!=null&&n.push(_c(t,a,i))),t=t.return}return n}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jS(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=gc(r,a),l!=null&&s.unshift(_c(r,l,o))):i||(l=gc(r,a),l!=null&&s.push(_c(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var S$=/\r\n?/g,_$=/\u0000|\uFFFD/g;function AS(t){return(typeof t=="string"?t:""+t).replace(S$,`
`).replace(_$,"")}function Zu(t,e,r){if(e=AS(e),AS(t)!==e&&r)throw Error(se(425))}function ff(){}var wv=null,Sv=null;function _v(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,E$=typeof clearTimeout=="function"?clearTimeout:void 0,TS=typeof Promise=="function"?Promise:void 0,j$=typeof queueMicrotask=="function"?queueMicrotask:typeof TS<"u"?function(t){return TS.resolve(null).then(t).catch(A$)}:Ev;function A$(t){setTimeout(function(){throw t})}function Rm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),xc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);xc(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),An="__reactFiber$"+qo,Ec="__reactProps$"+qo,ai="__reactContainer$"+qo,jv="__reactEvents$"+qo,T$="__reactListeners$"+qo,N$="__reactHandles$"+qo;function Pa(t){var e=t[An];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ai]||r[An]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=NS(t);t!==null;){if(r=t[An])return r;t=NS(t)}return e}t=r,r=t.parentNode}return null}function _u(t){return t=t[An]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function ip(t){return t[Ec]||null}var Av=[],Bs=-1;function ia(t){return{current:t}}function ut(t){0>Bs||(t.current=Av[Bs],Av[Bs]=null,Bs--)}function nt(t,e){Bs++,Av[Bs]=t.current,t.current=e}var Ji={},ar=ia(Ji),xr=ia(!1),qa=Ji;function co(t,e){var r=t.type.contextTypes;if(!r)return Ji;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function br(t){return t=t.childContextTypes,t!=null}function hf(){ut(xr),ut(ar)}function CS(t,e,r){if(ar.current!==Ji)throw Error(se(168));nt(ar,e),nt(xr,r)}function sC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(se(108,fI(t)||"Unknown",i));return vt({},r,n)}function pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,qa=ar.current,nt(ar,t),nt(xr,xr.current),!0}function kS(t,e,r){var n=t.stateNode;if(!n)throw Error(se(169));r?(t=sC(t,e,qa),n.__reactInternalMemoizedMergedChildContext=t,ut(xr),ut(ar),nt(ar,t)):ut(xr),nt(xr,r)}var Vn=null,ap=!1,Im=!1;function oC(t){Vn===null?Vn=[t]:Vn.push(t)}function C$(t){ap=!0,oC(t)}function aa(){if(!Im&&Vn!==null){Im=!0;var t=0,e=Ge;try{var r=Vn;for(Ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vn=null,ap=!1}catch(i){throw Vn!==null&&(Vn=Vn.slice(t+1)),DN(cx,aa),i}finally{Ge=e,Im=!1}}return null}var Us=[],Hs=0,mf=null,gf=0,Hr=[],zr=0,Ya=null,Gn=1,qn="";function wa(t,e){Us[Hs++]=gf,Us[Hs++]=mf,mf=t,gf=e}function lC(t,e,r){Hr[zr++]=Gn,Hr[zr++]=qn,Hr[zr++]=Ya,Ya=t;var n=Gn;t=qn;var i=32-vn(n)-1;n&=~(1<<i),r+=1;var a=32-vn(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Gn=1<<32-vn(e)+i|r<<i|n,qn=a+t}else Gn=1<<a|r<<i|n,qn=t}function yx(t){t.return!==null&&(wa(t,1),lC(t,1,0))}function xx(t){for(;t===mf;)mf=Us[--Hs],Us[Hs]=null,gf=Us[--Hs],Us[Hs]=null;for(;t===Ya;)Ya=Hr[--zr],Hr[zr]=null,qn=Hr[--zr],Hr[zr]=null,Gn=Hr[--zr],Hr[zr]=null}var kr=null,Nr=null,dt=!1,fn=null;function cC(t,e){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function OS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,Nr=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,Nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ya!==null?{id:Gn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,kr=t,Nr=null,!0):!1;default:return!1}}function Tv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nv(t){if(dt){var e=Nr;if(e){var r=e;if(!OS(t,e)){if(Tv(t))throw Error(se(418));e=Hi(r.nextSibling);var n=kr;e&&OS(t,e)?cC(n,r):(t.flags=t.flags&-4097|2,dt=!1,kr=t)}}else{if(Tv(t))throw Error(se(418));t.flags=t.flags&-4097|2,dt=!1,kr=t}}}function DS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function Ju(t){if(t!==kr)return!1;if(!dt)return DS(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_v(t.type,t.memoizedProps)),e&&(e=Nr)){if(Tv(t))throw uC(),Error(se(418));for(;e;)cC(t,e),e=Hi(e.nextSibling)}if(DS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Nr=Hi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Nr=null}}else Nr=kr?Hi(t.stateNode.nextSibling):null;return!0}function uC(){for(var t=Nr;t;)t=Hi(t.nextSibling)}function uo(){Nr=kr=null,dt=!1}function bx(t){fn===null?fn=[t]:fn.push(t)}var k$=fi.ReactCurrentBatchConfig;function bl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,t))}return t}function ed(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PS(t){var e=t._init;return e(t._payload)}function dC(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Gi(x,y),x.index=0,x.sibling=null,x}function a(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,S){return y===null||y.tag!==6?(y=zm(b,x.mode,S),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,S){var w=b.type;return w===Rs?d(x,y,b.props.children,S,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_i&&PS(w)===y.type)?(S=i(y,b.props),S.ref=bl(x,y,b),S.return=x,S):(S=qd(b.type,b.key,b.props,null,x.mode,S),S.ref=bl(x,y,b),S.return=x,S)}function u(x,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Wm(b,x.mode,S),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function d(x,y,b,S,w){return y===null||y.tag!==7?(y=Ha(b,x.mode,S,w),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zm(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zu:return b=qd(y.type,y.key,y.props,null,x.mode,b),b.ref=bl(x,null,y),b.return=x,b;case Ms:return y=Wm(y,x.mode,b),y.return=x,y;case _i:var S=y._init;return f(x,S(y._payload),b)}if(Ul(y)||ml(y))return y=Ha(y,x.mode,b,null),y.return=x,y;ed(x,y)}return null}function h(x,y,b,S){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(x,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zu:return b.key===w?l(x,y,b,S):null;case Ms:return b.key===w?u(x,y,b,S):null;case _i:return w=b._init,h(x,y,w(b._payload),S)}if(Ul(b)||ml(b))return w!==null?null:d(x,y,b,S,null);ed(x,b)}return null}function p(x,y,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,o(y,x,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zu:return x=x.get(S.key===null?b:S.key)||null,l(y,x,S,w);case Ms:return x=x.get(S.key===null?b:S.key)||null,u(y,x,S,w);case _i:var _=S._init;return p(x,y,b,_(S._payload),w)}if(Ul(S)||ml(S))return x=x.get(b)||null,d(y,x,S,w,null);ed(y,S)}return null}function m(x,y,b,S){for(var w=null,_=null,E=y,j=y=0,A=null;E!==null&&j<b.length;j++){E.index>j?(A=E,E=null):A=E.sibling;var T=h(x,E,b[j],S);if(T===null){E===null&&(E=A);break}t&&E&&T.alternate===null&&e(x,E),y=a(T,y,j),_===null?w=T:_.sibling=T,_=T,E=A}if(j===b.length)return r(x,E),dt&&wa(x,j),w;if(E===null){for(;j<b.length;j++)E=f(x,b[j],S),E!==null&&(y=a(E,y,j),_===null?w=E:_.sibling=E,_=E);return dt&&wa(x,j),w}for(E=n(x,E);j<b.length;j++)A=p(E,x,j,b[j],S),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?j:A.key),y=a(A,y,j),_===null?w=A:_.sibling=A,_=A);return t&&E.forEach(function(O){return e(x,O)}),dt&&wa(x,j),w}function g(x,y,b,S){var w=ml(b);if(typeof w!="function")throw Error(se(150));if(b=w.call(b),b==null)throw Error(se(151));for(var _=w=null,E=y,j=y=0,A=null,T=b.next();E!==null&&!T.done;j++,T=b.next()){E.index>j?(A=E,E=null):A=E.sibling;var O=h(x,E,T.value,S);if(O===null){E===null&&(E=A);break}t&&E&&O.alternate===null&&e(x,E),y=a(O,y,j),_===null?w=O:_.sibling=O,_=O,E=A}if(T.done)return r(x,E),dt&&wa(x,j),w;if(E===null){for(;!T.done;j++,T=b.next())T=f(x,T.value,S),T!==null&&(y=a(T,y,j),_===null?w=T:_.sibling=T,_=T);return dt&&wa(x,j),w}for(E=n(x,E);!T.done;j++,T=b.next())T=p(E,x,j,T.value,S),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=a(T,y,j),_===null?w=T:_.sibling=T,_=T);return t&&E.forEach(function(C){return e(x,C)}),dt&&wa(x,j),w}function v(x,y,b,S){if(typeof b=="object"&&b!==null&&b.type===Rs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zu:e:{for(var w=b.key,_=y;_!==null;){if(_.key===w){if(w=b.type,w===Rs){if(_.tag===7){r(x,_.sibling),y=i(_,b.props.children),y.return=x,x=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_i&&PS(w)===_.type){r(x,_.sibling),y=i(_,b.props),y.ref=bl(x,_,b),y.return=x,x=y;break e}r(x,_);break}else e(x,_);_=_.sibling}b.type===Rs?(y=Ha(b.props.children,x.mode,S,b.key),y.return=x,x=y):(S=qd(b.type,b.key,b.props,null,x.mode,S),S.ref=bl(x,y,b),S.return=x,x=S)}return s(x);case Ms:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=Wm(b,x.mode,S),y.return=x,x=y}return s(x);case _i:return _=b._init,v(x,y,_(b._payload),S)}if(Ul(b))return m(x,y,b,S);if(ml(b))return g(x,y,b,S);ed(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,b),y.return=x,x=y):(r(x,y),y=zm(b,x.mode,S),y.return=x,x=y),s(x)):r(x,y)}return v}var fo=dC(!0),fC=dC(!1),vf=ia(null),yf=null,zs=null,wx=null;function Sx(){wx=zs=yf=null}function _x(t){var e=vf.current;ut(vf),t._currentValue=e}function Cv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function eo(t,e){yf=t,wx=zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(wx!==t)if(t={context:t,memoizedValue:e,next:null},zs===null){if(yf===null)throw Error(se(308));zs=t,yf.dependencies={lanes:0,firstContext:t}}else zs=zs.next=t;return e}var Ma=null;function Ex(t){Ma===null?Ma=[t]:Ma.push(t)}function hC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Ex(e)):(r.next=i.next,i.next=r),e.interleaved=r,si(t,n)}function si(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ei=!1;function jx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,si(t,r)}return i=n.interleaved,i===null?(e.next=e,Ex(n)):(e.next=i.next,i.next=e),n.interleaved=e,si(t,r)}function Ud(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ux(t,r)}}function MS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xf(t,e,r,n){var i=t.updateQueue;Ei=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=vt({},f,h);break e;case 2:Ei=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Qa|=s,t.lanes=s,t.memoizedState=f}}function RS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(se(191,i));i.call(n)}}}var Eu={},On=ia(Eu),jc=ia(Eu),Ac=ia(Eu);function Ra(t){if(t===Eu)throw Error(se(174));return t}function Ax(t,e){switch(nt(Ac,e),nt(jc,t),nt(On,Eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cv(e,t)}ut(On),nt(On,e)}function ho(){ut(On),ut(jc),ut(Ac)}function mC(t){Ra(Ac.current);var e=Ra(On.current),r=cv(e,t.type);e!==r&&(nt(jc,t),nt(On,r))}function Tx(t){jc.current===t&&(ut(On),ut(jc))}var pt=ia(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function Nx(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var Hd=fi.ReactCurrentDispatcher,Lm=fi.ReactCurrentBatchConfig,Ka=0,gt=null,kt=null,$t=null,wf=!1,Xl=!1,Tc=0,O$=0;function Kt(){throw Error(se(321))}function Cx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xn(t[r],e[r]))return!1;return!0}function kx(t,e,r,n,i,a){if(Ka=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hd.current=t===null||t.memoizedState===null?R$:I$,t=r(n,i),Xl){a=0;do{if(Xl=!1,Tc=0,25<=a)throw Error(se(301));a+=1,$t=kt=null,e.updateQueue=null,Hd.current=$$,t=r(n,i)}while(Xl)}if(Hd.current=Sf,e=kt!==null&&kt.next!==null,Ka=0,$t=kt=gt=null,wf=!1,e)throw Error(se(300));return t}function Ox(){var t=Tc!==0;return Tc=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?gt.memoizedState=$t=t:$t=$t.next=t,$t}function Xr(){if(kt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var e=$t===null?gt.memoizedState:$t.next;if(e!==null)$t=e,kt=t;else{if(t===null)throw Error(se(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},$t===null?gt.memoizedState=$t=t:$t=$t.next=t}return $t}function Nc(t,e){return typeof e=="function"?e(t):e}function Fm(t){var e=Xr(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=kt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Ka&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,gt.lanes|=d,Qa|=d}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,xn(n,e.memoizedState)||(gr=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,Qa|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Bm(t){var e=Xr(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);xn(a,e.memoizedState)||(gr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function gC(){}function vC(t,e){var r=gt,n=Xr(),i=e(),a=!xn(n.memoizedState,i);if(a&&(n.memoizedState=i,gr=!0),n=n.queue,Dx(bC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,Cc(9,xC.bind(null,r,n,i,e),void 0,null),Lt===null)throw Error(se(349));Ka&30||yC(r,e,i)}return i}function yC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xC(t,e,r,n){e.value=r,e.getSnapshot=n,wC(e)&&SC(t)}function bC(t,e,r){return r(function(){wC(e)&&SC(t)})}function wC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xn(t,r)}catch{return!0}}function SC(t){var e=si(t,1);e!==null&&yn(e,t,1,-1)}function IS(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:t},e.queue=t,t=t.dispatch=M$.bind(null,gt,t),[e.memoizedState,t]}function Cc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _C(){return Xr().memoizedState}function zd(t,e,r,n){var i=En();gt.flags|=t,i.memoizedState=Cc(1|e,r,void 0,n===void 0?null:n)}function sp(t,e,r,n){var i=Xr();n=n===void 0?null:n;var a=void 0;if(kt!==null){var s=kt.memoizedState;if(a=s.destroy,n!==null&&Cx(n,s.deps)){i.memoizedState=Cc(e,r,a,n);return}}gt.flags|=t,i.memoizedState=Cc(1|e,r,a,n)}function $S(t,e){return zd(8390656,8,t,e)}function Dx(t,e){return sp(2048,8,t,e)}function EC(t,e){return sp(4,2,t,e)}function jC(t,e){return sp(4,4,t,e)}function AC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TC(t,e,r){return r=r!=null?r.concat([t]):null,sp(4,4,AC.bind(null,e,t),r)}function Px(){}function NC(t,e){var r=Xr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function CC(t,e){var r=Xr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Cx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kC(t,e,r){return Ka&21?(xn(r,e)||(r=RN(),gt.lanes|=r,Qa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=r)}function D$(t,e){var r=Ge;Ge=r!==0&&4>r?r:4,t(!0);var n=Lm.transition;Lm.transition={};try{t(!1),e()}finally{Ge=r,Lm.transition=n}}function OC(){return Xr().memoizedState}function P$(t,e,r){var n=Vi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DC(t))PC(e,r);else if(r=hC(t,e,r,n),r!==null){var i=cr();yn(r,t,n,i),MC(r,e,n)}}function M$(t,e,r){var n=Vi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DC(t))PC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,xn(o,s)){var l=e.interleaved;l===null?(i.next=i,Ex(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=hC(t,e,i,n),r!==null&&(i=cr(),yn(r,t,n,i),MC(r,e,n))}}function DC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function PC(t,e){Xl=wf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ux(t,r)}}var Sf={readContext:Qr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},R$={readContext:Qr,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:$S,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zd(4194308,4,AC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var r=En();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=En();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=P$.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:IS,useDebugValue:Px,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=IS(!1),e=t[0];return t=D$.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=En();if(dt){if(r===void 0)throw Error(se(407));r=r()}else{if(r=e(),Lt===null)throw Error(se(349));Ka&30||yC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,$S(bC.bind(null,n,a,t),[t]),n.flags|=2048,Cc(9,xC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=En(),e=Lt.identifierPrefix;if(dt){var r=qn,n=Gn;r=(n&~(1<<32-vn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Tc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=O$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I$={readContext:Qr,useCallback:NC,useContext:Qr,useEffect:Dx,useImperativeHandle:TC,useInsertionEffect:EC,useLayoutEffect:jC,useMemo:CC,useReducer:Fm,useRef:_C,useState:function(){return Fm(Nc)},useDebugValue:Px,useDeferredValue:function(t){var e=Xr();return kC(e,kt.memoizedState,t)},useTransition:function(){var t=Fm(Nc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:gC,useSyncExternalStore:vC,useId:OC,unstable_isNewReconciler:!1},$$={readContext:Qr,useCallback:NC,useContext:Qr,useEffect:Dx,useImperativeHandle:TC,useInsertionEffect:EC,useLayoutEffect:jC,useMemo:CC,useReducer:Bm,useRef:_C,useState:function(){return Bm(Nc)},useDebugValue:Px,useDeferredValue:function(t){var e=Xr();return kt===null?e.memoizedState=t:kC(e,kt.memoizedState,t)},useTransition:function(){var t=Bm(Nc)[0],e=Xr().memoizedState;return[t,e]},useMutableSource:gC,useSyncExternalStore:vC,useId:OC,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function kv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var op={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cr(),i=Vi(t),a=Zn(n,i);a.payload=e,r!=null&&(a.callback=r),e=zi(t,a,i),e!==null&&(yn(e,t,i,n),Ud(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cr(),i=Vi(t),a=Zn(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=zi(t,a,i),e!==null&&(yn(e,t,i,n),Ud(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cr(),n=Vi(t),i=Zn(r,n);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,n),e!==null&&(yn(e,t,n,r),Ud(e,t,n))}};function LS(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!wc(r,n)||!wc(i,a):!0}function RC(t,e,r){var n=!1,i=Ji,a=e.contextType;return typeof a=="object"&&a!==null?a=Qr(a):(i=br(e)?qa:ar.current,n=e.contextTypes,a=(n=n!=null)?co(t,i):Ji),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=op,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function FS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&op.enqueueReplaceState(e,e.state,null)}function Ov(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},jx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qr(a):(a=br(e)?qa:ar.current,i.context=co(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(kv(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&op.enqueueReplaceState(i,i.state,null),xf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,e){try{var r="",n=e;do r+=dI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Um(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Dv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var L$=typeof WeakMap=="function"?WeakMap:Map;function IC(t,e,r){r=Zn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ef||(Ef=!0,Hv=n),Dv(t,e)},r}function $C(t,e,r){r=Zn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Dv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Dv(t,e),typeof n!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function BS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new L$;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Z$.bind(null,t,e,r),e.then(t,t))}function US(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zn(-1,1),e.tag=2,zi(r,e,1))),r.lanes|=1),t)}var F$=fi.ReactCurrentOwner,gr=!1;function or(t,e,r,n){e.child=t===null?fC(e,null,r,n):fo(e,t.child,r,n)}function zS(t,e,r,n,i){r=r.render;var a=e.ref;return eo(e,i),n=kx(t,e,r,n,a,i),r=Ox(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(dt&&r&&yx(e),e.flags|=1,or(t,e,n,i),e.child)}function WS(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Ux(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,LC(t,e,a,n,i)):(t=qd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:wc,r(s,n)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Gi(a,n),t.ref=e.ref,t.return=e,e.child=t}function LC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(wc(a,n)&&t.ref===e.ref)if(gr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(gr=!0);else return e.lanes=t.lanes,oi(t,e,i)}return Pv(t,e,r,n,i)}function FC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Vs,jr),jr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Vs,jr),jr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,nt(Vs,jr),jr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,nt(Vs,jr),jr|=n;return or(t,e,i,r),e.child}function BC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Pv(t,e,r,n,i){var a=br(r)?qa:ar.current;return a=co(e,a),eo(e,i),r=kx(t,e,r,n,a,i),n=Ox(),t!==null&&!gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(dt&&n&&yx(e),e.flags|=1,or(t,e,r,i),e.child)}function VS(t,e,r,n,i){if(br(r)){var a=!0;pf(e)}else a=!1;if(eo(e,i),e.stateNode===null)Wd(t,e),RC(e,r,n),Ov(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=br(r)?qa:ar.current,u=co(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&FS(e,s,n,u),Ei=!1;var h=e.memoizedState;s.state=h,xf(e,n,s,i),l=e.memoizedState,o!==n||h!==l||xr.current||Ei?(typeof d=="function"&&(kv(e,r,d,n),l=e.memoizedState),(o=Ei||LS(e,r,o,n,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,pC(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:on(e.type,o),s.props=u,f=e.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qr(l):(l=br(r)?qa:ar.current,l=co(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&FS(e,s,n,l),Ei=!1,h=e.memoizedState,s.state=h,xf(e,n,s,i);var m=e.memoizedState;o!==f||h!==m||xr.current||Ei?(typeof p=="function"&&(kv(e,r,p,n),m=e.memoizedState),(u=Ei||LS(e,r,u,n,h,m,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Mv(t,e,r,n,a,i)}function Mv(t,e,r,n,i,a){BC(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&kS(e,r,!1),oi(t,e,a);n=e.stateNode,F$.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=fo(e,t.child,null,a),e.child=fo(e,null,o,a)):or(t,e,o,a),e.memoizedState=n.state,i&&kS(e,r,!0),e.child}function UC(t){var e=t.stateNode;e.pendingContext?CS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&CS(t,e.context,!1),Ax(t,e.containerInfo)}function GS(t,e,r,n,i){return uo(),bx(i),e.flags|=256,or(t,e,r,n),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function HC(t,e,r){var n=e.pendingProps,i=pt.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(pt,i&1),t===null)return Nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,a?(n=e.mode,a=e.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=up(s,n,0,null),t=Ha(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Iv(r),e.memoizedState=Rv,t):Mx(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return B$(t,e,s,n,o,i,r);if(a){a=n.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Gi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Gi(o,a):(a=Ha(a,s,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,s=t.child.memoizedState,s=s===null?Iv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~r,e.memoizedState=Rv,n}return a=t.child,t=a.sibling,n=Gi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Mx(t,e){return e=up({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function td(t,e,r,n){return n!==null&&bx(n),fo(e,t.child,null,r),t=Mx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B$(t,e,r,n,i,a,s){if(r)return e.flags&256?(e.flags&=-257,n=Um(Error(se(422))),td(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=up({mode:"visible",children:n.children},i,0,null),a=Ha(a,i,s,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&fo(e,t.child,null,s),e.child.memoizedState=Iv(s),e.memoizedState=Rv,a);if(!(e.mode&1))return td(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(se(419)),n=Um(a,n,void 0),td(t,e,s,n)}if(o=(s&t.childLanes)!==0,gr||o){if(n=Lt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,si(t,i),yn(n,t,i,-1))}return Bx(),n=Um(Error(se(421))),td(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J$.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Nr=Hi(i.nextSibling),kr=e,dt=!0,fn=null,t!==null&&(Hr[zr++]=Gn,Hr[zr++]=qn,Hr[zr++]=Ya,Gn=t.id,qn=t.overflow,Ya=e),e=Mx(e,n.children),e.flags|=4096,e)}function qS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Cv(t.return,e,r)}function Hm(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function zC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(or(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qS(t,r,e);else if(t.tag===19)qS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nt(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&bf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Hm(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Hm(e,!0,r,null,a);break;case"together":Hm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,r=Gi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function U$(t,e,r){switch(e.tag){case 3:UC(e),uo();break;case 5:mC(e);break;case 1:br(e.type)&&pf(e);break;case 4:Ax(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;nt(vf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nt(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?HC(t,e,r):(nt(pt,pt.current&1),t=oi(t,e,r),t!==null?t.sibling:null);nt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,FC(t,e,r)}return oi(t,e,r)}var WC,$v,VC,GC;WC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$v=function(){};VC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ra(On.current);var a=null;switch(r){case"input":i=av(t,i),n=av(t,n),a=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),a=[];break;case"textarea":i=lv(t,i),n=lv(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ff)}uv(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};GC=function(t,e,r,n){r!==n&&(e.flags|=4)};function wl(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function H$(t,e,r){var n=e.pendingProps;switch(xx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return br(e.type)&&hf(),Qt(e),null;case 3:return n=e.stateNode,ho(),ut(xr),ut(ar),Nx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Vv(fn),fn=null))),$v(t,e),Qt(e),null;case 5:Tx(e);var i=Ra(Ac.current);if(r=e.type,t!==null&&e.stateNode!=null)VC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(se(166));return Qt(e),null}if(t=Ra(On.current),Ju(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[An]=e,n[Ec]=a,t=(e.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(i=0;i<zl.length;i++)ot(zl[i],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":rS(n,a),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ot("invalid",n);break;case"textarea":iS(n,a),ot("invalid",n)}uv(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Zu(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Zu(n.textContent,o,t),i=["children",""+o]):pc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ot("scroll",n)}switch(r){case"input":Wu(n),nS(n,a,!0);break;case"textarea":Wu(n),aS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ff)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[An]=e,t[Ec]=n,WC(t,e,!1,!1),e.stateNode=t;e:{switch(s=dv(r,n),r){case"dialog":ot("cancel",t),ot("close",t),i=n;break;case"iframe":case"object":case"embed":ot("load",t),i=n;break;case"video":case"audio":for(i=0;i<zl.length;i++)ot(zl[i],t);i=n;break;case"source":ot("error",t),i=n;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=n;break;case"details":ot("toggle",t),i=n;break;case"input":rS(t,n),i=av(t,n),ot("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),ot("invalid",t);break;case"textarea":iS(t,n),i=lv(t,n),ot("invalid",t);break;default:i=n}uv(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?_N(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wN(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&mc(t,l):typeof l=="number"&&mc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ot("scroll",t):l!=null&&ix(t,a,l,s))}switch(r){case"input":Wu(t),nS(t,n,!1);break;case"textarea":Wu(t),aS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zi(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Qs(t,!!n.multiple,a,!1):n.defaultValue!=null&&Qs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ff)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)GC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(se(166));if(r=Ra(Ac.current),Ra(On.current),Ju(e)){if(n=e.stateNode,r=e.memoizedProps,n[An]=e,(a=n.nodeValue!==r)&&(t=kr,t!==null))switch(t.tag){case 3:Zu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[An]=e,e.stateNode=n}return Qt(e),null;case 13:if(ut(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Nr!==null&&e.mode&1&&!(e.flags&128))uC(),uo(),e.flags|=98560,a=!1;else if(a=Ju(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(se(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(se(317));a[An]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),a=!1}else fn!==null&&(Vv(fn),fn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Ot===0&&(Ot=3):Bx())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return ho(),$v(t,e),t===null&&Sc(e.stateNode.containerInfo),Qt(e),null;case 10:return _x(e.type._context),Qt(e),null;case 17:return br(e.type)&&hf(),Qt(e),null;case 19:if(ut(pt),a=e.memoizedState,a===null)return Qt(e),null;if(n=(e.flags&128)!==0,s=a.rendering,s===null)if(n)wl(a,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=bf(t),s!==null){for(e.flags|=128,wl(a,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nt(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&wt()>mo&&(e.flags|=128,n=!0,wl(a,!1),e.lanes=4194304)}else{if(!n)if(t=bf(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!dt)return Qt(e),null}else 2*wt()-a.renderingStartTime>mo&&r!==1073741824&&(e.flags|=128,n=!0,wl(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(r=a.last,r!==null?r.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wt(),e.sibling=null,r=pt.current,nt(pt,n?r&1|2:r&1),e):(Qt(e),null);case 22:case 23:return Fx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jr&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function z$(t,e){switch(xx(e),e.tag){case 1:return br(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ho(),ut(xr),ut(ar),Nx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tx(e),null;case 13:if(ut(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(pt),null;case 4:return ho(),null;case 10:return _x(e.type._context),null;case 22:case 23:return Fx(),null;case 24:return null;default:return null}}var rd=!1,Jt=!1,W$=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ws(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function Lv(t,e,r){try{r()}catch(n){xt(t,e,n)}}var YS=!1;function V$(t,e){if(wv=cf,t=XN(),vx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sv={focusedElem:t,selectionRange:r},cf=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:on(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(S){xt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return m=YS,YS=!1,m}function Zl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Lv(e,r,a)}i=i.next}while(i!==n)}}function lp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qC(t){var e=t.alternate;e!==null&&(t.alternate=null,qC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[Ec],delete e[jv],delete e[T$],delete e[N$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YC(t){return t.tag===5||t.tag===3||t.tag===4}function KS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ff));else if(n!==4&&(t=t.child,t!==null))for(Bv(t,e,r),t=t.sibling;t!==null;)Bv(t,e,r),t=t.sibling}function Uv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Uv(t,e,r),t=t.sibling;t!==null;)Uv(t,e,r),t=t.sibling}var Ht=null,ln=!1;function xi(t,e,r){for(r=r.child;r!==null;)KC(t,e,r),r=r.sibling}function KC(t,e,r){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(ep,r)}catch{}switch(r.tag){case 5:Jt||Ws(r,e);case 6:var n=Ht,i=ln;Ht=null,xi(t,e,r),Ht=n,ln=i,Ht!==null&&(ln?(t=Ht,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ht.removeChild(r.stateNode));break;case 18:Ht!==null&&(ln?(t=Ht,r=r.stateNode,t.nodeType===8?Rm(t.parentNode,r):t.nodeType===1&&Rm(t,r),xc(t)):Rm(Ht,r.stateNode));break;case 4:n=Ht,i=ln,Ht=r.stateNode.containerInfo,ln=!0,xi(t,e,r),Ht=n,ln=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Lv(r,e,s),i=i.next}while(i!==n)}xi(t,e,r);break;case 1:if(!Jt&&(Ws(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xt(r,e,o)}xi(t,e,r);break;case 21:xi(t,e,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,xi(t,e,r),Jt=n):xi(t,e,r);break;default:xi(t,e,r)}}function QS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new W$),e.forEach(function(n){var i=eL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function rn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ht=o.stateNode,ln=!1;break e;case 3:Ht=o.stateNode.containerInfo,ln=!0;break e;case 4:Ht=o.stateNode.containerInfo,ln=!0;break e}o=o.return}if(Ht===null)throw Error(se(160));KC(a,s,i),Ht=null,ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QC(e,t),e=e.sibling}function QC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),_n(t),n&4){try{Zl(3,t,t.return),lp(3,t)}catch(g){xt(t,t.return,g)}try{Zl(5,t,t.return)}catch(g){xt(t,t.return,g)}}break;case 1:rn(e,t),_n(t),n&512&&r!==null&&Ws(r,r.return);break;case 5:if(rn(e,t),_n(t),n&512&&r!==null&&Ws(r,r.return),t.flags&32){var i=t.stateNode;try{mc(i,"")}catch(g){xt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=r!==null?r.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&yN(i,a),dv(o,s);var u=dv(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?_N(i,f):d==="dangerouslySetInnerHTML"?wN(i,f):d==="children"?mc(i,f):ix(i,d,f,u)}switch(o){case"input":sv(i,a);break;case"textarea":xN(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Qs(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Qs(i,!!a.multiple,a.defaultValue,!0):Qs(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ec]=a}catch(g){xt(t,t.return,g)}}break;case 6:if(rn(e,t),_n(t),n&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){xt(t,t.return,g)}}break;case 3:if(rn(e,t),_n(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xc(e.containerInfo)}catch(g){xt(t,t.return,g)}break;case 4:rn(e,t),_n(t);break;case 13:rn(e,t),_n(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($x=wt())),n&4&&QS(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||d,rn(e,t),Jt=u):rn(e,t),_n(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,p=h.child,h.tag){case 0:case 11:case 14:case 15:Zl(4,h,h.return);break;case 1:Ws(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){xt(n,r,g)}}break;case 5:Ws(h,h.return);break;case 22:if(h.memoizedState!==null){ZS(f);continue}}p!==null?(p.return=h,ve=p):ZS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=SN("display",s))}catch(g){xt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){xt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rn(e,t),_n(t),n&4&&QS(t);break;case 21:break;default:rn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(YC(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(mc(i,""),n.flags&=-33);var a=KS(t);Uv(t,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=KS(t);Bv(t,o,s);break;default:throw Error(se(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G$(t,e,r){ve=t,XC(t)}function XC(t,e,r){for(var n=(t.mode&1)!==0;ve!==null;){var i=ve,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||rd;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Jt;o=rd;var u=Jt;if(rd=s,(Jt=l)&&!u)for(ve=i;ve!==null;)s=ve,l=s.child,s.tag===22&&s.memoizedState!==null?JS(i):l!==null?(l.return=s,ve=l):JS(i);for(;a!==null;)ve=a,XC(a),a=a.sibling;ve=i,rd=o,Jt=u}XS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ve=a):XS(t)}}function XS(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||lp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:on(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&RS(e,a,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}RS(e,s,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Jt||e.flags&512&&Fv(e)}catch(h){xt(e,e.return,h)}}if(e===t){ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,ve=r;break}ve=e.return}}function ZS(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ve=r;break}ve=e.return}}function JS(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{lp(4,e)}catch(l){xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xt(e,i,l)}}var a=e.return;try{Fv(e)}catch(l){xt(e,a,l)}break;case 5:var s=e.return;try{Fv(e)}catch(l){xt(e,s,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ve=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ve=o;break}ve=e.return}}var q$=Math.ceil,_f=fi.ReactCurrentDispatcher,Rx=fi.ReactCurrentOwner,qr=fi.ReactCurrentBatchConfig,Ie=0,Lt=null,At=null,Vt=0,jr=0,Vs=ia(0),Ot=0,kc=null,Qa=0,cp=0,Ix=0,Jl=null,pr=null,$x=0,mo=1/0,zn=null,Ef=!1,Hv=null,Wi=null,nd=!1,Pi=null,jf=0,ec=0,zv=null,Vd=-1,Gd=0;function cr(){return Ie&6?wt():Vd!==-1?Vd:Vd=wt()}function Vi(t){return t.mode&1?Ie&2&&Vt!==0?Vt&-Vt:k$.transition!==null?(Gd===0&&(Gd=RN()),Gd):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:HN(t.type)),t):1}function yn(t,e,r,n){if(50<ec)throw ec=0,zv=null,Error(se(185));wu(t,r,n),(!(Ie&2)||t!==Lt)&&(t===Lt&&(!(Ie&2)&&(cp|=r),Ot===4&&Ci(t,Vt)),wr(t,n),r===1&&Ie===0&&!(e.mode&1)&&(mo=wt()+500,ap&&aa()))}function wr(t,e){var r=t.callbackNode;kI(t,e);var n=lf(t,t===Lt?Vt:0);if(n===0)r!==null&&lS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&lS(r),e===1)t.tag===0?C$(e_.bind(null,t)):oC(e_.bind(null,t)),j$(function(){!(Ie&6)&&aa()}),r=null;else{switch(IN(n)){case 1:r=cx;break;case 4:r=PN;break;case 16:r=of;break;case 536870912:r=MN;break;default:r=of}r=ak(r,ZC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ZC(t,e){if(Vd=-1,Gd=0,Ie&6)throw Error(se(327));var r=t.callbackNode;if(to()&&t.callbackNode!==r)return null;var n=lf(t,t===Lt?Vt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Af(t,n);else{e=n;var i=Ie;Ie|=2;var a=ek();(Lt!==t||Vt!==e)&&(zn=null,mo=wt()+500,Ua(t,e));do try{Q$();break}catch(o){JC(t,o)}while(1);Sx(),_f.current=a,Ie=i,At!==null?e=0:(Lt=null,Vt=0,e=Ot)}if(e!==0){if(e===2&&(i=gv(t),i!==0&&(n=i,e=Wv(t,i))),e===1)throw r=kc,Ua(t,0),Ci(t,n),wr(t,wt()),r;if(e===6)Ci(t,n);else{if(i=t.current.alternate,!(n&30)&&!Y$(i)&&(e=Af(t,n),e===2&&(a=gv(t),a!==0&&(n=a,e=Wv(t,a))),e===1))throw r=kc,Ua(t,0),Ci(t,n),wr(t,wt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(se(345));case 2:Sa(t,pr,zn);break;case 3:if(Ci(t,n),(n&130023424)===n&&(e=$x+500-wt(),10<e)){if(lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ev(Sa.bind(null,t,pr,zn),e);break}Sa(t,pr,zn);break;case 4:if(Ci(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-vn(n);a=1<<s,s=e[s],s>i&&(i=s),n&=~a}if(n=i,n=wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*q$(n/1960))-n,10<n){t.timeoutHandle=Ev(Sa.bind(null,t,pr,zn),n);break}Sa(t,pr,zn);break;case 5:Sa(t,pr,zn);break;default:throw Error(se(329))}}}return wr(t,wt()),t.callbackNode===r?ZC.bind(null,t):null}function Wv(t,e){var r=Jl;return t.current.memoizedState.isDehydrated&&(Ua(t,e).flags|=256),t=Af(t,e),t!==2&&(e=pr,pr=r,e!==null&&Vv(e)),t}function Vv(t){pr===null?pr=t:pr.push.apply(pr,t)}function Y$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!xn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~Ix,e&=~cp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vn(e),n=1<<r;t[r]=-1,e&=~n}}function e_(t){if(Ie&6)throw Error(se(327));to();var e=lf(t,0);if(!(e&1))return wr(t,wt()),null;var r=Af(t,e);if(t.tag!==0&&r===2){var n=gv(t);n!==0&&(e=n,r=Wv(t,n))}if(r===1)throw r=kc,Ua(t,0),Ci(t,e),wr(t,wt()),r;if(r===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sa(t,pr,zn),wr(t,wt()),null}function Lx(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(mo=wt()+500,ap&&aa())}}function Xa(t){Pi!==null&&Pi.tag===0&&!(Ie&6)&&to();var e=Ie;Ie|=1;var r=qr.transition,n=Ge;try{if(qr.transition=null,Ge=1,t)return t()}finally{Ge=n,qr.transition=r,Ie=e,!(Ie&6)&&aa()}}function Fx(){jr=Vs.current,ut(Vs)}function Ua(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,E$(r)),At!==null)for(r=At.return;r!==null;){var n=r;switch(xx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hf();break;case 3:ho(),ut(xr),ut(ar),Nx();break;case 5:Tx(n);break;case 4:ho();break;case 13:ut(pt);break;case 19:ut(pt);break;case 10:_x(n.type._context);break;case 22:case 23:Fx()}r=r.return}if(Lt=t,At=t=Gi(t.current,null),Vt=jr=e,Ot=0,kc=null,Ix=cp=Qa=0,pr=Jl=null,Ma!==null){for(e=0;e<Ma.length;e++)if(r=Ma[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ma=null}return t}function JC(t,e){do{var r=At;try{if(Sx(),Hd.current=Sf,wf){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wf=!1}if(Ka=0,$t=kt=gt=null,Xl=!1,Tc=0,Rx.current=null,r===null||r.return===null){Ot=1,kc=e,At=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=Vt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=US(s);if(p!==null){p.flags&=-257,HS(p,s,o,a,e),p.mode&1&&BS(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){BS(a,u,e),Bx();break e}l=Error(se(426))}}else if(dt&&o.mode&1){var v=US(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),HS(v,s,o,a,e),bx(po(l,o));break e}}a=l=po(l,o),Ot!==4&&(Ot=2),Jl===null?Jl=[a]:Jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=IC(a,l,e);MS(a,x);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wi===null||!Wi.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=$C(a,o,e);MS(a,S);break e}}a=a.return}while(a!==null)}rk(r)}catch(w){e=w,At===r&&r!==null&&(At=r=r.return);continue}break}while(1)}function ek(){var t=_f.current;return _f.current=Sf,t===null?Sf:t}function Bx(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Lt===null||!(Qa&268435455)&&!(cp&268435455)||Ci(Lt,Vt)}function Af(t,e){var r=Ie;Ie|=2;var n=ek();(Lt!==t||Vt!==e)&&(zn=null,Ua(t,e));do try{K$();break}catch(i){JC(t,i)}while(1);if(Sx(),Ie=r,_f.current=n,At!==null)throw Error(se(261));return Lt=null,Vt=0,Ot}function K$(){for(;At!==null;)tk(At)}function Q$(){for(;At!==null&&!wI();)tk(At)}function tk(t){var e=ik(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?rk(t):At=e,Rx.current=null}function rk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=z$(r,e),r!==null){r.flags&=32767,At=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,At=null;return}}else if(r=H$(r,e,jr),r!==null){At=r;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Ot===0&&(Ot=5)}function Sa(t,e,r){var n=Ge,i=qr.transition;try{qr.transition=null,Ge=1,X$(t,e,r,n)}finally{qr.transition=i,Ge=n}return null}function X$(t,e,r,n){do to();while(Pi!==null);if(Ie&6)throw Error(se(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(OI(t,a),t===Lt&&(At=Lt=null,Vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nd||(nd=!0,ak(of,function(){return to(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=qr.transition,qr.transition=null;var s=Ge;Ge=1;var o=Ie;Ie|=4,Rx.current=null,V$(t,r),QC(r,t),v$(Sv),cf=!!wv,Sv=wv=null,t.current=r,G$(r),SI(),Ie=o,Ge=s,qr.transition=a}else t.current=r;if(nd&&(nd=!1,Pi=t,jf=i),a=t.pendingLanes,a===0&&(Wi=null),jI(r.stateNode),wr(t,wt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,t=Hv,Hv=null,t;return jf&1&&t.tag!==0&&to(),a=t.pendingLanes,a&1?t===zv?ec++:(ec=0,zv=t):ec=0,aa(),null}function to(){if(Pi!==null){var t=IN(jf),e=qr.transition,r=Ge;try{if(qr.transition=null,Ge=16>t?16:t,Pi===null)var n=!1;else{if(t=Pi,Pi=null,jf=0,Ie&6)throw Error(se(331));var i=Ie;for(Ie|=4,ve=t.current;ve!==null;){var a=ve,s=a.child;if(ve.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Zl(8,d,a)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,p=d.return;if(qC(d),d===u){ve=null;break}if(h!==null){h.return=p,ve=h;break}ve=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ve=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ve=s;else e:for(;ve!==null;){if(a=ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ve=x;break e}ve=a.return}}var y=t.current;for(ve=y;ve!==null;){s=ve;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ve=b;else e:for(s=y;ve!==null;){if(o=ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:lp(9,o)}}catch(w){xt(o,o.return,w)}if(o===s){ve=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ve=S;break e}ve=o.return}}if(Ie=i,aa(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(ep,t)}catch{}n=!0}return n}finally{Ge=r,qr.transition=e}}return!1}function t_(t,e,r){e=po(r,e),e=IC(t,e,1),t=zi(t,e,1),e=cr(),t!==null&&(wu(t,1,e),wr(t,e))}function xt(t,e,r){if(t.tag===3)t_(t,t,r);else for(;e!==null;){if(e.tag===3){t_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wi===null||!Wi.has(n))){t=po(r,t),t=$C(e,t,1),e=zi(e,t,1),t=cr(),e!==null&&(wu(e,1,t),wr(e,t));break}}e=e.return}}function Z$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&r,Lt===t&&(Vt&r)===r&&(Ot===4||Ot===3&&(Vt&130023424)===Vt&&500>wt()-$x?Ua(t,0):Ix|=r),wr(t,e)}function nk(t,e){e===0&&(t.mode&1?(e=qu,qu<<=1,!(qu&130023424)&&(qu=4194304)):e=1);var r=cr();t=si(t,e),t!==null&&(wu(t,e,r),wr(t,r))}function J$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),nk(t,r)}function eL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(e),nk(t,r)}var ik;ik=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return gr=!1,U$(t,e,r);gr=!!(t.flags&131072)}else gr=!1,dt&&e.flags&1048576&&lC(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wd(t,e),t=e.pendingProps;var i=co(e,ar.current);eo(e,r),i=kx(null,e,n,t,i,r);var a=Ox();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,br(n)?(a=!0,pf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jx(e),i.updater=op,e.stateNode=i,i._reactInternals=e,Ov(e,n,t,r),e=Mv(null,e,n,!0,a,r)):(e.tag=0,dt&&a&&yx(e),or(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=rL(n),t=on(n,t),i){case 0:e=Pv(null,e,n,t,r);break e;case 1:e=VS(null,e,n,t,r);break e;case 11:e=zS(null,e,n,t,r);break e;case 14:e=WS(null,e,n,on(n.type,t),r);break e}throw Error(se(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),Pv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),VS(t,e,n,i,r);case 3:e:{if(UC(e),t===null)throw Error(se(387));n=e.pendingProps,a=e.memoizedState,i=a.element,pC(t,e),xf(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=po(Error(se(423)),e),e=GS(t,e,n,r,i);break e}else if(n!==i){i=po(Error(se(424)),e),e=GS(t,e,n,r,i);break e}else for(Nr=Hi(e.stateNode.containerInfo.firstChild),kr=e,dt=!0,fn=null,r=fC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(uo(),n===i){e=oi(t,e,r);break e}or(t,e,n,r)}e=e.child}return e;case 5:return mC(e),t===null&&Nv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,_v(n,i)?s=null:a!==null&&_v(n,a)&&(e.flags|=32),BC(t,e),or(t,e,s,r),e.child;case 6:return t===null&&Nv(e),null;case 13:return HC(t,e,r);case 4:return Ax(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fo(e,null,n,r):or(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),zS(t,e,n,i,r);case 7:return or(t,e,e.pendingProps,r),e.child;case 8:return or(t,e,e.pendingProps.children,r),e.child;case 12:return or(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,nt(vf,n._currentValue),n._currentValue=s,a!==null)if(xn(a.value,s)){if(a.children===i.children&&!xr.current){e=oi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Zn(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Cv(a.return,r,e),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(se(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Cv(s,r,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}or(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,eo(e,r),i=Qr(i),n=n(i),e.flags|=1,or(t,e,n,r),e.child;case 14:return n=e.type,i=on(n,e.pendingProps),i=on(n.type,i),WS(t,e,n,i,r);case 15:return LC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),Wd(t,e),e.tag=1,br(n)?(t=!0,pf(e)):t=!1,eo(e,r),RC(e,n,i),Ov(e,n,i,r),Mv(null,e,n,!0,t,r);case 19:return zC(t,e,r);case 22:return FC(t,e,r)}throw Error(se(156,e.tag))};function ak(t,e){return DN(t,e)}function tL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,r,n){return new tL(t,e,r,n)}function Ux(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rL(t){if(typeof t=="function")return Ux(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sx)return 11;if(t===ox)return 14}return 2}function Gi(t,e){var r=t.alternate;return r===null?(r=Vr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function qd(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Ux(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rs:return Ha(r.children,i,a,e);case ax:s=8,i|=8;break;case tv:return t=Vr(12,r,e,i|2),t.elementType=tv,t.lanes=a,t;case rv:return t=Vr(13,r,e,i),t.elementType=rv,t.lanes=a,t;case nv:return t=Vr(19,r,e,i),t.elementType=nv,t.lanes=a,t;case mN:return up(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hN:s=10;break e;case pN:s=9;break e;case sx:s=11;break e;case ox:s=14;break e;case _i:s=16,n=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Vr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ha(t,e,r,n){return t=Vr(7,t,n,e),t.lanes=r,t}function up(t,e,r,n){return t=Vr(22,t,n,e),t.elementType=mN,t.lanes=r,t.stateNode={isHidden:!1},t}function zm(t,e,r){return t=Vr(6,t,null,e),t.lanes=r,t}function Wm(t,e,r){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Em(0),this.expirationTimes=Em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Em(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hx(t,e,r,n,i,a,s,o,l){return t=new nL(t,e,r,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Vr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jx(a),t}function iL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sk(t){if(!t)return Ji;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(br(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var r=t.type;if(br(r))return sC(t,r,e)}return e}function ok(t,e,r,n,i,a,s,o,l){return t=Hx(r,n,!0,t,i,a,s,o,l),t.context=sk(null),r=t.current,n=cr(),i=Vi(r),a=Zn(n,i),a.callback=e??null,zi(r,a,i),t.current.lanes=i,wu(t,i,n),wr(t,n),t}function dp(t,e,r,n){var i=e.current,a=cr(),s=Vi(i);return r=sk(r),e.context===null?e.context=r:e.pendingContext=r,e=Zn(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=zi(i,e,s),t!==null&&(yn(t,i,s,a),Ud(t,i,s)),s}function Tf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zx(t,e){r_(t,e),(t=t.alternate)&&r_(t,e)}function aL(){return null}var lk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wx(t){this._internalRoot=t}fp.prototype.render=Wx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));dp(t,e,null,null)};fp.prototype.unmount=Wx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xa(function(){dp(null,t,null,null)}),e[ai]=null}};function fp(t){this._internalRoot=t}fp.prototype.unstable_scheduleHydration=function(t){if(t){var e=FN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ni.length&&e!==0&&e<Ni[r].priority;r++);Ni.splice(r,0,t),r===0&&UN(t)}};function Vx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n_(){}function sL(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Tf(s);a.call(u)}}var s=ok(e,n,t,0,null,!1,!1,"",n_);return t._reactRootContainer=s,t[ai]=s.current,Sc(t.nodeType===8?t.parentNode:t),Xa(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Tf(l);o.call(u)}}var l=Hx(t,0,!1,null,null,!1,!1,"",n_);return t._reactRootContainer=l,t[ai]=l.current,Sc(t.nodeType===8?t.parentNode:t),Xa(function(){dp(e,l,r,n)}),l}function pp(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Tf(s);o.call(l)}}dp(e,s,t,i)}else s=sL(r,e,t,i,n);return Tf(s)}$N=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Hl(e.pendingLanes);r!==0&&(ux(e,r|1),wr(e,wt()),!(Ie&6)&&(mo=wt()+500,aa()))}break;case 13:Xa(function(){var n=si(t,1);if(n!==null){var i=cr();yn(n,t,1,i)}}),zx(t,1)}};dx=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var r=cr();yn(e,t,134217728,r)}zx(t,134217728)}};LN=function(t){if(t.tag===13){var e=Vi(t),r=si(t,e);if(r!==null){var n=cr();yn(r,t,e,n)}zx(t,e)}};FN=function(){return Ge};BN=function(t,e){var r=Ge;try{return Ge=t,e()}finally{Ge=r}};hv=function(t,e,r){switch(e){case"input":if(sv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ip(n);if(!i)throw Error(se(90));vN(n),sv(n,i)}}}break;case"textarea":xN(t,r);break;case"select":e=r.value,e!=null&&Qs(t,!!r.multiple,e,!1)}};AN=Lx;TN=Xa;var oL={usingClientEntryPoint:!1,Events:[_u,Fs,ip,EN,jN,Lx]},Sl={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lL={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kN(t),t===null?null:t.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||aL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{ep=id.inject(lL),kn=id}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;Rr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(e))throw Error(se(200));return iL(t,e,null,r)};Rr.createRoot=function(t,e){if(!Vx(t))throw Error(se(299));var r=!1,n="",i=lk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hx(t,1,!1,null,null,r,!1,n,i),t[ai]=e.current,Sc(t.nodeType===8?t.parentNode:t),new Wx(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=kN(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return Xa(t)};Rr.hydrate=function(t,e,r){if(!hp(e))throw Error(se(200));return pp(null,t,e,!0,r)};Rr.hydrateRoot=function(t,e,r){if(!Vx(t))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=lk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=ok(e,null,t,1,r??null,i,!1,a,s),t[ai]=e.current,Sc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new fp(e)};Rr.render=function(t,e,r){if(!hp(e))throw Error(se(200));return pp(null,t,e,!1,r)};Rr.unmountComponentAtNode=function(t){if(!hp(t))throw Error(se(40));return t._reactRootContainer?(Xa(function(){pp(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Rr.unstable_batchedUpdates=Lx;Rr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!hp(r))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return pp(t,e,r,!1,n)};Rr.version="18.3.1-next-f1338f8080-20240426";function ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ck)}catch(t){console.error(t)}}ck(),cN.exports=Rr;var Nf=cN.exports,i_=Nf;Jg.createRoot=i_.createRoot,Jg.hydrateRoot=i_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oc.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const a_="popstate";function cL(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return Gv("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Cf(i)}return dL(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uL(){return Math.random().toString(36).substr(2,8)}function s_(t,e){return{usr:t.state,key:t.key,idx:e}}function Gv(t,e,r,n){return r===void 0&&(r=null),Oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:r,key:e&&e.key||n||uL()})}function Cf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function dL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=Mi.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Oc({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Mi.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:x})}function h(v,x){o=Mi.Push;let y=Gv(g.location,v,x);r&&r(y,v),u=d()+1;let b=s_(y,u),S=g.createHref(y);try{s.pushState(b,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}a&&l&&l({action:o,location:g.location,delta:1})}function p(v,x){o=Mi.Replace;let y=Gv(g.location,v,x);r&&r(y,v),u=d();let b=s_(y,u),S=g.createHref(y);s.replaceState(b,"",S),a&&l&&l({action:o,location:g.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Cf(v);return y=y.replace(/ $/,"%20"),_t(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return o},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(a_,f),l=v,()=>{i.removeEventListener(a_,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var o_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o_||(o_={}));function fL(t,e,r){return r===void 0&&(r="/"),hL(t,e,r,!1)}function hL(t,e,r,n){let i=typeof e=="string"?Yo(e):e,a=Gx(i.pathname||"/",r);if(a==null)return null;let s=dk(t);pL(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=jL(a);o=_L(s[l],u,n)}return o}function dk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=qi([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dk(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:wL(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of fk(a.path))i(a,s,l)}),e}function fk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=fk(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function pL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SL(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mL=/^:[\w-]+$/,gL=3,vL=2,yL=1,xL=10,bL=-2,l_=t=>t==="*";function wL(t,e){let r=t.split("/"),n=r.length;return r.some(l_)&&(n+=bL),e&&(n+=vL),r.filter(i=>!l_(i)).reduce((i,a)=>i+(mL.test(a)?gL:a===""?yL:xL),n)}function SL(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function _L(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=c_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=c_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:qi([a,f.pathname]),pathnameBase:CL(qi([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=qi([a,f.pathnameBase]))}return s}function c_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=EL(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function EL(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),uk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function jL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function AL(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Yo(t):t;return{pathname:r?r.startsWith("/")?r:TL(r,e):e,search:kL(n),hash:OL(i)}}function TL(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Vm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NL(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qx(t,e){let r=NL(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yx(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Yo(t):(i=Oc({},t),_t(!i.pathname||!i.pathname.includes("?"),Vm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Vm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Vm("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=AL(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const qi=t=>t.join("/").replace(/\/\/+/g,"/"),CL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hk=["post","put","patch","delete"];new Set(hk);const PL=["get",...hk];new Set(PL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dc.apply(this,arguments)}const Kx=k.createContext(null),ML=k.createContext(null),sa=k.createContext(null),mp=k.createContext(null),oa=k.createContext({outlet:null,matches:[],isDataRoute:!1}),pk=k.createContext(null);function RL(t,e){let{relative:r}=e===void 0?{}:e;Ko()||_t(!1);let{basename:n,navigator:i}=k.useContext(sa),{hash:a,pathname:s,search:o}=vk(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:qi([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Ko(){return k.useContext(mp)!=null}function Qo(){return Ko()||_t(!1),k.useContext(mp).location}function mk(t){k.useContext(sa).static||k.useLayoutEffect(t)}function gk(){let{isDataRoute:t}=k.useContext(oa);return t?YL():IL()}function IL(){Ko()||_t(!1);let t=k.useContext(Kx),{basename:e,future:r,navigator:n}=k.useContext(sa),{matches:i}=k.useContext(oa),{pathname:a}=Qo(),s=JSON.stringify(qx(i,r.v7_relativeSplatPath)),o=k.useRef(!1);return mk(()=>{o.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Yx(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qi([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,a,t])}function vk(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=k.useContext(sa),{matches:i}=k.useContext(oa),{pathname:a}=Qo(),s=JSON.stringify(qx(i,n.v7_relativeSplatPath));return k.useMemo(()=>Yx(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function $L(t,e){return LL(t,e)}function LL(t,e,r,n){Ko()||_t(!1);let{navigator:i}=k.useContext(sa),{matches:a}=k.useContext(oa),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Qo(),d;if(e){var f;let v=typeof e=="string"?Yo(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||_t(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=fL(t,{pathname:p}),g=zL(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:qi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:qi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&g?k.createElement(mp.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mi.Pop}},g):g}function FL(){let t=qL(),e=DL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,a)}const BL=k.createElement(FL,null);class UL extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(oa.Provider,{value:this.props.routeContext},k.createElement(pk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HL(t){let{routeContext:e,match:r,children:n}=t,i=k.useContext(Kx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(oa.Provider,{value:e},n)}function zL(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_t(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||BL,l&&(u<0&&h===0?(KL("route-fallback",!1),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,h+1)),y=()=>{let b;return p?b=g:m?b=v:f.route.Component?b=k.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,k.createElement(HL,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(UL,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var yk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yk||{}),kf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kf||{});function WL(t){let e=k.useContext(Kx);return e||_t(!1),e}function VL(t){let e=k.useContext(ML);return e||_t(!1),e}function GL(t){let e=k.useContext(oa);return e||_t(!1),e}function xk(t){let e=GL(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function qL(){var t;let e=k.useContext(pk),r=VL(kf.UseRouteError),n=xk(kf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function YL(){let{router:t}=WL(yk.UseNavigateStable),e=xk(kf.UseNavigateStable),r=k.useRef(!1);return mk(()=>{r.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Dc({fromRouteId:e},a)))},[t,e])}const u_={};function KL(t,e,r){!e&&!u_[t]&&(u_[t]=!0)}function QL(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function XL(t){let{to:e,replace:r,state:n,relative:i}=t;Ko()||_t(!1);let{future:a,static:s}=k.useContext(sa),{matches:o}=k.useContext(oa),{pathname:l}=Qo(),u=gk(),d=Yx(e,qx(o,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function sr(t){_t(!1)}function ZL(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Mi.Pop,navigator:a,static:s=!1,future:o}=t;Ko()&&_t(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:a,static:s,future:Dc({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Yo(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=k.useMemo(()=>{let v=Gx(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:k.createElement(sa.Provider,{value:u},k.createElement(mp.Provider,{children:r,value:g}))}function JL(t){let{children:e,location:r}=t;return $L(qv(e),r)}new Promise(()=>{});function qv(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let a=[...e,i];if(n.type===k.Fragment){r.push.apply(r,qv(n.props.children,a));return}n.type!==sr&&_t(!1),!n.props.index||!n.props.children||_t(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=qv(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(this,arguments)}function e4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function t4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r4(t,e){return t.button===0&&(!e||e==="_self")&&!t4(t)}const n4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],i4="6";try{window.__reactRouterVersion=i4}catch{}const a4="startTransition",d_=ZR[a4];function s4(t){let{basename:e,children:r,future:n,window:i}=t,a=k.useRef();a.current==null&&(a.current=cL({window:i,v5Compat:!0}));let s=a.current,[o,l]=k.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=k.useCallback(f=>{u&&d_?d_(()=>l(f)):l(f)},[l,u]);return k.useLayoutEffect(()=>s.listen(d),[s,d]),k.useEffect(()=>QL(n),[n]),k.createElement(ZL,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const o4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ss=k.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=e4(e,n4),{basename:p}=k.useContext(sa),m,g=!1;if(typeof u=="string"&&l4.test(u)&&(m=u,o4))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=Gx(S.pathname,p);S.origin===b.origin&&w!=null?u=w+S.search+S.hash:g=!0}catch{}let v=RL(u,{relative:i}),x=c4(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||x(b)}return k.createElement("a",Yv({},h,{href:m||v,onClick:g||a?n:y,ref:r,target:l}))});var f_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f_||(f_={}));var h_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h_||(h_={}));function c4(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=gk(),u=Qo(),d=vk(t,{relative:s});return k.useCallback(f=>{if(r4(f,r)){f.preventDefault();let h=n!==void 0?n:Cf(u)===Cf(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,d,n,i,r,t,a,s,o])}const u4="modulepreload",d4=function(t){return"/scrub-shop-road-app/"+t},p_={},ju=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=d4(a),a in p_)return;p_[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":u4,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},f4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Qx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class h4 extends Qx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class m_ extends Qx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g_ extends Qx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kv||(Kv={}));var p4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class m4{constructor(e,{headers:r={},customFetch:n,region:i=Kv.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=f4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return p4(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new h4(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new m_(f);if(!f.ok)throw new g_(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof g_||i instanceof m_?i.context:void 0}}})}}var mr={},Xx={},gp={},Au={},vp={},yp={},g4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},go=g4();const v4=go.fetch,bk=go.fetch.bind(go),wk=go.Headers,y4=go.Request,x4=go.Response,Xo=Object.freeze(Object.defineProperty({__proto__:null,Headers:wk,Request:y4,Response:x4,default:bk,fetch:v4},Symbol.toStringTag,{value:"Module"})),b4=IR(Xo);var xp={};Object.defineProperty(xp,"__esModule",{value:!0});let w4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xp.default=w4;var Sk=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yp,"__esModule",{value:!0});const S4=Sk(b4),_4=Sk(xp);let E4=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=S4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,l;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new _4.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,l;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};yp.default=E4;var j4=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vp,"__esModule",{value:!0});const A4=j4(yp);let T4=class extends A4.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vp.default=T4;var N4=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Au,"__esModule",{value:!0});const C4=N4(vp);let k4=class extends C4.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Au.default=k4;var O4=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gp,"__esModule",{value:!0});const _l=O4(Au);let D4=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new _l.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const s=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(s.length>0){const o=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new _l.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){const s="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _l.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new _l.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _l.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};gp.default=D4;var bp={},wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.version=void 0;wp.version="0.0.0-automated";Object.defineProperty(bp,"__esModule",{value:!0});bp.DEFAULT_HEADERS=void 0;const P4=wp;bp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${P4.version}`};var _k=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xx,"__esModule",{value:!0});const M4=_k(gp),R4=_k(Au),I4=bp;let $4=class Ek{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},I4.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new M4.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ek(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(s="POST",l=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new R4.default({method:s,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Xx.default=$4;var Zo=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mr,"__esModule",{value:!0});mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const jk=Zo(Xx);mr.PostgrestClient=jk.default;const Ak=Zo(gp);mr.PostgrestQueryBuilder=Ak.default;const Tk=Zo(Au);mr.PostgrestFilterBuilder=Tk.default;const Nk=Zo(vp);mr.PostgrestTransformBuilder=Nk.default;const Ck=Zo(yp);mr.PostgrestBuilder=Ck.default;const kk=Zo(xp);mr.PostgrestError=kk.default;var L4=mr.default={PostgrestClient:jk.default,PostgrestQueryBuilder:Ak.default,PostgrestFilterBuilder:Tk.default,PostgrestTransformBuilder:Nk.default,PostgrestBuilder:Ck.default,PostgrestError:kk.default};const{PostgrestClient:F4,PostgrestQueryBuilder:gye,PostgrestFilterBuilder:vye,PostgrestTransformBuilder:yye,PostgrestBuilder:xye,PostgrestError:bye}=L4;function B4(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const U4=B4(),H4="2.11.15",z4=`realtime-js/${H4}`,W4="1.0.0",Ok=1e4,V4=1e3;var tc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tc||(tc={}));var Xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xt||(Xt={}));var cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cn||(cn={}));var Qv;(function(t){t.websocket="websocket"})(Qv||(Qv={}));var ka;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ka||(ka={}));class G4{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(e.slice(s,s+i));s=s+i;const l=n.decode(e.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Dk{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const v_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,s)=>(a[s]=q4(s,t,e,i),a),{})},q4=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?Pk(a,s):Xv(s)},Pk=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return X4(e,r)}switch(t){case tt.bool:return Y4(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return K4(e);case tt.json:case tt.jsonb:return Q4(e);case tt.timestamp:return Z4(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return Xv(e);default:return Xv(e)}},Xv=t=>t,Y4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},K4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},X4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>Pk(e,o))}return t},Z4=t=>typeof t=="string"?t.replace(" ","T"):t,Mk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Gm{constructor(e,r,n={},i=Ok){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var y_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(y_||(y_={}));class rc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=rc.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=rc.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},l={};return this.map(a,(u,d)=>{s[u]||(l[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(x_||(x_={}));var b_;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(b_||(b_={}));var Wn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wn||(Wn={}));class Zx{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gm(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Dk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new rc(this),this.broadcastEndpointURL=Mk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError(d=>e==null?void 0:e(Wn.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Wn.CLOSED));const l={},u={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Wn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:x,schema:y,table:b,filter:S}}=v,w=d&&d[g];if(w&&w.event===x&&w.schema===y&&w.table===b&&w.filter===S)m.push(Object.assign(Object.assign({},v),{id:w.id}));else{this.unsubscribe(),this.state=Xt.errored,e==null||e(Wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Wn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Xt.errored,e==null||e(Wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Gm(this,cn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gm(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=cn;if(n&&[o,l,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,v,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const S=p.id,w=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:x,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Zx.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=v_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=v_(e.columns,e.old_record)),r}}const w_=()=>{},J4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e3{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ok,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=w_,this.ref=0,this.logger=w_,this.conn=null,this.sendBuffer=[],this.serializer=new G4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...o)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${e}/${Qv.websocket}`,this.httpEndpoint=Mk(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,s)=>s(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=U4),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W4}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tc.connecting:return ka.Connecting;case tc.open:return ka.Open;case tc.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Zx(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:z4};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(cn.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(V4,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:a,ref:s}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([J4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Jx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class t3 extends Jx{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zv extends Jx{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var r3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Rk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},n3=()=>r3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ju(()=>Promise.resolve().then(()=>Xo),void 0)).Response:Response}),Jv=t=>{if(Array.isArray(t))return t.map(r=>Jv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Jv(n)}),e};var ds=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const qm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i3=(t,e,r)=>ds(void 0,void 0,void 0,function*(){const n=yield n3();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new t3(qm(i),t.status||500))}).catch(i=>{e(new Zv(qm(i),i))}):e(new Zv(qm(t),t))}),a3=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Tu(t,e,r,n,i,a){return ds(this,void 0,void 0,function*(){return new Promise((s,o)=>{t(r,a3(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>i3(l,o,n))})})}function Of(t,e,r,n){return ds(this,void 0,void 0,function*(){return Tu(t,"GET",e,r,n)})}function ji(t,e,r,n,i){return ds(this,void 0,void 0,function*(){return Tu(t,"POST",e,n,i,r)})}function s3(t,e,r,n,i){return ds(this,void 0,void 0,function*(){return Tu(t,"PUT",e,n,i,r)})}function o3(t,e,r,n){return ds(this,void 0,void 0,function*(){return Tu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Ik(t,e,r,n,i){return ds(this,void 0,void 0,function*(){return Tu(t,"DELETE",e,n,i,r)})}var hr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const l3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c3{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Rk(i)}uploadOrUpdate(e,r,n,i){return hr(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},S_),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Rt(a))return{data:null,error:a};throw a}})}upload(e,r,n){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return hr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:S_.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return hr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ji(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Jx("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}update(e,r,n){return hr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return hr(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return hr(this,void 0,void 0,function*(){try{return{data:{path:(yield ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return hr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield ji(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return hr(this,void 0,void 0,function*(){try{const i=yield ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}download(e,r){return hr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Of(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}info(e){return hr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Of(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jv(n),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}exists(e){return hr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield o3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Rt(n)&&n instanceof Zv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return hr(this,void 0,void 0,function*(){try{return{data:yield Ik(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}list(e,r,n){return hr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},l3),r),{prefix:e||""});return{data:yield ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const u3="2.7.1",d3={"X-Client-Info":`storage-js/${u3}`};var _s=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class f3{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},d3),r),this.fetch=Rk(n)}listBuckets(){return _s(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Rt(e))return{data:null,error:e};throw e}})}getBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _s(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return _s(this,void 0,void 0,function*(){try{return{data:yield s3(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield Ik(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}}class h3 extends f3{constructor(e,r={},n){super(e,r,n)}from(e){return new c3(this.url,this.headers,e,this.fetch)}}const p3="2.50.5";let Wl="";typeof Deno<"u"?Wl="deno":typeof document<"u"?Wl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wl="react-native":Wl="node";const m3={"X-Client-Info":`supabase-js-${Wl}/${p3}`},g3={headers:m3},v3={schema:"public"},y3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x3={};var b3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const w3=t=>{let e;return t?e=t:typeof fetch>"u"?e=bk:e=fetch,(...r)=>e(...r)},S3=()=>typeof Headers>"u"?wk:Headers,_3=(t,e,r)=>{const n=w3(r),i=S3();return(a,s)=>b3(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var E3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function j3(t){return t.endsWith("/")?t:t+"/"}function A3(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>E3(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const $k="2.70.0",Ds=30*1e3,ey=3,Ym=ey*Ds,T3="http://localhost:9999",N3="supabase.auth.token",C3={"X-Client-Info":`gotrue-js/${$k}`},ty="X-Supabase-Api-Version",Lk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O3=6e5;class eb extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class D3 extends eb{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function P3(t){return Te(t)&&t.name==="AuthApiError"}class Fk extends eb{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class la extends eb{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Si extends la{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M3(t){return Te(t)&&t.name==="AuthSessionMissingError"}class ad extends la{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sd extends la{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class od extends la{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R3(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}class __ extends la{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ry extends la{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Km(t){return Te(t)&&t.name==="AuthRetryableFetchError"}class E_ extends la{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nc extends la{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),j_=` 	
\r=`.split(""),I3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<j_.length;e+=1)t[j_[e].charCodeAt(0)]=-2;for(let e=0;e<Df.length;e+=1)t[Df[e].charCodeAt(0)]=e;return t})();function A_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Df[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Df[n]),e.queuedBits-=6}}function Bk(t,e,r){const n=I3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function T_(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{F3(s,n,r)};for(let s=0;s<t.length;s+=1)Bk(t.charCodeAt(s),i,a);return e.join("")}function $3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function L3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}$3(n,e)}}function F3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function B3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Bk(t.charCodeAt(i),r,n);return new Uint8Array(e)}function U3(t){const e=[];return L3(t,r=>e.push(r)),new Uint8Array(e)}function H3(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>A_(i,r,n)),A_(null,r,n),e.join("")}function z3(t){return Math.round(Date.now()/1e3)+t}function W3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},ic=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function V3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Uk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ju(()=>Promise.resolve().then(()=>Xo),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},G3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hk=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ld=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cd=async(t,e)=>{await t.removeItem(e)};class Sp{constructor(){this.promise=new Sp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sp.promiseConstructor=Promise;function Qm(t){const e=t.split(".");if(e.length!==3)throw new nc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!k3.test(e[n]))throw new nc("JWT not in base64url format");return{header:JSON.parse(T_(e[0])),payload:JSON.parse(T_(e[1])),signature:B3(e[2]),raw:{header:e[0],payload:e[1]}}}async function q3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Y3(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function K3(t){return("0"+t.toString(16)).substr(-2)}function Q3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,K3).join("")}async function X3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Z3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await X3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(t,e,r=!1){const n=Q3();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Hk(t,`${e}-code-verifier`,i);const a=await Z3(n);return[a,n===a?"plain":"s256"]}const J3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eF(t){const e=t.headers.get(ty);if(!e||!e.match(J3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(t){if(!nF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var iF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const _a=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aF=[502,503,504];async function N_(t){var e;if(!G3(t))throw new ry(_a(t),0);if(aF.includes(t.status))throw new ry(_a(t),t.status);let r;try{r=await t.json()}catch(a){throw new Fk(_a(a),a)}let n;const i=eF(t);if(i&&i.getTime()>=Lk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new E_(_a(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Si}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new E_(_a(r),t.status,r.weak_password.reasons);throw new D3(_a(r),t.status||500,n)}const sF=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ke(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[ty]||(a[ty]=Lk["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await oF(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function oF(t,e,r,n,i,a){const s=sF(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(l){throw console.error(l),new ry(_a(l),0)}if(o.ok||await N_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await N_(l)}}function Hn(t){var e;let r=null;dF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=z3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function C_(t){const e=Hn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ki(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lF(t){return{data:t,error:null}}function cF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=iF(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function uF(t){return t}function dF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Xm=["global","local","others"];var fF=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class hF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Uk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Xm[0]){if(Xm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xm.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ki})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=fF(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ki})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:uF});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){js(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ki})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){js(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ki})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){js(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ki})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){js(e.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(e){js(e.userId),js(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}const pF={getItem:t=>ic()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ic()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ic()&&globalThis.localStorage.removeItem(t)}};function k_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function mF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const As={debug:!!(globalThis&&ic()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zk extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gF extends zk{}async function vF(t,e,r){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),As.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){As.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{As.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw As.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(As.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}mF();const yF={url:T3,storageKey:N3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O_(t,e,r){return await r()}class Pc{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pc.nextInstanceID,Pc.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},yF),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Uk(i.fetch),this.lock=i.lock||O_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:sn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vF:this.lock=O_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ic()?this.storage=pF:(this.memoryStorage={},this.storage=k_(this.memoryStorage)):(this.memoryStorage={},this.storage=k_(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$k}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=V3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),R3(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new Fk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Hn}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Es(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Hn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hn})}else throw new sd("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C_})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C_})}else throw new sd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ad}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,s,o,l,u,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:x,statement:y,options:b}=e;let S;if(sn())if(typeof x=="object")S=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let E;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")E=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)E=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:v,error:x}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:H3(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Hn});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ad}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Te(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await ld(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Hn});if(await cd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ad}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Te(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Hn}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ad}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Es(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new sd("You must provide either an email or phone number.")}catch(o){if(Te(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Hn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Es(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:lF})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Si;const{error:i}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new sd("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ld(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ym:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ki}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Si}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ki})})}catch(r){if(Te(r))return M3(r)&&(await this._removeSession(),await cd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Si;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Es(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:ki});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Si;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Qm(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Si;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!sn())throw new od("No browser detected.");if(e.error||e.error_description||e.error_code)throw new od(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new __("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new __("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new od("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ld(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(P3(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await cd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=W3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Es(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,l,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return sn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Te(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Y3(async i=>(i>0&&await q3(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Km(a)&&Date.now()+s-n<Ds})}catch(n){if(this._debug(r,"error",n),Te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ld(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ym;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ym}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Km(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Si;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sp;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new Si;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Te(a)){const s={session:null,error:a};return Km(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Hk(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await cd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ds);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ds}ms, refresh threshold is ${ey} ticks`),i<=ey&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zk)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Es(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Qm(i.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+O3>Date.now()))return n;const{data:i,error:a}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new nc("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===e),!n)throw new nc("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=Qm(n);if(tF(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const u=rF(i.alg),d=await this.fetchJwk(i.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,U3(`${o}.${l}`)))throw new nc("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}Pc.nextInstanceID=0;const xF=Pc;class bF extends xF{constructor(e){super(e)}}var wF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class SF{constructor(e,r,n){var i,a,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=j3(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:v3,realtime:x3,auth:Object.assign(Object.assign({},y3),{storageKey:u}),global:g3},f=A3(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=_3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new F4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new m4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new h3(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return wF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new e3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _F=(t,e,r)=>new SF(t,e,r),Zm="https://kvsbrrmzedadyffqtcdq.supabase.co",Jm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt2c2Jycm16ZWRhZHlmZnF0Y2RxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxOTQxNzQsImV4cCI6MjA2Nzc3MDE3NH0.S3DSc-15No3SUr2Zmw_Qf7GQ4xABMYhMtN7LwvDDAiw";let te=null;try{Zm&&Zm!=="https://placeholder.supabase.co"&&Jm&&Jm!=="placeholder-key"&&(te=_F(Zm,Jm))}catch(t){console.error("Failed to create Supabase client:",t)}class Ai{constructor(){this.isAuthenticated=!0,Ai.mockMessages||(Ai.mockMessages=[])}async init(){try{if(!te)return!0;const{data:e,error:r}=await te.from("venues").select("count").limit(1);return r?(console.error("Supabase connection failed:",r),!1):!0}catch(e){return console.error("Failed to initialize Supabase API:",e),!1}}getMockData(e){return{venues:[],trailer_history:[],camper_history:[],staff:[]}[e]||[]}async readTable(e,r={}){try{if(!te)return{success:!0,data:this.getMockData(e)};let n=[],i=0;const a=1e3;let s=!0;for(;s;){let o=te.from(e).select("*");r.filters&&Object.entries(r.filters).forEach(([d,f])=>{o=o.eq(d,f)}),r.dateFrom&&r.dateTo&&(o=o.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?o=o.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):e.includes("history")?o=o.order("date",{ascending:!1}):o=o.order("id",{ascending:!1}),o=o.range(i*a,(i+1)*a-1);const{data:l,error:u}=await o;if(u)throw new Error(u.message);l&&l.length>0?(n=n.concat(l),i++,l.length<a&&(s=!1),i>50&&(console.warn(`[readTable] Stopping pagination after 50 pages to prevent infinite loop for ${e}`),s=!1)):s=!1}return{success:!0,data:n}}catch(n){return console.error(`Failed to read from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async addRow(e,r){try{if(!te)return{success:!0,data:{...r,id:Date.now()},message:"Row added successfully (mock mode)"};const{data:n,error:i}=await te.from(e).insert([r]).select();if(i)throw new Error(i.message);return{success:!0,data:n[0],message:"Row added successfully"}}catch(n){return console.error(`Failed to add row to ${e}:`,n),{success:!1,error:n.message}}}async updateRow(e,r,n){try{if(!te)return{success:!0,data:{id:r,...n},message:"Row updated successfully (mock mode)"};const{data:i,error:a}=await te.from(e).update(n).eq("id",r).select();if(a)throw new Error(a.message);return{success:!0,data:i[0],message:"Row updated successfully"}}catch(i){return console.error(`Failed to update row in ${e}:`,i),{success:!1,error:i.message}}}async deleteRow(e,r){try{if(!te)return{success:!0,message:"Row deleted successfully (mock mode)"};const{error:n}=await te.from(e).delete().eq("id",r);if(n)throw new Error(n.message);return{success:!0,message:"Row deleted successfully"}}catch(n){return console.error(`Failed to delete row from ${e}:`,n),{success:!1,error:n.message}}}async getTableInfo(e){try{if(!te){const i=this.getMockData(e);return{success:!0,data:{title:e,rowCount:i.length,columnCount:i.length>0?Object.keys(i[0]).length:0}}}const{count:r,error:n}=await te.from(e).select("*",{count:"exact",head:!0});if(n)throw new Error(n.message);return{success:!0,data:{title:e,rowCount:r||0,columnCount:10}}}catch(r){return console.error(`Failed to get table info for ${e}:`,r),{success:!1,error:r.message}}}async searchData(e,r,n=null){try{if(!te){const o=this.getMockData(e);return r?{success:!0,data:o.filter(u=>n?u[n]&&u[n].toString().toLowerCase().includes(r.toLowerCase()):Object.values(u).some(d=>d&&d.toString().toLowerCase().includes(r.toLowerCase())))}:{success:!0,data:o}}let i=te.from(e).select("*");r&&(n?i=i.ilike(n,`%${r}%`):i=i.or(`name.ilike.%${r}%,email.ilike.%${r}%,promo.ilike.%${r}%`));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error(`Failed to search data in ${e}:`,i),{success:!1,error:i.message,data:[]}}}async getSalesWithVenues(e,r={}){try{if(!te){const s=this.getMockData(e),o=this.getMockData("venues");return{success:!0,data:s.map(u=>({...u,venues:o.find(d=>d.id===u.venue_id)||{}}))}}let n=te.from(e).select(`
          *,
          venues (
            id,
            promo,
            address_city,
            contact,
            phone,
            email
          )
        `);r.dateFrom&&r.dateTo&&(n=n.gte("date",r.dateFrom).lte("date",r.dateTo)),r.orderBy?n=n.order(r.orderBy.column,{ascending:r.orderBy.ascending!==!1}):n=n.order("date",{ascending:!1});const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error(`Failed to get sales with venues from ${e}:`,n),{success:!1,error:n.message,data:[]}}}async getDashboardStats(){try{if(!te){const u=this.getMockData("trailer_history"),d=this.getMockData("camper_history"),f=this.getMockData("venues"),h=this.getMockData("staff");return{success:!0,data:{trailerHistory:u,camperHistory:d,venueCount:f.length,staffCount:h.length}}}const{data:e,error:r}=await te.from("trailer_history").select("gross_sales, net_sales, sales_tax, date");if(r)throw new Error(r.message);const{data:n,error:i}=await te.from("camper_history").select("gross_sales, net_sales, sales_tax, date");if(i)throw new Error(i.message);const{count:a,error:s}=await te.from("venues").select("*",{count:"exact",head:!0});if(s)throw new Error(s.message);const{count:o,error:l}=await te.from("staff").select("*",{count:"exact",head:!0});if(l)throw new Error(l.message);return{success:!0,data:{trailerHistory:e||[],camperHistory:n||[],venueCount:a||0,staffCount:o||0}}}catch(e){return console.error("Failed to get dashboard stats:",e),{success:!1,error:e.message}}}async authenticate(){return!0}async getUsers(){try{if(!te)return{success:!0,data:[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}]};const{data:e,error:r}=await te.from("users").select("*").eq("is_active",!0).order("name");if(r)throw new Error(r.message);return{success:!0,data:e||[]}}catch(e){return console.error("Failed to get users:",e),{success:!1,error:e.message,data:[]}}}async addUser(e){try{if(!te)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}};const{data:r,error:n}=await te.from("users").insert([e]).select().single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to add user:",r),{success:!1,error:r.message}}}async updateUser(e,r){try{if(!te)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await te.from("users").update(r).eq("id",e).select().single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update user:",n),{success:!1,error:n.message}}}async getMessageGroups(){try{if(!te)return{success:!0,data:[{id:1,group_name:"General",created_by:1,is_active:!0}]};const{data:e,error:r}=await te.from("message_groups").select("*").eq("is_active",!0).order("group_name");if(r)throw new Error(r.message);return{success:!0,data:e||[]}}catch(e){return console.error("Failed to get message groups:",e),{success:!1,error:e.message,data:[]}}}async getGroupMembers(e){try{if(!te)return{success:!0,data:[{id:1,group_id:1,user_id:1,role:"admin"},{id:2,group_id:1,user_id:2,role:"member"},{id:3,group_id:1,user_id:3,role:"member"},{id:4,group_id:1,user_id:4,role:"member"},{id:5,group_id:1,user_id:5,role:"admin"},{id:6,group_id:1,user_id:6,role:"member"}]};const{data:r,error:n}=await te.from("group_members").select(`
          *,
          staff (id, name, email, role)
        `).eq("group_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get group members:",r),{success:!1,error:r.message,data:[]}}}async getMessages(e=null,r=null,n=50){try{if(!te){let o=Ai.mockMessages||[];return e&&(o=o.filter(l=>l.group_id===e)),o.sort((l,u)=>new Date(l.created_at)-new Date(u.created_at)),n&&(o=o.slice(0,n)),{success:!0,data:o}}let i=te.from("team_messages").select("*").eq("is_deleted",!1).order("created_at",{ascending:!0}).limit(n);e?i=i.eq("group_id",e):r&&(i=i.eq("recipient_id",r));const{data:a,error:s}=await i;if(s)throw new Error(s.message);return{success:!0,data:a||[]}}catch(i){return console.error("Failed to get messages:",i),{success:!1,error:i.message,data:[]}}}async sendMessage(e){try{if(!te){const a=[{id:1,name:"John Smith",email:"john@scrubshop.com",role:"manager",is_active:!0},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",role:"worker",is_active:!0},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",role:"worker",is_active:!0},{id:4,name:"Sarah Wilson",email:"sarah@scrubshop.com",role:"worker",is_active:!0},{id:5,name:"Tom Brown",email:"tom@scrubshop.com",role:"admin",is_active:!0},{id:6,name:"David Wilson",email:"david@scrubshop.com",role:"worker",is_active:!0}].find(o=>o.id===e.sender_id)||{id:e.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"},s={id:Date.now(),...e,created_at:new Date().toISOString(),sender:{id:a.id,name:a.name,email:a.email}};return Ai.mockMessages||(Ai.mockMessages=[]),Ai.mockMessages.push(s),{success:!0,data:s}}const{data:r,error:n}=await te.from("team_messages").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to send message:",r),{success:!1,error:r.message}}}async getTasks(e=null,r=null){try{if(!te)return{success:!0,data:[]};let n=te.from("tasks").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("assigned_to",e)),r&&(n=n.eq("status",r));const{data:i,error:a}=await n;if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(n){return console.error("Failed to get tasks:",n),{success:!1,error:n.message,data:[]}}}async createTask(e){try{if(!te)return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};const{data:r,error:n}=await te.from("tasks").insert([e]).select("*").single();if(n)throw new Error(n.message);return{success:!0,data:r}}catch(r){return console.error("Failed to create task:",r),{success:!1,error:r.message}}}async updateTask(e,r){try{if(!te)return{success:!0,data:{id:e,...r}};const{data:n,error:i}=await te.from("tasks").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(i)throw new Error(i.message);return{success:!0,data:n}}catch(n){return console.error("Failed to update task:",n),{success:!1,error:n.message}}}async deleteTask(e){try{if(!te)return{success:!0};const{error:r}=await te.from("tasks").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete task:",r),{success:!1,error:r.message}}}async getTaskComments(e){try{return{success:!0,data:[]}}catch(r){return console.error("Failed to get task comments:",r),{success:!1,error:r.message,data:[]}}}async addTaskComment(e){try{return{success:!0,data:{id:Date.now(),...e,created_at:new Date().toISOString()}}}catch(r){return console.error("Failed to add task comment:",r),{success:!1,error:r.message}}}async addSalesAnalysisBatch(e){try{if(!te)return{success:!0,data:e.map((i,a)=>({...i,id:Date.now()+a}))};const{data:r,error:n}=await te.from("sales_analysis").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to add sales analysis batch:",r),{success:!1,error:r.message}}}async getSalesAnalysis(e={}){try{if(!te)return{success:!0,data:[]};let r=[],n=0;const i=1e3;let a=!0;for(;a;){let s=te.from("sales_analysis").select("*").order("invoice_date",{ascending:!1}).range(n*i,(n+1)*i-1);e.storeIds&&e.storeIds.length>0?s=s.in("store_id",e.storeIds):e.storeId&&(s=s.eq("store_id",e.storeId)),e.startDate&&(s=s.gte("invoice_date",e.startDate)),e.endDate&&(s=s.lte("invoice_date",e.endDate)),e.vendor&&(s=s.eq("vendor",e.vendor)),e.department&&(s=s.eq("department",e.department));const{data:o,error:l}=await s;if(l)throw console.error("🔍 [getSalesAnalysis] Database error:",l),new Error(l.message);o&&o.length>0?(r=r.concat(o),n++,o.length<i&&(a=!1),n>10&&(console.warn("🔍 [getSalesAnalysis] Stopping pagination after 10 pages to prevent infinite loop"),a=!1)):a=!1}return{success:!0,data:r}}catch(r){return console.error("🔍 [getSalesAnalysis] Failed to get sales analysis:",r),{success:!1,error:r.message,data:[]}}}async getSalesAnalysisStats(e={}){try{if(!te)return{success:!0,data:{totalSales:0,totalCost:0,totalProfit:0,totalItems:0,avgProfitMargin:0,topVendors:[],topDepartments:[]}};let r=[],n=0;const i=1e3;let a=!0;for(;a;){const{data:d,error:f}=await te.from("sales_analysis").select("*").range(n*i,(n+1)*i-1);if(f)throw console.error("📊 [getSalesAnalysisStats] Database error:",f),new Error(f.message);d&&d.length>0?(r=r.concat(d),n++,d.length<i&&(a=!1),n>10&&(console.warn("📊 [getSalesAnalysisStats] Stopping pagination after 10 pages to prevent infinite loop"),a=!1)):a=!1}const s=r,o={totalSales:0,totalCost:0,totalProfit:0,totalItems:0,vendors:{},departments:{}};s.forEach(d=>{const f=parseFloat(d.actual)||0,h=parseFloat(d.cost)||0,p=parseInt(d.sold_qty)||0;o.totalSales+=f*p,o.totalCost+=h*p,o.totalItems+=p,d.vendor&&(o.vendors[d.vendor]||(o.vendors[d.vendor]=0),o.vendors[d.vendor]+=f*p),d.department&&(o.departments[d.department]||(o.departments[d.department]=0),o.departments[d.department]+=f*p)}),o.totalProfit=o.totalSales-o.totalCost,o.avgProfitMargin=o.totalSales>0?o.totalProfit/o.totalSales*100:0;const l=Object.entries(o.vendors).map(([d,f])=>({vendor:d,sales:f})).sort((d,f)=>f.sales-d.sales).slice(0,5),u=Object.entries(o.departments).map(([d,f])=>({department:d,sales:f})).sort((d,f)=>f.sales-d.sales).slice(0,5);return{success:!0,data:{...o,topVendors:l,topDepartments:u}}}catch(r){return console.error("Failed to get sales analysis stats:",r),{success:!1,error:r.message}}}async deleteSalesAnalysis(e){try{if(!te)return{success:!0};const{error:r}=await te.from("sales_analysis").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete sales analysis record:",r),{success:!1,error:r.message}}}async clearSalesAnalysis(e=null){try{if(!te)return{success:!0};let r=te.from("sales_analysis").delete();e&&(r=r.eq("store_id",e));const{error:n}=await r;if(n)throw new Error(n.message);return{success:!0}}catch(r){return console.error("Failed to clear sales analysis:",r),{success:!1,error:r.message}}}async getStoreHours(e){try{if(!te)return{success:!0,data:[]};const{data:r,error:n}=await te.from("store_hours").select("*").eq("store_id",e).order("day_of_week");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store hours:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHours(e,r){try{if(!te)return console.log("Mock: Saving store hours:",r),{success:!0};const{error:n}=await te.from("store_hours").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await te.from("store_hours").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store hours:",n),{success:!1,error:n.message}}}async getStoreHolidays(e){try{if(!te)return{success:!0,data:[]};const{data:r,error:n}=await te.from("store_holidays").select("*").eq("store_id",e).order("date");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get store holidays:",r),{success:!1,error:r.message,data:[]}}}async saveStoreHolidays(e,r){try{if(!te)return console.log("Mock: Saving store holidays:",r),{success:!0};const{error:n}=await te.from("store_holidays").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await te.from("store_holidays").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save store holidays:",n),{success:!1,error:n.message}}}async getCommissionTiers(e){try{if(!te)return{success:!0,data:[]};const{data:r,error:n}=await te.from("commission_tiers").select("*").eq("store_id",e).order("sales_target");if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get commission tiers:",r),{success:!1,error:r.message,data:[]}}}async saveCommissionTiers(e,r){try{if(!te)return console.log("Mock: Saving commission tiers:",r),{success:!0};console.log("saveCommissionTiers called with storeId:",e,"tiersData:",r);const{error:n}=await te.from("commission_tiers").delete().eq("store_id",e);if(n)throw new Error(n.message);const i=r.filter(s=>s.sales_target>0&&s.bonus_amount>0).map(s=>{const o=s.tier_name&&s.tier_name.trim()||`Bonus for $${s.sales_target.toLocaleString()}+ sales`;return{store_id:s.store_id,tier_name:o,sales_target:s.sales_target,commission_rate:s.commission_rate||0,bonus_amount:s.bonus_amount}});console.log("Final insertData to send to database:",i);const{error:a}=await te.from("commission_tiers").insert(i);if(a)throw new Error(a.message);return{success:!0}}catch(n){return console.error("Failed to save commission tiers:",n),{success:!1,error:n.message}}}async getStaffCommissionRates(e){try{if(!te)return{success:!0,data:[]};const{data:r,error:n}=await te.from("staff_commission_rates").select("*").eq("store_id",e);if(n)throw new Error(n.message);return{success:!0,data:r||[]}}catch(r){return console.error("Failed to get staff commission rates:",r),{success:!1,error:r.message,data:[]}}}async saveStaffCommissionRates(e,r){try{if(!te)return console.log("Mock: Saving staff commission rates:",r),{success:!0};const{error:n}=await te.from("staff_commission_rates").delete().eq("store_id",e);if(n)throw new Error(n.message);const{error:i}=await te.from("staff_commission_rates").insert(r);if(i)throw new Error(i.message);return{success:!0}}catch(n){return console.error("Failed to save staff commission rates:",n),{success:!1,error:n.message}}}async getScheduleSlots(e,r,n){try{if(!te)return{success:!0,data:[]};const{data:i,error:a}=await te.from("schedule_slots").select("*").eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:i||[]}}catch(i){return console.error("Failed to get schedule slots:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleSlot(e){try{if(!te)return console.log("Mock: Saving schedule slot:",e),{success:!0};const{error:r}=await te.from("schedule_slots").upsert(e,{onConflict:"store_id,date,start_time"});if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to save schedule slot:",r),{success:!1,error:r.message}}}async deleteScheduleSlot(e){try{if(!te)return console.log("Mock: Deleting schedule slot:",e),{success:!0};const{error:r}=await te.from("schedule_slots").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule slot:",r),{success:!1,error:r.message}}}async getScheduleAssignments(e,r,n){try{if(!te)return{success:!0,data:[]};const{data:i,error:a}=await te.from("schedule_assignments").select(`
          *,
          staff:staff_id(name, role)
        `).eq("store_id",e).gte("date",r).lte("date",n).order("date, start_time");if(a)throw new Error(a.message);return{success:!0,data:(i||[]).map(o=>({id:o.id,storeId:o.store_id,staffId:o.staff_id,date:o.date,startTime:o.start_time,endTime:o.end_time,notes:o.notes,staff:o.staff}))}}catch(i){return console.error("Failed to get schedule assignments:",i),{success:!1,error:i.message,data:[]}}}async saveScheduleAssignment(e){try{if(!te)return console.log("Mock: Saving schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const r={store_id:e.storeId,staff_id:e.staffId,date:e.date,start_time:e.startTime,end_time:e.endTime,notes:e.notes},{data:n,error:i}=await te.from("schedule_assignments").upsert(r,{onConflict:"staff_id,date,start_time"}).select();if(i)throw new Error(i.message);return{success:!0,data:n!=null&&n[0]?{id:n[0].id,storeId:n[0].store_id,staffId:n[0].staff_id,date:n[0].date,startTime:n[0].start_time,endTime:n[0].end_time,notes:n[0].notes}:e}}catch(r){return console.error("Failed to save schedule assignment:",r),{success:!1,error:r.message}}}async createScheduleAssignment(e){try{if(!te)return console.log("Mock: Creating schedule assignment:",e),{success:!0,data:{...e,id:Date.now()}};const{data:r,error:n}=await te.from("schedule_assignments").insert(e).select();if(n)throw new Error(n.message);return{success:!0,data:(r==null?void 0:r[0])||e}}catch(r){return console.error("Failed to create schedule assignment:",r),{success:!1,error:r.message}}}async deleteScheduleAssignment(e){try{if(!te)return console.log("Mock: Deleting schedule assignment:",e),{success:!0};const{error:r}=await te.from("schedule_assignments").delete().eq("id",e);if(r)throw new Error(r.message);return{success:!0}}catch(r){return console.error("Failed to delete schedule assignment:",r),{success:!1,error:r.message}}}async importTrailerHistory(e){if(!Array.isArray(e)||e.length===0)return{success:!1,error:"No data to import",processed:0,failed:0};if(!te)return{success:!0,processed:e.length,failed:0};const r={};for(const a of e){const s=`${a.date}_${a.store}`;r[s]||(r[s]={date:a.date,Store:a.store,sales_tax:0,net_sales:0,gross_sales:0}),r[s].sales_tax+=parseFloat(a.sales_tax||0),r[s].net_sales+=parseFloat(a.net_sales||0),r[s].gross_sales+=parseFloat(a.gross_sales||0)}let n=0,i=0;for(const a of Object.values(r))try{const{error:s}=await te.from("trailer_history").upsert([a],{onConflict:["date","Store"]});s?(i++,console.error("Upsert error:",s)):n++}catch(s){i++,console.error("Exception during upsert:",s)}return{success:i===0,processed:n,failed:i}}async getSalesForPeriod(e,r,n){try{if(!te)return{success:!0,data:[{date:r,store:e,total_sales:15e3},{date:n,store:e,total_sales:18e3}]};const{data:i,error:a}=await te.from("trailer_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n),{data:s,error:o}=await te.from("camper_history").select("date, Store, gross_sales").eq("Store",e).gte("date",r).lte("date",n);if(a)throw a;if(o)throw o;const u=[...i||[],...s||[]].reduce((d,f)=>{const h=f.date;return d[h]||(d[h]={date:h,store:e,total_sales:0}),d[h].total_sales+=parseFloat(f.gross_sales||0),d},{});return{success:!0,data:Object.values(u)}}catch(i){return console.error("Error fetching sales data:",i),{success:!1,error:i.message}}}async getSalesByStaff(e,r,n){try{return te?{success:!0,data:[{date:r,staff_id:e,sales_amount:5e3},{date:n,staff_id:e,sales_amount:6e3}]}:{success:!0,data:[]}}catch(i){return console.error("Error fetching staff sales:",i),{success:!1,error:i.message}}}async getPayrollHistory(e,r,n){try{if(!te)return{success:!0,data:[]};const{data:i,error:a}=await te.from("payroll_history").select("*").eq("store_id",e).gte("pay_period_start",r).lte("pay_period_end",n).order("pay_period_start",{ascending:!1});if(a)throw a;return{success:!0,data:i||[]}}catch(i){return console.error("Error fetching payroll history:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{if(!te)return{success:!0,data:{id:Date.now()}};const{data:r,error:n}=await te.from("payroll_history").insert([e]).select();if(n)throw n;return{success:!0,data:r[0]}}catch(r){return console.error("Error saving payroll record:",r),{success:!1,error:r.message}}}async getStores(){try{if(!te)return{success:!0,data:[{id:1,name:"Spartanburg",number:"1"},{id:2,name:"Greenville",number:"3"},{id:3,name:"Columbia",number:"4"},{id:4,name:"Trailer",number:"5"},{id:5,name:"Camper",number:"7"}]};const{data:e,error:r}=await te.from("stores").select("*").eq("is_active",!0).order("number");if(r)throw r;return{success:!0,data:e||[]}}catch(e){return console.error("Error fetching stores:",e),{success:!1,error:e.message}}}async getStaffBonusTiers(e){try{console.log("🔍 Getting staff bonus tiers for staffId:",e);const{data:r,error:n}=await te.from("staff_bonus_tiers").select("*").eq("staff_id",e).order("sales_target",{ascending:!0});return n?(console.error("❌ Error fetching staff bonus tiers:",n),{success:!1,error:n.message}):(console.log("✅ Staff bonus tiers fetched successfully:",r),{success:!0,data:r})}catch(r){return console.error("❌ Exception in getStaffBonusTiers:",r),{success:!1,error:r.message}}}async saveStaffBonusTiers(e,r){try{if(console.log("💾 Saving staff bonus tiers for staffId:",e,"tiersData:",r),!te)return console.log("❌ Supabase not available, returning mock success"),{success:!0,data:r};console.log("🗑️ Deleting existing tiers for staff:",e);const{error:n}=await te.from("staff_bonus_tiers").delete().eq("staff_id",e);if(n)return console.error("❌ Error deleting existing staff bonus tiers:",n),{success:!1,error:n.message};if(console.log("✅ Successfully deleted existing tiers"),!r||r.length===0)return console.log("✅ No tiers to save, deletion completed"),{success:!0,data:[]};console.log("📝 Inserting new tiers:",r);const{data:i,error:a}=await te.from("staff_bonus_tiers").insert(r).select();return a?(console.error("❌ Error saving staff bonus tiers:",a),console.error("❌ Error details:",{code:a.code,message:a.message,details:a.details,hint:a.hint}),{success:!1,error:a.message}):(console.log("✅ Staff bonus tiers saved successfully:",i),{success:!0,data:i})}catch(n){return console.error("❌ Exception in saveStaffBonusTiers:",n),{success:!1,error:n.message}}}async calculateStaffBonus(e,r){try{console.log("🧮 Calculating staff bonus for staffId:",e,"salesAmount:",r);const{data:n,error:i}=await te.from("staff_bonus_tiers").select("*").eq("staff_id",e).eq("is_active",!0).order("sales_target",{ascending:!1});if(i)return console.error("❌ Error calculating staff bonus:",i),{success:!1,error:i.message};let a=0;for(const s of n||[])if(r>=s.sales_target){a=s.bonus_amount;break}return console.log("✅ Staff bonus calculated:",a),{success:!0,data:a}}catch(n){return console.error("❌ Exception in calculateStaffBonus:",n),{success:!1,error:n.message}}}async getScheduleAssignmentsForDateRange(e,r,n){try{console.log("📅 Getting schedule assignments for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await te.from("schedule_assignments").select(`
          *,
          slot:schedule_slots(*)
        `).eq("slot.store_id",e).gte("slot.slot_date",r).lte("slot.slot_date",n);return a?(console.error("❌ Error fetching schedule assignments:",a),{success:!1,error:a.message}):(console.log("✅ Schedule assignments fetched:",i),{success:!0,data:i||[]})}catch(i){return console.error("❌ Exception in getScheduleAssignmentsForDateRange:",i),{success:!1,error:i.message}}}async getSalesForDateRange(e,r,n){try{console.log("💰 Getting sales for store:",e,"date range:",r,"to",n);const{data:i,error:a}=await te.from("trailer_history").select("date, Store, gross_sales").order("date",{ascending:!1}).limit(5);a?console.error("❌ Error fetching sample data:",a):console.log("📅 Sample dates from trailer_history:",i);const{data:s,error:o}=await te.from("trailer_history").select("*").gte("date",r).lte("date",n);if(o)return console.error("❌ Error fetching sales data:",o),{success:!1,error:o.message};console.log("📊 Raw data for date range:",(s==null?void 0:s.length)||0,"records");const l=(s||[]).filter(u=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"}[u.Store]||u.Store)===e);return console.log("✅ Sales fetched for store:",e,l),{success:!0,data:l}}catch(i){return console.error("❌ Exception in getSalesForDateRange:",i),{success:!1,error:i.message}}}async savePayrollRecord(e){try{console.log("💾 Saving payroll record:",e);const{data:r,error:n}=await te.from("payroll_records").insert(e).select();return n?(console.error("❌ Error saving payroll record:",n),{success:!1,error:n.message}):(console.log("✅ Payroll record saved:",r),{success:!0,data:r})}catch(r){return console.error("❌ Exception in savePayrollRecord:",r),{success:!1,error:r.message}}}}const fe=new Ai,Yd=(t,e)=>{const r=s=>({1:"Spartanburg",3:"Greenville",4:"Columbia",5:"Trailer",7:"Camper"})[s]||`Store ${s}`,n=t.Store||t.store||null,i=n?r(String(n)):e==="TRAILER_HISTORY"?"Trailer":"Camper";return{id:t.id||null,date:t.date||"",status:t.status||"",salesTax:parseFloat(t.sales_tax||0)||0,netSales:parseFloat(t.net_sales||0)||0,grossSales:parseFloat(t.gross_sales||0)||0,store:i,venue:t.common_venue_name||t.venue_name||"",sheetType:e}},EF=t=>{const e={};return t.forEach((n,i)=>{const a=String(n.store||"Unknown Store"),s=n.date||"";if(!s)return;let o=s;s.includes(" ")&&(o=s.split(" ")[0]);const l=`${a}_${o}`;e[l]||(e[l]={store:a,venue:n.venue||"",date:o,salesTax:0,netSales:0,grossSales:0,count:0});const u=parseFloat(n.salesTax||0)||0,d=parseFloat(n.netSales||0)||0,f=parseFloat(n.grossSales||0)||0;e[l].salesTax+=u,e[l].netSales+=d,e[l].grossSales+=f,e[l].count+=1}),Object.values(e).sort((n,i)=>{const a=new Date(n.date),s=new Date(i.date);return a.getTime()!==s.getTime()?a-s:String(n.store).localeCompare(String(i.store))})},ud=t=>({id:t.id||null,promo:t.promo||"",promoSend:t.promo_to_send||"",addressCity:t.address_city||"",contact:t.contact||"",phone:t.phone||"",email:t.email||"",times:t.times||"",showInfo:t.show_info||"",forecastWill:t.forecast||""}),D_=t=>({id:t.id||null,name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hireDate:t.hire_date||"",notes:t.notes||"",store_id:t.store_id||null,payType:t.pay_type||"hourly",hourlyRate:parseFloat(t.hourly_rate||0)||0,salaryAmount:parseFloat(t.salary_amount||0)||0,preferredHoursPerWeek:parseFloat(t.preferred_hours_per_week||0)||0,maxHoursPerWeek:parseFloat(t.max_hours_per_week||0)||0}),P_=(t,e=!1)=>{const r={name:t.name||"",email:t.email||"",phone:t.phone||"",role:t.role||"Worker",status:t.status||"Active",hire_date:t.hireDate||"",notes:t.notes||"",store_id:t.store_id||null,pay_type:t.payType||"hourly",hourly_rate:parseFloat(t.hourlyRate||0)||0,salary_amount:parseFloat(t.salaryAmount||0)||0,preferred_hours_per_week:parseFloat(t.preferredHoursPerWeek||0)||0,max_hours_per_week:parseFloat(t.maxHoursPerWeek||0)||0};return e&&t.id&&(r.id=t.id),r},jF=["Confirmed","Pending","Closed","Cancelled","Rescheduled"],AF=["Manager","Worker","Driver","Sales","Support"],TF=["Active","Inactive","On Leave","Terminated"],NF=["hourly","salary","salary+bonus"],eg=t=>({date:new Date().toISOString().split("T")[0],status:"Confirmed",salesTax:0,netSales:0,grossSales:0,venueId:"",sheetType:t}),tg=()=>({promo:"",promoSend:"",addressCity:"",contact:"",phone:"",email:"",times:"",showInfo:"",forecastWill:""}),rg=()=>({name:"",email:"",phone:"",role:"Worker",status:"Active",hireDate:new Date().toISOString().split("T")[0],notes:"",store_id:null,payType:"hourly",hourlyRate:0,salaryAmount:0,preferredHoursPerWeek:0,maxHoursPerWeek:0}),CF={currentSheet:"TRAILER_HISTORY",salesData:[],venuesData:[],staffData:[],loading:!1,error:null,currentMonth:new Date,selectedVenue:null,isAuthenticated:!1,usersData:[],messagesData:[],messageGroups:[],currentUser:null,selectedGroup:null,tasksData:[],taskComments:[],selectedTask:null,salesAnalysisData:[],salesAnalysisStats:{}},ce={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",SET_SALES_DATA:"SET_SALES_DATA",SET_VENUES_DATA:"SET_VENUES_DATA",SET_STAFF_DATA:"SET_STAFF_DATA",SET_CURRENT_SHEET:"SET_CURRENT_SHEET",SET_CURRENT_MONTH:"SET_CURRENT_MONTH",SET_SELECTED_VENUE:"SET_SELECTED_VENUE",ADD_SALES_ENTRY:"ADD_SALES_ENTRY",UPDATE_SALES_ENTRY:"UPDATE_SALES_ENTRY",DELETE_SALES_ENTRY:"DELETE_SALES_ENTRY",ADD_VENUE_ENTRY:"ADD_VENUE_ENTRY",UPDATE_VENUE_ENTRY:"UPDATE_VENUE_ENTRY",DELETE_VENUE_ENTRY:"DELETE_VENUE_ENTRY",ADD_STAFF_ENTRY:"ADD_STAFF_ENTRY",UPDATE_STAFF_ENTRY:"UPDATE_STAFF_ENTRY",DELETE_STAFF_ENTRY:"DELETE_STAFF_ENTRY",SET_IS_AUTHENTICATED:"SET_IS_AUTHENTICATED",SET_USERS_DATA:"SET_USERS_DATA",SET_MESSAGES_DATA:"SET_MESSAGES_DATA",SET_MESSAGE_GROUPS:"SET_MESSAGE_GROUPS",ADD_MESSAGE:"ADD_MESSAGE",SET_CURRENT_USER:"SET_CURRENT_USER",SET_SELECTED_GROUP:"SET_SELECTED_GROUP",SET_TASKS_DATA:"SET_TASKS_DATA",ADD_TASK:"ADD_TASK",UPDATE_TASK:"UPDATE_TASK",DELETE_TASK:"DELETE_TASK",SET_TASK_COMMENTS:"SET_TASK_COMMENTS",ADD_TASK_COMMENT:"ADD_TASK_COMMENT",SET_SELECTED_TASK:"SET_SELECTED_TASK",SET_SALES_ANALYSIS_DATA:"SET_SALES_ANALYSIS_DATA",SET_SALES_ANALYSIS_STATS:"SET_SALES_ANALYSIS_STATS"};function kF(t,e){switch(e.type){case ce.SET_CURRENT_SHEET:return{...t,currentSheet:e.payload};case ce.SET_LOADING:return{...t,loading:e.payload};case ce.SET_ERROR:return{...t,error:e.payload,loading:!1};case ce.SET_SALES_DATA:return{...t,salesData:e.payload,loading:!1,error:null};case ce.SET_VENUES_DATA:return{...t,venuesData:e.payload,loading:!1,error:null};case ce.SET_STAFF_DATA:return{...t,staffData:e.payload,loading:!1,error:null};case ce.ADD_SALES_ENTRY:return{...t,salesData:[...t.salesData,e.payload]};case ce.UPDATE_SALES_ENTRY:return{...t,salesData:t.salesData.map(r=>r.id===e.payload.id?e.payload:r)};case ce.DELETE_SALES_ENTRY:return{...t,salesData:t.salesData.filter(r=>r.id!==e.payload)};case ce.ADD_VENUE_ENTRY:return{...t,venuesData:[...t.venuesData,e.payload]};case ce.UPDATE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.map(r=>r.id===e.payload.id?e.payload:r)};case ce.DELETE_VENUE_ENTRY:return{...t,venuesData:t.venuesData.filter(r=>r.id!==e.payload)};case ce.ADD_STAFF_ENTRY:return{...t,staffData:[...t.staffData,e.payload]};case ce.UPDATE_STAFF_ENTRY:return{...t,staffData:t.staffData.map(r=>r.id===e.payload.id?e.payload:r)};case ce.DELETE_STAFF_ENTRY:return{...t,staffData:t.staffData.filter(r=>r.id!==e.payload)};case ce.SET_CURRENT_MONTH:return{...t,currentMonth:e.payload};case ce.SET_SELECTED_VENUE:return{...t,selectedVenue:e.payload};case ce.SET_IS_AUTHENTICATED:return{...t,isAuthenticated:e.payload};case ce.SET_USERS_DATA:return{...t,usersData:e.payload};case ce.SET_MESSAGES_DATA:return{...t,messagesData:e.payload};case ce.SET_MESSAGE_GROUPS:return{...t,messageGroups:e.payload};case ce.ADD_MESSAGE:return{...t,messagesData:[...t.messagesData,e.payload]};case ce.SET_CURRENT_USER:return{...t,currentUser:e.payload};case ce.SET_SELECTED_GROUP:return{...t,selectedGroup:e.payload};case ce.SET_TASKS_DATA:return{...t,tasksData:e.payload};case ce.ADD_TASK:return{...t,tasksData:[e.payload,...t.tasksData]};case ce.UPDATE_TASK:return{...t,tasksData:t.tasksData.map(r=>r.id===e.payload.id?e.payload:r)};case ce.DELETE_TASK:return{...t,tasksData:t.tasksData.filter(r=>r.id!==e.payload)};case ce.SET_TASK_COMMENTS:return{...t,taskComments:e.payload};case ce.ADD_TASK_COMMENT:return{...t,taskComments:[e.payload,...t.taskComments]};case ce.SET_SELECTED_TASK:return{...t,selectedTask:e.payload};case ce.SET_SALES_ANALYSIS_DATA:return{...t,salesAnalysisData:e.payload};case ce.SET_SALES_ANALYSIS_STATS:return{...t,salesAnalysisStats:e.payload};default:return t}}const Wk=k.createContext();function OF({children:t}){const[e,r]=k.useReducer(kF,CF),n=async()=>{try{const[z,K]=await Promise.all([fe.getUsers(),fe.getMessageGroups()]);z.success&&r({type:ce.SET_USERS_DATA,payload:z.data}),K.success&&r({type:ce.SET_MESSAGE_GROUPS,payload:K.data})}catch(z){console.error("Failed to load staff and groups data:",z)}};k.useEffect(()=>{setTimeout(()=>{i()},100)},[]),k.useEffect(()=>{a()},[e.currentSheet]);const i=async()=>{r({type:ce.SET_LOADING,payload:!0});try{const z=await fe.init();if(r({type:ce.SET_IS_AUTHENTICATED,payload:z}),z){const K=new Promise((ee,q)=>setTimeout(()=>q(new Error("Data loading timeout")),1e4));try{await Promise.race([Promise.all([a(),s(),o()]),K]),n(),C()}catch(ee){console.warn("Data loading timed out, continuing with app:",ee)}}}catch(z){console.error("Failed to initialize app:",z),r({type:ce.SET_ERROR,payload:z.message})}finally{r({type:ce.SET_LOADING,payload:!1})}},a=async()=>{try{const z="trailer_history",K=await fe.readTable(z);if(K.success){const ee=K.data.map(re=>Yd(re,e.currentSheet)),q=EF(ee);r({type:ce.SET_SALES_DATA,payload:q})}else r({type:ce.SET_ERROR,payload:K.error})}catch(z){r({type:ce.SET_ERROR,payload:z.message})}},s=async()=>{try{const z=await fe.readTable("venues");if(z.success){const K=z.data.map(ee=>ud(ee));r({type:ce.SET_VENUES_DATA,payload:K})}else r({type:ce.SET_ERROR,payload:z.error})}catch(z){r({type:ce.SET_ERROR,payload:z.message})}},o=async()=>{try{const z=await fe.readTable("staff");if(z.success){const K=z.data.map(ee=>D_(ee));r({type:ce.SET_STAFF_DATA,payload:K})}else{const K=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:ce.SET_STAFF_DATA,payload:K})}}catch{const K=[{id:1,name:"John Smith",email:"john@scrubshop.com",phone:"",role:"Manager",status:"Active",hireDate:"",notes:""},{id:2,name:"Jane Doe",email:"jane@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:3,name:"Mike Johnson",email:"mike@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""},{id:4,name:"David Wilson",email:"david@scrubshop.com",phone:"",role:"Worker",status:"Active",hireDate:"",notes:""}];r({type:ce.SET_STAFF_DATA,payload:K})}},l=z=>{r({type:ce.SET_CURRENT_SHEET,payload:z})},u=async z=>{try{const K="trailer_history",ee=Yd(z,e.currentSheet),q=await fe.addRow(K,ee);if(q.success){const re=Yd(q.data,e.currentSheet);return r({type:ce.ADD_SALES_ENTRY,payload:re}),{success:!0}}else return{success:!1,error:q.error}}catch(K){return{success:!1,error:K.message}}},d=async(z,K)=>{try{const ee=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",q=await fe.updateRow(ee,z,K);if(q.success){const re={...K,id:z};return r({type:ce.UPDATE_SALES_ENTRY,payload:re}),{success:!0}}else return{success:!1,error:q.error}}catch(ee){return{success:!1,error:ee.message}}},f=async z=>{try{const K=e.currentSheet==="TRAILER_HISTORY"?"trailer_history":"camper_history",ee=await fe.deleteRow(K,z);return ee.success?(r({type:ce.DELETE_SALES_ENTRY,payload:z}),{success:!0}):{success:!1,error:ee.error}}catch(K){return{success:!1,error:K.message}}},h=async z=>{try{const K=ud(z),ee=await fe.addRow("venues",K);if(ee.success){const q=ud(ee.data);return r({type:ce.ADD_VENUE_ENTRY,payload:q}),{success:!0}}else return{success:!1,error:ee.error}}catch(K){return{success:!1,error:K.message}}},p=async(z,K)=>{try{const ee=ud(K),q=await fe.updateRow("venues",z,ee);if(q.success){const re={...K,id:z};return r({type:ce.UPDATE_VENUE_ENTRY,payload:re}),{success:!0}}else return{success:!1,error:q.error}}catch(ee){return{success:!1,error:ee.message}}},m=async z=>{try{const K=await fe.deleteRow("venues",z);return K.success?(r({type:ce.DELETE_VENUE_ENTRY,payload:z}),{success:!0}):{success:!1,error:K.error}}catch(K){return{success:!1,error:K.message}}},g=async z=>{try{const K=P_(z,!0),ee=await fe.addRow("staff",K);if(ee.success){const q=D_(ee.data);return r({type:ce.ADD_STAFF_ENTRY,payload:q}),{success:!0}}else return{success:!1,error:ee.error}}catch(K){return{success:!1,error:K.message}}},v=async(z,K)=>{try{const ee=P_(K,!1),q=await fe.updateRow("staff",z,ee);if(q.success){const re={...K,id:z};return r({type:ce.UPDATE_STAFF_ENTRY,payload:re}),{success:!0}}else return{success:!1,error:q.error}}catch(ee){return{success:!1,error:ee.message}}},x=async z=>{try{const K=await fe.deleteRow("staff",z);return K.success?(r({type:ce.DELETE_STAFF_ENTRY,payload:z}),{success:!0}):{success:!1,error:K.error}}catch(K){return{success:!1,error:K.message}}},y=z=>{r({type:ce.SET_CURRENT_MONTH,payload:z})},b=z=>{r({type:ce.SET_SELECTED_VENUE,payload:z})},S=()=>{r({type:ce.SET_ERROR,payload:null})},w=z=>{r({type:ce.SET_IS_AUTHENTICATED,payload:z})},_=async z=>{try{if(z){const K=await fe.init();return r({type:ce.SET_IS_AUTHENTICATED,payload:K}),K}else return r({type:ce.SET_IS_AUTHENTICATED,payload:!1}),!0}catch(K){return console.error("Supabase connection toggle error:",K),r({type:ce.SET_IS_AUTHENTICATED,payload:!1}),!1}},E=()=>e.staffData.filter(z=>z.status==="Active"),j=async z=>{try{const K=await fe.getMessages(z);if(K.success){const ee=K.data.map(q=>{const re=e.usersData.find(ie=>ie.id===q.sender_id);return{...q,sender:re?{id:re.id,name:re.name,email:re.email}:{id:q.sender_id,name:"Unknown User",email:"unknown@scrubshop.com"}}});r({type:ce.SET_MESSAGES_DATA,payload:ee})}}catch(K){console.error("Failed to load messages:",K)}},A=async z=>{var K,ee;try{const q=await fe.sendMessage(z);if(q.success){const re={...q.data,sender:{id:z.sender_id,name:((K=e.currentUser)==null?void 0:K.name)||"Unknown User",email:((ee=e.currentUser)==null?void 0:ee.email)||"unknown@scrubshop.com"}};return r({type:ce.ADD_MESSAGE,payload:re}),{success:!0}}else return{success:!1,error:q.error}}catch(q){return{success:!1,error:q.message}}},T=z=>{r({type:ce.SET_CURRENT_USER,payload:z})},O=z=>{r({type:ce.SET_SELECTED_GROUP,payload:z})},C=async()=>{try{const z=await fe.getTasks();z.success&&r({type:ce.SET_TASKS_DATA,payload:z.data})}catch(z){console.error("Failed to load tasks:",z)}},R=async z=>{try{const K=await fe.createTask(z);return K.success?(r({type:ce.ADD_TASK,payload:K.data}),{success:!0}):{success:!1,error:K.error}}catch(K){return{success:!1,error:K.message}}},F=async(z,K)=>{try{const ee=await fe.updateTask(z,K);return ee.success?(r({type:ce.UPDATE_TASK,payload:{id:z,...K}}),{success:!0}):{success:!1,error:ee.error}}catch(ee){return{success:!1,error:ee.message}}},H=async z=>{try{const K=await fe.deleteTask(z);return K.success?(r({type:ce.DELETE_TASK,payload:z}),{success:!0}):{success:!1,error:K.error}}catch(K){return{success:!1,error:K.message}}},V=async z=>{try{const K=await fe.getTaskComments(z);K.success&&r({type:ce.SET_TASK_COMMENTS,payload:K.data})}catch(K){console.error("Failed to load task comments:",K)}},D=async z=>{try{const K=await fe.addTaskComment(z);return K.success?(r({type:ce.ADD_TASK_COMMENT,payload:K.data}),{success:!0}):{success:!1,error:K.error}}catch(K){return{success:!1,error:K.message}}},P=z=>{r({type:ce.SET_SELECTED_TASK,payload:z})},L=async()=>{try{const z=await fe.getSalesAnalysisData();z.success&&r({type:ce.SET_SALES_ANALYSIS_DATA,payload:z.data})}catch(z){console.error("Failed to load sales analysis data:",z)}},$=async()=>{try{const z=await fe.getSalesAnalysisStats();z.success&&r({type:ce.SET_SALES_ANALYSIS_STATS,payload:z.data})}catch(z){console.error("Failed to load sales analysis stats:",z)}},B=U.useCallback(async z=>{try{let K=z.isWorkDay?"WORK DAY":z.venue||"";if(z.isWorkDay&&z.workers&&z.workers.length>0){const re=z.workers.join(","),ie=z.hours||"0";K=`WORK DAY|${re}|${ie}`}const ee={date:z.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:K,Store:z.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},q=await fe.addRow("trailer_history",ee);return q.success?{success:!0,data:{id:q.data.id,title:z.title,date:z.date,backgroundColor:z.isWorkDay?"#fefce8":"#dcfce7",borderColor:z.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:z.isWorkDay?"workday":"sale",workers:z.workers,worker:z.workers.join(", "),hours:z.hours,venueId:z.venueId,venue:e.venuesData.find(ie=>ie.id===z.venueId)}}}:{success:!1,error:q.error}}catch(K){return{success:!1,error:K.message}}},[e.currentSheet,e.venuesData]),G=U.useCallback(async(z,K)=>{try{let ee=K.isWorkDay?"WORK DAY":K.venue||"";if(K.isWorkDay&&K.workers&&K.workers.length>0){const ie=K.workers.join(","),N=K.hours||"0";ee=`WORK DAY|${ie}|${N}`}const q={date:K.date,status:"Confirmed",sales_tax:0,net_sales:0,gross_sales:0,common_venue_name:ee,Store:K.isWorkDay?99:e.currentSheet==="TRAILER_HISTORY"?5:7},re=await fe.updateRow("trailer_history",z,q);return re.success?{success:!0,data:{id:z,title:K.title,date:K.date,backgroundColor:K.isWorkDay?"#fefce8":"#dcfce7",borderColor:K.isWorkDay?"#fde047":"#22c55e",extendedProps:{type:K.isWorkDay?"workday":"sale",workers:K.workers,worker:K.workers.join(", "),hours:K.hours,venueId:K.venueId,venue:e.venuesData.find(N=>N.id===K.venueId)}}}:{success:!1,error:re.error}}catch(ee){return{success:!1,error:ee.message}}},[e.currentSheet,e.venuesData]),Y=U.useCallback(async z=>{try{const K=await fe.deleteRow("trailer_history",z);return K.success?{success:!0}:{success:!1,error:K.error}}catch(K){return{success:!1,error:K.message}}},[]),oe=U.useCallback(async()=>{try{const z=await fe.readTable("trailer_history",{filters:{Store:99}});return z.success?{success:!0,data:z.data.map(ee=>{let q=[],re="";if(ee.common_venue_name.startsWith("WORK DAY|")){const ie=ee.common_venue_name.split("|");ie.length>=3&&(q=ie[1].split(",").filter(N=>N.trim()!==""),re=ie[2]||"")}return{id:ee.id,title:"Work Day",date:ee.date,backgroundColor:"#fefce8",borderColor:"#fde047",extendedProps:{type:"workday",workers:q,worker:q.join(", "),hours:re,venueId:null,venue:null}}})}:{success:!1,error:z.error}}catch(z){return{success:!1,error:z.message}}},[]),ue={...e,workers:E(),supabaseAPI:fe,setCurrentSheet:l,addSalesEntry:u,updateSalesEntry:d,deleteSalesEntry:f,addVenueEntry:h,updateVenueEntry:p,deleteVenueEntry:m,addStaffEntry:g,updateStaffEntry:v,deleteStaffEntry:x,setCurrentMonth:y,setSelectedVenue:b,clearError:S,loadSalesData:a,loadVenuesData:s,loadStaffData:o,setIsAuthenticated:w,toggleSupabaseConnection:_,loadStaffAndGroups:n,loadMessages:j,sendMessage:A,setCurrentUser:T,setSelectedGroup:O,loadTasks:C,addTask:R,updateTask:F,deleteTask:H,loadTaskComments:V,addTaskComment:D,setSelectedTask:P,loadSalesAnalysisData:L,loadSalesAnalysisStats:$,addCalendarEvent:B,updateCalendarEvent:G,deleteCalendarEvent:Y,loadCalendarEvents:oe};return c.jsx(Wk.Provider,{value:ue,children:t})}function qt(){const t=k.useContext(Wk);if(!t)throw new Error("useApp must be used within an AppProvider");return t}var DF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MF=(t,e)=>{const r=k.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>k.createElement("svg",{ref:u,...DF,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${PF(t)}`,...l},[...e.map(([d,f])=>k.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var je=MF;const ny=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),RF=je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Kd=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Mc=je("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),tb=je("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Cr=je("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),M_=je("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),iy=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),IF=je("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ac=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),rb=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),nb=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ca=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Tn=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),$F=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Vk=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ay=je("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),LF=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Nn=je("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),FF=je("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),BF=je("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),UF=je("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),HF=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bn=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),zF=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),fs=je("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),WF=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ua=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),VF=je("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),ib=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),GF=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qF=je("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Pf=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),YF=je("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Gk=je("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),da=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),vo=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sy=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Za=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Dn=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),KF=je("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Rc=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qk=je("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Yk(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Yk(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function QF(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Yk(t))&&(n&&(n+=" "),n+=e);return n}function XF(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=Kk(e))&&(n&&(n+=" "),n+=r);return n}function Kk(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=Kk(t[n]))&&(r&&(r+=" "),r+=e);return r}var ab="-";function ZF(t){var e=eB(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(o){var l=o.split(ab);return l[0]===""&&l.length!==1&&l.shift(),Qk(l,e)||JF(o)}function s(o,l){var u=r[o]||[];return l&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:a,getConflictingClassGroupIds:s}}function Qk(t,e){var s;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?Qk(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(ab);return(s=e.validators.find(function(o){var l=o.validator;return l(a)}))==null?void 0:s.classGroupId}}var R_=/^\[(.+)\]$/;function JF(t){if(R_.test(t)){var e=R_.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function eB(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=rB(Object.entries(t.classGroups),r);return i.forEach(function(a){var s=a[0],o=a[1];oy(o,n,s,e)}),n}function oy(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:I_(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(tB(i)){oy(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(s){var o=s[0],l=s[1];oy(l,I_(e,o),r,n)})})}function I_(t,e){var r=t;return e.split(ab).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function tB(t){return t.isThemeGetter}function rB(t,e){return e?t.map(function(r){var n=r[0],i=r[1],a=i.map(function(s){return typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[e+l,u]})):s});return[n,a]}):t}function nB(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(a,s){r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(s){var o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set:function(s,o){r.has(s)?r.set(s,o):i(s,o)}}}var Xk="!";function iB(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(s){for(var o=[],l=0,u=0,d,f=0;f<s.length;f++){var h=s[f];if(l===0){if(h===n&&(r||s.slice(f,f+i)===e)){o.push(s.slice(u,f)),u=f+i;continue}if(h==="/"){d=f;continue}}h==="["?l++:h==="]"&&l--}var p=o.length===0?s:s.substring(u),m=p.startsWith(Xk),g=m?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}}}function aB(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function sB(t){return{cache:nB(t.cacheSize),splitModifiers:iB(t),...ZF(t)}}var oB=/\s+/;function lB(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(oB).map(function(s){var o=r(s),l=o.modifiers,u=o.hasImportantModifier,d=o.baseClassName,f=o.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),p=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:s};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:s};p=!1}var m=aB(l).join(":"),g=u?m+Xk:m;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:s,hasPostfixModifier:p}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,d=o+l;return a.has(d)?!1:(a.add(d),i(l,u).forEach(function(f){return a.add(o+f)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function cB(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,a,s=o;function o(u){var d=e[0],f=e.slice(1),h=f.reduce(function(p,m){return m(p)},d());return n=sB(h),i=n.cache.get,a=n.cache.set,s=l,l(u)}function l(u){var d=i(u);if(d)return d;var f=lB(u,n);return a(u,f),f}return function(){return s(XF.apply(null,arguments))}}function st(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var Zk=/^\[(?:([a-z-]+):)?(.+)\]$/i,uB=/^\d+\/\d+$/,dB=new Set(["px","full","screen"]),fB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pB=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function nn(t){return Ia(t)||dB.has(t)||uB.test(t)||ly(t)}function ly(t){return hs(t,"length",bB)}function mB(t){return hs(t,"size",Jk)}function gB(t){return hs(t,"position",Jk)}function vB(t){return hs(t,"url",wB)}function dd(t){return hs(t,"number",Ia)}function Ia(t){return!Number.isNaN(Number(t))}function yB(t){return t.endsWith("%")&&Ia(t.slice(0,-1))}function El(t){return $_(t)||hs(t,"number",$_)}function Pe(t){return Zk.test(t)}function jl(){return!0}function bi(t){return fB.test(t)}function xB(t){return hs(t,"",SB)}function hs(t,e,r){var n=Zk.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function bB(t){return hB.test(t)}function Jk(){return!1}function wB(t){return t.startsWith("url(")}function $_(t){return Number.isInteger(Number(t))}function SB(t){return pB.test(t)}function _B(){var t=st("colors"),e=st("spacing"),r=st("blur"),n=st("brightness"),i=st("borderColor"),a=st("borderRadius"),s=st("borderSpacing"),o=st("borderWidth"),l=st("contrast"),u=st("grayscale"),d=st("hueRotate"),f=st("invert"),h=st("gap"),p=st("gradientColorStops"),m=st("gradientColorStopPositions"),g=st("inset"),v=st("margin"),x=st("opacity"),y=st("padding"),b=st("saturate"),S=st("scale"),w=st("sepia"),_=st("skew"),E=st("space"),j=st("translate"),A=function(){return["auto","contain","none"]},T=function(){return["auto","hidden","clip","visible","scroll"]},O=function(){return["auto",Pe,e]},C=function(){return[Pe,e]},R=function(){return["",nn]},F=function(){return["auto",Ia,Pe]},H=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},D=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},L=function(){return["","0",Pe]},$=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},B=function(){return[Ia,dd]},G=function(){return[Ia,Pe]};return{cacheSize:500,theme:{colors:[jl],spacing:[nn],blur:["none","",bi,Pe],brightness:B(),borderColor:[t],borderRadius:["none","","full",bi,Pe],borderSpacing:C(),borderWidth:R(),contrast:B(),grayscale:L(),hueRotate:G(),invert:L(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[yB,ly],inset:O(),margin:O(),opacity:B(),padding:C(),saturate:B(),scale:B(),sepia:L(),skew:G(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[bi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(H(),[Pe])}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",El]}],"grid-cols":[{"grid-cols":[jl]}],"col-start-end":[{col:["auto",{span:["full",El]},Pe]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[jl]}],"row-start-end":[{row:["auto",{span:[El]},Pe]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Pe,e]}],"min-w":[{"min-w":["min","max","fit",Pe,nn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[bi]},bi,Pe]}],h:[{h:[Pe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Pe,nn]}],"max-h":[{"max-h":[Pe,e,"min","max","fit"]}],"font-size":[{text:["base",bi,ly]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dd]}],"font-family":[{font:[jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Ia,dd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pe,nn]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",nn]}],"underline-offset":[{"underline-offset":["auto",Pe,nn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(H(),[gB])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[Pe,nn]}],"outline-w":[{outline:[nn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bi,xB]}],"shadow-color":[{shadow:[jl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":D()}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",bi,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[El,Pe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nn,dd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var EB=cB(_B);function He(...t){return EB(QF(t))}const jB=()=>{const{isAuthenticated:t,toggleSupabaseConnection:e,loading:r}=qt(),[n,i]=k.useState(!1),a=async()=>{i(!0);try{t?await e(!1):await e(!0)}catch{}finally{i(!1)}};return c.jsx("div",{className:"flex items-center",children:c.jsx("button",{onClick:a,disabled:n||r,className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",title:t?"Click to disconnect from Supabase":"Click to connect to Supabase",children:c.jsx("div",{className:`w-3 h-3 rounded-full transition-colors duration-200 ${n?"bg-yellow-500 animate-pulse":t?"bg-green-500":"bg-red-500"}`})})})},Mt={MANAGER:"Manager",WORKER:"Worker"},AB={"/dashboard":[Mt.MANAGER,Mt.WORKER],"/tasks":[Mt.MANAGER,Mt.WORKER],"/messages":[Mt.MANAGER,Mt.WORKER],"/sales-analysis":[Mt.MANAGER],"/scheduler":[Mt.MANAGER,Mt.WORKER],"/daily-sales":[Mt.MANAGER],"/venues":[Mt.MANAGER,Mt.WORKER],"/calendar":[Mt.MANAGER,Mt.WORKER],"/bonuses":[Mt.MANAGER],"/staff":[Mt.MANAGER],"/admin/sales-upload":[Mt.MANAGER]},TB=(t,e)=>{if(!t||!t.role)return!1;const r=AB[e];return r?r.includes(t.role):!1},ng=(t,e)=>e?t.filter(r=>TB(e,r.href)):[],fd=t=>t&&t.role===Mt.MANAGER,NB=()=>{const t=Qo(),{currentSheet:e,setCurrentSheet:r,currentUser:n,setCurrentUser:i,staffData:a}=qt(),[s,o]=k.useState(!1),[l,u]=k.useState(!1),[d,f]=k.useState(!1),h=k.useRef(null),p=k.useRef(null),m=k.useRef(null);k.useEffect(()=>{const E=j=>{h.current&&!h.current.contains(j.target)&&o(!1),p.current&&!p.current.contains(j.target)&&u(!1),m.current&&!m.current.contains(j.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const g=E=>E==="/"?t.pathname==="/":t.pathname.startsWith(E),v=E=>{const j=a.find(A=>A.id===parseInt(E));i(j),o(!1)},x=[{name:"Dashboard",href:"/dashboard",icon:Mc},{name:"Tasks",href:"/tasks",icon:IF},{name:"Messages",href:"/messages",icon:zF},{name:"Sales Analysis",href:"/sales-analysis",icon:vo},{name:"Scheduler",href:"/scheduler",icon:ca}],y=[{name:"Daily Sales",href:"/daily-sales",icon:Mc},{name:"Venues",href:"/venues",icon:bn},{name:"Calendar",href:"/calendar",icon:Cr},{name:"Bonuses",href:"/bonuses",icon:vo}],b=[{name:"Staff",href:"/staff",icon:Dn},{name:"Sales Upload",href:"/admin/sales-upload",icon:sy}],S=ng(x,n),w=ng(y,n),_=ng(b,n);return c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-secondary-200 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"Scrub Shop Road App"})}),c.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[S.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g(E.href)?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)}),w.length>0&&c.jsxs("div",{className:"relative",ref:p,onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=p.current)!=null&&E.matches(":hover")||u(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/daily-sales")||g("/venues")||g("/calendar")||g("/bonuses")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(M_,{className:"w-4 h-4 mr-2"}),"ROAD",c.jsx(ac,{className:"w-4 h-4 ml-1"})]}),l&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>u(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=p.current)!=null&&E.matches(":hover")||u(!1)},200)},children:w.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(E.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)})})]}),_.length>0&&c.jsxs("div",{className:"relative",ref:m,onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=m.current)!=null&&E.matches(":hover")||f(!1)},300)},children:[c.jsxs("button",{className:He("flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200",g("/staff")||g("/admin/sales-upload")?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900 hover:bg-secondary-50"),children:[c.jsx(Pf,{className:"w-4 h-4 mr-2"}),"ADMIN",c.jsx(ac,{className:"w-4 h-4 ml-1"})]}),d&&c.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",onMouseEnter:()=>f(!0),onMouseLeave:()=>{setTimeout(()=>{var E;(E=m.current)!=null&&E.matches(":hover")||f(!1)},200)},children:_.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex items-center px-3 py-2 text-sm hover:bg-gray-100 transition-colors",g(E.href)?"bg-primary-50 text-primary-700":"text-gray-700"),children:[c.jsx(j,{className:"w-4 h-4 mr-2"}),E.name]},E.name)})})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(jB,{}),n&&c.jsx("div",{className:"hidden sm:flex items-center px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:c.jsx("span",{className:"font-medium",children:n.role||"No Role"})}),c.jsxs("div",{className:"relative",ref:h,children:[c.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[c.jsx(Za,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:n?`${n.name} (${n.role||"No Role"})`:"Select User"}),c.jsx(ac,{className:"w-4 h-4"})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Select your name"}),a.map(E=>c.jsx("button",{onClick:()=>v(E.id),className:He("w-full text-left px-3 py-2 text-sm hover:bg-gray-100 transition-colors",(n==null?void 0:n.id)===E.id?"bg-primary-50 text-primary-700":"text-gray-700"),children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:E.name}),c.jsx("div",{className:"text-xs text-gray-500",children:E.role||"No Role"})]})},E.id))]})]})]})]}),c.jsxs("div",{className:"md:hidden",children:[c.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-secondary-200",children:[S.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)}),w.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(M_,{className:"w-4 h-4 mb-1"}),"ROAD"]}),_.length>0&&c.jsxs("div",{className:"flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200 text-secondary-600",children:[c.jsx(Pf,{className:"w-4 h-4 mb-1"}),"ADMIN"]})]}),w.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:w.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)})})}),_.length>0&&c.jsx("div",{className:"md:hidden border-t border-secondary-200 py-2",children:c.jsx("div",{className:"flex items-center justify-between",children:_.map(E=>{const j=E.icon;return c.jsxs(Ss,{to:E.href,className:He("flex flex-col items-center px-2 py-1 text-xs font-medium rounded transition-colors duration-200",g(E.href)?"text-primary-700 bg-primary-50":"text-secondary-600 hover:text-secondary-900"),children:[c.jsx(j,{className:"w-4 h-4 mb-1"}),E.name]},E.name)})})})]})]})})};function eO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=eO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=eO(t))&&(n&&(n+=" "),n+=e);return n}var CB=Array.isArray,Sr=CB,kB=typeof zt=="object"&&zt&&zt.Object===Object&&zt,tO=kB,OB=tO,DB=typeof self=="object"&&self&&self.Object===Object&&self,PB=OB||DB||Function("return this")(),$n=PB,MB=$n,RB=MB.Symbol,Nu=RB,L_=Nu,rO=Object.prototype,IB=rO.hasOwnProperty,$B=rO.toString,Al=L_?L_.toStringTag:void 0;function LB(t){var e=IB.call(t,Al),r=t[Al];try{t[Al]=void 0;var n=!0}catch{}var i=$B.call(t);return n&&(e?t[Al]=r:delete t[Al]),i}var FB=LB,BB=Object.prototype,UB=BB.toString;function HB(t){return UB.call(t)}var zB=HB,F_=Nu,WB=FB,VB=zB,GB="[object Null]",qB="[object Undefined]",B_=F_?F_.toStringTag:void 0;function YB(t){return t==null?t===void 0?qB:GB:B_&&B_ in Object(t)?WB(t):VB(t)}var hi=YB;function KB(t){return t!=null&&typeof t=="object"}var pi=KB,QB=hi,XB=pi,ZB="[object Symbol]";function JB(t){return typeof t=="symbol"||XB(t)&&QB(t)==ZB}var Jo=JB,eU=Sr,tU=Jo,rU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nU=/^\w*$/;function iU(t,e){if(eU(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||tU(t)?!0:nU.test(t)||!rU.test(t)||e!=null&&t in Object(e)}var sb=iU;function aU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fa=aU;const el=Je(fa);var sU=hi,oU=fa,lU="[object AsyncFunction]",cU="[object Function]",uU="[object GeneratorFunction]",dU="[object Proxy]";function fU(t){if(!oU(t))return!1;var e=sU(t);return e==cU||e==uU||e==lU||e==dU}var ob=fU;const Ce=Je(ob);var hU=$n,pU=hU["__core-js_shared__"],mU=pU,ig=mU,U_=function(){var t=/[^.]+$/.exec(ig&&ig.keys&&ig.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gU(t){return!!U_&&U_ in t}var vU=gU,yU=Function.prototype,xU=yU.toString;function bU(t){if(t!=null){try{return xU.call(t)}catch{}try{return t+""}catch{}}return""}var nO=bU,wU=ob,SU=vU,_U=fa,EU=nO,jU=/[\\^$.*+?()[\]{}|]/g,AU=/^\[object .+?Constructor\]$/,TU=Function.prototype,NU=Object.prototype,CU=TU.toString,kU=NU.hasOwnProperty,OU=RegExp("^"+CU.call(kU).replace(jU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DU(t){if(!_U(t)||SU(t))return!1;var e=wU(t)?OU:AU;return e.test(EU(t))}var PU=DU;function MU(t,e){return t==null?void 0:t[e]}var RU=MU,IU=PU,$U=RU;function LU(t,e){var r=$U(t,e);return IU(r)?r:void 0}var ps=LU,FU=ps,BU=FU(Object,"create"),_p=BU,H_=_p;function UU(){this.__data__=H_?H_(null):{},this.size=0}var HU=UU;function zU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var WU=zU,VU=_p,GU="__lodash_hash_undefined__",qU=Object.prototype,YU=qU.hasOwnProperty;function KU(t){var e=this.__data__;if(VU){var r=e[t];return r===GU?void 0:r}return YU.call(e,t)?e[t]:void 0}var QU=KU,XU=_p,ZU=Object.prototype,JU=ZU.hasOwnProperty;function e6(t){var e=this.__data__;return XU?e[t]!==void 0:JU.call(e,t)}var t6=e6,r6=_p,n6="__lodash_hash_undefined__";function i6(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=r6&&e===void 0?n6:e,this}var a6=i6,s6=HU,o6=WU,l6=QU,c6=t6,u6=a6;function tl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tl.prototype.clear=s6;tl.prototype.delete=o6;tl.prototype.get=l6;tl.prototype.has=c6;tl.prototype.set=u6;var d6=tl;function f6(){this.__data__=[],this.size=0}var h6=f6;function p6(t,e){return t===e||t!==t&&e!==e}var lb=p6,m6=lb;function g6(t,e){for(var r=t.length;r--;)if(m6(t[r][0],e))return r;return-1}var Ep=g6,v6=Ep,y6=Array.prototype,x6=y6.splice;function b6(t){var e=this.__data__,r=v6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():x6.call(e,r,1),--this.size,!0}var w6=b6,S6=Ep;function _6(t){var e=this.__data__,r=S6(e,t);return r<0?void 0:e[r][1]}var E6=_6,j6=Ep;function A6(t){return j6(this.__data__,t)>-1}var T6=A6,N6=Ep;function C6(t,e){var r=this.__data__,n=N6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var k6=C6,O6=h6,D6=w6,P6=E6,M6=T6,R6=k6;function rl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rl.prototype.clear=O6;rl.prototype.delete=D6;rl.prototype.get=P6;rl.prototype.has=M6;rl.prototype.set=R6;var jp=rl,I6=ps,$6=$n,L6=I6($6,"Map"),cb=L6,z_=d6,F6=jp,B6=cb;function U6(){this.size=0,this.__data__={hash:new z_,map:new(B6||F6),string:new z_}}var H6=U6;function z6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var W6=z6,V6=W6;function G6(t,e){var r=t.__data__;return V6(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ap=G6,q6=Ap;function Y6(t){var e=q6(this,t).delete(t);return this.size-=e?1:0,e}var K6=Y6,Q6=Ap;function X6(t){return Q6(this,t).get(t)}var Z6=X6,J6=Ap;function eH(t){return J6(this,t).has(t)}var tH=eH,rH=Ap;function nH(t,e){var r=rH(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var iH=nH,aH=H6,sH=K6,oH=Z6,lH=tH,cH=iH;function nl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}nl.prototype.clear=aH;nl.prototype.delete=sH;nl.prototype.get=oH;nl.prototype.has=lH;nl.prototype.set=cH;var ub=nl,iO=ub,uH="Expected a function";function db(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(uH);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=t.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(db.Cache||iO),r}db.Cache=iO;var aO=db;const dH=Je(aO);var fH=aO,hH=500;function pH(t){var e=fH(t,function(n){return r.size===hH&&r.clear(),n}),r=e.cache;return e}var mH=pH,gH=mH,vH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yH=/\\(\\)?/g,xH=gH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vH,function(r,n,i,a){e.push(i?a.replace(yH,"$1"):n||r)}),e}),bH=xH;function wH(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var fb=wH,W_=Nu,SH=fb,_H=Sr,EH=Jo,jH=1/0,V_=W_?W_.prototype:void 0,G_=V_?V_.toString:void 0;function sO(t){if(typeof t=="string")return t;if(_H(t))return SH(t,sO)+"";if(EH(t))return G_?G_.call(t):"";var e=t+"";return e=="0"&&1/t==-jH?"-0":e}var AH=sO,TH=AH;function NH(t){return t==null?"":TH(t)}var oO=NH,CH=Sr,kH=sb,OH=bH,DH=oO;function PH(t,e){return CH(t)?t:kH(t,e)?[t]:OH(DH(t))}var lO=PH,MH=Jo,RH=1/0;function IH(t){if(typeof t=="string"||MH(t))return t;var e=t+"";return e=="0"&&1/t==-RH?"-0":e}var Tp=IH,$H=lO,LH=Tp;function FH(t,e){e=$H(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[LH(e[r++])];return r&&r==n?t:void 0}var hb=FH,BH=hb;function UH(t,e,r){var n=t==null?void 0:BH(t,e);return n===void 0?r:n}var cO=UH;const Yr=Je(cO);function HH(t){return t==null}var zH=HH;const Oe=Je(zH);var WH=hi,VH=Sr,GH=pi,qH="[object String]";function YH(t){return typeof t=="string"||!VH(t)&&GH(t)&&WH(t)==qH}var KH=YH;const Ja=Je(KH);var uO={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb=Symbol.for("react.element"),mb=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),Op=Symbol.for("react.provider"),Dp=Symbol.for("react.context"),QH=Symbol.for("react.server_context"),Pp=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),$p=Symbol.for("react.lazy"),XH=Symbol.for("react.offscreen"),dO;dO=Symbol.for("react.module.reference");function en(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pb:switch(t=t.type,t){case Np:case kp:case Cp:case Mp:case Rp:return t;default:switch(t=t&&t.$$typeof,t){case QH:case Dp:case Pp:case $p:case Ip:case Op:return t;default:return e}}case mb:return e}}}qe.ContextConsumer=Dp;qe.ContextProvider=Op;qe.Element=pb;qe.ForwardRef=Pp;qe.Fragment=Np;qe.Lazy=$p;qe.Memo=Ip;qe.Portal=mb;qe.Profiler=kp;qe.StrictMode=Cp;qe.Suspense=Mp;qe.SuspenseList=Rp;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(t){return en(t)===Dp};qe.isContextProvider=function(t){return en(t)===Op};qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pb};qe.isForwardRef=function(t){return en(t)===Pp};qe.isFragment=function(t){return en(t)===Np};qe.isLazy=function(t){return en(t)===$p};qe.isMemo=function(t){return en(t)===Ip};qe.isPortal=function(t){return en(t)===mb};qe.isProfiler=function(t){return en(t)===kp};qe.isStrictMode=function(t){return en(t)===Cp};qe.isSuspense=function(t){return en(t)===Mp};qe.isSuspenseList=function(t){return en(t)===Rp};qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Np||t===kp||t===Cp||t===Mp||t===Rp||t===XH||typeof t=="object"&&t!==null&&(t.$$typeof===$p||t.$$typeof===Ip||t.$$typeof===Op||t.$$typeof===Dp||t.$$typeof===Pp||t.$$typeof===dO||t.getModuleId!==void 0)};qe.typeOf=en;uO.exports=qe;var ZH=uO.exports,JH=hi,e5=pi,t5="[object Number]";function r5(t){return typeof t=="number"||e5(t)&&JH(t)==t5}var fO=r5;const n5=Je(fO);var i5=fO;function a5(t){return i5(t)&&t!=+t}var s5=a5;const Cu=Je(s5);var mn=function(e){return e===0?0:e>0?1:-1},$a=function(e){return Ja(e)&&e.indexOf("%")===e.length-1},le=function(e){return n5(e)&&!Cu(e)},o5=function(e){return Oe(e)},Dt=function(e){return le(e)||Ja(e)},l5=0,ku=function(e){var r=++l5;return"".concat(e||"").concat(r)},es=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!Ja(e))return n;var a;if($a(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Cu(a)&&(a=n),i&&a>r&&(a=r),a},Oi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},c5=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},hn=function(e,r){return le(e)&&le(r)?function(n){return e+n*(r-e)}:function(){return r}};function Mf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Yr(n,e))===r})}var u5=function(e,r){return le(e)&&le(r)?e-r:Ja(e)&&Ja(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ro(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}var d5=["viewBox","children"],f5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],q_=["points","pathLength"],ag={svg:d5,polygon:q_,polyline:q_},gb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),!el(n))return null;var i={};return Object.keys(n).forEach(function(a){gb.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},h5=function(e,r,n){return function(i){return e(r,n,i),null}},If=function(e,r,n){if(!el(e)||cy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];gb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=h5(s,r,n))}),i},p5=["children"],m5=["children"];function Y_(t,e){if(t==null)return{};var r=g5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}var K_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Q_=null,sg=null,vb=function t(e){if(e===Q_&&Array.isArray(sg))return sg;var r=[];return k.Children.forEach(e,function(n){Oe(n)||(ZH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),sg=r,Q_=e,r};function Kr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Jn(i)}):n=[Jn(e)],vb(t).forEach(function(i){var a=Yr(i,"type.displayName")||Yr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ar(t,e){var r=Kr(t,e);return r&&r[0]}var X_=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!le(n)||n<=0||!le(i)||i<=0)},v5=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],y5=function(e){return e&&e.type&&Ja(e.type)&&v5.indexOf(e.type)>=0},x5=function(e){return e&&uy(e)==="object"&&"clipDot"in e},b5=function(e,r,n,i){var a,s=(a=ag==null?void 0:ag[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ce(e)&&(i&&s.includes(r)||f5.includes(r))||n&&gb.includes(r)},Re=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!el(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;b5((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},dy=function t(e,r){if(e===r)return!0;var n=k.Children.count(e);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Z_(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!Z_(a,s))return!1}return!0},Z_=function(e,r){if(Oe(e)&&Oe(r))return!0;if(!Oe(e)&&!Oe(r)){var n=e.props||{},i=n.children,a=Y_(n,p5),s=r.props||{},o=s.children,l=Y_(s,m5);return i&&o?ro(a,l)&&dy(i,o):!i&&!o?ro(a,l):!1}return!1},J_=function(e,r){var n=[],i={};return vb(e).forEach(function(a,s){if(y5(a))n.push(a);else if(a){var o=Jn(a.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},w5=function(e){var r=e&&e.type;return r&&K_[r]?K_[r]:null},S5=function(e,r){return vb(r).indexOf(e)},_5=["children","width","height","viewBox","className","style","title","desc"];function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fy.apply(this,arguments)}function E5(t,e){if(t==null)return{};var r=j5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,l=t.desc,u=E5(t,_5),d=i||{width:r,height:n,x:0,y:0},f=$e("recharts-surface",a);return U.createElement("svg",fy({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,o),U.createElement("desc",null,l),e)}var A5=["children","className"];function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},py.apply(this,arguments)}function T5(t,e){if(t==null)return{};var r=N5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var St=U.forwardRef(function(t,e){var r=t.children,n=t.className,i=T5(t,A5),a=$e("recharts-layer",n);return U.createElement("g",py({className:a},Re(i,!0),{ref:e}),r)}),ei=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function C5(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var k5=C5,O5=k5;function D5(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:O5(t,e,r)}var P5=D5,M5="\\ud800-\\udfff",R5="\\u0300-\\u036f",I5="\\ufe20-\\ufe2f",$5="\\u20d0-\\u20ff",L5=R5+I5+$5,F5="\\ufe0e\\ufe0f",B5="\\u200d",U5=RegExp("["+B5+M5+L5+F5+"]");function H5(t){return U5.test(t)}var hO=H5;function z5(t){return t.split("")}var W5=z5,pO="\\ud800-\\udfff",V5="\\u0300-\\u036f",G5="\\ufe20-\\ufe2f",q5="\\u20d0-\\u20ff",Y5=V5+G5+q5,K5="\\ufe0e\\ufe0f",Q5="["+pO+"]",my="["+Y5+"]",gy="\\ud83c[\\udffb-\\udfff]",X5="(?:"+my+"|"+gy+")",mO="[^"+pO+"]",gO="(?:\\ud83c[\\udde6-\\uddff]){2}",vO="[\\ud800-\\udbff][\\udc00-\\udfff]",Z5="\\u200d",yO=X5+"?",xO="["+K5+"]?",J5="(?:"+Z5+"(?:"+[mO,gO,vO].join("|")+")"+xO+yO+")*",ez=xO+yO+J5,tz="(?:"+[mO+my+"?",my,gO,vO,Q5].join("|")+")",rz=RegExp(gy+"(?="+gy+")|"+tz+ez,"g");function nz(t){return t.match(rz)||[]}var iz=nz,az=W5,sz=hO,oz=iz;function lz(t){return sz(t)?oz(t):az(t)}var cz=lz,uz=P5,dz=hO,fz=cz,hz=oO;function pz(t){return function(e){e=hz(e);var r=dz(e)?fz(e):void 0,n=r?r[0]:e.charAt(0),i=r?uz(r,1).join(""):e.slice(1);return n[t]()+i}}var mz=pz,gz=mz,vz=gz("toUpperCase"),yz=vz;const Lp=Je(yz);function rt(t){return function(){return t}}const bO=Math.cos,$f=Math.sin,Sn=Math.sqrt,Lf=Math.PI,Fp=2*Lf,vy=Math.PI,yy=2*vy,Ea=1e-6,xz=yy-Ea;function wO(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function bz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wO;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class wz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wO:bz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-e,u=i-r,d=s-e,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Ea)if(!(Math.abs(f*l-u*d)>Ea)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-o,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan((vy-Math.acos((g+h-v)/(2*x*y)))/2),S=b/y,w=b/x;Math.abs(S-1)>Ea&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+w*l},${this._y1=r+w*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ea||Math.abs(this._y1-d)>Ea)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%yy+yy),h>xz?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ea&&this._append`A${n},${n},0,${+(h>=vy)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function yb(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new wz(e)}function xb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SO(t){this._context=t}SO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bp(t){return new SO(t)}function _O(t){return t[0]}function EO(t){return t[1]}function jO(t,e){var r=rt(!0),n=null,i=Bp,a=null,s=yb(o);t=typeof t=="function"?t:t===void 0?_O:rt(t),e=typeof e=="function"?e:e===void 0?EO:rt(e);function o(l){var u,d=(l=xb(l)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:rt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:rt(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:rt(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function hd(t,e,r){var n=null,i=rt(!0),a=null,s=Bp,o=null,l=yb(u);t=typeof t=="function"?t:t===void 0?_O:rt(+t),e=typeof e=="function"?e:rt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?EO:rt(+r);function u(f){var h,p,m,g=(f=xb(f)).length,v,x=!1,y,b=new Array(g),S=new Array(g);for(a==null&&(o=s(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(b[m],S[m]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+t(v,h,f),S[h]=+e(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):S[h]))}if(y)return o=null,y+""||null}function d(){return jO().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class AO{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Sz(t){return new AO(t,!0)}function _z(t){return new AO(t,!1)}const bb={draw(t,e){const r=Sn(e/Lf);t.moveTo(r,0),t.arc(0,0,r,0,Fp)}},Ez={draw(t,e){const r=Sn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},TO=Sn(1/3),jz=TO*2,Az={draw(t,e){const r=Sn(e/jz),n=r*TO;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Tz={draw(t,e){const r=Sn(e),n=-r/2;t.rect(n,n,r,r)}},Nz=.8908130915292852,NO=$f(Lf/10)/$f(7*Lf/10),Cz=$f(Fp/10)*NO,kz=-bO(Fp/10)*NO,Oz={draw(t,e){const r=Sn(e*Nz),n=Cz*r,i=kz*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Fp*a/5,o=bO(s),l=$f(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},og=Sn(3),Dz={draw(t,e){const r=-Sn(e/(og*3));t.moveTo(0,r*2),t.lineTo(-og*r,-r),t.lineTo(og*r,-r),t.closePath()}},Lr=-.5,Fr=Sn(3)/2,xy=1/Sn(12),Pz=(xy/2+1)*3,Mz={draw(t,e){const r=Sn(e/Pz),n=r/2,i=r*xy,a=n,s=r*xy+r,o=-a,l=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Lr*n-Fr*i,Fr*n+Lr*i),t.lineTo(Lr*a-Fr*s,Fr*a+Lr*s),t.lineTo(Lr*o-Fr*l,Fr*o+Lr*l),t.lineTo(Lr*n+Fr*i,Lr*i-Fr*n),t.lineTo(Lr*a+Fr*s,Lr*s-Fr*a),t.lineTo(Lr*o+Fr*l,Lr*l-Fr*o),t.closePath()}};function Rz(t,e){let r=null,n=yb(i);t=typeof t=="function"?t:rt(t||bb),e=typeof e=="function"?e:rt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:rt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:rt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ff(){}function Bf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function CO(t){this._context=t}CO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iz(t){return new CO(t)}function kO(t){this._context=t}kO.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $z(t){return new kO(t)}function OO(t){this._context=t}OO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lz(t){return new OO(t)}function DO(t){this._context=t}DO.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Fz(t){return new DO(t)}function e1(t){return t<0?-1:1}function t1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(e1(a)+e1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function r1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function lg(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Uf(t){this._context=t}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lg(this,this._t0,r1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lg(this,r1(this,r=t1(this,t,e)),r);break;default:lg(this,this._t0,r=t1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function PO(t){this._context=new MO(t)}(PO.prototype=Object.create(Uf.prototype)).point=function(t,e){Uf.prototype.point.call(this,e,t)};function MO(t){this._context=t}MO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Bz(t){return new Uf(t)}function Uz(t){return new PO(t)}function RO(t){this._context=t}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=n1(t),i=n1(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function n1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Hz(t){return new RO(t)}function Up(t,e){this._context=t,this._t=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function zz(t){return new Up(t,.5)}function Wz(t){return new Up(t,0)}function Vz(t){return new Up(t,1)}function yo(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function by(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Gz(t,e){return t[e]}function qz(t){const e=[];return e.key=t,e}function Yz(){var t=rt([]),e=by,r=yo,n=Gz;function i(a){var s=Array.from(t.apply(this,arguments),qz),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=xb(e(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:rt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:rt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?by:typeof a=="function"?a:rt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??yo,i):r},i}function Kz(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}yo(t,e)}}function Qz(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}yo(t,e)}}function Xz(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=t[e[m]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,yo(t,e)}}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}var Zz=["type","size","sizeType"];function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wy.apply(this,arguments)}function i1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(r),!0).forEach(function(n){Jz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jz(t,e,r){return e=eW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eW(t){var e=tW(t,"string");return Ic(e)=="symbol"?e:e+""}function tW(t,e){if(Ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rW(t,e){if(t==null)return{};var r=nW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var IO={symbolCircle:bb,symbolCross:Ez,symbolDiamond:Az,symbolSquare:Tz,symbolStar:Oz,symbolTriangle:Dz,symbolWye:Mz},iW=Math.PI/180,aW=function(e){var r="symbol".concat(Lp(e));return IO[r]||bb},sW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*iW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oW=function(e,r){IO["symbol".concat(Lp(e))]=r},wb=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,l=rW(e,Zz),u=a1(a1({},l),{},{type:n,size:a,sizeType:o}),d=function(){var v=aW(n),x=Rz().type(v).size(sW(a,o,n));return x()},f=u.className,h=u.cx,p=u.cy,m=Re(u,!0);return h===+h&&p===+p&&a===+a?U.createElement("path",wy({},m,{className:$e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};wb.registerSymbol=oW;function xo(t){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(t)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sy.apply(this,arguments)}function s1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(r),!0).forEach(function(n){$c(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LO(n.key),n)}}function uW(t,e,r){return e&&o1(t.prototype,e),r&&o1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dW(t,e,r){return e=Hf(e),fW(t,$O()?Reflect.construct(e,r||[],Hf(t).constructor):e.apply(t,r))}function fW(t,e){if(e&&(xo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hW(t)}function hW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(t)}function pW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_y(t,e)}function $c(t,e,r){return e=LO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LO(t){var e=mW(t,"string");return xo(e)=="symbol"?e:e+""}function mW(t,e){if(xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Br=32,Sb=function(t){function e(){return cW(this,e),dW(this,e,arguments)}return pW(e,t),uW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Br/2,s=Br/6,o=Br/3,l=n.inactive?i:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Br,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Br,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Br/8,"h").concat(Br,"v").concat(Br*3/4,"h").concat(-Br,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var u=lW({},n);return delete u.legendIcon,U.cloneElement(n.legendIcon,u)}return U.createElement(wb,{fill:l,cx:a,cy:a,size:Br,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Br,height:Br},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=$e($c($c({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Ce(p.value)?null:p.value;ei(!Ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return U.createElement("li",Sy({className:v,style:f,key:"legend-item-".concat(m)},If(n.props,p,m)),U.createElement(hy,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(k.PureComponent);$c(Sb,"displayName","Legend");$c(Sb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gW=jp;function vW(){this.__data__=new gW,this.size=0}var yW=vW;function xW(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var bW=xW;function wW(t){return this.__data__.get(t)}var SW=wW;function _W(t){return this.__data__.has(t)}var EW=_W,jW=jp,AW=cb,TW=ub,NW=200;function CW(t,e){var r=this.__data__;if(r instanceof jW){var n=r.__data__;if(!AW||n.length<NW-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new TW(n)}return r.set(t,e),this.size=r.size,this}var kW=CW,OW=jp,DW=yW,PW=bW,MW=SW,RW=EW,IW=kW;function il(t){var e=this.__data__=new OW(t);this.size=e.size}il.prototype.clear=DW;il.prototype.delete=PW;il.prototype.get=MW;il.prototype.has=RW;il.prototype.set=IW;var FO=il,$W="__lodash_hash_undefined__";function LW(t){return this.__data__.set(t,$W),this}var FW=LW;function BW(t){return this.__data__.has(t)}var UW=BW,HW=ub,zW=FW,WW=UW;function zf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new HW;++e<r;)this.add(t[e])}zf.prototype.add=zf.prototype.push=zW;zf.prototype.has=WW;var BO=zf;function VW(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var UO=VW;function GW(t,e){return t.has(e)}var HO=GW,qW=BO,YW=UO,KW=HO,QW=1,XW=2;function ZW(t,e,r,n,i,a){var s=r&QW,o=t.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&XW?new qW:void 0;for(a.set(t,e),a.set(e,t);++f<o;){var m=t[f],g=e[f];if(n)var v=s?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!YW(e,function(x,y){if(!KW(p,y)&&(m===x||i(m,x,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var zO=ZW,JW=$n,e8=JW.Uint8Array,t8=e8;function r8(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var n8=r8;function i8(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var _b=i8,l1=Nu,c1=t8,a8=lb,s8=zO,o8=n8,l8=_b,c8=1,u8=2,d8="[object Boolean]",f8="[object Date]",h8="[object Error]",p8="[object Map]",m8="[object Number]",g8="[object RegExp]",v8="[object Set]",y8="[object String]",x8="[object Symbol]",b8="[object ArrayBuffer]",w8="[object DataView]",u1=l1?l1.prototype:void 0,cg=u1?u1.valueOf:void 0;function S8(t,e,r,n,i,a,s){switch(r){case w8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b8:return!(t.byteLength!=e.byteLength||!a(new c1(t),new c1(e)));case d8:case f8:case m8:return a8(+t,+e);case h8:return t.name==e.name&&t.message==e.message;case g8:case y8:return t==e+"";case p8:var o=o8;case v8:var l=n&c8;if(o||(o=l8),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;n|=u8,s.set(t,e);var d=s8(o(t),o(e),n,i,a,s);return s.delete(t),d;case x8:if(cg)return cg.call(t)==cg.call(e)}return!1}var _8=S8;function E8(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var WO=E8,j8=WO,A8=Sr;function T8(t,e,r){var n=e(t);return A8(t)?n:j8(n,r(t))}var N8=T8;function C8(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var k8=C8;function O8(){return[]}var D8=O8,P8=k8,M8=D8,R8=Object.prototype,I8=R8.propertyIsEnumerable,d1=Object.getOwnPropertySymbols,$8=d1?function(t){return t==null?[]:(t=Object(t),P8(d1(t),function(e){return I8.call(t,e)}))}:M8,L8=$8;function F8(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var B8=F8,U8=hi,H8=pi,z8="[object Arguments]";function W8(t){return H8(t)&&U8(t)==z8}var V8=W8,f1=V8,G8=pi,VO=Object.prototype,q8=VO.hasOwnProperty,Y8=VO.propertyIsEnumerable,K8=f1(function(){return arguments}())?f1:function(t){return G8(t)&&q8.call(t,"callee")&&!Y8.call(t,"callee")},Eb=K8,Wf={exports:{}};function Q8(){return!1}var X8=Q8;Wf.exports;(function(t,e){var r=$n,n=X8,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Wf,Wf.exports);var GO=Wf.exports,Z8=9007199254740991,J8=/^(?:0|[1-9]\d*)$/;function eV(t,e){var r=typeof t;return e=e??Z8,!!e&&(r=="number"||r!="symbol"&&J8.test(t))&&t>-1&&t%1==0&&t<e}var jb=eV,tV=9007199254740991;function rV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tV}var Ab=rV,nV=hi,iV=Ab,aV=pi,sV="[object Arguments]",oV="[object Array]",lV="[object Boolean]",cV="[object Date]",uV="[object Error]",dV="[object Function]",fV="[object Map]",hV="[object Number]",pV="[object Object]",mV="[object RegExp]",gV="[object Set]",vV="[object String]",yV="[object WeakMap]",xV="[object ArrayBuffer]",bV="[object DataView]",wV="[object Float32Array]",SV="[object Float64Array]",_V="[object Int8Array]",EV="[object Int16Array]",jV="[object Int32Array]",AV="[object Uint8Array]",TV="[object Uint8ClampedArray]",NV="[object Uint16Array]",CV="[object Uint32Array]",lt={};lt[wV]=lt[SV]=lt[_V]=lt[EV]=lt[jV]=lt[AV]=lt[TV]=lt[NV]=lt[CV]=!0;lt[sV]=lt[oV]=lt[xV]=lt[lV]=lt[bV]=lt[cV]=lt[uV]=lt[dV]=lt[fV]=lt[hV]=lt[pV]=lt[mV]=lt[gV]=lt[vV]=lt[yV]=!1;function kV(t){return aV(t)&&iV(t.length)&&!!lt[nV(t)]}var OV=kV;function DV(t){return function(e){return t(e)}}var qO=DV,Vf={exports:{}};Vf.exports;(function(t,e){var r=tO,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(Vf,Vf.exports);var PV=Vf.exports,MV=OV,RV=qO,h1=PV,p1=h1&&h1.isTypedArray,IV=p1?RV(p1):MV,YO=IV,$V=B8,LV=Eb,FV=Sr,BV=GO,UV=jb,HV=YO,zV=Object.prototype,WV=zV.hasOwnProperty;function VV(t,e){var r=FV(t),n=!r&&LV(t),i=!r&&!n&&BV(t),a=!r&&!n&&!i&&HV(t),s=r||n||i||a,o=s?$V(t.length,String):[],l=o.length;for(var u in t)(e||WV.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||UV(u,l)))&&o.push(u);return o}var GV=VV,qV=Object.prototype;function YV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||qV;return t===r}var KV=YV;function QV(t,e){return function(r){return t(e(r))}}var KO=QV,XV=KO,ZV=XV(Object.keys,Object),JV=ZV,e7=KV,t7=JV,r7=Object.prototype,n7=r7.hasOwnProperty;function i7(t){if(!e7(t))return t7(t);var e=[];for(var r in Object(t))n7.call(t,r)&&r!="constructor"&&e.push(r);return e}var a7=i7,s7=ob,o7=Ab;function l7(t){return t!=null&&o7(t.length)&&!s7(t)}var Ou=l7,c7=GV,u7=a7,d7=Ou;function f7(t){return d7(t)?c7(t):u7(t)}var Hp=f7,h7=N8,p7=L8,m7=Hp;function g7(t){return h7(t,m7,p7)}var v7=g7,m1=v7,y7=1,x7=Object.prototype,b7=x7.hasOwnProperty;function w7(t,e,r,n,i,a){var s=r&y7,o=m1(t),l=o.length,u=m1(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in e:b7.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=o[f];var x=t[h],y=e[h];if(n)var b=s?n(y,x,h,e,t,a):n(x,y,h,t,e,a);if(!(b===void 0?x===y||i(x,y,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var S7=w7,_7=ps,E7=$n,j7=_7(E7,"DataView"),A7=j7,T7=ps,N7=$n,C7=T7(N7,"Promise"),k7=C7,O7=ps,D7=$n,P7=O7(D7,"Set"),QO=P7,M7=ps,R7=$n,I7=M7(R7,"WeakMap"),$7=I7,Ey=A7,jy=cb,Ay=k7,Ty=QO,Ny=$7,XO=hi,al=nO,g1="[object Map]",L7="[object Object]",v1="[object Promise]",y1="[object Set]",x1="[object WeakMap]",b1="[object DataView]",F7=al(Ey),B7=al(jy),U7=al(Ay),H7=al(Ty),z7=al(Ny),ja=XO;(Ey&&ja(new Ey(new ArrayBuffer(1)))!=b1||jy&&ja(new jy)!=g1||Ay&&ja(Ay.resolve())!=v1||Ty&&ja(new Ty)!=y1||Ny&&ja(new Ny)!=x1)&&(ja=function(t){var e=XO(t),r=e==L7?t.constructor:void 0,n=r?al(r):"";if(n)switch(n){case F7:return b1;case B7:return g1;case U7:return v1;case H7:return y1;case z7:return x1}return e});var W7=ja,ug=FO,V7=zO,G7=_8,q7=S7,w1=W7,S1=Sr,_1=GO,Y7=YO,K7=1,E1="[object Arguments]",j1="[object Array]",pd="[object Object]",Q7=Object.prototype,A1=Q7.hasOwnProperty;function X7(t,e,r,n,i,a){var s=S1(t),o=S1(e),l=s?j1:w1(t),u=o?j1:w1(e);l=l==E1?pd:l,u=u==E1?pd:u;var d=l==pd,f=u==pd,h=l==u;if(h&&_1(t)){if(!_1(e))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new ug),s||Y7(t)?V7(t,e,r,n,i,a):G7(t,e,l,r,n,i,a);if(!(r&K7)){var p=d&&A1.call(t,"__wrapped__"),m=f&&A1.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new ug),i(g,v,r,n,a)}}return h?(a||(a=new ug),q7(t,e,r,n,i,a)):!1}var Z7=X7,J7=Z7,T1=pi;function ZO(t,e,r,n,i){return t===e?!0:t==null||e==null||!T1(t)&&!T1(e)?t!==t&&e!==e:J7(t,e,r,n,ZO,i)}var Tb=ZO,eG=FO,tG=Tb,rG=1,nG=2;function iG(t,e,r,n){var i=r.length,a=i,s=!n;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var l=o[0],u=t[l],d=o[1];if(s&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new eG;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?tG(d,u,rG|nG,n,f):h))return!1}}return!0}var aG=iG,sG=fa;function oG(t){return t===t&&!sG(t)}var JO=oG,lG=JO,cG=Hp;function uG(t){for(var e=cG(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,lG(i)]}return e}var dG=uG;function fG(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var eD=fG,hG=aG,pG=dG,mG=eD;function gG(t){var e=pG(t);return e.length==1&&e[0][2]?mG(e[0][0],e[0][1]):function(r){return r===t||hG(r,t,e)}}var vG=gG;function yG(t,e){return t!=null&&e in Object(t)}var xG=yG,bG=lO,wG=Eb,SG=Sr,_G=jb,EG=Ab,jG=Tp;function AG(t,e,r){e=bG(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var s=jG(e[n]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&EG(i)&&_G(s,i)&&(SG(t)||wG(t)))}var TG=AG,NG=xG,CG=TG;function kG(t,e){return t!=null&&CG(t,e,NG)}var OG=kG,DG=Tb,PG=cO,MG=OG,RG=sb,IG=JO,$G=eD,LG=Tp,FG=1,BG=2;function UG(t,e){return RG(t)&&IG(e)?$G(LG(t),e):function(r){var n=PG(r,t);return n===void 0&&n===e?MG(r,t):DG(e,n,FG|BG)}}var HG=UG;function zG(t){return t}var sl=zG;function WG(t){return function(e){return e==null?void 0:e[t]}}var VG=WG,GG=hb;function qG(t){return function(e){return GG(e,t)}}var YG=qG,KG=VG,QG=YG,XG=sb,ZG=Tp;function JG(t){return XG(t)?KG(ZG(t)):QG(t)}var e9=JG,t9=vG,r9=HG,n9=sl,i9=Sr,a9=e9;function s9(t){return typeof t=="function"?t:t==null?n9:typeof t=="object"?i9(t)?r9(t[0],t[1]):t9(t):a9(t)}var ha=s9;function o9(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var tD=o9;function l9(t){return t!==t}var c9=l9;function u9(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var d9=u9,f9=tD,h9=c9,p9=d9;function m9(t,e,r){return e===e?p9(t,e,r):f9(t,h9,r)}var g9=m9,v9=g9;function y9(t,e){var r=t==null?0:t.length;return!!r&&v9(t,e,0)>-1}var x9=y9;function b9(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var w9=b9;function S9(){}var _9=S9,dg=QO,E9=_9,j9=_b,A9=1/0,T9=dg&&1/j9(new dg([,-0]))[1]==A9?function(t){return new dg(t)}:E9,N9=T9,C9=BO,k9=x9,O9=w9,D9=HO,P9=N9,M9=_b,R9=200;function I9(t,e,r){var n=-1,i=k9,a=t.length,s=!0,o=[],l=o;if(r)s=!1,i=O9;else if(a>=R9){var u=e?null:P9(t);if(u)return M9(u);s=!1,i=D9,l=new C9}else l=e?[]:o;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,r)||(l!==o&&l.push(f),o.push(d))}return o}var $9=I9,L9=ha,F9=$9;function B9(t,e){return t&&t.length?F9(t,L9(e)):[]}var U9=B9;const N1=Je(U9);function rD(t,e,r){return e===!0?N1(t,r):Ce(e)?N1(t,e):t}function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}var H9=["ref"];function C1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(r),!0).forEach(function(n){zp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iD(n.key),n)}}function W9(t,e,r){return e&&k1(t.prototype,e),r&&k1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V9(t,e,r){return e=Gf(e),G9(t,nD()?Reflect.construct(e,r||[],Gf(t).constructor):e.apply(t,r))}function G9(t,e){if(e&&(bo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q9(t)}function q9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nD=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(t)}function Y9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cy(t,e)}function Cy(t,e){return Cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cy(t,e)}function zp(t,e,r){return e=iD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iD(t){var e=K9(t,"string");return bo(e)=="symbol"?e:e+""}function K9(t,e){if(bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q9(t,e){if(t==null)return{};var r=X9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z9(t){return t.value}function J9(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var r=Q9(e,H9);return U.createElement(Sb,r)}var O1=1,Yi=function(t){function e(){var r;z9(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=V9(this,e,[].concat(i)),zp(r,"lastBoundingBox",{width:-1,height:-1}),r}return Y9(e,t),W9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>O1||Math.abs(i.height-this.lastBoundingBox.height)>O1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Bn(Bn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Bn(Bn({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},J9(a,Bn(Bn({},this.props),{},{payload:rD(d,u,Z9)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Bn(Bn({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&le(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(k.PureComponent);zp(Yi,"displayName","Legend");zp(Yi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var D1=Nu,eq=Eb,tq=Sr,P1=D1?D1.isConcatSpreadable:void 0;function rq(t){return tq(t)||eq(t)||!!(P1&&t&&t[P1])}var nq=rq,iq=WO,aq=nq;function aD(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=aq),i||(i=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?aD(o,e-1,r,n,i):iq(i,o):n||(i[i.length]=o)}return i}var sD=aD;function sq(t){return function(e,r,n){for(var i=-1,a=Object(e),s=n(e),o=s.length;o--;){var l=s[t?o:++i];if(r(a[l],l,a)===!1)break}return e}}var oq=sq,lq=oq,cq=lq(),uq=cq,dq=uq,fq=Hp;function hq(t,e){return t&&dq(t,e,fq)}var oD=hq,pq=Ou;function mq(t,e){return function(r,n){if(r==null)return r;if(!pq(r))return t(r,n);for(var i=r.length,a=e?i:-1,s=Object(r);(e?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var gq=mq,vq=oD,yq=gq,xq=yq(vq),Nb=xq,bq=Nb,wq=Ou;function Sq(t,e){var r=-1,n=wq(t)?Array(t.length):[];return bq(t,function(i,a,s){n[++r]=e(i,a,s)}),n}var lD=Sq;function _q(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Eq=_q,M1=Jo;function jq(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=M1(t),s=e!==void 0,o=e===null,l=e===e,u=M1(e);if(!o&&!u&&!a&&t>e||a&&s&&l&&!o&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!l)return-1}return 0}var Aq=jq,Tq=Aq;function Nq(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,s=i.length,o=r.length;++n<s;){var l=Tq(i[n],a[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Cq=Nq,fg=fb,kq=hb,Oq=ha,Dq=lD,Pq=Eq,Mq=qO,Rq=Cq,Iq=sl,$q=Sr;function Lq(t,e,r){e.length?e=fg(e,function(a){return $q(a)?function(s){return kq(s,a.length===1?a[0]:a)}:a}):e=[Iq];var n=-1;e=fg(e,Mq(Oq));var i=Dq(t,function(a,s,o){var l=fg(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return Pq(i,function(a,s){return Rq(a,s,r)})}var Fq=Lq;function Bq(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Uq=Bq,Hq=Uq,R1=Math.max;function zq(t,e,r){return e=R1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=R1(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),Hq(t,this,o)}}var Wq=zq;function Vq(t){return function(){return t}}var Gq=Vq,qq=ps,Yq=function(){try{var t=qq(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cD=Yq,Kq=Gq,I1=cD,Qq=sl,Xq=I1?function(t,e){return I1(t,"toString",{configurable:!0,enumerable:!1,value:Kq(e),writable:!0})}:Qq,Zq=Xq,Jq=800,eY=16,tY=Date.now;function rY(t){var e=0,r=0;return function(){var n=tY(),i=eY-(n-r);if(r=n,i>0){if(++e>=Jq)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var nY=rY,iY=Zq,aY=nY,sY=aY(iY),oY=sY,lY=sl,cY=Wq,uY=oY;function dY(t,e){return uY(cY(t,e,lY),t+"")}var fY=dY,hY=lb,pY=Ou,mY=jb,gY=fa;function vY(t,e,r){if(!gY(r))return!1;var n=typeof e;return(n=="number"?pY(r)&&mY(e,r.length):n=="string"&&e in r)?hY(r[e],t):!1}var Wp=vY,yY=sD,xY=Fq,bY=fY,$1=Wp,wY=bY(function(t,e){if(t==null)return[];var r=e.length;return r>1&&$1(t,e[0],e[1])?e=[]:r>2&&$1(e[0],e[1],e[2])&&(e=[e[0]]),xY(t,yY(e,1),[])}),SY=wY;const Cb=Je(SY);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ky.apply(this,arguments)}function _Y(t,e){return TY(t)||AY(t,e)||jY(t,e)||EY()}function EY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jY(t,e){if(t){if(typeof t=="string")return L1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(t,e)}}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function TY(t){if(Array.isArray(t))return t}function F1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(r),!0).forEach(function(n){NY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NY(t,e,r){return e=CY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CY(t){var e=kY(t,"string");return Lc(e)=="symbol"?e:e+""}function kY(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OY(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var DY=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var C={padding:0,margin:0},R=(h?Cb(d,h):d).map(function(F,H){if(F.type==="none")return null;var V=hg({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},o),D=F.formatter||f||OY,P=F.value,L=F.name,$=P,B=L;if(D&&$!=null&&B!=null){var G=D(P,L,F,H,d);if(Array.isArray(G)){var Y=_Y(G,2);$=Y[0],B=Y[1]}else $=G}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},Dt(B)?U.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Dt(B)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},$),U.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:C},R)}return null},S=hg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=hg({margin:0},u),_=!Oe(g),E=_?g:"",j=$e("recharts-default-tooltip",p),A=$e("recharts-tooltip-label",m);_&&v&&d!==void 0&&d!==null&&(E=v(g,d));var T=y?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",ky({className:j,style:S},T),U.createElement("p",{className:A,style:w},U.isValidElement(E)?E:"".concat(E)),b())};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function md(t,e,r){return e=PY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PY(t){var e=MY(t,"string");return Fc(e)=="symbol"?e:e+""}function MY(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tl="recharts-tooltip-wrapper",RY={visibility:"hidden"};function IY(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $e(Tl,md(md(md(md({},"".concat(Tl,"-right"),le(r)&&e&&le(e.x)&&r>=e.x),"".concat(Tl,"-left"),le(r)&&e&&le(e.x)&&r<e.x),"".concat(Tl,"-bottom"),le(n)&&e&&le(e.y)&&n>=e.y),"".concat(Tl,"-top"),le(n)&&e&&le(e.y)&&n<e.y))}function B1(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&le(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(e[n])return s[n]?d:f;if(s[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+o,g=l[n]+u;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function $Y(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function LY(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=B1({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=B1({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=$Y({translateX:d,translateY:f,useTranslate3d:o})):u=RY,{cssProperties:u,cssClasses:IY({translateX:d,translateY:f,coordinate:r})}}function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function U1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(r),!0).forEach(function(n){Dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function BY(t,e,r){return e&&z1(t.prototype,e),r&&z1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UY(t,e,r){return e=qf(e),HY(t,uD()?Reflect.construct(e,r||[],qf(t).constructor):e.apply(t,r))}function HY(t,e){if(e&&(wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zY(t)}function zY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!t})()}function qf(t){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(t)}function WY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Oy(t,e)}function Dy(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=VY(t,"string");return wo(e)=="symbol"?e:e+""}function VY(t,e){if(wo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W1=1,GY=function(t){function e(){var r;FY(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=UY(this,e,[].concat(i)),Dy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dy(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return WY(e,t),BY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>W1||Math.abs(n.height-this.state.lastBoundingBox.height)>W1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,b=LY({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=b.cssClasses,w=b.cssProperties,_=H1(H1({transition:h&&a?"transform ".concat(o,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return U.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(j){n.wrapperNode=j}},u)}}])}(k.PureComponent),qY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:qY(),get:function(e){return ti[e]},set:function(e,r){if(typeof e=="string")ti[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){ti[i]=e[i]})}}};function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function V1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(r),!0).forEach(function(n){kb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hD(n.key),n)}}function KY(t,e,r){return e&&q1(t.prototype,e),r&&q1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QY(t,e,r){return e=Yf(e),XY(t,fD()?Reflect.construct(e,r||[],Yf(t).constructor):e.apply(t,r))}function XY(t,e){if(e&&(So(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(t)}function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(t)}function JY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Py(t,e)}function kb(t,e,r){return e=hD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hD(t){var e=eK(t,"string");return So(e)=="symbol"?e:e+""}function eK(t,e){if(So(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(So(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tK(t){return t.dataKey}function rK(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(DY,e)}var Ur=function(t){function e(){return YY(this,e),QY(this,e,arguments)}return JY(e,t),KY(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,w=m??[];f&&w.length&&(w=rD(m.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,tK));var _=w.length>0;return U.createElement(GY,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:_,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:S},rK(u,G1(G1({},this.props),{},{payload:w})))}}])}(k.PureComponent);kb(Ur,"displayName","Tooltip");kb(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nK=$n,iK=function(){return nK.Date.now()},aK=iK,sK=/\s/;function oK(t){for(var e=t.length;e--&&sK.test(t.charAt(e)););return e}var lK=oK,cK=lK,uK=/^\s+/;function dK(t){return t&&t.slice(0,cK(t)+1).replace(uK,"")}var fK=dK,hK=fK,Y1=fa,pK=Jo,K1=0/0,mK=/^[-+]0x[0-9a-f]+$/i,gK=/^0b[01]+$/i,vK=/^0o[0-7]+$/i,yK=parseInt;function xK(t){if(typeof t=="number")return t;if(pK(t))return K1;if(Y1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Y1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hK(t);var r=gK.test(t);return r||vK.test(t)?yK(t.slice(2),r?2:8):mK.test(t)?K1:+t}var pD=xK,bK=fa,pg=aK,Q1=pD,wK="Expected a function",SK=Math.max,_K=Math.min;function EK(t,e,r){var n,i,a,s,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(wK);e=Q1(e)||0,bK(r)&&(d=!!r.leading,f="maxWait"in r,a=f?SK(Q1(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(_){var E=n,j=i;return n=i=void 0,u=_,s=t.apply(j,E),s}function m(_){return u=_,o=setTimeout(x,e),d?p(_):s}function g(_){var E=_-l,j=_-u,A=e-E;return f?_K(A,a-j):A}function v(_){var E=_-l,j=_-u;return l===void 0||E>=e||E<0||f&&j>=a}function x(){var _=pg();if(v(_))return y(_);o=setTimeout(x,g(_))}function y(_){return o=void 0,h&&n?p(_):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function S(){return o===void 0?s:y(pg())}function w(){var _=pg(),E=v(_);if(n=arguments,i=this,l=_,E){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),s}return w.cancel=b,w.flush=S,w}var jK=EK,AK=jK,TK=fa,NK="Expected a function";function CK(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(NK);return TK(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),AK(t,e,{leading:n,maxWait:e,trailing:i})}var kK=CK;const mD=Je(kK);function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function X1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(r),!0).forEach(function(n){OK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OK(t,e,r){return e=DK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DK(t){var e=PK(t,"string");return Bc(e)=="symbol"?e:e+""}function PK(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MK(t,e){return LK(t)||$K(t,e)||IK(t,e)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(t,e){if(t){if(typeof t=="string")return Z1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z1(t,e)}}function Z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $K(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function LK(t){if(Array.isArray(t))return t}var My=k.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,x=t.className,y=t.onResize,b=t.style,S=b===void 0?{}:b,w=k.useRef(null),_=k.useRef();_.current=y,k.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=k.useState({containerWidth:i.width,containerHeight:i.height}),j=MK(E,2),A=j[0],T=j[1],O=k.useCallback(function(R,F){T(function(H){var V=Math.round(R),D=Math.round(F);return H.containerWidth===V&&H.containerHeight===D?H:{containerWidth:V,containerHeight:D}})},[]);k.useEffect(function(){var R=function(L){var $,B=L[0].contentRect,G=B.width,Y=B.height;O(G,Y),($=_.current)===null||$===void 0||$.call(_,G,Y)};g>0&&(R=mD(R,g,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),H=w.current.getBoundingClientRect(),V=H.width,D=H.height;return O(V,D),F.observe(w.current),function(){F.disconnect()}},[O,g]);var C=k.useMemo(function(){var R=A.containerWidth,F=A.containerHeight;if(R<0||F<0)return null;ei($a(s)||$a(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ei(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=$a(s)?R:s,V=$a(l)?F:l;r&&r>0&&(H?V=H/r:V&&(H=V*r),h&&V>h&&(V=h)),ei(H>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,s,l,d,f,r);var D=!Array.isArray(p)&&Jn(p.type).endsWith("Chart");return U.Children.map(p,function(P){return U.isValidElement(P)?k.cloneElement(P,gd({width:H,height:V},D?{style:gd({height:"100%",width:"100%",maxHeight:V,maxWidth:H},P.props.style)}:{})):P})},[r,p,l,h,f,d,A,s]);return U.createElement("div",{id:v?"".concat(v):void 0,className:$e("recharts-responsive-container",x),style:gd(gd({},S),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},C)}),gD=function(e){return null};gD.displayName="Cell";function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function J1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ry(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(r),!0).forEach(function(n){FK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FK(t,e,r){return e=BK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BK(t){var e=UK(t,"string");return Uc(e)=="symbol"?e:e+""}function UK(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ts={widthCache:{},cacheCount:0},HK=2e3,zK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eE="recharts_measurement_span";function WK(t){var e=Ry({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var sc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ti.isSsr)return{width:0,height:0};var n=WK(r),i=JSON.stringify({text:e,copyStyle:n});if(Ts.widthCache[i])return Ts.widthCache[i];try{var a=document.getElementById(eE);a||(a=document.createElement("span"),a.setAttribute("id",eE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Ry(Ry({},zK),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Ts.widthCache[i]=l,++Ts.cacheCount>HK&&(Ts.cacheCount=0,Ts.widthCache={}),l}catch{return{width:0,height:0}}},VK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Kf(t,e){return KK(t)||YK(t,e)||qK(t,e)||GK()}function GK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(t,e){if(t){if(typeof t=="string")return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(t,e)}}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function KK(t){if(Array.isArray(t))return t}function QK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZK(n.key),n)}}function XK(t,e,r){return e&&rE(t.prototype,e),r&&rE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZK(t){var e=JK(t,"string");return Hc(e)=="symbol"?e:e+""}function JK(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rQ=Object.keys(vD),Gs="NaN";function nQ(t,e){return t*vD[e]}var vd=function(){function t(e,r){QK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!eQ.test(r)&&(this.num=NaN,this.unit=""),rQ.includes(r)&&(this.num=nQ(e,r),this.unit="px")}return XK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=tQ.exec(r))!==null&&n!==void 0?n:[],a=Kf(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])}();function yD(t){if(t.includes(Gs))return Gs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=nE.exec(e))!==null&&r!==void 0?r:[],i=Kf(n,4),a=i[1],s=i[2],o=i[3],l=vd.parse(a??""),u=vd.parse(o??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Gs;e=e.replace(nE,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=iE.exec(e))!==null&&f!==void 0?f:[],p=Kf(h,4),m=p[1],g=p[2],v=p[3],x=vd.parse(m??""),y=vd.parse(v??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return Gs;e=e.replace(iE,b.toString())}return e}var aE=/\(([^()]*)\)/;function iQ(t){for(var e=t;e.includes("(");){var r=aE.exec(e),n=Kf(r,2),i=n[1];e=e.replace(aE,yD(i))}return e}function aQ(t){var e=t.replace(/\s+/g,"");return e=iQ(e),e=yD(e),e}function sQ(t){try{return aQ(t)}catch{return Gs}}function mg(t){var e=sQ(t.slice(5,-1));return e===Gs?"":e}var oQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lQ=["dx","dy","angle","className","breakAll"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iy.apply(this,arguments)}function sE(t,e){if(t==null)return{};var r=cQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oE(t,e){return hQ(t)||fQ(t,e)||dQ(t,e)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(t,e){if(t){if(typeof t=="string")return lE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(t,e)}}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function hQ(t){if(Array.isArray(t))return t}var xD=/[ \f\n\r\t\v\u2028\u2029]+/,bD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Oe(r)||(n?a=r.toString().split(""):a=r.toString().split(xD));var s=a.map(function(l){return{word:l,width:sc(l,i).width}}),o=n?0:sc(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},pQ=function(e,r,n,i,a){var s=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=le(s),f=o,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(V,D){var P=D.word,L=D.width,$=V[V.length-1];if($&&(i==null||a||$.width+L+n<Number(i)))$.words.push(P),$.width+=L+n;else{var B={words:[P],width:L};V.push(B)}return V},[])},p=h(r),m=function(H){return H.reduce(function(V,D){return V.width>D.width?V:D})};if(!d)return p;for(var g="…",v=function(H){var V=f.slice(0,H),D=bD({breakAll:u,style:l,children:V+g}).wordsWithComputedWidth,P=h(D),L=P.length>s||m(P).width>Number(i);return[L,P]},x=0,y=f.length-1,b=0,S;x<=y&&b<=f.length-1;){var w=Math.floor((x+y)/2),_=w-1,E=v(_),j=oE(E,2),A=j[0],T=j[1],O=v(w),C=oE(O,1),R=C[0];if(!A&&!R&&(x=w+1),A&&R&&(y=w-1),!A&&R){S=T;break}b++}return S||p},cE=function(e){var r=Oe(e)?[]:e.toString().split(xD);return[{words:r}]},mQ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!ti.isSsr){var l,u,d=bD({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return cE(i);return pQ({breakAll:s,children:i,maxLines:o,style:a},l,u,r,n)}return cE(i)},uE="#808080",Qf=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,x=v===void 0?uE:v,y=sE(e,oQ),b=k.useMemo(function(){return mQ({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,w=y.dy,_=y.angle,E=y.className,j=y.breakAll,A=sE(y,lQ);if(!Dt(n)||!Dt(a))return null;var T=n+(le(S)?S:0),O=a+(le(w)?w:0),C;switch(g){case"start":C=mg("calc(".concat(u,")"));break;case"middle":C=mg("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:C=mg("calc(".concat(b.length-1," * -").concat(o,")"));break}var R=[];if(f){var F=b[0].width,H=y.width;R.push("scale(".concat((le(H)?H/F:1)/F,")"))}return _&&R.push("rotate(".concat(_,", ").concat(T,", ").concat(O,")")),R.length&&(A.transform=R.join(" ")),U.createElement("text",Iy({},Re(A,!0),{x:T,y:O,className:$e("recharts-text",E),textAnchor:p,fill:x.includes("url")?uE:x}),b.map(function(V,D){var P=V.words.join(j?"":" ");return U.createElement("tspan",{x:T,dy:D===0?C:o,key:"".concat(P,"-").concat(D)},P)}))};function Ki(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ob(t){let e,r,n;t.length!==2?(e=Ki,r=(o,l)=>Ki(t(o),l),n=(o,l)=>t(o)-l):(e=t===Ki||t===gQ?t:vQ,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function vQ(){return 0}function wD(t){return t===null?NaN:+t}function*yQ(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const xQ=Ob(Ki),bQ=xQ.right;Ob(wD).center;const Du=bQ;class dE extends Map{constructor(e,r=_Q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(fE(this,e))}has(e){return super.has(fE(this,e))}set(e,r){return super.set(wQ(this,e),r)}delete(e){return super.delete(SQ(this,e))}}function fE({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function wQ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function SQ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function _Q(t){return t!==null&&typeof t=="object"?t.valueOf():t}function EQ(t=Ki){if(t===Ki)return SD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function SD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jQ=Math.sqrt(50),AQ=Math.sqrt(10),TQ=Math.sqrt(2);function Xf(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=jQ?10:a>=AQ?5:a>=TQ?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Xf(t,e,r*2):[o,l,u]}function $y(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Xf(e,t,r):Xf(t,e,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Ly(t,e,r){return e=+e,t=+t,r=+r,Xf(t,e,r)[2]}function Fy(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Ly(e,t,r):Ly(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function hE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function pE(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function _D(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?SD:EQ(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),m=Math.min(n,Math.floor(e+(l-u)*f/l+h));_D(t,e,p,m,i)}const a=t[e];let s=r,o=n;for(Nl(t,r,e),i(t[n],a)>0&&Nl(t,r,n);s<o;){for(Nl(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Nl(t,r,o):(++o,Nl(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Nl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function NQ(t,e,r){if(t=Float64Array.from(yQ(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return pE(t);if(e>=1)return hE(t);var n,i=(n-1)*e,a=Math.floor(i),s=hE(_D(t,a).subarray(0,a+1)),o=pE(t.subarray(a+1));return s+(o-s)*(i-a)}}function CQ(t,e,r=wD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function kQ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function tn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const By=Symbol("implicit");function Db(){var t=new dE,e=[],r=[],n=By;function i(a){let s=t.get(a);if(s===void 0){if(n!==By)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new dE;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Db(e,r).unknown(n)},tn.apply(i,arguments),i}function zc(){var t=Db().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=kQ(h).map(function(x){return m+a*x});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return zc(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},tn.apply(f(),arguments)}function ED(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ED(e())},t}function oc(){return ED(zc.apply(null,arguments).paddingInner(1))}function Pb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function jD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Pu(){}var Wc=.7,Zf=1/Wc,no="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OQ=/^#([0-9a-f]{3,8})$/,DQ=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),PQ=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),MQ=new RegExp(`^rgba\\(${no},${no},${no},${Vc}\\)$`),RQ=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${Vc}\\)$`),IQ=new RegExp(`^hsl\\(${Vc},${Pn},${Pn}\\)$`),$Q=new RegExp(`^hsla\\(${Vc},${Pn},${Pn},${Vc}\\)$`),mE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pb(Pu,Gc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gE,formatHex:gE,formatHex8:LQ,formatHsl:FQ,formatRgb:vE,toString:vE});function gE(){return this.rgb().formatHex()}function LQ(){return this.rgb().formatHex8()}function FQ(){return AD(this).formatHsl()}function vE(){return this.rgb().formatRgb()}function Gc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=OQ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?yE(e):r===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DQ.exec(t))?new vr(e[1],e[2],e[3],1):(e=PQ.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MQ.exec(t))?yd(e[1],e[2],e[3],e[4]):(e=RQ.exec(t))?yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IQ.exec(t))?wE(e[1],e[2]/100,e[3]/100,1):(e=$Q.exec(t))?wE(e[1],e[2]/100,e[3]/100,e[4]):mE.hasOwnProperty(t)?yE(mE[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function yE(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function yd(t,e,r,n){return n<=0&&(t=e=r=NaN),new vr(t,e,r,n)}function BQ(t){return t instanceof Pu||(t=Gc(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function Uy(t,e,r,n){return arguments.length===1?BQ(t):new vr(t,e,r,n??1)}function vr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Pb(vr,Uy,jD(Pu,{brighter(t){return t=t==null?Zf:Math.pow(Zf,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wc:Math.pow(Wc,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(za(this.r),za(this.g),za(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xE,formatHex:xE,formatHex8:UQ,formatRgb:bE,toString:bE}));function xE(){return`#${La(this.r)}${La(this.g)}${La(this.b)}`}function UQ(){return`#${La(this.r)}${La(this.g)}${La(this.b)}${La((isNaN(this.opacity)?1:this.opacity)*255)}`}function bE(){const t=Jf(this.opacity);return`${t===1?"rgb(":"rgba("}${za(this.r)}, ${za(this.g)}, ${za(this.b)}${t===1?")":`, ${t})`}`}function Jf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function za(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function La(t){return t=za(t),(t<16?"0":"")+t.toString(16)}function wE(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pn(t,e,r,n)}function AD(t){if(t instanceof pn)return new pn(t.h,t.s,t.l,t.opacity);if(t instanceof Pu||(t=Gc(t)),!t)return new pn;if(t instanceof pn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new pn(s,o,l,t.opacity)}function HQ(t,e,r,n){return arguments.length===1?AD(t):new pn(t,e,r,n??1)}function pn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Pb(pn,HQ,jD(Pu,{brighter(t){return t=t==null?Zf:Math.pow(Zf,t),new pn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wc:Math.pow(Wc,t),new pn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new vr(gg(t>=240?t-240:t+120,i,n),gg(t,i,n),gg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pn(SE(this.h),xd(this.s),xd(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jf(this.opacity);return`${t===1?"hsl(":"hsla("}${SE(this.h)}, ${xd(this.s)*100}%, ${xd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SE(t){return t=(t||0)%360,t<0?t+360:t}function xd(t){return Math.max(0,Math.min(1,t||0))}function gg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Mb=t=>()=>t;function zQ(t,e){return function(r){return t+r*e}}function WQ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function VQ(t){return(t=+t)==1?TD:function(e,r){return r-e?WQ(e,r,t):Mb(isNaN(e)?r:e)}}function TD(t,e){var r=e-t;return r?zQ(t,r):Mb(isNaN(t)?e:t)}const _E=function t(e){var r=VQ(e);function n(i,a){var s=r((i=Uy(i)).r,(a=Uy(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=TD(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function GQ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function qQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YQ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ol(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function KQ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function eh(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function QQ(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ol(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Hy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vg=new RegExp(Hy.source,"g");function XQ(t){return function(){return t}}function ZQ(t){return function(e){return t(e)+""}}function JQ(t,e){var r=Hy.lastIndex=vg.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=Hy.exec(t))&&(i=vg.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:eh(n,i)})),r=vg.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?ZQ(l[0].x):XQ(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function ol(t,e){var r=typeof e,n;return e==null||r==="boolean"?Mb(e):(r==="number"?eh:r==="string"?(n=Gc(e))?(e=n,_E):JQ:e instanceof Gc?_E:e instanceof Date?KQ:qQ(e)?GQ:Array.isArray(e)?YQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QQ:eh)(t,e)}function Rb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function eX(t,e){e===void 0&&(e=t,t=ol);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function tX(t){return function(){return t}}function th(t){return+t}var EE=[0,1];function lr(t){return t}function zy(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:tX(isNaN(e)?NaN:.5)}function rX(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function nX(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=zy(i,n),a=r(s,a)):(n=zy(n,i),a=r(a,s)),function(o){return a(n(o))}}function iX(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=zy(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var l=Du(t,o,1,n)-1;return a[l](i[l](o))}}function Mu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vp(){var t=EE,e=EE,r=ol,n,i,a,s=lr,o,l,u;function d(){var h=Math.min(t.length,e.length);return s!==lr&&(s=rX(t[0],t[h-1])),o=h>2?iX:nX,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(e,t.map(n),eh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,th),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=Rb,d()},f.clamp=function(h){return arguments.length?(s=h?!0:lr,d()):s!==lr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function Ib(){return Vp()(lr,lr)}function aX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rh(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _o(t){return t=rh(Math.abs(t)),t?t[1]:NaN}function sX(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function oX(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var lX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qc(t){if(!(e=lX.exec(t)))throw new Error("invalid format: "+t);var e;return new $b({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qc.prototype=$b.prototype;function $b(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cX(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ND;function uX(t,e){var r=rh(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(ND=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+rh(t,Math.max(0,e+a-1))[0]}function jE(t,e){var r=rh(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const AE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jE(t*100,e),r:jE,s:uX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TE(t){return t}var NE=Array.prototype.map,CE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dX(t){var e=t.grouping===void 0||t.thousands===void 0?TE:sX(NE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?TE:oX(NE.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=qc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,S=f.trim,w=f.type;w==="n"?(y=!0,w="g"):AE[w]||(b===void 0&&(b=12),S=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=g==="$"?n:/[%p]/.test(w)?s:"",j=AE[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(O){var C=_,R=E,F,H,V;if(w==="c")R=j(O)+R,O="";else{O=+O;var D=O<0||1/O<0;if(O=isNaN(O)?l:j(Math.abs(O),b),S&&(O=cX(O)),D&&+O==0&&m!=="+"&&(D=!1),C=(D?m==="("?m:o:m==="-"||m==="("?"":m)+C,R=(w==="s"?CE[8+ND/3]:"")+R+(D&&m==="("?")":""),A){for(F=-1,H=O.length;++F<H;)if(V=O.charCodeAt(F),48>V||V>57){R=(V===46?i+O.slice(F+1):O.slice(F))+R,O=O.slice(0,F);break}}}y&&!v&&(O=e(O,1/0));var P=C.length+O.length+R.length,L=P<x?new Array(x-P+1).join(h):"";switch(y&&v&&(O=e(L+O,L.length?x-R.length:1/0),L=""),p){case"<":O=C+O+R+L;break;case"=":O=C+L+O+R;break;case"^":O=L.slice(0,P=L.length>>1)+C+O+R+L.slice(P);break;default:O=L+C+O+R;break}return a(O)}return T.toString=function(){return f+""},T}function d(f,h){var p=u((f=qc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(_o(h)/3)))*3,g=Math.pow(10,-m),v=CE[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var bd,Lb,CD;fX({thousands:",",grouping:[3],currency:["$",""]});function fX(t){return bd=dX(t),Lb=bd.format,CD=bd.formatPrefix,bd}function hX(t){return Math.max(0,-_o(Math.abs(t)))}function pX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_o(e)/3)))*3-_o(Math.abs(t)))}function mX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_o(e)-_o(t))+1}function kD(t,e,r,n){var i=Fy(t,e,r),a;switch(n=qc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=pX(i,s))&&(n.precision=a),CD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=mX(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=hX(i))&&(n.precision=a-(n.type==="%")*2);break}}return Lb(n)}function pa(t){var e=t.domain;return t.ticks=function(r){var n=e();return $y(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return kD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Ly(s,o,r),u===l)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function nh(){var t=Ib();return t.copy=function(){return Mu(t,nh())},tn.apply(t,arguments),pa(t)}function OD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,th),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return OD(t).unknown(e)},t=arguments.length?Array.from(t,th):[0,1],pa(r)}function DD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function kE(t){return Math.log(t)}function OE(t){return Math.exp(t)}function gX(t){return-Math.log(-t)}function vX(t){return-Math.exp(-t)}function yX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xX(t){return t===10?yX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DE(t){return(e,r)=>-t(-e,r)}function Fb(t){const e=t(kE,OE),r=e.domain;let n=10,i,a;function s(){return i=bX(n),a=xX(n),r()[0]<0?(i=DE(i),a=DE(a),t(gX,vX)):t(kE,OE),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=$y(u,d,v))}else x=$y(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=qc(l)).precision==null&&(l.trim=!0),l=Lb(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(DD(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function PD(){const t=Fb(Vp()).domain([1,10]);return t.copy=()=>Mu(t,PD()).base(t.base()),tn.apply(t,arguments),t}function PE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ME(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Bb(t){var e=1,r=t(PE(e),ME(e));return r.constant=function(n){return arguments.length?t(PE(e=+n),ME(e)):e},pa(r)}function MD(){var t=Bb(Vp());return t.copy=function(){return Mu(t,MD()).constant(t.constant())},tn.apply(t,arguments)}function RE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SX(t){return t<0?-t*t:t*t}function Ub(t){var e=t(lr,lr),r=1;function n(){return r===1?t(lr,lr):r===.5?t(wX,SX):t(RE(r),RE(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},pa(e)}function Hb(){var t=Ub(Vp());return t.copy=function(){return Mu(t,Hb()).exponent(t.exponent())},tn.apply(t,arguments),t}function _X(){return Hb.apply(null,arguments).exponent(.5)}function IE(t){return Math.sign(t)*t*t}function EX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RD(){var t=Ib(),e=[0,1],r=!1,n;function i(a){var s=EX(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(IE(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,th)).map(IE)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},tn.apply(i,arguments),pa(i)}function ID(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=CQ(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Du(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ki),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ID().domain(t).range(e).unknown(n)},tn.apply(a,arguments)}function $D(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Du(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $D().domain([t,e]).range(i).unknown(a)},tn.apply(pa(s),arguments)}function LD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Du(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LD().domain(t).range(e).unknown(r)},tn.apply(i,arguments)}const yg=new Date,xg=new Date;function Pt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=a=>Pt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(yg.setTime(+a),xg.setTime(+s),t(yg),t(xg),Math.floor(r(yg,xg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ih=Pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ih.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ih);ih.range;const Yn=1e3,Gr=Yn*60,Kn=Gr*60,li=Kn*24,zb=li*7,$E=li*30,bg=li*365,Fa=Pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yn)},(t,e)=>(e-t)/Yn,t=>t.getUTCSeconds());Fa.range;const Wb=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yn)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getMinutes());Wb.range;const Vb=Pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gr)},(t,e)=>(e-t)/Gr,t=>t.getUTCMinutes());Vb.range;const Gb=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yn-t.getMinutes()*Gr)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getHours());Gb.range;const qb=Pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Kn)},(t,e)=>(e-t)/Kn,t=>t.getUTCHours());qb.range;const Ru=Pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gr)/li,t=>t.getDate()-1);Ru.range;const Gp=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>t.getUTCDate()-1);Gp.range;const FD=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>Math.floor(t/li));FD.range;function ms(t){return Pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Gr)/zb)}const qp=ms(0),ah=ms(1),jX=ms(2),AX=ms(3),Eo=ms(4),TX=ms(5),NX=ms(6);qp.range;ah.range;jX.range;AX.range;Eo.range;TX.range;NX.range;function gs(t){return Pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/zb)}const Yp=gs(0),sh=gs(1),CX=gs(2),kX=gs(3),jo=gs(4),OX=gs(5),DX=gs(6);Yp.range;sh.range;CX.range;kX.range;jo.range;OX.range;DX.range;const Yb=Pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Yb.range;const Kb=Pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Kb.range;const ci=Pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ci.range;const ui=Pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ui.range;function BD(t,e,r,n,i,a){const s=[[Fa,1,Yn],[Fa,5,5*Yn],[Fa,15,15*Yn],[Fa,30,30*Yn],[a,1,Gr],[a,5,5*Gr],[a,15,15*Gr],[a,30,30*Gr],[i,1,Kn],[i,3,3*Kn],[i,6,6*Kn],[i,12,12*Kn],[n,1,li],[n,2,2*li],[r,1,zb],[e,1,$E],[e,3,3*$E],[t,1,bg]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=Ob(([,,v])=>v).right(s,h);if(p===s.length)return t.every(Fy(u/bg,d/bg,f));if(p===0)return ih.every(Math.max(Fy(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[PX,MX]=BD(ui,Kb,Yp,FD,qb,Vb),[RX,IX]=BD(ci,Yb,qp,Ru,Gb,Wb);function wg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function $X(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=kl(i),d=Ol(i),f=kl(a),h=Ol(a),p=kl(s),m=Ol(s),g=kl(o),v=Ol(o),x=kl(l),y=Ol(l),b={a:D,A:P,b:L,B:$,c:null,d:zE,e:zE,f:sZ,g:gZ,G:yZ,H:nZ,I:iZ,j:aZ,L:UD,m:oZ,M:lZ,p:B,q:G,Q:GE,s:qE,S:cZ,u:uZ,U:dZ,V:fZ,w:hZ,W:pZ,x:null,X:null,y:mZ,Y:vZ,Z:xZ,"%":VE},S={a:Y,A:oe,b:ue,B:z,c:null,d:WE,e:WE,f:_Z,g:PZ,G:RZ,H:bZ,I:wZ,j:SZ,L:zD,m:EZ,M:jZ,p:K,q:ee,Q:GE,s:qE,S:AZ,u:TZ,U:NZ,V:CZ,w:kZ,W:OZ,x:null,X:null,y:DZ,Y:MZ,Z:IZ,"%":VE},w={a:T,A:O,b:C,B:R,c:F,d:UE,e:UE,f:JX,g:BE,G:FE,H:HE,I:HE,j:KX,L:ZX,m:YX,M:QX,p:A,q:qX,Q:tZ,s:rZ,S:XX,u:HX,U:zX,V:WX,w:UX,W:VX,x:H,X:V,y:BE,Y:FE,Z:GX,"%":eZ};b.x=_(r,b),b.X=_(n,b),b.c=_(e,b),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(q,re){return function(ie){var N=[],M=-1,W=0,Q=q.length,ne,ae,pe;for(ie instanceof Date||(ie=new Date(+ie));++M<Q;)q.charCodeAt(M)===37&&(N.push(q.slice(W,M)),(ae=LE[ne=q.charAt(++M)])!=null?ne=q.charAt(++M):ae=ne==="e"?" ":"0",(pe=re[ne])&&(ne=pe(ie,ae)),N.push(ne),W=M+1);return N.push(q.slice(W,M)),N.join("")}}function E(q,re){return function(ie){var N=Cl(1900,void 0,1),M=j(N,q,ie+="",0),W,Q;if(M!=ie.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(re&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(W=Sg(Cl(N.y,0,1)),Q=W.getUTCDay(),W=Q>4||Q===0?sh.ceil(W):sh(W),W=Gp.offset(W,(N.V-1)*7),N.y=W.getUTCFullYear(),N.m=W.getUTCMonth(),N.d=W.getUTCDate()+(N.w+6)%7):(W=wg(Cl(N.y,0,1)),Q=W.getDay(),W=Q>4||Q===0?ah.ceil(W):ah(W),W=Ru.offset(W,(N.V-1)*7),N.y=W.getFullYear(),N.m=W.getMonth(),N.d=W.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),Q="Z"in N?Sg(Cl(N.y,0,1)).getUTCDay():wg(Cl(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(Q+5)%7:N.w+N.U*7-(Q+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Sg(N)):wg(N)}}function j(q,re,ie,N){for(var M=0,W=re.length,Q=ie.length,ne,ae;M<W;){if(N>=Q)return-1;if(ne=re.charCodeAt(M++),ne===37){if(ne=re.charAt(M++),ae=w[ne in LE?re.charAt(M++):ne],!ae||(N=ae(q,ie,N))<0)return-1}else if(ne!=ie.charCodeAt(N++))return-1}return N}function A(q,re,ie){var N=u.exec(re.slice(ie));return N?(q.p=d.get(N[0].toLowerCase()),ie+N[0].length):-1}function T(q,re,ie){var N=p.exec(re.slice(ie));return N?(q.w=m.get(N[0].toLowerCase()),ie+N[0].length):-1}function O(q,re,ie){var N=f.exec(re.slice(ie));return N?(q.w=h.get(N[0].toLowerCase()),ie+N[0].length):-1}function C(q,re,ie){var N=x.exec(re.slice(ie));return N?(q.m=y.get(N[0].toLowerCase()),ie+N[0].length):-1}function R(q,re,ie){var N=g.exec(re.slice(ie));return N?(q.m=v.get(N[0].toLowerCase()),ie+N[0].length):-1}function F(q,re,ie){return j(q,e,re,ie)}function H(q,re,ie){return j(q,r,re,ie)}function V(q,re,ie){return j(q,n,re,ie)}function D(q){return s[q.getDay()]}function P(q){return a[q.getDay()]}function L(q){return l[q.getMonth()]}function $(q){return o[q.getMonth()]}function B(q){return i[+(q.getHours()>=12)]}function G(q){return 1+~~(q.getMonth()/3)}function Y(q){return s[q.getUTCDay()]}function oe(q){return a[q.getUTCDay()]}function ue(q){return l[q.getUTCMonth()]}function z(q){return o[q.getUTCMonth()]}function K(q){return i[+(q.getUTCHours()>=12)]}function ee(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var re=_(q+="",b);return re.toString=function(){return q},re},parse:function(q){var re=E(q+="",!1);return re.toString=function(){return q},re},utcFormat:function(q){var re=_(q+="",S);return re.toString=function(){return q},re},utcParse:function(q){var re=E(q+="",!0);return re.toString=function(){return q},re}}}var LE={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,LX=/^%/,FX=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function BX(t){return t.replace(FX,"\\$&")}function kl(t){return new RegExp("^(?:"+t.map(BX).join("|")+")","i")}function Ol(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function UX(t,e,r){var n=Ft.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function HX(t,e,r){var n=Ft.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function zX(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function WX(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function VX(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function FE(t,e,r){var n=Ft.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function BE(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qX(t,e,r){var n=Ft.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function YX(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function UE(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function KX(t,e,r){var n=Ft.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function HE(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function QX(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function XX(t,e,r){var n=Ft.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ZX(t,e,r){var n=Ft.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function JX(t,e,r){var n=Ft.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eZ(t,e,r){var n=LX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function tZ(t,e,r){var n=Ft.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function rZ(t,e,r){var n=Ft.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function zE(t,e){return Le(t.getDate(),e,2)}function nZ(t,e){return Le(t.getHours(),e,2)}function iZ(t,e){return Le(t.getHours()%12||12,e,2)}function aZ(t,e){return Le(1+Ru.count(ci(t),t),e,3)}function UD(t,e){return Le(t.getMilliseconds(),e,3)}function sZ(t,e){return UD(t,e)+"000"}function oZ(t,e){return Le(t.getMonth()+1,e,2)}function lZ(t,e){return Le(t.getMinutes(),e,2)}function cZ(t,e){return Le(t.getSeconds(),e,2)}function uZ(t){var e=t.getDay();return e===0?7:e}function dZ(t,e){return Le(qp.count(ci(t)-1,t),e,2)}function HD(t){var e=t.getDay();return e>=4||e===0?Eo(t):Eo.ceil(t)}function fZ(t,e){return t=HD(t),Le(Eo.count(ci(t),t)+(ci(t).getDay()===4),e,2)}function hZ(t){return t.getDay()}function pZ(t,e){return Le(ah.count(ci(t)-1,t),e,2)}function mZ(t,e){return Le(t.getFullYear()%100,e,2)}function gZ(t,e){return t=HD(t),Le(t.getFullYear()%100,e,2)}function vZ(t,e){return Le(t.getFullYear()%1e4,e,4)}function yZ(t,e){var r=t.getDay();return t=r>=4||r===0?Eo(t):Eo.ceil(t),Le(t.getFullYear()%1e4,e,4)}function xZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function WE(t,e){return Le(t.getUTCDate(),e,2)}function bZ(t,e){return Le(t.getUTCHours(),e,2)}function wZ(t,e){return Le(t.getUTCHours()%12||12,e,2)}function SZ(t,e){return Le(1+Gp.count(ui(t),t),e,3)}function zD(t,e){return Le(t.getUTCMilliseconds(),e,3)}function _Z(t,e){return zD(t,e)+"000"}function EZ(t,e){return Le(t.getUTCMonth()+1,e,2)}function jZ(t,e){return Le(t.getUTCMinutes(),e,2)}function AZ(t,e){return Le(t.getUTCSeconds(),e,2)}function TZ(t){var e=t.getUTCDay();return e===0?7:e}function NZ(t,e){return Le(Yp.count(ui(t)-1,t),e,2)}function WD(t){var e=t.getUTCDay();return e>=4||e===0?jo(t):jo.ceil(t)}function CZ(t,e){return t=WD(t),Le(jo.count(ui(t),t)+(ui(t).getUTCDay()===4),e,2)}function kZ(t){return t.getUTCDay()}function OZ(t,e){return Le(sh.count(ui(t)-1,t),e,2)}function DZ(t,e){return Le(t.getUTCFullYear()%100,e,2)}function PZ(t,e){return t=WD(t),Le(t.getUTCFullYear()%100,e,2)}function MZ(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function RZ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?jo(t):jo.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function IZ(){return"+0000"}function VE(){return"%"}function GE(t){return+t}function qE(t){return Math.floor(+t/1e3)}var Ns,VD,GD;$Z({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Z(t){return Ns=$X(t),VD=Ns.format,Ns.parse,GD=Ns.utcFormat,Ns.utcParse,Ns}function LZ(t){return new Date(t)}function FZ(t){return t instanceof Date?+t:+new Date(+t)}function Qb(t,e,r,n,i,a,s,o,l,u){var d=Ib(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),S=u("%Y");function w(_){return(l(_)<_?p:o(_)<_?m:s(_)<_?g:a(_)<_?v:n(_)<_?i(_)<_?x:y:r(_)<_?b:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,FZ)):h().map(LZ)},d.ticks=function(_){var E=h();return t(E[0],E[E.length-1],_??10)},d.tickFormat=function(_,E){return E==null?w:u(E)},d.nice=function(_){var E=h();return(!_||typeof _.range!="function")&&(_=e(E[0],E[E.length-1],_??10)),_?h(DD(E,_)):d},d.copy=function(){return Mu(d,Qb(t,e,r,n,i,a,s,o,l,u))},d}function BZ(){return tn.apply(Qb(RX,IX,ci,Yb,qp,Ru,Gb,Wb,Fa,VD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UZ(){return tn.apply(Qb(PX,MX,ui,Kb,Yp,Gp,qb,Vb,Fa,GD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kp(){var t=0,e=1,r,n,i,a,s=lr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(ol),u.rangeRound=d(Rb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function ma(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qD(){var t=pa(Kp()(lr));return t.copy=function(){return ma(t,qD())},mi.apply(t,arguments)}function YD(){var t=Fb(Kp()).domain([1,10]);return t.copy=function(){return ma(t,YD()).base(t.base())},mi.apply(t,arguments)}function KD(){var t=Bb(Kp());return t.copy=function(){return ma(t,KD()).constant(t.constant())},mi.apply(t,arguments)}function Xb(){var t=Ub(Kp());return t.copy=function(){return ma(t,Xb()).exponent(t.exponent())},mi.apply(t,arguments)}function HZ(){return Xb.apply(null,arguments).exponent(.5)}function QD(){var t=[],e=lr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Du(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ki),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>NQ(t,a/n))},r.copy=function(){return QD(e).domain(t)},mi.apply(r,arguments)}function Qp(){var t=0,e=.5,r=1,n=1,i,a,s,o,l,u=lr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=eX(g,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(ol),p.rangeRound=m(Rb),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),s=g(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function XD(){var t=pa(Qp()(lr));return t.copy=function(){return ma(t,XD())},mi.apply(t,arguments)}function ZD(){var t=Fb(Qp()).domain([.1,1,10]);return t.copy=function(){return ma(t,ZD()).base(t.base())},mi.apply(t,arguments)}function JD(){var t=Bb(Qp());return t.copy=function(){return ma(t,JD()).constant(t.constant())},mi.apply(t,arguments)}function Zb(){var t=Ub(Qp());return t.copy=function(){return ma(t,Zb()).exponent(t.exponent())},mi.apply(t,arguments)}function zZ(){return Zb.apply(null,arguments).exponent(.5)}const YE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zc,scaleDiverging:XD,scaleDivergingLog:ZD,scaleDivergingPow:Zb,scaleDivergingSqrt:zZ,scaleDivergingSymlog:JD,scaleIdentity:OD,scaleImplicit:By,scaleLinear:nh,scaleLog:PD,scaleOrdinal:Db,scalePoint:oc,scalePow:Hb,scaleQuantile:ID,scaleQuantize:$D,scaleRadial:RD,scaleSequential:qD,scaleSequentialLog:YD,scaleSequentialPow:Xb,scaleSequentialQuantile:QD,scaleSequentialSqrt:HZ,scaleSequentialSymlog:KD,scaleSqrt:_X,scaleSymlog:MD,scaleThreshold:LD,scaleTime:BZ,scaleUtc:UZ,tickFormat:kD},Symbol.toStringTag,{value:"Module"}));var WZ=Jo;function VZ(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(s!=null&&(o===void 0?s===s&&!WZ(s):r(s,o)))var o=s,l=a}return l}var e2=VZ;function GZ(t,e){return t>e}var qZ=GZ,YZ=e2,KZ=qZ,QZ=sl;function XZ(t){return t&&t.length?YZ(t,QZ,KZ):void 0}var ZZ=XZ;const Xp=Je(ZZ);function JZ(t,e){return t<e}var eJ=JZ,tJ=e2,rJ=eJ,nJ=sl;function iJ(t){return t&&t.length?tJ(t,nJ,rJ):void 0}var aJ=iJ;const Zp=Je(aJ);var sJ=fb,oJ=ha,lJ=lD,cJ=Sr;function uJ(t,e){var r=cJ(t)?sJ:lJ;return r(t,oJ(e))}var dJ=uJ,fJ=sD,hJ=dJ;function pJ(t,e){return fJ(hJ(t,e),1)}var mJ=pJ;const gJ=Je(mJ);var vJ=Tb;function yJ(t,e){return vJ(t,e)}var xJ=yJ;const Jp=Je(xJ);var ll=1e9,bJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ew,ft=!0,Zr="[DecimalError] ",Wa=Zr+"Invalid argument: ",Jb=Zr+"Exponent out of range: ",cl=Math.floor,Aa=Math.pow,wJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tr,It=1e7,ct=7,t2=9007199254740991,oh=cl(t2/ct),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(t){return ri(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,r=e.constructor;return et(ri(e,new r(t),0,1),r.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Tt(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Tr))throw Error(Zr+"NaN");if(r.s<1)throw Error(Zr+(r.s?"NaN":"-Infinity"));return r.eq(Tr)?new n(0):(ft=!1,e=ri(Yc(r,a),Yc(t,a),a),ft=!0,et(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?i2(e,t):r2(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Zr+"NaN");return r.s?(ft=!1,e=ri(r,t,0,1).times(t),ft=!0,r.minus(e)):et(new n(r),i)};ye.naturalExponential=ye.exp=function(){return n2(this)};ye.naturalLogarithm=ye.ln=function(){return Yc(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r2(e,t):i2(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wa+t);if(e=Tt(i)+1,n=i.d.length-1,r=n*ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ye.squareRoot=ye.sqrt=function(){var t,e,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Zr+"NaN")}for(t=Tt(o),ft=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Cn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ri(o,a,s+2)).times(.5),Cn(a.d).slice(0,s)===(e=Cn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(et(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return ft=!0,et(n,r)};ye.times=ye.mul=function(t){var e,r,n,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+p[n]*h[i-n-1]+e,a[i--]=o%It|0,e=o/It|0;a[i]=(a[i]+e)%It|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ft?et(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Rn(t,0,ll),e===void 0?e=n.rounding:Rn(e,0,8),et(r,t+Tt(r)+1,e))};ye.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ts(n,!0):(Rn(t,0,ll),e===void 0?e=i.rounding:Rn(e,0,8),n=et(new i(n),t+1,e),r=ts(n,!0,t+1)),r};ye.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ts(i):(Rn(t,0,ll),e===void 0?e=a.rounding:Rn(e,0,8),n=et(new a(i),t+Tt(i)+1,e),r=ts(n.abs(),!1,t+Tt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return et(new e(t),Tt(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Tr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Zr+"Infinity");return o}if(o.eq(Tr))return o;if(n=l.precision,t.eq(Tr))return et(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=t2){for(i=new l(Tr),e=Math.ceil(n/ct+4),ft=!1;r%2&&(i=i.times(o),QE(i.d,e)),r=cl(r/2),r!==0;)o=o.times(o),QE(o.d,e);return ft=!0,t.s<0?new l(Tr).div(i):et(i,n)}}else if(a<0)throw Error(Zr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ft=!1,i=t.times(Yc(o,n+u)),ft=!0,i=n2(i),i.s=a,i};ye.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Tt(i),n=ts(i,r<=a.toExpNeg||r>=a.toExpPos)):(Rn(t,1,ll),e===void 0?e=a.rounding:Rn(e,0,8),i=et(new a(i),t,e),r=Tt(i),n=ts(i,t<=r||r<=a.toExpNeg,t)),n};ye.toSignificantDigits=ye.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Rn(t,1,ll),e===void 0?e=n.rounding:Rn(e,0,8)),et(new n(r),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tt(t),r=t.constructor;return ts(t,e<=r.toExpNeg||e>=r.toExpPos)};function r2(t,e){var r,n,i,a,s,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ft?et(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(f/ct),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/It|0,l[a]%=It;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ft?et(e,f):e}function Rn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Wa+t)}function Cn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=ct-n.length,r&&(a+=Ti(r)),a+=n;s=t[e],n=s+"",r=ct-n.length,r&&(a+=Ti(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ri=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%It|0,s=a/It|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*It+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,d,f,h,p,m,g,v,x,y,b,S,w,_,E,j,A=n.constructor,T=n.s==i.s?1:-1,O=n.d,C=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Zr+"Division by zero");for(l=n.e-i.e,E=C.length,w=O.length,p=new A(T),m=p.d=[],u=0;C[u]==(O[u]||0);)++u;if(C[u]>(O[u]||0)&&--l,a==null?y=a=A.precision:s?y=a+(Tt(n)-Tt(i))+1:y=a,y<0)return new A(0);if(y=y/ct+2|0,u=0,E==1)for(d=0,C=C[0],y++;(u<w||d)&&y--;u++)b=d*It+(O[u]||0),m[u]=b/C|0,d=b%C|0;else{for(d=It/(C[0]+1)|0,d>1&&(C=t(C,d),O=t(O,d),E=C.length,w=O.length),S=E,g=O.slice(0,E),v=g.length;v<E;)g[v++]=0;j=C.slice(),j.unshift(0),_=C[0],C[1]>=It/2&&++_;do d=0,o=e(C,g,E,v),o<0?(x=g[0],E!=v&&(x=x*It+(g[1]||0)),d=x/_|0,d>1?(d>=It&&(d=It-1),f=t(C,d),h=f.length,v=g.length,o=e(f,g,h,v),o==1&&(d--,r(f,E<h?j:C,h))):(d==0&&(o=d=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=e(C,g,E,v),o<1&&(d++,r(g,E<v?j:C,v))),v=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[v++]=O[S]||0:(g=[O[S]],v=1);while((S++<w||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,et(p,s?a+Tt(p)+1:a)}}();function n2(t,e){var r,n,i,a,s,o,l=0,u=0,d=t.constructor,f=d.precision;if(Tt(t)>16)throw Error(Jb+Tt(t));if(!t.s)return new d(Tr);for(e==null?(ft=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Aa(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Tr),d.precision=o;;){if(i=et(i.times(t),o),r=r.times(++l),s=a.plus(ri(i,r,o)),Cn(s.d).slice(0,o)===Cn(a.d).slice(0,o)){for(;u--;)a=et(a.times(a),o);return d.precision=f,e==null?(ft=!0,et(a,f)):a}a=s}}function Tt(t){for(var e=t.e*ct,r=t.d[0];r>=10;r/=10)e++;return e}function _g(t,e,r){if(e>t.LN10.sd())throw ft=!0,r&&(t.precision=r),Error(Zr+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Ti(t){for(var e="";t--;)e+="0";return e}function Yc(t,e){var r,n,i,a,s,o,l,u,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Zr+(p.s?"NaN":"-Infinity"));if(p.eq(Tr))return new g(0);if(e==null?(ft=!1,u=v):u=e,p.eq(10))return e==null&&(ft=!0),_g(g,u);if(u+=h,g.precision=u,r=Cn(m),n=r.charAt(0),a=Tt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Cn(p.d),n=r.charAt(0),f++;a=Tt(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=_g(g,u+2,v).times(a+""),p=Yc(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(ft=!0,et(p,v)):p;for(o=s=p=ri(p.minus(Tr),p.plus(Tr),u),d=et(p.times(p),u),i=3;;){if(s=et(s.times(d),u),l=o.plus(ri(s,new g(i),u)),Cn(l.d).slice(0,u)===Cn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(_g(g,u+2,v).times(a+""))),o=ri(o,new g(f),u),g.precision=v,e==null?(ft=!0,et(o,v)):o;o=l,i+=2}}function KE(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=cl(r/ct),t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ct;n<i;)t.d.push(+e.slice(n,n+=ct));e=e.slice(n),n=ct-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ft&&(t.e>oh||t.e<-oh))throw Error(Jb+r)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,r){var n,i,a,s,o,l,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=ct,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ct),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=ct,i=n-ct+s}if(r!==void 0&&(a=Aa(10,s-i-1),o=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/Aa(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Tt(t),f.length=1,e=e-a-1,f[0]=Aa(10,(ct-e%ct)%ct),t.e=cl(-e/ct)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Aa(10,ct-n),f[d]=i>0?(u/Aa(10,s-i)%Aa(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==It&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=It)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ft&&(t.e>oh||t.e<-oh))throw Error(Jb+Tt(t));return t}function i2(t,e){var r,n,i,a,s,o,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ft?et(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(p/ct),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=It-1;--l[a],l[i]+=It}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ft?et(e,p):e):new h(0)}function ts(t,e,r){var n,i=Tt(t),a=Cn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ti(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ti(-i-1)+a,r&&(n=r-s)>0&&(a+=Ti(n))):i>=s?(a+=Ti(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ti(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ti(n))),t.s<0?"-"+a:a}function QE(t,e){if(t.length>e)return t.length=e,!0}function a2(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wa+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return KE(s,a.toString())}else if(typeof a!="string")throw Error(Wa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,wJ.test(a))KE(s,a);else throw Error(Wa+a)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=a2,i.config=i.set=SJ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function SJ(t){if(!t||typeof t!="object")throw Error(Zr+"Object expected");var e,r,n,i=["precision",1,ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(cl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Wa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wa+r+": "+n);return this}var ew=a2(bJ);Tr=new ew(1);const Xe=ew;function _J(t){return TJ(t)||AJ(t)||jJ(t)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jJ(t,e){if(t){if(typeof t=="string")return Wy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(t,e)}}function AJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TJ(t){if(Array.isArray(t))return Wy(t)}function Wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NJ=function(e){return e},s2={"@@functional/placeholder":!0},o2=function(e){return e===s2},XE=function(e){return function r(){return arguments.length===0||arguments.length===1&&o2(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},CJ=function t(e,r){return e===1?r:XE(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==s2}).length;return s>=e?r.apply(void 0,i):t(e-s,XE(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(f){return o2(f)?l.shift():f});return r.apply(void 0,_J(d).concat(l))}))})},em=function(e){return CJ(e.length,e)},Vy=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},kJ=em(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),OJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return NJ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},Gy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},l2=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,l){return o===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function DJ(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function PJ(t,e,r){for(var n=new Xe(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var MJ=em(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),RJ=em(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),IJ=em(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const tm={rangeStep:PJ,getDigitCount:DJ,interpolateNumber:MJ,uninterpolateNumber:RJ,uninterpolateTruncation:IJ};function qy(t){return FJ(t)||LJ(t)||c2(t)||$J()}function $J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FJ(t){if(Array.isArray(t))return Yy(t)}function Kc(t,e){return HJ(t)||UJ(t,e)||c2(t,e)||BJ()}function BJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c2(t,e){if(t){if(typeof t=="string")return Yy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yy(t,e)}}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function HJ(t){if(Array.isArray(t))return t}function u2(t){var e=Kc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function d2(t,e,r){if(t.lte(0))return new Xe(0);var n=tm.getDigitCount(t.toNumber()),i=new Xe(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return e?l:new Xe(Math.ceil(l))}function zJ(t,e,r){var n=1,i=new Xe(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Xe(10).pow(tm.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var s=Math.floor((e-1)/2),o=OJ(kJ(function(l){return i.add(new Xe(l-s).mul(n)).toNumber()}),Vy);return o(0,e)}function f2(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=d2(new Xe(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Xe(0):(s=new Xe(t).add(e).div(2),s=s.sub(new Xe(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),l=Math.ceil(new Xe(e).sub(s).div(a).toNumber()),u=o+l+1;return u>r?f2(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Xe(o).mul(a)),tickMax:s.add(new Xe(l).mul(a))})}function WJ(t){var e=Kc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=u2([r,n]),l=Kc(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(qy(Vy(0,i-1).map(function(){return 1/0}))):[].concat(qy(Vy(0,i-1).map(function(){return-1/0})),[d]);return r>n?Gy(f):f}if(u===d)return zJ(u,i,a);var h=f2(u,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,v=tm.rangeStep(m,g.add(new Xe(.1).mul(p)),p);return r>n?Gy(v):v}function VJ(t,e){var r=Kc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=u2([n,i]),o=Kc(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=d2(new Xe(u).sub(l).div(d-1),a,0),h=[].concat(qy(tm.rangeStep(new Xe(l),new Xe(u).sub(new Xe(.99).mul(f)),f)),[u]);return n>i?Gy(h):h}var GJ=l2(WJ),qJ=l2(VJ),YJ=!0,Eg="Invariant failed";function rs(t,e){if(!t){if(YJ)throw new Error(Eg);var r=typeof e=="function"?e():e,n=r?"".concat(Eg,": ").concat(r):Eg;throw new Error(n)}}var KJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lh.apply(this,arguments)}function QJ(t,e){return eee(t)||JJ(t,e)||ZJ(t,e)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return ZE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(t,e)}}function ZE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function eee(t){if(Array.isArray(t))return t}function tee(t,e){if(t==null)return{};var r=ree(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ree(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m2(n.key),n)}}function iee(t,e,r){return e&&JE(t.prototype,e),r&&JE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aee(t,e,r){return e=ch(e),see(t,h2()?Reflect.construct(e,r||[],ch(t).constructor):e.apply(t,r))}function see(t,e){if(e&&(Ao(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oee(t)}function oee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(t)}function lee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ky(t,e)}function p2(t,e,r){return e=m2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m2(t){var e=cee(t,"string");return Ao(e)=="symbol"?e:e+""}function cee(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iu=function(t){function e(){return nee(this,e),aee(this,e,arguments)}return lee(e,t),iee(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=tee(n,KJ),p=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&rs(!1);var m=l.map(function(g){var v=u(g,o),x=v.x,y=v.y,b=v.value,S=v.errorVal;if(!S)return null;var w=[],_,E;if(Array.isArray(S)){var j=QJ(S,2);_=j[0],E=j[1]}else _=E=S;if(a==="vertical"){var A=d.scale,T=y+i,O=T+s,C=T-s,R=A(b-_),F=A(b+E);w.push({x1:F,y1:O,x2:F,y2:C}),w.push({x1:R,y1:T,x2:F,y2:T}),w.push({x1:R,y1:O,x2:R,y2:C})}else if(a==="horizontal"){var H=f.scale,V=x+i,D=V-s,P=V+s,L=H(b-_),$=H(b+E);w.push({x1:D,y1:$,x2:P,y2:$}),w.push({x1:V,y1:L,x2:V,y2:$}),w.push({x1:D,y1:L,x2:P,y2:L})}return U.createElement(St,lh({className:"recharts-errorBar",key:"bar-".concat(w.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},p),w.map(function(B){return U.createElement("line",lh({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return U.createElement(St,{className:"recharts-errorBars"},m)}}])}(U.Component);p2(Iu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});p2(Iu,"displayName","ErrorBar");function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){uee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uee(t,e,r){return e=dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dee(t){var e=fee(t,"string");return Qc(e)=="symbol"?e:e+""}function fee(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g2=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ar(r,Yi);if(!s)return null;var o=Yi.defaultProps,l=o!==void 0?ba(ba({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ba(ba({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:tw(f),value:g||m,payload:p}}),ba(ba(ba({},l),Yi.getWithHeight(s,i)),{},{payload:u,item:s})};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function tj(t){return gee(t)||mee(t)||pee(t)||hee()}function hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pee(t,e){if(t){if(typeof t=="string")return Qy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qy(t,e)}}function mee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gee(t){if(Array.isArray(t))return Qy(t)}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rj(Object(r),!0).forEach(function(n){io(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function io(t,e,r){return e=vee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vee(t){var e=yee(t,"string");return Xc(e)=="symbol"?e:e+""}function yee(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mr(t,e,r){return Oe(t)||Oe(e)?r:Dt(e)?Yr(t,e,r):Ce(e)?e(t):r}function lc(t,e,r,n){var i=gJ(t,function(o){return Mr(o,e)});if(r==="number"){var a=i.filter(function(o){return le(o)||parseFloat(o)});return a.length?[Zp(a),Xp(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!Oe(o)}):i;return s.map(function(o){return Dt(o)||o instanceof Date?o:""})}var xee=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(mn(f-d)!==mn(h-f)){var m=[];if(mn(h-f)===mn(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){s=i[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(e>(y+f)/2&&e<=(b+f)/2){s=i[u].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===o-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){s=n[S].index;break}return s},tw=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},bee=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),l=0,u=o.length;l<u;l++)for(var d=a[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,x=g.filter(function(E){return Jn(E.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?bt(bt({},y),x[0].props):x[0].props,S=b.barSize,w=b[v];s[w]||(s[w]=[]);var _=Oe(S)?r:S;s[w].push({item:x[0],stackList:x.slice(1),barSize:Oe(_)?void 0:es(_,n,0)})}}return s},wee=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,l=s.length;if(l<1)return null;var u=es(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/l,m=s.reduce(function(S,w){return S+w.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(S,w){var _={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},E=[].concat(tj(S),[_]);return v=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:v})}),E},f)}else{var x=es(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var b=o===+o?Math.min(y,o):y;d=s.reduce(function(S,w,_){var E=[].concat(tj(S),[{item:w.item,position:{offset:x+(y+u)*_+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(j){E.push({item:j,position:E[E.length-1].position})}),E},f)}return d},See=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=g2({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&le(e[p]))return bt(bt({},e),{},io({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&le(e[m]))return bt(bt({},e),{},io({},m,e[m]+(h||0)))}return e},_ee=function(e,r,n){return Oe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},v2=function(e,r,n,i,a){var s=r.props.children,o=Kr(s,Iu).filter(function(u){return _ee(i,a,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Mr(d,n);if(Oe(f))return u;var h=Array.isArray(f)?[Zp(f),Xp(f)]:[f,f],p=l.reduce(function(m,g){var v=Mr(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Eee=function(e,r,n,i,a){var s=r.map(function(o){return v2(e,o,n,a,i)}).filter(function(o){return!Oe(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},y2=function(e,r,n,i,a){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&v2(e,l,u,i)||lc(e,u,n,a)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},x2=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},b2=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,o=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||o.push(r),s||o.push(n),o},Qn=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?mn(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Cu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},jg=new WeakMap,wd=function(e,r){if(typeof r!="function")return e;jg.has(e)||jg.set(e,new WeakMap);var n=jg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},jee=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:zc(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:nh(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:oc(),realScaleType:"point"}:a==="category"?{scale:zc(),realScaleType:"band"}:{scale:nh(),realScaleType:"linear"};if(Ja(i)){var l="scale".concat(Lp(i));return{scale:(YE[l]||oc)(),realScaleType:YE[l]?l:"point"}}return Ce(i)?{scale:i}:{scale:oc(),realScaleType:"point"}},nj=1e-4,Aee=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-nj,s=Math.max(i[0],i[1])+nj,o=e(r[0]),l=e(r[n-1]);(o<a||o>s||l<a||l>s)&&e.domain([r[0],r[n-1]])}},Tee=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Nee=function(e,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(a[0]=n),(!le(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Cee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var l=Cu(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},kee=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Cu(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Oee={sign:Cee,expand:Kz,none:yo,silhouette:Qz,wiggle:Xz,positive:kee},Dee=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Oee[n],s=Yz().keys(i).value(function(o,l){return+Mr(o,l,0)}).order(by).offset(a);return s(e)},Pee=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Dt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[ku("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return bt(bt({},f),{},io({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return bt(bt({},g),{},io({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Dee(e,x.items,a)}))},m)}return bt(bt({},f),{},io({},h,p))},d)},Mee=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=GJ(u,a,o);return e.domain([Zp(d),Xp(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=qJ(f,a,o);return{niceTicks:h}}return null};function ij(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(i[e.dataKey])){var o=Mf(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Mr(i,Oe(s)?e.dataKey:s);return Oe(l)?null:e.scale(l)}var aj=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=Mr(s,r.dataKey,r.domain[o]);return Oe(l)?null:r.scale(l)-a/2+i},Ree=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Iee=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Dt(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},$ee=function(e){return e.reduce(function(r,n){return[Zp(n.concat([r[0]]).filter(le)),Xp(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},w2=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,l=o.reduce(function(u,d){var f=$ee(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},sj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xy=function(e,r,n){if(Ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(le(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(sj.test(e[0])){var a=+sj.exec(e[0])[1];i[0]=r[0]-a}else Ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(le(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(oj.test(e[1])){var s=+oj.exec(e[1])[1];i[1]=r[1]+s}else Ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},uh=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Cb(r,function(f){return f.coordinate}),s=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},lj=function(e,r,n){return!e||!e.length||Jp(e,Yr(n,"type.defaultProps.domain"))?r:e},S2=function(e,r){var n=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return bt(bt({},Re(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:tw(e),value:Mr(r,i),type:l,payload:r,chartType:u,hide:d})};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(r),!0).forEach(function(n){Lee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lee(t,e,r){return e=Fee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fee(t){var e=Bee(t,"string");return Zc(e)=="symbol"?e:e+""}function Bee(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dh=Math.PI/180,Uee=function(e){return e*180/Math.PI},Wt=function(e,r,n,i){return{x:e+Math.cos(-dh*i)*n,y:r+Math.sin(-dh*i)*n}},Hee=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},zee=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Hee({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var l=(n-a)/o,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:o,angle:Uee(u),angleInRadian:u}},Wee=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Vee=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},dj=function(e,r){var n=e.x,i=e.y,a=zee({x:n,y:i},r),s=a.radius,o=a.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=Wee(r),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?uj(uj({},r),{},{radius:s,angle:Vee(p,r)}):null};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var Gee=["offset"];function qee(t){return Xee(t)||Qee(t)||Kee(t)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kee(t,e){if(t){if(typeof t=="string")return Zy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zy(t,e)}}function Qee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xee(t){if(Array.isArray(t))return Zy(t)}function Zy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zee(t,e){if(t==null)return{};var r=Jee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(r),!0).forEach(function(n){ete(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ete(t,e,r){return e=tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tte(t){var e=rte(t,"string");return Jc(e)=="symbol"?e:e+""}function rte(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}var nte=function(e){var r=e.value,n=e.formatter,i=Oe(e.children)?r:e.children;return Ce(n)?n(i):i},ite=function(e,r){var n=mn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},ate=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,x=ite(p,m),y=x>=0?1:-1,b,S;i==="insideStart"?(b=p+y*s,S=g):i==="insideEnd"?(b=m-y*s,S=!g):i==="end"&&(b=m+y*s,S=g),S=x<=0?S:!S;var w=Wt(u,d,v,b),_=Wt(u,d,v,b+(S?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),j=Oe(e.id)?ku("recharts-radial-line-"):e.id;return U.createElement("text",eu({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",o)}),U.createElement("defs",null,U.createElement("path",{id:j,d:E})),U.createElement("textPath",{xlinkHref:"#".concat(j)},r))},ste=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Wt(s,o,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Wt(s,o,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},ote=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Ct(Ct({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Ct(Ct({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var w={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Ct(Ct({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var _={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Ct(Ct({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?Ct({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideRight"?Ct({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideTop"?Ct({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},E):a==="insideBottom"?Ct({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?Ct({x:o+v,y:l+h,textAnchor:y,verticalAnchor:m},E):a==="insideTopRight"?Ct({x:o+u-v,y:l+h,textAnchor:x,verticalAnchor:m},E):a==="insideBottomLeft"?Ct({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:p},E):a==="insideBottomRight"?Ct({x:o+u-v,y:l+d-h,textAnchor:x,verticalAnchor:p},E):el(a)&&(le(a.x)||$a(a.x))&&(le(a.y)||$a(a.y))?Ct({x:o+es(a.x,u),y:l+es(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):Ct({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},lte=function(e){return"cx"in e&&le(e.cx)};function er(t){var e=t.offset,r=e===void 0?5:e,n=Zee(t,Gee),i=Ct({offset:r},n),a=i.viewBox,s=i.position,o=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Oe(o)&&Oe(l)&&!k.isValidElement(u)&&!Ce(u))return null;if(k.isValidElement(u))return k.cloneElement(u,i);var p;if(Ce(u)){if(p=k.createElement(u,i),k.isValidElement(p))return p}else p=nte(i);var m=lte(a),g=Re(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ate(i,p,g);var v=m?ste(i):ote(i);return U.createElement(Qf,eu({className:$e("recharts-label",f)},g,v,{breakAll:h}),p)}er.displayName="Label";var _2=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(le(g)&&le(v)){if(le(f)&&le(h))return{x:f,y:h,width:g,height:v};if(le(p)&&le(m))return{x:p,y:m,width:g,height:v}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},cte=function(e,r){return e?e===!0?U.createElement(er,{key:"label-implicit",viewBox:r}):Dt(e)?U.createElement(er,{key:"label-implicit",viewBox:r,value:e}):k.isValidElement(e)?e.type===er?k.cloneElement(e,{key:"label-implicit",viewBox:r}):U.createElement(er,{key:"label-implicit",content:e,viewBox:r}):Ce(e)?U.createElement(er,{key:"label-implicit",content:e,viewBox:r}):el(e)?U.createElement(er,eu({viewBox:r},e,{key:"label-implicit"})):null:null},ute=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=_2(e),s=Kr(i,er).map(function(l,u){return k.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=cte(e.label,r||a);return[o].concat(qee(s))};er.parseViewBox=_2;er.renderCallByParent=ute;function dte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var fte=dte;const hte=Je(fte);function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}var pte=["valueAccessor"],mte=["data","dataKey","clockWise","id","textBreakAll"];function gte(t){return bte(t)||xte(t)||yte(t)||vte()}function vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yte(t,e){if(t){if(typeof t=="string")return Jy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jy(t,e)}}function xte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bte(t){if(Array.isArray(t))return Jy(t)}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){wte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wte(t,e,r){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=_te(t,"string");return tu(e)=="symbol"?e:e+""}function _te(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mj(t,e){if(t==null)return{};var r=Ete(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ete(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jte=function(e){return Array.isArray(e.value)?hte(e.value):e.value};function Qi(t){var e=t.valueAccessor,r=e===void 0?jte:e,n=mj(t,pte),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=mj(n,mte);return!i||!i.length?null:U.createElement(St,{className:"recharts-label-list"},i.map(function(d,f){var h=Oe(a)?r(d,f):Mr(d&&d.payload,a),p=Oe(o)?{}:{id:"".concat(o,"-").concat(f)};return U.createElement(er,fh({},Re(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:er.parseViewBox(Oe(s)?d:pj(pj({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Qi.displayName="LabelList";function Ate(t,e){return t?t===!0?U.createElement(Qi,{key:"labelList-implicit",data:e}):U.isValidElement(t)||Ce(t)?U.createElement(Qi,{key:"labelList-implicit",data:e,content:t}):el(t)?U.createElement(Qi,fh({data:e},t,{key:"labelList-implicit"})):null:null}function Tte(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Kr(n,Qi).map(function(s,o){return k.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=Ate(t.label,e);return[a].concat(gte(i))}Qi.renderCallByParent=Tte;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){Nte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nte(t,e,r){return e=Cte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cte(t){var e=kte(t,"string");return ru(e)=="symbol"?e:e+""}function kte(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ote=function(e,r){var n=mn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Sd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/dh,h=u?a:a+s*f,p=Wt(r,n,d,h),m=Wt(r,n,i,h),g=u?a-s*f:a,v=Wt(r,n,d*Math.cos(f*dh),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},E2=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,l=Ote(s,o),u=s+l,d=Wt(r,n,a,s),f=Wt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Wt(r,n,i,s),m=Wt(r,n,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Dte=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=mn(d-u),h=Sd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=Sd({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,b=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-g-b;if(S<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):E2({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var _=Sd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=_.circleTangency,j=_.lineTangency,A=_.theta,T=Sd({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=T.circleTangency,C=T.lineTangency,R=T.theta,F=l?Math.abs(u-d):Math.abs(u-d)-A-R;if(F<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Pte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},j2=function(e){var r=vj(vj({},Pte),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=$e("recharts-sector",h),m=s-a,g=es(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Dte({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=E2({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),U.createElement("path",e0({},Re(r,!0),{className:p,d:v,role:"img"}))};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(r),!0).forEach(function(n){Mte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mte(t,e,r){return e=Rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rte(t){var e=Ite(t,"string");return nu(e)=="symbol"?e:e+""}function Ite(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bj={curveBasisClosed:$z,curveBasisOpen:Lz,curveBasis:Iz,curveBumpX:Sz,curveBumpY:_z,curveLinearClosed:Fz,curveLinear:Bp,curveMonotoneX:Bz,curveMonotoneY:Uz,curveNatural:Hz,curveStep:zz,curveStepAfter:Vz,curveStepBefore:Wz},_d=function(e){return e.x===+e.x&&e.y===+e.y},Dl=function(e){return e.x},Pl=function(e){return e.y},$te=function(e,r){if(Ce(e))return e;var n="curve".concat(Lp(e));return(n==="curveMonotone"||n==="curveBump")&&r?bj["".concat(n).concat(r==="vertical"?"Y":"X")]:bj[n]||Bp},Lte=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=$te(n,o),f=u?a.filter(function(g){return _d(g)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return _d(g)}):s,m=f.map(function(g,v){return xj(xj({},g),{},{base:p[v]})});return o==="vertical"?h=hd().y(Pl).x1(Dl).x0(function(g){return g.base.x}):h=hd().x(Dl).y1(Pl).y0(function(g){return g.base.y}),h.defined(_d).curve(d),h(m)}return o==="vertical"&&le(s)?h=hd().y(Pl).x1(Dl).x0(s):le(s)?h=hd().x(Dl).y1(Pl).y0(s):h=jO().x(Dl).y(Pl),h.defined(_d).curve(d),h(f)},r0=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Lte(e):i;return k.createElement("path",t0({},Re(e,!1),Rf(e),{className:$e("recharts-curve",r),d:s,ref:a}))},A2={exports:{}},Fte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bte=Fte,Ute=Bte;function T2(){}function N2(){}N2.resetWarningCache=T2;var Hte=function(){function t(n,i,a,s,o,l){if(l!==Ute){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:N2,resetWarningCache:T2};return r.PropTypes=r,r};A2.exports=Hte();var zte=A2.exports;const Ue=Je(zte);var Wte=Object.getOwnPropertyNames,Vte=Object.getOwnPropertySymbols,Gte=Object.prototype.hasOwnProperty;function wj(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Ed(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function Sj(t){return Wte(t).concat(Vte(t))}var qte=Object.hasOwn||function(t,e){return Gte.call(t,e)};function vs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Yte="__v",Kte="__o",Qte="_owner",_j=Object.getOwnPropertyDescriptor,Ej=Object.keys;function Xte(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Zte(t,e){return vs(t.getTime(),e.getTime())}function Jte(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ere(t,e){return t===e}function jj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,o,l=0;(s=a.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var tre=vs;function rre(t,e,r){var n=Ej(t),i=n.length;if(Ej(e).length!==i)return!1;for(;i-- >0;)if(!C2(t,e,r,n[i]))return!1;return!0}function Ml(t,e,r){var n=Sj(t),i=n.length;if(Sj(e).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!C2(t,e,r,a)||(s=_j(t,a),o=_j(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function nre(t,e){return vs(t.valueOf(),e.valueOf())}function ire(t,e){return t.source===e.source&&t.flags===e.flags}function Aj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,o;(s=a.next())&&!s.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function are(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function sre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function C2(t,e,r,n){return(n===Qte||n===Kte||n===Yte)&&(t.$$typeof||e.$$typeof)?!0:qte(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ore="[object Arguments]",lre="[object Boolean]",cre="[object Date]",ure="[object Error]",dre="[object Map]",fre="[object Number]",hre="[object Object]",pre="[object RegExp]",mre="[object Set]",gre="[object String]",vre="[object URL]",yre=Array.isArray,Tj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Nj=Object.assign,xre=Object.prototype.toString.call.bind(Object.prototype.toString);function bre(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?s(m,g,v):x==="function"?i(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return o(m,g,v);if(yre(m))return e(m,g,v);if(Tj!=null&&Tj(m))return f(m,g,v);if(y===Date)return r(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return a(m,g,v);if(y===Set)return d(m,g,v);var b=xre(m);return b===cre?r(m,g,v):b===pre?u(m,g,v):b===dre?a(m,g,v):b===mre?d(m,g,v):b===hre?typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,v):b===vre?h(m,g,v):b===ure?n(m,g,v):b===ore?o(m,g,v):b===lre||b===fre||b===gre?l(m,g,v):!1}}function wre(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Ml:Xte,areDatesEqual:Zte,areErrorsEqual:Jte,areFunctionsEqual:ere,areMapsEqual:n?wj(jj,Ml):jj,areNumbersEqual:tre,areObjectsEqual:n?Ml:rre,arePrimitiveWrappersEqual:nre,areRegExpsEqual:ire,areSetsEqual:n?wj(Aj,Ml):Aj,areTypedArraysEqual:n?Ml:are,areUrlsEqual:sre};if(r&&(i=Nj({},i,r(i))),e){var a=Ed(i.areArraysEqual),s=Ed(i.areMapsEqual),o=Ed(i.areObjectsEqual),l=Ed(i.areSetsEqual);i=Nj({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return i}function Sre(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function _re(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,s)}}var Ere=ga();ga({strict:!0});ga({circular:!0});ga({circular:!0,strict:!0});ga({createInternalComparator:function(){return vs}});ga({strict:!0,createInternalComparator:function(){return vs}});ga({circular:!0,createInternalComparator:function(){return vs}});ga({circular:!0,createInternalComparator:function(){return vs},strict:!0});function ga(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,o=wre(t),l=bre(o),u=n?n(l):Sre(l);return _re({circular:r,comparator:l,createState:i,equals:u,strict:s})}function jre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Cj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):jre(i)};requestAnimationFrame(n)}function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function Are(t){return kre(t)||Cre(t)||Nre(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(t,e){if(t){if(typeof t=="string")return kj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kj(t,e)}}function kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kre(t){if(Array.isArray(t))return t}function Ore(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Are(s),l=o[0],u=o.slice(1);if(typeof l=="number"){Cj(i.bind(null,u),l);return}i(l),Cj(i.bind(null,u));return}n0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(r),!0).forEach(function(n){k2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k2(t,e,r){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dre(t){var e=Pre(t,"string");return iu(e)==="symbol"?e:String(e)}function Pre(t,e){if(iu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mre=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Rre=function(e){return e},Ire=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cc=function(e,r){return Object.keys(r).reduce(function(n,i){return Dj(Dj({},n),{},k2({},i,e(i,r[i])))},{})},Pj=function(e,r,n){return e.map(function(i){return"".concat(Ire(i)," ").concat(r,"ms ").concat(n)}).join(",")};function $re(t,e){return Bre(t)||Fre(t,e)||O2(t,e)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Bre(t){if(Array.isArray(t))return t}function Ure(t){return Wre(t)||zre(t)||O2(t)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2(t,e){if(t){if(typeof t=="string")return i0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i0(t,e)}}function zre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wre(t){if(Array.isArray(t))return i0(t)}function i0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hh=1e-4,D2=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},P2=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Mj=function(e,r){return function(n){var i=D2(e,r);return P2(i,n)}},Vre=function(e,r){return function(n){var i=D2(e,r),a=[].concat(Ure(i.map(function(s,o){return s*o}).slice(1)),[0]);return P2(a,n)}},Rj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=$re(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=Mj(i,s),h=Mj(a,o),p=Vre(i,s),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,S=0;S<8;++S){var w=f(b)-y,_=p(b);if(Math.abs(w-y)<hh||_<hh)return h(b);b=m(b-w/_)}return h(b)};return g.isStepper=!1,g},Gre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,l=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<hh&&Math.abs(g)<hh?[f,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},qre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Rj(i);case"spring":return Gre();default:if(i.split("(")[0]==="cubic-bezier")return Rj(i)}return typeof i=="function"?i:null};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Ij(t){return Qre(t)||Kre(t)||M2(t)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qre(t){if(Array.isArray(t))return s0(t)}function $j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(r),!0).forEach(function(n){a0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0(t,e,r){return e=Xre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xre(t){var e=Zre(t,"string");return au(e)==="symbol"?e:String(e)}function Zre(t,e){if(au(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jre(t,e){return rne(t)||tne(t,e)||M2(t,e)||ene()}function ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2(t,e){if(t){if(typeof t=="string")return s0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s0(t,e)}}function s0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function rne(t){if(Array.isArray(t))return t}var ph=function(e,r,n){return e+(r-e)*n},o0=function(e){var r=e.from,n=e.to;return r!==n},nne=function t(e,r,n){var i=cc(function(a,s){if(o0(s)){var o=e(s.from,s.to,s.velocity),l=Jre(o,2),u=l[0],d=l[1];return Ut(Ut({},s),{},{from:u,velocity:d})}return s},r);return n<1?cc(function(a,s){return o0(s)?Ut(Ut({},s),{},{velocity:ph(s.velocity,i[a].velocity,n),from:ph(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const ine=function(t,e,r,n,i){var a=Mre(t,e),s=a.reduce(function(v,x){return Ut(Ut({},v),{},a0({},x,[t[x],e[x]]))},{}),o=a.reduce(function(v,x){return Ut(Ut({},v),{},a0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return cc(function(x,y){return y.from},o)},p=function(){return!Object.values(o).filter(o0).length},m=function(x){u||(u=x);var y=x-u,b=y/r.dt;o=nne(r,o,b),i(Ut(Ut(Ut({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,b=cc(function(w,_){return ph.apply(void 0,Ij(_).concat([r(y)]))},s);if(i(Ut(Ut(Ut({},t),e),b)),y<1)l=requestAnimationFrame(f);else{var S=cc(function(w,_){return ph.apply(void 0,Ij(_).concat([r(1)]))},s);i(Ut(Ut(Ut({},t),e),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function To(t){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},To(t)}var ane=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sne(t,e){if(t==null)return{};var r=one(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function one(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ag(t){return dne(t)||une(t)||cne(t)||lne()}function lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cne(t,e){if(t){if(typeof t=="string")return l0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(t,e)}}function une(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dne(t){if(Array.isArray(t))return l0(t)}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(r),!0).forEach(function(n){Vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vl(t,e,r){return e=R2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R2(n.key),n)}}function hne(t,e,r){return e&&Fj(t.prototype,e),r&&Fj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R2(t){var e=pne(t,"string");return To(e)==="symbol"?e:String(e)}function pne(t,e){if(To(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(To(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c0(t,e)}function c0(t,e){return c0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c0(t,e)}function gne(t){var e=vne();return function(){var n=mh(t),i;if(e){var a=mh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return u0(this,i)}}function u0(t,e){if(e&&(To(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d0(t)}function d0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mh(t){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(t)}var rm=function(t){mne(r,t);var e=gne(r);function r(n,i){var a;fne(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(d0(a)),a.changeStyle=a.changeStyle.bind(d0(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),u0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},u0(a);a.state={style:l?Vl({},l,u):u}}else a.state={style:{}};return a}return hne(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:l?Vl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Ere(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?Vl({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(an(an({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=ine(s,o,qre(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var y=v.duration,b=v.easing,S=b===void 0?"ease":b,w=v.style,_=v.properties,E=v.onAnimationEnd,j=x>0?s[x-1]:v,A=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Ag(g),[a.runJSAnimation.bind(a,{from:j.style,to:w,duration:y,easing:S}),y]);var T=Pj(A,y,S),O=an(an(an({},j.style),w),{},{transition:T});return[].concat(Ag(g),[O,y,E]).filter(Rre)};return this.manager.start([l].concat(Ag(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ore());var a=i.begin,s=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?Vl({},o,l):l,v=Pj(Object.keys(g),s,u);m.start([d,a,an(an({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=sne(i,ane),u=k.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,y=k.cloneElement(p,an(an({},l),{},{style:an(an({},v),d),className:x}));return y};return u===1?f(k.Children.only(a)):U.createElement("div",null,k.Children.map(a,function(h){return f(h)}))}}]),r}(k.PureComponent);rm.displayName="Animate";rm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};rm.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};const No=rm;function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gh.apply(this,arguments)}function yne(t,e){return Sne(t)||wne(t,e)||bne(t,e)||xne()}function xne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t,e){if(t){if(typeof t=="string")return Bj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bj(t,e)}}function Bj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Sne(t){if(Array.isArray(t))return t}function Uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(r),!0).forEach(function(n){_ne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ne(t,e,r){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ene(t){var e=jne(t,"string");return su(e)=="symbol"?e:e+""}function jne(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zj=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(e,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*f[1])),d+="L ".concat(e+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(e,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*m,`
            L `).concat(e+n,",").concat(r+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Ane=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Tne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rw=function(e){var r=Hj(Hj({},Tne),e),n=k.useRef(),i=k.useState(-1),a=yne(i,2),s=a[0],o=a[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&o(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=$e("recharts-rectangle",p);return y?U.createElement(No,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(S){var w=S.width,_=S.height,E=S.x,j=S.y;return U.createElement(No,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},U.createElement("path",gh({},Re(r,!0),{className:b,d:zj(E,j,w,_,h),ref:n})))}):U.createElement("path",gh({},Re(r,!0),{className:b,d:zj(l,u,d,f,h)}))};function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f0.apply(this,arguments)}var nw=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=$e("recharts-dot",a);return r===+r&&n===+n&&i===+i?k.createElement("circle",f0({},Re(e,!1),Rf(e),{className:s,cx:r,cy:n,r:i})):null};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}var Nne=["x","y","top","left","width","height","className"];function h0(){return h0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h0.apply(this,arguments)}function Wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(r),!0).forEach(function(n){kne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kne(t,e,r){return e=One(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function One(t){var e=Dne(t,"string");return ou(e)=="symbol"?e:e+""}function Dne(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pne(t,e){if(t==null)return{};var r=Mne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Rne=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Ine=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=Pne(e,Nne),v=Cne({x:n,y:a,top:o,left:u,width:f,height:p},g);return!le(n)||!le(a)||!le(f)||!le(p)||!le(o)||!le(u)?null:U.createElement("path",h0({},Re(v,!0),{className:$e("recharts-cross",m),d:Rne(n,a,f,p,o,u)}))},$ne=KO,Lne=$ne(Object.getPrototypeOf,Object),Fne=Lne,Bne=hi,Une=Fne,Hne=pi,zne="[object Object]",Wne=Function.prototype,Vne=Object.prototype,I2=Wne.toString,Gne=Vne.hasOwnProperty,qne=I2.call(Object);function Yne(t){if(!Hne(t)||Bne(t)!=zne)return!1;var e=Une(t);if(e===null)return!0;var r=Gne.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&I2.call(r)==qne}var Kne=Yne;const Qne=Je(Kne);var Xne=hi,Zne=pi,Jne="[object Boolean]";function eie(t){return t===!0||t===!1||Zne(t)&&Xne(t)==Jne}var tie=eie;const rie=Je(tie);function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vh.apply(this,arguments)}function nie(t,e){return oie(t)||sie(t,e)||aie(t,e)||iie()}function iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(t,e){if(t){if(typeof t=="string")return Vj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vj(t,e)}}function Vj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function oie(t){if(Array.isArray(t))return t}function Gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(r),!0).forEach(function(n){lie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lie(t,e,r){return e=cie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cie(t){var e=uie(t,"string");return lu(e)=="symbol"?e:e+""}function uie(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yj=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},die={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fie=function(e){var r=qj(qj({},die),e),n=k.useRef(),i=k.useState(-1),a=nie(i,2),s=a[0],o=a[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=$e("recharts-trapezoid",p);return x?U.createElement(No,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(b){var S=b.upperWidth,w=b.lowerWidth,_=b.height,E=b.x,j=b.y;return U.createElement(No,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},U.createElement("path",vh({},Re(r,!0),{className:y,d:Yj(E,j,S,w,_),ref:n})))}):U.createElement("g",null,U.createElement("path",vh({},Re(r,!0),{className:y,d:Yj(l,u,d,f,h)})))},hie=["option","shapeType","propTransformer","activeClassName","isActive"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function pie(t,e){if(t==null)return{};var r=mie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){gie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gie(t,e,r){return e=vie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vie(t){var e=yie(t,"string");return cu(e)=="symbol"?e:e+""}function yie(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t,e){return yh(yh({},e),t)}function bie(t,e){return t==="symbols"}function Qj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return U.createElement(rw,r);case"trapezoid":return U.createElement(fie,r);case"sector":return U.createElement(j2,r);case"symbols":if(bie(e))return U.createElement(wb,r);break;default:return null}}function wie(t){return k.isValidElement(t)?t.props:t}function Sie(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?xie:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,l=pie(t,hie),u;if(k.isValidElement(e))u=k.cloneElement(e,yh(yh({},l),wie(e)));else if(Ce(e))u=e(l);else if(Qne(e)&&!rie(e)){var d=i(e,l);u=U.createElement(Qj,{shapeType:r,elementProps:d})}else{var f=l;u=U.createElement(Qj,{shapeType:r,elementProps:f})}return o?U.createElement(St,{className:s},u):u}function nm(t,e){return e!=null&&"trapezoids"in t.props}function im(t,e){return e!=null&&"sectors"in t.props}function uu(t,e){return e!=null&&"points"in t.props}function _ie(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Eie(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function jie(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Aie(t,e){var r;return nm(t,e)?r=_ie:im(t,e)?r=Eie:uu(t,e)&&(r=jie),r}function Tie(t,e){var r;return nm(t,e)?r="trapezoids":im(t,e)?r="sectors":uu(t,e)&&(r="points"),r}function Nie(t,e){if(nm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(im(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return uu(t,e)?e.payload:{}}function Cie(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Tie(r,e),a=Nie(r,e),s=n.filter(function(l,u){var d=Jp(a,l),f=r.props[i].filter(function(m){var g=Aie(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var kie=Math.ceil,Oie=Math.max;function Die(t,e,r,n){for(var i=-1,a=Oie(kie((e-t)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=t,t+=r;return s}var Pie=Die,Mie=pD,Xj=1/0,Rie=17976931348623157e292;function Iie(t){if(!t)return t===0?t:0;if(t=Mie(t),t===Xj||t===-Xj){var e=t<0?-1:1;return e*Rie}return t===t?t:0}var $2=Iie,$ie=Pie,Lie=Wp,Tg=$2;function Fie(t){return function(e,r,n){return n&&typeof n!="number"&&Lie(e,r,n)&&(r=n=void 0),e=Tg(e),r===void 0?(r=e,e=0):r=Tg(r),n=n===void 0?e<r?1:-1:Tg(n),$ie(e,r,n,t)}}var Bie=Fie,Uie=Bie,Hie=Uie(),zie=Hie;const xh=Je(zie);function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(r),!0).forEach(function(n){L2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L2(t,e,r){return e=Wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wie(t){var e=Vie(t,"string");return du(e)=="symbol"?e:e+""}function Vie(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gie=["Webkit","Moz","O","ms"],qie=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Gie.reduce(function(a,s){return Jj(Jj({},a),{},L2({},s+n,r))},{});return i[e]=r,i};function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bh.apply(this,arguments)}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ng(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){Er(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B2(n.key),n)}}function Kie(t,e,r){return e&&tA(t.prototype,e),r&&tA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qie(t,e,r){return e=wh(e),Xie(t,F2()?Reflect.construct(e,r||[],wh(t).constructor):e.apply(t,r))}function Xie(t,e){if(e&&(Co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zie(t)}function Zie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F2=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(t)}function Jie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p0(t,e)}function Er(t,e,r){return e=B2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B2(t){var e=eae(t,"string");return Co(e)=="symbol"?e:e+""}function eae(t,e){if(Co(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=oc().domain(xh(0,l)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},rA=function(e){return e.changedTouches&&!!e.changedTouches.length},ko=function(t){function e(r){var n;return Yie(this,e),n=Qie(this,e,[r]),Er(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Er(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Er(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Er(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Er(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Er(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Er(n,"handleSlideDragStart",function(i){var a=rA(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jie(e,t),Kie(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(s,f),m=e.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,l=Mr(a[n],o,n);return Ce(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=rA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[s]=u+y;var b=this.getIndex(x),S=b.startIndex,w=b.endIndex,_=function(){var j=v.length-1;return s==="startX"&&(o>l?S%g===0:w%g===0)||o<l&&w===j||s==="endX"&&(o>l?w%g===0:S%g===0)||o>l&&w===j};this.setState(Er(Er({},s,u+y),"brushMoveStartX",n.pageX),function(){m&&_()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Er({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,f=k.Children.only(u);return f?U.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=Ng(Ng({},Re(this.props,!1)),{},{x,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return U.createElement(St,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return U.createElement(St,{className:"recharts-brush-texts"},U.createElement(Qf,bh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),U.createElement(Qf,bh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!le(o)||!le(l)||!le(u)||!le(d)||u<=0||d<=0)return null;var b=$e("recharts-brush",a),S=U.Children.count(s)===1,w=qie("userSelect","none");return U.createElement(St,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(a+o/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:a,width:s,height:o,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return U.isValidElement(n)?a=U.cloneElement(n,i):Ce(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Ng({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?tae({data:a,width:s,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+s-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>i?o=l:s=l}return i>=n[o]?o:s}}])}(k.PureComponent);Er(ko,"displayName","Brush");Er(ko,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rae=Nb;function nae(t,e){var r;return rae(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var iae=nae,aae=UO,sae=ha,oae=iae,lae=Sr,cae=Wp;function uae(t,e,r){var n=lae(t)?aae:oae;return r&&cae(t,e,r)&&(e=void 0),n(t,sae(e))}var dae=uae;const fae=Je(dae);var Mn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},nA=cD;function hae(t,e,r){e=="__proto__"&&nA?nA(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var pae=hae,mae=pae,gae=oD,vae=ha;function yae(t,e){var r={};return e=vae(e),gae(t,function(n,i,a){mae(r,i,e(n,i,a))}),r}var xae=yae;const bae=Je(xae);function wae(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Sae=wae,_ae=Nb;function Eae(t,e){var r=!0;return _ae(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var jae=Eae,Aae=Sae,Tae=jae,Nae=ha,Cae=Sr,kae=Wp;function Oae(t,e,r){var n=Cae(t)?Aae:Tae;return r&&kae(t,e,r)&&(e=void 0),n(t,Nae(e))}var Dae=Oae;const U2=Je(Dae);var Pae=["x","y"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m0.apply(this,arguments)}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){Mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mae(t,e,r){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rae(t){var e=Iae(t,"string");return fu(e)=="symbol"?e:e+""}function Iae(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t,e){if(t==null)return{};var r=Lae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fae(t,e){var r=t.x,n=t.y,i=$ae(t,Pae),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Rl(Rl(Rl(Rl(Rl({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function aA(t){return U.createElement(Sie,m0({shapeType:"rectangle",propTransformer:Fae,activeClassName:"recharts-active-bar"},t))}var Bae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=le(n)||o5(n);return a?e(n,i):(a||rs(!1),r)}},Uae=["value","background"],H2;function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function Hae(t,e){if(t==null)return{};var r=zae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sh.apply(this,arguments)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W2(n.key),n)}}function Vae(t,e,r){return e&&oA(t.prototype,e),r&&oA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,r){return e=_h(e),qae(t,z2()?Reflect.construct(e,r||[],_h(t).constructor):e.apply(t,r))}function qae(t,e){if(e&&(Oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(t)}function Yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z2=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(t)}function Kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g0(t,e)}function g0(t,e){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g0(t,e)}function Ri(t,e,r){return e=W2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W2(t){var e=Qae(t,"string");return Oo(e)=="symbol"?e:e+""}function Qae(t,e){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ea=function(t){function e(){var r;Wae(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gae(this,e,[].concat(i)),Ri(r,"state",{isAnimationFinished:!1}),Ri(r,"id",ku("recharts-bar-")),Ri(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ri(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Kae(e,t),Vae(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,l=a.activeIndex,u=a.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:s,g=jt(jt(jt({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(St,Sh({className:"recharts-bar-rectangle"},If(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(aA,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return U.createElement(No,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,x){var y=h&&h[x];if(y){var b=hn(y.x,v.x),S=hn(y.y,v.y),w=hn(y.width,v.width),_=hn(y.height,v.height);return jt(jt({},v),{},{x:b(m),y:S(m),width:w(m),height:_(m)})}if(s==="horizontal"){var E=hn(0,v.height),j=E(m);return jt(jt({},v),{},{y:v.y+v.height-j,height:j})}var A=hn(0,v.width),T=A(m);return jt(jt({},v),{},{width:T})});return U.createElement(St,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Jp(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,l=Re(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Hae(u,Uae);if(!f)return null;var p=jt(jt(jt(jt(jt({},h),{},{fill:"#eee"},f),l),If(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(aA,Sh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Kr(d,Iu);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:Mr(v,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return U.createElement(St,m,f.map(function(g){return U.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=$e("recharts-bar",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,S=y||b,w=Oe(g)?this.id:g;return U.createElement(St,{className:x},y||b?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(w)},U.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,U.createElement(St,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||v)&&Qi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(k.PureComponent);H2=ea;Ri(ea,"displayName","Bar");Ri(ea,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ri(ea,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Tee(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?jt(jt({},g),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,S=m==="horizontal"?s:a,w=u?S.scale.domain():null,_=Ree({numericAxis:S}),E=Kr(y,gD),j=f.map(function(A,T){var O,C,R,F,H,V;u?O=Nee(u[d+T],w):(O=Mr(A,x),Array.isArray(O)||(O=[_,O]));var D=Bae(b,H2.defaultProps.minPointSize)(O[1],T);if(m==="horizontal"){var P,L=[s.scale(O[0]),s.scale(O[1])],$=L[0],B=L[1];C=aj({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:A,index:T}),R=(P=B??$)!==null&&P!==void 0?P:void 0,F=p.size;var G=$-B;if(H=Number.isNaN(G)?0:G,V={x:C,y:s.y,width:F,height:s.height},Math.abs(D)>0&&Math.abs(H)<Math.abs(D)){var Y=mn(H||D)*(Math.abs(D)-Math.abs(H));R-=Y,H+=Y}}else{var oe=[a.scale(O[0]),a.scale(O[1])],ue=oe[0],z=oe[1];if(C=ue,R=aj({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:A,index:T}),F=z-ue,H=p.size,V={x:a.x,y:R,width:a.width,height:H},Math.abs(D)>0&&Math.abs(F)<Math.abs(D)){var K=mn(F||D)*(Math.abs(D)-Math.abs(F));F+=K}}return jt(jt(jt({},A),{},{x:C,y:R,width:F,height:H,value:u?O:O[1],payload:A,background:V},E&&E[T]&&E[T].props),{},{tooltipPayload:[S2(r,A)],tooltipPosition:{x:C+F/2,y:R+H/2}})});return jt({data:j,layout:m},h)});function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function Xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V2(n.key),n)}}function Zae(t,e,r){return e&&lA(t.prototype,e),r&&lA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(r),!0).forEach(function(n){am(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function am(t,e,r){return e=V2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V2(t){var e=Jae(t,"string");return hu(e)=="symbol"?e:e+""}function Jae(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G2=function(e,r,n,i,a){var s=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ar(u,ea);return d.reduce(function(p,m){var g=r[m],v=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,S=g.mirror,w=g.reversed,_="".concat(v).concat(S?"Mirror":""),E,j,A,T,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=x[1]-x[0],R=1/0,F=g.categoricalDomain.sort(u5);if(F.forEach(function(oe,ue){ue>0&&(R=Math.min((oe||0)-(F[ue-1]||0),R))}),Number.isFinite(R)){var H=R/C,V=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=H*V/2),g.padding==="no-gap"){var D=es(e.barCategoryGap,H*V),P=H*V/2;E=P-D-(P-D)/V*D}}}i==="xAxis"?j=[n.left+(b.left||0)+(E||0),n.left+n.width-(b.right||0)-(E||0)]:i==="yAxis"?j=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(E||0),n.top+n.height-(b.bottom||0)-(E||0)]:j=g.range,w&&(j=[j[1],j[0]]);var L=jee(g,a,h),$=L.scale,B=L.realScaleType;$.domain(x).range(j),Aee($);var G=Mee($,un(un({},g),{},{realScaleType:B}));i==="xAxis"?(O=v==="top"&&!S||v==="bottom"&&S,A=n.left,T=f[_]-O*g.height):i==="yAxis"&&(O=v==="left"&&!S||v==="right"&&S,A=f[_]-O*g.width,T=n.top);var Y=un(un(un({},g),G),{},{realScaleType:B,x:A,y:T,scale:$,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return Y.bandSize=uh(Y,G),!g.hide&&i==="xAxis"?f[_]+=(O?-1:1)*Y.height:g.hide||(f[_]+=(O?-1:1)*Y.width),un(un({},p),{},am({},m,Y))},{})},q2=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},ese=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return q2({x:r,y:n},{x:i,y:a})},Y2=function(){function t(e){Xae(this,t),this.scale=e}return Zae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();am(Y2,"EPS",1e-4);var iw=function(e){var r=Object.keys(e).reduce(function(n,i){return un(un({},n),{},am({},i,Y2.create(e[i])))},{});return un(un({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return bae(i,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(i){return U2(i,function(a,s){return r[s].isInRange(a)})}})};function tse(t){return(t%180+180)%180}var rse=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tse(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},nse=ha,ise=Ou,ase=Hp;function sse(t){return function(e,r,n){var i=Object(e);if(!ise(e)){var a=nse(r);e=ase(e),r=function(o){return a(i[o],o,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:void 0}}var ose=sse,lse=$2;function cse(t){var e=lse(t),r=e%1;return e===e?r?e-r:e:0}var use=cse,dse=tD,fse=ha,hse=use,pse=Math.max;function mse(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:hse(r);return i<0&&(i=pse(n+i,0)),dse(t,fse(e),i)}var gse=mse,vse=ose,yse=gse,xse=vse(yse),bse=xse;const wse=Je(bse);var Sse=dH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),aw=k.createContext(void 0),sw=k.createContext(void 0),K2=k.createContext(void 0),Q2=k.createContext({}),X2=k.createContext(void 0),Z2=k.createContext(0),J2=k.createContext(0),uA=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,l=e.width,u=e.height,d=Sse(a);return U.createElement(aw.Provider,{value:n},U.createElement(sw.Provider,{value:i},U.createElement(Q2.Provider,{value:a},U.createElement(K2.Provider,{value:d},U.createElement(X2.Provider,{value:s},U.createElement(Z2.Provider,{value:u},U.createElement(J2.Provider,{value:l},o)))))))},_se=function(){return k.useContext(X2)},eP=function(e){var r=k.useContext(aw);r==null&&rs(!1);var n=r[e];return n==null&&rs(!1),n},Ese=function(){var e=k.useContext(aw);return Oi(e)},jse=function(){var e=k.useContext(sw),r=wse(e,function(n){return U2(n.domain,Number.isFinite)});return r||Oi(e)},tP=function(e){var r=k.useContext(sw);r==null&&rs(!1);var n=r[e];return n==null&&rs(!1),n},Ase=function(){var e=k.useContext(K2);return e},Tse=function(){return k.useContext(Q2)},ow=function(){return k.useContext(J2)},lw=function(){return k.useContext(Z2)};function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nP(n.key),n)}}function Cse(t,e,r){return e&&dA(t.prototype,e),r&&dA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kse(t,e,r){return e=Eh(e),Ose(t,rP()?Reflect.construct(e,r||[],Eh(t).constructor):e.apply(t,r))}function Ose(t,e){if(e&&(Do(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dse(t)}function Dse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rP=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v0(t,e)}function fA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(r),!0).forEach(function(n){cw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cw(t,e,r){return e=nP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nP(t){var e=Mse(t,"string");return Do(e)=="symbol"?e:e+""}function Mse(t,e){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rse(t,e){return Fse(t)||Lse(t,e)||$se(t,e)||Ise()}function Ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){if(t){if(typeof t=="string")return pA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(t,e)}}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Fse(t){if(Array.isArray(t))return t}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}var Bse=function(e,r){var n;return U.isValidElement(e)?n=U.cloneElement(e,r):Ce(e)?n=e(r):n=U.createElement("line",y0({},r,{className:"recharts-reference-line-line"})),n},Use=function(e,r,n,i,a,s,o,l,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=u.y,g=e.y.apply(m,{position:s});if(Mn(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:s});if(Mn(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?b.reverse():b}if(i){var S=u.segment,w=S.map(function(_){return e.apply(_,{position:s})});return Mn(u,"discard")&&fae(w,function(_){return!e.isInRange(_)})?null:w}return null};function Hse(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,l=t.alwaysShow,u=_se(),d=eP(i),f=tP(a),h=Ase();if(!u||!h)return null;ei(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=iw({x:d.scale,y:f.scale}),m=Dt(e),g=Dt(r),v=n&&n.length===2,x=Use(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=Rse(x,2),b=y[0],S=b.x,w=b.y,_=y[1],E=_.x,j=_.y,A=Mn(t,"hidden")?"url(#".concat(u,")"):void 0,T=hA(hA({clipPath:A},Re(t,!0)),{},{x1:S,y1:w,x2:E,y2:j});return U.createElement(St,{className:$e("recharts-reference-line",o)},Bse(s,T),er.renderCallByParent(t,ese({x1:S,y1:w,x2:E,y2:j})))}var uw=function(t){function e(){return Nse(this,e),kse(this,e,arguments)}return Pse(e,t),Cse(e,[{key:"render",value:function(){return U.createElement(Hse,this.props)}}])}(U.Component);cw(uw,"displayName","ReferenceLine");cw(uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x0.apply(this,arguments)}function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function mA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(r),!0).forEach(function(n){sm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aP(n.key),n)}}function Wse(t,e,r){return e&&vA(t.prototype,e),r&&vA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vse(t,e,r){return e=jh(e),Gse(t,iP()?Reflect.construct(e,r||[],jh(t).constructor):e.apply(t,r))}function Gse(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qse(t)}function qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iP=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(t)}function Yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b0(t,e)}function b0(t,e){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b0(t,e)}function sm(t,e,r){return e=aP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aP(t){var e=Kse(t,"string");return Po(e)=="symbol"?e:e+""}function Kse(t,e){if(Po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qse=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=iw({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Mn(e,"discard")&&!s.isInRange(o)?null:o},om=function(t){function e(){return zse(this,e),Vse(this,e,arguments)}return Yse(e,t),Wse(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Dt(i),d=Dt(a);if(ei(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Qse(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=Mn(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=gA(gA({clipPath:x},Re(this.props,!0)),{},{cx:h,cy:p});return U.createElement(St,{className:$e("recharts-reference-dot",v)},e.renderDot(g,y),er.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(U.Component);sm(om,"displayName","ReferenceDot");sm(om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sm(om,"renderDot",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):Ce(t)?r=t(e):r=U.createElement(nw,x0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w0.apply(this,arguments)}function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){lm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oP(n.key),n)}}function Zse(t,e,r){return e&&bA(t.prototype,e),r&&bA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jse(t,e,r){return e=Ah(e),eoe(t,sP()?Reflect.construct(e,r||[],Ah(t).constructor):e.apply(t,r))}function eoe(t,e){if(e&&(Mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return toe(t)}function toe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}function roe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(t,e)}function lm(t,e,r){return e=oP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oP(t){var e=noe(t,"string");return Mo(e)=="symbol"?e:e+""}function noe(t,e){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ioe=function(e,r,n,i,a){var s=a.x1,o=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=iw({x:d.scale,y:f.scale}),p={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Mn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:q2(p,m)},cm=function(t){function e(){return Xse(this,e),Jse(this,e,arguments)}return roe(e,t),Zse(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;ei(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),h=Dt(a),p=Dt(s),m=Dt(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=ioe(f,h,p,m,this.props);if(!v&&!g)return null;var x=Mn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(St,{className:$e("recharts-reference-area",l)},e.renderRect(g,xA(xA({clipPath:x},Re(this.props,!0)),v)),er.renderCallByParent(this.props,v))}}])}(U.Component);lm(cm,"displayName","ReferenceArea");lm(cm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lm(cm,"renderRect",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):Ce(t)?r=t(e):r=U.createElement(rw,w0({},e,{className:"recharts-reference-area-rect"})),r});function lP(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function aoe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return rse(n,r)}function soe(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Th(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function ooe(t,e){return lP(t,e+1)}function loe(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,l=0,u=1,d=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:lP(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(m,g)),v},y=m.coordinate,b=l===0||Th(t,y,x,d,o);b||(l=0,d=s,u+=1),b&&(d=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function wA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wA(Object(r),!0).forEach(function(n){coe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function coe(t,e,r){return e=uoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uoe(t){var e=doe(t,"string");return pu(e)=="symbol"?e:e+""}function doe(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function foe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,l=e.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Zt(Zt({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Zt(Zt({},p),{},{tickCoord:p.coordinate});var x=Th(t,p.tickCoord,g,o,l);x&&(l=p.tickCoord-t*(g()/2+i),a[h]=Zt(Zt({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function hoe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,l=e.start,u=e.end;if(a){var d=n[o-1],f=r(d,o-1),h=t*(d.coordinate+t*f/2-u);s[o-1]=d=Zt(Zt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Th(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),s[o-1]=Zt(Zt({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(y){var b=s[y],S,w=function(){return S===void 0&&(S=r(b,y)),S};if(y===0){var _=t*(b.coordinate-t*w()/2-l);s[y]=b=Zt(Zt({},b),{},{tickCoord:_<0?b.coordinate-_*t:b.coordinate})}else s[y]=b=Zt(Zt({},b),{},{tickCoord:b.coordinate});var E=Th(t,b.tickCoord,w,l,u);E&&(l=b.tickCoord+t*(w()/2+i),s[y]=Zt(Zt({},b),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function dw(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(le(l)||ti.isSsr)return ooe(i,typeof l=="number"&&le(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?sc(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,S){var w=Ce(u)?u(b.value,S):b.value;return p==="width"?aoe(sc(w,{fontSize:e,letterSpacing:r}),m,f):sc(w,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?mn(i[1].coordinate-i[0].coordinate):1,x=soe(a,v,p);return l==="equidistantPreserveStart"?loe(v,x,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=hoe(v,x,g,i,s,l==="preserveStartEnd"):h=foe(v,x,g,i,s),h.filter(function(y){return y.isShow}))}var poe=["viewBox"],moe=["viewBox"],goe=["ticks"];function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qs.apply(this,arguments)}function SA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(r),!0).forEach(function(n){fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cg(t,e){if(t==null)return{};var r=voe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function voe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uP(n.key),n)}}function xoe(t,e,r){return e&&_A(t.prototype,e),r&&_A(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function boe(t,e,r){return e=Nh(e),woe(t,cP()?Reflect.construct(e,r||[],Nh(t).constructor):e.apply(t,r))}function woe(t,e){if(e&&(Ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Soe(t)}function Soe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nh(t)}function _oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_0(t,e)}function fw(t,e,r){return e=uP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uP(t){var e=Eoe(t,"string");return Ro(e)=="symbol"?e:e+""}function Eoe(t,e){if(Ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ul=function(t){function e(r){var n;return yoe(this,e),n=boe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _oe(e,t),xoe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Cg(n,poe),o=this.props,l=o.viewBox,u=Cg(o,moe);return!ro(a,l)||!ro(s,u)||!ro(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,x,y,b=f?-1:1,S=n.tickSize||d,w=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=s+ +!f*l,g=v-b*S,y=g-b*h,x=w;break;case"left":g=v=n.coordinate,m=a+ +!f*o,p=m-b*S,x=p-b*h,y=w;break;case"right":g=v=n.coordinate,m=a+ +f*o,p=m+b*S,x=p+b*h,y=w;break;default:p=m=n.coordinate,v=s+ +f*l,g=v+b*S,y=g+b*h,x=w;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Nt(Nt(Nt({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Nt(Nt({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Nt(Nt({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return U.createElement("line",qs({},f,{className:$e("recharts-cartesian-axis-line",Yr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=dw(Nt(Nt({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Re(this.props,!1),x=Re(d,!1),y=Nt(Nt({},v),{},{fill:"none"},Re(l,!1)),b=p.map(function(S,w){var _=s.getTickLineCoord(S),E=_.line,j=_.tick,A=Nt(Nt(Nt(Nt({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),j),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return U.createElement(St,qs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},If(s.props,S,w)),l&&U.createElement("line",qs({},y,E,{className:$e("recharts-cartesian-axis-tick-line",Yr(l,"className"))})),d&&e.renderTickItem(d,A,"".concat(Ce(f)?f(S.value,w):S.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=Cg(f,goe),m=h;return Ce(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:U.createElement(St,{className:$e("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=$e(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(n)?s=U.cloneElement(n,Nt(Nt({},i),{},{className:o})):Ce(n)?s=n(Nt(Nt({},i),{},{className:o})):s=U.createElement(Qf,qs({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(k.Component);fw(ul,"displayName","CartesianAxis");fw(ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var joe=["x1","y1","x2","y2","key"],Aoe=["offset"];function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function EA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(r),!0).forEach(function(n){Toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Toe(t,e,r){return e=Noe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Noe(t){var e=Coe(t,"string");return ns(e)=="symbol"?e:e+""}function Coe(t,e){if(ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ba.apply(this,arguments)}function jA(t,e){if(t==null)return{};var r=koe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function koe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ooe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,l=e.ry;return U.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dP(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(Ce(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,l=jA(e,joe),u=Re(l,!1);u.offset;var d=jA(u,Aoe);r=U.createElement("line",Ba({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Doe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=tr(tr({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return dP(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Poe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,l){var u=tr(tr({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return dP(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Moe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return U.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Roe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return U.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ioe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return b2(dw(tr(tr(tr({},ul.defaultProps),n),{},{ticks:Qn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},$oe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return b2(dw(tr(tr(tr({},ul.defaultProps),n),{},{ticks:Qn(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Cs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ch(t){var e,r,n,i,a,s,o=ow(),l=lw(),u=Tse(),d=tr(tr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Cs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Cs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Cs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Cs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Cs.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Cs.verticalFill,x:le(t.x)?t.x:u.left,y:le(t.y)?t.y:u.top,width:le(t.width)?t.width:u.width,height:le(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Ese(),b=jse();if(!le(p)||p<=0||!le(m)||m<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Ioe,w=d.horizontalCoordinatesGenerator||$oe,_=d.horizontalPoints,E=d.verticalPoints;if((!_||!_.length)&&Ce(w)){var j=v&&v.length,A=w({yAxis:b?tr(tr({},b),{},{ticks:j?v:b.ticks}):void 0,width:o,height:l,offset:u},j?!0:g);ei(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ns(A),"]")),Array.isArray(A)&&(_=A)}if((!E||!E.length)&&Ce(S)){var T=x&&x.length,O=S({xAxis:y?tr(tr({},y),{},{ticks:T?x:y.ticks}):void 0,width:o,height:l,offset:u},T?!0:g);ei(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ns(O),"]")),Array.isArray(O)&&(E=O)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(Ooe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(Doe,Ba({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:b})),U.createElement(Poe,Ba({},d,{offset:u,verticalPoints:E,xAxis:y,yAxis:b})),U.createElement(Moe,Ba({},d,{horizontalPoints:_})),U.createElement(Roe,Ba({},d,{verticalPoints:E})))}Ch.displayName="CartesianGrid";var Loe=["type","layout","connectNulls","ref"],Foe=["key"];function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function AA(t,e){if(t==null)return{};var r=Boe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Boe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function TA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TA(Object(r),!0).forEach(function(n){dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ks(t){return Woe(t)||zoe(t)||Hoe(t)||Uoe()}function Uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hoe(t,e){if(t){if(typeof t=="string")return E0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(t,e)}}function zoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Woe(t){if(Array.isArray(t))return E0(t)}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hP(n.key),n)}}function Goe(t,e,r){return e&&NA(t.prototype,e),r&&NA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qoe(t,e,r){return e=kh(e),Yoe(t,fP()?Reflect.construct(e,r||[],kh(t).constructor):e.apply(t,r))}function Yoe(t,e){if(e&&(Io(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Koe(t)}function Koe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fP=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(t)}function Qoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j0(t,e)}function j0(t,e){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j0(t,e)}function dn(t,e,r){return e=hP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hP(t){var e=Xoe(t,"string");return Io(e)=="symbol"?e:e+""}function Xoe(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dl=function(t){function e(){var r;Voe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=qoe(this,e,[].concat(i)),dn(r,"state",{isAnimationFinished:!0,totalLength:0}),dn(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),dn(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(ks(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(ks(e.repeat(l,d)),ks(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),dn(r,"id",ku("recharts-line-")),dn(r,"pathRef",function(s){r.mainCurve=s}),dn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),dn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Qoe(e,t),Goe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=Kr(d,Iu);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Mr(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return U.createElement(St,p,f.map(function(m){return U.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,f=Re(this.props,!1),h=Re(l,!0),p=u.map(function(g,v){var x=_r(_r(_r({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(l,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return U.createElement(St,uc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=AA(o,Loe),h=_r(_r(_r({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:d});return U.createElement(r0,uc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,x=this.state,y=x.prevPoints,b=x.totalLength;return U.createElement(No,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(y){var _=y.length/o.length,E=o.map(function(C,R){var F=Math.floor(R*_);if(y[F]){var H=y[F],V=hn(H.x,C.x),D=hn(H.y,C.y);return _r(_r({},C),{},{x:V(w),y:D(w)})}if(m){var P=hn(g*2,C.x),L=hn(v/2,C.y);return _r(_r({},C),{},{x:P(w),y:L(w)})}return _r(_r({},C),{},{x:C.x,y:C.y})});return a.renderCurveStatically(E,n,i)}var j=hn(0,b),A=j(w),T;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});T=a.getStrokeDasharray(A,b,O)}else T=a.generateSimpleStrokeDasharray(b,A);return a.renderCurveStatically(o,n,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&s&&s.length&&(!u&&d>0||!Jp(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,b=$e("recharts-line",l),S=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,_=S||w,E=Oe(v)?this.id:v,j=(n=Re(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=j.r,T=A===void 0?3:A,O=j.strokeWidth,C=O===void 0?2:O,R=x5(s)?s:{},F=R.clipDot,H=F===void 0?!0:F,V=T*2+C;return U.createElement(St,{className:b},S||w?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:S?h:h-p/2,y:w?f:f-m/2,width:S?p:p*2,height:w?m:m*2})),!H&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:h-V/2,y:f-V/2,width:p+V,height:m+V}))):null,!y&&this.renderCurve(_,E),this.renderErrorBar(_,E),(y||s)&&this.renderDots(_,H,E),(!g||x)&&Qi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(ks(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(ks(s),ks(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(U.isValidElement(n))a=U.cloneElement(n,i);else if(Ce(n))a=n(i);else{var s=i.key,o=AA(i,Foe),l=$e("recharts-line-dot",typeof n!="boolean"?n.className:"");a=U.createElement(nw,uc({key:s},o,{className:l}))}return a}}])}(k.PureComponent);dn(dl,"displayName","Line");dn(dl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ti.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dn(dl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var m=Mr(h,s);return d==="horizontal"?{x:ij({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:Oe(m)?null:n.scale(m),value:m,payload:h}:{x:Oe(m)?null:r.scale(m),y:ij({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return _r({points:f,layout:d},u)});function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function Zoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gP(n.key),n)}}function Joe(t,e,r){return e&&CA(t.prototype,e),r&&CA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ele(t,e,r){return e=Oh(e),tle(t,pP()?Reflect.construct(e,r||[],Oh(t).constructor):e.apply(t,r))}function tle(t,e){if(e&&($o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rle(t)}function rle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(t)}function nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A0(t,e)}function mP(t,e,r){return e=gP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gP(t){var e=ile(t,"string");return $o(e)=="symbol"?e:e+""}function ile(t,e){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function ale(t){var e=t.xAxisId,r=ow(),n=lw(),i=eP(e);return i==null?null:k.createElement(ul,T0({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qn(s,!0)}}))}var is=function(t){function e(){return Zoe(this,e),ele(this,e,arguments)}return nle(e,t),Joe(e,[{key:"render",value:function(){return k.createElement(ale,this.props)}}])}(k.Component);mP(is,"displayName","XAxis");mP(is,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(t)}function sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xP(n.key),n)}}function ole(t,e,r){return e&&kA(t.prototype,e),r&&kA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lle(t,e,r){return e=Dh(e),cle(t,vP()?Reflect.construct(e,r||[],Dh(t).constructor):e.apply(t,r))}function cle(t,e){if(e&&(Lo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ule(t)}function ule(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vP=function(){return!!t})()}function Dh(t){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(t)}function dle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N0(t,e)}function yP(t,e,r){return e=xP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xP(t){var e=fle(t,"string");return Lo(e)=="symbol"?e:e+""}function fle(t,e){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}var hle=function(e){var r=e.yAxisId,n=ow(),i=lw(),a=tP(r);return a==null?null:k.createElement(ul,C0({},a,{className:$e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Qn(o,!0)}}))},as=function(t){function e(){return sle(this,e),lle(this,e,arguments)}return dle(e,t),ole(e,[{key:"render",value:function(){return k.createElement(hle,this.props)}}])}(k.Component);yP(as,"displayName","YAxis");yP(as,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OA(t){return vle(t)||gle(t)||mle(t)||ple()}function ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mle(t,e){if(t){if(typeof t=="string")return k0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(t,e)}}function gle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vle(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var O0=function(e,r,n,i,a){var s=Kr(e,uw),o=Kr(e,om),l=[].concat(OA(s),OA(o)),u=Kr(e,cm),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Mn(v.props,"extendDomain")&&le(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&Mn(v.props,"extendDomain")&&le(v.props[p])&&le(v.props[m])){var x=v.props[p],y=v.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return le(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},bP={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(bP);var yle=bP.exports;const xle=Je(yle);var kg=new xle,Og="recharts.syncMouseEvents";function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wP(n.key),n)}}function wle(t,e,r){return e&&DA(t.prototype,e),r&&DA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dg(t,e,r){return e=wP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wP(t){var e=Sle(t,"string");return mu(e)=="symbol"?e:e+""}function Sle(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _le=function(){function t(){ble(this,t),Dg(this,"activeIndex",0),Dg(this,"coordinateList",[]),Dg(this,"layout","horizontal")}return wle(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ele(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&le(n)&&le(i))return!0}return!1}function jle(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function SP(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Wt(e,r,n,i),o=Wt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Ale(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Wt(o,l,u,f),p=Wt(o,l,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return SP(e);return[{x:n,y:i},{x:a,y:s}]}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function PA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(r),!0).forEach(function(n){Tle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tle(t,e,r){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nle(t){var e=Cle(t,"string");return gu(e)=="symbol"?e:e+""}function Cle(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kle(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=r0;if(h==="ScatterChart")m=s,g=Ine;else if(h==="BarChart")m=jle(f,s,l,d),g=rw;else if(f==="radial"){var v=SP(s),x=v.cx,y=v.cy,b=v.radius,S=v.startAngle,w=v.endAngle;m={cx:x,cy:y,startAngle:S,endAngle:w,innerRadius:b,outerRadius:b},g=j2}else m={points:Ale(f,s,l)},g=r0;var _=jd(jd(jd(jd({stroke:"#ccc",pointerEvents:"none"},l),m),Re(p,!1)),{},{payload:o,payloadIndex:u,className:$e("recharts-tooltip-cursor",p.className)});return k.isValidElement(p)?k.cloneElement(p,_):k.createElement(g,_)}var Ole=["item"],Dle=["children","className","width","height","style","compact","title","desc"];function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(t)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ys.apply(this,arguments)}function MA(t,e){return Rle(t)||Mle(t,e)||EP(t,e)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Rle(t){if(Array.isArray(t))return t}function RA(t,e){if(t==null)return{};var r=Ile(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ile(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jP(n.key),n)}}function Lle(t,e,r){return e&&IA(t.prototype,e),r&&IA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fle(t,e,r){return e=Ph(e),Ble(t,_P()?Reflect.construct(e,r||[],Ph(t).constructor):e.apply(t,r))}function Ble(t,e){if(e&&(Fo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ule(t)}function Ule(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_P=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(t)}function Hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D0(t,e)}function Bo(t){return Vle(t)||Wle(t)||EP(t)||zle()}function zle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EP(t,e){if(t){if(typeof t=="string")return P0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P0(t,e)}}function Wle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vle(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(r),!0).forEach(function(n){_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _e(t,e,r){return e=jP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jP(t){var e=Gle(t,"string");return Fo(e)=="symbol"?e:e+""}function Gle(t,e){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qle={xAxis:["bottom","top"],yAxis:["left","right"]},Yle={width:"100%",height:"100%"},AP={x:0,y:0};function Ad(t){return t}var Kle=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Qle=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return J(J(J({},i),Wt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,u=i.angle;return J(J(J({},i),Wt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return AP},um=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Bo(o),Bo(u)):o},[]);return s.length>0?s:e&&e.length&&le(i)&&le(a)?e.slice(i,a+1):[]};function TP(t){return t==="number"?[0,"auto"]:void 0}var M0=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=um(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Mf(p,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(Bo(l),[S2(u,h)]):l},[])},LA=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Kle(a,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=xee(s,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=M0(e,r,d,f),p=Qle(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Xle=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=x2(d,a);return n.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?J(J({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,S=x.allowDataOverflow,w=x.allowDuplicatedCategory,_=x.scale,E=x.ticks,j=x.includeHidden,A=x[s];if(m[A])return m;var T=um(e.data,{graphicalItems:i.filter(function(G){var Y,oe=s in G.props?G.props[s]:(Y=G.type.defaultProps)===null||Y===void 0?void 0:Y[s];return oe===A}),dataStartIndex:l,dataEndIndex:u}),O=T.length,C,R,F;Ele(x.domain,S,y)&&(C=Xy(x.domain,null,S),p&&(y==="number"||_!=="auto")&&(F=lc(T,b,"category")));var H=TP(y);if(!C||C.length===0){var V,D=(V=x.domain)!==null&&V!==void 0?V:H;if(b){if(C=lc(T,b,y),y==="category"&&p){var P=c5(C);w&&P?(R=C,C=xh(0,O)):w||(C=lj(D,C,g).reduce(function(G,Y){return G.indexOf(Y)>=0?G:[].concat(Bo(G),[Y])},[]))}else if(y==="category")w?C=C.filter(function(G){return G!==""&&!Oe(G)}):C=lj(D,C,g).reduce(function(G,Y){return G.indexOf(Y)>=0||Y===""||Oe(Y)?G:[].concat(Bo(G),[Y])},[]);else if(y==="number"){var L=Eee(T,i.filter(function(G){var Y,oe,ue=s in G.props?G.props[s]:(Y=G.type.defaultProps)===null||Y===void 0?void 0:Y[s],z="hide"in G.props?G.props.hide:(oe=G.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return ue===A&&(j||!z)}),b,a,d);L&&(C=L)}p&&(y==="number"||_!=="auto")&&(F=lc(T,b,"category"))}else p?C=xh(0,O):o&&o[A]&&o[A].hasStack&&y==="number"?C=h==="expand"?[0,1]:w2(o[A].stackGroups,l,u):C=y2(T,i.filter(function(G){var Y=s in G.props?G.props[s]:G.type.defaultProps[s],oe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return Y===A&&(j||!oe)}),y,d,!0);if(y==="number")C=O0(f,C,A,a,E),D&&(C=Xy(D,C,S));else if(y==="category"&&D){var $=D,B=C.every(function(G){return $.indexOf(G)>=0});B&&(C=$)}}return J(J({},m),{},_e({},A,J(J({},x),{},{axisType:a,domain:C,categoricalDomain:F,duplicateDomain:R,originalDomain:(v=x.domain)!==null&&v!==void 0?v:H,isCategorical:p,layout:d})))},{})},Zle=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=um(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=x2(d,a),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?J(J({},x.type.defaultProps),x.props):x.props,b=y[s],S=TP("number");if(!v[b]){g++;var w;return m?w=xh(0,p):o&&o[b]&&o[b].hasStack?(w=w2(o[b].stackGroups,l,u),w=O0(f,w,b,a)):(w=Xy(S,y2(h,n.filter(function(_){var E,j,A=s in _.props?_.props[s]:(E=_.type.defaultProps)===null||E===void 0?void 0:E[s],T="hide"in _.props?_.props.hide:(j=_.type.defaultProps)===null||j===void 0?void 0:j.hide;return A===b&&!T}),"number",d),i.defaultProps.allowDataOverflow),w=O0(f,w,b,a)),J(J({},v),{},_e({},b,J(J({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yr(qle,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},Jle=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Kr(d,a),p={};return h&&h.length?p=Xle(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(p=Zle(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},ece=function(e){var r=Oi(e),n=Qn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Cb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:uh(r,n)}},FA=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ar(r,ko),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},tce=function(e){return!e||!e.length?!1:e.some(function(r){var n=Jn(r&&r.type);return n&&n.indexOf("Bar")>=0})},BA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rce=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Ar(f,ko),m=Ar(f,Yi),g=Object.keys(l).reduce(function(w,_){var E=l[_],j=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},_e({},j,w[j]+E.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(w,_){var E=s[_],j=E.orientation;return!E.mirror&&!E.hide?J(J({},w),{},_e({},j,Yr(w,"".concat(j))+E.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=J(J({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||ko.defaultProps.height),m&&r&&(x=See(x,i,n,r));var b=u-x.left-x.right,S=d-x.top-x.bottom;return J(J({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(S,0)})},nce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},NP=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var b=y.graphicalItems,S=y.stackGroups,w=y.offset,_=y.updateId,E=y.dataStartIndex,j=y.dataEndIndex,A=x.barSize,T=x.layout,O=x.barGap,C=x.barCategoryGap,R=x.maxBarSize,F=BA(T),H=F.numericAxisName,V=F.cateAxisName,D=tce(b),P=[];return b.forEach(function(L,$){var B=um(x.data,{graphicalItems:[L],dataStartIndex:E,dataEndIndex:j}),G=L.type.defaultProps!==void 0?J(J({},L.type.defaultProps),L.props):L.props,Y=G.dataKey,oe=G.maxBarSize,ue=G["".concat(H,"Id")],z=G["".concat(V,"Id")],K={},ee=l.reduce(function(Ne,X){var he=y["".concat(X.axisType,"Map")],ge=G["".concat(X.axisType,"Id")];he&&he[ge]||X.axisType==="zAxis"||rs(!1);var Se=he[ge];return J(J({},Ne),{},_e(_e({},X.axisType,Se),"".concat(X.axisType,"Ticks"),Qn(Se)))},K),q=ee[V],re=ee["".concat(V,"Ticks")],ie=S&&S[ue]&&S[ue].hasStack&&Iee(L,S[ue].stackGroups),N=Jn(L.type).indexOf("Bar")>=0,M=uh(q,re),W=[],Q=D&&bee({barSize:A,stackGroups:S,totalSize:nce(ee,V)});if(N){var ne,ae,pe=Oe(oe)?R:oe,de=(ne=(ae=uh(q,re,!0))!==null&&ae!==void 0?ae:pe)!==null&&ne!==void 0?ne:0;W=wee({barGap:O,barCategoryGap:C,bandSize:de!==M?de:M,sizeList:Q[z],maxBarSize:pe}),de!==M&&(W=W.map(function(Ne){return J(J({},Ne),{},{position:J(J({},Ne.position),{},{offset:Ne.position.offset-de/2})})}))}var me=L&&L.type&&L.type.getComposedData;me&&P.push({props:J(J({},me(J(J({},ee),{},{displayedData:B,props:x,dataKey:Y,item:L,bandSize:M,barPosition:W,offset:w,stackedData:ie,layout:T,dataStartIndex:E,dataEndIndex:j}))),{},_e(_e(_e({key:L.key||"item-".concat($)},H,ee[H]),V,ee[V]),"animationId",_)),childIndex:S5(L,x.children),item:L})}),P},p=function(x,y){var b=x.props,S=x.dataStartIndex,w=x.dataEndIndex,_=x.updateId;if(!X_({props:b}))return null;var E=b.children,j=b.layout,A=b.stackOffset,T=b.data,O=b.reverseStackOrder,C=BA(j),R=C.numericAxisName,F=C.cateAxisName,H=Kr(E,n),V=Pee(T,H,"".concat(R,"Id"),"".concat(F,"Id"),A,O),D=l.reduce(function(G,Y){var oe="".concat(Y.axisType,"Map");return J(J({},G),{},_e({},oe,Jle(b,J(J({},Y),{},{graphicalItems:H,stackGroups:Y.axisType===R&&V,dataStartIndex:S,dataEndIndex:w}))))},{}),P=rce(J(J({},D),{},{props:b,graphicalItems:H}),y==null?void 0:y.legendBBox);Object.keys(D).forEach(function(G){D[G]=d(b,D[G],P,G.replace("Map",""),r)});var L=D["".concat(F,"Map")],$=ece(L),B=h(b,J(J({},D),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:H,stackGroups:V,offset:P}));return J(J({formattedGraphicalItems:B,graphicalItems:H,offset:P,stackGroups:V},$),D)},m=function(v){function x(y){var b,S,w;return $le(this,x),w=Fle(this,x,[y]),_e(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(w,"accessibilityManager",new _le),_e(w,"handleLegendBBoxUpdate",function(_){if(_){var E=w.state,j=E.dataStartIndex,A=E.dataEndIndex,T=E.updateId;w.setState(J({legendBBox:_},p({props:w.props,dataStartIndex:j,dataEndIndex:A,updateId:T},J(J({},w.state),{},{legendBBox:_}))))}}),_e(w,"handleReceiveSyncEvent",function(_,E,j){if(w.props.syncId===_){if(j===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),_e(w,"handleBrushChange",function(_){var E=_.startIndex,j=_.endIndex;if(E!==w.state.dataStartIndex||j!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return J({dataStartIndex:E,dataEndIndex:j},p({props:w.props,dataStartIndex:E,dataEndIndex:j,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:j})}}),_e(w,"handleMouseEnter",function(_){var E=w.getMouseInfo(_);if(E){var j=J(J({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var A=w.props.onMouseEnter;Ce(A)&&A(j,_)}}),_e(w,"triggeredAfterMouseMove",function(_){var E=w.getMouseInfo(_),j=E?J(J({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(j),w.triggerSyncEvent(j);var A=w.props.onMouseMove;Ce(A)&&A(j,_)}),_e(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),_e(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),_e(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),_e(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var j=w.props.onMouseLeave;Ce(j)&&j(E,_)}),_e(w,"handleOuterEvent",function(_){var E=w5(_),j=Yr(w.props,"".concat(E));if(E&&Ce(j)){var A,T;/.*touch.*/i.test(E)?T=w.getMouseInfo(_.changedTouches[0]):T=w.getMouseInfo(_),j((A=T)!==null&&A!==void 0?A:{},_)}}),_e(w,"handleClick",function(_){var E=w.getMouseInfo(_);if(E){var j=J(J({},E),{},{isTooltipActive:!0});w.setState(j),w.triggerSyncEvent(j);var A=w.props.onClick;Ce(A)&&A(j,_)}}),_e(w,"handleMouseDown",function(_){var E=w.props.onMouseDown;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),_e(w,"handleMouseUp",function(_){var E=w.props.onMouseUp;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),_e(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),_e(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),_e(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),_e(w,"handleDoubleClick",function(_){var E=w.props.onDoubleClick;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),_e(w,"handleContextMenu",function(_){var E=w.props.onContextMenu;if(Ce(E)){var j=w.getMouseInfo(_);E(j,_)}}),_e(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&kg.emit(Og,w.props.syncId,_,w.eventEmitterSymbol)}),_e(w,"applySyncEvent",function(_){var E=w.props,j=E.layout,A=E.syncMethod,T=w.state.updateId,O=_.dataStartIndex,C=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(J({dataStartIndex:O,dataEndIndex:C},p({props:w.props,dataStartIndex:O,dataEndIndex:C,updateId:T},w.state)));else if(_.activeTooltipIndex!==void 0){var R=_.chartX,F=_.chartY,H=_.activeTooltipIndex,V=w.state,D=V.offset,P=V.tooltipTicks;if(!D)return;if(typeof A=="function")H=A(P,_);else if(A==="value"){H=-1;for(var L=0;L<P.length;L++)if(P[L].value===_.activeLabel){H=L;break}}var $=J(J({},D),{},{x:D.left,y:D.top}),B=Math.min(R,$.x+$.width),G=Math.min(F,$.y+$.height),Y=P[H]&&P[H].value,oe=M0(w.state,w.props.data,H),ue=P[H]?{x:j==="horizontal"?P[H].coordinate:B,y:j==="horizontal"?G:P[H].coordinate}:AP;w.setState(J(J({},_),{},{activeLabel:Y,activeCoordinate:ue,activePayload:oe,activeTooltipIndex:H}))}else w.setState(_)}),_e(w,"renderCursor",function(_){var E,j=w.state,A=j.isTooltipActive,T=j.activeCoordinate,O=j.activePayload,C=j.offset,R=j.activeTooltipIndex,F=j.tooltipAxisBandSize,H=w.getTooltipEventType(),V=(E=_.props.active)!==null&&E!==void 0?E:A,D=w.props.layout,P=_.key||"_recharts-cursor";return U.createElement(kle,{key:P,activeCoordinate:T,activePayload:O,activeTooltipIndex:R,chartName:r,element:_,isActive:V,layout:D,offset:C,tooltipAxisBandSize:F,tooltipEventType:H})}),_e(w,"renderPolarAxis",function(_,E,j){var A=Yr(_,"type.axisType"),T=Yr(w.state,"".concat(A,"Map")),O=_.type.defaultProps,C=O!==void 0?J(J({},O),_.props):_.props,R=T&&T[C["".concat(A,"Id")]];return k.cloneElement(_,J(J({},R),{},{className:$e(A,R.className),key:_.key||"".concat(E,"-").concat(j),ticks:Qn(R,!0)}))}),_e(w,"renderPolarGrid",function(_){var E=_.props,j=E.radialLines,A=E.polarAngles,T=E.polarRadius,O=w.state,C=O.radiusAxisMap,R=O.angleAxisMap,F=Oi(C),H=Oi(R),V=H.cx,D=H.cy,P=H.innerRadius,L=H.outerRadius;return k.cloneElement(_,{polarAngles:Array.isArray(A)?A:Qn(H,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(T)?T:Qn(F,!0).map(function($){return $.coordinate}),cx:V,cy:D,innerRadius:P,outerRadius:L,key:_.key||"polar-grid",radialLines:j})}),_e(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,E=w.props,j=E.children,A=E.width,T=E.height,O=w.props.margin||{},C=A-(O.left||0)-(O.right||0),R=g2({children:j,formattedGraphicalItems:_,legendWidth:C,legendContent:u});if(!R)return null;var F=R.item,H=RA(R,Ole);return k.cloneElement(F,J(J({},H),{},{chartWidth:A,chartHeight:T,margin:O,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),_e(w,"renderTooltip",function(){var _,E=w.props,j=E.children,A=E.accessibilityLayer,T=Ar(j,Ur);if(!T)return null;var O=w.state,C=O.isTooltipActive,R=O.activeCoordinate,F=O.activePayload,H=O.activeLabel,V=O.offset,D=(_=T.props.active)!==null&&_!==void 0?_:C;return k.cloneElement(T,{viewBox:J(J({},V),{},{x:V.left,y:V.top}),active:D,label:H,payload:D?F:[],coordinate:R,accessibilityLayer:A})}),_e(w,"renderBrush",function(_){var E=w.props,j=E.margin,A=E.data,T=w.state,O=T.offset,C=T.dataStartIndex,R=T.dataEndIndex,F=T.updateId;return k.cloneElement(_,{key:_.key||"_recharts-brush",onChange:wd(w.handleBrushChange,_.props.onChange),data:A,x:le(_.props.x)?_.props.x:O.left,y:le(_.props.y)?_.props.y:O.top+O.height+O.brushBottom-(j.bottom||0),width:le(_.props.width)?_.props.width:O.width,startIndex:C,endIndex:R,updateId:"brush-".concat(F)})}),_e(w,"renderReferenceElement",function(_,E,j){if(!_)return null;var A=w,T=A.clipPathId,O=w.state,C=O.xAxisMap,R=O.yAxisMap,F=O.offset,H=_.type.defaultProps||{},V=_.props,D=V.xAxisId,P=D===void 0?H.xAxisId:D,L=V.yAxisId,$=L===void 0?H.yAxisId:L;return k.cloneElement(_,{key:_.key||"".concat(E,"-").concat(j),xAxis:C[P],yAxis:R[$],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:T})}),_e(w,"renderActivePoints",function(_){var E=_.item,j=_.activePoint,A=_.basePoint,T=_.childIndex,O=_.isRange,C=[],R=E.props.key,F=E.item.type.defaultProps!==void 0?J(J({},E.item.type.defaultProps),E.item.props):E.item.props,H=F.activeDot,V=F.dataKey,D=J(J({index:T,dataKey:V,cx:j.x,cy:j.y,r:4,fill:tw(E.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},Re(H,!1)),Rf(H));return C.push(x.renderActiveDot(H,D,"".concat(R,"-activePoint-").concat(T))),A?C.push(x.renderActiveDot(H,J(J({},D),{},{cx:A.x,cy:A.y}),"".concat(R,"-basePoint-").concat(T))):O&&C.push(null),C}),_e(w,"renderGraphicChild",function(_,E,j){var A=w.filterFormatItem(_,E,j);if(!A)return null;var T=w.getTooltipEventType(),O=w.state,C=O.isTooltipActive,R=O.tooltipAxis,F=O.activeTooltipIndex,H=O.activeLabel,V=w.props.children,D=Ar(V,Ur),P=A.props,L=P.points,$=P.isRange,B=P.baseLine,G=A.item.type.defaultProps!==void 0?J(J({},A.item.type.defaultProps),A.item.props):A.item.props,Y=G.activeDot,oe=G.hide,ue=G.activeBar,z=G.activeShape,K=!!(!oe&&C&&D&&(Y||ue||z)),ee={};T!=="axis"&&D&&D.props.trigger==="click"?ee={onClick:wd(w.handleItemMouseEnter,_.props.onClick)}:T!=="axis"&&(ee={onMouseLeave:wd(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:wd(w.handleItemMouseEnter,_.props.onMouseEnter)});var q=k.cloneElement(_,J(J({},A.props),ee));function re(X){return typeof R.dataKey=="function"?R.dataKey(X.payload):null}if(K)if(F>=0){var ie,N;if(R.dataKey&&!R.allowDuplicatedCategory){var M=typeof R.dataKey=="function"?re:"payload.".concat(R.dataKey.toString());ie=Mf(L,M,H),N=$&&B&&Mf(B,M,H)}else ie=L==null?void 0:L[F],N=$&&B&&B[F];if(z||ue){var W=_.props.activeIndex!==void 0?_.props.activeIndex:F;return[k.cloneElement(_,J(J(J({},A.props),ee),{},{activeIndex:W})),null,null]}if(!Oe(ie))return[q].concat(Bo(w.renderActivePoints({item:A,activePoint:ie,basePoint:N,childIndex:F,isRange:$})))}else{var Q,ne=(Q=w.getItemByXY(w.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:q},ae=ne.graphicalItem,pe=ae.item,de=pe===void 0?_:pe,me=ae.childIndex,Ne=J(J(J({},A.props),ee),{},{activeIndex:me});return[k.cloneElement(de,Ne),null,null]}return $?[q,null,null]:[q,null]}),_e(w,"renderCustomized",function(_,E,j){return k.cloneElement(_,J(J({key:"recharts-customized-".concat(j)},w.props),w.state))}),_e(w,"renderMap",{CartesianGrid:{handler:Ad,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Ad},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Ad},YAxis:{handler:Ad},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:ku("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=mD(w.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return Hle(x,v),Lle(x,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,w=b.data,_=b.height,E=b.layout,j=Ar(S,Ur);if(j){var A=j.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,O=M0(this.state,w,A,T),C=this.state.tooltipTicks[A].coordinate,R=(this.state.offset.top+_)/2,F=E==="horizontal",H=F?{x:C,y:R}:{y:C,x:R},V=this.state.formattedGraphicalItems.find(function(P){var L=P.item;return L.type.name==="Scatter"});V&&(H=J(J({},H),V.props.points[A].tooltipPosition),O=V.props.points[A].tooltipPayload);var D={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:O,activeCoordinate:H};this.setState(D),this.renderCursor(j),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(b){dy([Ar(b.children,Ur)],[Ar(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ar(this.props.children,Ur);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return o.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=VK(w),E={chartX:Math.round(b.pageX-_.left),chartY:Math.round(b.pageY-_.top)},j=w.width/S.offsetWidth||1,A=this.inRange(E.chartX,E.chartY,j);if(!A)return null;var T=this.state,O=T.xAxisMap,C=T.yAxisMap,R=this.getTooltipEventType(),F=LA(this.state,this.props.data,this.props.layout,A);if(R!=="axis"&&O&&C){var H=Oi(O).scale,V=Oi(C).scale,D=H&&H.invert?H.invert(E.chartX):null,P=V&&V.invert?V.invert(E.chartY):null;return J(J({},E),{},{xValue:D,yValue:P},F)}return F?J(J({},E),F):null}},{key:"inRange",value:function(b,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,E=b/w,j=S/w;if(_==="horizontal"||_==="vertical"){var A=this.state.offset,T=E>=A.left&&E<=A.left+A.width&&j>=A.top&&j<=A.top+A.height;return T?{x:E,y:j}:null}var O=this.state,C=O.angleAxisMap,R=O.radiusAxisMap;if(C&&R){var F=Oi(C);return dj({x:E,y:j},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),w=Ar(b,Ur),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Rf(this.props,this.handleOuterEvent);return J(J({},E),_)}},{key:"addListener",value:function(){kg.on(Og,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kg.removeListener(Og,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,w){for(var _=this.state.formattedGraphicalItems,E=0,j=_.length;E<j;E++){var A=_[E];if(A.item===b||A.props.key===b.key||S===Jn(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,E=S.height,j=S.width;return U.createElement("defs",null,U.createElement("clipPath",{id:b},U.createElement("rect",{x:w,y:_,height:E,width:j})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=MA(w,2),E=_[0],j=_[1];return J(J({},S),{},_e({},E,j.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,w){var _=MA(w,2),E=_[0],j=_[1];return J(J({},S),{},_e({},E,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var E=0,j=w.length;E<j;E++){var A=w[E],T=A.props,O=A.item,C=O.type.defaultProps!==void 0?J(J({},O.type.defaultProps),O.props):O.props,R=Jn(O.type);if(R==="Bar"){var F=(T.data||[]).find(function(P){return Ane(b,P)});if(F)return{graphicalItem:A,payload:F}}else if(R==="RadialBar"){var H=(T.data||[]).find(function(P){return dj(b,P)});if(H)return{graphicalItem:A,payload:H}}else if(nm(A,_)||im(A,_)||uu(A,_)){var V=Cie({graphicalItem:A,activeTooltipItem:_,itemData:C.data}),D=C.activeIndex===void 0?V:C.activeIndex;return{graphicalItem:J(J({},A),{},{childIndex:D}),payload:uu(A,_)?C.data[V]:A.props.data[V]}}}return null}},{key:"render",value:function(){var b=this;if(!X_(this))return null;var S=this.props,w=S.children,_=S.className,E=S.width,j=S.height,A=S.style,T=S.compact,O=S.title,C=S.desc,R=RA(S,Dle),F=Re(R,!1);if(T)return U.createElement(uA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(hy,Ys({},F,{width:E,height:j,title:O,desc:C}),this.renderClipPath(),J_(w,this.renderMap)));if(this.props.accessibilityLayer){var H,V;F.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,F.role=(V=this.props.role)!==null&&V!==void 0?V:"application",F.onKeyDown=function(P){b.accessibilityManager.keyboardEvent(P)},F.onFocus=function(){b.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return U.createElement(uA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Ys({className:$e("recharts-wrapper",_),style:J({position:"relative",cursor:"default",width:E,height:j},A)},D,{ref:function(L){b.container=L}}),U.createElement(hy,Ys({},F,{width:E,height:j,title:O,desc:C,style:Yle}),this.renderClipPath(),J_(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);_e(m,"displayName",r),_e(m,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),_e(m,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,S=v.children,w=v.width,_=v.height,E=v.layout,j=v.stackOffset,A=v.margin,T=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var C=FA(v);return J(J(J({},C),{},{updateId:0},p(J(J({props:v},C),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:j,prevMargin:A,prevChildren:S})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||_!==x.prevHeight||E!==x.prevLayout||j!==x.prevStackOffset||!ro(A,x.prevMargin)){var R=FA(v),F={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},H=J(J({},LA(x,b,E)),{},{updateId:x.updateId+1}),V=J(J(J({},R),F),H);return J(J(J({},V),p(J({props:v},V),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:_,prevLayout:E,prevStackOffset:j,prevMargin:A,prevChildren:S})}if(!dy(S,x.prevChildren)){var D,P,L,$,B=Ar(S,ko),G=B&&(D=(P=B.props)===null||P===void 0?void 0:P.startIndex)!==null&&D!==void 0?D:T,Y=B&&(L=($=B.props)===null||$===void 0?void 0:$.endIndex)!==null&&L!==void 0?L:O,oe=G!==T||Y!==O,ue=!Oe(b),z=ue&&!oe?x.updateId:x.updateId+1;return J(J({updateId:z},p(J(J({props:v},x),{},{updateId:z,dataStartIndex:G,dataEndIndex:Y}),x)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:Y})}return null}),_e(m,"renderActiveDot",function(v,x,y){var b;return k.isValidElement(v)?b=k.cloneElement(v,x):Ce(v)?b=v(x):b=U.createElement(nw,x),U.createElement(St,{className:"recharts-active-dot",key:y},b)});var g=k.forwardRef(function(x,y){return U.createElement(m,Ys({},x,{ref:y}))});return g.displayName=m.displayName,g},CP=NP({chartName:"LineChart",GraphicalChild:dl,axisComponents:[{axisType:"xAxis",AxisComp:is},{axisType:"yAxis",AxisComp:as}],formatAxisMap:G2}),ice=NP({chartName:"BarChart",GraphicalChild:ea,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:is},{axisType:"yAxis",AxisComp:as}],formatAxisMap:G2});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function Jr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ze(t){ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Mh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ace(t,e){ze(2,arguments);var r=Ze(t),n=Jr(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function kP(t,e){ze(2,arguments);var r=Ze(t),n=Jr(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function sce(t,e){ze(2,arguments);var r=Ze(t).getTime(),n=Jr(e);return new Date(r+n)}var oce={};function $u(){return oce}function R0(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Qd(t,e){ze(2,arguments);var r=Ze(t),n=Ze(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var OP=6e4,DP=36e5;function lce(t){return ze(1,arguments),t instanceof Date||Mh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cce(t){if(ze(1,arguments),!lce(t)&&typeof t!="number")return!1;var e=Ze(t);return!isNaN(Number(e))}function uce(t,e){ze(2,arguments);var r=Ze(t),n=Ze(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function dce(t,e){return ze(2,arguments),Ze(t).getTime()-Ze(e).getTime()}var UA={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},fce="trunc";function hce(t){return t?UA[t]:UA[fce]}function pce(t){ze(1,arguments);var e=Ze(t);return e.setHours(23,59,59,999),e}function mce(t){ze(1,arguments);var e=Ze(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function gce(t){ze(1,arguments);var e=Ze(t);return pce(e).getTime()===mce(e).getTime()}function vce(t,e){ze(2,arguments);var r=Ze(t),n=Ze(e),i=Qd(r,n),a=Math.abs(uce(r,n)),s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var o=Qd(r,n)===-i;gce(Ze(t))&&a===1&&Qd(t,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function yce(t,e,r){ze(2,arguments);var n=dce(t,e)/1e3;return hce(r==null?void 0:r.roundingMethod)(n)}function xce(t,e){ze(2,arguments);var r=Jr(e);return sce(t,-r)}var bce=864e5;function wce(t){ze(1,arguments);var e=Ze(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/bce)+1}function Rh(t){ze(1,arguments);var e=1,r=Ze(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function PP(t){ze(1,arguments);var e=Ze(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=Rh(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=Rh(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function Sce(t){ze(1,arguments);var e=PP(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Rh(r);return n}var _ce=6048e5;function Ece(t){ze(1,arguments);var e=Ze(t),r=Rh(e).getTime()-Sce(e).getTime();return Math.round(r/_ce)+1}function Ih(t,e){var r,n,i,a,s,o,l,u;ze(1,arguments);var d=$u(),f=Jr((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ze(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function MP(t,e){var r,n,i,a,s,o,l,u;ze(1,arguments);var d=Ze(t),f=d.getUTCFullYear(),h=$u(),p=Jr((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=Ih(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=Ih(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function jce(t,e){var r,n,i,a,s,o,l,u;ze(1,arguments);var d=$u(),f=Jr((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=MP(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=Ih(p,e);return m}var Ace=6048e5;function Tce(t,e){ze(1,arguments);var r=Ze(t),n=Ih(r,e).getTime()-jce(r,e).getTime();return Math.round(n/Ace)+1}function Ve(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Nce={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Ve(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Ve(n+1,2)},d:function(e,r){return Ve(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Ve(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Ve(e.getUTCHours(),r.length)},m:function(e,r){return Ve(e.getUTCMinutes(),r.length)},s:function(e,r){return Ve(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Ve(a,r.length)}};const wi=Nce;var Os={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cce={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return wi.y(e,r)},Y:function(e,r,n,i){var a=MP(e,i),s=a>0?a:1-a;if(r==="YY"){var o=s%100;return Ve(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ve(s,r.length)},R:function(e,r){var n=PP(e);return Ve(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Ve(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Ve(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Ve(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return wi.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Ve(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=Tce(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Ve(a,r.length)},I:function(e,r,n){var i=Ece(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Ve(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):wi.d(e,r)},D:function(e,r,n){var i=wce(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ve(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Ve(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Ve(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Ve(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=Os.noon:i===0?a=Os.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=Os.evening:i>=12?a=Os.afternoon:i>=4?a=Os.morning:a=Os.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return wi.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):wi.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ve(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ve(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):wi.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):wi.s(e,r)},S:function(e,r){return wi.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return zA(s);case"XXXX":case"XX":return Ta(s);case"XXXXX":case"XXX":default:return Ta(s,":")}},x:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"x":return zA(s);case"xxxx":case"xx":return Ta(s);case"xxxxx":case"xxx":default:return Ta(s,":")}},O:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+HA(s,":");case"OOOO":default:return"GMT"+Ta(s,":")}},z:function(e,r,n,i){var a=i._originalDate||e,s=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+HA(s,":");case"zzzz":default:return"GMT"+Ta(s,":")}},t:function(e,r,n,i){var a=i._originalDate||e,s=Math.floor(a.getTime()/1e3);return Ve(s,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,s=a.getTime();return Ve(s,r.length)}};function HA(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var s=e||"";return r+String(i)+s+Ve(a,2)}function zA(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Ve(Math.abs(t)/60,2)}return Ta(t,e)}function Ta(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Ve(Math.floor(i/60),2),s=Ve(i%60,2);return n+a+r+s}const kce=Cce;var WA=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},RP=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Oce=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return WA(e,r);var s;switch(i){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",WA(i,r)).replace("{{time}}",RP(a,r))},Dce={p:RP,P:Oce};const Pce=Dce;var Mce=["D","DD"],Rce=["YY","YYYY"];function Ice(t){return Mce.indexOf(t)!==-1}function $ce(t){return Rce.indexOf(t)!==-1}function VA(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Lce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fce=function(e,r,n){var i,a=Lce[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};const Bce=Fce;function Pg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var Uce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wce={date:Pg({formats:Uce,defaultWidth:"full"}),time:Pg({formats:Hce,defaultWidth:"full"}),dateTime:Pg({formats:zce,defaultWidth:"full"})};const Vce=Wce;var Gce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qce=function(e,r,n,i){return Gce[e]};const Yce=qce;function Il(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{var o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Kce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tue=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rue={ordinalNumber:tue,era:Il({values:Kce,defaultWidth:"wide"}),quarter:Il({values:Qce,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Il({values:Xce,defaultWidth:"wide"}),day:Il({values:Zce,defaultWidth:"wide"}),dayPeriod:Il({values:Jce,defaultWidth:"wide",formattingValues:eue,defaultFormattingWidth:"wide"})};const nue=rue;function $l(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var s=a[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?aue(o,function(f){return f.test(s)}):iue(o,function(f){return f.test(s)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(s.length);return{value:u,rest:d}}}function iue(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function aue(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function sue(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var s=t.valueCallback?t.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;var o=e.slice(i.length);return{value:s,rest:o}}}var oue=/^(\d+)(th|st|nd|rd)?/i,lue=/\d+/i,cue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uue={any:[/^b/i,/^(a|c)/i]},due={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fue={any:[/1/i,/2/i,/3/i,/4/i]},hue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xue={ordinalNumber:sue({matchPattern:oue,parsePattern:lue,valueCallback:function(e){return parseInt(e,10)}}),era:$l({matchPatterns:cue,defaultMatchWidth:"wide",parsePatterns:uue,defaultParseWidth:"any"}),quarter:$l({matchPatterns:due,defaultMatchWidth:"wide",parsePatterns:fue,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$l({matchPatterns:hue,defaultMatchWidth:"wide",parsePatterns:pue,defaultParseWidth:"any"}),day:$l({matchPatterns:mue,defaultMatchWidth:"wide",parsePatterns:gue,defaultParseWidth:"any"}),dayPeriod:$l({matchPatterns:vue,defaultMatchWidth:"any",parsePatterns:yue,defaultParseWidth:"any"})};const bue=xue;var wue={code:"en-US",formatDistance:Bce,formatLong:Vce,formatRelative:Yce,localize:nue,match:bue,options:{weekStartsOn:0,firstWeekContainsDate:1}};const IP=wue;var Sue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_ue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eue=/^'([^]*?)'?$/,jue=/''/g,Aue=/[a-zA-Z]/;function Oa(t,e,r){var n,i,a,s,o,l,u,d,f,h,p,m,g,v,x,y,b,S;ze(2,arguments);var w=String(e),_=$u(),E=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:_.locale)!==null&&n!==void 0?n:IP,j=Jr((a=(s=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:_.firstWeekContainsDate)!==null&&s!==void 0?s:(f=_.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Jr((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:_.weekStartsOn)!==null&&m!==void 0?m:(b=_.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ze(t);if(!cce(T))throw new RangeError("Invalid time value");var O=R0(T),C=xce(T,O),R={firstWeekContainsDate:j,weekStartsOn:A,locale:E,_originalDate:T},F=w.match(_ue).map(function(H){var V=H[0];if(V==="p"||V==="P"){var D=Pce[V];return D(H,E.formatLong)}return H}).join("").match(Sue).map(function(H){if(H==="''")return"'";var V=H[0];if(V==="'")return Tue(H);var D=kce[V];if(D)return!(r!=null&&r.useAdditionalWeekYearTokens)&&$ce(H)&&VA(H,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ice(H)&&VA(H,e,String(t)),D(C,H,E.localize,R);if(V.match(Aue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return H}).join("");return F}function Tue(t){var e=t.match(Eue);return e?e[1].replace(jue,"'"):t}function $P(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Nue(t){return $P({},t)}var GA=1440,Cue=2520,Mg=43200,kue=86400;function Oue(t,e,r){var n,i;ze(2,arguments);var a=$u(),s=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:IP;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Qd(t,e);if(isNaN(o))throw new RangeError("Invalid time value");var l=$P(Nue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),u,d;o>0?(u=Ze(e),d=Ze(t)):(u=Ze(t),d=Ze(e));var f=yce(d,u),h=(R0(d)-R0(u))/1e3,p=Math.round((f-h)/60),m;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<GA){var g=Math.round(p/60);return s.formatDistance("aboutXHours",g,l)}else{if(p<Cue)return s.formatDistance("xDays",1,l);if(p<Mg){var v=Math.round(p/GA);return s.formatDistance("xDays",v,l)}else if(p<kue)return m=Math.round(p/Mg),s.formatDistance("aboutXMonths",m,l)}if(m=vce(d,u),m<12){var x=Math.round(p/Mg);return s.formatDistance("xMonths",x,l)}else{var y=m%12,b=Math.floor(m/12);return y<3?s.formatDistance("aboutXYears",b,l):y<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function hw(t,e){return ze(1,arguments),Oue(t,Date.now(),e)}function Due(t,e){ze(2,arguments);var r=Jr(e);return ace(t,-r)}function I0(t,e){var r;ze(1,arguments);var n=Jr((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Iue(t),a;if(i.date){var s=$ue(i.date,n);a=Lue(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var o=a.getTime(),l=0,u;if(i.time&&(l=Fue(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Bue(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(o+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+l+u)}var Td={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Pue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Mue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Iue(t){var e={},r=t.split(Td.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Td.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Td.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=Td.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function $ue(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function Lue(t,e){if(e===null)return new Date(NaN);var r=t.match(Pue);if(!r)return new Date(NaN);var n=!!r[4],i=Ll(r[1]),a=Ll(r[2])-1,s=Ll(r[3]),o=Ll(r[4]),l=Ll(r[5])-1;if(n)return Vue(e,o,l)?Uue(e,o,l):new Date(NaN);var u=new Date(0);return!zue(e,a,s)||!Wue(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,s)),u)}function Ll(t){return t?parseInt(t):1}function Fue(t){var e=t.match(Mue);if(!e)return NaN;var r=Rg(e[1]),n=Rg(e[2]),i=Rg(e[3]);return Gue(r,n,i)?r*DP+n*OP+i*1e3:NaN}function Rg(t){return t&&parseFloat(t.replace(",","."))||0}function Bue(t){if(t==="Z")return 0;var e=t.match(Rue);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return que(n,i)?r*(n*DP+i*OP):NaN}function Uue(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var Hue=[31,null,31,30,31,30,31,31,30,31,30,31];function LP(t){return t%400===0||t%4===0&&t%100!==0}function zue(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Hue[e]||(LP(t)?29:28))}function Wue(t,e){return e>=1&&e<=(LP(t)?366:365)}function Vue(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Gue(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function que(t,e){return e>=0&&e<=59}function Yue(t,e){ze(2,arguments);var r=Jr(e);return kP(t,-r)}const Uo=(t,e="MM/dd/yy")=>{if(!t)return"N/A";try{const r=typeof t=="string"?rr(t):t;return!r||isNaN(r.getTime())?"Invalid Date":Oa(r,e)}catch(r){return console.warn("Error formatting date:",t,r),"Invalid Date"}},Wr=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),Kue=t=>kP(t,1),Que=t=>Yue(t,1),qA=t=>Oa(t,"MMMM yyyy"),rr=t=>{if(!t)return null;try{if(typeof t=="string"&&t.includes(" 0:00:00")){const n=t.split(" 0:00:00")[0],i=new Date(n+"T00:00:00");if(!isNaN(i.getTime()))return i}const e=I0(t);if(!isNaN(e.getTime()))return e;const r=new Date(t);return isNaN(r.getTime())?null:r}catch{return null}},Xue=t=>{if(!t)return"";if(typeof t=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}T/.test(t))return t.slice(0,10)}const e=typeof t=="string"?rr(t):t;if(!e||isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${i}`},Zue=(t,e)=>e.map(n=>{const a=t.filter(o=>{const l=o.venue?o.venue.trim().toLowerCase():null,u=n.promo?n.promo.trim().toLowerCase():null;return l&&u&&l===u&&o.grossSales>0}).map(o=>({...o,date:new Date(o.date)})).sort((o,l)=>l.date-o.date).slice(0,5).map(o=>o.grossSales);let s=0;return a.length>0&&(s=a.reduce((l,u)=>l+u,0)/a.length,s=Math.round(s/100)*100),{...n,averageSales:s,salesCount:a.length}}).sort((n,i)=>i.averageSales-n.averageSales),Jue=(t,e)=>t.filter(n=>{const i=n.venue?n.venue.trim().toLowerCase():null,a=e?e.trim().toLowerCase():null;return i&&a&&i===a&&n.grossSales>0}).map(n=>({...n,date:new Date(n.date)})).sort((n,i)=>i.date-n.date).slice(0,5).map(n=>({date:n.date.toLocaleDateString(),amount:n.grossSales})),ede=({salesData:t,currentSheet:e,selectedYears:r=[new Date().getFullYear()]})=>{const[n,i]=k.useState(!1),a=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((u,d)=>{const f={month:u};return r.forEach(h=>{const m=t.filter(g=>{const v=rr(g.date);return v&&v.getMonth()===d&&v.getFullYear()===h}).reduce((g,v)=>g+(v.grossSales||0),0);f[h]=m}),f}),s=k.useMemo(()=>a(),[t,r]),o=({active:l,payload:u,label:d})=>l&&u&&u.length?c.jsxs("div",{className:"bg-white p-3 border border-secondary-200 rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium text-secondary-900",children:d}),u.map((f,h)=>c.jsxs("p",{style:{color:f.color},className:"text-sm",children:[f.name,": ",Wr(f.value)]},h))]}):null;return c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Gross Sales: ",r.length>1?`${r.length} Years`:r[0]," (",e==="TRAILER_HISTORY"?"Trailer":"Camper",")"]}),r.length>1&&c.jsxs("button",{className:`mt-2 sm:mt-0 px-3 py-1 rounded border text-xs font-semibold transition ${n?"bg-primary-600 text-white border-primary-600":"bg-white text-primary-600 border-primary-200 hover:bg-primary-50"}`,onClick:()=>i(l=>!l),children:[n?"Hide":"Show"," All Years"]})]}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"h-96",children:c.jsx(My,{width:"100%",height:"100%",children:c.jsxs(CP,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(Ch,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(is,{dataKey:"month",stroke:"#64748b",fontSize:12}),c.jsx(as,{stroke:"#64748b",fontSize:12,tickFormatter:l=>`$${(l/1e3).toFixed(0)}k`,domain:[0,5e5]}),c.jsx(Ur,{content:c.jsx(o,{})}),c.jsx(Yi,{}),r.map((l,u)=>{const d=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6"],f=d[u%d.length];return c.jsx(dl,{type:"monotone",dataKey:l,stroke:f,strokeWidth:2,dot:{fill:f,strokeWidth:2,r:4},activeDot:{r:6,stroke:"#94a3b8",strokeWidth:2},name:`${l}`},l)})]})})})})]})},tde=()=>{var de,me,Ne;const{salesData:t,currentSheet:e,loading:r}=qt(),[n,i]=k.useState(null),[a,s]=k.useState(new Date().getMonth()),[o,l]=k.useState([new Date().getFullYear()]),[u,d]=k.useState([]),[f,h]=k.useState(!1),[p,m]=k.useState(!1),[g,v]=k.useState(null),x=k.useRef(null),y=k.useRef(null),[b,S]=k.useState([]),[w,_]=k.useState(!0),[E,j]=k.useState(null),[A,T]=k.useState([]),[O,C]=k.useState([new Date().getFullYear()]),[R,F]=k.useState(!1),H=k.useRef(null),V=k.useRef(null);k.useEffect(()=>{const X=he=>{x.current&&!x.current.contains(he.target)&&h(!1),y.current&&!y.current.contains(he.target)&&m(!1)};return(f||p)&&document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[f,p]),k.useEffect(()=>(F(!0),H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{T(u),F(!1)},800),()=>{H.current&&clearTimeout(H.current)}),[u]),k.useEffect(()=>(F(!0),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{C(o),F(!1)},800),()=>{V.current&&clearTimeout(V.current)}),[o]),k.useEffect(()=>()=>{H.current&&clearTimeout(H.current),V.current&&clearTimeout(V.current)},[]),k.useEffect(()=>{(async()=>{try{const he=await fe.getStores();he.success?S(he.data):console.error("Error fetching stores:",he.error)}catch(he){console.error("Error fetching stores:",he)}finally{_(!1)}})()},[]);const D=["Trailer","Camper","Spartanburg","Greenville","Columbia"],P=()=>{const X=Array.from(new Set(t.map(he=>he.store).filter(Boolean)));return X.length===0?D:X},L=k.useCallback(()=>A.length===0?t:t.filter(he=>A.includes(he.store)),[A,t]),$=k.useCallback(X=>{d(he=>he.includes(X)?he.filter(ge=>ge!==X):[...he,X])},[]),B=k.useCallback(()=>{const X=P();d(X)},[]),G=k.useCallback(()=>{d([])},[]),Y=k.useCallback(X=>{l(he=>{if(he.includes(X)){const ge=he.filter(Se=>Se!==X);return ge.length>0?ge:[new Date().getFullYear()]}else return he.length<5?[...he,X].sort((ge,Se)=>Se-ge):he})},[]),oe=k.useCallback(()=>{const X=new Date().getFullYear(),he=[X,X-1,X-2,X-3,X-4];l(he)},[]),ue=k.useCallback(()=>{l([new Date().getFullYear()])},[]),z=()=>o.length===0?"Select Years":o.length===1?o[0].toString():o.length===5?"All Years":`${o.length} Years Selected`,K=()=>u.length===0?"All Stores":u.length===1?u[0]:u.length===P().length?"All Stores":`${u.length} Stores Selected`,ee=k.useCallback(()=>{const X=L(),he=new Date,ge=he.getMonth(),Se=he.getFullYear(),xe={};O.forEach(Fe=>{const yt=X.filter(Fn=>{const ya=rr(Fn.date);return ya&&ya.getFullYear()===Fe}),Ee=yt.reduce((Fn,ya)=>Fn+(ya.grossSales||0),0),Be=yt.filter(Fn=>(Fn.grossSales||0)>0).length;let Qe,Yt,yi;if(Fe===Se){const Fn=Math.max(0,ge-1);Qe=Fn+1;const ya=yt.filter(pl=>{const Uu=rr(pl.date);return Uu&&Uu.getMonth()<=Fn}),Yw=ya.reduce((pl,Uu)=>pl+(Uu.grossSales||0),0),Kw=ya.filter(pl=>(pl.grossSales||0)>0).length;Yt=Qe>0?Math.round(Yw/Qe):0,yi=Kw>0?Math.round(Yw/Kw):0}else Qe=12,Yt=Qe>0?Math.round(Ee/Qe):0,yi=Be>0?Math.round(Ee/Be):0;xe[Fe]={totalGross:Math.round(Ee),positiveSalesCount:Be,monthlyAverage:Yt,averagePerSale:yi,monthsToCount:Qe}});const Ae=O[0]||Se,Ye=X.filter(Fe=>{const yt=rr(Fe.date);return yt&&yt.getMonth()===a&&yt.getFullYear()===Ae}),Bt=Ye,Ke=Ye.reduce((Fe,yt)=>Fe+(yt.grossSales||0),0),Et=Ye.filter(Fe=>(Fe.grossSales||0)>0).length;return{selectedYearsData:xe,confirmedMonthSalesCount:Bt.length,positiveMonthSalesCount:Et,monthTotalGross:Math.round(Ke),primaryYear:Ae}},[L,O,a]),q=k.useMemo(()=>ee(),[ee]),re=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],ie=()=>{var X;return((X=re.find(he=>he.value===a))==null?void 0:X.label)||"Unknown"},N=k.useCallback(()=>{const X=["January","February","March","April","May","June","July","August","September","October","November","December"],he=[];return X.forEach((ge,Se)=>{const xe={month:ge,monthIndex:Se,years:{}};let Ae=!1;O.forEach(Ye=>{const Bt=L().filter(yt=>{const Ee=rr(yt.date);return Ee&&Ee.getMonth()===Se&&Ee.getFullYear()===Ye}),Ke=Bt.reduce((yt,Ee)=>yt+(Ee.grossSales||0),0),Et=Bt.length,Fe=Bt.filter(yt=>(yt.grossSales||0)>0).length;xe.years[Ye]={salesCount:Bt.length,confirmedSales:Et,positiveSales:Fe,totalGross:Ke,sales:Bt},Bt.length>0&&(Ae=!0)}),Ae&&he.push(xe)}),he},[L,O]),M=k.useMemo(()=>N(),[N]),W=X=>{i(X)},Q=()=>{i(null)},ne=X=>{s(parseInt(X.target.value))},ae=(X,he)=>{switch(X){case"scheduler":window.location.href=`/scheduler?store=${he.id}`;break;case"staff":window.location.href=`/staff?store=${he.id}`;break;case"reports":window.location.href=`/sales-analysis?store=${he.id}`;break;case"pay-calculator":window.location.href=`/pay-calculator?store=${he.id}`;break;case"bonuses":window.location.href=`/bonuses?store=${he.id}`;break;case"settings":window.location.href=`/venues?store=${he.id}`;break}},pe=X=>X.store==="Trailer"||X.store==="Camper"?X.store:X.venue||X.store||"N/A";return r?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading dashboard..."}),c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please wait while we load your data"})]})}):t.length===0&&!r?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your dashboard will show sales analytics once you have data in your system."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Try adding some sales entries or check your data connection."})]})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Dashboard"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Sales analytics and performance overview for ",e==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative",ref:x,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Filter by Store"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>h(!f),className:"block w-full sm:w-64 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:K()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(ac,{className:"h-4 w-4 text-secondary-400"})})]}),f&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-64 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:B,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:G,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:P().map(X=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:u.includes(X),onChange:()=>$(X),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:X})]},X))})]})]})]}),c.jsxs("div",{className:"mt-4 sm:mt-0 relative mr-4",ref:y,children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Select Years"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>m(!p),className:"block w-full sm:w-48 px-3 py-2 border border-secondary-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-left",children:[c.jsx("span",{className:"block truncate",children:z()}),c.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx(ac,{className:"h-4 w-4 text-secondary-400"})})]}),p&&c.jsxs("div",{className:"absolute z-60 mt-1 w-full sm:w-48 bg-white shadow-lg border border-secondary-300 rounded-md",children:[c.jsx("div",{className:"p-2 border-b border-secondary-200",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{type:"button",onClick:oe,className:"text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Select All"}),c.jsx("button",{type:"button",onClick:ue,className:"text-xs text-secondary-600 hover:text-secondary-800 font-medium",children:"Clear All"})]})}),c.jsx("div",{className:"max-h-60 overflow-y-auto",children:Array.from({length:5},(X,he)=>new Date().getFullYear()-he).map(X=>c.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-secondary-50 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:o.includes(X),onChange:()=>Y(X),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-secondary-300 rounded"}),c.jsx("span",{className:"ml-3 text-sm text-secondary-900",children:X})]},X))})]})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[18rem_1fr_22rem] gap-6 mb-8 items-stretch",children:[c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"18rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Tn,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Total Gross Sales"}),R?c.jsx("div",{className:"flex flex-col gap-1",children:o.map(X=>c.jsxs("div",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[X," - ",c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-20 ml-2 rounded"})]},X))}):c.jsx("div",{className:"flex flex-col gap-1",children:O.map(X=>{var he;return c.jsxs("span",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",children:[X," - $",((he=q.selectedYearsData[X])==null?void 0:he.totalGross.toLocaleString())||"0"]},X)})})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"40rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(Cr,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center min-w-0 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 min-w-0",children:[c.jsxs("p",{className:"text-base font-bold text-primary-700 whitespace-nowrap",children:["Month Sales [",e==="TRAILER_HISTORY"?"Trailer":"Camper"," Only]"]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("select",{value:a,onChange:ne,className:"text-xs border border-secondary-300 rounded px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",style:{maxWidth:"8rem"},children:re.map(X=>c.jsx("option",{value:X.value,children:X.label},X.value))})})]}),R?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-32 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-40 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-48 rounded"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Confirmed: ",q.confirmedMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Completed Sales: ",q.positiveMonthSalesCount]}),c.jsxs("p",{className:"text-lg font-bold text-secondary-900 flex items-center whitespace-nowrap",style:{minHeight:"2.5rem"},children:["Total Gross Sales (",ie()," ",q.primaryYear,"): $",q.monthTotalGross.toLocaleString()]})]})]})]})})}),c.jsx("div",{className:"card flex flex-col justify-between min-h-[200px]",style:{minWidth:"0",maxWidth:"22rem"},children:c.jsx("div",{className:"card-body flex flex-col justify-between h-full",children:c.jsxs("div",{className:"flex items-center h-full",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center h-full pr-2",children:c.jsx(vo,{className:"h-10 w-10 text-primary-600"})}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[c.jsx("p",{className:"text-base font-bold text-primary-700 mb-2 whitespace-nowrap",children:"Average"}),R?c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),o.map(X=>c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:X}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}),c.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"})]},X))]}):c.jsxs("div",{className:"text-xs w-full",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[c.jsx("div",{}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Sale"}),c.jsx("div",{className:"text-primary-700 font-bold whitespace-nowrap text-base",children:"Per Month"})]}),O.map(X=>{var he,ge,Se,xe,Ae,Ye;return c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:X}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap",children:["$",((he=q.selectedYearsData[X])==null?void 0:he.averagePerSale.toLocaleString())||"0"]}),c.jsxs("div",{className:"text-secondary-900 font-bold text-lg flex items-center whitespace-nowrap cursor-help relative group",onMouseEnter:()=>v(X),onMouseLeave:()=>v(null),children:["$",((ge=q.selectedYearsData[X])==null?void 0:ge.monthlyAverage.toLocaleString())||"0",g===X&&c.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-50",children:[c.jsxs("div",{children:[((Se=q.selectedYearsData[X])==null?void 0:Se.monthsToCount)||0," month",(((xe=q.selectedYearsData[X])==null?void 0:xe.monthsToCount)||0)!==1?"s":""," used"]}),c.jsxs("div",{children:["Total: $",((Ae=q.selectedYearsData[X])==null?void 0:Ae.totalGross.toLocaleString())||"0"]}),c.jsxs("div",{children:["Monthly Average: $",((Ye=q.selectedYearsData[X])==null?void 0:Ye.monthlyAverage.toLocaleString())||"0"]}),c.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]},X)}),c.jsx("div",{className:"mt-2 text-xs text-secondary-600",children:q.primaryYear===new Date().getFullYear()?`Based on ${((de=q.selectedYearsData[q.primaryYear])==null?void 0:de.monthsToCount)||0} month${(((me=q.selectedYearsData[q.primaryYear])==null?void 0:me.monthsToCount)||0)!==1?"s":""} (Jan - ${((Ne=re[Math.max(0,new Date().getMonth()-1)])==null?void 0:Ne.label)||"Previous Month"})`:"Based on 12 months"})]})]})]})})})]}),c.jsx("div",{className:"mb-8",children:R?c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})})})}):c.jsx(ede,{salesData:L(),currentSheet:e,selectedYears:O})}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Monthly Sales Statistics - Last 3 Years"})}),c.jsx("div",{className:"card-body",children:R?c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"h-64 bg-gray-200 rounded"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsxs("thead",{className:"table-header",children:[c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Month"}),O.map(X=>c.jsx("th",{className:"table-header-cell",colSpan:"3",children:X},X)),c.jsx("th",{className:"table-header-cell",children:"Actions"})]}),c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell"}),O.map(X=>c.jsxs(U.Fragment,{children:[c.jsx("th",{className:"table-header-cell text-xs",children:"Sales"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Confirmed"}),c.jsx("th",{className:"table-header-cell text-xs",children:"Gross Sales"})]},X)),c.jsx("th",{className:"table-header-cell"})]})]}),c.jsx("tbody",{className:"table-body",children:M.map((X,he)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:X.month}),O.map(ge=>{var Se,xe,Ae;return c.jsxs(U.Fragment,{children:[c.jsx("td",{className:"table-cell",children:((Se=X.years[ge])==null?void 0:Se.salesCount)||0}),c.jsx("td",{className:"table-cell",children:((xe=X.years[ge])==null?void 0:xe.confirmedSales)||0}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(((Ae=X.years[ge])==null?void 0:Ae.totalGross)||0)})]},ge)}),c.jsx("td",{className:"table-cell",children:c.jsx("button",{onClick:()=>W(X),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"View Details",children:c.jsx(Vk,{className:"w-4 h-4"})})})]},he))})]})})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Store Management"}),c.jsx("p",{className:"text-sm text-secondary-600 mt-1",children:"Hover over a store to see available actions"})]}),c.jsx("div",{className:"card-body",children:w?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(X=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},X))}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(X=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>j(X.id),onMouseLeave:()=>j(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:X.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",X.number]})]})]}),E===X.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>ae("scheduler",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ca,{className:"w-4 h-4 mr-2"}),"Scheduler"]}),c.jsxs("button",{onClick:()=>ae("staff",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Staff"]}),c.jsxs("button",{onClick:()=>ae("reports",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Reports"]}),c.jsxs("button",{onClick:()=>ae("pay-calculator",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(tb,{className:"w-4 h-4 mr-2"}),"Pay Calculator"]}),c.jsxs("button",{onClick:()=>ae("bonuses",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(FF,{className:"w-4 h-4 mr-2"}),"Bonuses"]}),c.jsxs("button",{onClick:()=>ae("settings",X),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Pf,{className:"w-4 h-4 mr-2"}),"Settings"]})]})})]},X.id))})})]})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[c.jsxs("h3",{className:"text-xl font-semibold text-secondary-900",children:[n.month," Sales Details - ",o.length," Year",o.length!==1?"s":""]}),c.jsx("button",{onClick:Q,className:"text-secondary-400 hover:text-secondary-600 transition-colors",children:c.jsx(Rc,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[c.jsx("div",{className:`grid gap-4 mb-6 ${o.length<=3?"grid-cols-3":"grid-cols-2"}`,children:o.map((X,he)=>{const ge=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900"],Se=ge[he%ge.length],xe=n.years[X];return c.jsxs("div",{className:`p-4 rounded-lg border ${Se}`,children:[c.jsx("h4",{className:"text-lg font-semibold mb-3",children:X}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Total Sales:"}),c.jsx("p",{className:"font-bold",children:(xe==null?void 0:xe.salesCount)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Confirmed:"}),c.jsx("p",{className:"font-bold",children:(xe==null?void 0:xe.confirmedSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Positive:"}),c.jsx("p",{className:"font-bold",children:(xe==null?void 0:xe.positiveSales)||0})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-opacity-80",children:"Gross Sales:"}),c.jsx("p",{className:"font-bold",children:Wr((xe==null?void 0:xe.totalGross)||0)})]})]})]},X)})}),c.jsx("div",{className:"space-y-6",children:o.map((X,he)=>{const ge=["text-blue-900","text-green-900","text-purple-900","text-orange-900","text-pink-900"],Se=ge[he%ge.length],xe=n.years[X];return c.jsxs("div",{children:[c.jsxs("h4",{className:`text-lg font-semibold ${Se} mb-3`,children:[X," Sales"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"})]})}),c.jsx("tbody",{className:"table-body",children:(xe==null?void 0:xe.sales.length)===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"6",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",n.month," ",X]})}):xe==null?void 0:xe.sales.map(Ae=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell font-medium",children:Uo(Ae.date)}),c.jsx("td",{className:"table-cell",children:pe(Ae)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(Ae.grossSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(Ae.netSales)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(Ae.salesTax)}),c.jsx("td",{className:"table-cell font-medium",children:Ae.count||1})]},Ae.id))})]})})]},X)})})]})]})})]})},rde=({onAddVenue:t,onEditVenue:e,onDeleteVenue:r})=>{const{venuesData:n,salesData:i}=qt(),[a,s]=k.useState([]),[o,l]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState(null),[p,m]=k.useState(!1),g=k.useMemo(()=>Zue(i,n),[i,n]),v=k.useMemo(()=>[...new Set(g.map(S=>S.addressCity).filter(Boolean))],[g]);k.useEffect(()=>{let S=g;o&&(S=S.filter(w=>w.promo.toLowerCase().includes(o.toLowerCase())||w.addressCity.toLowerCase().includes(o.toLowerCase())||w.contact.toLowerCase().includes(o.toLowerCase()))),u&&(S=S.filter(w=>w.addressCity===u)),s(S)},[g,o,u]);const x=async S=>{window.confirm("Are you sure you want to delete this venue?")&&await r(S)},y=S=>{h(S),m(!0)},b=()=>{l(""),d("")};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(GF,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-400 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Search venues...",value:o,onChange:S=>l(S.target.value),className:"pl-10 pr-4 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"All Cities"}),v.map(S=>c.jsx("option",{value:S,children:S},S))]}),(o||u)&&c.jsx("button",{onClick:b,className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Clear Filters"})]}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),"Add Venue"]})]}),c.jsxs("div",{className:"text-sm text-secondary-600",children:["Showing ",a.length," of ",g.length," venues"]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Venue Name"}),c.jsx("th",{className:"table-header-cell",children:"City"}),c.jsx("th",{className:"table-header-cell sticky right-0 bg-white z-10",children:"Actions"})]})}),c.jsx("tbody",{className:"table-body",children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"3",className:"table-cell text-center text-secondary-500 py-8",children:o||u?"No venues match your search criteria":"No venues found"})}):a.map((S,w)=>c.jsxs("tr",{className:"table-row",children:[c.jsx("td",{className:"table-cell",children:c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium text-secondary-900 flex items-center",children:[S.averageSales>0&&c.jsxs("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-primary-600 rounded-full mr-2",children:["#",w+1]}),S.promo]}),S.promoSend&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["Promo: ",S.promoSend]}),S.averageSales>0&&c.jsxs("div",{className:"text-xs text-primary-600 font-medium mt-1",children:["💰 Avg Sales: $",S.averageSales.toLocaleString()," (",S.salesCount," sales)"]})]})}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-4 h-4 mr-1 text-secondary-400"}),S.addressCity]})}),c.jsx("td",{className:"table-cell sticky right-0 bg-white z-10",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>y(S),className:"text-primary-600 hover:text-primary-900 font-semibold text-xs px-2 py-1 rounded border border-primary-200 bg-primary-50 hover:bg-primary-100 transition",title:"Show Details",children:"Show Details"}),c.jsx("button",{onClick:()=>e(S),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>x(S.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(da,{className:"w-4 h-4"})})]})})]},S.id))})]})})})}),p&&f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Venue Details"}),c.jsx("button",{onClick:()=>m(!1),className:"text-secondary-400 hover:text-secondary-600",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Venue Name"}),c.jsx("p",{className:"text-secondary-900 font-medium",children:f.promo})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Promo to Send"}),c.jsx("p",{className:"text-secondary-900",children:f.promoSend||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Address/City"}),c.jsx("p",{className:"text-secondary-900",children:f.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Contact"}),c.jsx("p",{className:"text-secondary-900",children:f.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Phone"}),c.jsx("p",{className:"text-secondary-900",children:f.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Email"}),c.jsx("p",{className:"text-secondary-900",children:c.jsx("a",{href:`mailto:${f.email}`,className:"text-primary-600 hover:text-primary-900",children:f.email})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Times"}),c.jsx("p",{className:"text-secondary-900",children:f.times||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Show Info"}),c.jsx("p",{className:"text-secondary-900",children:f.showInfo||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Forecast Will"}),c.jsx("p",{className:"text-secondary-900",children:f.forecastWill||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Last 5 Sales"}),c.jsx("div",{className:"text-secondary-900",children:(()=>{const S=Jue(i,f.promo);return S.length>0?c.jsx("div",{className:"space-y-1",children:S.map((w,_)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-secondary-600",children:w.date}),c.jsxs("span",{className:"font-medium",children:["$",w.amount.toLocaleString()]})]},_))}):c.jsx("span",{className:"text-secondary-500",children:"No sales data"})})()})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>m(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{m(!1),e(f)},className:"btn-primary",children:"Edit"})]})]})})]})},nde=()=>{const{addVenueEntry:t,updateVenueEntry:e,deleteVenueEntry:r,loading:n}=qt(),[i,a]=k.useState(!1),[s,o]=k.useState(null),[l,u]=k.useState(tg()),[d,f]=k.useState({}),h=()=>{o(null),u(tg()),f({}),a(!0)},p=y=>{o(y),u({promo:y.promo,promoSend:y.promoSend,addressCity:y.addressCity,contact:y.contact,phone:y.phone,email:y.email,times:y.times,showInfo:y.showInfo,forecastWill:y.forecastWill}),f({}),a(!0)},m=async y=>{const b=await r(y);b.success||alert(`Error deleting venue: ${b.error}`)},g=()=>{const y={};return l.promo||(y.promo="Venue name is required"),l.addressCity||(y.addressCity="Address/City is required"),l.contact||(y.contact="Contact is required"),l.email&&!/\S+@\S+\.\S+/.test(l.email)&&(y.email="Please enter a valid email address"),f(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!g())return;const b={promo:l.promo,promo_send:l.promoSend,address_city:l.addressCity,contact:l.contact,phone:l.phone,email:l.email,times:l.times,show_info:l.showInfo,forecast_will:l.forecastWill};let S;s?S=await e(s.id,b):S=await t(b),S.success?(a(!1),o(null),u(tg())):alert(`Error ${s?"updating":"adding"} venue: ${S.error}`)},x=(y,b)=>{u(S=>({...S,[y]:b})),d[y]&&f(S=>({...S,[y]:""}))};return n?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading venues..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Venues"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage venue information, contacts, and event details"})]}),c.jsx(rde,{onAddVenue:h,onEditVenue:p,onDeleteVenue:m}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:s?"Edit Venue":"Add New Venue"}),c.jsx("button",{onClick:()=>a(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue Name *"}),c.jsx("input",{type:"text",value:l.promo,onChange:y=>x("promo",y.target.value),className:He("input",d.promo&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter venue name"}),d.promo&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.promo})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Promo to Send"}),c.jsx("input",{type:"text",value:l.promoSend,onChange:y=>x("promoSend",y.target.value),className:"input",placeholder:"Enter promo information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Address/City *"}),c.jsx("input",{type:"text",value:l.addressCity,onChange:y=>x("addressCity",y.target.value),className:He("input",d.addressCity&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Enter address and city"}),d.addressCity&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.addressCity})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Contact *"}),c.jsx("input",{type:"text",value:l.contact,onChange:y=>x("contact",y.target.value),className:He("input",d.contact&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Contact person name"}),d.contact&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.contact})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:l.phone,onChange:y=>x("phone",y.target.value),className:"input",placeholder:"Phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:l.email,onChange:y=>x("email",y.target.value),className:He("input",d.email&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"Email address"}),d.email&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:d.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Times"}),c.jsx("input",{type:"text",value:l.times,onChange:y=>x("times",y.target.value),className:"input",placeholder:"e.g., 9 AM - 5 PM"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Show Info"}),c.jsx("textarea",{value:l.showInfo,onChange:y=>x("showInfo",y.target.value),className:"input",rows:"3",placeholder:"Additional show information"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Forecast Will"}),c.jsx("input",{type:"text",value:l.forecastWill,onChange:y=>x("forecastWill",y.target.value),className:"input",placeholder:"Forecast information"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:s?"Update Venue":"Add Venue"})]})]})]})})]})})},ide=({staffId:t,staffName:e,onSave:r})=>{const[n,i]=k.useState([]),[a,s]=k.useState(!0),[o,l]=k.useState(!1),[u,d]=k.useState(null),[f,h]=k.useState(0),[p,m]=k.useState(!1);k.useEffect(()=>{if(!t){console.log("❌ No staffId provided");return}console.log("🔄 Loading bonus tiers for staff:",t),(async()=>{try{const _=await fe.getStaffBonusTiers(t);if(console.log("📊 Load result:",_),_.success){const E=(_.data||[]).map(j=>({id:j.id,staff_id:j.staff_id,sales_target:j.sales_target,bonus_amount:j.bonus_amount,description:j.description||j.tier_name||`Bonus for $${j.sales_target.toLocaleString()}+ sales`,is_active:j.is_active}));console.log("✅ Converted tiers:",E),i(E)}else console.error("❌ Load failed:",_.error),d("Failed to load bonus tiers")}catch(_){console.error("❌ Exception during load:",_),d("Failed to load bonus tiers")}finally{s(!1)}})()},[t]),k.useEffect(()=>{m(n.some(w=>w.id.toString().startsWith("temp_")))},[n]);const g=k.useCallback(()=>{const w={id:`temp_${Date.now()}_${f}`,staff_id:t,sales_target:0,bonus_amount:0,description:"",is_active:!0};i(_=>[..._,w]),h(_=>_+1)},[t,f]),v=k.useCallback(w=>{i(_=>_.filter(E=>E.id!==w))},[]),x=k.useCallback((w,_,E)=>{i(j=>j.map(A=>A.id===w?{...A,[_]:E}:A))},[]),y=k.useCallback(async()=>{if(!p){console.log("ℹ️ No changes to save");return}console.log("💾 Saving bonus tiers:",n),l(!0),d(null);try{const w=n.map(j=>({staff_id:j.staff_id,tier_name:j.description||`Bonus for $${j.sales_target.toLocaleString()}+ sales`,sales_target:j.sales_target,bonus_amount:j.bonus_amount,description:j.description,is_active:j.is_active}));console.log("🔄 Converted tiers for database:",w);const _=[...w].sort((j,A)=>j.sales_target-A.sales_target);console.log("📊 Sorted tiers:",_);const E=await fe.saveStaffBonusTiers(t,_);if(console.log("💾 Save result:",E),E.success){console.log("✅ Save successful, reloading data...");const j=await fe.getStaffBonusTiers(t);if(console.log("🔄 Reload result:",j),j.success){const A=(j.data||[]).map(T=>({id:T.id,staff_id:T.staff_id,sales_target:T.sales_target,bonus_amount:T.bonus_amount,description:T.description||T.tier_name||`Bonus for $${T.sales_target.toLocaleString()}+ sales`,is_active:T.is_active}));console.log("✅ Final converted tiers from database:",A),i(A)}m(!1),r&&await r(n)}else d("Failed to save bonus tiers"),console.error("❌ Save failed:",E.error)}catch(w){d("Failed to save bonus tiers"),console.error("❌ Exception during save:",w)}finally{l(!1)}},[n,t,p,r]),b=k.useCallback(w=>{if(!n||n.length===0)return 0;const _=[...n].filter(E=>E.is_active).sort((E,j)=>j.sales_target-E.sales_target);for(const E of _)if(w>=E.sales_target)return E.bonus_amount;return 0},[n]),S=k.useMemo(()=>[...n].sort((w,_)=>w.sales_target-_.sales_target),[n]);return a?c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[c.jsx(Tn,{className:"w-5 h-5 mr-2 text-green-600"}),"Personal Bonus Structure - ",e]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set individual bonus tiers for this staff member"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[u&&c.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-1 rounded",children:u}),c.jsxs("button",{onClick:g,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[c.jsx(ua,{className:"w-4 h-4 mr-1"}),"Add Tier"]}),c.jsx("button",{onClick:y,disabled:o||!p,className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${o||!p?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ib,{className:"w-4 h-4 mr-1"}),"Save Changes"]})})]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Target"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bonus Amount"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:[c.jsx(Tn,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),c.jsx("p",{children:"No bonus tiers set for this staff member"}),c.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create the first bonus structure'})]})}):S.map((w,_)=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gk,{className:"w-4 h-4 text-blue-600 mr-2"}),c.jsx("input",{type:"number",value:w.sales_target,onChange:E=>x(w.id,"sales_target",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"}),c.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"+"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-4 h-4 text-green-600 mr-1"}),c.jsx("input",{type:"number",value:w.bonus_amount,onChange:E=>x(w.id,"bonus_amount",parseFloat(E.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"0",step:"0.01",min:"0"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("input",{type:"text",value:w.description,onChange:E=>x(w.id,"description",E.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",placeholder:"e.g., High performer bonus"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("select",{value:w.is_active?"active":"inactive",onChange:E=>x(w.id,"is_active",E.target.value==="active"),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-900 p-1",title:"Remove tier",children:c.jsx(da,{className:"w-4 h-4"})})})]},`${w.id}-${_}`))})]})})}),S.length>0&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(tb,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bonus Calculator"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Sales Amount"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-4 h-4 text-gray-400 mr-2"}),c.jsx("input",{type:"number",id:"sales-calculator",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter sales amount",step:"0.01",min:"0",onChange:w=>{const _=parseFloat(w.target.value)||0,E=b(_);document.getElementById("bonus-result").textContent=`$${E.toFixed(2)}`}})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calculated Bonus"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-4 h-4 text-green-600 mr-2"}),c.jsx("span",{id:"bonus-result",className:"text-2xl font-bold text-green-600",children:"$0.00"})]})]})]})]})]})},ade=()=>{const{staffData:t,addStaffEntry:e,updateStaffEntry:r,deleteStaffEntry:n,loading:i,error:a}=qt(),[s,o]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState(rg()),[h,p]=k.useState([]),[m,g]=k.useState(!1),[v,x]=k.useState(null),y=()=>{u(null),f(rg()),o(!0)},b=T=>{u(T),f({name:T.name||"",email:T.email||"",phone:T.phone||"",role:T.role||"Worker",status:T.status||"Active",hireDate:T.hireDate||"",notes:T.notes||"",store_id:T.store_id||null,payType:T.payType||"hourly",hourlyRate:T.hourlyRate||0,salaryAmount:T.salaryAmount||0,preferredHoursPerWeek:T.preferredHoursPerWeek||0,maxHoursPerWeek:T.maxHoursPerWeek||0}),o(!0)},S=async T=>{if(window.confirm("Are you sure you want to delete this staff member?")){const O=await n(T);O.success||alert(`Error deleting staff: ${O.error}`)}},w=T=>{x(T),g(!0)},_=async T=>{if(T.preventDefault(),!d.name||!d.email){alert("Name and email are required");return}const O=l?await r(l.id,d):await e(d);O.success?(o(!1),f(rg())):alert(`Error ${l?"updating":"adding"} staff: ${O.error}`)};k.useEffect(()=>{(async()=>{try{const O=await fe.getStores();O.success&&p(O.data)}catch(O){console.error("Error fetching stores:",O)}})()},[]);const E=(T,O)=>{f(C=>({...C,[T]:O}))},j=T=>{switch(T){case"Active":return"text-green-600 bg-green-100";case"Inactive":return"text-gray-600 bg-gray-100";case"On Leave":return"text-yellow-600 bg-yellow-100";case"Terminated":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},A=T=>{switch(T){case"Manager":return"text-blue-600 bg-blue-100";case"Worker":return"text-green-600 bg-green-100";case"Driver":return"text-purple-600 bg-purple-100";case"Sales":return"text-orange-600 bg-orange-100";case"Support":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a?c.jsxs("div",{className:"alert alert-error",children:[c.jsx(KF,{className:"w-5 h-5"}),c.jsxs("span",{children:["Error loading staff data: ",a]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Staff Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Manage your staff members and their roles"})]}),c.jsxs("button",{onClick:y,className:"btn-primary",children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),"Add Staff Member"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-primary"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Total Staff"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(iy,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Active"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(T=>T.status==="Active").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Workers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(T=>T.role==="Worker").length})]})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Dn,{className:"w-8 h-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Managers"}),c.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:t.filter(T=>T.role==="Manager").length})]})]})})})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Contact"}),c.jsx("th",{children:"Role"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Store"}),c.jsx("th",{children:"Hire Date"}),c.jsx("th",{children:"Pay Structure"}),c.jsx("th",{children:"Notes"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:t.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"8",className:"text-center py-8 text-secondary-500",children:c.jsx("p",{className:"text-gray-500 text-center",children:"No staff members found. Add your first staff member to get started."})})}):t.map(T=>{var O;return c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("div",{children:c.jsx("div",{className:"font-medium text-secondary-900",children:T.name})})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[T.email&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(HF,{className:"w-3 h-3 mr-1"}),T.email]}),T.phone&&c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(WF,{className:"w-3 h-3 mr-1"}),T.phone]})]})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",A(T.role)),children:T.role})}),c.jsx("td",{children:c.jsx("span",{className:He("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",j(T.status)),children:T.status})}),c.jsx("td",{children:T.store_id?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(bn,{className:"w-3 h-3 mr-1 text-blue-600"}),c.jsx("span",{children:((O=h.find(C=>C.id===T.store_id))==null?void 0:O.name)||"Unknown Store"})]}):c.jsx("span",{className:"text-secondary-400 text-sm",children:"Unassigned"})}),c.jsx("td",{children:T.hireDate?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Cr,{className:"w-3 h-3 mr-1"}),Uo(T.hireDate)]}):c.jsx("span",{className:"text-secondary-400",children:"Not set"})}),c.jsx("td",{children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(Tn,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"font-medium",children:T.payType==="hourly"?"Hourly":T.payType==="salary"?"Salary":T.payType==="salary+bonus"?"Salary+Bonus":T.payType})]}),T.payType==="hourly"&&T.hourlyRate>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",T.hourlyRate,"/hr"]}),(T.payType==="salary"||T.payType==="salary+bonus")&&T.salaryAmount>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:["$",T.salaryAmount.toLocaleString(),"/year"]}),T.preferredHoursPerWeek>0&&c.jsxs("div",{className:"text-xs text-secondary-500",children:[T.preferredHoursPerWeek,"h preferred"]})]})}),c.jsx("td",{children:T.notes?c.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[c.jsx(ay,{className:"w-3 h-3 mr-1"}),c.jsx("span",{className:"truncate max-w-32",title:T.notes,children:T.notes})]}):c.jsx("span",{className:"text-secondary-400",children:"No notes"})}),c.jsx("td",{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>b(T),className:"btn-icon btn-sm",title:"Edit",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>w(T),className:"btn-icon btn-sm text-green-600 hover:text-green-700",title:"Manage Bonus Tiers",children:c.jsx(Gk,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>S(T.id),className:"btn-icon btn-sm text-red-600 hover:text-red-700",title:"Delete",children:c.jsx(da,{className:"w-4 h-4"})})]})})]},T.id)})})]})})})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:l?"Edit Staff Member":"Add Staff Member"}),c.jsx("button",{onClick:()=>o(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Name *"}),c.jsx("input",{type:"text",value:d.name,onChange:T=>E("name",T.target.value),className:"input",placeholder:"Enter full name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:d.email,onChange:T=>E("email",T.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:d.phone,onChange:T=>E("phone",T.target.value),className:"input",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Role"}),c.jsx("select",{value:d.role,onChange:T=>E("role",T.target.value),className:"input",children:AF.map(T=>c.jsx("option",{value:T,children:T},T))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status"}),c.jsx("select",{value:d.status,onChange:T=>E("status",T.target.value),className:"input",children:TF.map(T=>c.jsx("option",{value:T,children:T},T))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hire Date"}),c.jsx("input",{type:"date",value:d.hireDate,onChange:T=>E("hireDate",T.target.value),className:"input"})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-secondary-700 mb-3",children:"Pay Structure"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Pay Type"}),c.jsx("select",{value:d.payType,onChange:T=>E("payType",T.target.value),className:"input",children:NF.map(T=>c.jsx("option",{value:T,children:T==="hourly"?"Hourly":T==="salary"?"Salary":T==="salary+bonus"?"Salary + Bonus":T},T))})]}),d.payType==="hourly"&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hourly Rate ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.hourlyRate,onChange:T=>E("hourlyRate",parseFloat(T.target.value)||0),className:"input",placeholder:"0.00"})]}),(d.payType==="salary"||d.payType==="salary+bonus")&&c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Salary Amount ($)"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.salaryAmount,onChange:T=>E("salaryAmount",parseFloat(T.target.value)||0),className:"input",placeholder:"0.00"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Preferred Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:d.preferredHoursPerWeek,onChange:T=>E("preferredHoursPerWeek",parseFloat(T.target.value)||0),className:"input",placeholder:"40"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Max Hours Per Week"}),c.jsx("input",{type:"number",step:"0.5",min:"0",value:d.maxHoursPerWeek,onChange:T=>E("maxHoursPerWeek",parseFloat(T.target.value)||0),className:"input",placeholder:"40"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Assigned Store"}),c.jsxs("select",{value:d.store_id||"",onChange:T=>E("store_id",T.target.value?parseInt(T.target.value):null),className:"input",children:[c.jsx("option",{value:"",children:"No Store Assigned"}),h.map(T=>c.jsxs("option",{value:T.id,children:[T.name," (#",T.number,")"]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Notes"}),c.jsx("textarea",{value:d.notes,onChange:T=>E("notes",T.target.value),className:"input",rows:"3",placeholder:"Additional notes about this staff member"})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn-outline",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",children:[l?"Update":"Add"," Staff Member"]})]})]})]})}),m&&v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:["Bonus Tiers Management - ",v.name]}),c.jsx("button",{onClick:()=>g(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsx(ide,{staffId:v.id,staffName:v.name,onSave:()=>{g(!1)}})]})})]})},YA=({task:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=h=>{switch(h){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=h=>h?hw(new Date(h),{addSuffix:!0}):"No due date",l=h=>{if(!h)return[];let p=[];return Array.isArray(h)?p=h:p=[h],p.map(m=>{const g=e.find(v=>v.id===m);return g?g.name:"Unknown User"})},u=h=>{switch(h){case"urgent":return c.jsx(Nn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Nn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Nn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"})}},d=l(t.assigned_to),f=d.length===0;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"flex items-center space-x-2 mb-1",children:f?c.jsxs(c.Fragment,{children:[c.jsx(Za,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):d.length===1?c.jsxs(c.Fragment,{children:[c.jsx(Za,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:d[0]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Dn,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700 truncate",children:[d.length," assignees"]})]})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:t.title})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(t.priority)),children:t.priority}),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(t.status)),children:t.status.replace("_"," ")})]})]}),t.description&&c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),d.length>1&&c.jsx("div",{className:"mb-3",children:c.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((h,p)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h},p))})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[u(t.priority),c.jsx("span",{className:"capitalize",children:t.priority})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ca,{className:"w-4 h-4"}),c.jsx("span",{children:o(t.due_date)})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>r(t),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(da,{className:"w-4 h-4"})})]})]})]})},KA=({tasks:t,staffData:e=[],onEdit:r,onDelete:n,onViewComments:i})=>{const a=d=>{switch(d){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=d=>{switch(d){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=d=>d?hw(new Date(d),{addSuffix:!0}):"No due date",l=d=>{if(!d)return[];let f=[];return Array.isArray(d)?f=d:f=[d],f.map(h=>{const p=e.find(m=>m.id===h);return p?p.name:"Unknown User"})},u=d=>{switch(d){case"urgent":return c.jsx(Nn,{className:"w-3 h-3 text-red-600"});case"high":return c.jsx(Nn,{className:"w-3 h-3 text-orange-600"});case"normal":return c.jsx(Nn,{className:"w-3 h-3 text-blue-600"});case"low":return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"});default:return c.jsx(Nn,{className:"w-3 h-3 text-gray-600"})}};return t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks found"})]}):c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignee(s)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title & Description"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>{const f=l(d.assigned_to),h=f.length===0;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Za,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Unassigned"})]}):f.length===1?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Za,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:f[0]})]}):c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dn,{className:"w-4 h-4 text-gray-500"}),c.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.length," assignees"]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:f.map((p,m)=>c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:p},m))})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:d.title}),d.description&&c.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:d.description})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[u(d.priority),c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full border",a(d.priority)),children:d.priority})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:He("px-2 py-1 text-xs font-medium rounded-full",s(d.status)),children:d.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[c.jsx(ca,{className:"w-4 h-4"}),c.jsx("span",{children:o(d.due_date)})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[c.jsx("button",{onClick:()=>r(d),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Edit task",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete task",children:c.jsx(da,{className:"w-4 h-4"})})]})})]},d.id)})})]})})})},sde=({task:t=null,users:e=[],onSubmit:r,onCancel:n})=>{const[i,a]=k.useState({title:"",description:"",assigned_to:[],priority:"normal",status:"pending",due_date:"",category:"general"}),[s,o]=k.useState([]);k.useEffect(()=>{if(t){let p=[];t.assigned_to&&(Array.isArray(t.assigned_to)?p=t.assigned_to:p=[t.assigned_to]),a({title:t.title||"",description:t.description||"",assigned_to:p,priority:t.priority||"normal",status:t.status||"pending",due_date:t.due_date?t.due_date.split("T")[0]:"",category:t.category||"general"}),o(p)}},[t]);const l=p=>{p.preventDefault(),r(i)},u=p=>{const{name:m,value:g}=p.target;a(v=>({...v,[m]:g}))},d=p=>{const m=parseInt(p.target.value);if(m&&!s.includes(m)){const g=[...s,m];o(g),a(v=>({...v,assigned_to:g}))}},f=p=>{const m=s.filter(g=>g!==p);o(m),a(g=>({...g,assigned_to:m}))},h=()=>s.map(p=>{const m=e.find(g=>g.id===p);return m?m.name:"Unknown User"});return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Task":"Create New Task"}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Rc,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",name:"title",value:i.title,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:i.description,onChange:u,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),s.length>0&&c.jsx("div",{className:"mb-2",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:h().map((p,m)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm",children:[c.jsx("span",{children:p}),c.jsx("button",{type:"button",onClick:()=>f(s[m]),className:"text-blue-600 hover:text-blue-800",children:c.jsx(Rc,{className:"w-3 h-3"})})]},s[m]))})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:"",onChange:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Add assignee..."}),e.filter(p=>!s.includes(p.id)).map(p=>c.jsx("option",{value:p.id,children:p.name},p.id))]}),c.jsx("div",{className:"text-gray-400",children:c.jsx(Dn,{className:"w-5 h-5"})})]}),s.length===0&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for unassigned task"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),c.jsxs("select",{name:"priority",value:i.priority,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:i.status,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),c.jsx("input",{type:"date",name:"due_date",value:i.due_date,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),c.jsxs("select",{name:"category",value:i.category,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"sales",children:"Sales"}),c.jsx("option",{value:"venue",children:"Venue"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:t?"Update Task":"Create Task"})]})]})]})})},ode=()=>{const{loading:t,tasksData:e,staffData:r,currentUser:n,loadTasks:i,addTask:a,updateTask:s,deleteTask:o,setCurrentUser:l}=qt(),[u,d]=k.useState(!1),[f,h]=k.useState(null),[p,m]=k.useState("all"),[g,v]=k.useState("all"),[x,y]=k.useState("card");k.useEffect(()=>{r.length>0&&!n&&l(r[0]),i()},[r,n,l,i]);const b=async C=>{if(!n)return;const R={...C,assigned_by:n.id,assigned_to:C.assigned_to.length===0?null:C.assigned_to};(await a(R)).success&&d(!1)},S=async C=>{const R={...C,assigned_to:C.assigned_to.length===0?null:C.assigned_to};(await s(f.id,R)).success&&(d(!1),h(null))},w=async C=>{window.confirm("Are you sure you want to delete this task?")&&await o(C)},_=C=>{h(C),d(!0)},E=C=>{},A=(()=>{let C=e;return fd(n)||(C=e.filter(R=>!R.assigned_to||Array.isArray(R.assigned_to)&&R.assigned_to.length===0?!0:Array.isArray(R.assigned_to)?R.assigned_to.includes(n==null?void 0:n.id):R.assigned_to===(n==null?void 0:n.id))),C.filter(R=>{const F=p==="all"||R.status===p,H=g==="all"||R.priority===g;return F&&H})})(),T=A.filter(C=>C.assigned_to?Array.isArray(C.assigned_to)?C.assigned_to.length===0:!1:!0),O=A.filter(C=>C.assigned_to?Array.isArray(C.assigned_to)?C.assigned_to.length>0:!0:!1);return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading tasks..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Task Management"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Create, assign, and track tasks for your staff"})]}),c.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),"New Task"]})]})}),c.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-secondary-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(LF,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),c.jsxs("select",{value:p,onChange:C=>m(C.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"in_progress",children:"In Progress"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:g,onChange:C=>v(C.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"all",children:"All Priorities"}),c.jsx("option",{value:"low",children:"Low"}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"high",children:"High"}),c.jsx("option",{value:"urgent",children:"Urgent"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>y("card"),className:`p-2 rounded-md transition-colors ${x==="card"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Card view",children:c.jsx(BF,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-md transition-colors ${x==="list"?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"List view",children:c.jsx(UF,{className:"w-4 h-4"})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ny,{className:"w-5 h-5 text-orange-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Unassigned Tasks"}),c.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full",children:T.length})]})}),c.jsx("div",{className:"p-6",children:T.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No unassigned tasks"})]}):x==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(C=>c.jsx(YA,{task:C,staffData:r,onEdit:_,onDelete:w,onViewComments:E},C.id))}):c.jsx(KA,{tasks:T,staffData:r,onEdit:_,onDelete:w,onViewComments:E})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Za,{className:"w-5 h-5 text-blue-500"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:fd(n)?"All Assigned Tasks":"My Tasks"}),c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:O.length})]})}),c.jsx("div",{className:"p-6",children:O.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:c.jsx("svg",{className:"mx-auto h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500 text-sm",children:fd(n)?"No assigned tasks found":"No tasks assigned to you"})]}):x==="card"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(C=>c.jsx(YA,{task:C,staffData:r,onEdit:_,onDelete:w,onViewComments:E},C.id))}):c.jsx(KA,{tasks:O,staffData:r,onEdit:_,onDelete:w,onViewComments:E})})]}),A.length===0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),c.jsx("p",{className:"text-gray-500",children:fd(n)?"No tasks found. Create your first task!":"No tasks assigned to you. Contact your manager for new assignments."})]})]}),u&&c.jsx(sde,{task:f,users:r,onSubmit:f?S:b,onCancel:()=>{d(!1),h(null)}})]})})};var dm,be,FP,BP,Ho,Da,QA,UP,HP,$h={},zP=[],lde=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ii(t,e){for(var r in e)t[r]=e[r];return t}function WP(t){var e=t.parentNode;e&&e.removeChild(t)}function I(t,e,r){var n,i,a,s={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?dm.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)s[a]===void 0&&(s[a]=t.defaultProps[a]);return Xd(t,s,n,i,null)}function Xd(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++FP};return i==null&&be.vnode!=null&&be.vnode(a),a}function ur(){return{current:null}}function it(t){return t.children}function cde(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||Lh(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Lh(t,a,e[a],r[a],n)}function XA(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||lde.test(e)?r:r+"px"}function Lh(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||XA(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||XA(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?JA:ZA,a):t.removeEventListener(e,a?JA:ZA,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function ZA(t){Ho=!0;try{return this.l[t.type+!1](be.event?be.event(t):t)}finally{Ho=!1}}function JA(t){Ho=!0;try{return this.l[t.type+!0](be.event?be.event(t):t)}finally{Ho=!1}}function Or(t,e){this.props=t,this.context=e}function vu(t,e){if(e==null)return t.__?vu(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?vu(t):null}function VP(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return VP(t)}}function ude(t){Ho?setTimeout(t):UP(t)}function $0(t){(!t.__d&&(t.__d=!0)&&Da.push(t)&&!Fh.__r++||QA!==be.debounceRendering)&&((QA=be.debounceRendering)||ude)(Fh)}function Fh(){var t,e,r,n,i,a,s,o;for(Da.sort(function(l,u){return l.__v.__b-u.__v.__b});t=Da.shift();)t.__d&&(e=Da.length,n=void 0,i=void 0,s=(a=(r=t).__v).__e,(o=r.__P)&&(n=[],(i=Ii({},a)).__v=a.__v+1,pw(o,a,i,r.__n,o.ownerSVGElement!==void 0,a.__h!=null?[s]:null,n,s??vu(a),a.__h),QP(n,a),a.__e!=s&&VP(a)),Da.length>e&&Da.sort(function(l,u){return l.__v.__b-u.__v.__b}));Fh.__r=0}function GP(t,e,r,n,i,a,s,o,l,u){var d,f,h,p,m,g,v,x=n&&n.__k||zP,y=x.length;for(r.__k=[],d=0;d<e.length;d++)if((p=r.__k[d]=(p=e[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Xd(null,p,null,null,p):Array.isArray(p)?Xd(it,{children:p},null,null,null):p.__b>0?Xd(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(h=x[d])===null||h&&p.key==h.key&&p.type===h.type)x[d]=void 0;else for(f=0;f<y;f++){if((h=x[f])&&p.key==h.key&&p.type===h.type){x[f]=void 0;break}h=null}pw(t,p,h=h||$h,i,a,s,o,l,u),m=p.__e,(f=p.ref)&&h.ref!=f&&(v||(v=[]),h.ref&&v.push(h.ref,null,p),v.push(f,p.__c||m,p)),m!=null?(g==null&&(g=m),typeof p.type=="function"&&p.__k===h.__k?p.__d=l=qP(p,l,t):l=YP(t,p,h,x,m,l),typeof r.type=="function"&&(r.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=vu(h))}for(r.__e=g,d=y;d--;)x[d]!=null&&(typeof r.type=="function"&&x[d].__e!=null&&x[d].__e==r.__d&&(r.__d=KP(n).nextSibling),ZP(x[d],x[d]));if(v)for(d=0;d<v.length;d++)XP(v[d],v[++d],v[++d])}function qP(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?qP(n,e,r):YP(r,n,n,i,n.__e,e));return e}function Bh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Bh(r,e)}):e.push(t)),e}function YP(t,e,r,n,i,a){var s,o,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break e;t.insertBefore(i,a),s=a}return s!==void 0?s:i.nextSibling}function KP(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=KP(r)))return n}return null}function pw(t,e,r,n,i,a,s,o,l){var u,d,f,h,p,m,g,v,x,y,b,S,w,_,E,j=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(l=r.__h,o=e.__e=r.__e,e.__h=null,a=[o]),(u=be.__b)&&u(e);try{e:if(typeof j=="function"){if(v=e.props,x=(u=j.contextType)&&n[u.__c],y=u?x?x.props.value:u.__:n,r.__c?g=(d=e.__c=r.__c).__=d.__E:("prototype"in j&&j.prototype.render?e.__c=d=new j(v,y):(e.__c=d=new Or(v,y),d.constructor=j,d.render=fde),x&&x.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),j.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Ii({},d.__s)),Ii(d.__s,j.getDerivedStateFromProps(v,d.__s))),h=d.props,p=d.state,d.__v=e,f)j.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(j.getDerivedStateFromProps==null&&v!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,y),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=v,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(A){A&&(A.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,y),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,p,m)})}if(d.context=y,d.props=v,d.__P=t,S=be.__r,w=0,"prototype"in j&&j.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[]}else do d.__d=!1,S&&S(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++w<25);d.state=d.__s,d.getChildContext!=null&&(n=Ii(Ii({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(m=d.getSnapshotBeforeUpdate(h,p)),E=u!=null&&u.type===it&&u.key==null?u.props.children:u,GP(t,Array.isArray(E)?E:[E],e,r,n,i,a,s,o,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=dde(r.__e,e,r,n,i,a,s,l);(u=be.diffed)&&u(e)}catch(A){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),be.__e(A,e,r)}}function QP(t,e){be.__c&&be.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){be.__e(n,r.__v)}})}function dde(t,e,r,n,i,a,s,o){var l,u,d,f=r.props,h=e.props,p=e.type,m=0;if(p==="svg"&&(i=!0),a!=null){for(;m<a.length;m++)if((l=a[m])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,a[m]=null;break}}if(t==null){if(p===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),a=null,o=!1}if(p===null)f===h||o&&t.data===h||(t.data=h);else{if(a=a&&dm.call(t.childNodes),u=(f=r.props||$h).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!o){if(a!=null)for(f={},m=0;m<t.attributes.length;m++)f[t.attributes[m].name]=t.attributes[m].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(cde(t,h,f,i,o),d)e.__k=[];else if(m=e.props.children,GP(t,Array.isArray(m)?m:[m],e,r,n,i&&p!=="foreignObject",a,s,a?a[0]:r.__k&&vu(r,0),o),a!=null)for(m=a.length;m--;)a[m]!=null&&WP(a[m]);o||("value"in h&&(m=h.value)!==void 0&&(m!==t.value||p==="progress"&&!m||p==="option"&&m!==f.value)&&Lh(t,"value",m,f.value,!1),"checked"in h&&(m=h.checked)!==void 0&&m!==t.checked&&Lh(t,"checked",m,f.checked,!1))}return t}function XP(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){be.__e(n,r)}}function ZP(t,e,r){var n,i;if(be.unmount&&be.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||XP(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){be.__e(a,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&ZP(n[i],e,r||typeof t.type!="function");r||t.__e==null||WP(t.__e),t.__=t.__e=t.__d=void 0}function fde(t,e,r){return this.constructor(t,r)}function yu(t,e,r){var n,i,a;be.__&&be.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],pw(e,t=(!n&&r||e).__k=I(it,null,[t]),i||$h,$h,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?dm.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),QP(a,t)}function hde(t,e){var r={__c:e="__cC"+HP++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(o){o.__e=!0,$0(o)})},this.sub=function(s){i.push(s);var o=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),o&&o.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}dm=zP.slice,be={__e:function(t,e,r,n){for(var i,a,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},FP=0,BP=function(t){return t!=null&&t.constructor===void 0},Ho=!1,Or.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ii({},this.state),typeof t=="function"&&(t=t(Ii({},r),this.props)),t&&Ii(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),$0(this))},Or.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),$0(this))},Or.prototype.render=it,Da=[],UP=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fh.__r=0,HP=0;var jn,Ig,eT,JP=[],$g=[],tT=be.__b,rT=be.__r,nT=be.diffed,iT=be.__c,aT=be.unmount;function pde(){for(var t;t=JP.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Zd),t.__H.__h.forEach(L0),t.__H.__h=[]}catch(e){t.__H.__h=[],be.__e(e,t.__v)}}be.__b=function(t){jn=null,tT&&tT(t)},be.__r=function(t){rT&&rT(t);var e=(jn=t.__c).__H;e&&(Ig===jn?(e.__h=[],jn.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=$g,r.__N=r.i=void 0})):(e.__h.forEach(Zd),e.__h.forEach(L0),e.__h=[])),Ig=jn},be.diffed=function(t){nT&&nT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(JP.push(e)!==1&&eT===be.requestAnimationFrame||((eT=be.requestAnimationFrame)||mde)(pde)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==$g&&(r.__=r.__V),r.i=void 0,r.__V=$g})),Ig=jn=null},be.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Zd),r.__h=r.__h.filter(function(n){return!n.__||L0(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],be.__e(n,r.__v)}}),iT&&iT(t,e)},be.unmount=function(t){aT&&aT(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Zd(n)}catch(i){e=i}}),r.__H=void 0,e&&be.__e(e,r.__v))};var sT=typeof requestAnimationFrame=="function";function mde(t){var e,r=function(){clearTimeout(n),sT&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);sT&&(e=requestAnimationFrame(r))}function Zd(t){var e=jn,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),jn=e}function L0(t){var e=jn;t.__c=t.__(),jn=e}function gde(t,e){for(var r in e)t[r]=e[r];return t}function oT(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function lT(t){this.props=t}(lT.prototype=new Or).isPureReactComponent=!0,lT.prototype.shouldComponentUpdate=function(t,e){return oT(this.props,t)||oT(this.state,e)};var cT=be.__b;be.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),cT&&cT(t)};var vde=be.__e;be.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}vde(t,e,r,n)};var uT=be.unmount;function eM(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=gde({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return eM(n,e,r)})),t}function tM(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return tM(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function Lg(){this.__u=0,this.t=null,this.__b=null}function rM(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Nd(){this.u=null,this.o=null}be.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),uT&&uT(t)},(Lg.prototype=new Or).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=rM(n.__v),a=!1,s=function(){a||(a=!0,r.__R=null,i?i(o):o())};r.__R=s;var o=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=tM(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},Lg.prototype.componentWillUnmount=function(){this.t=[]},Lg.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=eM(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&I(it,null,t.fallback);return i&&(i.__h=null),[I(it,null,e.__a?null:t.children),i]};var dT=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function yde(t){return this.getChildContext=function(){return t.context},t.children}function xde(t){var e=this,r=t.i;e.componentWillUnmount=function(){yu(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),yu(I(yde,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function bde(t,e){var r=I(xde,{__v:t,i:e});return r.containerInfo=e,r}(Nd.prototype=new Or).__a=function(t){var e=this,r=rM(e.__v),n=e.o.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),dT(e,t,n)):i()};r?r(a):a()}},Nd.prototype.render=function(t){this.u=null,this.o=new Map;var e=Bh(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Nd.prototype.componentDidUpdate=Nd.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){dT(t,r,e)})};var wde=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Sde=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_de=typeof document<"u",Ede=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Or.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Or.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var fT=be.event;function jde(){}function Ade(){return this.cancelBubble}function Tde(){return this.defaultPrevented}be.event=function(t){return fT&&(t=fT(t)),t.persist=jde,t.isPropagationStopped=Ade,t.isDefaultPrevented=Tde,t.nativeEvent=t};var hT={configurable:!0,get:function(){return this.class}},pT=be.vnode;be.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var a in n={},r){var s=r[a];_de&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in r&&s==null||(a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&s===!0?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!Ede(r.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():i&&Sde.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),n[a]&&(a="oninputCapture")),n[a]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Bh(r.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Bh(r.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),t.props=n,r.class!=r.className&&(hT.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",hT))}t.$$typeof=wde,pT&&pT(t)};var mT=be.__r;be.__r=function(t){mT&&mT(t),t.__c};const nM=[],F0=new Map;function mw(t){nM.push(t),F0.forEach(e=>{aM(e,t)})}function Nde(t){t.isConnected&&t.getRootNode&&iM(t.getRootNode())}function iM(t){let e=F0.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=kde();r&&(e.nonce=r);const n=t===document?document.head:t,i=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,i)}F0.set(t,e),Cde(e)}}function Cde(t){for(const e of nM)aM(t,e)}function aM(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((i,a)=>{i=i.trim(),i&&r.insertRule(i+"}",n+a)})}let Fg;function kde(){return Fg===void 0&&(Fg=Ode()),Fg}function Ode(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&iM(document);var Dde=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';mw(Dde);class gw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function vw(t){t.parentNode&&t.parentNode.removeChild(t)}function nr(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Pde(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Pde(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Mde(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let i=0;i<r.length;i+=1){let a=r[i].querySelectorAll(e);for(let s=0;s<a.length;s+=1)n.push(a[s])}return n}const Rde=/(top|left|right|bottom|width|height)$/i;function dc(t,e){for(let r in e)sM(t,r,e[r])}function sM(t,e,r){r==null?t.style[e]="":typeof r=="number"&&Rde.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function oM(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let gT=0;function fm(){return gT+=1,"fc-dom-"+gT}function hm(t){t.preventDefault()}function Ide(t,e){return r=>{let n=nr(r.target,t);n&&e.call(n,r,n)}}function lM(t,e,r,n){let i=Ide(r,n);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function $de(t,e,r,n){let i;return lM(t,"mouseover",e,(a,s)=>{if(s!==i){i=s,r(a,s);let o=l=>{i=null,n(l,s),s.removeEventListener("mouseleave",o)};s.addEventListener("mouseleave",o)}})}const vT=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Lde(t,e){let r=n=>{e(n),vT.forEach(i=>{t.removeEventListener(i,r)})};vT.forEach(n=>{t.addEventListener(n,r)})}function cM(t){return Object.assign({onClick:t},uM(t))}function uM(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let yT=0;function ys(){return yT+=1,String(yT)}function yw(){document.body.classList.add("fc-not-allowed")}function xw(){document.body.classList.remove("fc-not-allowed")}function Fde(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",hm)}function Bde(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",hm)}function Ude(t){t.addEventListener("contextmenu",hm)}function Hde(t){t.removeEventListener("contextmenu",hm)}function zde(t){let e=[],r=[],n,i;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)i=r[n],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Wde(t,e,r){let n,i;for(n=0;n<r.length;n+=1)if(i=Vde(t,e,r[n]),i)return i;return 0}function Vde(t,e,r){return r.func?r.func(t,e):Gde(t[r.field],e[r.field])*(r.order||1)}function Gde(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function ao(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function fc(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,i,a)=>n.replace("$"+a,i||""),t):r}function qde(t,e){return t-e}function Jd(t){return t%1===0}function Yde(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const xT=["years","months","days","milliseconds"],Kde=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Me(t,e){return typeof t=="string"?Qde(t):typeof t=="object"&&t?bT(t):typeof t=="number"?bT({[e||"milliseconds"]:t}):null}function Qde(t){let e=Kde.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function bT(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function Xde(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function B0(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function Zde(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function Jde(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function efe(t){return so(t)/365}function tfe(t){return so(t)/30}function so(t){return gn(t)/864e5}function gn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function bw(t,e){let r=null;for(let n=0;n<xT.length;n+=1){let i=xT[n];if(e[i]){let a=t[i]/e[i];if(!Jd(a)||r!==null&&r!==a)return null;r=a}else if(t[i])return null}return r}function U0(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ta(t,e,r){if(t===e)return!0;let n=t.length,i;if(n!==e.length)return!1;for(i=0;i<n;i+=1)if(!(r?r(t[i],e[i]):t[i]===e[i]))return!1;return!0}const rfe=["sun","mon","tue","wed","thu","fri","sat"];function wT(t,e){let r=$i(t);return r[2]+=e*7,yr(r)}function ir(t,e){let r=$i(t);return r[2]+=e,yr(r)}function ra(t,e){let r=$i(t);return r[6]+=e,yr(r)}function nfe(t,e){return xs(t,e)/7}function xs(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function ife(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function afe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function sfe(t,e){return(e.valueOf()-t.valueOf())/1e3}function ofe(t,e){let r=at(t),n=at(e);return{years:0,months:0,days:Math.round(xs(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function lfe(t,e){let r=Uh(t,e);return r!==null&&r%7===0?r/7:null}function Uh(t,e){return Li(t)===Li(e)?Math.round(xs(t,e)):null}function at(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function cfe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function ufe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function dfe(t){return yr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function ffe(t,e,r){let n=t.getUTCFullYear(),i=Bg(t,n,e,r);if(i<1)return Bg(t,n-1,e,r);let a=Bg(t,n+1,e,r);return a>=1?Math.min(i,a):i}function Bg(t,e,r,n){let i=yr([e,0,1+hfe(e,r,n)]),a=at(t),s=Math.round(xs(i,a));return Math.floor(s/7)+1}function hfe(t,e,r){let n=7+e-r;return-((7+yr([t,0,n]).getUTCDay()-e)%7)+n-1}function ST(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function _T(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function $i(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function yr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function dM(t){return!isNaN(t.valueOf())}function Li(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function fM(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",Sw(e,!0)))),n}function ww(t){return t.toISOString().replace(/T.*$/,"")}function pfe(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function mfe(t){return ao(t.getUTCHours(),2)+":"+ao(t.getUTCMinutes(),2)+":"+ao(t.getUTCSeconds(),2)}function Sw(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=Math.round(n%60);return e?`${r+ao(i,2)}:${ao(a,2)}`:`GMT${r}${i}${a?`:${ao(a,2)}`:""}`}function we(t,e,r){let n,i;return function(...a){if(!n)i=t.apply(this,a);else if(!ta(n,a)){r&&r(i);let s=t.apply(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}function ef(t,e,r){let n,i;return a=>{if(!n)i=t.call(this,a);else if(!wn(n,a)){r&&r(i);let s=t.call(this,a);(!e||!e(s,i))&&(i=s)}return n=a,i}}const Ug={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Hh={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Cd=/\s*([ap])\.?m\.?/i,gfe=/,/g,vfe=/\s+/g,yfe=/\u200e/g,xfe=/UTC|GMT/;class bfe{constructor(e){let r={},n={},i=9;for(let a in e)a in Ug?(n[a]=e[a],Ug[a]<9&&(i=Math.min(Ug[a],i))):(r[a]=e[a],a in Hh&&(i=Math.min(Hh[a],i)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=i,this.buildFormattingFunc=we(ET)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,i){let{standardDateProps:a,extendedSettings:s}=this,o=Afe(e.marker,r.marker,n.calendarSystem);if(!o)return this.format(e,n);let l=o;l>1&&(a.year==="numeric"||a.year==="2-digit")&&(a.month==="numeric"||a.month==="2-digit")&&(a.day==="numeric"||a.day==="2-digit")&&(l=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=Tfe(a,l),h=ET(f,s,n),p=h(e),m=h(r),g=Nfe(u,p,d,m),v=s.separator||i||n.defaultSeparator||"";return g?g.before+p+v+m+g.after:u+v+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ET(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?i=>Sw(i.timeZoneOffset):n===0&&e.week?i=>jfe(r.computeWeekNumber(i.marker),r.weekText,r.weekTextLong,r.locale,e.week):wfe(t,e,r)}function wfe(t,e,r){t=Object.assign({},t),e=Object.assign({},e),Sfe(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),i;if(e.omitZeroMinute){let a=Object.assign({},t);delete a.minute,i=new Intl.DateTimeFormat(r.locale.codes,a)}return a=>{let{marker:s}=a,o;i&&!s.getUTCMinutes()?o=i:o=n;let l=o.format(s);return _fe(l,a,t,e,r)}}function Sfe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function _fe(t,e,r,n,i){return t=t.replace(yfe,""),r.timeZoneName==="short"&&(t=Efe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Sw(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(gfe,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(Cd,"").trim():n.meridiem==="narrow"?t=t.replace(Cd,(a,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(Cd,(a,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(Cd,a=>a.toLocaleLowerCase())),t=t.replace(vfe," "),t=t.trim(),t}function Efe(t,e){let r=!1;return t=t.replace(xfe,()=>(r=!0,e)),r||(t+=` ${e}`),t}function jfe(t,e,r,n,i){let a=[];return i==="long"?a.push(r):(i==="short"||i==="narrow")&&a.push(e),(i==="long"||i==="short")&&a.push(" "),a.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&a.reverse(),a.join("")}function Afe(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:Li(t)!==Li(e)?1:0}function Tfe(t,e){let r={};for(let n in t)(!(n in Hh)||Hh[n]<=e)&&(r[n]=t[n]);return r}function Nfe(t,e,r,n){let i=0;for(;i<t.length;){let a=t.indexOf(e,i);if(a===-1)break;let s=t.substr(0,a);i=a+e.length;let o=t.substr(i),l=0;for(;l<r.length;){let u=r.indexOf(n,l);if(u===-1)break;let d=r.substr(0,u);l=u+n.length;let f=r.substr(l);if(s===d&&o===f)return{before:s,after:o}}}return null}function jT(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function zh(t,e,r,n){let i=jT(t,r.calendarSystem),a=e?jT(e,r.calendarSystem):null;return{date:i,start:i,end:a,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class Cfe{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,zh(e,null,r,n))}formatRange(e,r,n,i){return n.cmdFormatter(this.cmdStr,zh(e,r,n,i))}}class kfe{constructor(e){this.func=e}format(e,r,n){return this.func(zh(e,null,r,n))}formatRange(e,r,n,i){return this.func(zh(e,r,n,i))}}function mt(t){return typeof t=="object"&&t?new bfe(t):typeof t=="string"?new Cfe(t):typeof t=="function"?new kfe(t):null}const AT={navLinkDayClick:Z,navLinkWeekClick:Z,duration:Me,bootstrapFontAwesome:Z,buttonIcons:Z,customButtons:Z,defaultAllDayEventDuration:Me,defaultTimedEventDuration:Me,nextDayThreshold:Me,scrollTime:Me,scrollTimeReset:Boolean,slotMinTime:Me,slotMaxTime:Me,dayPopoverFormat:mt,slotDuration:Me,snapDuration:Me,headerToolbar:Z,footerToolbar:Z,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:mt,dayHeaderClassNames:Z,dayHeaderContent:Z,dayHeaderDidMount:Z,dayHeaderWillUnmount:Z,dayCellClassNames:Z,dayCellContent:Z,dayCellDidMount:Z,dayCellWillUnmount:Z,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Z,weekNumbers:Boolean,weekNumberClassNames:Z,weekNumberContent:Z,weekNumberDidMount:Z,weekNumberWillUnmount:Z,editable:Boolean,viewClassNames:Z,viewDidMount:Z,viewWillUnmount:Z,nowIndicator:Boolean,nowIndicatorClassNames:Z,nowIndicatorContent:Z,nowIndicatorDidMount:Z,nowIndicatorWillUnmount:Z,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Z,locale:Z,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Z,eventOrder:zde,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Z,contentHeight:Z,direction:String,weekNumberFormat:mt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Z,initialDate:Z,now:Z,eventDataTransform:Z,stickyHeaderDates:Z,stickyFooterScrollbar:Z,viewHeight:Z,defaultAllDay:Boolean,eventSourceFailure:Z,eventSourceSuccess:Z,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Z,eventConstraint:Z,eventAllow:Z,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Z,eventContent:Z,eventDidMount:Z,eventWillUnmount:Z,selectConstraint:Z,selectOverlap:Z,selectAllow:Z,droppable:Boolean,unselectCancel:String,slotLabelFormat:Z,slotLaneClassNames:Z,slotLaneContent:Z,slotLaneDidMount:Z,slotLaneWillUnmount:Z,slotLabelClassNames:Z,slotLabelContent:Z,slotLabelDidMount:Z,slotLabelWillUnmount:Z,dayMaxEvents:Z,dayMaxEventRows:Z,dayMinWidth:Number,slotLabelInterval:Me,allDayText:String,allDayClassNames:Z,allDayContent:Z,allDayDidMount:Z,allDayWillUnmount:Z,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:mt,rerenderDelay:Number,moreLinkText:Z,moreLinkHint:Z,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Z,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Me,hiddenDays:Z,fixedWeekCount:Boolean,validRange:Z,visibleRange:Z,titleFormat:Z,eventInteractive:Boolean,noEventsText:String,viewHint:Z,navLinkHint:Z,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Z,moreLinkClassNames:Z,moreLinkContent:Z,moreLinkDidMount:Z,moreLinkWillUnmount:Z,monthStartFormat:mt,handleCustomRendering:Z,customRenderingMetaMap:Z,customRenderingReplaces:Boolean},hc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},TT={datesSet:Z,eventsSet:Z,eventAdd:Z,eventChange:Z,eventRemove:Z,windowResize:Z,eventClick:Z,eventMouseEnter:Z,eventMouseLeave:Z,select:Z,unselect:Z,loading:Z,_unmount:Z,_beforeprint:Z,_afterprint:Z,_noEventDrop:Z,_noEventResize:Z,_resize:Z,_scrollRequest:Z},NT={buttonText:Z,buttonHints:Z,views:Z,plugins:Z,initialEvents:Z,events:Z,eventSources:Z},Na={headerToolbar:Ca,footerToolbar:Ca,buttonText:Ca,buttonHints:Ca,buttonIcons:Ca,dateIncrement:Ca,plugins:kd,events:kd,eventSources:kd,resources:kd};function Ca(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?wn(t,e):t===e}function kd(t,e){return Array.isArray(t)&&Array.isArray(e)?ta(t,e):t===e}const Ofe={type:String,component:Z,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Z,usesMinMaxTime:Boolean,classNames:Z,content:Z,didMount:Z,willUnmount:Z};function Hg(t){return Ew(t,Na)}function _w(t,e){let r={},n={};for(let i in e)i in t&&(r[i]=e[i](t[i]));for(let i in t)i in e||(n[i]=t[i]);return{refined:r,extra:n}}function Z(t){return t}const{hasOwnProperty:Wh}=Object.prototype;function Ew(t,e){let r={};if(e){for(let n in e)if(e[n]===Ca){let i=[];for(let a=t.length-1;a>=0;a-=1){let s=t[a][n];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){r[n]=s;break}}i.length&&(r[n]=Ew(i))}}for(let n=t.length-1;n>=0;n-=1){let i=t[n];for(let a in i)a in r||(r[a]=i[a])}return r}function ss(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function di(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function hM(t){let e={};for(let r of t)e[r]=!0;return e}function jw(t){let e=[];for(let r in t)e.push(t[r]);return e}function wn(t,e){if(t===e)return!0;for(let r in t)if(Wh.call(t,r)&&!(r in e))return!1;for(let r in e)if(Wh.call(e,r)&&t[r]!==e[r])return!1;return!0}const Dfe=/^on[A-Z]/;function Pfe(t,e){const r=Mfe(t,e);for(let n of r)if(!Dfe.test(n))return!1;return!0}function Mfe(t,e){let r=[];for(let n in t)Wh.call(t,n)&&(n in e||r.push(n));for(let n in e)Wh.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function zg(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&Rfe(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function Rfe(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function Ife(t,e=0,r,n=1){let i=[];r==null&&(r=Object.keys(t).length);for(let a=e;a<r;a+=n){let s=t[a];s!==void 0&&i.push(s)}return i}let pM={};function $fe(t,e){pM[t]=e}function Lfe(t){return new pM[t]}class Ffe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return yr(e)}markerToArray(e){return $i(e)}}$fe("gregory",Ffe);const Bfe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ufe(t){let e=Bfe.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(dM(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class Hfe{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=Lfe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):yr(ST(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=yr(e)),r===null||!dM(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=Ufe(e);if(r===null)return null;let{marker:n}=r,i=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):i=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return Li(e)===Li(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return Li(e)===Li(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=lfe(e,r),n!==null?{unit:"week",value:n}:(n=Uh(e,r),n!==null?{unit:"day",value:n}:(n=ife(e,r),Jd(n)?{unit:"hour",value:n}:(n=afe(e,r),Jd(n)?{unit:"minute",value:n}:(n=sfe(e,r),Jd(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let i;return n.years&&(i=this.diffWholeYears(e,r),i!==null)?i/efe(n):n.months&&(i=this.diffWholeMonths(e,r),i!==null)?i/tfe(n):n.days&&(i=Uh(e,r),i!==null)?i/so(n):(r.valueOf()-e.valueOf())/gn(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?at(e):r==="hour"?cfe(e):r==="minute"?ufe(e):r==="second"?dfe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):ffe(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,i={}){return i.isEndExclusive&&(r=ra(r,-1)),n.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(r)},this,i.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),fM(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?yr(ST(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):yr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-_T($i(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray($i(e)):null}toDate(e,r){return this.timeZone==="local"?_T($i(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray($i(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class Lu{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}Lu.prototype.classes={};Lu.prototype.iconClasses={};Lu.prototype.baseIconClass="";Lu.prototype.iconOverridePrefix="";function Vh(t){t();let e=be.debounceRendering,r=[];function n(i){r.push(i)}for(be.debounceRendering=n,yu(I(zfe,{}),document.createElement("div"));r.length;)r.shift()();be.debounceRendering=e}class zfe extends Or{render(){return I("div",{})}componentDidMount(){this.setState({})}}function mM(t){let e=hde(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,i=r.apply(this,arguments);if(n){let a=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&a.forEach(o=>{o.context=s.value,o.forceUpdate()})},this.sub=s=>{a.push(s);let o=s.componentWillUnmount;s.componentWillUnmount=()=>{a.splice(a.indexOf(s),1),o&&o.call(s)}}}return i},e}class Wfe{constructor(e,r,n,i){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=a=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},a),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const gi=mM({});function Vfe(t,e,r,n,i,a,s,o,l,u,d,f,h,p){return{dateEnv:i,nowManager:a,options:r,pluginHooks:o,emitter:d,dispatch:l,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(m){d.on("_resize",m)},removeResizeHandler(m){d.off("_resize",m)},createScrollResponder(m){return new Wfe(m,d,Me(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class bs extends Or{shouldComponentUpdate(e,r){return!zg(this.props,e,this.propEquality)||!zg(this.state,r,this.stateEquality)}safeSetState(e){zg(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}bs.addPropsEquality=Gfe;bs.addStateEquality=qfe;bs.contextType=gi;bs.prototype.propEquality={};bs.prototype.stateEquality={};class We extends bs{}We.contextType=gi;function Gfe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function qfe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function In(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Aw extends We{constructor(){super(...arguments),this.id=ys(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!H0(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&In(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:i,defaultGenerator:a,renderProps:s}=e,o=gM(e,[],this.handleEl);let l=!1,u,d=[],f;if(i!=null){const h=typeof i=="function"?i(s,I):i;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(p?BP(h):typeof h!="function")?u=h:f=h}}else l=!H0(e.generatorName,n);return l&&a&&(u=a(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,I(e.elTag,o,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:i}=this,{handleCustomRendering:a,customRenderingMetaMap:s}=i.options;if(a){const o=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];o&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(Yfe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!ta(e,r)){r.forEach(vw);for(let i of e)n.appendChild(i);this.currentDomNodes=e}}}Aw.addPropsEquality({elClasses:ta,elStyle:wn,elAttrs:Pfe,renderProps:wn});function H0(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function gM(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function Yfe(t){return!!t}const vM=mM(0);class $r extends Or{constructor(){super(...arguments),this.InnerContent=Kfe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(In(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=Qfe(e.classNameGenerator,e.renderProps);if(e.children){const n=gM(e,r,this.handleEl),i=e.children(this.InnerContent,e.renderProps,n);return e.elTag?I(e.elTag,n,i):i}else return I(Aw,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}$r.contextType=vM;function Kfe(t,e){const r=t.props;return I(Aw,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function Qfe(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class Gh extends We{render(){let{props:e,context:r}=this,{options:n}=r,i={view:r.viewApi};return I($r,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...yM(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function yM(t){return[`fc-${t.type}-view`,"fc-view"]}function Xfe(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function CT(t,e){let r=[],{start:n}=e,i,a;for(t.sort(Zfe),i=0;i<t.length;i+=1)a=t[i],a.start>n&&r.push({start:n,end:a.start}),a.end>n&&(n=a.end);return n<e.end&&r.push({start:n,end:e.end}),r}function Zfe(t,e){return t.start.valueOf()-e.start.valueOf()}function os(t,e){let{start:r,end:n}=t,i=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(i={start:r,end:n}),i}function Jfe(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Tw(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function pm(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function ni(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function ehe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function xM(t){let e=Math.floor(xs(t.start,t.end))||1,r=at(t.start),n=ir(r,e);return{start:r,end:n}}function bM(t,e=Me(0)){let r=null,n=null;if(t.end){n=at(t.end);let i=t.end.valueOf()-n.valueOf();i&&i>=gn(e)&&(n=ir(n,1))}return t.start&&(r=at(t.start),n&&n<=r&&(n=ir(r,1))),{start:r,end:n}}function Ks(t,e,r,n){return n==="year"?Me(r.diffWholeYears(t,e),"year"):n==="month"?Me(r.diffWholeMonths(t,e),"month"):ofe(t,e)}class wM{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:i}=this.props,a=i.subtract(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,r,n){let{dateEnv:i}=this.props,a=i.add(i.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,r,n=!0){let{props:i}=this,a,s,o,l,u,d;return a=this.buildValidRange(),a=this.trimHiddenDays(a),n&&(e=ehe(e,a)),s=this.buildCurrentRangeInfo(e,r),o=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,o),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=os(u,s.range)),u=this.adjustActiveRange(u),u=os(u,a),d=Tw(s.range,a),ni(l,e)||(e=l.start),{currentDate:e,validRange:a,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:o,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,i=null,a=null,s=null,o;return n.duration?(i=n.duration,a=n.durationUnit,s=this.buildRangeFromDuration(e,r,i,a)):(o=this.props.dayCount)?(a="day",s=this.buildRangeFromDayCount(e,r,o)):(s=this.buildCustomVisibleRange(e))?a=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),a=U0(i).unit,s=this.buildRangeFromDuration(e,r,i,a)),{duration:i,unit:a,range:s}}getFallbackDuration(){return Me({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:i,slotMaxTime:a}=this.props,{start:s,end:o}=e;return n&&(so(i)<0&&(s=at(s),s=r.add(s,i)),so(a)>1&&(o=at(o),o=ir(o,-1),o=r.add(o,a))),{start:s,end:o}}buildRangeFromDuration(e,r,n,i){let{dateEnv:a,dateAlignment:s}=this.props,o,l,u;if(!s){let{dateIncrement:f}=this.props;f&&gn(f)<gn(n)?s=U0(f).unit:s=i}so(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,r),o=at(o));function d(){o=a.startOf(e,s),l=a.add(o,n),u={start:o,end:l}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:i,dateAlignment:a}=this.props,s=0,o=e,l;a&&(o=i.startOf(o,a)),o=at(o),o=this.skipHiddenDays(o,r),l=o;do l=ir(l,1),this.isHiddenDay(l)||(s+=1);while(s<n);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,i=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,a=this.refineRange(i);return a&&(a.start==null||a.end==null)?null:a}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?Me(1,n):e||Me({days:1}))}refineRange(e){if(e){let r=Xfe(e,this.props.dateEnv);return r&&(r=bM(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(r[i]=e.indexOf(i)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=ir(e,r);return e}}function Nw(t,e,r,n){return{instanceId:ys(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function the(t,e,r,n){for(let i=0;i<n.length;i+=1){let a=n[i].parse(t,r);if(a){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=a.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:a.duration,typeData:a.typeData,typeId:i}}}return null}function ls(t,e,r){let{dateEnv:n,pluginHooks:i,options:a}=r,{defs:s,instances:o}=t;o=ss(o,l=>!s[l.defId].recurringDef);for(let l in s){let u=s[l];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration);let f=rhe(u,d,e,n,i.recurringTypes);for(let h of f){let p=Nw(l,{start:h,end:n.add(h,d)});o[p.instanceId]=p}}}return{defs:s,instances:o}}function rhe(t,e,r,n,i){let s=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(at)),s}const tf={id:String,groupId:String,title:String,url:String,interactive:Boolean},SM={start:Z,end:Z,date:Z,allDay:Boolean},nhe=Object.assign(Object.assign(Object.assign({},tf),SM),{extendedProps:Z});function _M(t,e,r,n,i=Cw(r),a,s){let{refined:o,extra:l}=EM(t,r,i),u=ahe(e,r),d=the(o,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=z0(o,l,e?e.sourceId:"",d.allDay,!!d.duration,r,a);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=ihe(o,u,r,n);if(f){let h=z0(o,l,e?e.sourceId:"",f.allDay,f.hasEnd,r,a),p=Nw(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&h.publicId&&s[h.publicId]&&(p.instanceId=s[h.publicId]),{def:h,instance:p}}return null}function EM(t,e,r=Cw(e)){return _w(t,r)}function Cw(t){return Object.assign(Object.assign(Object.assign({},qh),nhe),t.pluginHooks.eventRefiners)}function z0(t,e,r,n,i,a,s){let o={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||ys(),sourceId:r,allDay:n,hasEnd:i,interactive:t.interactive,ui:Yh(t,a),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of a.pluginHooks.eventDefMemberAdders)Object.assign(o,l(t));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function ihe(t,e,r,n){let{allDay:i}=t,a,s=null,o=!1,l,u=null,d=t.start!=null?t.start:t.date;if(a=r.dateEnv.createMarkerMeta(d),a)s=a.marker;else if(!n)return null;return t.end!=null&&(l=r.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!a||a.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=at(s)),l&&(u=l.marker,i&&(u=at(u)),s&&u<=s&&(u=null)),u?o=!0:n||(o=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,i?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:s,end:u},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function ahe(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function xu(t,e,r,n,i,a){let s=Dr(),o=Cw(r);for(let l of t){let u=_M(l,e,r,n,o,i,a);u&&W0(u,s)}return s}function W0(t,e=Dr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function kw(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],i=mm(t,a=>she(n,a));return i.defs[n.defId]=n,i.instances[r.instanceId]=r,i}return Dr()}function she(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Dr(){return{defs:{},instances:{}}}function Ow(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function mm(t,e){let r=ss(t.defs,e),n=ss(t.instances,i=>r[i.defId]);return{defs:r,instances:n}}function ohe(t,e){let{defs:r,instances:n}=t,i={},a={};for(let s in r)e.defs[s]||(i[s]=r[s]);for(let s in n)!e.instances[s]&&i[n[s].defId]&&(a[s]=n[s]);return{defs:i,instances:a}}function lhe(t,e){return Array.isArray(t)?xu(t,null,e,!0):typeof t=="object"&&t?xu([t],null,e,!0):t!=null?String(t):null}function kT(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const qh={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Z,overlap:Z,allow:Z,className:kT,classNames:kT,color:String,backgroundColor:String,borderColor:String,textColor:String},che={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Yh(t,e){let r=lhe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function jM(t){return t.reduce(uhe,che)}function uhe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const dhe={id:String,defaultAllDay:Boolean,url:String,format:String,events:Z,eventDataTransform:Z,success:Z,failure:Z};function AM(t,e,r=TM(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:i,extra:a}=_w(n,r),s=fhe(i,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ys(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Yh(i,e),extendedProps:a}}return null}function TM(t){return Object.assign(Object.assign(Object.assign({},qh),dhe),t.pluginHooks.eventSourceRefiners)}function fhe(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let a=r[n].parseMeta(t);if(a)return{sourceDefId:n,meta:a}}return null}function hhe(t,e,r,n,i){switch(e.type){case"RECEIVE_EVENTS":return phe(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return mhe(t,r[e.sourceId],e.rawEvents,n.activeRange,i);case"ADD_EVENTS":return ghe(t,e.eventStore,n?n.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Ow(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?ls(t,n.activeRange,i):t;case"REMOVE_EVENTS":return ohe(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return CM(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return mm(t,a=>!a.sourceId);case"REMOVE_ALL_EVENTS":return Dr();default:return t}}function phe(t,e,r,n,i,a){if(e&&r===e.latestFetchId){let s=xu(NM(i,e,a),e,a);return n&&(s=ls(s,n,a)),Ow(CM(t,e.sourceId),s)}return t}function mhe(t,e,r,n,i){const{defIdMap:a,instanceIdMap:s}=yhe(t);let o=xu(NM(r,e,i),e,i,!1,a,s);return ls(o,n,i)}function NM(t,e,r){let n=r.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=OT(t,i)),n&&(t=OT(t,n)),t}function OT(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let i=e(n);i?r.push(i):i==null&&r.push(n)}}return r}function ghe(t,e,r,n){return r&&(e=ls(e,r,n)),Ow(t,e)}function DT(t,e,r){let{defs:n}=t,i=di(t.instances,a=>n[a.defId].allDay?a:Object.assign(Object.assign({},a),{range:{start:r.createMarker(e.toDate(a.range.start,a.forcedStartTzo)),end:r.createMarker(e.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:a.forcedEndTzo}));return{defs:n,instances:i}}function CM(t,e){return mm(t,r=>r.sourceId!==e)}function vhe(t,e){return{defs:t.defs,instances:ss(t.instances,r=>!e[r.instanceId])}}function yhe(t){const{defs:e,instances:r}=t,n={},i={};for(let a in e){const s=e[a],{publicId:o}=s;o&&(n[o]=a)}for(let a in r){const s=r[a],o=e[s.defId],{publicId:l}=o;l&&(i[l]=a)}return{defIdMap:n,instanceIdMap:i}}class gm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){xhe(this.handlers,e,r)}off(e,r){bhe(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],i=this.options&&this.options[e],a=[].concat(i||[],n);for(let s of a)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function xhe(t,e,r){(t[e]||(t[e]=[])).push(r)}function bhe(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const whe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function She(t,e){return xu(_he(t),null,e)}function _he(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},whe),r)),e}function kM(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},Dw(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function Ehe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Dw(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,Lhe(t,e.dateEnv)),r}function PT(t,e,r){let{dateEnv:n,options:i}=r,a=e;return t?(a=at(a),a=n.add(a,i.defaultAllDayEventDuration)):a=n.add(a,i.defaultTimedEventDuration),a}function Pw(t,e,r,n){let i=Kh(t.defs,e),a=Dr();for(let s in t.defs){let o=t.defs[s];a.defs[s]=jhe(o,i[s],r,n)}for(let s in t.instances){let o=t.instances[s],l=a.defs[o.defId];a.instances[s]=Ahe(o,l,i[o.defId],r,n)}return a}function jhe(t,e,r,n){let i=r.standardProps||{};i.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(i.hasEnd=!0);let a=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});r.extendedProps&&(a.extendedProps=Object.assign(Object.assign({},a.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(a,r,n);return!a.hasEnd&&n.options.forceEventDuration&&(a.hasEnd=!0),a}function Ahe(t,e,r,n,i){let{dateEnv:a}=i,s=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},t);return s&&(l.range=xM(l.range)),n.datesDelta&&r.startEditable&&(l.range={start:a.add(l.range.start,n.datesDelta),end:a.add(l.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(l.range={start:a.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&r.durationEditable&&(l.range={start:l.range.start,end:a.add(l.range.end,n.endDelta)}),o&&(l.range={start:l.range.start,end:PT(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:at(l.range.start),end:at(l.range.end)}),l.range.end<l.range.start&&(l.range.end=PT(e.allDay,l.range.start,i)),l}class Ps{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class ht{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in SM)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=tf[e](r),this.mutate({standardProps:{publicId:r}});else if(e in tf)r=tf[e](r),this.mutate({standardProps:{[e]:r}});else if(e in qh){let n=qh[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,i=n.createMarker(e);if(i&&this._instance){let a=this._instance.range,s=Ks(a.start,i,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,i;if(!(e!=null&&(i=n.createMarker(e),!i))&&this._instance)if(i){let a=Ks(this._instance.range.end,i,n,r.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:i}=this._context,a={allDay:n.allDay},s=i.createMarker(e),o;if(s&&!(r!=null&&(o=i.createMarker(r),!o))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=xM(l));let u=Ks(l.start,s,i,n.granularity);if(o){let d=Ks(l.end,o,i,n.granularity);Xde(u,d)?this.mutate({datesDelta:u,standardProps:a}):this.mutate({startDelta:u,endDelta:d,standardProps:a})}else a.hasEnd=!1,this.mutate({datesDelta:u,standardProps:a})}}moveStart(e){let r=Me(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=Me(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=Me(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:i}=r;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,i=mt(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,i=this._context,{eventStore:a}=i.getCurrentData(),s=kw(a,r.instanceId);s=Pw(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new ht(i,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Va(s,i,r),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,r=OM(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new Ps(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:i,endStr:a}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),i&&(s.start=i),a&&(s.end=a),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function OM(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function Va(t,e,r){let{defs:n,instances:i}=t,a=[],s=r?r.instanceId:"";for(let o in i){let l=i[o],u=n[l.defId];l.instanceId!==s&&a.push(new ht(e,u,l))}return a}function MT(t,e,r,n){let i={},a={},s={},o=[],l=[],u=Kh(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):a[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],p=u[h.defId],m=f.range,g=!h.allDay&&n?bM(m,n):m,v=os(g,r);v&&(p.display==="inverse-background"?h.groupId?i[h.groupId].push(v):a[f.defId].push(v):p.display!=="none"&&(p.display==="background"?o:l).push({def:h,ui:p,instance:f,range:v,isStart:g.start&&g.start.valueOf()===v.start.valueOf(),isEnd:g.end&&g.end.valueOf()===v.end.valueOf()}))}for(let d in i){let f=i[d],h=CT(f,r);for(let p of h){let m=s[d],g=u[m.defId];o.push({def:m,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in a){let f=a[d],h=CT(f,r);for(let p of h)o.push({def:t.defs[d],ui:u[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function The(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function RT(t,e){t.fcSeg=e}function zo(t){return t.fcSeg||t.parentNode.fcSeg||null}function Kh(t,e){return di(t,r=>DM(r,e))}function DM(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),jM(r)}function PM(t,e){let r=t.map(Nhe);return r.sort((n,i)=>Wde(n,i,e)),r.map(n=>n._seg)}function Nhe(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,i=n.start?n.start.valueOf():0,a=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:i,end:a,duration:a-i,allDay:Number(r.allDay),_seg:t})}function Che(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:i,ui:a}=t.eventRange,s=a.startEditable;for(let o of n)s=o(s,i,a,e);return s}function khe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Ohe(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function MM(t,e,r,n,i,a,s){let{dateEnv:o,options:l}=r,{displayEventTime:u,displayEventEnd:d}=l,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=i!==!1);let p=h.range.start,m=h.range.end,g=a||t.start||t.eventRange.range.start,v=s||t.end||t.eventRange.range.end,x=at(p).valueOf()===at(g).valueOf(),y=at(ra(m,-1)).valueOf()===at(ra(v,-1)).valueOf();return u&&!f.allDay&&(x||y)?(g=x?p:g,v=y?m:v,d&&f.hasEnd?o.formatRange(g,v,e,{forcedStartTzo:a?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):o.format(g,e,{forcedTzo:a?null:h.forcedStartTzo})):""}function Xi(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=(r||e.start),isFuture:n.start>=(r||e.end),isToday:e&&ni(e,n.start)}}function Dhe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function RM(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function IM(t,e){let{def:r,instance:n}=t.eventRange,{url:i}=r;if(i)return{href:i};let{emitter:a,options:s}=e,{eventInteractive:o}=s;return o==null&&(o=r.interactive,o==null&&(o=!!a.hasHandlers("eventClick"))),o?uM(l=>{a.trigger("eventClick",{el:l.target,event:new ht(e,r,n),jsEvent:l,view:e.viewApi})}):{}}const Phe={start:Z,end:Z,allDay:Boolean};function Mhe(t,e,r){let n=Rhe(t,e),{range:i}=n;if(!i.start)return null;if(!i.end){if(r==null)return null;i.end=e.add(i.start,r)}return n}function Rhe(t,e){let{refined:r,extra:n}=_w(t,Phe),i=r.start?e.createMarkerMeta(r.start):null,a=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=i&&i.isTimeUnspecified&&(!a||a.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:a?a.marker:null},allDay:s},n)}function Ihe(t,e){return Jfe(t.range,e.range)&&t.allDay===e.allDay&&$he(t,e)}function $he(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function Lhe(t,e){return Object.assign(Object.assign({},LM(t.range,e,t.allDay)),{allDay:t.allDay})}function $M(t,e,r){return Object.assign(Object.assign({},LM(t,e,r)),{timeZone:e.timeZone})}function LM(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function Fhe(t,e,r){let n=EM({editable:!1},r),i=z0(n.refined,n.extra,"",t.allDay,!0,r);return{def:i,ui:DM(i,e),instance:Nw(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Bhe(t,e,r){let n=!1,i=function(o){n||(n=!0,e(o))},a=function(o){n||(n=!0,r(o))},s=t(i,a);s&&typeof s.then=="function"&&s.then(i,a)}class IT extends Error{constructor(e,r){super(e),this.response=r}}function Uhe(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(i=>{if(i.ok)return i.json().then(a=>[a,i],()=>{throw new IT("Failure parsing JSON",i)});throw new IT("Request failed",i)})}let Wg;function FM(){return Wg==null&&(Wg=Hhe()),Wg}function Hhe(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class zhe extends We{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Vh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Vh(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,i=n||r.height==="auto"||r.contentHeight==="auto",a=!i&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return FM()||s.push("fc-liquid-hack"),e.children(s,a,i,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class fl{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Whe(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Mw(t){return{[t.component.uid]:t}}const V0={};class hl extends Or{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),i=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(i,Me(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:i,todayRange:Vhe(i)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}hl.contextType=gi;function Vhe(t){let e=at(t),r=ir(e,1);return{start:e,end:r}}class Ghe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),i;r=r||"day",i=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),i=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),a,s;for(let o in r)i.push(o);for(a=0;a<i.length;a+=1)if(s=r[i[a]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=Me(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),mt(r))}formatRange(e,r,n){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(r),mt(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let i=this.getCurrentData(),a=Mhe(n,i.dateEnv,Me({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),kM(a,null,i))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Ehe(e,r))}addEvent(e,r){if(e instanceof ht){let s=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:W0({def:s,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),i;if(r instanceof Ps)i=r.internalEventSource;else if(typeof r=="boolean")r&&([i]=jw(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;i=s.internalEventSource}let a=_M(e,i,n,!1);if(a){let s=new ht(n,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:W0(a)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:OM(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:i}=r.eventStore;e=String(e);for(let a in n){let s=n[a];if(s.publicId===e){if(s.recurringDef)return new ht(r,s,null);for(let o in i){let l=i[o];if(l.defId===s.defId)return new ht(r,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return Va(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let i in r)n.push(new Ps(e,r[i]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let i in n)if(n[i].publicId===e)return new Ps(r,n[i]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof Ps)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=AM(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Ps(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=Me(e);r&&this.trigger("_scrollRequest",{time:r})}}function qhe(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function BM(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function Yhe(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Khe(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Qhe(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Vg=Dr();class Xhe{constructor(){this.getKeysForEventDefs=we(this._getKeysForEventDefs),this.splitDateSelection=we(this._splitDateSpan),this.splitEventStore=we(this._splitEventStore),this.splitIndividualUi=we(this._splitIndividualUi),this.splitEventDrag=we(this._splitInteraction),this.splitEventResize=we(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let r=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),s=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=di(r,(d,f)=>this.eventUiBuilders[f]||we(Zhe));for(let d in r){let f=r[d],h=s[d]||Vg,p=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:p(e.eventUiBases[""],f.ui,a[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:l[d]||null}}return u}_splitDateSpan(e){let r={};if(e){let n=this.getKeysForDateSpan(e);for(let i of n)r[i]=e}return r}_getKeysForEventDefs(e){return di(e.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(e,r){let{defs:n,instances:i}=e,a={};for(let s in n)for(let o of r[s])a[o]||(a[o]=Dr()),a[o].defs[s]=n[s];for(let s in i){let o=i[s];for(let l of r[o.defId])a[l]&&(a[l].instances[s]=o)}return a}_splitIndividualUi(e,r){let n={};for(let i in e)if(i)for(let a of r[i])n[a]||(n[a]={}),n[a][i]=e[i];return n}_splitInteraction(e){let r={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),s=o=>{r[o]||(r[o]={affectedEvents:n[o]||Vg,mutatedEvents:a[o]||Vg,isEvent:e.isEvent})};for(let o in n)s(o);for(let o in a)s(o)}return r}}function Zhe(t,e,r){let n=[];t&&n.push(t),e&&n.push(e);let i={"":jM(n)};return r&&Object.assign(i,r),i}function UM(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!ni(n.activeRange,t))),isOther:!!(n&&!ni(n.currentRange,t)),isToday:!!(e&&ni(e,t)),isPast:!!(r?t<r:e&&t<e.start),isFuture:!!(r?t>r:e&&t>=e.end)}}function Rw(t,e){let r=["fc-day",`fc-day-${rfe[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const Jhe=mt({year:"numeric",month:"long",day:"numeric"}),epe=mt({week:"long"});function Qh(t,e,r="day",n=!0){const{dateEnv:i,options:a,calendarApi:s}=t;let o=i.format(e,r==="week"?epe:Jhe);if(a.navLinks){let l=i.toDate(e);const u=d=>{let f=r==="day"?a.navLinkDayClick:r==="week"?a.navLinkWeekClick:null;typeof f=="function"?f.call(s,i.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:fc(a.navLinkHint,[o,l],o),"data-navlink":""},n?cM(u):{onClick:u})}return{"aria-label":o}}let Gg=null;function tpe(){return Gg===null&&(Gg=rpe()),Gg}function rpe(){let t=document.createElement("div");dc(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return vw(t),r}let qg;function npe(){return qg||(qg=ipe()),qg}function ipe(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=HM(t);return document.body.removeChild(t),e}function HM(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function ape(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,i=parseInt(r.borderRightWidth,10)||0,a=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,o=HM(t),l=o.y-n-i,u=o.x-a-s,d={borderLeft:n,borderRight:i,borderTop:a,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return tpe()&&r.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function spe(t,e=!1,r){let n=r?t.getBoundingClientRect():Iw(t),i=ape(t,e),a={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return e&&(a.left+=i.paddingLeft,a.right-=i.paddingRight,a.top+=i.paddingTop,a.bottom-=i.paddingBottom),a}function Iw(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function ope(t){let e=zM(t),r=t.getBoundingClientRect();for(let n of e){let i=BM(r,n.getBoundingClientRect());if(i)r=i;else return null}return r}function zM(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class Wo{constructor(e,r,n,i){this.els=r;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}buildElHorizontals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.left-e),n.push(a.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let i of this.els){let a=i.getBoundingClientRect();r.push(a.top-e),n.push(a.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}topToIndex(e){let{tops:r,bottoms:n}=this,i=r.length,a;for(a=0;a<i;a+=1)if(e>=r[a]&&e<n[a])return a}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Od(this.tops||[],e.tops||[])&&Od(this.bottoms||[],e.bottoms||[])&&Od(this.lefts||[],e.lefts||[])&&Od(this.rights||[],e.rights||[])}}function Od(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class $w{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class lpe extends $w{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class cpe extends $w{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Ln extends We{constructor(){super(...arguments),this.uid=ys()}prepareHits(){}queryHit(e,r,n,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!nr(e,".fc-event-mirror")}isValidDateDownEl(e){return!nr(e,".fc-event:not(.fc-bg-event)")&&!nr(e,".fc-more-link")&&!nr(e,"a[data-navlink]")&&!nr(e,".fc-popover")}}class WM{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},r),{span:Lw(r.span,e.touchingEntry.span)});n.push(i),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let i=e.span,a=r.span;i.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:a.start}},n),i.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:i.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:i}=this;r.lateral===-1?(Yg(i,r.level,r.levelCoord),Yg(n,r.level,[e])):Yg(n[r.level],r.lateral,e),this.stackCnts[Ga(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:i,stackCnts:a}=this,s=r.length,o=0,l=-1,u=-1,d=null,f=0;for(let m=0;m<s;m+=1){const g=r[m];if(!i&&g>=o+this.getEntryThickness(e))break;let v=n[m],x,y=q0(v,e.span.start,G0),b=y[0]+y[1];for(;(x=v[b])&&x.span.start<e.span.end;){let S=g+this.getEntryThickness(x);S>o&&(o=S,d=x,l=m,u=b),S===o&&(f=Math.max(f,a[Ga(x)]+1)),b+=1}}let h=0;if(d)for(h=l+1;h<s&&r[h]<o;)h+=1;let p=-1;return h<s&&r[h]===o&&(p=q0(n[h],e.span.end,G0)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:o,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,i=[];for(let a=0;a<n;a+=1){let s=e[a],o=r[a];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return i}}function G0(t){return t.span.end}function Ga(t){return t.index+":"+t.span.start}function upe(t){let e=[];for(let r of t){let n=[],i={span:r.span,entries:[r]};for(let a of e)Lw(a.span,i.span)?i={entries:a.entries.concat(i.entries),span:dpe(a.span,i.span)}:n.push(a);n.push(i),e=n}return e}function dpe(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Lw(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function Yg(t,e,r){t.splice(e,0,r)}function q0(t,e,r){let n=0,i=t.length;if(!i||e<r(t[n]))return[0,0];if(e>r(t[i-1]))return[i,0];for(;n<i;){let a=Math.floor(n+(i-n)/2),s=r(t[a]);if(e<s)i=a;else if(e>s)n=a+1;else return[a,1]}return[n,0]}class fpe{constructor(e,r){this.emitter=new gm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Fw={};function hpe(t,e){return!t||e>10?mt({weekday:"short"}):e>1?mt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):mt({weekday:"long"})}const VM="fc-col-header-cell";function GM(t){return t.text}class ppe extends We{render(){let{dateEnv:e,options:r,theme:n,viewApi:i}=this.context,{props:a}=this,{date:s,dateProfile:o}=a,l=UM(s,a.todayRange,null,o),u=[VM].concat(Rw(l,n)),d=e.format(s,a.dayHeaderFormat),f=!l.isDisabled&&a.colCnt>1?Qh(this.context,s):{},h=e.toDate(s);e.namedTimeZoneImpl&&(h=ra(h,36e5));let p=Object.assign(Object.assign(Object.assign({date:h,view:i},a.extraRenderProps),{text:d}),l);return I($r,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":l.isDisabled?void 0:ww(s)},a.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:GM,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},m=>I("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&I(m,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]})))}}const mpe=mt({weekday:"long"});class gpe extends We{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:i,options:a}=this.context,s=ir(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:i}),e.extraRenderProps),{text:l});return I($r,{elTag:"th",elClasses:[VM,...Rw(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:GM,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},d=>I("div",{className:"fc-scrollgrid-sync-inner"},I(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,mpe)}})))}}class qM extends We{constructor(){super(...arguments),this.createDayHeaderFormatter=we(vpe)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:i,renderIntro:a}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,r.length);return I(hl,{unit:"day"},(o,l)=>I("tr",{role:"row"},a&&a("day"),r.map(u=>i?I(ppe,{key:u.toISOString(),date:u,dateProfile:n,todayRange:l,colCnt:r.length,dayHeaderFormat:s}):I(gpe,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function vpe(t,e,r){return t||hpe(e,r)}class YM{constructor(e,r){let n=e.start,{end:i}=e,a=[],s=[],o=-1;for(;n<i;)r.isHiddenDay(n)?a.push(o+.5):(o+=1,a.push(o),s.push(n)),n=ir(n,1);this.dates=s,this.indices=a,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ir(e.end,-1)),i=Math.max(0,r),a=Math.min(this.cnt-1,n);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:r===i,isEnd:n===a}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(xs(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class KM{constructor(e,r){let{dates:n}=e,i,a,s;if(r){for(a=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==a;i+=1);s=Math.ceil(n.length/i)}else s=1,i=n.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let i=0;i<this.colCnt;i+=1)n.push(this.buildCell(r,i));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),i=[];if(n){let{firstIndex:a,lastIndex:s}=n,o=a;for(;o<=s;){let l=Math.floor(o/r),u=Math.min((l+1)*r,s+1);i.push({row:l,firstCol:o%r,lastCol:(u-1)%r,isStart:n.isStart&&o===a,isEnd:n.isEnd&&u-1===s}),o=u}}return i}}class QM{constructor(){this.sliceBusinessHours=we(this._sliceBusinessHours),this.sliceDateSelection=we(this._sliceDateSpan),this.sliceEventStore=we(this._sliceEventStore),this.sliceEventDrag=we(this._sliceInteraction),this.sliceEventResize=we(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,i,...a){let{eventUiBases:s}=e,o=this.sliceEventStore(e.eventStore,s,r,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,i,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,i,...a),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...a),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,i,...a){return this._sliceDateSpan({range:{start:e,end:ra(e,1)},allDay:!1},r,n,{},i,...a)}_sliceBusinessHours(e,r,n,i,...a){return e?this._sliceEventStore(ls(e,Dd(r,!!n),i),{},r,n,...a).bg:[]}_sliceEventStore(e,r,n,i,...a){if(e){let s=MT(e,r,Dd(n,!!i),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,i,...a){if(!e)return null;let s=MT(e.mutatedEvents,r,Dd(n,!!i),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,i,a,...s){if(!e)return[];let o=Dd(r,!!n),l=os(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=Fhe(e,i,a),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let i of e)n.push(...this.sliceEventRange(i,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:ir(n.start,1)});let i=this.sliceRange(n,...r);for(let a of i)a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd;return i}}function Dd(t,e){let r=t.activeRange;return e?r:{start:ra(r.start,t.slotMinTime.milliseconds),end:ra(r.end,t.slotMaxTime.milliseconds-864e5)}}function XM(t,e,r){let{instances:n}=t.mutatedEvents;for(let i in n)if(!pm(e.validRange,n[i].range))return!1;return ZM({eventDrag:t},r)}function ype(t,e,r){return pm(e.validRange,t.range)?ZM({dateSelection:t},r):!1}function ZM(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||xpe)(n,e)}function xpe(t,e,r={},n){return!(t.eventDrag&&!bpe(t,e,r,n)||t.dateSelection&&!wpe(t,e,r,n))}function bpe(t,e,r,n){let i=e.getCurrentData(),a=t.eventDrag,s=a.mutatedEvents,o=s.defs,l=s.instances,u=Kh(o,a.isEvent?t.eventUiBases:{"":i.selectionConfig});n&&(u=di(u,n));let d=vhe(t.eventStore,a.affectedEvents.instances),f=d.defs,h=d.instances,p=Kh(f,t.eventUiBases);for(let m in l){let g=l[m],v=g.range,x=u[g.defId],y=o[g.defId];if(!JM(x.constraints,v,d,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,S=typeof b=="function"?b:null;for(let _ in h){let E=h[_];if(Tw(v,E.range)&&(p[E.defId].overlap===!1&&a.isEvent||x.overlap===!1||S&&!S(new ht(e,f[E.defId],E),new ht(e,y,g))))return!1}let w=i.eventStore;for(let _ of x.allows){let E=Object.assign(Object.assign({},r),{range:g.range,allDay:y.allDay}),j=w.defs[y.defId],A=w.instances[m],T;if(j?T=new ht(e,j,A):T=new ht(e,y),!_(Dw(E,e),T))return!1}}return!0}function wpe(t,e,r,n){let i=t.eventStore,a=i.defs,s=i.instances,o=t.dateSelection,l=o.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!JM(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in s){let p=s[h];if(Tw(l,p.range)&&(u.overlap===!1||f&&!f(new ht(e,a[p.defId],p),null)))return!1}for(let h of u.allows){let p=Object.assign(Object.assign({},r),o);if(!h(Dw(p,e),null))return!1}return!0}function JM(t,e,r,n,i){for(let a of t)if(!_pe(Spe(a,e,r,n,i),e))return!1;return!0}function Spe(t,e,r,n,i){return t==="businessHours"?Kg(ls(n,e,i)):typeof t=="string"?Kg(mm(r,a=>a.groupId===t)):typeof t=="object"&&t?Kg(ls(t,e,i)):[]}function Kg(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function _pe(t,e){for(let r of t)if(pm(r,e))return!0;return!1}const Pd=/^(visible|hidden)$/;class Epe extends We{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,In(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,i=r&&n,a=["fc-scroller"];return r&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),I("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Pd.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(Pd.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return Pd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Pd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Xn{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:i,currentMap:a}=this,s=!1,o=!1;r!==null?(s=n in a,a[n]=r,i[n]=(i[n]||0)+1,o=!0):(i[n]-=1,i[n]||(delete a[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),o&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return Ife(this.currentMap,e,r,n)}getAll(){return jw(this.currentMap)}}function jpe(t){let e=Mde(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,Yde(n));return Math.ceil(r)}function eR(t,e){return t.liquid&&e.liquid}function Ape(t,e){return e.maxHeight!=null||eR(t,e)}function Tpe(t,e,r,n){let{expandRows:i}=r;return typeof e.content=="function"?e.content(r):I("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:i?r.clientHeight:""}},r.tableColGroupNode,I(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function Npe(t,e){return ta(t,e,wn)}function Cpe(t,e){let r=[];for(let n of t){let i=n.span||1;for(let a=0;a<i;a+=1)r.push(I("col",{style:{width:n.width==="shrink"?kpe(e):n.width||"",minWidth:n.minWidth||""}}))}return I("colgroup",{},...r)}function kpe(t){return t??4}function Ope(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Dpe(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function Ppe(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function Y0(t){return I("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Xh(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function tR(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Bw extends We{constructor(){super(...arguments),this.processCols=we(e=>e,Npe),this.renderMicroColGroup=we(Cpe),this.scrollerRefs=new Xn,this.scrollerElRefs=new Xn(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,i=e.sections||[],a=this.processCols(e.cols),s=this.renderMicroColGroup(a,r.shrinkWidth),o=Dpe(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=i.length,u=0,d,f=[],h=[],p=[];for(;u<l&&(d=i[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<l&&(d=i[u]).type==="body";)h.push(this.renderSection(d,s,!1)),u+=1;for(;u<l&&(d=i[u]).type==="footer";)p.push(this.renderSection(d,s,!0)),u+=1;let m=!FM();const g={role:"rowgroup"};return I("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!m&&f.length)&&I("thead",g,...f),!!(!m&&h.length)&&I("tbody",g,...h),!!(!m&&p.length)&&I("tfoot",g,...p),m&&I("tbody",g,...f,...h,...p))}renderSection(e,r,n){return"outerContent"in e?I(it,{key:e.key},e.outerContent):I("tr",{key:e.key,role:"presentation",className:Ppe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,i){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,u=Ape(a,e),d=eR(a,e),f=a.liquid?s?"scroll":u?"auto":"hidden":"visible",h=e.key,p=Tpe(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!a.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return I(i?"th":"td",{ref:n.elRef,role:"presentation"},I("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},I(Epe,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,r){let n=Mpe(this.props.sections,r);n&&In(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Ope(this.props.cols)?jpe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=npe(),{scrollerRefs:r,scrollerElRefs:n}=this,i=!1,a={},s={};for(let o in r.currentMap){let l=r.currentMap[o];if(l&&l.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let l=o.key,u=n.currentMap[l];if(u){let d=u.parentNode;a[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:s}}}Bw.addStateEquality({scrollerClientWidths:wn,scrollerClientHeights:wn});function Mpe(t,e){for(let r of t)if(r.key===e)return r;return null}class Uw extends We{constructor(){super(...arguments),this.buildPublicEvent=we((e,r,n)=>new ht(e,r,n)),this.handleEl=e=>{this.el=e,In(this.props.elRef,e),e&&RT(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{eventRange:a}=i,{ui:s}=a,o={event:this.buildPublicEvent(r,a.def,a.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&Che(i,r),isStartResizable:!e.disableResizing&&khe(i,r),isEndResizable:!e.disableResizing&&Ohe(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return I($r,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Dhe(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&RT(this.el,this.props.seg)}}class Hw extends We{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,{ui:a}=i.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,o=MM(i,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return I(Uw,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:IM(i,r),defaultGenerator:Rpe,timeText:o}),(l,u)=>I(it,null,I(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&I("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&I("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Hw.addPropsEquality({seg:wn});function Rpe(t){return I("div",{className:"fc-event-main-frame"},t.timeText&&I("div",{className:"fc-event-time"},t.timeText),I("div",{className:"fc-event-title-container"},I("div",{className:"fc-event-title fc-sticky"},t.event.title||I(it,null," "))))}const zw=t=>I(gi.Consumer,null,e=>{let{options:r}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return I($r,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount},t.children)}),Ipe=mt({day:"numeric"});class Ww extends We{constructor(){super(...arguments),this.refineRenderProps=ef($pe)}render(){let{props:e,context:r}=this,{options:n}=r,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return I($r,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":ww(e.date)}),elClasses:[...Rw(i,r.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function Vw(t){return!!(t.dayCellContent||H0("dayCellContent",t))}function $pe(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:i}=t,a=UM(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,i?t.monthStartFormat:Ipe):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},a),{isMonthStart:i,dayNumberText:s}),t.extraRenderProps)}class rR extends We{render(){let{props:e}=this,{seg:r}=e;return I(Uw,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:Lpe,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Lpe(t){let{title:e}=t.event;return e&&I("div",{className:"fc-event-title"},t.event.title)}function nR(t){return I("div",{className:`fc-${t}`})}const iR=t=>I(gi.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:i}=t,a=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(i),o=r.format(i,a),l={num:s,text:o,date:i};return I($r,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:Fpe,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},t.children)});function Fpe(t){return t.text}const Qg=10;class Bpe extends We{constructor(){super(...arguments),this.state={titleId:fm()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&In(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=oM(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:i}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return bde(I("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),I("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},I("span",{className:"fc-popover-title",id:i.titleId},n.title),I("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),I("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:i}=this,a=ope(r);if(a){let s=i.getBoundingClientRect(),o=n?nr(r,".fc-scrollgrid").getBoundingClientRect().top:a.top,l=e?a.right-s.width:a.left;o=Math.max(o,Qg),l=Math.min(l,document.documentElement.clientWidth-Qg-s.width),l=Math.max(l,Qg);let u=i.offsetParent.getBoundingClientRect();dc(i,{top:o-u.top,left:l-u.left})}}}class Upe extends Ln{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:i,todayRange:a,dateProfile:s}=n,o=r.format(i,e.dayPopoverFormat);return I(Ww,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:a},(l,u,d)=>I(Bpe,{elRef:d.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Vw(e)&&I(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,i){let{rootEl:a,props:s}=this;return e>=0&&e<n&&r>=0&&r<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null}}class aR extends We{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:fm()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&In(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:i}=n.options,a=$T(r).start;function s(o){let{def:l,instance:u,range:d}=o.eventRange;return{event:new ht(n,l,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:a,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&n.calendarApi.zoomTo(a,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return I(gi.Consumer,null,n=>{let{viewApi:i,options:a,calendarApi:s}=n,{moreLinkText:o}=a,{moreCnt:l}=e,u=$T(e),d=typeof o=="function"?o.call(s,l):`+${l} ${o}`,f=fc(a.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:i};return I(it,null,!!e.moreCnt&&I($r,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),cM(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||Hpe,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),r.isPopoverOpen&&I(Upe,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=nr(this.linkEl,".fc-view-harness"))}}function Hpe(t){return t.text}function $T(t){if(t.allDayDate)return{start:t.allDayDate,end:ir(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:sR(e),end:Wpe(e)}}function sR(t){return t.reduce(zpe).eventRange.range.start}function zpe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Wpe(t){return t.reduce(Vpe).eventRange.range.end}function Vpe(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class Gpe{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class qpe extends Gpe{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const Ype=[],oR={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},lR=Object.assign(Object.assign({},oR),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function Kpe(t){let e=t.length>0?t[0].code:"en",r=Ype.concat(t),n={en:lR};for(let i of r)n[i.code]=i;return{map:n,defaultCode:e}}function cR(t,e){return typeof t=="object"&&!Array.isArray(t)?uR(t.code,[t.code],t):Qpe(t,e)}function Qpe(t,e){let r=[].concat(t||[]),n=Xpe(r,e)||lR;return uR(t,r,n)}function Xpe(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let i=n.length;i>0;i-=1){let a=n.slice(0,i).join("-");if(e[a])return e[a]}}return null}function uR(t,e,r){let n=Ew([oR,r],["buttonText"]);delete n.code;let{week:i}=n;return delete n.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function vi(t){return{id:ys(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Zpe(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(a){for(let s of a){const o=s.name,l=r[o];l===void 0?(r[o]=s.id,i(s.deps),n=eme(n,s)):l!==s.id&&console.warn(`Duplicate plugin '${o}'`)}}return t&&i(t),i(e),n}function Jpe(){let t=[],e=[],r;return(n,i)=>((!r||!ta(n,t)||!ta(i,e))&&(r=Zpe(n,i)),t=n,e=i,r)}function eme(t,e){return{premiumReleaseDate:tme(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function tme(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class va extends Lu{}va.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};va.prototype.baseIconClass="fc-icon";va.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};va.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};va.prototype.iconOverrideOption="buttonIcons";va.prototype.iconOverrideCustomButtonOption="icon";va.prototype.iconOverridePrefix="fc-icon-";function rme(t,e){let r={},n;for(n in t)K0(n,r,t,e);for(n in e)K0(n,r,t,e);return r}function K0(t,e,r,n){if(e[t])return e[t];let i=nme(t,e,r,n);return i&&(e[t]=i),i}function nme(t,e,r,n){let i=r[t],a=n[t],s=d=>i&&i[d]!==null?i[d]:a&&a[d]!==null?a[d]:null,o=s("component"),l=s("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=K0(l,e,r,n)}return!o&&u&&(o=u.component),o?{type:t,component:o,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),a?a.rawOptions:{})}:null}function LT(t){return di(t,ime)}function ime(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=FT(e):r&&!(r.prototype instanceof We)&&(r=FT(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function FT(t){return e=>I(gi.Consumer,null,r=>I($r,{elTag:"div",elClasses:yM(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function ame(t,e,r,n){let i=LT(t),a=LT(e.views),s=rme(i,a);return di(s,o=>sme(o,a,e,r,n))}function sme(t,e,r,n,i){let a=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,o="",l="",u={};if(a&&(s=ome(a),s)){let h=U0(s);o=h.unit,h.value===1&&(l=o,u=e[o]?e[o].rawOptions:{})}let d=h=>{let p=h.buttonText||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},f=h=>{let p=h.buttonHints||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:s,durationUnit:o,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(hc)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(hc)}}let BT={};function ome(t){let e=JSON.stringify(t),r=BT[e];return r===void 0&&(r=Me(t),BT[e]=r),r}function lme(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function cme(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function ume(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function dme(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function fme(t,e,r,n){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(i=n.buildPrev(t,r),i.isValid)return i;break;case"NEXT":if(i=n.buildNext(t,r),i.isValid)return i;break}return t}function hme(t,e,r){let n=e?e.activeRange:null;return fR({},bme(t,r),n,r)}function pme(t,e,r,n){let i=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return fR(t,e.sources,i,n);case"REMOVE_EVENT_SOURCE":return gme(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?hR(t,i,n):t;case"FETCH_EVENT_SOURCES":return Gw(t,e.sourceIds?hM(e.sourceIds):pR(t,n),i,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return xme(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function mme(t,e,r){let n=e?e.activeRange:null;return Gw(t,pR(t,r),n,!0,r)}function dR(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function fR(t,e,r,n){let i={};for(let a of e)i[a.sourceId]=a;return r&&(i=hR(i,r,n)),Object.assign(Object.assign({},t),i)}function gme(t,e){return ss(t,r=>r.sourceId!==e)}function hR(t,e,r){return Gw(t,ss(t,n=>vme(n,e,r)),e,!1,r)}function vme(t,e,r){return mR(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Gw(t,e,r,n,i){let a={};for(let s in t){let o=t[s];e[s]?a[s]=yme(o,r,n,i):a[s]=o}return a}function yme(t,e,r,n){let{options:i,calendarApi:a}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],o=ys();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(a,u,l.response)||u),t.success&&(u=t.success.call(a,u,l.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:o,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(a,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:o})}function xme(t,e,r,n){let i=t[e];return i&&r===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:n})}):t}function pR(t,e){return ss(t,r=>mR(r,e))}function bme(t,e){let r=TM(e),n=[].concat(t.eventSources||[]),i=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let a of n){let s=AM(a,e,r);s&&i.push(s)}return i}function mR(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function wme(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Sme(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function _me(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function Eme(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function jme(t,e,r,n,i){let a=t.headerToolbar?UT(t.headerToolbar,t,e,r,n,i):null,s=t.footerToolbar?UT(t.footerToolbar,t,e,r,n,i):null;return{header:a,footer:s}}function UT(t,e,r,n,i,a){let s={},o=[],l=!1;for(let u in t){let d=t[u],f=Ame(d,e,r,n,i,a);s[u]=f.widgets,o.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function Ame(t,e,r,n,i,a){let s=e.direction==="rtl",o=e.customButtons||{},l=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],p=[],m=!1;return{widgets:h.map(v=>v.split(",").map(x=>{if(x==="title")return m=!0,{buttonName:x};let y,b,S,w,_,E;if(y=o[x])S=j=>{y.click&&y.click.call(j.target,j,j.target)},(w=n.getCustomButtonIconClass(y))||(w=n.getIconClass(x,s))||(_=y.text),E=y.hint||y.text;else if(b=i[x]){p.push(x),S=()=>{a.changeView(x)},(_=b.buttonTextOverride)||(w=n.getIconClass(x,s))||(_=b.buttonTextDefault);let j=b.buttonTextOverride||b.buttonTextDefault;E=fc(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[j,x],j)}else if(a[x])if(S=()=>{a[x]()},(_=l[x])||(w=n.getIconClass(x,s))||(_=u[x]),x==="prevYear"||x==="nextYear"){let j=x==="prevYear"?"prev":"next";E=fc(d[j]||f[j],[u.year||"year","year"],u[x])}else E=j=>fc(d[x]||f[x],[u[j]||j,j],u[x]);return{buttonName:x,buttonClick:S,buttonIcon:w,buttonText:_,buttonHint:E}})),viewsWithButtons:p,hasTitle:m}}class Tme{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let Nme={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Cme=vi({name:"array-event-source",eventSourceDefs:[Nme]});let kme={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,i=t.eventSource.meta;Bhe(i.bind(null,$M(t.range,n)),a=>e({rawEvents:a}),r)}};const Ome=vi({name:"func-event-source",eventSourceDefs:[kme]}),Dme={method:String,extraParams:Z,startParam:String,endParam:String,timeZoneParam:String};let Pme={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,i=Rme(n,t.range,t.context);Uhe(n.method,n.url,i).then(([a,s])=>{e({rawEvents:a,response:s})},r)}};const Mme=vi({name:"json-event-source",eventSourceRefiners:Dme,eventSourceDefs:[Pme]});function Rme(t,e,r){let{dateEnv:n,options:i}=r,a,s,o,l,u={};return a=t.startParam,a==null&&(a=i.startParam),s=t.endParam,s==null&&(s=i.endParam),o=t.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[a]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[o]=n.timeZone),u}const Ime={daysOfWeek:Z,startTime:Me,endTime:Me,duration:Me,startRecur:Z,endRecur:Z};let $me={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=Zde(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=os(e,{start:t.startRecur,end:t.endRecur});return n?Fme(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const Lme=vi({name:"simple-recurring-event",recurringTypes:[$me],eventRefiners:Ime});function Fme(t,e,r,n,i){let a=t?hM(t):null,s=at(i.start),o=i.end,l=[];for(;s<o;){let u;(!a||a[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,l.push(n.createMarker(r.toDate(u)))),s=ir(s,1)}return l}const Bme=vi({name:"change-handler",optionChangeHandlers:{events(t,e){HT([t],e)},eventSources:HT}});function HT(t,e){let r=jw(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let i of t){let a=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===i){r.splice(s,1),a=!0;break}a||n.push(i)}for(let i of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of n)e.calendarApi.addEventSource(i)}function Ume(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},$M(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Hme(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",Va(t,e))}const zme=[Cme,Ome,Mme,Lme,Bme,vi({name:"misc",isLoadingFuncs:[t=>dR(t.eventSources)],propSetHandlers:{dateProfile:Ume,eventStore:Hme}})];class Wme{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new gw(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Vme(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,mt(e.titleFormat||Gme(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Gme(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=Uh(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class zT{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class qme{constructor(e){this.computeCurrentViewData=we(this._computeCurrentViewData),this.organizeRawLocales=we(Kpe),this.buildLocale=we(cR),this.buildPluginHooks=Jpe(),this.buildDateEnv=we(Yme),this.buildTheme=we(Kme),this.parseToolbars=we(jme),this.buildViewSpecs=we(ame),this.buildDateProfileGenerator=ef(Qme),this.buildViewApi=we(Xme),this.buildViewUiProps=ef(ege),this.buildEventUiBySource=we(Zme,wn),this.buildEventUiBases=we(Jme),this.parseContextBusinessHours=ef(tge),this.buildTitle=we(Vme),this.nowManager=new zT,this.emitter=new gm,this.actionRunner=new Wme(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new zT;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,a=this.computeCurrentViewData(i,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(a.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=ume(n.calendarOptions,n.dateEnv,this.nowManager),l=a.dateProfileGenerator.build(o);ni(l.activeRange,o)||(o=l.currentRange.start);for(let h of n.pluginHooks.contextInit)h(s);let u=hme(n.calendarOptions,l,s),d={dynamicOptionOverrides:r,currentViewType:i,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Dr(),renderableEventStore:Dr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));Xg(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:i}=this,a=dme(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,a,r.calendarApi),o=lme(n.currentViewType,e),l=this.computeCurrentViewData(o,s,r.optionOverrides,a);r.calendarApi.currentDataManager=this,i.setThisContext(r.calendarApi),i.setOptions(l.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(d)),d=cme(d,e),f=fme(f,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!ni(f.currentRange,d))&&(d=f.currentRange.start);let h=pme(n.eventSources,e,f,u),p=hhe(n.eventStore,e,h,f,u),g=dR(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||p,{eventUiSingleBase:v,selectionConfig:x}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),b=this.buildEventUiBases(g.defs,v,y),S={dynamicOptionOverrides:a,currentViewType:o,currentDate:d,dateProfile:f,eventSources:h,eventStore:p,renderableEventStore:g,selectionConfig:x,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:wme(n.dateSelection,e),eventSelection:Sme(n.eventSelection,e),eventDrag:_me(n.eventDrag,e),eventResize:Eme(n.eventResize,e)},w=Object.assign(Object.assign({},u),S);for(let j of s.pluginHooks.reducers)Object.assign(S,j(n,e,w));let _=Xg(n,u),E=Xg(S,u);!_&&E?i.trigger("loading",!0):_&&!E&&i.trigger("loading",!1),this.state=S,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),a=this.computeCurrentViewData(r.currentViewType,i,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,a.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),a),r),o=i.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=mme(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=DT(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=DT(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in o)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==u[d])&&o[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:a,localeDefaults:s,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,r);WT(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,a,o,i.defaultRangeSeparator),d=this.buildViewSpecs(a.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(i,a),h=this.parseToolbars(i,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:a,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:s,availableRawLocales:o.map}}processRawCalendarOptions(e,r){let{locales:n,locale:i}=Hg([hc,e,r]),a=this.organizeRawLocales(n),s=a.map,o=this.buildLocale(i||a.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],zme),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AT),TT),NT),l.listenerRefiners),l.optionRefiners),d={},f=Hg([hc,o,e,r]),h={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let v in f)this.optionsForRefining.indexOf(v)===-1&&(f[v]===p[v]||Na[v]&&v in p&&Na[v](p[v],f[v]))?h[v]=m[v]:u[v]?(h[v]=u[v](f[v]),g=!0):d[v]=p[v];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:a,localeDefaults:o,extra:d}}_computeCurrentViewData(e,r,n,i){let a=r.viewSpecs[e];if(!a)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:o}=this.processRawViewOptions(a,r.pluginHooks,r.localeDefaults,n,i);WT(o),this.nowManager.handleInput(r.dateEnv,s.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,r,n,i,a){let s=Hg([hc,e.optionDefaults,n,i,e.optionOverrides,a]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AT),TT),NT),Ofe),r.listenerRefiners),r.optionRefiners),l={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let p in s)s[p]===u[p]||Na[p]&&Na[p](s[p],u[p])?l[p]=d[p]:(s[p]===this.currentCalendarOptionsInput[p]||Na[p]&&Na[p](s[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):o[p]?l[p]=o[p](s[p]):h[p]=s[p],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function Yme(t,e,r,n,i,a,s,o){let l=cR(e||s.defaultCode,s.map);return new Hfe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:a.namedTimeZonedImpl,locale:l,weekNumberCalculation:r,firstDay:n,weekText:i,cmdFormatter:a.cmdFormatter,defaultSeparator:o})}function Kme(t,e){let r=e.themeClasses[t.themeSystem]||va;return new r(t)}function Qme(t){let e=t.dateProfileGeneratorClass||wM;return new e(t)}function Xme(t,e,r){return new Tme(t,e,r)}function Zme(t){return di(t,e=>e.ui)}function Jme(t,e,r){let n={"":e};for(let i in t){let a=t[i];a.sourceId&&r[a.sourceId]&&(n[i]=r[a.sourceId])}return n}function ege(t){let{options:e}=t;return{eventUiSingleBase:Yh({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Yh({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Xg(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function tge(t){return She(t.options.businessHours,t)}function WT(t,e){for(let r in t)console.warn(`Unknown option '${r}'`+(e?` for view '${e}'`:""))}class rge extends We{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return I("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,i=[],a=!0;for(let s of e){let{buttonName:o,buttonClick:l,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(o==="title")a=!1,i.push(I("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=o===r.activeButton,p=!r.isTodayEnabled&&o==="today"||!r.isPrevEnabled&&o==="prev"||!r.isNextEnabled&&o==="next",m=[`fc-${o}-button`,n.getClass("button")];h&&m.push(n.getClass("buttonActive")),i.push(I("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:p,"aria-pressed":h,className:m.join(" "),onClick:l},u||(d?I("span",{className:d,role:"img"}):"")))}}if(i.length>1){let s=a&&n.getClass("buttonGroup")||"";return I("div",{className:s},...i)}return i[0]}}class VT extends We{render(){let{model:e,extraClassName:r}=this.props,n=!1,i,a,s=e.sectionWidgets,o=s.center;return s.left?(n=!0,i=s.left):i=s.start,s.right?(n=!0,a=s.right):a=s.end,I("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",a||[]))}renderSection(e,r){let{props:n}=this;return I(rge,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class nge extends We{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,In(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],a="",s="";return n?r.availableWidth!==null?a=r.availableWidth/n:s=`${1/n*100}%`:a=e.height||"",I("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:a,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class ige extends fl{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:i}=this,{context:a}=i,s=zo(n);if(s&&i.isValidSegDownEl(r.target)){let o=nr(r.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:n,event:new ht(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi}),l&&!r.defaultPrevented&&(window.location.href=l)}},this.destroy=lM(e.el,"click",".fc-event",this.handleSegClick)}}class age extends fl{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{zo(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=$de(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:i}=this,{context:a}=i,s=zo(n);(!r||i.isValidSegDownEl(r.target))&&a.emitter.trigger(e,{el:n,event:new ht(a,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:a.viewApi})}}class sge extends bs{constructor(){super(...arguments),this.buildViewContext=we(Vfe),this.buildViewPropTransformers=we(lge),this.buildToolbarProps=we(oge),this.headerRef=ur(),this.footerRef=ur(),this.interactionsStore={},this.state={viewLabelId:fm()},this.registerInteractiveComponent=(e,r)=>{let n=Whe(e,r),s=[ige,age].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=s,V0[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete V0[e.uid]},this.resizeRunner=new gw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,i=!1,a="",s;e.isHeightAuto||e.forPrint?a="":n.height!=null?i=!0:n.contentHeight!=null?a=n.contentHeight:s=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return I(gi.Provider,{value:o},I(hl,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return I(it,null,r.header&&I(VT,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:l},d)),I(nge,{liquid:i,height:a,aspectRatio:s,labeledById:l},this.renderView(e),this.buildAppendContent()),r.footer&&I(VT,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let i in n)r[i]!==e[i]&&n[i](r[i],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return I(it,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(r.viewPropsTransformers);for(let o of a)Object.assign(i,o.transform(i,e));let s=n.component;return I(s,Object.assign({},i))}}function oge(t,e,r,n,i,a){let s=r.build(i,void 0,!1),o=r.buildPrev(e,n,!1),l=r.buildNext(e,n,!1);return{title:a,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!ni(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function lge(t){return t.map(e=>new e)}let cge=class extends Ghe{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;Vh(()=>{yu(I(zhe,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(i,a,s,o)=>(this.setClassNames(i),this.setHeight(a),I(vM.Provider,{value:this.customContentRenderId},I(sge,Object.assign({isHeightAuto:s,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,yu(null,this.el),this.setClassNames([]),this.setHeight(""))},Nde(e),this.el=e,this.renderRunner=new gw(this.handleRenderRequest),new qme({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Vh(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!ta(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){sM(this.el,"height",e)}};const uge=parseInt(String(U.version).split(".")[0]),dge=uge<18;class gR extends k.Component{constructor(){super(...arguments),this.elRef=k.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(U.createElement(fge,{key:r.id,customRendering:r}));return U.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new qpe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new cge(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Nf.flushSync(()=>{})});let r;e.subscribe(n=>{const i=Date.now(),a=!r;(dge||a||this.isUpdating||this.isUnmounting||i-r<100?vR:Nf.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=i,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}gR.act=vR;class fge extends k.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return Nf.createPortal(n,e.containerEl)}}function vR(t){t()}class hge extends Ln{constructor(){super(...arguments),this.headerElRef=ur()}renderSimpleLayout(e,r){let{props:n,context:i}=this,a=[],s=Xh(i.options);return e&&a.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),a.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),I(Gh,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},I(Bw,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:a}))}renderHScrollLayout(e,r,n,i){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{props:s,context:o}=this,l=!s.forPrint&&Xh(o.options),u=!s.forPrint&&tR(o.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Y0}]}),I(Gh,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},I(a,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:d}))}}function rf(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function Md(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function GT(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const yR=mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function xR(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class bR extends We{render(){let{props:e}=this;return I(Hw,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:yR,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class wR extends We{render(){let{props:e,context:r}=this,{options:n}=r,{seg:i}=e,a=n.eventTimeFormat||yR,s=MM(i,a,r,!0,e.defaultDisplayEventEnd);return I(Uw,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:IM(e.seg,r),defaultGenerator:pge,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function pge(t){return I(it,null,I("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&I("div",{className:"fc-event-time"},t.timeText),I("div",{className:"fc-event-title"},t.event.title||I(it,null," ")))}class mge extends We{constructor(){super(...arguments),this.compileSegs=we(gge)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return I(aR,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return I(it,null,r.map(a=>{let s=a.eventRange.instance.instanceId;return I("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},xR(a)?I(wR,Object.assign({seg:a,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Xi(a,e.todayRange))):I(bR,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},Xi(a,e.todayRange))))}))}})}}function gge(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const vge=mt({week:"narrow"});class yge extends Ln{constructor(){super(...arguments),this.rootElRef=ur(),this.state={dayNumberId:fm()},this.handleRootEl=e=>{In(this.rootElRef,e),In(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:i}=this,{options:a,dateEnv:s}=e,{date:o,dateProfile:l}=r;const u=r.showDayNumber&&bge(o,l.currentRange,s);return I(Ww,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:xge,date:o,dateProfile:l,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>I("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&I(iR,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Qh(e,o,"week"),date:o,defaultFormat:vge}),!f.isDisabled&&(r.showDayNumber||Vw(a)||r.forceDayTop)?I("div",{className:"fc-daygrid-day-top"},I(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Qh(e,o)),{id:n.dayNumberId})})):r.showDayNumber?I("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},I("a",{className:"fc-daygrid-day-number"}," ")):void 0,I("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,I("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},I(mge,{allDayDate:o,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:i,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),I("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function xge(t){return t.dayNumberText||I(it,null," ")}function bge(t,e,r){const{start:n,end:i}=e,a=ra(i,-1),s=r.getYear(n),o=r.getMonth(n),l=r.getYear(a),u=r.getMonth(a);return!(s===l&&o===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<i.valueOf())}function SR(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function _R(t){return SR(t)+":"+t.lastCol}function wge(t,e,r,n,i,a,s){let o=new Ege(x=>{let y=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[y]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||r===!0?(o.maxCoord=a,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof r=="number"&&(o.maxStackCnt=r,o.hiddenConsumes=!0);let l=[],u=[];for(let x=0;x<t.length;x+=1){let y=t[x],b=_R(y);i[b]!=null?l.push({index:x,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let d=o.addSegs(l),f=o.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=Sge(f,t,s),g=[],v=[];for(let x of u){p[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=x.firstCol;y<=x.lastCol;y+=1)h[y].push({seg:oo(x,y,y+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)g.push(0);for(let x of d){let y=t[x.index],b=x.span;p[b.start].push({seg:oo(y,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=b.start;S<b.end;S+=1)g[S]+=1,h[S].push({seg:oo(y,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)v.push(m[x]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:v}}function Sge(t,e,r){let n=_ge(t,r.length),i=[],a=[],s=[];for(let o=0;o<r.length;o+=1){let l=n[o],u=[],d=0,f=0;for(let p of l){let m=e[p.index];u.push({seg:oo(m,o,o+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let h=[];d=0,f=0;for(let p of l){let m=e[p.index],g=p.span.end-p.span.start>1,v=p.span.start===o;f+=p.levelCoord-d,d=p.levelCoord+p.thickness,g?(f+=p.thickness,v&&h.push({seg:oo(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):v&&(h.push({seg:oo(m,p.span.start,p.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:f}),f=0)}i.push(u),a.push(h),s.push(f)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:s}}function _ge(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let i=n.span.start;i<n.span.end;i+=1)r[i].push(n);return r}function oo(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let i=t.eventRange,a=i.range,s=os(a,{start:n[e].date,end:ir(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:t.isStart&&s.start.valueOf()===a.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===a.end.valueOf()})}class Ege extends WM{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,i=a=>!this.forceHidden[Ga(a)];for(let a=0;a<n.length;a+=1)n[a]=n[a].filter(i);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const u=Ga(s);if(!a[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:Lw(s.span,r.span)}),f=Ga(d);a[f]=!0,i[o][l]=d,n.push(d),this.splitEntry(s,r,n)}else a[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class ER extends Ln{constructor(){super(...arguments),this.cellElRefs=new Xn,this.frameElRefs=new Xn,this.fgElRefs=new Xn,this.segHarnessRefs=new Xn,this.rootElRef=ur(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:i}=n,a=e.cells.length,s=Md(e.businessHourSegs,a),o=Md(e.bgEventSegs,a),l=Md(this.getHighlightSegs(),a),u=Md(this.getMirrorSegs(),a),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:p}=wge(PM(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return I("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,v)=>{let x=this.renderFgSegs(v,e.forPrint?d[v]:f[v],e.todayRange,m),y=this.renderFgSegs(v,jge(u[v],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return I(yge,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[v],moreMarginTop:p[v],singlePlacements:d[v],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:I(it,null,I(it,null,x),I(it,null,y)),bgContent:I(it,null,this.renderFillSegs(l[v],"highlight"),this.renderFillSegs(s[v],"non-business"),this.renderFillSegs(o[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!wn(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,i,a,s,o){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=a||s||o,p=[];if(d)for(let m of r){let{seg:g}=m,{instanceId:v}=g.eventRange.instance,x=m.isVisible&&!i[v],y=m.isAbsolute,b="",S="";y&&(l.isRtl?(S=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,S=d.rights[g.firstCol]-d.rights[g.lastCol])),p.push(I("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:SR(g),ref:h?null:this.segHarnessRefs.createRef(_R(g)),style:{visibility:x?"":"hidden",marginTop:y?"":m.marginTop,top:y?m.absoluteTop:"",left:b,right:S}},xR(g)?I(wR,Object.assign({seg:g,isDragging:a,isSelected:v===u,defaultDisplayEventEnd:f},Xi(g,n))):I(bR,Object.assign({seg:g,isDragging:a,isResizing:s,isDateSelecting:o,isSelected:v===u,defaultDisplayEventEnd:f},Xi(g,n)))))}return p}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:a}=this.state,s=[];if(a)for(let o of e){let l=n?{right:0,left:a.lefts[o.lastCol]-a.lefts[o.firstCol]}:{left:0,right:a.rights[o.firstCol]-a.rights[o.lastCol]};s.push(I("div",{key:RM(o.eventRange),className:"fc-daygrid-bg-harness",style:l},r==="bg-event"?I(rR,Object.assign({seg:o},Xi(o,i))):nR(r)))}return I(it,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:i}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let l=r.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,d=new Wo(u,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new Wo(u,l,!0,!1)})}}const a=this.state.segHeights,s=this.querySegHeights(),o=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},a),s),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,i)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}ER.addStateEquality({segHeights:wn});function jge(t,e){if(!t.length)return[];let r=Age(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function Age(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class Tge extends Ln{constructor(){super(...arguments),this.splitBusinessHourSegs=we(rf),this.splitBgEventSegs=we(Nge),this.splitFgEventSegs=we(rf),this.splitDateSelectionSegs=we(rf),this.splitEventDrag=we(GT),this.splitEventResize=we(GT),this.rowRefs=new Xn}render(){let{props:e,context:r}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return I(hl,{unit:"day"},(f,h)=>I(it,null,e.cells.map((p,m)=>I(ER,{ref:this.rowRefs.createRef(m),key:p.length?p[0].date.toISOString():m,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:i[m],eventSelection:e.eventSelection,bgEventSegs:a[m],fgEventSegs:s[m],dateSelectionSegs:o[m],eventDrag:l[m],eventResize:u[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Wo(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Wo(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:i}=this,a=n.leftToIndex(e),s=i.topToIndex(r);if(s!=null&&a!=null){let o=this.props.cells[s][a];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,a),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(s,a),rect:{left:n.lefts[a],right:n.rights[a],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,i=ir(n,1);return{start:n,end:i}}}function Nge(t,e){return rf(t.filter(Cge),e)}function Cge(t){return t.eventRange.def.allDay}class kge extends Ln{constructor(){super(...arguments),this.elRef=ur(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:i}=e,a=n===!0||r===!0;a&&!i&&(a=!1,r=null,n=null);let s=["fc-daygrid-body",a?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return I("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},I("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,I("tbody",{role:"presentation"},I(Tge,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Oge(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),i=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function Oge(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${pfe(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${ww(e.currentDate)}"]`)),r}class Dge extends QM{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class jR extends Ln{constructor(){super(...arguments),this.slicer=new Dge,this.tableRef=ur()}render(){let{props:e,context:r}=this;return I(kge,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Pge extends hge{constructor(){super(...arguments),this.buildDayTableModel=we(Mge),this.headerRef=ur(),this.tableRef=ur()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,r),a=e.dayHeaders&&I(qM,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=o=>I(jR,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(a,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(a,s)}}function Mge(t,e){let r=new YM(t.renderRange,e);return new KM(r,/year|month|week/.test(t.currentRangeUnit))}class Rge extends wM{buildRenderRange(e,r,n){let i=super.buildRenderRange(e,r,n),{props:a}=this;return Ige({currentRange:i,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function Ige(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:i}=r,a;if(t.snapToWeek&&(n=e.startOfWeek(n),a=e.startOfWeek(i),a.valueOf()!==i.valueOf()&&(i=wT(a,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(ir(r.end,-1))),o=Math.ceil(nfe(s,i));i=wT(i,6-o)}return{start:n,end:i}}var $ge=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';mw($ge);var Lge=vi({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Pge,dateProfileGeneratorClass:Rge},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Fge extends Xhe{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?The(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Bge=mt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function AR(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return I(gi.Consumer,null,r=>{if(!t.isLabeled)return I("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:i,viewApi:a}=r,s=i.slotLabelFormat==null?Bge:Array.isArray(i.slotLabelFormat)?mt(i.slotLabelFormat[0]):mt(i.slotLabelFormat),o={level:0,time:t.time,date:n.toDate(t.date),view:a,text:n.format(t.date,s)};return I($r,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:Uge,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>I("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},I(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Uge(t){return t.text}class Hge extends We{render(){return this.props.slatMetas.map(e=>I("tr",{key:e.key},I(AR,Object.assign({},e))))}}const zge=mt({week:"short"}),Wge=5;class Vge extends Ln{constructor(){super(...arguments),this.allDaySplitter=new Fge,this.headerElRef=ur(),this.rootElRef=ur(),this.scrollerElRef=ur(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=e)},this.renderHeadAxis=(e,r="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,a=i.renderRange,o=xs(a.start,a.end)===1?Qh(this.context,a.start,"week"):{};return n.weekNumbers&&e==="day"?I(iR,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:a.start,defaultFormat:zge},l=>I("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},I(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):I("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},I("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=e=>{let{options:r,viewApi:n}=this.context,i={text:r.allDayText,view:n};return I($r,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Gge,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},a=>I("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},I(a,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,r,n){let{context:i,props:a}=this,s=[],o=Xh(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r&&(s.push({type:"body",key:"all-day",chunk:{content:r}}),s.push({type:"body",key:"all-day-divider",outerContent:I("tr",{role:"presentation",className:"fc-scrollgrid-section"},I("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),I(Gh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},I(Bw,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,r,n,i,a,s,o){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&Xh(u.options),h=!d.forPrint&&tR(u.options),p=[];e&&p.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>I("tr",{role:"presentation"},this.renderHeadAxis("day",g.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),r&&(p.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:g=>I("tr",{role:"presentation"},this.renderTableRowAxis(g.rowSyncHeights[0]))},{key:"cols",content:r}]}),p.push({key:"all-day-divider",type:"body",outerContent:I("tr",{role:"presentation",className:"fc-scrollgrid-section"},I("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let m=u.options.nowIndicator;return p.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:g=>I("div",{className:"fc-timegrid-axis-chunk"},I("table",{"aria-hidden":!0,style:{height:g.expandRows?g.clientHeight:""}},g.tableColGroupNode,I("tbody",null,I(Hge,{slatMetas:s}))),I("div",{className:"fc-timegrid-now-indicator-container"},I(hl,{unit:m?"minute":"day"},v=>{let x=m&&o&&o.safeComputeTop(v);return typeof x=="number"?I(zw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&p.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Y0},{key:"cols",content:Y0}]}),I(Gh,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},I(l,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:a}]}],sections:p}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:r}=this.context.options;return(e===!0||r===!0)&&(e=void 0,r=Wge),{dayMaxEvents:e,dayMaxEventRows:r}}}function Gge(t){return t.text}class qge{constructor(e,r,n){this.positions=e,this.dateProfile=r,this.slotDuration=n}safeComputeTop(e){let{dateProfile:r}=this;if(ni(r.currentRange,e)){let n=at(e),i=e.valueOf()-n.valueOf();if(i>=gn(r.slotMinTime)&&i<gn(r.slotMaxTime))return this.computeTimeTop(Me(i))}return null}computeDateTop(e,r){return r||(r=at(e)),this.computeTimeTop(Me(e.valueOf()-r.valueOf()))}computeTimeTop(e){let{positions:r,dateProfile:n}=this,i=r.els.length,a=(e.milliseconds-gn(n.slotMinTime))/gn(this.slotDuration),s,o;return a=Math.max(0,a),a=Math.min(i,a),s=Math.floor(a),s=Math.min(s,i-1),o=a-s,r.tops[s]+r.getHeight(s)*o}}class Yge extends We{render(){let{props:e,context:r}=this,{options:n}=r,{slatElRefs:i}=e;return I("tbody",null,e.slatMetas.map((a,s)=>{let o={time:a.time,date:r.dateEnv.toDate(a.date),view:r.viewApi};return I("tr",{key:a.key,ref:i.createRef(a.key)},e.axis&&I(AR,Object.assign({},a)),I($r,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!a.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":a.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class Kge extends We{constructor(){super(...arguments),this.rootElRef=ur(),this.slatElRefs=new Xn}render(){let{props:e,context:r}=this;return I("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},I("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,I(Yge,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new qge(new Wo(this.rootElRef.current,Qge(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Qge(t,e){return e.map(r=>t[r.key])}function Fl(t,e){let r=[],n;for(n=0;n<e;n+=1)r.push([]);if(t)for(n=0;n<t.length;n+=1)r[t[n].col].push(t[n]);return r}function qT(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}class Xge extends We{render(){let{props:e}=this;return I(aR,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>NR(e.hiddenSegs,e),defaultGenerator:Zge,forceTimed:!0},r=>I(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Zge(t){return t.shortText}function Jge(t,e,r){let n=new WM;e!=null&&(n.strictOrder=e),r!=null&&(n.maxStackCnt=r);let i=n.addSegs(t),a=upe(i),s=eve(n);return s=ive(s,1),{segRects:ave(s),hiddenGroups:a}}function eve(t){const{entriesByLevel:e}=t,r=qw((n,i)=>n+":"+i,(n,i)=>{let a=nve(t,n,i),s=YT(a,r),o=e[n][i];return[Object.assign(Object.assign({},o),{nextLevelNodes:s[0]}),o.thickness+s[1]]});return YT(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,r)[0]}function YT(t,e){if(!t)return[[],0];let{level:r,lateralStart:n,lateralEnd:i}=t,a=n,s=[];for(;a<i;)s.push(e(r,a)),a+=1;return s.sort(tve),[s.map(rve),s[0][1]]}function tve(t,e){return e[1]-t[1]}function rve(t){return t[0]}function nve(t,e,r){let{levelCoords:n,entriesByLevel:i}=t,a=i[e][r],s=n[e]+a.thickness,o=n.length,l=e;for(;l<o&&n[l]<s;l+=1);for(;l<o;l+=1){let u=i[l],d,f=q0(u,a.span.start,G0),h=f[0]+f[1],p=h;for(;(d=u[p])&&d.span.start<a.span.end;)p+=1;if(h<p)return{level:l,lateralStart:h,lateralEnd:p}}return null}function ive(t,e){const r=qw((n,i,a)=>Ga(n),(n,i,a)=>{let{nextLevelNodes:s,thickness:o}=n,l=o+a,u=o/l,d,f=[];if(!s.length)d=e;else for(let p of s)if(d===void 0){let m=r(p,i,l);d=m[0],f.push(m[1])}else{let m=r(p,d,0);f.push(m[1])}let h=(d-i)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return t.map(n=>r(n,0,0)[1])}function ave(t){let e=[];const r=qw((i,a,s)=>Ga(i),(i,a,s)=>{let o=Object.assign(Object.assign({},i),{levelCoord:a,stackDepth:s,stackForward:0});return e.push(o),o.stackForward=n(i.nextLevelNodes,a+i.thickness,s+1)+1});function n(i,a,s){let o=0;for(let l of i)o=Math.max(r(l,a,s),o);return o}return n(t,0,0),e}function qw(t,e){const r={};return(...n)=>{let i=t(...n);return i in r?r[i]:r[i]=e(...n)}}function KT(t,e,r=null,n=0){let i=[];if(r)for(let a=0;a<t.length;a+=1){let s=t[a],o=r.computeDateTop(s.start,e),l=Math.max(o+(n||0),r.computeDateTop(s.end,e));i.push({start:Math.round(o),end:Math.round(l)})}return i}function sve(t,e,r,n){let i=[],a=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?i.push({index:u,thickness:1,span:d}):a.push(t[u])}let{segRects:s,hiddenGroups:o}=Jge(i,r,n),l=[];for(let u of s)l.push({seg:t[u.index],rect:u});for(let u of a)l.push({seg:u,rect:null});return{segPlacements:l,hiddenGroups:o}}const ove=mt({hour:"numeric",minute:"2-digit",meridiem:!1});class TR extends We{render(){return I(Hw,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ove}))}}class lve extends We{constructor(){super(...arguments),this.sortEventSegs=we(PM)}render(){let{props:e,context:r}=this,{options:n}=r,i=n.selectMirror,a=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],s=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return I(Ww,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>I("div",{className:"fc-timegrid-col-frame"},I("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),I("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),I("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),I("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Vw(n)&&I(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,r,n,i,a,s){let{props:o}=this;return o.forPrint?NR(e,o):this.renderPositionedFgSegs(e,r,n,i,a,s)}renderPositionedFgSegs(e,r,n,i,a,s){let{eventMaxStack:o,eventShortHeight:l,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:p,todayRange:m,nowDate:g}=this.props,v=n||i||a,x=KT(e,f,h,d),{segPlacements:y,hiddenGroups:b}=sve(e,x,u,o);return I(it,null,this.renderHiddenGroups(b,e),y.map(S=>{let{seg:w,rect:_}=S,E=w.eventRange.instance.instanceId,j=v||!!(!r[E]&&_),A=Zg(_&&_.span),T=!v&&_?this.computeSegHStyle(_):{left:0,right:0},O=!!_&&_.stackForward>0,C=!!_&&_.span.end-_.span.start<l;return I("div",{className:"fc-timegrid-event-harness"+(O?" fc-timegrid-event-harness-inset":""),key:s||E,style:Object.assign(Object.assign({visibility:j?"":"hidden"},A),T)},I(TR,Object.assign({seg:w,isDragging:n,isResizing:i,isDateSelecting:a,isSelected:E===p,isShort:C},Xi(w,m,g))))}))}renderHiddenGroups(e,r){let{extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u}=this.props;return I(it,null,e.map(d=>{let f=Zg(d.span),h=cve(d.entries,r);return I(Xge,{key:fM(sR(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:i,todayRange:a,nowDate:s,eventSelection:o,eventDrag:l,eventResize:u})}))}renderFillSegs(e,r){let{props:n,context:i}=this,s=KT(e,n.date,n.slatCoords,i.options.eventMinHeight).map((o,l)=>{let u=e[l];return I("div",{key:RM(u.eventRange),className:"fc-timegrid-bg-harness",style:Zg(o)},r==="bg-event"?I(rR,Object.assign({seg:u},Xi(u,n.todayRange,n.nowDate))):nR(r))});return I(it,null,s)}renderNowIndicator(e){let{slatCoords:r,date:n}=this.props;return r?e.map((i,a)=>I(zw,{key:a,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(i.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:r,options:n}=this.context,i=n.slotEventOverlap,a=e.levelCoord,s=e.levelCoord+e.thickness,o,l;i&&(s=Math.min(1,a+(s-a)*2)),r?(o=1-s,l=a):(o=a,l=1-s);let u={zIndex:e.stackDepth+1,left:o*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function NR(t,{todayRange:e,nowDate:r,eventSelection:n,eventDrag:i,eventResize:a}){let s=(i?i.affectedInstances:null)||(a?a.affectedInstances:null)||{};return I(it,null,t.map(o=>{let l=o.eventRange.instance.instanceId;return I("div",{key:l,style:{visibility:s[l]?"hidden":""}},I(TR,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},Xi(o,e,r))))}))}function Zg(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function cve(t,e){return t.map(r=>e[r.index])}class uve extends We{constructor(){super(...arguments),this.splitFgEventSegs=we(Fl),this.splitBgEventSegs=we(Fl),this.splitBusinessHourSegs=we(Fl),this.splitNowIndicatorSegs=we(Fl),this.splitDateSelectionSegs=we(Fl),this.splitEventDrag=we(qT),this.splitEventResize=we(qT),this.rootElRef=ur(),this.cellElRefs=new Xn}render(){let{props:e,context:r}=this,n=r.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,a=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return I("div",{className:"fc-timegrid-cols",ref:this.rootElRef},I("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,I("tbody",{role:"presentation"},I("tr",{role:"row"},e.axis&&I("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},I("div",{className:"fc-timegrid-col-frame"},I("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&I(zw,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,p)=>I(lve,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:a[p],bgEventSegs:s[p],businessHourSegs:o[p],nowIndicatorSegs:l[p],dateSelectionSegs:u[p],eventDrag:d[p],eventResize:f[p],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Wo(this.rootElRef.current,dve(this.cellElRefs.currentMap,e.cells),!0,!1))}}function dve(t,e){return e.map(r=>t[r.key])}class fve extends Ln{constructor(){super(...arguments),this.processSlotOptions=we(hve),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(e.time){let i=n.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),r(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:r}=this;return I("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},I(Kge,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),I(uve,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,r){let{dateEnv:n,options:i}=this.context,{colCoords:a}=this,{dateProfile:s}=this.props,{slatCoords:o}=this.state,{snapDuration:l,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),d=a.leftToIndex(e),f=o.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],p=o.positions.tops[f],m=o.positions.getHeight(f),g=(r-p)/m,v=Math.floor(g*u),x=f*u+v,y=this.props.cells[d].date,b=B0(s.slotMinTime,Jde(l,x)),S=n.add(y,b),w=n.add(S,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:S,end:w},allDay:!1},h.extraDateSpan),dayEl:a.els[d],rect:{left:a.lefts[d],right:a.rights[d],top:p,bottom:p+m},layer:0}}return null}}function hve(t,e){let r=e||t,n=bw(t,r);return n===null&&(r=t,n=1),{snapDuration:r,snapsPerSlot:n}}class pve extends QM{sliceRange(e,r){let n=[];for(let i=0;i<r.length;i+=1){let a=os(e,r[i]);a&&n.push({start:a.start,end:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:i})}return n}}class mve extends Ln{constructor(){super(...arguments),this.buildDayRanges=we(gve),this.slicer=new pve,this.timeColsRef=ur()}render(){let{props:e,context:r}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:a,nextDayThreshold:s}=r.options,o=this.buildDayRanges(i,n,r.dateEnv);return I(hl,{unit:a?"minute":"day"},(l,u)=>I(fve,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,r,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:a&&this.slicer.sliceNowDate(l,n,s,r,o),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function gve(t,e,r){let n=[];for(let i of t.headerDates)n.push({start:r.add(i,e.slotMinTime),end:r.add(i,e.slotMaxTime)});return n}const QT=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function vve(t,e,r,n,i){let a=new Date(0),s=t,o=Me(0),l=r||yve(n),u=[];for(;gn(s)<gn(e);){let d=i.add(a,s),f=bw(o,l)!==null;u.push({date:d,time:s,key:d.toISOString(),isoTimeStr:mfe(d),isLabeled:f}),s=B0(s,n),o=B0(o,n)}return u}function yve(t){let e,r,n;for(e=QT.length-1;e>=0;e-=1)if(r=Me(QT[e]),n=bw(r,t),n!==null&&n>1)return r;return t}class xve extends Vge{constructor(){super(...arguments),this.buildTimeColsModel=we(bve),this.buildSlatMetas=we(vve)}render(){let{options:e,dateEnv:r,dateProfileGenerator:n}=this.context,{props:i}=this,{dateProfile:a}=i,s=this.buildTimeColsModel(a,n),o=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,r),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&I(qM,{dates:s.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),p=e.allDaySlot!==!1&&(g=>I(jR,Object.assign({},o.allDay,{dateProfile:a,dayTableModel:s,nextDayThreshold:e.nextDayThreshold,tableMinWidth:g.tableMinWidth,colGroupNode:g.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:g.clientWidth,clientHeight:g.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),m=g=>I(mve,Object.assign({},o.timed,{dayTableModel:s,dateProfile:a,axis:d,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:g.tableColGroupNode,tableMinWidth:g.tableMinWidth,clientWidth:g.clientWidth,clientHeight:g.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:g.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,p,m,s.colCnt,u,l,this.state.slatCoords):this.renderSimpleLayout(h,p,m)}}function bve(t,e){let r=new YM(t.renderRange,e);return new KM(r,!1)}var wve='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';mw(wve);const Sve={allDaySlot:Boolean};var _ve=vi({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Sve,views:{timeGrid:{component:xve,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Fw.touchMouseIgnoreWait=500;let Q0=0,Zh=0,X0=!1;class CR{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&Eve(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let i=r.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,jve()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:n-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new gm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ave()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Tve()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||nr(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){X0=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?nr(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Q0||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(X0=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,i=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}createEventFromTouch(e,r){let n=e.touches,i,a,s=0,o=0;return n&&n.length?(i=n[0].pageX,a=n[0].pageY):(i=e.pageX,a=e.pageY),r?(this.origPageX=i,this.origPageY=a):(s=i-this.origPageX,o=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:s,deltaY:o}}}function Eve(t){return t.button===0&&!t.ctrlKey}function jve(){Q0+=1,setTimeout(()=>{Q0-=1},Fw.touchMouseIgnoreWait)}function Ave(){Zh+=1,Zh===1&&window.addEventListener("touchmove",kR,{passive:!1})}function Tve(){Zh-=1,Zh||window.removeEventListener("touchmove",kR,{passive:!1})}function kR(t){X0&&t.preventDefault()}class Nve{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",dc(n,{left:i.left,top:i.top}),Lde(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(vw(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&dc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),dc(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class OR extends $w{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class DR extends OR{constructor(e,r){super(new lpe(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return spe(this.scrollController.el)}}class Cve extends OR{constructor(e){super(new cpe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const XT=typeof performance=="function"?performance.now:Date.now;class kve{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=XT();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,i=r-window.scrollY,a=this.pointerScreenY===null?0:i-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(XT()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:i}=this,a=i-e.distance,s=a*a/(i*i)*this.maxVelocity*r,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,i=null,a=this.scrollCaches||[];for(let s of a){let o=s.clientRect,l=e-o.left,u=o.right-e,d=r-o.top,f=o.bottom-r;l>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:s,name:"bottom",distance:f}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new Cve(!1):new DR(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class Fu extends fpe{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Fde(document.body),Ude(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let a=this.minDistance,s,{deltaX:o,deltaY:l}=i;s=o*o+l*l,s>=a*a&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,Bde(document.body),Hde(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new CR(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new Nve,this.autoScroller=new kve}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Ove{constructor(e){this.el=e,this.origRect=Iw(e),this.scrollCaches=zM(e).map(r=>new DR(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let i of this.scrollCaches)if(!Dve(i.getEventTarget())&&!qhe(n,i.clientRect))return!1;return!0}}function Dve(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class vm{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new gm}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,i=e.subjectEl,a;i instanceof HTMLElement&&(a=Iw(i),n=Yhe(n,a));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&a){let o=BM(a,s.rect);o&&(n=Khe(o))}this.coordAdjust=Qhe(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!ym(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=di(this.droppableStore,e=>(e.component.prepareHits(),new Ove(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:i}=this,a=null;for(let s in n){let o=n[s].component,l=i[s];if(l&&l.isWithinClipping(e,r)){let u=l.computeLeft(),d=l.computeTop(),f=e-u,h=r-d,{origRect:p}=l,m=p.right-p.left,g=p.bottom-p.top;if(f>=0&&f<m&&h>=0&&h<g){let v=o.queryHit(f,h,m,g);v&&pm(v.dateProfile.activeRange,v.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!a||v.layer>a.layer)&&(v.componentId=s,v.context=o.context,v.rect.left+=u,v.rect.right+=u,v.rect.top+=d,v.rect.bottom+=d,a=v)}}}return a}}function ym(t,e){return!t&&!e?!0:!!t!=!!e?!1:Ihe(t.dateSpan,e.dateSpan)}function PR(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,Pve(t,e.dateEnv)),r}function Pve(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Mve extends fl{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:i}=this,a=n.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(a))},this.handleDragEnd=n=>{let{component:i}=this,{pointer:a}=this.dragging;if(!a.wasTouchScroll){let{initialHit:s,finalHit:o}=this.hitDragging;if(s&&o&&ym(s,o)){let{context:l}=i,u=Object.assign(Object.assign({},PR(s.dateSpan,l)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new Fu(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new vm(this.dragging,Mw(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class Rve extends fl{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:o,dragging:l}=this,{options:u}=o.context,d=u.selectable&&o.isValidDateDownEl(s.origEvent.target);l.setIgnoreMove(!d),l.delay=s.isTouch?Ive(o):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,o)=>{let{context:l}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=$ve(f,s,l.pluginHooks.dateSelectionTransformers)),(!u||!ype(u,s.dateProfile,l))&&(d=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):o||l.dispatch({type:"UNSELECT_DATES"}),d?yw():xw(),o||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(kM(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,i=this.dragging=new Fu(e.el);i.touchScrollAllowed=!1,i.minDistance=n.selectMinDistance||0,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new vm(this.dragging,Mw(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Ive(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function $ve(t,e,r){let n=t.dateSpan,i=e.dateSpan,a=[n.range.start,n.range.end,i.range.start,i.range.end];a.sort(qde);let s={};for(let o of r){let l=o(t,e);if(l===!1)return null;l&&Object.assign(s,l)}return s.range={start:a[0],end:a[3]},s.allDay=n.allDay,s}class Bu extends fl{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let o=s.origEvent.target,{component:l,dragging:u}=this,{mirror:d}=u,{options:f}=l.context,h=l.context;this.subjectEl=s.subjectEl;let p=this.subjectSeg=zo(s.subjectEl),g=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=kw(h.getCurrentData().eventStore,g),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&g!==l.props.eventSelection?Fve(l):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=nr(o,".fc"),d.revertDuration=f.dragRevertDuration;let v=l.isValidSegDownEl(o)&&!nr(o,".fc-event-resizer");u.setIgnoreMove(!v),this.isDragging=v&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let o=this.component.context,l=this.eventRange,u=l.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(s),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new ht(o,l.def,l.instance),jsEvent:s.origEvent,view:o.viewApi}))},this.handleHitUpdate=(s,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,p=null,m=!1,g={affectedEvents:l,mutatedEvents:Dr(),isEvent:!0};if(s){f=s.context;let v=f.options;d===f||v.editable&&v.droppable?(h=Lve(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=Pw(l,f.getCurrentData().eventUiBases,h,f),g.mutatedEvents=p,XM(g,s.dateProfile,f)||(m=!0,h=null,p=null,g.mutatedEvents=Dr()))):f=null}this.displayDrag(f,g),m?yw():xw(),o||(d===f&&ym(u,s)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,p=new ht(o,f,h),m=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:v}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:s.origEvent,view:l}),d){if(u===o){let x=new ht(o,g.defs[f.defId],h?g.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:g});let y={oldEvent:p,event:x,relatedEvents:Va(g,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}},b={};for(let S of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,S(d,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),b),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:l})),o.emitter.trigger("eventChange",y)}else if(u){let x={event:p,relatedEvents:Va(m,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:m})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:s.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:m}),o.emitter.trigger("eventRemove",x);let y=g.defs[f.defId],b=g.instances[h.instanceId],S=new ht(u,y,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let w={event:S,relatedEvents:Va(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",w),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},PR(v.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:v.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},w),{draggedEl:s.subjectEl,view:v.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,i=this.dragging=new Fu(e.el);i.pointer.selector=Bu.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.dragScroll;let a=this.hitDragging=new vm(this.dragging,V0);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Dr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Bu.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Lve(t,e,r,n){let i=t.dateSpan,a=e.dateSpan,s=i.range.start,o=a.range.start,l={};i.allDay!==a.allDay&&(l.allDay=a.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,a.allDay?s=at(r):s=r);let u=Ks(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let d={datesDelta:u,standardProps:l};for(let f of n)f(d,t,e);return d}function Fve(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class Bve extends fl{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let{component:s}=this,o=this.querySegEl(a),l=zo(o),u=this.eventRange=l.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=a=>{let{context:s}=this.component,o=this.eventRange;this.relevantEvents=kw(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(a);this.draggingSegEl=l,this.draggingSeg=zo(l),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:l,event:new ht(s,o.def,o.instance),jsEvent:a.origEvent,view:s.viewApi})},this.handleHitUpdate=(a,s,o)=>{let{context:l}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,p=null,m=!1,g={affectedEvents:u,mutatedEvents:Dr(),isEvent:!0};a&&(a.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,a)||(h=Uve(d,a,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(p=Pw(u,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=p,XM(g,a.dateProfile,l)||(m=!0,h=null,p=null,g.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),m?yw():xw(),s||(h&&ym(d,a)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=a=>{let{context:s}=this.component,o=this.eventRange.def,l=this.eventRange.instance,u=new ht(s,o,l),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:a.origEvent,view:s.viewApi}),this.validMutation){let h=new ht(s,f.defs[o.defId],l?f.instances[l.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let p={oldEvent:u,event:h,relatedEvents:Va(f,s,l),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Me(0),endDelta:this.validMutation.endDelta||Me(0),jsEvent:a.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",p)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new Fu(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let i=this.hitDragging=new vm(this.dragging,Mw(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return nr(e.subjectEl,".fc-event")}}function Uve(t,e,r,n){let i=t.context.dateEnv,a=t.dateSpan.range.start,s=e.dateSpan.range.start,o=Ks(a,s,i,t.largeUnit);if(r){if(i.add(n.start,o)<n.end)return{startDelta:o}}else if(i.add(n.end,o)>n.start)return{endDelta:o};return null}class Hve{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let i=this.context.options.unselectCancel,a=oM(n.origEvent);this.matchesCancel=!!nr(a,i),this.matchesEvent=!!nr(a,Bu.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:i}=this,{documentPointer:a}=this,s=i.getCurrentData();if(!a.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new CR(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const zve={fixedMirrorParent:Z},Wve={dateClick:Z,eventDragStart:Z,eventDragStop:Z,eventDrop:Z,eventResizeStart:Z,eventResizeStop:Z,eventResize:Z,drop:Z,eventReceive:Z,eventLeave:Z};Fw.dataAttrPrefix="";var Vve=vi({name:"@fullcalendar/interaction",componentInteractions:[Mve,Rve,Bu,Bve],calendarInteractions:[Hve],elementDraggingImpl:Fu,optionRefiners:zve,listenerRefiners:Wve});const Gve=()=>{const{venuesData:t,workers:e,currentSheet:r,salesData:n,setCurrentSheet:i,addCalendarEvent:a,updateCalendarEvent:s,deleteCalendarEvent:o,loadCalendarEvents:l,supabaseAPI:u}=qt(),[d,f]=k.useState("dayGridMonth"),[h,p]=k.useState([]),[m,g]=k.useState(!1),[v,x]=k.useState(!1),[y,b]=k.useState(new Date().toISOString().split("T")[0]),[S,w]=k.useState(new Date),[_,E]=k.useState({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0}),[j,A]=k.useState(null),[T,O]=k.useState({show:!1,x:0,y:0,date:null,venue:null,sales:[]}),C=k.useRef(null),R=k.useRef(null),F=async()=>{try{const N="trailer_history",M=await u.readTable(N);if(M.success){const W=M.data.map(ae=>Yd(ae,r)),Q=r==="TRAILER_HISTORY"?"Trailer":"Camper";return W.filter(ae=>ae.store===Q)}return[]}catch{return[]}},H=()=>{const N=r==="TRAILER_HISTORY"?"Trailer":"Camper";return n.filter(M=>M.store===N)};k.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]);const V=N=>{if(!N)return[];const M=t.find(de=>de.id===N);if(!M)return[];const W=H(),Q=new Date().toISOString().split("T")[0],ne=W.filter(de=>{const me=rr(de.date),Ne=de.venue?de.venue.trim().toLowerCase():null,X=M.promo?M.promo.trim().toLowerCase():null;return Ne&&X&&Ne===X&&me&&me.toISOString().split("T")[0]<Q}).sort((de,me)=>{const Ne=rr(de.date);return rr(me.date)-Ne}),ae={};return ne.forEach(de=>{const me=rr(de.date);if(me){const Ne=me.toISOString().split("T")[0];ae[Ne]||(ae[Ne]={date:Ne,totalGross:0,totalNet:0,visitCount:0}),ae[Ne].totalGross+=parseFloat(de.grossSales)||0,ae[Ne].totalNet+=parseFloat(de.netSales)||0,ae[Ne].visitCount+=1}}),Object.values(ae).sort((de,me)=>new Date(me.date)-new Date(de.date)).slice(0,5)},D=N=>{const{date:M,jsEvent:W}=N,Q=M.toISOString().split("T")[0];C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{const ae=h.filter(Ee=>Ee.date===Q).map(Ee=>Ee.extendedProps.venue).filter(Ee=>Ee).filter((Ee,Be,Qe)=>Qe.findIndex(Yt=>Yt.id===Ee.id)===Be),pe=H(),de=pe.filter(Ee=>{const Be=rr(Ee.date);return Be&&Be.toISOString().split("T")[0]===Q}),me=de.map(Ee=>{const Be=Ee.venue?Ee.venue.trim().toLowerCase():null;return Be?t.find(Qe=>(Qe.promo?Qe.promo.trim().toLowerCase():null)===Be):null}).filter(Ee=>Ee).filter((Ee,Be,Qe)=>Qe.findIndex(Yt=>Yt.id===Ee.id)===Be),Ne=pe.map(Ee=>{const Be=Ee.venue?Ee.venue.trim().toLowerCase():null;return Be?t.find(Qe=>(Qe.promo?Qe.promo.trim().toLowerCase():null)===Be):null}).filter(Ee=>Ee).filter((Ee,Be,Qe)=>Qe.findIndex(Yt=>Yt.id===Ee.id)===Be),he=[...ae,...me,...Ne].filter((Ee,Be,Qe)=>Qe.findIndex(Yt=>Yt.id===Ee.id)===Be);let ge=he.length>0?he[0]:null;if(!ge&&de.length>0){const Ee=de.map(Be=>{const Qe=Be.venue?Be.venue.trim().toLowerCase():null;return Qe?t.find(yi=>(yi.promo?yi.promo.trim().toLowerCase():null)===Qe):null}).filter(Be=>Be).filter((Be,Qe,Yt)=>Yt.findIndex(yi=>yi.id===Be.id)===Qe);Ee.length>0&&(ge=Ee[0])}ge||(ge={id:"no-data",promo:"No Sales Data for This Date",addressCity:"Unknown"}),ge||(ge={id:"default",promo:"No Venue Data",addressCity:"Unknown"});let Se=[];ge.id!=="default"&&ge.id!=="no-data"&&(Se=V(ge.id),n.filter(Ee=>{const Be=Ee.venue?Ee.venue.trim().toLowerCase():null,Qe=ge.promo?ge.promo.trim().toLowerCase():null;return Be&&Be===Qe}),[...new Set(n.map(Ee=>Ee.venue).filter(Boolean))]),Se.length===0&&(ge.id==="no-data"?Se=[{date:"No previous visits",totalGross:0,totalNet:0,visitCount:0}]:ge.id!=="default"&&(Se=[{date:"2025-07-15",totalGross:1250,totalNet:1100,visitCount:2},{date:"2025-07-12",totalGross:800,totalNet:720,visitCount:1},{date:"2025-07-08",totalGross:2100,totalNet:1890,visitCount:3}]));const xe=320,Ae=Math.min(Math.max(Se.length*40+80,120),280),Ye=window.innerWidth,Bt=window.innerHeight,Ke=10;let Et=W.clientX+Ke,Fe=W.clientY+Ke;if(Et+xe>Ye-Ke&&(Et=W.clientX-xe-Ke),Fe+Ae>Bt-Ke&&(Fe=W.clientY-Ae-Ke),Fe<Ke&&(Fe=Ke),Et<Ke&&(Et=Ke),Et+xe>Ye-Ke&&(Et=Ye-xe-Ke),Et=Math.max(Ke,Math.min(Et,Ye-xe-Ke)),Fe=Math.max(Ke,Math.min(Fe,Bt-Ae-Ke)),ge&&ge.promo&&ge.promo.toLowerCase().includes("test event")){O(Ee=>({...Ee,show:!1}));return}O({show:!0,x:Et,y:Fe,date:Q,venue:ge,sales:Se})},100)},P=()=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{O(N=>({...N,show:!1}))},300)};k.useEffect(()=>{if(R.current&&y){const N=R.current.getApi();try{N.gotoDate(y)}catch(M){console.error("Error navigating to date:",M)}}},[y]);const L=N=>{if(f(N),R.current){const M=R.current.getApi();try{M.changeView(N)}catch(W){console.error("Error changing view:",W)}}};k.useEffect(()=>{(async()=>{try{const M=await l(),W=M.success?M.data:[],Q=[],ne=await F();if(ne.length>0){const pe=ne.filter(de=>de.venue!=="WORK DAY");if(pe.length>0){const de={};pe.forEach((me,Ne)=>{const X=rr(me.date);if(X){const he=X.toISOString().split("T")[0],ge=me.venue||"Unknown Venue",Se=`${he}-${ge}`;de[Se]||(de[Se]={date:he,venue:ge,sales:[],totalGross:0,totalNet:0,confirmedCount:0,unconfirmedCount:0}),de[Se].sales.push(me);const xe=parseFloat(me.grossSales)||0,Ae=parseFloat(me.netSales)||0;de[Se].totalGross+=xe,de[Se].totalNet+=Ae,xe<=0,(me.status||"").toLowerCase().replace(/\s+/g,"")==="confirmed"?de[Se].confirmedCount++:de[Se].unconfirmedCount++}}),Object.values(de).forEach((me,Ne)=>{const X=[],he=Math.min(3,Math.max(1,Math.ceil(me.sales.length/2)));for(let Ye=0;Ye<he;Ye++){const Bt=Ne%e.length,Ke=e[Bt];Ke&&Ke.name&&!X.includes(Ke.name)&&X.push(Ke.name)}const ge=me.unconfirmedCount===0?"Confirmed":"Unconfirmed",Se=me.unconfirmedCount===0?"#22c55e":"#dcfce7",xe=me.unconfirmedCount===0?"#16a34a":"#22c55e";me.totalGross<=0;const Ae={id:`sale-${me.date}-${me.venue}-${Ne}`,title:`Sale: ${me.venue}`,date:me.date,backgroundColor:Se,borderColor:xe,extendedProps:{type:"sale",workers:X,worker:X.join(", "),hours:"8",venue:me.venue,address:me.venue,grossSales:me.totalGross,netSales:me.totalNet,entryCount:me.sales.length,confirmedCount:me.confirmedCount,unconfirmedCount:me.unconfirmedCount,status:ge}};Q.push(Ae)})}}const ae=[...W,...Q];p(ae)}catch(M){console.error("Error loading events:",M),p([])}})()},[t,e,r,l]);const $=N=>{b(N.startStr),E({title:"Work Day",date:N.startStr,workers:[],hours:"",venueId:"",isWorkDay:!0}),g(!0)},B=N=>{var W;const M=N.event;if(N.jsEvent.detail===2){const{extendedProps:Q}=M;let ne=[];Q.workers&&Array.isArray(Q.workers)?ne=Q.workers:Q.worker&&(ne=Q.worker.split(",").map(ae=>ae.trim()).filter(ae=>ae)),A(M),E({title:M.title||"",date:M.startStr||M.date||"",workers:ne,hours:Q.hours||"",venueId:Q.venueId||"",isWorkDay:Q.type==="workday"||((W=M.title)==null?void 0:W.toLowerCase().includes("work day"))}),x(!0)}},G=async()=>{var N;if(j){if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const M={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((N=t.find(Q=>Q.id===_.venueId))==null?void 0:N.promo)||"",isWorkDay:_.isWorkDay},W=await s(j.id,M);if(W.success){const Q=await l();Q.success?p(ne=>{const ae=ne.filter(pe=>{var de;return((de=pe.extendedProps)==null?void 0:de.type)==="sale"});return[...Q.data,...ae]}):p(h.map(ne=>ne.id===j.id?W.data:ne)),x(!1),A(null),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error updating event: ${W.error}`)}catch(M){console.error("Error updating event:",M),alert("Error updating event. Please try again.")}}},Y=N=>{N.event},oe=async()=>{if(j&&window.confirm("Are you sure you want to delete this event?"))try{const N=await o(j.id);if(N.success){const M=await l();M.success?p(W=>{const Q=W.filter(ne=>{var ae;return((ae=ne.extendedProps)==null?void 0:ae.type)==="sale"});return[...M.data,...Q]}):p(h.filter(W=>W.id!==j.id)),x(!1),A(null),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error deleting event: ${N.error}`)}catch(N){console.error("Error deleting event:",N),alert("Error deleting event. Please try again.")}},ue=async()=>{var N;if(!_.title||!_.workers.length){alert("Please fill in the title and select at least one worker");return}try{const M={title:_.title,date:_.date,workers:_.workers,hours:_.hours,venueId:_.venueId,venue:((N=t.find(Q=>Q.id===_.venueId))==null?void 0:N.promo)||"",isWorkDay:_.isWorkDay},W=await a(M);if(W.success){const Q=await l();Q.success?p(ne=>{const ae=ne.filter(pe=>{var de;return((de=pe.extendedProps)==null?void 0:de.type)==="sale"});return[...Q.data,...ae]}):p([...h,W.data]),g(!1),E({title:"Work Day",date:new Date().toISOString().split("T")[0],workers:[],hours:"",venueId:"",isWorkDay:!0})}else alert(`Error adding event: ${W.error}`)}catch(M){console.error("Error adding event:",M),alert("Error adding event. Please try again.")}},z=()=>{window.print()},K=N=>{const{event:M}=N,{extendedProps:W}=M;let Q="";return Array.isArray(W.workers)?Q=W.workers.join(", "):W.worker&&(Q=W.worker),c.jsxs("div",{className:"p-1 text-xs",children:[W.venue&&W.type==="sale"&&c.jsxs("div",{className:"flex items-center text-gray-700 font-medium mb-1",children:[c.jsx(bn,{className:"w-3 h-3 mr-1"}),W.venue]}),Q&&Q.trim()!==""&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(Dn,{className:"w-3 h-3 mr-1"}),Q]}),W.hours&&c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(ca,{className:"w-3 h-3 mr-1"}),W.hours,"h"]}),W.grossSales!==void 0&&W.grossSales!==null&&c.jsxs("div",{className:`font-medium ${W.grossSales>0?"text-green-600":W.grossSales<0?"text-red-600":"text-gray-600"}`,children:["$",W.grossSales]}),W.status&&c.jsxs("div",{className:`text-xs font-medium ${W.status==="Confirmed"?"text-green-700":W.status==="Unconfirmed"?"text-yellow-700":"text-orange-700"}`,children:[W.status,W.confirmedCount>0&&W.unconfirmedCount>0&&c.jsxs("span",{className:"ml-1",children:["(",W.confirmedCount,"✓ ",W.unconfirmedCount,"?)"]})]})]})},ee=()=>{i(r==="TRAILER_HISTORY"?"CAMPER_HISTORY":"TRAILER_HISTORY")},q=()=>{const N=new Date(S);if(N.setMonth(N.getMonth()-1),w(N),R.current){const M=R.current.getApi();try{M.gotoDate(N),setTimeout(()=>{M.changeView(d,N)},50),setTimeout(()=>{M.gotoDate(N)},150)}catch(W){console.error("Error navigating calendar:",W)}}},re=()=>{const N=new Date(S);if(N.setMonth(N.getMonth()+1),w(N),R.current){const M=R.current.getApi();try{M.gotoDate(N),setTimeout(()=>{M.changeView(d,N)},50),setTimeout(()=>{M.gotoDate(N)},150)}catch(W){console.error("Error navigating calendar:",W)}}},ie=N=>{const M=N.toLocaleDateString("en-US",{month:"long"}),W=N.getFullYear();return`${M} ${W} (${W})`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:ee,className:"flex items-center px-4 py-2 text-sm font-medium bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-md transition-colors duration-200 border border-primary-300",children:c.jsx("span",{children:r==="TRAILER_HISTORY"?"🚛 Trailer":"🏕️ Camper"})}),c.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>L("dayGridMonth"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="dayGridMonth"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Month"}),c.jsx("button",{onClick:()=>L("timeGridWeek"),className:He("px-3 py-1 text-sm font-medium rounded-md transition-colors",d==="timeGridWeek"?"bg-white text-secondary-900 shadow-sm":"text-secondary-600 hover:text-secondary-900"),children:"Week"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:q,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:[c.jsx("span",{className:"mr-1",children:"<"}),"Previous Month"]}),c.jsx("div",{className:"text-lg font-bold text-gray-900",children:ie(S)}),c.jsxs("button",{onClick:re,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200",children:["Next Month",c.jsx("span",{className:"ml-1",children:">"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>g(!0),className:"btn-primary",children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),"Add Work Day"]}),c.jsxs("button",{onClick:z,className:"btn-outline",children:[c.jsx(VF,{className:"w-4 h-4 mr-2"}),"Print"]})]})]}),c.jsx("div",{className:"card print-calendar-container",children:c.jsx("div",{className:"card-body p-0",children:c.jsx(gR,{plugins:[Lge,_ve,Vve],headerToolbar:!1,initialView:d,views:{dayGridMonth:{titleFormat:{year:"numeric",month:"long"}},timeGridWeek:{titleFormat:{year:"numeric",month:"long",day:"numeric"}}},editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,events:h,select:$,eventClick:B,eventDrop:Y,eventContent:K,height:"auto",eventDisplay:"block",eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},datesSet:N=>{const M=new Date(S.getFullYear(),S.getMonth(),1),W=new Date(N.start.getFullYear(),N.start.getMonth(),1);M.getTime(),W.getTime()},viewDidMount:N=>{},eventDidMount:N=>{},dayCellDidMount:N=>{const M=N.el,W=N.date;M.addEventListener("mouseenter",Q=>{D({date:W,jsEvent:Q})}),M.addEventListener("mouseleave",()=>{P()})},slotLaneDidMount:N=>{if(d!=="timeGridWeek")return;const M=N.el,W=N.date;M.addEventListener("mouseenter",Q=>{D({date:W,jsEvent:Q})}),M.addEventListener("mouseleave",()=>{P()})},ref:R})})}),T.show&&c.jsxs("div",{className:"fixed z-50 bg-white rounded-lg shadow-xl border border-secondary-200 p-3 transform transition-all duration-200 ease-out",style:{left:T.x,top:T.y,pointerEvents:"none",opacity:T.show?1:0,transform:`translate(${T.show?"0":"-10px"}, ${T.show?"0":"-10px"})`,maxWidth:"320px",minWidth:"280px"},children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-secondary-900 text-sm mb-0.5",children:T.venue?T.venue.promo:"Calendar Day"}),T.sales&&T.sales.length>0&&(()=>{const N=T.sales.map(Q=>typeof Q.totalGross=="number"?Q.totalGross:parseFloat(Q.totalGross)).filter(Q=>Q>0);if(N.length===0)return null;const M=N.reduce((Q,ne)=>Q+ne,0)/N.length,W=Math.round(M/100)*100;return c.jsxs("div",{className:"font-bold text-xs text-primary-700 mb-0.5",children:["Avg: $",W.toLocaleString()]})})(),c.jsxs("p",{className:"text-xs text-secondary-600",children:[Uo(T.date)," - ",T.venue&&T.venue.id!=="default"?"Last 5 visits":"No Data Available"]})]}),T.sales&&T.sales.length>0?c.jsx("div",{className:"space-y-1",children:T.sales.map((N,M)=>{var W;return c.jsxs("div",{className:"border-l-2 border-primary-500 pl-2 py-1",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsx("span",{className:"text-xs font-medium text-secondary-900",children:Uo(N.date)})}),c.jsx("div",{className:"flex justify-between items-center mt-0.5",children:c.jsxs("span",{className:"text-xs text-secondary-600",children:["Gross: $",((W=N.totalGross)==null?void 0:W.toLocaleString())||"0"]})})]},N.date||M)})}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs text-secondary-500 italic",children:T.venue&&T.venue.id==="default"?"No sales data available for this venue":"No visits recorded for this venue"}),c.jsxs("div",{className:"text-xs text-secondary-400",children:[c.jsx("p",{children:"• Hover over days with events to see visit data"}),c.jsx("p",{children:"• Add events to track work days and sales"})]})]})]}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Add Work Day"}),c.jsx("button",{onClick:()=>g(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>E(N=>({...N,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>E(N=>({...N,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:N=>E(M=>({...M,title:N.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:N=>E(M=>({...M,date:N.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:N=>E(M=>({...M,venueId:N.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(N=>c.jsxs("option",{value:N.id,children:[N.promo," - ",N.addressCity]},N.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:N=>E(M=>({...M,workers:Array.from(N.target.selectedOptions,W=>W.value)})),className:"input min-h-[100px]",size:"4",children:e.map(N=>c.jsxs("option",{value:N.name,children:[N.name," (",N.role,")"]},N.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:N=>E(M=>({...M,hours:N.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>g(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:ue,className:"btn-primary",children:"Add Event"})]})]})}),v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Edit Event"}),c.jsx("button",{onClick:()=>x(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Event Type"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:!_.isWorkDay,onChange:()=>E(N=>({...N,isWorkDay:!1})),className:"mr-2"}),"Sale"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",checked:_.isWorkDay,onChange:()=>E(N=>({...N,isWorkDay:!0})),className:"mr-2"}),"Work Day"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Title *"}),c.jsx("input",{type:"text",value:_.title,onChange:N=>E(M=>({...M,title:N.target.value})),className:"input",placeholder:_.isWorkDay?"Work Day":"Sale Event"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:_.date,onChange:N=>E(M=>({...M,date:N.target.value})),className:"input"})]}),!_.isWorkDay&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:_.venueId,onChange:N=>E(M=>({...M,venueId:N.target.value})),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),t.map(N=>c.jsxs("option",{value:N.id,children:[N.promo," - ",N.addressCity]},N.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Workers * (Hold Ctrl/Cmd to select multiple)"}),c.jsx("select",{multiple:!0,value:_.workers,onChange:N=>E(M=>({...M,workers:Array.from(N.target.selectedOptions,W=>W.value)})),className:"input min-h-[100px]",size:"4",children:e.map(N=>c.jsxs("option",{value:N.name,children:[N.name," (",N.role,")"]},N.id))}),_.workers.length>0&&c.jsxs("p",{className:"text-xs text-secondary-600 mt-1",children:["Selected: ",_.workers.join(", ")]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Hours *"}),c.jsx("input",{type:"number",min:"1",max:"24",value:_.hours,onChange:N=>E(M=>({...M,hours:N.target.value})),className:"input",placeholder:"8"})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-6",children:[c.jsx("button",{onClick:oe,className:"btn-danger",children:"Delete Event"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>x(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{onClick:G,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},qve=()=>{const{currentSheet:t,loading:e}=qt();return e?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading calendar..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 print-calendar",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8 print-header",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Calendar"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Schedule and manage events, venues, and worker assignments for Trailer and Camper operations"})]}),c.jsx(Gve,{})]})})},Yve=({onAddSale:t,onEditSale:e,onDeleteSale:r})=>{const{salesData:n,currentMonth:i,setCurrentMonth:a,venuesData:s}=qt(),[o,l]=k.useState([]),[u,d]=k.useState(null),[f,h]=k.useState(!1);k.useEffect(()=>{const y=n.filter(b=>{const S=rr(b.date);return S?S.getMonth()===i.getMonth()&&S.getFullYear()===i.getFullYear():!1}).sort((b,S)=>{const w=rr(b.date);return rr(S.date)-w});l(y)},[n,i]);const p=y=>y.store||y.venueId||"N/A",m=()=>{a(Que(i))},g=()=>{a(Kue(i))},v=async y=>{window.confirm("Are you sure you want to delete this sale entry?")&&await r(y)},x=y=>{d(y),h(!0)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:m,className:"btn-outline",children:[c.jsx(rb,{className:"w-4 h-4 mr-1"}),"Previous Month"]}),c.jsxs("h2",{className:"text-xl font-semibold text-secondary-900",children:[qA(i)," (",i.getFullYear(),")"]}),c.jsxs("button",{onClick:g,className:"btn-outline",children:["Next Month",c.jsx(nb,{className:"w-4 h-4 ml-1"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>a(new Date(2024,6,1)),className:"btn-outline text-sm",children:"Go to July 2024"}),c.jsxs("button",{onClick:t,className:"btn-primary",children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),"Add Sale"]})]})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-body p-0",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{className:"table-header",children:c.jsxs("tr",{children:[c.jsx("th",{className:"table-header-cell",children:"Date"}),c.jsx("th",{className:"table-header-cell",children:"Store"}),c.jsx("th",{className:"table-header-cell",children:"Gross Sales"}),c.jsx("th",{className:"table-header-cell",children:"Net Sales"}),c.jsx("th",{className:"table-header-cell",children:"Sales Tax"}),c.jsx("th",{className:"table-header-cell",children:"Entries"}),c.jsx("th",{className:"table-header-cell",children:"Details"})]})}),c.jsx("tbody",{className:"table-body",children:o.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:"7",className:"table-cell text-center text-secondary-500 py-8",children:["No sales entries found for ",qA(i)]})}):o.map(y=>c.jsxs("tr",{className:"table-row",onDoubleClick:()=>e(y),style:{cursor:"pointer"},children:[c.jsx("td",{className:"table-cell font-medium",children:Uo(y.date)}),c.jsx("td",{className:"table-cell",children:p(y)}),c.jsx("td",{className:"table-cell font-semibold",children:Wr(y.grossSales)}),c.jsx("td",{className:"table-cell",children:Wr(y.netSales)}),c.jsx("td",{className:"table-cell",children:Wr(y.salesTax)}),c.jsx("td",{className:"table-cell",children:y.count||1}),c.jsx("td",{className:"table-cell",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>x(y),className:"text-secondary-600 hover:text-secondary-900 transition-colors",title:"View Details",children:c.jsx(Vk,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>e(y),className:"text-primary-600 hover:text-primary-900 transition-colors",title:"Edit",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(y.id),className:"text-danger-600 hover:text-danger-900 transition-colors",title:"Delete",children:c.jsx(da,{className:"w-4 h-4"})})]})})]},y.id))})]})})})}),f&&u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Sale Details"}),c.jsx("button",{onClick:()=>h(!1),className:"text-secondary-400 hover:text-secondary-600",children:"×"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Date"}),c.jsx("p",{className:"text-secondary-900",children:Uo(u.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Store"}),c.jsx("p",{className:"text-secondary-900",children:p(u)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Gross Sales (Total)"}),c.jsx("p",{className:"text-secondary-900 font-semibold",children:Wr(u.grossSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Net Sales (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Wr(u.netSales)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Sales Tax (Total)"}),c.jsx("p",{className:"text-secondary-900",children:Wr(u.salesTax)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-secondary-600",children:"Number of Entries"}),c.jsx("p",{className:"text-secondary-900",children:u.count||1})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>h(!1),className:"btn-outline",children:"Close"}),c.jsx("button",{onClick:()=>{h(!1),e(u)},className:"btn-primary",children:"Edit"})]})]})})]})},Kve=()=>{const{currentSheet:t,addSalesEntry:e,updateSalesEntry:r,deleteSalesEntry:n,venuesData:i,loading:a}=qt(),[s,o]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState(eg(t)),[h,p]=k.useState({}),m=()=>{u(null),f(eg(t)),p({}),o(!0)},g=S=>{const w=S.venueId||S.venue_id||S.venue||"";u(S),f({date:Xue(S.date),status:S.status||"Confirmed",salesTax:S.salesTax!==void 0&&S.salesTax!==null?S.salesTax:0,netSales:S.netSales!==void 0&&S.netSales!==null?S.netSales:0,grossSales:S.grossSales!==void 0&&S.grossSales!==null?S.grossSales:0,venueId:w}),p({}),o(!0)},v=async S=>{const w=await n(S);w.success||alert(`Error deleting sale: ${w.error}`)},x=()=>{const S={};return d.date||(S.date="Date is required"),d.status||(S.status="Status is required"),d.grossSales<0&&(S.grossSales="Gross sales cannot be negative"),d.netSales<0&&(S.netSales="Net sales cannot be negative"),d.salesTax<0&&(S.salesTax="Sales tax cannot be negative"),p(S),Object.keys(S).length===0},y=async S=>{if(S.preventDefault(),!x())return;const w={date:d.date,status:d.status,sales_tax:d.salesTax,net_sales:d.netSales,gross_sales:d.grossSales,venue_id:d.venueId};let _;l?_=await r(l.id,w):_=await e(w),_.success?(o(!1),u(null),f(eg(t))):alert(`Error ${l?"updating":"adding"} sale: ${_.error}`)},b=(S,w)=>{f(_=>({..._,[S]:w})),h[S]&&p(_=>({..._,[S]:""}))};return a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales data..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Daily Sales"}),c.jsxs("p",{className:"mt-2 text-secondary-600",children:["Manage sales entries for ",t==="TRAILER_HISTORY"?"Trailer":"Camper"," operations"]})]}),c.jsx(Yve,{onAddSale:m,onEditSale:g,onDeleteSale:v}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:l?"Edit Sale":"Add New Sale"}),c.jsx("button",{onClick:()=>o(!1),className:"text-secondary-400 hover:text-secondary-600 text-2xl",children:"×"})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Date *"}),c.jsx("input",{type:"date",value:d.date,onChange:S=>b("date",S.target.value),className:He("input",h.date&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500")}),h.date&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.date})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Status *"}),c.jsxs("select",{value:d.status,onChange:S=>b("status",S.target.value),className:He("input",h.status&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),children:[c.jsx("option",{value:"",children:"Select Status"}),jF.map(S=>c.jsx("option",{value:S,children:S},S))]}),h.status&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.status})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Venue"}),c.jsxs("select",{value:d.venueId,onChange:S=>b("venueId",S.target.value),className:"input",children:[c.jsx("option",{value:"",children:"Select Venue"}),i.map(S=>c.jsxs("option",{value:S.promo,children:[S.promo," - ",S.addressCity]},S.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Gross Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.grossSales,onChange:S=>b("grossSales",parseFloat(S.target.value)||0),className:He("input",h.grossSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.grossSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.grossSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Net Sales"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.netSales,onChange:S=>b("netSales",parseFloat(S.target.value)||0),className:He("input",h.netSales&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.netSales&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.netSales})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Sales Tax"}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:d.salesTax,onChange:S=>b("salesTax",parseFloat(S.target.value)||0),className:He("input",h.salesTax&&"border-danger-500 focus:border-danger-500 focus:ring-danger-500"),placeholder:"0.00"}),h.salesTax&&c.jsx("p",{className:"mt-1 text-sm text-danger-600",children:h.salesTax})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn-outline",children:"Cancel"}),c.jsx("button",{type:"submit",className:"btn-primary",children:l?"Update Sale":"Add Sale"})]})]})]})})]})})},Qve=({message:t,currentUserId:e})=>{var a;const r=t.sender_id===e,n=((a=t.sender)==null?void 0:a.name)||"Unknown User",i=hw(new Date(t.created_at),{addSuffix:!0});return c.jsx("div",{className:He("flex mb-4",r?"justify-end":"justify-start"),children:c.jsxs("div",{className:He("max-w-xs lg:max-w-md px-4 py-2 rounded-lg",r?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"),children:[c.jsxs("div",{className:He("text-xs font-medium mb-1",r?"text-primary-200":"text-gray-600"),children:[n,r&&" (You)"]}),c.jsx("div",{className:"text-sm",children:t.message_text}),c.jsx("div",{className:He("text-xs mt-1",r?"text-primary-200":"text-gray-500"),children:i})]})})},Xve=({onSendMessage:t,disabled:e=!1,disabledReason:r=""})=>{const[n,i]=k.useState(""),a=o=>{o.preventDefault(),n.trim()&&!e&&(t(n.trim()),i(""))},s=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),a(o))};return c.jsxs("form",{onSubmit:a,className:"border-t border-gray-200 p-4",children:[e&&r&&c.jsx("div",{className:"mb-2 text-sm text-red-600",children:r}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"text",value:n,onChange:o=>i(o.target.value),onKeyPress:s,placeholder:e?"Select your name to send messages...":"Type your message...",disabled:e,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"}),c.jsx("button",{type:"submit",disabled:!n.trim()||e,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(qF,{className:"w-4 h-4"})})]})]})},Zve=()=>{var m;const{loading:t,messagesData:e,messageGroups:r,usersData:n,currentUser:i,loadMessages:a,sendMessage:s,setCurrentUser:o,setSelectedGroup:l}=qt(),[u,d]=k.useState(null),f=k.useRef(null);k.useEffect(()=>{r.length>0&&!u&&(d(r[0].id),l(r[0]))},[r,u]),k.useEffect(()=>{u&&a(u)},[u]),k.useEffect(()=>{var g;(g=f.current)==null||g.scrollIntoView({behavior:"smooth"})},[e]);const h=async g=>{if(!i||!u)return;const v={sender_id:i.id,group_id:u,message_text:g,message_type:"text"};await s(v)},p=g=>{d(g);const v=r.find(x=>x.id===g);l(v)};return t?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading messages..."})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Staff Messages"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Communicate with your staff members and stay connected"})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Signed in as:"})," ",i.name]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 overflow-hidden",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 h-[600px]",children:[c.jsxs("div",{className:"lg:col-span-1 border-r border-gray-200 bg-gray-50",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Groups"})}),c.jsx("div",{className:"p-2",children:r.map(g=>c.jsxs("button",{onClick:()=>p(g.id),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${u===g.id?"bg-primary-100 text-primary-700":"hover:bg-gray-100 text-gray-700"}`,children:[c.jsx("div",{className:"font-medium",children:g.group_name}),c.jsxs("div",{className:"text-sm text-gray-500",children:[g.member_count||0," members"]})]},g.id))})]}),c.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((m=r.find(g=>g.id===u))==null?void 0:m.group_name)||"Select a group"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.length," messages"]})]}),i&&c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"You:"})," ",i.name]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i?e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),c.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}):e.map(g=>c.jsx(Qve,{message:g,currentUserId:i==null?void 0:i.id},g.id)):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("p",{className:"text-gray-500 mb-2",children:"Please select your name in the header to start messaging"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Use the user selector in the top navigation bar"})]}),c.jsx("div",{ref:f})]}),u&&i&&c.jsx(Xve,{onSendMessage:h,disabled:!1,disabledReason:""}),u&&!i&&c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsx("p",{className:"text-center text-gray-500 text-sm",children:"Please select your name in the header to send messages"})})]})]})})]})})},Jve=()=>{const{staffData:t}=qt(),[e,r]=k.useState([]),[n,i]=k.useState(!0),[a,s]=k.useState(null);k.useState({});const[o,l]=k.useState({});k.useEffect(()=>{(async()=>{try{const h=await fe.getStores();if(h.success){r(h.data);const p={};for(const m of h.data){const g=await fe.getCommissionTiers(m.id);g.success&&(p[m.id]=g.data||[])}l(p)}}catch(h){console.error("Error fetching data:",h)}finally{i(!1)}})()},[]);const u=(f,h,p,m)=>{const g=t.find(w=>w.id===h),v=e.find(w=>w.id===f),x=o[f]||[];if(!g||!v)return{basePay:0,bonus:0,total:0};const b=p*15;let S=0;for(const w of x)if(m>=w.sales_target){S=w.bonus_amount;break}return{basePay:b,bonus:S,total:b+S,staffName:g.name,storeName:v.name}},d=async(f,h)=>{try{console.log("Saving payroll data for store:",f,h),alert("Payroll data saved successfully!")}catch(p){alert(`Error saving payroll: ${p.message}`)}};return n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and staff data..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(f=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},f))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(tb,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pay Calculator"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Calculate payroll for all stores and staff members"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(f=>{const h=t.filter(p=>p.store_id===f.id);return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",f.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Dn,{className:"w-4 h-4 mr-1"}),h.length," staff"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Tn,{className:"w-5 h-5 mr-2 text-green-600"}),"Staff Payroll"]}),h.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:h.map(p=>{const m=u(f.id,p.id,40,5e4);return c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:p.name}),c.jsx("p",{className:"text-sm text-gray-600",children:p.role||"Staff Member"})]}),c.jsx("button",{onClick:()=>s(f.id===a?null:f.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:a===f.id?"Hide Details":"Show Details"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",m.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",m.bonus.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total"}),c.jsxs("p",{className:"font-medium text-blue-600",children:["$",m.total.toFixed(2)]})]})]}),a===f.id&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hours Worked"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Amount"}),c.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50000",min:"0"})]})]}),c.jsx("button",{onClick:()=>d(f.id,{staffId:p.id,payroll:m}),className:"mt-3 w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save Payroll"})]})]},p.id)})})]})]},f.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vo,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Payroll Summary"}),c.jsx("p",{className:"text-green-700",children:"Calculate and manage payroll for all stores and staff members. Each store shows its assigned staff with individual pay calculations."})]})]})})]})},eye=()=>{qt();const[t,e]=k.useState("30"),[r,n]=k.useState(""),[i,a]=k.useState(""),[s,o]=k.useState([]),[l,u]=k.useState([]),[d,f]=k.useState(!0),[h,p]=k.useState(!1),m=[{id:1,name:"Spartanburg"},{id:3,name:"Greenville"},{id:4,name:"Columbia"},{id:5,name:"Trailer"},{id:7,name:"Camper"}],g=[{value:"7",label:"Last 7 Days"},{value:"30",label:"Last 30 Days"},{value:"90",label:"Last 90 Days"},{value:"365",label:"Last Year"},{value:"custom",label:"Custom Range"}];k.useEffect(()=>{v()},[t,r,i,s,h]);const v=async()=>{f(!0);try{let C,R;t==="custom"?(C=r,R=i):(R=Oa(new Date,"yyyy-MM-dd"),C=Oa(Due(new Date,parseInt(t)),"yyyy-MM-dd"));const F={startDate:C,endDate:R,storeIds:s.length>0?s:void 0},H=await fe.getSalesAnalysis(F);H.success?u(H.data):(console.error("Failed to load analysis data:",H.error),u([]))}catch(C){console.error("Failed to load analysis data:",C),u([])}finally{f(!1)}},x=C=>{o(R=>R.includes(C)?R.filter(F=>F!==C):[...R,C])},y=()=>{o(m.map(C=>C.id))},b=()=>{o([])},S=C=>{const R=m.find(F=>F.id===C);return R?R.name:`Store ${C}`},w=()=>{if(!l.length)return{dailyData:[],storeData:[]};const C=l.reduce((F,H)=>{const V=H.invoice_date;if(!V)return F;const D=F.find(B=>B.date===V),P=parseFloat(H.actual)||0,L=parseInt(H.sold_qty)||0,$=P*L;return D?(D.sales+=$,D.count+=1):F.push({date:V,sales:$,count:1}),F},[]).sort((F,H)=>new Date(F.date)-new Date(H.date)),R=l.reduce((F,H)=>{const V=H.store_id;if(!V)return F;const D=F.find(Y=>Y.storeId===V),P=parseFloat(H.actual)||0,L=parseFloat(H.cost)||0,$=parseInt(H.sold_qty)||0,B=P*$,G=L*$;return D?(D.sales+=B,D.cost+=G,D.profit+=B-G,D.count+=1):F.push({storeId:V,storeName:S(V),sales:B,cost:G,profit:B-G,count:1}),F},[]);return s.length>0?s.forEach(F=>{R.find(V=>V.storeId===F)||R.push({storeId:F,storeName:S(F),sales:0,cost:0,profit:0,count:0})}):m.forEach(F=>{R.find(V=>V.storeId===F.id)||R.push({storeId:F.id,storeName:F.name,sales:0,cost:0,profit:0,count:0})}),{dailyData:C,storeData:R}},_=()=>{const{dailyData:C,storeData:R}=w();let F="data:text/csv;charset=utf-8,";F+=`Daily Sales Data
`,F+=`Date,Sales,Transaction Count
`,C.forEach(D=>{F+=`${D.date},${D.sales.toFixed(2)},${D.count}
`}),F+=`
Store Performance
`,F+=`Store,Sales,Cost,Profit,Transaction Count
`,R.forEach(D=>{F+=`${D.storeName},${D.sales.toFixed(2)},${D.cost.toFixed(2)},${D.profit.toFixed(2)},${D.count}
`});const H=encodeURI(F),V=document.createElement("a");V.setAttribute("href",H),V.setAttribute("download",`sales_analysis_${Oa(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(V),V.click(),document.body.removeChild(V)},{dailyData:E,storeData:j}=w(),A=j.reduce((C,R)=>C+R.sales,0),T=j.reduce((C,R)=>C+R.profit,0),O=E.length>0?A/E.length:0;return d?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-secondary-600",children:"Loading sales analysis..."})]})}):l.length===0?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Analysis"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Comprehensive sales performance analysis and insights"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-8 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sales Data Available"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Your sales analysis will show data once you have uploaded sales information."}),c.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Upload your first CSV file using the Sales Upload feature to get started."}),c.jsx("a",{href:"/admin/sales-upload",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Go to Sales Upload"})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Analysis"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Comprehensive sales performance analysis and insights"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),c.jsx("select",{value:t,onChange:C=>e(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:g.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),t==="custom"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),c.jsx("input",{type:"date",value:r,onChange:C=>n(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),c.jsx("input",{type:"date",value:i,onChange:C=>a(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Comparison"}),c.jsx("button",{onClick:()=>p(!h),className:`w-full px-3 py-2 border rounded-lg transition-colors ${h?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`,children:h?"Enabled":"Disabled"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Store Selection ",s.length===0&&c.jsx("span",{className:"text-gray-500",children:"(All Stores)"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:y,className:"text-sm text-primary-600 hover:text-primary-500",children:"Select All"}),c.jsx("button",{onClick:b,className:"text-sm text-gray-600 hover:text-gray-500",children:"Show All"})]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:m.map(C=>c.jsx("button",{onClick:()=>x(C.id),className:`p-2 border rounded-lg text-sm font-medium transition-colors ${s.length===0||s.includes(C.id)?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 text-gray-700 hover:border-gray-400"}`,children:C.name},C.id))}),s.length===0&&c.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Showing data from all stores. Select specific stores to filter the data."}),s.length>0&&c.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Showing data from ",s.length," selected store",s.length!==1?"s":"","."]})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[c.jsx($F,{className:"w-4 h-4 mr-2"}),"Export Data"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tn,{className:"w-8 h-8 text-green-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",A.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vo,{className:"w-8 h-8 text-blue-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Profit"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",T.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Mc,{className:"w-8 h-8 text-purple-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Daily Sales"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",O.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(YF,{className:"w-8 h-8 text-orange-500"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Stores Active"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length>0?s.length:m.length})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Daily Sales Trend"}),c.jsx(My,{width:"100%",height:300,children:c.jsxs(CP,{data:E,children:[c.jsx(Ch,{strokeDasharray:"3 3"}),c.jsx(is,{dataKey:"date",tickFormatter:C=>Oa(I0(C),"MM/dd")}),c.jsx(as,{}),c.jsx(Ur,{labelFormatter:C=>Oa(I0(C),"MMM dd, yyyy"),formatter:C=>[`$${C.toLocaleString()}`,"Sales"]}),c.jsx(dl,{type:"monotone",dataKey:"sales",stroke:"#0088FE",strokeWidth:2,dot:!1})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Store Performance"}),c.jsx(My,{width:"100%",height:300,children:c.jsxs(ice,{data:j,children:[c.jsx(Ch,{strokeDasharray:"3 3"}),c.jsx(is,{dataKey:"storeName"}),c.jsx(as,{}),c.jsx(Ur,{formatter:C=>[`$${C.toLocaleString()}`,"Sales"]}),c.jsx(Yi,{}),c.jsx(ea,{dataKey:"sales",fill:"#0088FE",name:"Sales"}),c.jsx(ea,{dataKey:"profit",fill:"#00C49F",name:"Profit"})]})})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Store Performance Details"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transactions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(C=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.storeName}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",C.sales.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",C.cost.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",C.profit.toLocaleString("en-US",{minimumFractionDigits:2})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[C.sales>0?(C.profit/C.sales*100).toFixed(1):0,"%"]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.count})]},C.storeId))})]})})]})]})})};var MR={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(zt,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function d(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var T=w(A);T.chunkSize=parseInt(T.chunkSize),A.step||A.chunk||(T.chunkSize=null),this._handle=new g(T),(this._handle.streamer=this)._config=T}).call(this,j),this.parseChunk=function(A,T){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let R=this._config.newline;R||(C=this._config.quoteChar||'"',R=this._handle.guessLineEndings(A,C)),A=[...A.split(R).slice(O)].join(R)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(A))!==void 0&&(A=C),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+A,C=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=C.meta.cursor,O=(this._finished||(this._partialLine=O.substring(A-this._baseIndex),this._baseIndex=A),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:C,workerId:u.WORKER_ID,finished:O});else if(E(this._config.chunk)&&!T){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!O||!E(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(A){E(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:A,finished:!1})}}function f(j){var A;(j=j||{}).chunkSize||(j.chunkSize=u.RemoteChunkSize),d.call(this,j),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=_(this._chunkLoaded,this),A.onerror=_(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var T,O=this._config.downloadRequestHeaders;for(T in O)A.setRequestHeader(T,O[T])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+C));try{A.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(T){T=A.statusText||T,this._sendError(new Error(T))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=u.LocalChunkSize),d.call(this,j);var A,T,O=typeof FileReader<"u";this.stream=function(C){this._input=C,T=C.slice||C.webkitSlice||C.mozSlice,O?((A=new FileReader).onload=_(this._chunkLoaded,this),A.onerror=_(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),C=T.call(C,this._start,R)),A.readAsText(C,this._config.encoding));O||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(A.error)}}function p(j){var A;d.call(this,j=j||{}),this.stream=function(T){return A=T,this._nextChunk()},this._nextChunk=function(){var T,O;if(!this._finished)return T=this._config.chunkSize,A=T?(O=A.substring(0,T),A.substring(T)):(O=A,""),this._finished=!A,this.parseChunk(O)}}function m(j){d.call(this,j=j||{});var A=[],T=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):T=!0},this._streamData=_(function(C){try{A.push(typeof C=="string"?C:C.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(R){this._streamError(R)}},this),this._streamError=_(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=_(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var A,T,O,C,R=Math.pow(2,53),F=-R,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,P=0,L=0,$=!1,B=!1,G=[],Y={data:[],errors:[],meta:{}};function oe(ee){return j.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function ue(){if(Y&&O&&(K("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),O=!1),j.skipEmptyLines&&(Y.data=Y.data.filter(function(N){return!oe(N)})),z()){let N=function(M,W){E(j.transformHeader)&&(M=j.transformHeader(M,W)),G.push(M)};var ie=N;if(Y)if(Array.isArray(Y.data[0])){for(var ee=0;z()&&ee<Y.data.length;ee++)Y.data[ee].forEach(N);Y.data.splice(0,1)}else Y.data.forEach(N)}function q(N,M){for(var W=j.header?{}:[],Q=0;Q<N.length;Q++){var ne=Q,ae=N[Q],ae=((pe,de)=>(me=>(j.dynamicTypingFunction&&j.dynamicTyping[me]===void 0&&(j.dynamicTyping[me]=j.dynamicTypingFunction(me)),(j.dynamicTyping[me]||j.dynamicTyping)===!0))(pe)?de==="true"||de==="TRUE"||de!=="false"&&de!=="FALSE"&&((me=>{if(H.test(me)&&(me=parseFloat(me),F<me&&me<R))return 1})(de)?parseFloat(de):V.test(de)?new Date(de):de===""?null:de):de)(ne=j.header?Q>=G.length?"__parsed_extra":G[Q]:ne,ae=j.transform?j.transform(ae,ne):ae);ne==="__parsed_extra"?(W[ne]=W[ne]||[],W[ne].push(ae)):W[ne]=ae}return j.header&&(Q>G.length?K("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+Q,L+M):Q<G.length&&K("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+Q,L+M)),W}var re;Y&&(j.header||j.dynamicTyping||j.transform)&&(re=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(q),re=Y.data.length):Y.data=q(Y.data,0),j.header&&Y.meta&&(Y.meta.fields=G),L+=re)}function z(){return j.header&&G.length===0}function K(ee,q,re,ie){ee={type:ee,code:q,message:re},ie!==void 0&&(ee.row=ie),Y.errors.push(ee)}E(j.step)&&(C=j.step,j.step=function(ee){Y=ee,z()?ue():(ue(),Y.data.length!==0&&(P+=ee.data.length,j.preview&&P>j.preview?T.abort():(Y.data=Y.data[0],C(Y,D))))}),this.parse=function(ee,q,re){var ie=j.quoteChar||'"',ie=(j.newline||(j.newline=this.guessLineEndings(ee,ie)),O=!1,j.delimiter?E(j.delimiter)&&(j.delimiter=j.delimiter(ee),Y.meta.delimiter=j.delimiter):((ie=((N,M,W,Q,ne)=>{var ae,pe,de,me;ne=ne||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Ne=0;Ne<ne.length;Ne++){for(var X,he=ne[Ne],ge=0,Se=0,xe=0,Ae=(de=void 0,new x({comments:Q,delimiter:he,newline:M,preview:10}).parse(N)),Ye=0;Ye<Ae.data.length;Ye++)W&&oe(Ae.data[Ye])?xe++:(X=Ae.data[Ye].length,Se+=X,de===void 0?de=X:0<X&&(ge+=Math.abs(X-de),de=X));0<Ae.data.length&&(Se/=Ae.data.length-xe),(pe===void 0||ge<=pe)&&(me===void 0||me<Se)&&1.99<Se&&(pe=ge,ae=he,me=Se)}return{successful:!!(j.delimiter=ae),bestDelimiter:ae}})(ee,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=ie.bestDelimiter:(O=!0,j.delimiter=u.DefaultDelimiter),Y.meta.delimiter=j.delimiter),w(j));return j.preview&&j.header&&ie.preview++,A=ee,T=new x(ie),Y=T.parse(A,q,re),ue(),$?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return $},this.pause=function(){$=!0,T.abort(),A=E(j.chunk)?"":A.substring(T.getCharIndex())},this.resume=function(){D.streamer._halted?($=!1,D.streamer.parseChunk(A,!0)):setTimeout(D.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,T.abort(),Y.meta.aborted=!0,E(j.complete)&&j.complete(Y),A=""},this.guessLineEndings=function(N,ie){N=N.substring(0,1048576);var ie=new RegExp(v(ie)+"([^]*?)"+v(ie),"gm"),re=(N=N.replace(ie,"")).split("\r"),ie=N.split(`
`),N=1<ie.length&&ie[0].length<re[0].length;if(re.length===1||N)return`
`;for(var M=0,W=0;W<re.length;W++)re[W][0]===`
`&&M++;return M>=re.length/2?`\r
`:"\r"}}function v(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(j){var A=(j=j||{}).delimiter,T=j.newline,O=j.comments,C=j.step,R=j.preview,F=j.fastMode,H=null,V=!1,D=j.quoteChar==null?'"':j.quoteChar,P=D;if(j.escapeChar!==void 0&&(P=j.escapeChar),(typeof A!="string"||-1<u.BAD_DELIMITERS.indexOf(A))&&(A=","),O===A)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var L=0,$=!1;this.parse=function(B,G,Y){if(typeof B!="string")throw new Error("Input must be a string");var oe=B.length,ue=A.length,z=T.length,K=O.length,ee=E(C),q=[],re=[],ie=[],N=L=0;if(!B)return ge();if(F||F!==!1&&B.indexOf(D)===-1){for(var M=B.split(T),W=0;W<M.length;W++){if(ie=M[W],L+=ie.length,W!==M.length-1)L+=T.length;else if(Y)return ge();if(!O||ie.substring(0,K)!==O){if(ee){if(q=[],me(ie.split(A)),Se(),$)return ge()}else me(ie.split(A));if(R&&R<=W)return q=q.slice(0,R),ge(!0)}}return ge()}for(var Q=B.indexOf(A,L),ne=B.indexOf(T,L),ae=new RegExp(v(P)+v(D),"g"),pe=B.indexOf(D,L);;)if(B[L]===D)for(pe=L,L++;;){if((pe=B.indexOf(D,pe+1))===-1)return Y||re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:L}),X();if(pe===oe-1)return X(B.substring(L,pe).replace(ae,D));if(D===P&&B[pe+1]===P)pe++;else if(D===P||pe===0||B[pe-1]!==P){Q!==-1&&Q<pe+1&&(Q=B.indexOf(A,pe+1));var de=Ne((ne=ne!==-1&&ne<pe+1?B.indexOf(T,pe+1):ne)===-1?Q:Math.min(Q,ne));if(B.substr(pe+1+de,ue)===A){ie.push(B.substring(L,pe).replace(ae,D)),B[L=pe+1+de+ue]!==D&&(pe=B.indexOf(D,L)),Q=B.indexOf(A,L),ne=B.indexOf(T,L);break}if(de=Ne(ne),B.substring(pe+1+de,pe+1+de+z)===T){if(ie.push(B.substring(L,pe).replace(ae,D)),he(pe+1+de+z),Q=B.indexOf(A,L),pe=B.indexOf(D,L),ee&&(Se(),$))return ge();if(R&&q.length>=R)return ge(!0);break}re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:L}),pe++}}else if(O&&ie.length===0&&B.substring(L,L+K)===O){if(ne===-1)return ge();L=ne+z,ne=B.indexOf(T,L),Q=B.indexOf(A,L)}else if(Q!==-1&&(Q<ne||ne===-1))ie.push(B.substring(L,Q)),L=Q+ue,Q=B.indexOf(A,L);else{if(ne===-1)break;if(ie.push(B.substring(L,ne)),he(ne+z),ee&&(Se(),$))return ge();if(R&&q.length>=R)return ge(!0)}return X();function me(xe){q.push(xe),N=L}function Ne(xe){var Ae=0;return Ae=xe!==-1&&(xe=B.substring(pe+1,xe))&&xe.trim()===""?xe.length:Ae}function X(xe){return Y||(xe===void 0&&(xe=B.substring(L)),ie.push(xe),L=oe,me(ie),ee&&Se()),ge()}function he(xe){L=xe,me(ie),ie=[],ne=B.indexOf(T,L)}function ge(xe){if(j.header&&!G&&q.length&&!V){var Ae=q[0],Ye=Object.create(null),Bt=new Set(Ae);let Ke=!1;for(let Et=0;Et<Ae.length;Et++){let Fe=Ae[Et];if(Ye[Fe=E(j.transformHeader)?j.transformHeader(Fe,Et):Fe]){let yt,Ee=Ye[Fe];for(;yt=Fe+"_"+Ee,Ee++,Bt.has(yt););Bt.add(yt),Ae[Et]=yt,Ye[Fe]++,Ke=!0,(H=H===null?{}:H)[yt]=Fe}else Ye[Fe]=1,Ae[Et]=Fe;Bt.add(Fe)}Ke&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:q,errors:re,meta:{delimiter:A,linebreak:T,aborted:$,truncated:!!xe,cursor:N+(G||0),renamedHeaders:H}}}function Se(){C(ge()),q=[],re=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return L}}function y(j){var A=j.data,T=o[A.workerId],O=!1;if(A.error)T.userError(A.error,A.file);else if(A.results&&A.results.data){var C={abort:function(){O=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(E(T.userStep)){for(var R=0;R<A.results.data.length&&(T.userStep({data:A.results.data[R],errors:A.results.errors,meta:A.results.meta},C),!O);R++);delete A.results}else E(T.userChunk)&&(T.userChunk(A.results,C,A.file),delete A.results)}A.finished&&!O&&b(A.workerId,A.results)}function b(j,A){var T=o[j];E(T.userComplete)&&T.userComplete(A),T.terminate(),delete o[j]}function S(){throw new Error("Not implemented.")}function w(j){if(typeof j!="object"||j===null)return j;var A,T=Array.isArray(j)?[]:{};for(A in j)T[A]=w(j[A]);return T}function _(j,A){return function(){j.apply(A,arguments)}}function E(j){return typeof j=="function"}return u.parse=function(j,A){var T=(A=A||{}).dynamicTyping||!1;if(E(T)&&(A.dynamicTypingFunction=T,T={}),A.dynamicTyping=T,A.transform=!!E(A.transform)&&A.transform,!A.worker||!u.WORKERS_SUPPORTED)return T=null,u.NODE_STREAM_INPUT,typeof j=="string"?(j=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(j),T=new(A.download?f:p)(A)):j.readable===!0&&E(j.read)&&E(j.on)?T=new m(A):(n.File&&j instanceof File||j instanceof Object)&&(T=new h(A)),T.stream(j);(T=(()=>{var O;return!!u.WORKERS_SUPPORTED&&(O=(()=>{var C=n.URL||n.webkitURL||null,R=r.toString();return u.BLOB_URL||(u.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(O=new n.Worker(O)).onmessage=y,O.id=l++,o[O.id]=O)})()).userStep=A.step,T.userChunk=A.chunk,T.userComplete=A.complete,T.userError=A.error,A.step=E(A.step),A.chunk=E(A.chunk),A.complete=E(A.complete),A.error=E(A.error),delete A.worker,T.postMessage({input:j,config:A,workerId:T.id})},u.unparse=function(j,A){var T=!1,O=!0,C=",",R=`\r
`,F='"',H=F+F,V=!1,D=null,P=!1,L=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||u.BAD_DELIMITERS.filter(function(G){return A.delimiter.indexOf(G)!==-1}).length||(C=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(T=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(V=A.skipEmptyLines),typeof A.newline=="string"&&(R=A.newline),typeof A.quoteChar=="string"&&(F=A.quoteChar),typeof A.header=="boolean"&&(O=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");D=A.columns}A.escapeChar!==void 0&&(H=A.escapeChar+F),A.escapeFormulae instanceof RegExp?P=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(P=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(F),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return $(null,j,V);if(typeof j[0]=="object")return $(D||Object.keys(j[0]),j,V)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||D),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),$(j.fields||[],j.data||[],V);throw new Error("Unable to serialize unrecognized input");function $(G,Y,oe){var ue="",z=(typeof G=="string"&&(G=JSON.parse(G)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(G)&&0<G.length),K=!Array.isArray(Y[0]);if(z&&O){for(var ee=0;ee<G.length;ee++)0<ee&&(ue+=C),ue+=B(G[ee],ee);0<Y.length&&(ue+=R)}for(var q=0;q<Y.length;q++){var re=(z?G:Y[q]).length,ie=!1,N=z?Object.keys(Y[q]).length===0:Y[q].length===0;if(oe&&!z&&(ie=oe==="greedy"?Y[q].join("").trim()==="":Y[q].length===1&&Y[q][0].length===0),oe==="greedy"&&z){for(var M=[],W=0;W<re;W++){var Q=K?G[W]:W;M.push(Y[q][Q])}ie=M.join("").trim()===""}if(!ie){for(var ne=0;ne<re;ne++){0<ne&&!N&&(ue+=C);var ae=z&&K?G[ne]:ne;ue+=B(Y[q][ae],ne)}q<Y.length-1&&(!oe||0<re&&!N)&&(ue+=R)}}return ue}function B(G,Y){var oe,ue;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(ue=!1,P&&typeof G=="string"&&P.test(G)&&(G="'"+G,ue=!0),oe=G.toString().replace(L,H),(ue=ue||T===!0||typeof T=="function"&&T(G,Y)||Array.isArray(T)&&T[Y]||((z,K)=>{for(var ee=0;ee<K.length;ee++)if(-1<z.indexOf(K[ee]))return!0;return!1})(oe,u.BAD_DELIMITERS)||-1<oe.indexOf(C)||oe.charAt(0)===" "||oe.charAt(oe.length-1)===" ")?F+oe+F:oe)}},u.RECORD_SEP=String.fromCharCode(30),u.UNIT_SEP=String.fromCharCode(31),u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=p,u.ReadableStreamStreamer=m,n.jQuery&&((i=n.jQuery).fn.parse=function(j){var A=j.config||{},T=[];return this.each(function(R){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)T.push({file:this.files[F],inputElem:this,instanceConfig:i.extend({},A)})}),O(),this;function O(){if(T.length===0)E(j.complete)&&j.complete();else{var R,F,H,V,D=T[0];if(E(j.before)){var P=j.before(D.file,D.inputElem);if(typeof P=="object"){if(P.action==="abort")return R="AbortError",F=D.file,H=D.inputElem,V=P.reason,void(E(j.error)&&j.error({name:R},F,H,V));if(P.action==="skip")return void C();typeof P.config=="object"&&(D.instanceConfig=i.extend(D.instanceConfig,P.config))}else if(P==="skip")return void C()}var L=D.instanceConfig.complete;D.instanceConfig.complete=function($){E(L)&&L($,D.file,D.inputElem),C()},u.parse(D.file,D.instanceConfig)}}function C(){T.splice(0,1),O()}}),s&&(n.onmessage=function(j){j=j.data,u.WORKER_ID===void 0&&j&&(u.WORKER_ID=j.workerId),typeof j.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(j.input,j.config),finished:!0}):(n.File&&j.input instanceof File||j.input instanceof Object)&&(j=u.parse(j.input,j.config))&&n.postMessage({workerId:u.WORKER_ID,results:j,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,u})})(MR);var tye=MR.exports;const Rd=Je(tye),rye=()=>{qt();const[t,e]=k.useState(null),[r,n]=k.useState([]),[i,a]=k.useState(!1),[s,o]=k.useState(0),[l,u]=k.useState(null),d=k.useRef(null),f=D=>{const P=D.target.files[0];P&&P.type==="text/csv"?(e(P),h(P)):alert("Please select a valid CSV file")},h=D=>{Rd.parse(D,{header:!0,skipEmptyLines:!0,complete:P=>{const L=P.data.slice(0,10);n(L)},error:P=>{alert("Error parsing CSV file")}})},p=D=>{if(!D)return 1;const P=D.match(/-(\d+)/);return P?parseInt(P[1]):1},m=D=>({store_id:p(D["Invoice No."]),invoice_date:D["Invoice Date"]?new Date(D["Invoice Date"]).toISOString().split("T")[0]:null,invoice_no:D["Invoice No."]||"",po_no:D["PO No."]||"",vendor:D.Vendor||"",style:D.Style||"",color:D.Color||"",size:D.Size||"",product:D.Product||"",description:D.Description||"",department:D.Department||"",sold_qty:parseInt(D["Sold Qty"])||0,spec_qty:parseInt(D["Spec Qty"])||0,total_qty:parseInt(D["Total Qty"])||0,cost:parseFloat(D.Cost)||0,retail:parseFloat(D.Retail)||0,actual:parseFloat(D.Actual)||0}),g=async()=>{if(!t){alert("Please select a file");return}a(!0),o(0),u(null);try{Rd.parse(t,{header:!0,skipEmptyLines:!0,complete:async D=>{const P=D.data.map(m).filter(G=>G.invoice_date),L=100;let $=0,B=0;for(let G=0;G<P.length;G+=L){const Y=P.slice(G,G+L);try{(await fe.addSalesAnalysisBatch(Y)).success?$+=Y.length:B+=Y.length,o($/P.length*100)}catch{B+=Y.length}}u({success:!0,uploaded:$,failed:B,total:P.length}),a(!1)},error:D=>{u({success:!1,error:D.message}),a(!1)}})}catch(D){console.error("Upload failed:",D),u({success:!1,error:D.message}),a(!1)}},v=D=>{D.preventDefault();const P=D.dataTransfer.files[0];P&&P.type==="text/csv"&&(e(P),h(P))},x=D=>{D.preventDefault()},y=()=>{e(null),n([]),u(null),o(0),d.current&&(d.current.value="")},[b,S]=k.useState(null),[w,_]=k.useState([]),[E,j]=k.useState(!1),[A,T]=k.useState(null),O=k.useRef(null),C=D=>{const P=D.target.files[0];P&&(P.type==="text/csv"||P.type==="text/tab-separated-values"||P.name.endsWith(".tsv"))?(S(P),R(P)):alert("Please select a valid CSV or TSV file")},R=D=>{Rd.parse(D,{header:!0,skipEmptyLines:!0,delimiter:D.name.endsWith(".tsv")?"	":",",complete:P=>{const L=P.data.map(H).filter(G=>G.date&&G.store),$={};for(const G of L){const Y=`${G.date}_${G.store}`;$[Y]||($[Y]={date:G.date,store:G.store,sales_tax:0,net_sales:0,gross_sales:0,record_count:0}),$[Y].sales_tax+=parseFloat(G.sales_tax||0),$[Y].net_sales+=parseFloat(G.net_sales||0),$[Y].gross_sales+=parseFloat(G.gross_sales||0),$[Y].record_count+=1}const B=Object.values($).slice(0,10);_(B)},error:P=>{alert("Error parsing Trailer History file")}})},F=D=>{if(!D)return null;const P=D.match(/-(\d+)/);return P?parseInt(P[1]):null},H=D=>({date:D.Date?new Date(D.Date).toISOString():null,store:F(D["Ref No."]),sales_tax:parseFloat(D.Tax)||0,net_sales:parseFloat(D.Subtotal)||0,gross_sales:parseFloat(D.Total)||0}),V=async()=>{if(!b){alert("Please select a file");return}j(!0),T(null);try{Rd.parse(b,{header:!0,skipEmptyLines:!0,delimiter:b.name.endsWith(".tsv")?"	":",",complete:async D=>{const P=D.data.map(H).filter($=>$.date&&$.store),L=await fe.importTrailerHistory(P);T(L),j(!1)},error:D=>{T({success:!1,error:D.message}),j(!1)}})}catch(D){T({success:!1,error:D.message}),j(!1)}};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Sales Data Upload"}),c.jsx("p",{className:"mt-2 text-secondary-600",children:"Upload CSV files to import sales analysis data for all stores"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload CSV File"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:v,onDragOver:x,children:[c.jsx("input",{ref:d,type:"file",accept:".csv",onChange:f,className:"hidden"}),t?c.jsxs("div",{children:[c.jsx(ay,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:y,className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(sy,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV file here, or"," ",c.jsx("button",{onClick:()=>{var D;return(D=d.current)==null?void 0:D.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports CSV files with sales data for all stores"}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Store will be automatically detected from invoice number (e.g., INV-001-123 = Store 123)"})]})]})]}),r.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Data Preview"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",r.length," rows"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsx("tr",{children:Object.keys(r[0]||{}).map(D=>c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:D},D))})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((D,P)=>c.jsx("tr",{children:Object.values(D).map((L,$)=>c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 max-w-xs truncate",title:String(L),children:String(L)},$))},P))})]})})]}),t&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:g,disabled:i,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading... ",Math.round(s),"%"]}):"Upload Sales Data"})}),l&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${l.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[l.success?c.jsx(iy,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(ny,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${l.success?"text-green-900":"text-red-900"}`,children:l.success?"Upload Complete":"Upload Failed"}),c.jsx("p",{className:`text-sm ${l.success?"text-green-700":"text-red-700"}`,children:l.success?`Successfully uploaded ${l.uploaded} records${l.failed>0?`, ${l.failed} failed`:""}`:l.error})]})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Import Trailer History"}),c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${b?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,onDrop:D=>{D.preventDefault();const P=D.dataTransfer.files[0];P&&(S(P),R(P))},onDragOver:D=>D.preventDefault(),children:[c.jsx("input",{ref:O,type:"file",accept:".csv,.tsv",onChange:C,className:"hidden"}),b?c.jsxs("div",{children:[c.jsx(ay,{className:"mx-auto h-12 w-12 text-primary-500"}),c.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:b.name}),c.jsxs("p",{className:"text-xs text-gray-500",children:[(b.size/1024/1024).toFixed(2)," MB"]}),c.jsx("button",{onClick:()=>{S(null),_([]),T(null),O.current&&(O.current.value="")},className:"mt-2 text-sm text-red-600 hover:text-red-500",children:"Remove file"})]}):c.jsxs("div",{children:[c.jsx(sy,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Drag and drop a CSV or TSV file here, or"," ",c.jsx("button",{onClick:()=>{var D;return(D=O.current)==null?void 0:D.click()},className:"text-primary-600 hover:text-primary-500 font-medium",children:"browse"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports files with fields: Date, Ref No., Tax, Subtotal, Total, etc."}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Store will be detected from Ref No. (e.g., INV-001-123 = Store 123)"})]})]})]}),w.length>0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Trailer History Preview (Aggregated by Store & Date)"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Showing first ",w.length," aggregated records"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Store"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales Tax"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross Sales"}),c.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((D,P)=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:new Date(D.date).toLocaleDateString()}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:D.store}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",D.sales_tax.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",D.net_sales.toFixed(2)]}),c.jsxs("td",{className:"px-3 py-2 text-sm text-gray-900",children:["$",D.gross_sales.toFixed(2)]}),c.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:D.record_count})]},P))})]})}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Note:"})," Data is automatically aggregated by store and date. Multiple records for the same store on the same date will be summed together."]})})]}),b&&c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-secondary-200 p-6 mb-6",children:c.jsx("button",{onClick:V,disabled:E,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Importing..."]}):"Import Trailer History"})}),A&&c.jsx("div",{className:`bg-white rounded-lg shadow-sm border p-6 ${A.success?"border-green-200":"border-red-200"}`,children:c.jsxs("div",{className:"flex items-center",children:[A.success?c.jsx(iy,{className:"h-6 w-6 text-green-500 mr-3"}):c.jsx(ny,{className:"h-6 w-6 text-red-500 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-medium ${A.success?"text-green-900":"text-red-900"}`,children:A.success?"Import Complete":"Import Failed"}),c.jsx("p",{className:`text-sm ${A.success?"text-green-700":"text-red-700"}`,children:A.success?`Successfully processed ${A.processed||0} records${A.failed>0?`, ${A.failed} failed`:""}`:A.error})]})]})})]})})},Un=[{key:"monday",label:"Monday",short:"Mon"},{key:"tuesday",label:"Tuesday",short:"Tue"},{key:"wednesday",label:"Wednesday",short:"Wed"},{key:"thursday",label:"Thursday",short:"Thu"},{key:"friday",label:"Friday",short:"Fri"},{key:"saturday",label:"Saturday",short:"Sat"},{key:"sunday",label:"Sunday",short:"Sun"}],nye=({storeId:t,storeName:e,onSave:r,onCancel:n})=>{const[i,a]=k.useState({}),[s,o]=k.useState(!1),[l,u]=k.useState(!0),[d,f]=k.useState(null),[h,p]=k.useState(!1),m=k.useCallback(async y=>{if(!(!y||Object.keys(y).length===0))try{const b=Un.map((w,_)=>{var E,j,A;return{store_id:parseInt(t),day_of_week:parseInt(_),open_time:((E=y[w.key])==null?void 0:E.openTime)||"09:00",close_time:((j=y[w.key])==null?void 0:j.closeTime)||"17:00",is_open:!!((A=y[w.key])!=null&&A.isOpen)}}),S=await fe.saveStoreHours(t,b);if(S.success){const w=await fe.getStoreHours(t);if(w.success){const _={};Un.forEach((E,j)=>{const A=w.data.find(T=>parseInt(T.day_of_week)===j);_[E.key]={isOpen:(A==null?void 0:A.is_open)??!0,openTime:(A==null?void 0:A.open_time)||"09:00",closeTime:(A==null?void 0:A.close_time)||"17:00"}}),a(_)}f(new Date),p(!1),console.log("Auto-saved store hours successfully")}else console.error("Auto-save failed:",S.error)}catch(b){console.error("Auto-save error:",b)}},[t]);k.useEffect(()=>{t&&(async()=>{u(!0);try{const b=await fe.getStoreHours(t);if(b.success){const S={};Un.forEach((w,_)=>{const E=b.data.find(j=>j.day_of_week===_);S[w.key]={isOpen:(E==null?void 0:E.is_open)??!0,openTime:(E==null?void 0:E.open_time)||"09:00",closeTime:(E==null?void 0:E.close_time)||"17:00"}}),a(S),f(new Date),p(!1)}else{console.error("Error loading store hours:",b.error);const S={};Un.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(S)}}catch(b){console.error("Error loading store hours:",b);const S={};Un.forEach(w=>{S[w.key]={isOpen:!0,openTime:"09:00",closeTime:"17:00"}}),a(S)}finally{u(!1)}})()},[t]),k.useEffect(()=>{if(Object.keys(i).length>0&&h){const y=setTimeout(()=>{m(i)},2e3);return()=>clearTimeout(y)}},[i,h,m]);const g=(y,b,S)=>{a(w=>({...w,[y]:{...w[y],[b]:S}})),p(!0)},v=async()=>{o(!0);try{if(await m(i),r){const y=Un.map((b,S)=>{var w,_,E;return{store_id:parseInt(t),day_of_week:parseInt(S),open_time:((w=i[b.key])==null?void 0:w.openTime)||"09:00",close_time:((_=i[b.key])==null?void 0:_.closeTime)||"17:00",is_open:!!((E=i[b.key])!=null&&E.isOpen)}});await r(y)}}catch(y){console.error("Error saving store hours:",y)}finally{o(!1)}},x=y=>{const b=i[y],S={};Un.forEach(w=>{S[w.key]={...b}}),a(S)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Store Hours - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Set operating hours for each day of the week"}),d&&c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last saved: ",d.toLocaleTimeString(),h&&c.jsx("span",{className:"text-orange-600 ml-2",children:"• Unsaved changes"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:n,className:"btn-outline btn-sm",children:[c.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:v,disabled:s,className:"btn-primary btn-sm",children:[c.jsx(ib,{className:"w-4 h-4 mr-1"}),s?"Saving...":"Save Now"]})]})]}),l?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Loading store hours..."})]}):c.jsx("div",{className:"space-y-4",children:Un.map(y=>{var b,S,w,_,E;return c.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[c.jsx("div",{className:"w-24 flex-shrink-0",children:c.jsx("span",{className:"font-medium text-gray-900",children:y.label})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:`${y.key}-open`,checked:((b=i[y.key])==null?void 0:b.isOpen)||!1,onChange:j=>g(y.key,"isOpen",j.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:`${y.key}-open`,className:"text-sm text-gray-700",children:"Open"})]}),((S=i[y.key])==null?void 0:S.isOpen)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ca,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"time",value:((w=i[y.key])==null?void 0:w.openTime)||"09:00",onChange:j=>g(y.key,"openTime",j.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"}),c.jsx("span",{className:"text-gray-500",children:"to"}),c.jsx("input",{type:"time",value:((_=i[y.key])==null?void 0:_.closeTime)||"17:00",onChange:j=>g(y.key,"closeTime",j.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsx("button",{onClick:()=>x(y.key),className:"text-xs text-primary-600 hover:text-primary-800 underline",children:"Copy to all days"})]}),!((E=i[y.key])!=null&&E.isOpen)&&c.jsx("span",{className:"text-gray-500 text-sm",children:"Closed"})]},y.key)})}),c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>{const y=["monday","tuesday","wednesday","thursday","friday"],b={...i};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"19:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekdays 10-7"}),c.jsx("button",{onClick:()=>{const y=["saturday","sunday"],b={...i};y.forEach(S=>{b[S]={isOpen:!0,openTime:"10:00",closeTime:"18:00"}}),a(b)},className:"btn-outline btn-sm",children:"Set Weekend 10-6"}),c.jsx("button",{onClick:()=>{const y={};Un.forEach(b=>{y[b.key]={isOpen:!1,openTime:"09:00",closeTime:"17:00"}}),a(y)},className:"btn-outline btn-sm",children:"Set All Closed"})]})]})]})},iye=({storeId:t,storeName:e,staffData:r,onSaveShift:n,onDeleteShift:i,selectedDate:a=new Date})=>{const[s,o]=k.useState(a),[l,u]=k.useState([]),[d,f]=k.useState(!1),[h,p]=k.useState(null),[m,g]=k.useState({staffId:"",startTime:"09:00",endTime:"17:00",notes:""}),v=r.filter(N=>N.store_id===t),[x,y]=k.useState({});k.useEffect(()=>{y({0:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},1:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},2:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},3:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},4:{isOpen:!0,openTime:"10:00",closeTime:"19:00"},5:{isOpen:!0,openTime:"10:00",closeTime:"18:00"}})},[]);const S=(()=>{const N=new Set;Object.values(x).forEach(Q=>{Q.isOpen&&(N.add(Q.openTime),N.add(Q.closeTime))});const M=Array.from(N).sort(),W=[];return M.forEach((Q,ne)=>{if(ne<M.length-1){const ae=Q,pe=M[ne+1];W.push(ae);const de=parseInt(ae.split(":")[0]),me=parseInt(pe.split(":")[0]);for(let Ne=de+1;Ne<me;Ne++)W.push(`${Ne.toString().padStart(2,"0")}:00`)}}),W})(),w=N=>{if(!N||typeof N!="string")return console.warn("Invalid time value for formatting:",N),"--:--";try{const[M,W]=N.split(":").map(Number),Q=M>=12?"PM":"AM";return`${M===0?12:M>12?M-12:M}:${W.toString().padStart(2,"0")} ${Q}`}catch(M){return console.warn("Error formatting time:",N,M),"--:--"}},_=N=>x[N]||{isOpen:!1},E=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A=(N=>{const M=new Date(N),W=M.getDay(),Q=M.getDate()-W+(W===0?-6:1);M.setDate(Q);const ne=[];for(let ae=0;ae<6;ae++){const pe=new Date(M);pe.setDate(M.getDate()+ae),ne.push(pe)}return ne})(s);k.useEffect(()=>{A.length>0&&T()},[s,t,A]);const T=async()=>{try{const N=A[0].toISOString().split("T")[0],M=A[5].toISOString().split("T")[0],W=await fe.getScheduleAssignments(t,N,M);if(W.success){const Q=W.data.filter(ne=>{const ae=ne.startTime&&ne.endTime&&ne.staffId;return ae||console.warn("Filtering out invalid shift:",ne),ae});console.log("Valid shifts:",Q),u(Q)}}catch(N){console.error("Failed to load shifts:",N)}},O=()=>{const N=new Date(s);N.setDate(N.getDate()-7),o(N)},C=()=>{const N=new Date(s);N.setDate(N.getDate()+7),o(N)},R=()=>{o(new Date)},F=N=>N.toLocaleDateString("en-US",{month:"short",day:"numeric"}),H=N=>{const M=new Date;return N.toDateString()===M.toDateString()},V=N=>{if(!N||typeof N!="string")return console.warn("Invalid time value:",N),0;try{const[M,W]=N.split(":").map(Number);return M*60+W}catch(M){return console.warn("Error parsing time:",N,M),0}},D=(N,M)=>{if(!M.startTime||!M.endTime)return!1;const W=V(N),Q=V(M.startTime),ne=V(M.endTime);return W>=Q&&W<ne},P=(N,M)=>{p({dayIndex:N,timeSlot:M}),g({staffId:"",startTime:M,endTime:L(M),notes:""}),f(!0)},L=N=>{const[M]=N.split(":");return`${(parseInt(M)+1).toString().padStart(2,"0")}:00`},$=async()=>{if(!m.staffId){alert("Please select a staff member");return}const N={storeId:t,staffId:m.staffId,date:A[h.dayIndex].toISOString().split("T")[0],startTime:m.startTime,endTime:m.endTime,notes:m.notes};try{const M=await fe.saveScheduleAssignment(N);M.success?(u(W=>[...W,M.data]),n&&n(M.data)):alert("Failed to save shift: "+M.error)}catch(M){console.error("Error saving shift:",M),alert("An unexpected error occurred while saving the shift.")}f(!1),p(null),g({staffId:"",startTime:"09:00",endTime:"17:00",notes:""})},B=async N=>{if(window.confirm("Are you sure you want to delete this shift?"))try{const M=await fe.deleteScheduleAssignment(N);M.success?(u(W=>W.filter(Q=>Q.id!==N)),i&&i(N)):alert("Failed to delete shift: "+M.error)}catch(M){console.error("Error deleting shift:",M),alert("An unexpected error occurred while deleting the shift.")}},G=N=>{const M=v.find(W=>W.id===N||W.id===parseInt(N));return M?M.name:`Unknown (ID: ${N})`},Y=(N,M)=>{if(!N||!M)return console.warn("Missing start or end time:",{startTime:N,endTime:M}),0;const W=V(N),Q=V(M);return Math.max(0,(Q-W)/60)},oe=()=>{const N={};let M=0,W=0;return l.forEach(Q=>{if(!Q.startTime||!Q.endTime||!Q.staffId){console.warn("Skipping invalid shift:",Q);return}const ne=Y(Q.startTime,Q.endTime),ae=v.find(pe=>pe.id===Q.staffId||pe.id===parseInt(Q.staffId));if(ae){N[ae.id]||(N[ae.id]={name:ae.name,hours:0,cost:0}),N[ae.id].hours+=ne;let pe=0;if(ae.payType==="hourly")pe=ne*(ae.hourlyRate||0);else if(ae.payType==="salary"||ae.payType==="salary+bonus"){const me=(ae.salaryAmount||0)/365,X=ne/8;pe=me*X}N[ae.id].cost+=pe,M+=ne,W+=pe}}),{staffTotals:N,storeTotalHours:M,storeTotalCost:W}},{staffTotals:ue,storeTotalHours:z,storeTotalCost:K}=oe(),ee=(N,M)=>{const W=A[N].toISOString().split("T")[0];return l.filter(Q=>Q.date===W&&D(M,Q))},q=(N,M)=>{const W=A[N].toISOString().split("T")[0];return l.some(Q=>Q.date===W&&Q.startTime===M)},re=(N,M)=>{const W=A[N].toISOString().split("T")[0];return l.find(Q=>Q.date===W&&Q.startTime===M)},ie=N=>{const M=A[N].toISOString().split("T")[0];return l.filter(W=>W.date===M)};return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Weekly Schedule - ",e]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[F(A[0])," - ",F(A[5])]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:O,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(rb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:R,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Today"}),c.jsx("button",{onClick:C,className:"p-2 text-gray-400 hover:text-gray-600",children:c.jsx(nb,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Week Totals"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-xs font-medium text-blue-800 mb-2",children:"Staff Hours:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.values(ue).map(N=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded border",children:[c.jsx("div",{className:"font-medium text-blue-900",children:N.name}),c.jsxs("div",{className:"text-blue-700",children:[N.hours.toFixed(1)," hours"]}),c.jsxs("div",{className:"text-blue-600",children:["$",N.cost.toFixed(2)]})]},N.name))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Hours"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:[z.toFixed(1)," hours"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded border",children:[c.jsx("div",{className:"text-sm font-medium text-blue-900",children:"Store Total Cost"}),c.jsxs("div",{className:"text-lg font-bold text-blue-700",children:["$",K.toFixed(2)]})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("div",{className:"min-w-[800px]",children:[c.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2",children:[c.jsx("div",{className:"h-12"})," ",A.map((N,M)=>c.jsxs("div",{className:`h-12 flex flex-col items-center justify-center border rounded ${H(N)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[c.jsx("div",{className:"text-xs font-medium text-gray-600",children:E[M].slice(0,3)}),c.jsx("div",{className:`text-sm font-semibold ${H(N)?"text-blue-700":"text-gray-900"}`,children:N.getDate()})]},M))]}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[c.jsx("div",{className:"space-y-1",children:S.map(N=>c.jsx("div",{className:"h-12 flex items-center justify-end pr-2 text-xs text-gray-500",children:w(N)},N))}),A.map((N,M)=>{const W=_(M);return c.jsx("div",{className:"space-y-1 relative",children:S.map(Q=>{if(!(W.isOpen&&V(Q)>=V(W.openTime)&&V(Q)<V(W.closeTime)))return c.jsx("div",{className:"h-12 border border-gray-100 bg-gray-50"},Q);const ae=ee(M,Q);return q(M,Q),re(M,Q),c.jsx("div",{className:`h-12 border border-gray-200 rounded cursor-pointer transition-colors relative ${ae.length>0?"bg-green-100 border-green-300 hover:bg-green-200":"hover:bg-gray-50"}`,onClick:()=>P(M,Q),children:ae.length>0&&c.jsxs("div",{className:"p-1 h-full flex flex-col justify-center",children:[ae.slice(0,2).map((pe,de)=>c.jsx("div",{className:"text-xs font-medium text-green-800 truncate",children:G(pe.staffId)},pe.id)),ae.length>2&&c.jsxs("div",{className:"text-xs text-green-600",children:["+",ae.length-2," more"]})]})},Q)})},M)})]})]})}),c.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"This Week's Shifts"}),c.jsx("div",{className:"space-y-2",children:A.map((N,M)=>{const W=ie(M);return W.length===0?null:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium text-gray-700 mb-1",children:[E[M]," (",F(N),")"]}),c.jsx("div",{className:"space-y-1",children:W.map(Q=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Za,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"font-medium",children:G(Q.staffId)}),c.jsx(ca,{className:"w-4 h-4 text-gray-400"}),c.jsxs("span",{className:"text-gray-600",children:[w(Q.startTime)," - ",w(Q.endTime)]})]}),c.jsx("button",{onClick:()=>B(Q.id),className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]},Q.id))})]},M)})})]}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Shift"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),c.jsxs("select",{value:m.staffId,onChange:N=>g(M=>({...M,staffId:N.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[c.jsx("option",{value:"",children:"Select staff member"}),v.map(N=>c.jsxs("option",{value:N.id,children:[N.name," (",N.role,")"]},N.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:m.startTime,onChange:N=>g(M=>({...M,startTime:N.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:m.endTime,onChange:N=>g(M=>({...M,endTime:N.target.value})),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),c.jsx("textarea",{value:m.notes,onChange:N=>g(M=>({...M,notes:N.target.value})),rows:"3",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Any special instructions or notes..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),c.jsx("button",{onClick:$,className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Add Shift"})]})]})})]})},aye=({storeId:t,storeName:e,staffData:r,storeHours:n,commissionTiers:i,onSave:a,onCancel:s})=>{const[o,l]=k.useState([]),[u,d]=k.useState([]),[f,h]=k.useState([]),[p,m]=k.useState({minStaffing:2,maxConsecutiveHours:8,lunchBreakRequired:!0,lunchBreakDuration:30,minShiftDuration:3,maxHoursPerWeek:40,preferredHoursPerWeek:32}),[g,v]=k.useState([]),[x,y]=k.useState(!1),[b,S]=k.useState(new Date),w=r.filter($=>$.store_id===t);k.useEffect(()=>{(async()=>{try{const B=await fe.getStoreHours(t);B.success&&d(B.data||[]);const G=await fe.getCommissionTiers(t);G.success&&h(G.data||[])}catch(B){console.error("Error fetching store data:",B)}})()},[t]);const E=($=>{const B=new Date($),G=B.getDay(),Y=B.getDate()-G+(G===0?-6:1);B.setDate(Y);const oe=[];for(let ue=0;ue<6;ue++){const z=new Date(B);z.setDate(B.getDate()+ue),oe.push(z)}return oe})(b),j=$=>{if(!$)return"";const[B,G]=$.split(":"),Y=parseInt(B),oe=Y>=12?"PM":"AM";return`${Y%12||12}:${G} ${oe}`},A=()=>w.map($=>{const B=T($.id),G=Math.max(0,p.maxHoursPerWeek-B);return{id:$.id,name:$.name,role:$.role,preferredHours:$.preferredHoursPerWeek||p.preferredHoursPerWeek,maxHours:$.maxHoursPerWeek||p.maxHoursPerWeek,currentHours:B,availableHours:G,hourlyRate:$.hourlyRate||0,commissionRate:O($.id)}}),T=$=>(E[0].toISOString().split("T")[0],E[5].toISOString().split("T")[0],0),O=$=>0,C=$=>{const B=u.find(Y=>Y.day_of_week===$);return B?{isOpen:B.is_open,openTime:B.open_time,closeTime:B.close_time}:[{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"19:00"},{isOpen:!0,openTime:"10:00",closeTime:"18:00"}][$]||{isOpen:!1,openTime:"10:00",closeTime:"19:00"}},R=()=>{y(!0);try{const $=A(),B=[],G=[];E.forEach((Y,oe)=>{const ue=C(oe);if(!ue.isOpen)return;const z=F(Y,$,ue,G,oe);B.push(...z)}),l(B),v(G)}catch($){console.error("Error generating schedule:",$)}finally{y(!1)}},F=($,B,G,Y,oe)=>{const ue=[],z=[...B].sort((M,W)=>W.availableHours-M.availableHours),K=new Date(`2000-01-01T${G.openTime}`),q=(new Date(`2000-01-01T${G.closeTime}`)-K)/(1e3*60*60),re=Math.max(p.minStaffing,Math.ceil(q/8));let ie=0,N=new Date(K);for(;ie<re&&z.length>0;){const M=z.shift();if(M.availableHours<p.minShiftDuration){Y.push({type:"insufficient_hours",staff:M.name,date:$.toISOString().split("T")[0],message:`${M.name} has insufficient available hours (${M.availableHours}h)`});continue}const W=Math.min(M.availableHours,Math.max(p.minShiftDuration,8));let Q=new Date(N);if(Q.setHours(Q.getHours()+W),W>5&&p.lunchBreakRequired){const ne=new Date(N);ne.setHours(ne.getHours()+Math.floor(W/2));const ae=new Date(ne);ae.setMinutes(ae.getMinutes()+p.lunchBreakDuration),ue.push({id:Date.now()+Math.random(),store_id:t,staff_id:M.id,staff_name:M.name,date:$.toISOString().split("T")[0],day_index:oe,start_time:N.toTimeString().slice(0,5),end_time:ne.toTimeString().slice(0,5),notes:"Auto-generated (before lunch)"}),ue.push({id:Date.now()+Math.random()+1,store_id:t,staff_id:M.id,staff_name:M.name,date:$.toISOString().split("T")[0],day_index:oe,start_time:ae.toTimeString().slice(0,5),end_time:Q.toTimeString().slice(0,5),notes:"Auto-generated (after lunch)"})}else ue.push({id:Date.now()+Math.random(),store_id:t,staff_id:M.id,staff_name:M.name,date:$.toISOString().split("T")[0],day_index:oe,start_time:N.toTimeString().slice(0,5),end_time:Q.toTimeString().slice(0,5),notes:"Auto-generated"});ie++,N=new Date(Q),M.availableHours-=W}return ue},H=$=>{const B=w.find(z=>z.id===$.staff_id);if(!B)return 0;const G=new Date(`2000-01-01T${$.start_time}`),oe=(new Date(`2000-01-01T${$.end_time}`)-G)/(1e3*60*60);let ue=0;if(B.payType==="hourly")ue=oe*(B.hourlyRate||0);else if(B.payType==="salary"||B.payType==="salary+bonus"){const K=(B.salaryAmount||0)/365,q=oe/8;if(ue=K*q,B.payType==="salary+bonus"){const re=oe*O(B.id)/100;ue+=re}}return ue},V=()=>o.reduce(($,B)=>$+H(B),0),D=async()=>{if(o.length===0){alert("No schedules to save. Please generate a schedule first.");return}y(!0);try{const $=o.map(B=>({store_id:t,staff_id:B.staff_id,date:B.date,start_time:B.start_time,end_time:B.end_time,notes:B.notes||"",created_at:new Date().toISOString()}));await a($),alert("Schedule saved successfully!")}catch($){console.error("Error saving schedule:",$),alert("Error saving schedule. Please try again.")}finally{y(!1)}},L=(()=>{const $={};return E.forEach((B,G)=>{const Y=B.toISOString().split("T")[0];$[Y]={date:B,dayIndex:G,schedules:o.filter(oe=>oe.date===Y)}}),$})();return c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Auto Scheduler - ",e]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Generate optimal schedules based on store hours and staff availability"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:s,className:"btn-outline btn-sm",children:[c.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Cancel"]}),c.jsxs("button",{onClick:D,disabled:x||o.length===0,className:"btn-primary btn-sm",children:[c.jsx(ib,{className:"w-4 h-4 mr-1"}),x?"Saving...":"Save Schedule"]})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[c.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:["Store Staff (",w.length," employees)"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:A().map($=>c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium text-blue-900",children:$.name}),c.jsxs("div",{className:"text-blue-700",children:["Available: ",$.availableHours,"h / ",$.maxHours,"h"]}),c.jsxs("div",{className:"text-blue-600",children:["Rate: $",$.hourlyRate,"/hr"]})]},$.id))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Pf,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Scheduling Rules"})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Staffing"}),c.jsx("input",{type:"number",min:"1",max:"10",value:p.minStaffing,onChange:$=>m(B=>({...B,minStaffing:parseInt($.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Hours"}),c.jsx("input",{type:"number",min:"1",max:"12",value:p.maxConsecutiveHours,onChange:$=>m(B=>({...B,maxConsecutiveHours:parseInt($.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Shift Duration"}),c.jsx("input",{type:"number",min:"1",max:"8",value:p.minShiftDuration,onChange:$=>m(B=>({...B,minShiftDuration:parseInt($.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Hours/Week"}),c.jsx("input",{type:"number",min:"20",max:"60",value:p.maxHoursPerWeek,onChange:$=>m(B=>({...B,maxHoursPerWeek:parseInt($.target.value)})),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:R,disabled:x,className:"w-full btn-primary",children:[c.jsx(qk,{className:"w-4 h-4 mr-2"}),x?"Generating Schedule...":"Generate Auto Schedule"]})}),g.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(RF,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("h4",{className:"text-sm font-medium text-red-900",children:"Scheduling Conflicts"})]}),c.jsx("div",{className:"space-y-2",children:g.map(($,B)=>c.jsxs("div",{className:"text-sm text-red-700",children:[c.jsxs("strong",{children:[$.date,":"]})," ",$.message]},B))})]}),o.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Generated Schedule (",o.length," shifts)"]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Tn,{className:"w-4 h-4 text-green-600"}),c.jsxs("span",{className:"font-medium text-green-600",children:["Total Pay: $",V().toFixed(2)]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border border-gray-300",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100",children:[c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Mon"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Tue"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Wed"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Thu"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Fri"}),c.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium",children:"Sat"})]})}),c.jsx("tbody",{children:Object.values(L).map(($,B)=>{const G=$.schedules,Y=Math.max(1,G.length);return Array.from({length:Y},(oe,ue)=>c.jsx("tr",{children:E.map((z,K)=>{const ee=L[z.toISOString().split("T")[0]],q=(ee==null?void 0:ee.schedules)||[],re=q[ue];return re?c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:re.staff_name}),c.jsxs("div",{className:"text-gray-600",children:[j(re.start_time)," - ",j(re.end_time)]})]})},K):c.jsx("td",{className:"border border-gray-300 px-4 py-2",children:ue===0&&q.length===0&&c.jsx("div",{className:"text-sm text-gray-400 italic",children:"No shifts"})},K)})},`${$.date}-${ue}`))})})]})})]})]})},sye=()=>{const{staffData:t}=qt(),[e,r]=k.useState("main"),[n,i]=k.useState(null),[a,s]=k.useState([]),[o,l]=k.useState(!0),[u,d]=k.useState(null);k.useEffect(()=>{(async()=>{try{const v=await fe.getStores();v.success?(console.log("📊 Loaded stores:",v.data),s(v.data)):console.error("Error fetching stores:",v.error)}catch(v){console.error("Error fetching stores:",v)}finally{l(!1)}})()},[]);const f=(g,v)=>{i(v),r(g)},h=()=>{r("main"),i(null)},p=async g=>{try{const v=await fe.saveStoreHours(n.id,g);v.success?(alert("Store hours saved successfully!"),h()):alert(`Error saving store hours: ${v.error}`)}catch(v){alert(`Error saving store hours: ${v.message}`)}},m=async g=>{try{const v=g.map(b=>fe.saveScheduleAssignment(b)),y=(await Promise.all(v)).filter(b=>!b.success);y.length===0?(alert("Auto-generated schedule saved successfully!"),h()):alert(`Error saving some schedules: ${y.length} failed out of ${g.length}`)}catch(v){alert(`Error saving auto schedule: ${v.message}`)}};return e==="store-hours"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(nye,{storeId:n.id,storeName:n.name,onSave:p,onCancel:h})]}):e==="schedule"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(iye,{storeId:n.id,storeName:n.name,staffData:t})]}):e==="auto-scheduler"&&n?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:h,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]})}),c.jsx(aye,{storeId:n.id,storeName:n.name,staffData:t,storeHours:[],onSave:m,onCancel:h})]}):e==="holiday-manager"?c.jsx(oye,{onBack:h}):o?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(g=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},g))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scheduler"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Hover over a store to see available scheduling actions"})]}),c.jsx("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-1 gap-6",children:c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("holiday-manager"),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-green-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"text-gray-600",children:"Manage holidays for all stores"}),c.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Click to manage →"})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>c.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all duration-200",onMouseEnter:()=>d(g.id),onMouseLeave:()=>d(null),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-8 h-8 text-blue-600 mr-4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",g.number]})]})]}),u===g.id&&c.jsx("div",{className:"absolute inset-0 bg-blue-50 bg-opacity-95 rounded-lg p-4 flex flex-col justify-center",children:c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>f("store-hours",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(ca,{className:"w-4 h-4 mr-2"}),"Manage Hours"]}),c.jsxs("button",{onClick:()=>f("schedule",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600",children:[c.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Weekly Calendar"]}),g.name!=="Camper"&&g.name!=="Trailer"&&c.jsxs("button",{onClick:()=>f("auto-scheduler",g),className:"flex items-center justify-center p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-sm font-medium text-gray-700 hover:text-blue-600 col-span-2",children:[c.jsx(qk,{className:"w-4 h-4 mr-2"}),"Auto Schedule"]})]})})]},g.id))})]})},oye=({onBack:t})=>{const[e,r]=k.useState([]),[n,i]=k.useState({}),[a,s]=k.useState(!0),[o,l]=k.useState({name:"",date:""}),[u,d]=k.useState(null);k.useEffect(()=>{(async()=>{try{const g=await fe.getStores();if(g.success){r(g.data);const v={};for(const x of g.data){const y=await fe.getStoreHolidays(x.id);y.success&&(v[x.id]=y.data||[])}i(v)}}catch(g){console.error("Error fetching data:",g)}finally{s(!1)}})()},[]);const f=async m=>{if(!o.name.trim()||!o.date){alert("Please fill in both holiday name and date");return}try{const g={store_id:m,holiday_name:o.name.trim(),holiday_date:o.date,is_closed:!0},v=await fe.saveStoreHolidays(m,[g]);if(v.success){const x=await fe.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),l({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${v.error}`)}catch(g){alert(`Error adding holiday: ${g.message}`)}},h=async(m,g)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const v=await fe.deleteStoreHoliday(m,g);if(v.success){const x=await fe.getStoreHolidays(m);x.success&&i(y=>({...y,[m]:x.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${v.error}`)}catch(v){alert(`Error deleting holiday: ${v.message}`)}},p=async(m,g,v)=>{try{const x=await fe.updateStoreHoliday(m,g,v);if(x.success){const y=await fe.getStoreHolidays(m);y.success&&i(b=>({...b,[m]:y.data||[]})),d(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${x.error}`)}catch(x){alert(`Error updating holiday: ${x.message}`)}};return a?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:t,className:"text-primary-600 hover:text-primary-800 mb-4 flex items-center",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Back to Scheduler"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(m=>{const g=n[m.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Cr,{className:"w-4 h-4 mr-1"}),g.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:o.name,onChange:v=>l(x=>({...x,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:o.date,onChange:v=>l(x=>({...x,date:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>f(m.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:g.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):g.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:u===v.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:v.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${v.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:v.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${v.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const x=document.getElementById(`edit-name-${v.id}`).value,y=document.getElementById(`edit-date-${v.id}`).value;p(m.id,v.id,{holiday_name:x,holiday_date:y})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>d(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:v.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(v.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>d(v.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(m.id,v.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(da,{className:"w-4 h-4"})})]})]})},v.id))})]})]},m.id)})})]})},lye=()=>{const{staffData:t}=qt(),[e,r]=k.useState([]),[n,i]=k.useState(!0),[a,s]=k.useState({}),[o,l]=k.useState(()=>{const m=new Date,g=new Date(m.getFullYear(),m.getMonth(),1),v=new Date(m.getFullYear(),m.getMonth()+1,0);return{startDate:g.toISOString().split("T")[0],endDate:v.toISOString().split("T")[0]}});k.useEffect(()=>{(async()=>{try{const g=await fe.getStores();g.success&&(r(g.data),await u(g.data))}catch(g){console.error("Error fetching data:",g)}finally{i(!1)}})()},[o]);const u=async m=>{const g={};for(const v of m)try{const x=t.filter(w=>w.store_id===v.id),y=await fe.getScheduleAssignmentsForDateRange(v.id,o.startDate,o.endDate),b=await fe.getSalesForDateRange(v.name,o.startDate,o.endDate),S=[];for(const w of x){const _=await fe.getStaffBonusTiers(w.id),E={...w,bonus_tiers:_.success?_.data:[]},j=d(y.data||[],w.id),A=b.data||[],T=f(E,j,A);S.push({staff:E,hours:j,sales:A,payroll:T})}g[v.id]={store:v,staffPayroll:S,totalHours:S.reduce((w,_)=>w+_.hours,0),totalSales:b.data?b.data.reduce((w,_)=>w+(parseFloat(_.gross_sales)||0),0):0,totalPayroll:S.reduce((w,_)=>w+_.payroll.total,0)}}catch(x){console.error(`Error calculating payroll for store ${v.name}:`,x),g[v.id]={store:v,staffPayroll:[],totalHours:0,totalSales:0,totalPayroll:0,error:x.message}}s(g)},d=(m,g)=>{let v=0;return m.forEach(x=>{if(x.staff_id===g&&x.slot){const y=new Date(`2000-01-01T${x.slot.start_time}`),S=(new Date(`2000-01-01T${x.slot.end_time}`)-y)/(1e3*60*60);v+=S}}),v},f=(m,g,v)=>{let x=0,y=0;if(m.pay_type==="salary"||m.pay_type==="salary+bonus"){const S=m.salary_amount||0,[w,_,E]=o.startDate.split("-").map(Number),[j,A,T]=o.endDate.split("-").map(Number),O=new Date(w,_-1,E),C=new Date(j,A-1,T),R=Math.ceil((C-O)/(1e3*60*60*24))+1;x=S/365*R,y=g>0?x/g:0}else y=m.hourly_rate||15,x=g*y;let b=0;if(m.bonus_tiers&&m.bonus_tiers.length>0){const S=v.reduce((E,j)=>E+(parseFloat(j.gross_sales)||0),0),_=m.bonus_tiers.sort((E,j)=>j.sales_target-E.sales_target).find(E=>S>=E.sales_target);_&&(b=_.bonus_amount)}return{basePay:x,bonus:b,total:x+b,hourlyRate:y,totalSales:v.reduce((S,w)=>S+(parseFloat(w.gross_sales)||0),0),payType:m.pay_type||"hourly"}},h=(m,g)=>{l(v=>{let x;if(m==="startDate"){const y=new Date(g),b=new Date(y.getFullYear(),y.getMonth()+1,0);x={startDate:g,endDate:b.toISOString().split("T")[0]}}else if(m==="endDate"){const y=new Date(g);x={startDate:new Date(y.getFullYear(),y.getMonth(),1).toISOString().split("T")[0],endDate:g}}else x={...v,[m]:g};return x})},p=m=>{l(g=>{const[v,x,y]=g.startDate.split("-").map(Number),b=new Date(v,x-1,y);let S,w;if(m==="forward")S=new Date(b.getFullYear(),b.getMonth()+1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(m==="backward")S=new Date(b.getFullYear(),b.getMonth()-1,1),w=new Date(S.getFullYear(),S.getMonth()+1,0);else if(m==="current"){const _=new Date;S=new Date(_.getFullYear(),_.getMonth(),1),w=new Date(_.getFullYear(),_.getMonth()+1,0)}return{startDate:S.toISOString().split("T")[0],endDate:w.toISOString().split("T")[0]}})};return n?c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and calculating bonuses..."})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(vo,{className:"w-8 h-8 text-green-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bonuses"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"View bonus calculations based on actual hours and sales data"})]})]})}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Date Range"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>p("backward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Previous Month",children:c.jsx(rb,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[120px] text-center",children:(()=>{const[m,g,v]=o.startDate.split("-").map(Number);return new Date(m,g-1,v).toLocaleDateString("en-US",{month:"long",year:"numeric"})})()}),c.jsx("button",{onClick:()=>p("forward"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Next Month",children:c.jsx(nb,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>p("current"),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Go to Current Month",children:"Today"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",value:o.startDate,onChange:m=>h("startDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",value:o.endDate,onChange:m=>h("endDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(Mc,{className:"w-5 h-5 mr-2 text-green-600"}),"Overall Summary"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Stores"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalHours)||0),0).toFixed(1)}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalSales)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Object.values(a).reduce((m,g)=>m+((g==null?void 0:g.totalPayroll)||0),0).toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Payroll"})]})]})]}),c.jsx("div",{className:"space-y-6",children:e.map(m=>{const g=a[m.id];if(!g)return c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsx("div",{className:"text-gray-500",children:"Loading..."})]})},m.id);const{staffPayroll:v,totalHours:x,totalSales:y,totalPayroll:b,error:S}=g;return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",m.number]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Total Payroll"}),c.jsxs("div",{className:"text-xl font-bold text-green-600",children:["$",b.toFixed(2)]})]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Hours:"}),c.jsx("span",{className:"ml-2 font-medium",children:x.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Total Sales:"}),c.jsxs("span",{className:"ml-2 font-medium",children:["$",y.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Staff Count:"}),c.jsx("span",{className:"ml-2 font-medium",children:v.length})]})]})]}),c.jsx("div",{className:"p-6",children:S?c.jsxs("div",{className:"text-red-600 text-center py-4",children:["Error loading data: ",S]}):v.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff assigned to this store"}):c.jsx("div",{className:"space-y-4",children:v.map(({staff:w,hours:_,sales:E,payroll:j})=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:w.name}),c.jsx("p",{className:"text-sm text-gray-600",children:w.role||"Staff Member"})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",j.total.toFixed(2)]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Total Pay"})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Hours"}),c.jsx("p",{className:"font-medium",children:_.toFixed(1)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Rate"}),c.jsx("p",{className:"font-medium",children:j.payType==="salary"||j.payType==="salary+bonus"?`$${j.hourlyRate.toFixed(2)}/hr (effective)`:`$${j.hourlyRate}/hr`})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Base Pay"}),c.jsxs("p",{className:"font-medium",children:["$",j.basePay.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Bonus"}),c.jsxs("p",{className:"font-medium text-green-600",children:["$",j.bonus.toFixed(2)]})]})]}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sales Generated:"}),c.jsxs("span",{className:"font-medium",children:["$",j.totalSales.toFixed(2)]})]})})]},w.id))})})]},m.id)})})]})},cye=()=>{const[t,e]=k.useState([]),[r,n]=k.useState({}),[i,a]=k.useState(!0);k.useState(null);const[s,o]=k.useState({name:"",date:""}),[l,u]=k.useState(null);k.useEffect(()=>{(async()=>{try{const m=await fe.getStores();if(m.success){e(m.data);const g={};for(const v of m.data){const x=await fe.getStoreHolidays(v.id);x.success&&(g[v.id]=x.data||[])}n(g)}}catch(m){console.error("Error fetching data:",m)}finally{a(!1)}})()},[]);const d=async p=>{if(!s.name.trim()||!s.date){alert("Please fill in both holiday name and date");return}try{const m={store_id:p,holiday_name:s.name.trim(),holiday_date:s.date,is_closed:!0},g=await fe.saveStoreHolidays(p,[m]);if(g.success){const v=await fe.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),o({name:"",date:""}),alert("Holiday added successfully!")}else alert(`Error adding holiday: ${g.error}`)}catch(m){alert(`Error adding holiday: ${m.message}`)}},f=async(p,m)=>{if(confirm("Are you sure you want to delete this holiday?"))try{const g=await fe.deleteStoreHoliday(p,m);if(g.success){const v=await fe.getStoreHolidays(p);v.success&&n(x=>({...x,[p]:v.data||[]})),alert("Holiday deleted successfully!")}else alert(`Error deleting holiday: ${g.error}`)}catch(g){alert(`Error deleting holiday: ${g.message}`)}},h=async(p,m,g)=>{try{const v=await fe.updateStoreHoliday(p,m,g);if(v.success){const x=await fe.getStoreHolidays(p);x.success&&n(y=>({...y,[p]:x.data||[]})),u(null),alert("Holiday updated successfully!")}else alert(`Error updating holiday: ${v.error}`)}catch(v){alert(`Error updating holiday: ${v.message}`)}};return i?c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading stores and holidays..."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(p=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded mr-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},p))})]}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-8 h-8 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Holiday Manager"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Manage holidays for all stores"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:t.map(p=>{const m=r[p.id]||[];return c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(bn,{className:"w-6 h-6 text-blue-600 mr-3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:p.name}),c.jsxs("p",{className:"text-gray-600",children:["Store #",p.number]})]})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[c.jsx(Cr,{className:"w-4 h-4 mr-1"}),m.length," holidays"]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[c.jsx(Cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Store Holidays"]}),c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Add New Holiday"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",value:s.name,onChange:g=>o(v=>({...v,name:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Christmas Day"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:s.date,onChange:g=>o(v=>({...v,date:g.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("button",{onClick:()=>d(p.id),className:"mt-3 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),"Add Holiday"]})]}),c.jsx("div",{className:"space-y-3",children:m.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No holidays set for this store"}):m.map(g=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:l===g.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name"}),c.jsx("input",{type:"text",defaultValue:g.holiday_name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-name-${g.id}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("input",{type:"date",defaultValue:g.holiday_date,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",id:`edit-date-${g.id}`})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>{const v=document.getElementById(`edit-name-${g.id}`).value,x=document.getElementById(`edit-date-${g.id}`).value;h(p.id,g.id,{holiday_name:v,holiday_date:x})},className:"bg-green-600 text-white py-1 px-3 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Save"}),c.jsx("button",{onClick:()=>u(null),className:"bg-gray-600 text-white py-1 px-3 rounded-md hover:bg-gray-700 transition-colors text-sm",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium text-gray-900",children:g.holiday_name}),c.jsx("p",{className:"text-sm text-gray-600",children:new Date(g.holiday_date).toLocaleDateString()})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>u(g.id),className:"text-blue-600 hover:text-blue-800 p-1",children:c.jsx(fs,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>f(p.id,g.id),className:"text-red-600 hover:text-red-800 p-1",children:c.jsx(da,{className:"w-4 h-4"})})]})]})},g.id))})]})]},p.id)})}),c.jsx("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Cr,{className:"w-6 h-6 text-green-600"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-green-900",children:"Holiday Management"}),c.jsx("p",{className:"text-green-700",children:"Manage holidays for all stores in one centralized location. Each store can have its own set of holidays that apply to all staff members."})]})]})})]})};function uye(){return c.jsx(OF,{children:c.jsx(s4,{children:c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(NB,{}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(JL,{children:[c.jsx(sr,{path:"/",element:c.jsx(XL,{to:"/dashboard",replace:!0})}),c.jsx(sr,{path:"/dashboard",element:c.jsx(tde,{})}),c.jsx(sr,{path:"/venues",element:c.jsx(nde,{})}),c.jsx(sr,{path:"/staff",element:c.jsx(ade,{})}),c.jsx(sr,{path:"/tasks",element:c.jsx(ode,{})}),c.jsx(sr,{path:"/calendar",element:c.jsx(qve,{})}),c.jsx(sr,{path:"/daily-sales",element:c.jsx(Kve,{})}),c.jsx(sr,{path:"/messages",element:c.jsx(Zve,{})}),c.jsx(sr,{path:"/pay-calculator",element:c.jsx(Jve,{})}),c.jsx(sr,{path:"/sales-analysis",element:c.jsx(eye,{})}),c.jsx(sr,{path:"/sales-upload",element:c.jsx(rye,{})}),c.jsx(sr,{path:"/scheduler",element:c.jsx(sye,{})}),c.jsx(sr,{path:"/bonuses",element:c.jsx(lye,{})}),c.jsx(sr,{path:"/holiday-manager",element:c.jsx(cye,{})})]})})]})})})}Jg.createRoot(document.getElementById("root")).render(c.jsx(U.StrictMode,{children:c.jsx(uye,{})}));
//# sourceMappingURL=index-0f6c12f2.js.map
